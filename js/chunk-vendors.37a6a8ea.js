(self["webpackChunkgeoportal_extensions_openlayers_samples"]=self["webpackChunkgeoportal_extensions_openlayers_samples"]||[]).push([[504],{953:function(t,e,n){"use strict";n.d(e,{C4:function(){return A},EW:function(){return St},Gc:function(){return ft},IG:function(){return Et},IJ:function(){return Gt},KR:function(){return Tt},Kh:function(){return gt},Pr:function(){return Nt},R1:function(){return Ot},X2:function(){return c},bl:function(){return y},fE:function(){return _t},g8:function(){return yt},hZ:function(){return M},i9:function(){return Rt},ju:function(){return Ct},o5:function(){return l},u4:function(){return P},ux:function(){return It},yC:function(){return s}});var i=n(33);
/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let r,o;class s{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=r,!t&&r&&(this.index=(r.scopes||(r.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const e=r;try{return r=this,t()}finally{r=e}}else 0}on(){r=this}off(){r=this.parent}stop(t){if(this._active){let e,n;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.parent=void 0,this._active=!1}}}function a(t,e=r){e&&e.active&&e.effects.push(t)}function l(){return r}class c{constructor(t,e,n,i){this.fn=t,this.trigger=e,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,a(this,i)}get dirty(){if(2===this._dirtyLevel||3===this._dirtyLevel){this._dirtyLevel=1,A();for(let t=0;t<this._depsLength;t++){const e=this.deps[t];if(e.computed&&(u(e.computed),this._dirtyLevel>=4))break}1===this._dirtyLevel&&(this._dirtyLevel=0),y()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=g,e=o;try{return g=!0,o=this,this._runnings++,h(this),this.fn()}finally{d(this),this._runnings--,o=e,g=t}}stop(){var t;this.active&&(h(this),d(this),null==(t=this.onStop)||t.call(this),this.active=!1)}}function u(t){return t.value}function h(t){t._trackId++,t._depsLength=0}function d(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)p(t.deps[e],t);t.deps.length=t._depsLength}}function p(t,e){const n=t.get(e);void 0!==n&&e._trackId!==n&&(t.delete(e),0===t.size&&t.cleanup())}let g=!0,f=0;const m=[];function A(){m.push(g),g=!1}function y(){const t=m.pop();g=void 0===t||t}function v(){f++}function _(){f--;while(!f&&I.length)I.shift()()}function C(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const n=t.deps[t._depsLength];n!==e?(n&&p(n,t),t.deps[t._depsLength++]=e):t._depsLength++}}const I=[];function E(t,e,n){v();for(const i of t.keys()){let n;i._dirtyLevel<e&&(null!=n?n:n=t.get(i)===i._trackId)&&(i._shouldSchedule||(i._shouldSchedule=0===i._dirtyLevel),i._dirtyLevel=e),i._shouldSchedule&&(null!=n?n:n=t.get(i)===i._trackId)&&(i.trigger(),i._runnings&&!i.allowRecurse||2===i._dirtyLevel||(i._shouldSchedule=!1,i.scheduler&&I.push(i.scheduler)))}_()}const w=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},b=new WeakMap,x=Symbol(""),S=Symbol("");function P(t,e,n){if(g&&o){let e=b.get(t);e||b.set(t,e=new Map);let i=e.get(n);i||e.set(n,i=w((()=>e.delete(n)))),C(o,i,void 0)}}function M(t,e,n,r,o,s){const a=b.get(t);if(!a)return;let l=[];if("clear"===e)l=[...a.values()];else if("length"===n&&(0,i.cy)(t)){const t=Number(r);a.forEach(((e,n)=>{("length"===n||!(0,i.Bm)(n)&&n>=t)&&l.push(e)}))}else switch(void 0!==n&&l.push(a.get(n)),e){case"add":(0,i.cy)(t)?(0,i.yI)(n)&&l.push(a.get("length")):(l.push(a.get(x)),(0,i.CE)(t)&&l.push(a.get(S)));break;case"delete":(0,i.cy)(t)||(l.push(a.get(x)),(0,i.CE)(t)&&l.push(a.get(S)));break;case"set":(0,i.CE)(t)&&l.push(a.get(x));break}v();for(const i of l)i&&E(i,4,void 0);_()}const R=(0,i.pD)("__proto__,__v_isRef,__isVue"),T=new Set(Object.getOwnPropertyNames(Symbol).filter((t=>"arguments"!==t&&"caller"!==t)).map((t=>Symbol[t])).filter(i.Bm)),G=L();function L(){const t={};return["includes","indexOf","lastIndexOf"].forEach((e=>{t[e]=function(...t){const n=It(this);for(let e=0,r=this.length;e<r;e++)P(n,"get",e+"");const i=n[e](...t);return-1===i||!1===i?n[e](...t.map(It)):i}})),["push","pop","shift","unshift","splice"].forEach((e=>{t[e]=function(...t){A(),v();const n=It(this)[e].apply(this,t);return _(),y(),n}})),t}function k(t){const e=It(this);return P(e,"has",t),e.hasOwnProperty(t)}class O{constructor(t=!1,e=!1){this._isReadonly=t,this._isShallow=e}get(t,e,n){const r=this._isReadonly,o=this._isShallow;if("__v_isReactive"===e)return!r;if("__v_isReadonly"===e)return r;if("__v_isShallow"===e)return o;if("__v_raw"===e)return n===(r?o?ht:ut:o?ct:lt).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const s=(0,i.cy)(t);if(!r){if(s&&(0,i.$3)(G,e))return Reflect.get(G,e,n);if("hasOwnProperty"===e)return k}const a=Reflect.get(t,e,n);return((0,i.Bm)(e)?T.has(e):R(e))?a:(r||P(t,"get",e),o?a:Rt(a)?s&&(0,i.yI)(e)?a:a.value:(0,i.Gv)(a)?r?mt(a):gt(a):a)}}class D extends O{constructor(t=!1){super(!1,t)}set(t,e,n,r){let o=t[e];if(!this._isShallow){const e=vt(o);if(_t(n)||vt(n)||(o=It(o),n=It(n)),!(0,i.cy)(t)&&Rt(o)&&!Rt(n))return!e&&(o.value=n,!0)}const s=(0,i.cy)(t)&&(0,i.yI)(e)?Number(e)<t.length:(0,i.$3)(t,e),a=Reflect.set(t,e,n,r);return t===It(r)&&(s?(0,i.$H)(n,o)&&M(t,"set",e,n,o):M(t,"add",e,n)),a}deleteProperty(t,e){const n=(0,i.$3)(t,e),r=t[e],o=Reflect.deleteProperty(t,e);return o&&n&&M(t,"delete",e,void 0,r),o}has(t,e){const n=Reflect.has(t,e);return(0,i.Bm)(e)&&T.has(e)||P(t,"has",e),n}ownKeys(t){return P(t,"iterate",(0,i.cy)(t)?"length":x),Reflect.ownKeys(t)}}class N extends O{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const F=new D,U=new N,B=new D(!0),j=t=>t,z=t=>Reflect.getPrototypeOf(t);function W(t,e,n=!1,r=!1){t=t["__v_raw"];const o=It(t),s=It(e);n||((0,i.$H)(e,s)&&P(o,"get",e),P(o,"get",s));const{has:a}=z(o),l=r?j:n?bt:wt;return a.call(o,e)?l(t.get(e)):a.call(o,s)?l(t.get(s)):void(t!==o&&t.get(e))}function V(t,e=!1){const n=this["__v_raw"],r=It(n),o=It(t);return e||((0,i.$H)(t,o)&&P(r,"has",t),P(r,"has",o)),t===o?n.has(t):n.has(t)||n.has(o)}function Y(t,e=!1){return t=t["__v_raw"],!e&&P(It(t),"iterate",x),Reflect.get(t,"size",t)}function H(t){t=It(t);const e=It(this),n=z(e),i=n.has.call(e,t);return i||(e.add(t),M(e,"add",t,t)),this}function q(t,e){e=It(e);const n=It(this),{has:r,get:o}=z(n);let s=r.call(n,t);s||(t=It(t),s=r.call(n,t));const a=o.call(n,t);return n.set(t,e),s?(0,i.$H)(e,a)&&M(n,"set",t,e,a):M(n,"add",t,e),this}function X(t){const e=It(this),{has:n,get:i}=z(e);let r=n.call(e,t);r||(t=It(t),r=n.call(e,t));const o=i?i.call(e,t):void 0,s=e.delete(t);return r&&M(e,"delete",t,void 0,o),s}function Z(){const t=It(this),e=0!==t.size,n=void 0,i=t.clear();return e&&M(t,"clear",void 0,void 0,n),i}function K(t,e){return function(n,i){const r=this,o=r["__v_raw"],s=It(o),a=e?j:t?bt:wt;return!t&&P(s,"iterate",x),o.forEach(((t,e)=>n.call(i,a(t),a(e),r)))}}function J(t,e,n){return function(...r){const o=this["__v_raw"],s=It(o),a=(0,i.CE)(s),l="entries"===t||t===Symbol.iterator&&a,c="keys"===t&&a,u=o[t](...r),h=n?j:e?bt:wt;return!e&&P(s,"iterate",c?S:x),{next(){const{value:t,done:e}=u.next();return e?{value:t,done:e}:{value:l?[h(t[0]),h(t[1])]:h(t),done:e}},[Symbol.iterator](){return this}}}}function Q(t){return function(...e){return"delete"!==t&&("clear"===t?void 0:this)}}function $(){const t={get(t){return W(this,t)},get size(){return Y(this)},has:V,add:H,set:q,delete:X,clear:Z,forEach:K(!1,!1)},e={get(t){return W(this,t,!1,!0)},get size(){return Y(this)},has:V,add:H,set:q,delete:X,clear:Z,forEach:K(!1,!0)},n={get(t){return W(this,t,!0)},get size(){return Y(this,!0)},has(t){return V.call(this,t,!0)},add:Q("add"),set:Q("set"),delete:Q("delete"),clear:Q("clear"),forEach:K(!0,!1)},i={get(t){return W(this,t,!0,!0)},get size(){return Y(this,!0)},has(t){return V.call(this,t,!0)},add:Q("add"),set:Q("set"),delete:Q("delete"),clear:Q("clear"),forEach:K(!0,!0)},r=["keys","values","entries",Symbol.iterator];return r.forEach((r=>{t[r]=J(r,!1,!1),n[r]=J(r,!0,!1),e[r]=J(r,!1,!0),i[r]=J(r,!0,!0)})),[t,n,e,i]}const[tt,et,nt,it]=$();function rt(t,e){const n=e?t?it:nt:t?et:tt;return(e,r,o)=>"__v_isReactive"===r?!t:"__v_isReadonly"===r?t:"__v_raw"===r?e:Reflect.get((0,i.$3)(n,r)&&r in e?n:e,r,o)}const ot={get:rt(!1,!1)},st={get:rt(!1,!0)},at={get:rt(!0,!1)};const lt=new WeakMap,ct=new WeakMap,ut=new WeakMap,ht=new WeakMap;function dt(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function pt(t){return t["__v_skip"]||!Object.isExtensible(t)?0:dt((0,i.Zf)(t))}function gt(t){return vt(t)?t:At(t,!1,F,ot,lt)}function ft(t){return At(t,!1,B,st,ct)}function mt(t){return At(t,!0,U,at,ut)}function At(t,e,n,r,o){if(!(0,i.Gv)(t))return t;if(t["__v_raw"]&&(!e||!t["__v_isReactive"]))return t;const s=o.get(t);if(s)return s;const a=pt(t);if(0===a)return t;const l=new Proxy(t,2===a?r:n);return o.set(t,l),l}function yt(t){return vt(t)?yt(t["__v_raw"]):!(!t||!t["__v_isReactive"])}function vt(t){return!(!t||!t["__v_isReadonly"])}function _t(t){return!(!t||!t["__v_isShallow"])}function Ct(t){return yt(t)||vt(t)}function It(t){const e=t&&t["__v_raw"];return e?It(e):t}function Et(t){return Object.isExtensible(t)&&(0,i.yQ)(t,"__v_skip",!0),t}const wt=t=>(0,i.Gv)(t)?gt(t):t,bt=t=>(0,i.Gv)(t)?mt(t):t;class xt{constructor(t,e,n,i){this.getter=t,this._setter=e,this.dep=void 0,this.__v_isRef=!0,this["__v_isReadonly"]=!1,this.effect=new c((()=>t(this._value)),(()=>Mt(this,2===this.effect._dirtyLevel?2:3))),this.effect.computed=this,this.effect.active=this._cacheable=!i,this["__v_isReadonly"]=n}get value(){const t=It(this);return t._cacheable&&!t.effect.dirty||!(0,i.$H)(t._value,t._value=t.effect.run())||Mt(t,4),Pt(t),t.effect._dirtyLevel>=2&&Mt(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function St(t,e,n=!1){let r,o;const s=(0,i.Tn)(t);s?(r=t,o=i.tE):(r=t.get,o=t.set);const a=new xt(r,o,s||!o,n);return a}function Pt(t){var e;g&&o&&(t=It(t),C(o,null!=(e=t.dep)?e:t.dep=w((()=>t.dep=void 0),t instanceof xt?t:void 0),void 0))}function Mt(t,e=4,n){t=It(t);const i=t.dep;i&&E(i,e,void 0)}function Rt(t){return!(!t||!0!==t.__v_isRef)}function Tt(t){return Lt(t,!1)}function Gt(t){return Lt(t,!0)}function Lt(t,e){return Rt(t)?t:new kt(t,e)}class kt{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:It(t),this._value=e?t:wt(t)}get value(){return Pt(this),this._value}set value(t){const e=this.__v_isShallow||_t(t)||vt(t);t=e?t:It(t),(0,i.$H)(t,this._rawValue)&&(this._rawValue=t,this._value=e?t:wt(t),Mt(this,4,t))}}function Ot(t){return Rt(t)?t.value:t}const Dt={get:(t,e,n)=>Ot(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const r=t[e];return Rt(r)&&!Rt(n)?(r.value=n,!0):Reflect.set(t,e,n,i)}};function Nt(t){return yt(t)?t:new Proxy(t,Dt)}},641:function(t,e,n){"use strict";n.d(e,{$u:function(){return Ot},CE:function(){return dn},Df:function(){return vt},EW:function(){return $n},FK:function(){return tn},Gt:function(){return fe},Gy:function(){return ct},Im:function(){return Qe},K9:function(){return De},Lk:function(){return vn},MZ:function(){return yt},OW:function(){return ft},Q3:function(){return bn},QP:function(){return ht},Qi:function(){return O},RG:function(){return Wt},WQ:function(){return me},Wv:function(){return pn},bF:function(){return _n},bo:function(){return ot},dY:function(){return y},eW:function(){return wn},g2:function(){return Y},h:function(){return ti},jt:function(){return D},k6:function(){return N},nI:function(){return On},pI:function(){return zt},pM:function(){return _t},pR:function(){return pt},qL:function(){return s},uX:function(){return an},wB:function(){return tt}});var i=n(953),r=n(33);function o(t,e,n,i){try{return i?t(...i):t()}catch(r){a(r,e,n)}}function s(t,e,n,i){if((0,r.Tn)(t)){const s=o(t,e,n,i);return s&&(0,r.yL)(s)&&s.catch((t=>{a(t,e,n)})),s}const l=[];for(let r=0;r<t.length;r++)l.push(s(t[r],e,n,i));return l}function a(t,e,n,i=!0){const r=e?e.vnode:null;if(e){let i=e.parent;const r=e.proxy,s=`https://vuejs.org/error-reference/#runtime-${n}`;while(i){const e=i.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,r,s))return;i=i.parent}const a=e.appContext.config.errorHandler;if(a)return void o(a,null,10,[t,r,s])}l(t,n,r,i)}function l(t,e,n,i=!0){console.error(t)}let c=!1,u=!1;const h=[];let d=0;const p=[];let g=null,f=0;const m=Promise.resolve();let A=null;function y(t){const e=A||m;return t?e.then(this?t.bind(this):t):e}function v(t){let e=d+1,n=h.length;while(e<n){const i=e+n>>>1,r=h[i],o=x(r);o<t||o===t&&r.pre?e=i+1:n=i}return e}function _(t){h.length&&h.includes(t,c&&t.allowRecurse?d+1:d)||(null==t.id?h.push(t):h.splice(v(t.id),0,t),C())}function C(){c||u||(u=!0,A=m.then(P))}function I(t){const e=h.indexOf(t);e>d&&h.splice(e,1)}function E(t){(0,r.cy)(t)?p.push(...t):g&&g.includes(t,t.allowRecurse?f+1:f)||p.push(t),C()}function w(t,e,n=(c?d+1:0)){for(0;n<h.length;n++){const e=h[n];if(e&&e.pre){if(t&&e.id!==t.uid)continue;0,h.splice(n,1),n--,e()}}}function b(t){if(p.length){const t=[...new Set(p)].sort(((t,e)=>x(t)-x(e)));if(p.length=0,g)return void g.push(...t);for(g=t,f=0;f<g.length;f++)g[f]();g=null,f=0}}const x=t=>null==t.id?1/0:t.id,S=(t,e)=>{const n=x(t)-x(e);if(0===n){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function P(t){u=!1,c=!0,h.sort(S);r.tE;try{for(d=0;d<h.length;d++){const t=h[d];t&&!1!==t.active&&o(t,null,14)}}finally{d=0,h.length=0,b(t),c=!1,A=null,(h.length||p.length)&&P(t)}}function M(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||r.MZ;let o=n;const a=e.startsWith("update:"),l=a&&e.slice(7);if(l&&l in i){const t=`${"modelValue"===l?"model":l}Modifiers`,{number:e,trim:s}=i[t]||r.MZ;s&&(o=n.map((t=>(0,r.Kg)(t)?t.trim():t))),e&&(o=n.map(r.bB))}let c;let u=i[c=(0,r.rU)(e)]||i[c=(0,r.rU)((0,r.PT)(e))];!u&&a&&(u=i[c=(0,r.rU)((0,r.Tg)(e))]),u&&s(u,t,6,o);const h=i[c+"Once"];if(h){if(t.emitted){if(t.emitted[c])return}else t.emitted={};t.emitted[c]=!0,s(h,t,6,o)}}function R(t,e,n=!1){const i=e.emitsCache,o=i.get(t);if(void 0!==o)return o;const s=t.emits;let a={},l=!1;if(!(0,r.Tn)(t)){const i=t=>{const n=R(t,e,!0);n&&(l=!0,(0,r.X$)(a,n))};!n&&e.mixins.length&&e.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}return s||l?((0,r.cy)(s)?s.forEach((t=>a[t]=null)):(0,r.X$)(a,s),(0,r.Gv)(t)&&i.set(t,a),a):((0,r.Gv)(t)&&i.set(t,null),null)}function T(t,e){return!(!t||!(0,r.Mp)(e))&&(e=e.slice(2).replace(/Once$/,""),(0,r.$3)(t,e[0].toLowerCase()+e.slice(1))||(0,r.$3)(t,(0,r.Tg)(e))||(0,r.$3)(t,e))}let G=null,L=null;function k(t){const e=G;return G=t,L=t&&t.type.__scopeId||null,e}function O(t){L=t}function D(){L=null}function N(t,e=G,n){if(!e)return t;if(t._n)return t;const i=(...n)=>{i._d&&un(-1);const r=k(e);let o;try{o=t(...n)}finally{k(r),i._d&&un(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function F(t){const{type:e,vnode:n,proxy:i,withProxy:o,props:s,propsOptions:[l],slots:c,attrs:u,emit:h,render:d,renderCache:p,data:g,setupState:f,ctx:m,inheritAttrs:A}=t;let y,v;const _=k(t);try{if(4&n.shapeFlag){const t=o||i,e=t;y=xn(d.call(e,t,p,s,f,g,m)),v=u}else{const t=e;0,y=xn(t.length>1?t(s,{attrs:u,slots:c,emit:h}):t(s,null)),v=e.props?u:U(u)}}catch(I){on.length=0,a(I,t,1),y=_n(nn)}let C=y;if(v&&!1!==A){const t=Object.keys(v),{shapeFlag:e}=C;t.length&&7&e&&(l&&t.some(r.CP)&&(v=B(v,l)),C=En(C,v))}return n.dirs&&(C=En(C),C.dirs=C.dirs?C.dirs.concat(n.dirs):n.dirs),n.transition&&(C.transition=n.transition),y=C,k(_),y}const U=t=>{let e;for(const n in t)("class"===n||"style"===n||(0,r.Mp)(n))&&((e||(e={}))[n]=t[n]);return e},B=(t,e)=>{const n={};for(const i in t)(0,r.CP)(i)&&i.slice(9)in e||(n[i]=t[i]);return n};function j(t,e,n){const{props:i,children:r,component:o}=t,{props:s,children:a,patchFlag:l}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&l>=0))return!(!r&&!a||a&&a.$stable)||i!==s&&(i?!s||z(i,s,c):!!s);if(1024&l)return!0;if(16&l)return i?z(i,s,c):!!s;if(8&l){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(s[n]!==i[n]&&!T(c,n))return!0}}return!1}function z(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let r=0;r<i.length;r++){const o=i[r];if(e[o]!==t[o]&&!T(n,o))return!0}return!1}function W({vnode:t,parent:e},n){while(e){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i!==t)break;(t=e.vnode).el=n,e=e.parent}}const V="components";function Y(t,e){return q(V,t,!0,e)||t}const H=Symbol.for("v-ndc");function q(t,e,n=!0,i=!1){const o=G||kn;if(o){const n=o.type;if(t===V){const t=Jn(n,!1);if(t&&(t===e||t===(0,r.PT)(e)||t===(0,r.ZH)((0,r.PT)(e))))return n}const s=X(o[t]||n[t],e)||X(o.appContext[t],e);return!s&&i?n:s}}function X(t,e){return t&&(t[e]||t[(0,r.PT)(e)]||t[(0,r.ZH)((0,r.PT)(e))])}const Z=t=>t.__isSuspense;function K(t,e){e&&e.pendingBranch?(0,r.cy)(t)?e.effects.push(...t):e.effects.push(t):E(t)}const J=Symbol.for("v-scx"),Q=()=>{{const t=me(J);return t}};const $={};function tt(t,e,n){return et(t,e,n)}function et(t,e,{immediate:n,deep:a,flush:l,once:c,onTrack:u,onTrigger:h}=r.MZ){if(e&&c){const t=e;e=(...e)=>{t(...e),x()}}const d=kn,p=t=>!0===a?t:rt(t,!1===a?1:void 0);let g,f,m=!1,A=!1;if((0,i.i9)(t)?(g=()=>t.value,m=(0,i.fE)(t)):(0,i.g8)(t)?(g=()=>p(t),m=!0):(0,r.cy)(t)?(A=!0,m=t.some((t=>(0,i.g8)(t)||(0,i.fE)(t))),g=()=>t.map((t=>(0,i.i9)(t)?t.value:(0,i.g8)(t)?p(t):(0,r.Tn)(t)?o(t,d,2):void 0))):g=(0,r.Tn)(t)?e?()=>o(t,d,2):()=>(f&&f(),s(t,d,3,[v])):r.tE,e&&a){const t=g;g=()=>rt(t())}let y,v=t=>{f=w.onStop=()=>{o(t,d,4),f=w.onStop=void 0}};if(Wn){if(v=r.tE,e?n&&s(e,d,3,[g(),A?[]:void 0,v]):g(),"sync"!==l)return r.tE;{const t=Q();y=t.__watcherHandles||(t.__watcherHandles=[])}}let C=A?new Array(t.length).fill($):$;const I=()=>{if(w.active&&w.dirty)if(e){const t=w.run();(a||m||(A?t.some(((t,e)=>(0,r.$H)(t,C[e]))):(0,r.$H)(t,C)))&&(f&&f(),s(e,d,3,[t,C===$?void 0:A&&C[0]===$?[]:C,v]),C=t)}else w.run()};let E;I.allowRecurse=!!e,"sync"===l?E=I:"post"===l?E=()=>Oe(I,d&&d.suspense):(I.pre=!0,d&&(I.id=d.uid),E=()=>_(I));const w=new i.X2(g,r.tE,E),b=(0,i.o5)(),x=()=>{w.stop(),b&&(0,r.TF)(b.effects,w)};return e?n?I():C=w.run():"post"===l?Oe(w.run.bind(w),d&&d.suspense):w.run(),y&&y.push(x),x}function nt(t,e,n){const i=this.proxy,o=(0,r.Kg)(t)?t.includes(".")?it(i,t):()=>i[t]:t.bind(i,i);let s;(0,r.Tn)(e)?s=e:(s=e.handler,n=e);const a=Fn(this),l=et(o,s.bind(i),n);return a(),l}function it(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}function rt(t,e,n=0,o){if(!(0,r.Gv)(t)||t["__v_skip"])return t;if(e&&e>0){if(n>=e)return t;n++}if(o=o||new Set,o.has(t))return t;if(o.add(t),(0,i.i9)(t))rt(t.value,e,n,o);else if((0,r.cy)(t))for(let i=0;i<t.length;i++)rt(t[i],e,n,o);else if((0,r.vM)(t)||(0,r.CE)(t))t.forEach((t=>{rt(t,e,n,o)}));else if((0,r.Qd)(t))for(const i in t)rt(t[i],e,n,o);return t}function ot(t,e){if(null===G)return t;const n=Kn(G)||G.proxy,i=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[t,s,a,l=r.MZ]=e[o];t&&((0,r.Tn)(t)&&(t={mounted:t,updated:t}),t.deep&&rt(s),i.push({dir:t,instance:n,value:s,oldValue:void 0,arg:a,modifiers:l}))}return t}function st(t,e,n,r){const o=t.dirs,a=e&&e.dirs;for(let l=0;l<o.length;l++){const c=o[l];a&&(c.oldValue=a[l].value);let u=c.dir[r];u&&((0,i.C4)(),s(u,n,8,[t.el,c,t,e]),(0,i.bl)())}}const at=Symbol("_leaveCb"),lt=Symbol("_enterCb");function ct(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Lt((()=>{t.isMounted=!0})),Dt((()=>{t.isUnmounting=!0})),t}const ut=[Function,Array],ht={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ut,onEnter:ut,onAfterEnter:ut,onEnterCancelled:ut,onBeforeLeave:ut,onLeave:ut,onAfterLeave:ut,onLeaveCancelled:ut,onBeforeAppear:ut,onAppear:ut,onAfterAppear:ut,onAppearCancelled:ut},dt={name:"BaseTransition",props:ht,setup(t,{slots:e}){const n=On(),r=ct();return()=>{const o=e.default&&vt(e.default(),!0);if(!o||!o.length)return;let s=o[0];if(o.length>1){let t=!1;for(const e of o)if(e.type!==nn){0,s=e,t=!0;break}}const a=(0,i.ux)(t),{mode:l}=a;if(r.isLeaving)return mt(s);const c=At(s);if(!c)return mt(s);const u=ft(c,a,r,n);yt(c,u);const h=n.subTree,d=h&&At(h);if(d&&d.type!==nn&&!fn(c,d)){const t=ft(d,a,r,n);if(yt(d,t),"out-in"===l)return r.isLeaving=!0,t.afterLeave=()=>{r.isLeaving=!1,!1!==n.update.active&&(n.effect.dirty=!0,n.update())},mt(s);"in-out"===l&&c.type!==nn&&(t.delayLeave=(t,e,n)=>{const i=gt(r,d);i[String(d.key)]=d,t[at]=()=>{e(),t[at]=void 0,delete u.delayedLeave},u.delayedLeave=n})}return s}}},pt=dt;function gt(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function ft(t,e,n,i){const{appear:o,mode:a,persisted:l=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:h,onEnterCancelled:d,onBeforeLeave:p,onLeave:g,onAfterLeave:f,onLeaveCancelled:m,onBeforeAppear:A,onAppear:y,onAfterAppear:v,onAppearCancelled:_}=e,C=String(t.key),I=gt(n,t),E=(t,e)=>{t&&s(t,i,9,e)},w=(t,e)=>{const n=e[1];E(t,e),(0,r.cy)(t)?t.every((t=>t.length<=1))&&n():t.length<=1&&n()},b={mode:a,persisted:l,beforeEnter(e){let i=c;if(!n.isMounted){if(!o)return;i=A||c}e[at]&&e[at](!0);const r=I[C];r&&fn(t,r)&&r.el[at]&&r.el[at](),E(i,[e])},enter(t){let e=u,i=h,r=d;if(!n.isMounted){if(!o)return;e=y||u,i=v||h,r=_||d}let s=!1;const a=t[lt]=e=>{s||(s=!0,E(e?r:i,[t]),b.delayedLeave&&b.delayedLeave(),t[lt]=void 0)};e?w(e,[t,a]):a()},leave(e,i){const r=String(t.key);if(e[lt]&&e[lt](!0),n.isUnmounting)return i();E(p,[e]);let o=!1;const s=e[at]=n=>{o||(o=!0,i(),E(n?m:f,[e]),e[at]=void 0,I[r]===t&&delete I[r])};I[r]=t,g?w(g,[e,s]):s()},clone(t){return ft(t,e,n,i)}};return b}function mt(t){if(It(t))return t=En(t),t.children=null,t}function At(t){return It(t)?t.children?t.children[0]:void 0:t}function yt(t,e){6&t.shapeFlag&&t.component?yt(t.component.subTree,e):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function vt(t,e=!1,n){let i=[],r=0;for(let o=0;o<t.length;o++){let s=t[o];const a=null==n?s.key:String(n)+String(null!=s.key?s.key:o);s.type===tn?(128&s.patchFlag&&r++,i=i.concat(vt(s.children,e,a))):(e||s.type!==nn)&&i.push(null!=a?En(s,{key:a}):s)}if(r>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}
/*! #__NO_SIDE_EFFECTS__ */function _t(t,e){return(0,r.Tn)(t)?(()=>(0,r.X$)({name:t.name},e,{setup:t}))():t}const Ct=t=>!!t.type.__asyncLoader
/*! #__NO_SIDE_EFFECTS__ */;const It=t=>t.type.__isKeepAlive;RegExp,RegExp;function Et(t,e){return(0,r.cy)(t)?t.some((t=>Et(t,e))):(0,r.Kg)(t)?t.split(",").includes(e):!!(0,r.gd)(t)&&t.test(e)}function wt(t,e){xt(t,"a",e)}function bt(t,e){xt(t,"da",e)}function xt(t,e,n=kn){const i=t.__wdc||(t.__wdc=()=>{let e=n;while(e){if(e.isDeactivated)return;e=e.parent}return t()});if(Rt(e,i,n),n){let t=n.parent;while(t&&t.parent)It(t.parent.vnode)&&St(i,e,n,t),t=t.parent}}function St(t,e,n,i){const o=Rt(e,t,i,!0);Nt((()=>{(0,r.TF)(i[e],o)}),n)}function Pt(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Mt(t){return 128&t.shapeFlag?t.ssContent:t}function Rt(t,e,n=kn,r=!1){if(n){const o=n[t]||(n[t]=[]),a=e.__weh||(e.__weh=(...r)=>{if(n.isUnmounted)return;(0,i.C4)();const o=Fn(n),a=s(e,n,t,r);return o(),(0,i.bl)(),a});return r?o.unshift(a):o.push(a),a}}const Tt=t=>(e,n=kn)=>(!Wn||"sp"===t)&&Rt(t,((...t)=>e(...t)),n),Gt=Tt("bm"),Lt=Tt("m"),kt=Tt("bu"),Ot=Tt("u"),Dt=Tt("bum"),Nt=Tt("um"),Ft=Tt("sp"),Ut=Tt("rtg"),Bt=Tt("rtc");function jt(t,e=kn){Rt("ec",t,e)}function zt(t,e,n,i){let o;const s=n&&n[i];if((0,r.cy)(t)||(0,r.Kg)(t)){o=new Array(t.length);for(let n=0,i=t.length;n<i;n++)o[n]=e(t[n],n,void 0,s&&s[n])}else if("number"===typeof t){0,o=new Array(t);for(let n=0;n<t;n++)o[n]=e(n+1,n,void 0,s&&s[n])}else if((0,r.Gv)(t))if(t[Symbol.iterator])o=Array.from(t,((t,n)=>e(t,n,void 0,s&&s[n])));else{const n=Object.keys(t);o=new Array(n.length);for(let i=0,r=n.length;i<r;i++){const r=n[i];o[i]=e(t[r],r,i,s&&s[i])}}else o=[];return n&&(n[i]=o),o}function Wt(t,e,n={},i,r){if(G.isCE||G.parent&&Ct(G.parent)&&G.parent.isCE)return"default"!==e&&(n.name=e),_n("slot",n,i&&i());let o=t[e];o&&o._c&&(o._d=!1),an();const s=o&&Vt(o(n)),a=pn(tn,{key:n.key||s&&s.key||`_${e}`},s||(i?i():[]),s&&1===t._?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function Vt(t){return t.some((t=>!gn(t)||t.type!==nn&&!(t.type===tn&&!Vt(t.children))))?t:null}const Yt=t=>t?Bn(t)?Kn(t)||t.proxy:Yt(t.parent):null,Ht=(0,r.X$)(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Yt(t.parent),$root:t=>Yt(t.root),$emit:t=>t.emit,$options:t=>ee(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,_(t.update)}),$nextTick:t=>t.n||(t.n=y.bind(t.proxy)),$watch:t=>nt.bind(t)}),qt=(t,e)=>t!==r.MZ&&!t.__isScriptSetup&&(0,r.$3)(t,e),Xt={get({_:t},e){const{ctx:n,setupState:o,data:s,props:a,accessCache:l,type:c,appContext:u}=t;let h;if("$"!==e[0]){const i=l[e];if(void 0!==i)switch(i){case 1:return o[e];case 2:return s[e];case 4:return n[e];case 3:return a[e]}else{if(qt(o,e))return l[e]=1,o[e];if(s!==r.MZ&&(0,r.$3)(s,e))return l[e]=2,s[e];if((h=t.propsOptions[0])&&(0,r.$3)(h,e))return l[e]=3,a[e];if(n!==r.MZ&&(0,r.$3)(n,e))return l[e]=4,n[e];Kt&&(l[e]=0)}}const d=Ht[e];let p,g;return d?("$attrs"===e&&(0,i.u4)(t,"get",e),d(t)):(p=c.__cssModules)&&(p=p[e])?p:n!==r.MZ&&(0,r.$3)(n,e)?(l[e]=4,n[e]):(g=u.config.globalProperties,(0,r.$3)(g,e)?g[e]:void 0)},set({_:t},e,n){const{data:i,setupState:o,ctx:s}=t;return qt(o,e)?(o[e]=n,!0):i!==r.MZ&&(0,r.$3)(i,e)?(i[e]=n,!0):!(0,r.$3)(t.props,e)&&(("$"!==e[0]||!(e.slice(1)in t))&&(s[e]=n,!0))},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:o,propsOptions:s}},a){let l;return!!n[a]||t!==r.MZ&&(0,r.$3)(t,a)||qt(e,a)||(l=s[0])&&(0,r.$3)(l,a)||(0,r.$3)(i,a)||(0,r.$3)(Ht,a)||(0,r.$3)(o.config.globalProperties,a)},defineProperty(t,e,n){return null!=n.get?t._.accessCache[e]=0:(0,r.$3)(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Zt(t){return(0,r.cy)(t)?t.reduce(((t,e)=>(t[e]=null,t)),{}):t}let Kt=!0;function Jt(t){const e=ee(t),n=t.proxy,o=t.ctx;Kt=!1,e.beforeCreate&&$t(e.beforeCreate,t,"bc");const{data:s,computed:a,methods:l,watch:c,provide:u,inject:h,created:d,beforeMount:p,mounted:g,beforeUpdate:f,updated:m,activated:A,deactivated:y,beforeDestroy:v,beforeUnmount:_,destroyed:C,unmounted:I,render:E,renderTracked:w,renderTriggered:b,errorCaptured:x,serverPrefetch:S,expose:P,inheritAttrs:M,components:R,directives:T,filters:G}=e,L=null;if(h&&Qt(h,o,L),l)for(const i in l){const t=l[i];(0,r.Tn)(t)&&(o[i]=t.bind(n))}if(s){0;const e=s.call(n,n);0,(0,r.Gv)(e)&&(t.data=(0,i.Kh)(e))}if(Kt=!0,a)for(const i in a){const t=a[i],e=(0,r.Tn)(t)?t.bind(n,n):(0,r.Tn)(t.get)?t.get.bind(n,n):r.tE;0;const s=!(0,r.Tn)(t)&&(0,r.Tn)(t.set)?t.set.bind(n):r.tE,l=$n({get:e,set:s});Object.defineProperty(o,i,{enumerable:!0,configurable:!0,get:()=>l.value,set:t=>l.value=t})}if(c)for(const i in c)te(c[i],o,n,i);if(u){const t=(0,r.Tn)(u)?u.call(n):u;Reflect.ownKeys(t).forEach((e=>{fe(e,t[e])}))}function k(t,e){(0,r.cy)(e)?e.forEach((e=>t(e.bind(n)))):e&&t(e.bind(n))}if(d&&$t(d,t,"c"),k(Gt,p),k(Lt,g),k(kt,f),k(Ot,m),k(wt,A),k(bt,y),k(jt,x),k(Bt,w),k(Ut,b),k(Dt,_),k(Nt,I),k(Ft,S),(0,r.cy)(P))if(P.length){const e=t.exposed||(t.exposed={});P.forEach((t=>{Object.defineProperty(e,t,{get:()=>n[t],set:e=>n[t]=e})}))}else t.exposed||(t.exposed={});E&&t.render===r.tE&&(t.render=E),null!=M&&(t.inheritAttrs=M),R&&(t.components=R),T&&(t.directives=T)}function Qt(t,e,n=r.tE){(0,r.cy)(t)&&(t=se(t));for(const o in t){const n=t[o];let s;s=(0,r.Gv)(n)?"default"in n?me(n.from||o,n.default,!0):me(n.from||o):me(n),(0,i.i9)(s)?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>s.value,set:t=>s.value=t}):e[o]=s}}function $t(t,e,n){s((0,r.cy)(t)?t.map((t=>t.bind(e.proxy))):t.bind(e.proxy),e,n)}function te(t,e,n,i){const o=i.includes(".")?it(n,i):()=>n[i];if((0,r.Kg)(t)){const n=e[t];(0,r.Tn)(n)&&tt(o,n)}else if((0,r.Tn)(t))tt(o,t.bind(n));else if((0,r.Gv)(t))if((0,r.cy)(t))t.forEach((t=>te(t,e,n,i)));else{const i=(0,r.Tn)(t.handler)?t.handler.bind(n):e[t.handler];(0,r.Tn)(i)&&tt(o,i,t)}else 0}function ee(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:o,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,l=s.get(e);let c;return l?c=l:o.length||n||i?(c={},o.length&&o.forEach((t=>ne(c,t,a,!0))),ne(c,e,a)):c=e,(0,r.Gv)(e)&&s.set(e,c),c}function ne(t,e,n,i=!1){const{mixins:r,extends:o}=e;o&&ne(t,o,n,!0),r&&r.forEach((e=>ne(t,e,n,!0)));for(const s in e)if(i&&"expose"===s);else{const i=ie[s]||n&&n[s];t[s]=i?i(t[s],e[s]):e[s]}return t}const ie={data:re,props:ce,emits:ce,methods:le,computed:le,beforeCreate:ae,created:ae,beforeMount:ae,mounted:ae,beforeUpdate:ae,updated:ae,beforeDestroy:ae,beforeUnmount:ae,destroyed:ae,unmounted:ae,activated:ae,deactivated:ae,errorCaptured:ae,serverPrefetch:ae,components:le,directives:le,watch:ue,provide:re,inject:oe};function re(t,e){return e?t?function(){return(0,r.X$)((0,r.Tn)(t)?t.call(this,this):t,(0,r.Tn)(e)?e.call(this,this):e)}:e:t}function oe(t,e){return le(se(t),se(e))}function se(t){if((0,r.cy)(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ae(t,e){return t?[...new Set([].concat(t,e))]:e}function le(t,e){return t?(0,r.X$)(Object.create(null),t,e):e}function ce(t,e){return t?(0,r.cy)(t)&&(0,r.cy)(e)?[...new Set([...t,...e])]:(0,r.X$)(Object.create(null),Zt(t),Zt(null!=e?e:{})):e}function ue(t,e){if(!t)return e;if(!e)return t;const n=(0,r.X$)(Object.create(null),t);for(const i in e)n[i]=ae(t[i],e[i]);return n}function he(){return{app:null,config:{isNativeTag:r.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let de=0;function pe(t,e){return function(n,i=null){(0,r.Tn)(n)||(n=(0,r.X$)({},n)),null==i||(0,r.Gv)(i)||(i=null);const o=he(),s=new WeakSet;let a=!1;const l=o.app={_uid:de++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:ei,get config(){return o.config},set config(t){0},use(t,...e){return s.has(t)||(t&&(0,r.Tn)(t.install)?(s.add(t),t.install(l,...e)):(0,r.Tn)(t)&&(s.add(t),t(l,...e))),l},mixin(t){return o.mixins.includes(t)||o.mixins.push(t),l},component(t,e){return e?(o.components[t]=e,l):o.components[t]},directive(t,e){return e?(o.directives[t]=e,l):o.directives[t]},mount(r,s,c){if(!a){0;const u=_n(n,i);return u.appContext=o,!0===c?c="svg":!1===c&&(c=void 0),s&&e?e(u,r):t(u,r,c),a=!0,l._container=r,r.__vue_app__=l,Kn(u.component)||u.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(t,e){return o.provides[t]=e,l},runWithContext(t){const e=ge;ge=l;try{return t()}finally{ge=e}}};return l}}let ge=null;function fe(t,e){if(kn){let n=kn.provides;const i=kn.parent&&kn.parent.provides;i===n&&(n=kn.provides=Object.create(i)),n[t]=e}else 0}function me(t,e,n=!1){const i=kn||G;if(i||ge){const o=i?null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:ge._context.provides;if(o&&t in o)return o[t];if(arguments.length>1)return n&&(0,r.Tn)(e)?e.call(i&&i.proxy):e}else 0}function Ae(t,e,n,o=!1){const s={},a={};(0,r.yQ)(a,mn,1),t.propsDefaults=Object.create(null),ve(t,e,s,a);for(const i in t.propsOptions[0])i in s||(s[i]=void 0);n?t.props=o?s:(0,i.Gc)(s):t.type.props?t.props=s:t.props=a,t.attrs=a}function ye(t,e,n,o){const{props:s,attrs:a,vnode:{patchFlag:l}}=t,c=(0,i.ux)(s),[u]=t.propsOptions;let h=!1;if(!(o||l>0)||16&l){let i;ve(t,e,s,a)&&(h=!0);for(const o in c)e&&((0,r.$3)(e,o)||(i=(0,r.Tg)(o))!==o&&(0,r.$3)(e,i))||(u?!n||void 0===n[o]&&void 0===n[i]||(s[o]=_e(u,c,o,void 0,t,!0)):delete s[o]);if(a!==c)for(const t in a)e&&(0,r.$3)(e,t)||(delete a[t],h=!0)}else if(8&l){const n=t.vnode.dynamicProps;for(let i=0;i<n.length;i++){let o=n[i];if(T(t.emitsOptions,o))continue;const l=e[o];if(u)if((0,r.$3)(a,o))l!==a[o]&&(a[o]=l,h=!0);else{const e=(0,r.PT)(o);s[e]=_e(u,c,e,l,t,!1)}else l!==a[o]&&(a[o]=l,h=!0)}}h&&(0,i.hZ)(t,"set","$attrs")}function ve(t,e,n,o){const[s,a]=t.propsOptions;let l,c=!1;if(e)for(let i in e){if((0,r.SU)(i))continue;const u=e[i];let h;s&&(0,r.$3)(s,h=(0,r.PT)(i))?a&&a.includes(h)?(l||(l={}))[h]=u:n[h]=u:T(t.emitsOptions,i)||i in o&&u===o[i]||(o[i]=u,c=!0)}if(a){const e=(0,i.ux)(n),o=l||r.MZ;for(let i=0;i<a.length;i++){const l=a[i];n[l]=_e(s,e,l,o[l],t,!(0,r.$3)(o,l))}}return c}function _e(t,e,n,i,o,s){const a=t[n];if(null!=a){const t=(0,r.$3)(a,"default");if(t&&void 0===i){const t=a.default;if(a.type!==Function&&!a.skipFactory&&(0,r.Tn)(t)){const{propsDefaults:r}=o;if(n in r)i=r[n];else{const s=Fn(o);i=r[n]=t.call(null,e),s()}}else i=t}a[0]&&(s&&!t?i=!1:!a[1]||""!==i&&i!==(0,r.Tg)(n)||(i=!0))}return i}function Ce(t,e,n=!1){const i=e.propsCache,o=i.get(t);if(o)return o;const s=t.props,a={},l=[];let c=!1;if(!(0,r.Tn)(t)){const i=t=>{c=!0;const[n,i]=Ce(t,e,!0);(0,r.X$)(a,n),i&&l.push(...i)};!n&&e.mixins.length&&e.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}if(!s&&!c)return(0,r.Gv)(t)&&i.set(t,r.Oj),r.Oj;if((0,r.cy)(s))for(let h=0;h<s.length;h++){0;const t=(0,r.PT)(s[h]);Ie(t)&&(a[t]=r.MZ)}else if(s){0;for(const t in s){const e=(0,r.PT)(t);if(Ie(e)){const n=s[t],i=a[e]=(0,r.cy)(n)||(0,r.Tn)(n)?{type:n}:(0,r.X$)({},n);if(i){const t=be(Boolean,i.type),n=be(String,i.type);i[0]=t>-1,i[1]=n<0||t<n,(t>-1||(0,r.$3)(i,"default"))&&l.push(e)}}}}const u=[a,l];return(0,r.Gv)(t)&&i.set(t,u),u}function Ie(t){return"$"!==t[0]&&!(0,r.SU)(t)}function Ee(t){if(null===t)return"null";if("function"===typeof t)return t.name||"";if("object"===typeof t){const e=t.constructor&&t.constructor.name;return e||""}return""}function we(t,e){return Ee(t)===Ee(e)}function be(t,e){return(0,r.cy)(e)?e.findIndex((e=>we(e,t))):(0,r.Tn)(e)&&we(e,t)?0:-1}const xe=t=>"_"===t[0]||"$stable"===t,Se=t=>(0,r.cy)(t)?t.map(xn):[xn(t)],Pe=(t,e,n)=>{if(e._n)return e;const i=N(((...t)=>Se(e(...t))),n);return i._c=!1,i},Me=(t,e,n)=>{const i=t._ctx;for(const o in t){if(xe(o))continue;const n=t[o];if((0,r.Tn)(n))e[o]=Pe(o,n,i);else if(null!=n){0;const t=Se(n);e[o]=()=>t}}},Re=(t,e)=>{const n=Se(e);t.slots.default=()=>n},Te=(t,e)=>{if(32&t.vnode.shapeFlag){const n=e._;n?(t.slots=(0,i.ux)(e),(0,r.yQ)(e,"_",n)):Me(e,t.slots={})}else t.slots={},e&&Re(t,e);(0,r.yQ)(t.slots,mn,1)},Ge=(t,e,n)=>{const{vnode:i,slots:o}=t;let s=!0,a=r.MZ;if(32&i.shapeFlag){const t=e._;t?n&&1===t?s=!1:((0,r.X$)(o,e),n||1!==t||delete o._):(s=!e.$stable,Me(e,o)),a=e}else e&&(Re(t,e),a={default:1});if(s)for(const r in o)xe(r)||null!=a[r]||delete o[r]};function Le(t,e,n,s,a=!1){if((0,r.cy)(t))return void t.forEach(((t,i)=>Le(t,e&&((0,r.cy)(e)?e[i]:e),n,s,a)));if(Ct(s)&&!a)return;const l=4&s.shapeFlag?Kn(s.component)||s.component.proxy:s.el,c=a?null:l,{i:u,r:h}=t;const d=e&&e.r,p=u.refs===r.MZ?u.refs={}:u.refs,g=u.setupState;if(null!=d&&d!==h&&((0,r.Kg)(d)?(p[d]=null,(0,r.$3)(g,d)&&(g[d]=null)):(0,i.i9)(d)&&(d.value=null)),(0,r.Tn)(h))o(h,u,12,[c,p]);else{const e=(0,r.Kg)(h),o=(0,i.i9)(h);if(e||o){const i=()=>{if(t.f){const n=e?(0,r.$3)(g,h)?g[h]:p[h]:h.value;a?(0,r.cy)(n)&&(0,r.TF)(n,l):(0,r.cy)(n)?n.includes(l)||n.push(l):e?(p[h]=[l],(0,r.$3)(g,h)&&(g[h]=p[h])):(h.value=[l],t.k&&(p[t.k]=h.value))}else e?(p[h]=c,(0,r.$3)(g,h)&&(g[h]=c)):o&&(h.value=c,t.k&&(p[t.k]=c))};c?(i.id=-1,Oe(i,n)):i()}else 0}}function ke(){"boolean"!==typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&((0,r.We)().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1)}const Oe=K;function De(t){return Ne(t)}function Ne(t,e){ke();const n=(0,r.We)();n.__VUE__=!0;const{insert:o,remove:s,patchProp:a,createElement:l,createText:c,createComment:u,setText:h,setElementText:d,parentNode:p,nextSibling:g,setScopeId:f=r.tE,insertStaticContent:m}=t,A=(t,e,n,i=null,r=null,o=null,s=void 0,a=null,l=!!e.dynamicChildren)=>{if(t===e)return;t&&!fn(t,e)&&(i=Q(t),q(t,r,o,!0),t=null),-2===e.patchFlag&&(l=!1,e.dynamicChildren=null);const{type:c,ref:u,shapeFlag:h}=e;switch(c){case en:y(t,e,n,i);break;case nn:v(t,e,n,i);break;case rn:null==t&&C(e,n,i,s);break;case tn:k(t,e,n,i,r,o,s,a,l);break;default:1&h?S(t,e,n,i,r,o,s,a,l):6&h?O(t,e,n,i,r,o,s,a,l):(64&h||128&h)&&c.process(t,e,n,i,r,o,s,a,l,et)}null!=u&&r&&Le(u,t&&t.ref,o,e||t,!e)},y=(t,e,n,i)=>{if(null==t)o(e.el=c(e.children),n,i);else{const n=e.el=t.el;e.children!==t.children&&h(n,e.children)}},v=(t,e,n,i)=>{null==t?o(e.el=u(e.children||""),n,i):e.el=t.el},C=(t,e,n,i)=>{[t.el,t.anchor]=m(t.children,e,n,i,t.el,t.anchor)},E=({el:t,anchor:e},n,i)=>{let r;while(t&&t!==e)r=g(t),o(t,n,i),t=r;o(e,n,i)},x=({el:t,anchor:e})=>{let n;while(t&&t!==e)n=g(t),s(t),t=n;s(e)},S=(t,e,n,i,r,o,s,a,l)=>{"svg"===e.type?s="svg":"math"===e.type&&(s="mathml"),null==t?P(e,n,i,r,o,s,a,l):T(t,e,r,o,s,a,l)},P=(t,e,n,i,s,c,u,h)=>{let p,g;const{props:f,shapeFlag:m,transition:A,dirs:y}=t;if(p=t.el=l(t.type,c,f&&f.is,f),8&m?d(p,t.children):16&m&&R(t.children,p,null,i,s,Fe(t,c),u,h),y&&st(t,null,i,"created"),M(p,t,t.scopeId,u,i),f){for(const e in f)"value"===e||(0,r.SU)(e)||a(p,e,null,f[e],c,t.children,i,s,J);"value"in f&&a(p,"value",null,f.value,c),(g=f.onVnodeBeforeMount)&&Rn(g,i,t)}y&&st(t,null,i,"beforeMount");const v=Be(s,A);v&&A.beforeEnter(p),o(p,e,n),((g=f&&f.onVnodeMounted)||v||y)&&Oe((()=>{g&&Rn(g,i,t),v&&A.enter(p),y&&st(t,null,i,"mounted")}),s)},M=(t,e,n,i,r)=>{if(n&&f(t,n),i)for(let o=0;o<i.length;o++)f(t,i[o]);if(r){let n=r.subTree;if(e===n){const e=r.vnode;M(t,e,e.scopeId,e.slotScopeIds,r.parent)}}},R=(t,e,n,i,r,o,s,a,l=0)=>{for(let c=l;c<t.length;c++){const l=t[c]=a?Sn(t[c]):xn(t[c]);A(null,l,e,n,i,r,o,s,a)}},T=(t,e,n,i,o,s,l)=>{const c=e.el=t.el;let{patchFlag:u,dynamicChildren:h,dirs:p}=e;u|=16&t.patchFlag;const g=t.props||r.MZ,f=e.props||r.MZ;let m;if(n&&Ue(n,!1),(m=f.onVnodeBeforeUpdate)&&Rn(m,n,e,t),p&&st(e,t,n,"beforeUpdate"),n&&Ue(n,!0),h?G(t.dynamicChildren,h,c,n,i,Fe(e,o),s):l||z(t,e,c,null,n,i,Fe(e,o),s,!1),u>0){if(16&u)L(c,e,g,f,n,i,o);else if(2&u&&g.class!==f.class&&a(c,"class",null,f.class,o),4&u&&a(c,"style",g.style,f.style,o),8&u){const r=e.dynamicProps;for(let e=0;e<r.length;e++){const s=r[e],l=g[s],u=f[s];u===l&&"value"!==s||a(c,s,l,u,o,t.children,n,i,J)}}1&u&&t.children!==e.children&&d(c,e.children)}else l||null!=h||L(c,e,g,f,n,i,o);((m=f.onVnodeUpdated)||p)&&Oe((()=>{m&&Rn(m,n,e,t),p&&st(e,t,n,"updated")}),i)},G=(t,e,n,i,r,o,s)=>{for(let a=0;a<e.length;a++){const l=t[a],c=e[a],u=l.el&&(l.type===tn||!fn(l,c)||70&l.shapeFlag)?p(l.el):n;A(l,c,u,null,i,r,o,s,!0)}},L=(t,e,n,i,o,s,l)=>{if(n!==i){if(n!==r.MZ)for(const c in n)(0,r.SU)(c)||c in i||a(t,c,n[c],null,l,e.children,o,s,J);for(const c in i){if((0,r.SU)(c))continue;const u=i[c],h=n[c];u!==h&&"value"!==c&&a(t,c,h,u,l,e.children,o,s,J)}"value"in i&&a(t,"value",n.value,i.value,l)}},k=(t,e,n,i,r,s,a,l,u)=>{const h=e.el=t?t.el:c(""),d=e.anchor=t?t.anchor:c("");let{patchFlag:p,dynamicChildren:g,slotScopeIds:f}=e;f&&(l=l?l.concat(f):f),null==t?(o(h,n,i),o(d,n,i),R(e.children||[],n,d,r,s,a,l,u)):p>0&&64&p&&g&&t.dynamicChildren?(G(t.dynamicChildren,g,n,r,s,a,l),(null!=e.key||r&&e===r.subTree)&&je(t,e,!0)):z(t,e,n,d,r,s,a,l,u)},O=(t,e,n,i,r,o,s,a,l)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?r.ctx.activate(e,n,i,s,l):D(e,n,i,r,o,s,l):N(t,e,l)},D=(t,e,n,i,r,o,s)=>{const a=t.component=Ln(t,i,r);if(It(t)&&(a.ctx.renderer=et),Vn(a),a.asyncDep){if(r&&r.registerDep(a,U),!t.el){const t=a.subTree=_n(nn);v(null,t,e,n)}}else U(a,t,e,n,r,o,s)},N=(t,e,n)=>{const i=e.component=t.component;if(j(t,e,n)){if(i.asyncDep&&!i.asyncResolved)return void B(i,e,n);i.next=e,I(i.update),i.effect.dirty=!0,i.update()}else e.el=t.el,i.vnode=e},U=(t,e,n,o,s,a,l)=>{const c=()=>{if(t.isMounted){let{next:e,bu:n,u:i,parent:o,vnode:u}=t;{const n=We(t);if(n)return e&&(e.el=u.el,B(t,e,l)),void n.asyncDep.then((()=>{t.isUnmounted||c()}))}let h,d=e;0,Ue(t,!1),e?(e.el=u.el,B(t,e,l)):e=u,n&&(0,r.DY)(n),(h=e.props&&e.props.onVnodeBeforeUpdate)&&Rn(h,o,e,u),Ue(t,!0);const g=F(t);0;const f=t.subTree;t.subTree=g,A(f,g,p(f.el),Q(f),t,s,a),e.el=g.el,null===d&&W(t,g.el),i&&Oe(i,s),(h=e.props&&e.props.onVnodeUpdated)&&Oe((()=>Rn(h,o,e,u)),s)}else{let i;const{el:l,props:c}=e,{bm:u,m:h,parent:d}=t,p=Ct(e);if(Ue(t,!1),u&&(0,r.DY)(u),!p&&(i=c&&c.onVnodeBeforeMount)&&Rn(i,d,e),Ue(t,!0),l&&it){const n=()=>{t.subTree=F(t),it(l,t.subTree,t,s,null)};p?e.type.__asyncLoader().then((()=>!t.isUnmounted&&n())):n()}else{0;const i=t.subTree=F(t);0,A(null,i,n,o,t,s,a),e.el=i.el}if(h&&Oe(h,s),!p&&(i=c&&c.onVnodeMounted)){const t=e;Oe((()=>Rn(i,d,t)),s)}(256&e.shapeFlag||d&&Ct(d.vnode)&&256&d.vnode.shapeFlag)&&t.a&&Oe(t.a,s),t.isMounted=!0,e=n=o=null}},u=t.effect=new i.X2(c,r.tE,(()=>_(h)),t.scope),h=t.update=()=>{u.dirty&&u.run()};h.id=t.uid,Ue(t,!0),h()},B=(t,e,n)=>{e.component=t;const r=t.vnode.props;t.vnode=e,t.next=null,ye(t,e.props,r,n),Ge(t,e.children,n),(0,i.C4)(),w(t),(0,i.bl)()},z=(t,e,n,i,r,o,s,a,l=!1)=>{const c=t&&t.children,u=t?t.shapeFlag:0,h=e.children,{patchFlag:p,shapeFlag:g}=e;if(p>0){if(128&p)return void Y(c,h,n,i,r,o,s,a,l);if(256&p)return void V(c,h,n,i,r,o,s,a,l)}8&g?(16&u&&J(c,r,o),h!==c&&d(n,h)):16&u?16&g?Y(c,h,n,i,r,o,s,a,l):J(c,r,o,!0):(8&u&&d(n,""),16&g&&R(h,n,i,r,o,s,a,l))},V=(t,e,n,i,o,s,a,l,c)=>{t=t||r.Oj,e=e||r.Oj;const u=t.length,h=e.length,d=Math.min(u,h);let p;for(p=0;p<d;p++){const i=e[p]=c?Sn(e[p]):xn(e[p]);A(t[p],i,n,null,o,s,a,l,c)}u>h?J(t,o,s,!0,!1,d):R(e,n,i,o,s,a,l,c,d)},Y=(t,e,n,i,o,s,a,l,c)=>{let u=0;const h=e.length;let d=t.length-1,p=h-1;while(u<=d&&u<=p){const i=t[u],r=e[u]=c?Sn(e[u]):xn(e[u]);if(!fn(i,r))break;A(i,r,n,null,o,s,a,l,c),u++}while(u<=d&&u<=p){const i=t[d],r=e[p]=c?Sn(e[p]):xn(e[p]);if(!fn(i,r))break;A(i,r,n,null,o,s,a,l,c),d--,p--}if(u>d){if(u<=p){const t=p+1,r=t<h?e[t].el:i;while(u<=p)A(null,e[u]=c?Sn(e[u]):xn(e[u]),n,r,o,s,a,l,c),u++}}else if(u>p)while(u<=d)q(t[u],o,s,!0),u++;else{const g=u,f=u,m=new Map;for(u=f;u<=p;u++){const t=e[u]=c?Sn(e[u]):xn(e[u]);null!=t.key&&m.set(t.key,u)}let y,v=0;const _=p-f+1;let C=!1,I=0;const E=new Array(_);for(u=0;u<_;u++)E[u]=0;for(u=g;u<=d;u++){const i=t[u];if(v>=_){q(i,o,s,!0);continue}let r;if(null!=i.key)r=m.get(i.key);else for(y=f;y<=p;y++)if(0===E[y-f]&&fn(i,e[y])){r=y;break}void 0===r?q(i,o,s,!0):(E[r-f]=u+1,r>=I?I=r:C=!0,A(i,e[r],n,null,o,s,a,l,c),v++)}const w=C?ze(E):r.Oj;for(y=w.length-1,u=_-1;u>=0;u--){const t=f+u,r=e[t],d=t+1<h?e[t+1].el:i;0===E[u]?A(null,r,n,d,o,s,a,l,c):C&&(y<0||u!==w[y]?H(r,n,d,2):y--)}}},H=(t,e,n,i,r=null)=>{const{el:s,type:a,transition:l,children:c,shapeFlag:u}=t;if(6&u)return void H(t.component.subTree,e,n,i);if(128&u)return void t.suspense.move(e,n,i);if(64&u)return void a.move(t,e,n,et);if(a===tn){o(s,e,n);for(let t=0;t<c.length;t++)H(c[t],e,n,i);return void o(t.anchor,e,n)}if(a===rn)return void E(t,e,n);const h=2!==i&&1&u&&l;if(h)if(0===i)l.beforeEnter(s),o(s,e,n),Oe((()=>l.enter(s)),r);else{const{leave:t,delayLeave:i,afterLeave:r}=l,a=()=>o(s,e,n),c=()=>{t(s,(()=>{a(),r&&r()}))};i?i(s,a,c):c()}else o(s,e,n)},q=(t,e,n,i=!1,r=!1)=>{const{type:o,props:s,ref:a,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:h,dirs:d}=t;if(null!=a&&Le(a,null,n,t,!0),256&u)return void e.ctx.deactivate(t);const p=1&u&&d,g=!Ct(t);let f;if(g&&(f=s&&s.onVnodeBeforeUnmount)&&Rn(f,e,t),6&u)K(t.component,n,i);else{if(128&u)return void t.suspense.unmount(n,i);p&&st(t,null,e,"beforeUnmount"),64&u?t.type.remove(t,e,n,r,et,i):c&&(o!==tn||h>0&&64&h)?J(c,e,n,!1,!0):(o===tn&&384&h||!r&&16&u)&&J(l,e,n),i&&X(t)}(g&&(f=s&&s.onVnodeUnmounted)||p)&&Oe((()=>{f&&Rn(f,e,t),p&&st(t,null,e,"unmounted")}),n)},X=t=>{const{type:e,el:n,anchor:i,transition:r}=t;if(e===tn)return void Z(n,i);if(e===rn)return void x(t);const o=()=>{s(n),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&t.shapeFlag&&r&&!r.persisted){const{leave:e,delayLeave:i}=r,s=()=>e(n,o);i?i(t.el,o,s):s()}else o()},Z=(t,e)=>{let n;while(t!==e)n=g(t),s(t),t=n;s(e)},K=(t,e,n)=>{const{bum:i,scope:o,update:s,subTree:a,um:l}=t;i&&(0,r.DY)(i),o.stop(),s&&(s.active=!1,q(a,t,e,n)),l&&Oe(l,e),Oe((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},J=(t,e,n,i=!1,r=!1,o=0)=>{for(let s=o;s<t.length;s++)q(t[s],e,n,i,r)},Q=t=>6&t.shapeFlag?Q(t.component.subTree):128&t.shapeFlag?t.suspense.next():g(t.anchor||t.el);let $=!1;const tt=(t,e,n)=>{null==t?e._vnode&&q(e._vnode,null,null,!0):A(e._vnode||null,t,e,null,null,null,n),$||($=!0,w(),b(),$=!1),e._vnode=t},et={p:A,um:q,m:H,r:X,mt:D,mc:R,pc:z,pbc:G,n:Q,o:t};let nt,it;return e&&([nt,it]=e(et)),{render:tt,hydrate:nt,createApp:pe(tt,nt)}}function Fe({type:t,props:e},n){return"svg"===n&&"foreignObject"===t||"mathml"===n&&"annotation-xml"===t&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Ue({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Be(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function je(t,e,n=!1){const i=t.children,o=e.children;if((0,r.cy)(i)&&(0,r.cy)(o))for(let r=0;r<i.length;r++){const t=i[r];let e=o[r];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=o[r]=Sn(o[r]),e.el=t.el),n||je(t,e)),e.type===en&&(e.el=t.el)}}function ze(t){const e=t.slice(),n=[0];let i,r,o,s,a;const l=t.length;for(i=0;i<l;i++){const l=t[i];if(0!==l){if(r=n[n.length-1],t[r]<l){e[i]=r,n.push(i);continue}o=0,s=n.length-1;while(o<s)a=o+s>>1,t[n[a]]<l?o=a+1:s=a;l<t[n[o]]&&(o>0&&(e[i]=n[o-1]),n[o]=i)}}o=n.length,s=n[o-1];while(o-- >0)n[o]=s,s=e[s];return n}function We(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:We(e)}const Ve=t=>t.__isTeleport,Ye=t=>t&&(t.disabled||""===t.disabled),He=t=>"undefined"!==typeof SVGElement&&t instanceof SVGElement,qe=t=>"function"===typeof MathMLElement&&t instanceof MathMLElement,Xe=(t,e)=>{const n=t&&t.to;if((0,r.Kg)(n)){if(e){const t=e(n);return t}return null}return n},Ze={name:"Teleport",__isTeleport:!0,process(t,e,n,i,r,o,s,a,l,c){const{mc:u,pc:h,pbc:d,o:{insert:p,querySelector:g,createText:f,createComment:m}}=c,A=Ye(e.props);let{shapeFlag:y,children:v,dynamicChildren:_}=e;if(null==t){const t=e.el=f(""),c=e.anchor=f("");p(t,n,i),p(c,n,i);const h=e.target=Xe(e.props,g),d=e.targetAnchor=f("");h&&(p(d,h),"svg"===s||He(h)?s="svg":("mathml"===s||qe(h))&&(s="mathml"));const m=(t,e)=>{16&y&&u(v,t,e,r,o,s,a,l)};A?m(n,c):h&&m(h,d)}else{e.el=t.el;const i=e.anchor=t.anchor,u=e.target=t.target,p=e.targetAnchor=t.targetAnchor,f=Ye(t.props),m=f?n:u,y=f?i:p;if("svg"===s||He(u)?s="svg":("mathml"===s||qe(u))&&(s="mathml"),_?(d(t.dynamicChildren,_,m,r,o,s,a),je(t,e,!0)):l||h(t,e,m,y,r,o,s,a,!1),A)f?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Ke(e,n,i,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const t=e.target=Xe(e.props,g);t&&Ke(e,t,null,c,0)}else f&&Ke(e,u,p,c,1)}$e(e)},remove(t,e,n,i,{um:r,o:{remove:o}},s){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:h,props:d}=t;if(h&&o(u),s&&o(c),16&a){const t=s||!Ye(d);for(let i=0;i<l.length;i++){const o=l[i];r(o,e,n,t,!!o.dynamicChildren)}}},move:Ke,hydrate:Je};function Ke(t,e,n,{o:{insert:i},m:r},o=2){0===o&&i(t.targetAnchor,e,n);const{el:s,anchor:a,shapeFlag:l,children:c,props:u}=t,h=2===o;if(h&&i(s,e,n),(!h||Ye(u))&&16&l)for(let d=0;d<c.length;d++)r(c[d],e,n,2);h&&i(a,e,n)}function Je(t,e,n,i,r,o,{o:{nextSibling:s,parentNode:a,querySelector:l}},c){const u=e.target=Xe(e.props,l);if(u){const l=u._lpa||u.firstChild;if(16&e.shapeFlag)if(Ye(e.props))e.anchor=c(s(t),e,a(t),n,i,r,o),e.targetAnchor=l;else{e.anchor=s(t);let a=l;while(a)if(a=s(a),a&&8===a.nodeType&&"teleport anchor"===a.data){e.targetAnchor=a,u._lpa=e.targetAnchor&&s(e.targetAnchor);break}c(l,e,u,n,i,r,o)}$e(e)}return e.anchor&&s(e.anchor)}const Qe=Ze;function $e(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;while(n&&n!==t.targetAnchor)1===n.nodeType&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const tn=Symbol.for("v-fgt"),en=Symbol.for("v-txt"),nn=Symbol.for("v-cmt"),rn=Symbol.for("v-stc"),on=[];let sn=null;function an(t=!1){on.push(sn=t?null:[])}function ln(){on.pop(),sn=on[on.length-1]||null}let cn=1;function un(t){cn+=t}function hn(t){return t.dynamicChildren=cn>0?sn||r.Oj:null,ln(),cn>0&&sn&&sn.push(t),t}function dn(t,e,n,i,r,o){return hn(vn(t,e,n,i,r,o,!0))}function pn(t,e,n,i,r){return hn(_n(t,e,n,i,r,!0))}function gn(t){return!!t&&!0===t.__v_isVNode}function fn(t,e){return t.type===e.type&&t.key===e.key}const mn="__vInternal",An=({key:t})=>null!=t?t:null,yn=({ref:t,ref_key:e,ref_for:n})=>("number"===typeof t&&(t=""+t),null!=t?(0,r.Kg)(t)||(0,i.i9)(t)||(0,r.Tn)(t)?{i:G,r:t,k:e,f:!!n}:t:null);function vn(t,e=null,n=null,i=0,o=null,s=(t===tn?0:1),a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&An(e),ref:e&&yn(e),scopeId:L,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:G};return l?(Pn(c,n),128&s&&t.normalize(c)):n&&(c.shapeFlag|=(0,r.Kg)(n)?8:16),cn>0&&!a&&sn&&(c.patchFlag>0||6&s)&&32!==c.patchFlag&&sn.push(c),c}const _n=Cn;function Cn(t,e=null,n=null,o=0,s=null,a=!1){if(t&&t!==H||(t=nn),gn(t)){const i=En(t,e,!0);return n&&Pn(i,n),cn>0&&!a&&sn&&(6&i.shapeFlag?sn[sn.indexOf(t)]=i:sn.push(i)),i.patchFlag|=-2,i}if(Qn(t)&&(t=t.__vccOpts),e){e=In(e);let{class:t,style:n}=e;t&&!(0,r.Kg)(t)&&(e.class=(0,r.C4)(t)),(0,r.Gv)(n)&&((0,i.ju)(n)&&!(0,r.cy)(n)&&(n=(0,r.X$)({},n)),e.style=(0,r.Tr)(n))}const l=(0,r.Kg)(t)?1:Z(t)?128:Ve(t)?64:(0,r.Gv)(t)?4:(0,r.Tn)(t)?2:0;return vn(t,e,n,o,s,l,a,!0)}function In(t){return t?(0,i.ju)(t)||mn in t?(0,r.X$)({},t):t:null}function En(t,e,n=!1){const{props:i,ref:o,patchFlag:s,children:a}=t,l=e?Mn(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&An(l),ref:e&&e.ref?n&&o?(0,r.cy)(o)?o.concat(yn(e)):[o,yn(e)]:yn(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==tn?-1===s?16:16|s:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&En(t.ssContent),ssFallback:t.ssFallback&&En(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c}function wn(t=" ",e=0){return _n(en,null,t,e)}function bn(t="",e=!1){return e?(an(),pn(nn,null,t)):_n(nn,null,t)}function xn(t){return null==t||"boolean"===typeof t?_n(nn):(0,r.cy)(t)?_n(tn,null,t.slice()):"object"===typeof t?Sn(t):_n(en,null,String(t))}function Sn(t){return null===t.el&&-1!==t.patchFlag||t.memo?t:En(t)}function Pn(t,e){let n=0;const{shapeFlag:i}=t;if(null==e)e=null;else if((0,r.cy)(e))n=16;else if("object"===typeof e){if(65&i){const n=e.default;return void(n&&(n._c&&(n._d=!1),Pn(t,n()),n._c&&(n._d=!0)))}{n=32;const i=e._;i||mn in e?3===i&&G&&(1===G.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=G}}else(0,r.Tn)(e)?(e={default:e,_ctx:G},n=32):(e=String(e),64&i?(n=16,e=[wn(e)]):n=8);t.children=e,t.shapeFlag|=n}function Mn(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const t in i)if("class"===t)e.class!==i.class&&(e.class=(0,r.C4)([e.class,i.class]));else if("style"===t)e.style=(0,r.Tr)([e.style,i.style]);else if((0,r.Mp)(t)){const n=e[t],o=i[t];!o||n===o||(0,r.cy)(n)&&n.includes(o)||(e[t]=n?[].concat(n,o):o)}else""!==t&&(e[t]=i[t])}return e}function Rn(t,e,n,i=null){s(t,e,7,[n,i])}const Tn=he();let Gn=0;function Ln(t,e,n){const o=t.type,s=(e?e.appContext:t.appContext)||Tn,a={uid:Gn++,vnode:t,type:o,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new i.yC(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ce(o,s),emitsOptions:R(o,s),emit:null,emitted:null,propsDefaults:r.MZ,inheritAttrs:o.inheritAttrs,ctx:r.MZ,data:r.MZ,props:r.MZ,attrs:r.MZ,slots:r.MZ,refs:r.MZ,setupState:r.MZ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=M.bind(null,a),t.ce&&t.ce(a),a}let kn=null;const On=()=>kn||G;let Dn,Nn;{const t=(0,r.We)(),e=(e,n)=>{let i;return(i=t[e])||(i=t[e]=[]),i.push(n),t=>{i.length>1?i.forEach((e=>e(t))):i[0](t)}};Dn=e("__VUE_INSTANCE_SETTERS__",(t=>kn=t)),Nn=e("__VUE_SSR_SETTERS__",(t=>Wn=t))}const Fn=t=>{const e=kn;return Dn(t),t.scope.on(),()=>{t.scope.off(),Dn(e)}},Un=()=>{kn&&kn.scope.off(),Dn(null)};function Bn(t){return 4&t.vnode.shapeFlag}let jn,zn,Wn=!1;function Vn(t,e=!1){e&&Nn(e);const{props:n,children:i}=t.vnode,r=Bn(t);Ae(t,n,r,e),Te(t,i);const o=r?Yn(t,e):void 0;return e&&Nn(!1),o}function Yn(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=(0,i.IG)(new Proxy(t.ctx,Xt));const{setup:s}=n;if(s){const n=t.setupContext=s.length>1?Zn(t):null,l=Fn(t);(0,i.C4)();const c=o(s,t,0,[t.props,n]);if((0,i.bl)(),l(),(0,r.yL)(c)){if(c.then(Un,Un),e)return c.then((n=>{Hn(t,n,e)})).catch((e=>{a(e,t,0)}));t.asyncDep=c}else Hn(t,c,e)}else qn(t,e)}function Hn(t,e,n){(0,r.Tn)(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:(0,r.Gv)(e)&&(t.setupState=(0,i.Pr)(e)),qn(t,n)}function qn(t,e,n){const o=t.type;if(!t.render){if(!e&&jn&&!o.render){const e=o.template||ee(t).template;if(e){0;const{isCustomElement:n,compilerOptions:i}=t.appContext.config,{delimiters:s,compilerOptions:a}=o,l=(0,r.X$)((0,r.X$)({isCustomElement:n,delimiters:s},i),a);o.render=jn(e,l)}}t.render=o.render||r.tE,zn&&zn(t)}{const e=Fn(t);(0,i.C4)();try{Jt(t)}finally{(0,i.bl)(),e()}}}function Xn(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return(0,i.u4)(t,"get","$attrs"),e[n]}}))}function Zn(t){const e=e=>{t.exposed=e||{}};return{get attrs(){return Xn(t)},slots:t.slots,emit:t.emit,expose:e}}function Kn(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy((0,i.Pr)((0,i.IG)(t.exposed)),{get(e,n){return n in e?e[n]:n in Ht?Ht[n](t):void 0},has(t,e){return e in t||e in Ht}}))}function Jn(t,e=!0){return(0,r.Tn)(t)?t.displayName||t.name:t.name||e&&t.__name}function Qn(t){return(0,r.Tn)(t)&&"__vccOpts"in t}const $n=(t,e)=>{const n=(0,i.EW)(t,e,Wn);return n};function ti(t,e,n){const i=arguments.length;return 2===i?(0,r.Gv)(e)&&!(0,r.cy)(e)?gn(e)?_n(t,null,[e]):_n(t,e):_n(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):3===i&&gn(n)&&(n=[n]),_n(t,e,n))}const ei="3.4.21"},3751:function(t,e,n){"use strict";n.d(e,{D$:function(){return bt},Ef:function(){return Mt},Jo:function(){return yt},eB:function(){return g},lH:function(){return vt}});var i=n(641),r=n(33),o=n(953);
/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
const s="http://www.w3.org/2000/svg",a="http://www.w3.org/1998/Math/MathML",l="undefined"!==typeof document?document:null,c=l&&l.createElement("template"),u={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const r="svg"===e?l.createElementNS(s,t):"mathml"===e?l.createElementNS(a,t):l.createElement(t,n?{is:n}:void 0);return"select"===t&&i&&null!=i.multiple&&r.setAttribute("multiple",i.multiple),r},createText:t=>l.createTextNode(t),createComment:t=>l.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>l.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,r,o){const s=n?n.previousSibling:e.lastChild;if(r&&(r===o||r.nextSibling)){while(1)if(e.insertBefore(r.cloneNode(!0),n),r===o||!(r=r.nextSibling))break}else{c.innerHTML="svg"===i?`<svg>${t}</svg>`:"mathml"===i?`<math>${t}</math>`:t;const r=c.content;if("svg"===i||"mathml"===i){const t=r.firstChild;while(t.firstChild)r.appendChild(t.firstChild);r.removeChild(t)}e.insertBefore(r,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},h="transition",d="animation",p=Symbol("_vtc"),g=(t,{slots:e})=>(0,i.h)(i.pR,v(t),e);g.displayName="Transition";const f={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},m=g.props=(0,r.X$)({},i.QP,f),A=(t,e=[])=>{(0,r.cy)(t)?t.forEach((t=>t(...e))):t&&t(...e)},y=t=>!!t&&((0,r.cy)(t)?t.some((t=>t.length>1)):t.length>1);function v(t){const e={};for(const r in t)r in f||(e[r]=t[r]);if(!1===t.css)return e;const{name:n="v",type:i,duration:o,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=s,appearActiveClass:u=a,appearToClass:h=l,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=t,m=_(o),v=m&&m[0],C=m&&m[1],{onBeforeEnter:b,onEnter:S,onEnterCancelled:P,onLeave:M,onLeaveCancelled:T,onBeforeAppear:G=b,onAppear:L=S,onAppearCancelled:k=P}=e,O=(t,e,n)=>{E(t,e?h:l),E(t,e?u:a),n&&n()},D=(t,e)=>{t._isLeaving=!1,E(t,d),E(t,g),E(t,p),e&&e()},N=t=>(e,n)=>{const r=t?L:S,o=()=>O(e,t,n);A(r,[e,o]),w((()=>{E(e,t?c:s),I(e,t?h:l),y(r)||x(e,i,v,o)}))};return(0,r.X$)(e,{onBeforeEnter(t){A(b,[t]),I(t,s),I(t,a)},onBeforeAppear(t){A(G,[t]),I(t,c),I(t,u)},onEnter:N(!1),onAppear:N(!0),onLeave(t,e){t._isLeaving=!0;const n=()=>D(t,e);I(t,d),R(),I(t,p),w((()=>{t._isLeaving&&(E(t,d),I(t,g),y(M)||x(t,i,C,n))})),A(M,[t,n])},onEnterCancelled(t){O(t,!1),A(P,[t])},onAppearCancelled(t){O(t,!0),A(k,[t])},onLeaveCancelled(t){D(t),A(T,[t])}})}function _(t){if(null==t)return null;if((0,r.Gv)(t))return[C(t.enter),C(t.leave)];{const e=C(t);return[e,e]}}function C(t){const e=(0,r.Ro)(t);return e}function I(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.add(e))),(t[p]||(t[p]=new Set)).add(e)}function E(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.remove(e)));const n=t[p];n&&(n.delete(e),n.size||(t[p]=void 0))}function w(t){requestAnimationFrame((()=>{requestAnimationFrame(t)}))}let b=0;function x(t,e,n,i){const r=t._endId=++b,o=()=>{r===t._endId&&i()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:l}=S(t,e);if(!s)return i();const c=s+"end";let u=0;const h=()=>{t.removeEventListener(c,d),o()},d=e=>{e.target===t&&++u>=l&&h()};setTimeout((()=>{u<l&&h()}),a+1),t.addEventListener(c,d)}function S(t,e){const n=window.getComputedStyle(t),i=t=>(n[t]||"").split(", "),r=i(`${h}Delay`),o=i(`${h}Duration`),s=P(r,o),a=i(`${d}Delay`),l=i(`${d}Duration`),c=P(a,l);let u=null,p=0,g=0;e===h?s>0&&(u=h,p=s,g=o.length):e===d?c>0&&(u=d,p=c,g=l.length):(p=Math.max(s,c),u=p>0?s>c?h:d:null,g=u?u===h?o.length:l.length:0);const f=u===h&&/\b(transform|all)(,|$)/.test(i(`${h}Property`).toString());return{type:u,timeout:p,propCount:g,hasTransform:f}}function P(t,e){while(t.length<e.length)t=t.concat(t);return Math.max(...e.map(((e,n)=>M(e)+M(t[n]))))}function M(t){return"auto"===t?0:1e3*Number(t.slice(0,-1).replace(",","."))}function R(){return document.body.offsetHeight}function T(t,e,n){const i=t[p];i&&(e=(e?[e,...i]:[...i]).join(" ")),null==e?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const G=Symbol("_vod"),L=Symbol("_vsh");const k=Symbol("");const O=/(^|;)\s*display\s*:/;function D(t,e,n){const i=t.style,o=(0,r.Kg)(n);let s=!1;if(n&&!o){if(e)if((0,r.Kg)(e))for(const t of e.split(";")){const e=t.slice(0,t.indexOf(":")).trim();null==n[e]&&F(i,e,"")}else for(const t in e)null==n[t]&&F(i,t,"");for(const t in n)"display"===t&&(s=!0),F(i,t,n[t])}else if(o){if(e!==n){const t=i[k];t&&(n+=";"+t),i.cssText=n,s=O.test(n)}}else e&&t.removeAttribute("style");G in t&&(t[G]=s?i.display:"",t[L]&&(i.display="none"))}const N=/\s*!important$/;function F(t,e,n){if((0,r.cy)(n))n.forEach((n=>F(t,e,n)));else if(null==n&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=j(t,e);N.test(n)?t.setProperty((0,r.Tg)(i),n.replace(N,""),"important"):t[i]=n}}const U=["Webkit","Moz","ms"],B={};function j(t,e){const n=B[e];if(n)return n;let i=(0,r.PT)(e);if("filter"!==i&&i in t)return B[e]=i;i=(0,r.ZH)(i);for(let r=0;r<U.length;r++){const n=U[r]+i;if(n in t)return B[e]=n}return e}const z="http://www.w3.org/1999/xlink";function W(t,e,n,i,o){if(i&&e.startsWith("xlink:"))null==n?t.removeAttributeNS(z,e.slice(6,e.length)):t.setAttributeNS(z,e,n);else{const i=(0,r.J$)(e);null==n||i&&!(0,r.Y2)(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function V(t,e,n,i,o,s,a){if("innerHTML"===e||"textContent"===e)return i&&a(i,o,s),void(t[e]=null==n?"":n);const l=t.tagName;if("value"===e&&"PROGRESS"!==l&&!l.includes("-")){const i="OPTION"===l?t.getAttribute("value")||"":t.value,r=null==n?"":n;return i===r&&"_value"in t||(t.value=r),null==n&&t.removeAttribute(e),void(t._value=n)}let c=!1;if(""===n||null==n){const i=typeof t[e];"boolean"===i?n=(0,r.Y2)(n):null==n&&"string"===i?(n="",c=!0):"number"===i&&(n=0,c=!0)}try{t[e]=n}catch(u){0}c&&t.removeAttribute(e)}function Y(t,e,n,i){t.addEventListener(e,n,i)}function H(t,e,n,i){t.removeEventListener(e,n,i)}const q=Symbol("_vei");function X(t,e,n,i,r=null){const o=t[q]||(t[q]={}),s=o[e];if(i&&s)s.value=i;else{const[n,a]=K(e);if(i){const s=o[e]=tt(i,r);Y(t,n,s,a)}else s&&(H(t,n,s,a),o[e]=void 0)}}const Z=/(?:Once|Passive|Capture)$/;function K(t){let e;if(Z.test(t)){let n;e={};while(n=t.match(Z))t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}const n=":"===t[2]?t.slice(3):(0,r.Tg)(t.slice(2));return[n,e]}let J=0;const Q=Promise.resolve(),$=()=>J||(Q.then((()=>J=0)),J=Date.now());function tt(t,e){const n=t=>{if(t._vts){if(t._vts<=n.attached)return}else t._vts=Date.now();(0,i.qL)(et(t,n.value),e,5,[t])};return n.value=t,n.attached=$(),n}function et(t,e){if((0,r.cy)(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t&&t(e)))}return e}const nt=t=>111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,it=(t,e,n,i,o,s,a,l,c)=>{const u="svg"===o;"class"===e?T(t,i,u):"style"===e?D(t,n,i):(0,r.Mp)(e)?(0,r.CP)(e)||X(t,e,n,i,a):("."===e[0]?(e=e.slice(1),1):"^"===e[0]?(e=e.slice(1),0):rt(t,e,i,u))?V(t,e,i,s,a,l,c):("true-value"===e?t._trueValue=i:"false-value"===e&&(t._falseValue=i),W(t,e,i,u))};function rt(t,e,n,i){if(i)return"innerHTML"===e||"textContent"===e||!!(e in t&&nt(e)&&(0,r.Tn)(n));if("spellcheck"===e||"draggable"===e||"translate"===e)return!1;if("form"===e)return!1;if("list"===e&&"INPUT"===t.tagName)return!1;if("type"===e&&"TEXTAREA"===t.tagName)return!1;if("width"===e||"height"===e){const e=t.tagName;if("IMG"===e||"VIDEO"===e||"CANVAS"===e||"SOURCE"===e)return!1}return(!nt(e)||!(0,r.Kg)(n))&&e in t}
/*! #__NO_SIDE_EFFECTS__ */
/*! #__NO_SIDE_EFFECTS__ */
"undefined"!==typeof HTMLElement&&HTMLElement;const ot=new WeakMap,st=new WeakMap,at=Symbol("_moveCb"),lt=Symbol("_enterCb"),ct={name:"TransitionGroup",props:(0,r.X$)({},m,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=(0,i.nI)(),r=(0,i.Gy)();let s,a;return(0,i.$u)((()=>{if(!s.length)return;const e=t.moveClass||`${t.name||"v"}-move`;if(!pt(s[0].el,n.vnode.el,e))return;s.forEach(ut),s.forEach(ht);const i=s.filter(dt);R(),i.forEach((t=>{const n=t.el,i=n.style;I(n,e),i.transform=i.webkitTransform=i.transitionDuration="";const r=n[at]=t=>{t&&t.target!==n||t&&!/transform$/.test(t.propertyName)||(n.removeEventListener("transitionend",r),n[at]=null,E(n,e))};n.addEventListener("transitionend",r)}))})),()=>{const l=(0,o.ux)(t),c=v(l);let u=l.tag||i.FK;s=a,a=e.default?(0,i.Df)(e.default()):[];for(let t=0;t<a.length;t++){const e=a[t];null!=e.key&&(0,i.MZ)(e,(0,i.OW)(e,c,r,n))}if(s)for(let t=0;t<s.length;t++){const e=s[t];(0,i.MZ)(e,(0,i.OW)(e,c,r,n)),ot.set(e,e.el.getBoundingClientRect())}return(0,i.bF)(u,null,a)}}};ct.props;function ut(t){const e=t.el;e[at]&&e[at](),e[lt]&&e[lt]()}function ht(t){st.set(t,t.el.getBoundingClientRect())}function dt(t){const e=ot.get(t),n=st.get(t),i=e.left-n.left,r=e.top-n.top;if(i||r){const e=t.el.style;return e.transform=e.webkitTransform=`translate(${i}px,${r}px)`,e.transitionDuration="0s",t}}function pt(t,e,n){const i=t.cloneNode(),r=t[p];r&&r.forEach((t=>{t.split(/\s+/).forEach((t=>t&&i.classList.remove(t)))})),n.split(/\s+/).forEach((t=>t&&i.classList.add(t))),i.style.display="none";const o=1===e.nodeType?e:e.parentNode;o.appendChild(i);const{hasTransform:s}=S(i);return o.removeChild(i),s}const gt=t=>{const e=t.props["onUpdate:modelValue"]||!1;return(0,r.cy)(e)?t=>(0,r.DY)(e,t):e};function ft(t){t.target.composing=!0}function mt(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const At=Symbol("_assign"),yt={created(t,{modifiers:{lazy:e,trim:n,number:i}},o){t[At]=gt(o);const s=i||o.props&&"number"===o.props.type;Y(t,e?"change":"input",(e=>{if(e.target.composing)return;let i=t.value;n&&(i=i.trim()),s&&(i=(0,r.bB)(i)),t[At](i)})),n&&Y(t,"change",(()=>{t.value=t.value.trim()})),e||(Y(t,"compositionstart",ft),Y(t,"compositionend",mt),Y(t,"change",mt))},mounted(t,{value:e}){t.value=null==e?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:i,number:o}},s){if(t[At]=gt(s),t.composing)return;const a=o||"number"===t.type?(0,r.bB)(t.value):t.value,l=null==e?"":e;if(a!==l){if(document.activeElement===t&&"range"!==t.type){if(n)return;if(i&&t.value.trim()===l)return}t.value=l}}},vt={deep:!0,created(t,e,n){t[At]=gt(n),Y(t,"change",(()=>{const e=t._modelValue,n=Ct(t),i=t.checked,o=t[At];if((0,r.cy)(e)){const t=(0,r.u3)(e,n),s=-1!==t;if(i&&!s)o(e.concat(n));else if(!i&&s){const n=[...e];n.splice(t,1),o(n)}}else if((0,r.vM)(e)){const t=new Set(e);i?t.add(n):t.delete(n),o(t)}else o(It(t,i))}))},mounted:_t,beforeUpdate(t,e,n){t[At]=gt(n),_t(t,e,n)}};function _t(t,{value:e,oldValue:n},i){t._modelValue=e,(0,r.cy)(e)?t.checked=(0,r.u3)(e,i.props.value)>-1:(0,r.vM)(e)?t.checked=e.has(i.props.value):e!==n&&(t.checked=(0,r.BX)(e,It(t,!0)))}function Ct(t){return"_value"in t?t._value:t.value}function It(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Et=["ctrl","shift","alt","meta"],wt={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>Et.some((n=>t[`${n}Key`]&&!e.includes(n)))},bt=(t,e)=>{const n=t._withMods||(t._withMods={}),i=e.join(".");return n[i]||(n[i]=(n,...i)=>{for(let t=0;t<e.length;t++){const i=wt[e[t]];if(i&&i(n,e))return}return t(n,...i)})},xt=(0,r.X$)({patchProp:it},u);let St;function Pt(){return St||(St=(0,i.K9)(xt))}const Mt=(...t)=>{const e=Pt().createApp(...t);const{mount:n}=e;return e.mount=t=>{const i=Tt(t);if(!i)return;const o=e._component;(0,r.Tn)(o)||o.render||o.template||(o.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,Rt(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},e};function Rt(t){return t instanceof SVGElement?"svg":"function"===typeof MathMLElement&&t instanceof MathMLElement?"mathml":void 0}function Tt(t){if((0,r.Kg)(t)){const e=document.querySelector(t);return e}return t}},33:function(t,e,n){"use strict";
/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
function i(t,e){const n=new Set(t.split(","));return e?t=>n.has(t.toLowerCase()):t=>n.has(t)}n.d(e,{$3:function(){return p},$H:function(){return N},BH:function(){return Y},BX:function(){return nt},Bm:function(){return C},C4:function(){return J},CE:function(){return f},CP:function(){return c},DY:function(){return F},Gv:function(){return I},J$:function(){return $},Kg:function(){return _},MZ:function(){return r},Mp:function(){return l},NO:function(){return a},Oj:function(){return o},PT:function(){return G},Qd:function(){return S},Ro:function(){return j},SU:function(){return M},TF:function(){return h},Tg:function(){return k},Tn:function(){return v},Tr:function(){return H},We:function(){return W},X$:function(){return u},Y2:function(){return tt},ZH:function(){return O},Zf:function(){return x},bB:function(){return B},cy:function(){return g},gd:function(){return y},pD:function(){return i},rU:function(){return D},tE:function(){return s},u3:function(){return it},vM:function(){return m},v_:function(){return rt},yI:function(){return P},yL:function(){return E},yQ:function(){return U}});const r={},o=[],s=()=>{},a=()=>!1,l=t=>111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),c=t=>t.startsWith("onUpdate:"),u=Object.assign,h=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},d=Object.prototype.hasOwnProperty,p=(t,e)=>d.call(t,e),g=Array.isArray,f=t=>"[object Map]"===b(t),m=t=>"[object Set]"===b(t),A=t=>"[object Date]"===b(t),y=t=>"[object RegExp]"===b(t),v=t=>"function"===typeof t,_=t=>"string"===typeof t,C=t=>"symbol"===typeof t,I=t=>null!==t&&"object"===typeof t,E=t=>(I(t)||v(t))&&v(t.then)&&v(t.catch),w=Object.prototype.toString,b=t=>w.call(t),x=t=>b(t).slice(8,-1),S=t=>"[object Object]"===b(t),P=t=>_(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,M=i(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),R=t=>{const e=Object.create(null);return n=>{const i=e[n];return i||(e[n]=t(n))}},T=/-(\w)/g,G=R((t=>t.replace(T,((t,e)=>e?e.toUpperCase():"")))),L=/\B([A-Z])/g,k=R((t=>t.replace(L,"-$1").toLowerCase())),O=R((t=>t.charAt(0).toUpperCase()+t.slice(1))),D=R((t=>{const e=t?`on${O(t)}`:"";return e})),N=(t,e)=>!Object.is(t,e),F=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},U=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},B=t=>{const e=parseFloat(t);return isNaN(e)?t:e},j=t=>{const e=_(t)?Number(t):NaN;return isNaN(e)?t:e};let z;const W=()=>z||(z="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{});const V="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error",Y=i(V);function H(t){if(g(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],r=_(i)?K(i):H(i);if(r)for(const t in r)e[t]=r[t]}return e}if(_(t)||I(t))return t}const q=/;(?![^(]*\))/g,X=/:([^]+)/,Z=/\/\*[^]*?\*\//g;function K(t){const e={};return t.replace(Z,"").split(q).forEach((t=>{if(t){const n=t.split(X);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}function J(t){let e="";if(_(t))e=t;else if(g(t))for(let n=0;n<t.length;n++){const i=J(t[n]);i&&(e+=i+" ")}else if(I(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Q="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",$=i(Q);function tt(t){return!!t||""===t}function et(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=nt(t[i],e[i]);return n}function nt(t,e){if(t===e)return!0;let n=A(t),i=A(e);if(n||i)return!(!n||!i)&&t.getTime()===e.getTime();if(n=C(t),i=C(e),n||i)return t===e;if(n=g(t),i=g(e),n||i)return!(!n||!i)&&et(t,e);if(n=I(t),i=I(e),n||i){if(!n||!i)return!1;const r=Object.keys(t).length,o=Object.keys(e).length;if(r!==o)return!1;for(const n in t){const i=t.hasOwnProperty(n),r=e.hasOwnProperty(n);if(i&&!r||!i&&r||!nt(t[n],e[n]))return!1}}return String(t)===String(e)}function it(t,e){return t.findIndex((t=>nt(t,e)))}const rt=t=>_(t)?t:null==t?"":g(t)||I(t)&&(t.toString===w||!v(t.toString))?JSON.stringify(t,ot,2):String(t),ot=(t,e)=>e&&e.__v_isRef?ot(t,e.value):f(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,n],i)=>(t[st(e,i)+" =>"]=n,t)),{})}:m(e)?{[`Set(${e.size})`]:[...e.values()].map((t=>st(t)))}:C(e)?st(e):!I(e)||g(e)||S(e)?e:String(e),st=(t,e="")=>{var n;return C(t)?`Symbol(${null!=(n=t.description)?n:e})`:t}},5225:function(t,e,n){"use strict";n.d(e,{de:function(){return y},qy:function(){return b},mi:function(){return T}});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=o(["",""],["",""]);function o(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(){for(var e=this,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return s(this,t),this.tag=function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return"function"===typeof t?e.interimTag.bind(e,t):"string"===typeof t?e.transformEndResult(t):(t=t.map(e.transformString.bind(e)),e.transformEndResult(t.reduce(e.processSubstitutions.bind(e,i))))},i.length>0&&Array.isArray(i[0])&&(i=i[0]),this.transformers=i.map((function(t){return"function"===typeof t?t():t})),this.tag}return i(t,[{key:"interimTag",value:function(t,e){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return this.tag(r,t.apply(void 0,[e].concat(i)))}},{key:"processSubstitutions",value:function(t,e,n){var i=this.transformSubstitution(t.shift(),e);return"".concat(e,i,n)}},{key:"transformString",value:function(t){var e=function(t,e){return e.onString?e.onString(t):t};return this.transformers.reduce(e,t)}},{key:"transformSubstitution",value:function(t,e){var n=function(t,n){return n.onSubstitution?n.onSubstitution(t,e):t};return this.transformers.reduce(n,t)}},{key:"transformEndResult",value:function(t){var e=function(t,e){return e.onEndResult?e.onEndResult(t):t};return this.transformers.reduce(e,t)}}]),t}(),l=a,c={separator:"",conjunction:"",serial:!1},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return{onSubstitution:function(e,n){if(Array.isArray(e)){var i=e.length,r=t.separator,o=t.conjunction,s=t.serial,a=n.match(/(\n?[^\S\n]+)$/);if(e=a?e.join(r+a[1]):e.join(r+" "),o&&i>1){var l=e.lastIndexOf(r);e=e.slice(0,l)+(s?r:"")+" "+o+e.slice(l+1)}}return e}}},h=u;function d(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";return{onEndResult:function(e){if("initial"===t){var n=e.match(/^[^\S\n]*(?=\S)/gm),i=n&&Math.min.apply(Math,d(n.map((function(t){return t.length}))));if(i){var r=new RegExp("^.{"+i+"}","gm");return e.replace(r,"")}return e}if("all"===t)return e.replace(/^[^\S\n]+/gm,"");throw new Error("Unknown type: "+t)}}},g=p,f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{onEndResult:function(e){if(""===t)return e.trim();if(t=t.toLowerCase(),"start"===t||"left"===t)return e.replace(/^\s*/,"");if("end"===t||"right"===t)return e.replace(/\s*$/,"");throw new Error("Side not supported: "+t)}}},m=f,A=new l(h({separator:","}),g,m),y=A,v=(new l(h({separator:",",conjunction:"and"}),g,m),new l(h({separator:",",conjunction:"or"}),g,m),function(t){return{onSubstitution:function(e,n){if(null==t||"string"!==typeof t)throw new Error("You need to specify a string character to split by.");return"string"===typeof e&&e.includes(t)&&(e=e.split(t)),e}}}),_=v,C=function(t){return null!=t&&!Number.isNaN(t)&&"boolean"!==typeof t},I=function(){return{onSubstitution:function(t){return Array.isArray(t)?t.filter(C):C(t)?t:""}}},E=I,w=new l(_("\n"),E,h,g,m),b=w,x=function(t,e){return{onSubstitution:function(n,i){if(null==t||null==e)throw new Error("replaceSubstitutionTransformer requires at least 2 arguments.");return null==n?n:n.toString().replace(t,e)}}},S=x,P=(new l(_("\n"),h,g,m,S(/&/g,"&amp;"),S(/</g,"&lt;"),S(/>/g,"&gt;"),S(/"/g,"&quot;"),S(/'/g,"&#x27;"),S(/`/g,"&#x60;")),function(t,e){return{onEndResult:function(n){if(null==t||null==e)throw new Error("replaceResultTransformer requires at least 2 arguments.");return n.replace(t,e)}}}),M=P,R=(new l(M(/(?:\n(?:\s*))+/g," "),m),new l(M(/(?:\n\s*)/g,""),m),new l(h({separator:","}),M(/(?:\s+)/g," "),m),new l(h({separator:",",conjunction:"or"}),M(/(?:\s+)/g," "),m),new l(h({separator:",",conjunction:"and"}),M(/(?:\s+)/g," "),m),new l(h,g,m),new l(h,M(/(?:\s+)/g," "),m),new l(g,m),new l(g("all"),m)),T=R},3737:function(t){"use strict";function e(t){return"object"===typeof t&&null!==t}function n(t){return Array.isArray(t)}function i(t){return"string"===typeof t}function r(t){return"undefined"===typeof t}function o(t){return"number"===typeof t}function s(t){return"boolean"===typeof t}function a(t){return t instanceof Date}function l(t){this._data=t||{}}l.prototype.set=function(t,r){if(t&&""!==t){var o,s=/[\$\w-|:]+|\[\]|([^\[[\w]\]]|["'](.*?)['"])/g,a=t.match(s),l=this._data,c=null,u=null,h=function(t,e,n){"[]"===e?t.push(n):t[e]=n};while(a.length>0){if(o=a.shift().replace(/["']/g,""),["__proto__","prototype","constructor"].includes(o))throw new Error("Prototype pollution attempt detected");isNaN(+o)&&"[]"!==o?i(o)&&(e(l)||(l={},h(c,u,l))):n(l)||(l=[],h(c,u,l)),c=l,u=o,l=l[o]}return h(c,u,r),this}},l.prototype.get=function(t){var e=this._data,n=/[\$\w-|:]+|\[\]|([^\[[\w]\]]|["'](.*?)['"])/g;if(t){var i=t.match(n);while("undefined"!=typeof e&&i.length>0){if(!e.propertyIsEnumerable(i[0].replace(/"/g,"")))return;e=e[i.shift().replace(/"/g,"")]}return e}},l.prototype.data=function(t){return r(t)?this._data:(this._data=t,this)},l.transpose=function(t){var e=new l;for(var n in t)void 0!==t[n]&&e.set(n,t[n]);return e},l.untranspose=function(t){t=t||{};var r=t._data||t,l=function(t,r){var c=[],u=function(t,e){return function(e,n){var i=t;return/\./.test(t)&&(i='["'+i+'"]'),e.key.unshift(i+"."),{key:e.key,data:e.data}}};for(var h in t){var d;if(d=r?"["+h+"]":h,i(t[h])||o(t[h])||null===t[h]||s(t[h])||a(t[h]))/\./.test(h)&&(d='["'+h+'"]'),c.push({key:[d],data:t[h]});else if(n(t[h])){var p=l(t[h],!0);c=c.concat(p.map(u(d,t)))}else if(e(t[h])){var g=l(t[h],!1);c=c.concat(g.map(u(d,t)))}}return c},c=l(r,!1),u={};return c.every((function(t){for(var e=0;e<t.key.length-1;e++){var n=t.key[e],i=t.key[e+1];/^\[/.test(i)&&(t.key[e]=n.replace(/\.$/,""))}return u[t.key.join("")]=t.data,!0})),u},t.exports=l},9491:function(t){"use strict";function e(t,e){if(void 0===t||null===t)throw new TypeError("Cannot convert first argument to object");for(var n=Object(t),i=1;i<arguments.length;i++){var r=arguments[i];if(void 0!==r&&null!==r)for(var o=Object.keys(Object(r)),s=0,a=o.length;s<a;s++){var l=o[s],c=Object.getOwnPropertyDescriptor(r,l);void 0!==c&&c.enumerable&&(n[l]=r[l])}}return n}function n(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:e})}t.exports={assign:e,polyfill:n}},6964:function(t,e,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */
(function(e,n){t.exports=n()})(0,(function(){"use strict";function t(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}function e(t){return"function"===typeof t}var i=void 0;i=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var r=i,o=0,s=void 0,a=void 0,l=function(t,e){C[o]=t,C[o+1]=e,o+=2,2===o&&(a?a(I):w())};function c(t){a=t}function u(t){l=t}var h="undefined"!==typeof window?window:void 0,d=h||{},p=d.MutationObserver||d.WebKitMutationObserver,g="undefined"===typeof self&&"undefined"!==typeof process&&"[object process]"==={}.toString.call(process),f="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel;function m(){return function(){return process.nextTick(I)}}function A(){return"undefined"!==typeof s?function(){s(I)}:_()}function y(){var t=0,e=new p(I),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function v(){var t=new MessageChannel;return t.port1.onmessage=I,function(){return t.port2.postMessage(0)}}function _(){var t=setTimeout;return function(){return t(I,1)}}var C=new Array(1e3);function I(){for(var t=0;t<o;t+=2){var e=C[t],n=C[t+1];e(n),C[t]=void 0,C[t+1]=void 0}o=0}function E(){try{var t=Function("return this")().require("vertx");return s=t.runOnLoop||t.runOnContext,A()}catch(e){return _()}}var w=void 0;function b(t,e){var n=this,i=new this.constructor(P);void 0===i[S]&&X(i);var r=n._state;if(r){var o=arguments[r-1];l((function(){return V(r,i,o,n._result)}))}else z(n,i,t,e);return i}function x(t){var e=this;if(t&&"object"===typeof t&&t.constructor===e)return t;var n=new e(P);return F(n,t),n}w=g?m():p?y():f?v():void 0===h?E():_();var S=Math.random().toString(36).substring(2);function P(){}var M=void 0,R=1,T=2;function G(){return new TypeError("You cannot resolve a promise with itself")}function L(){return new TypeError("A promises callback cannot return that same promise.")}function k(t,e,n,i){try{t.call(e,n,i)}catch(r){return r}}function O(t,e,n){l((function(t){var i=!1,r=k(n,e,(function(n){i||(i=!0,e!==n?F(t,n):B(t,n))}),(function(e){i||(i=!0,j(t,e))}),"Settle: "+(t._label||" unknown promise"));!i&&r&&(i=!0,j(t,r))}),t)}function D(t,e){e._state===R?B(t,e._result):e._state===T?j(t,e._result):z(e,void 0,(function(e){return F(t,e)}),(function(e){return j(t,e)}))}function N(t,n,i){n.constructor===t.constructor&&i===b&&n.constructor.resolve===x?D(t,n):void 0===i?B(t,n):e(i)?O(t,n,i):B(t,n)}function F(e,n){if(e===n)j(e,G());else if(t(n)){var i=void 0;try{i=n.then}catch(r){return void j(e,r)}N(e,n,i)}else B(e,n)}function U(t){t._onerror&&t._onerror(t._result),W(t)}function B(t,e){t._state===M&&(t._result=e,t._state=R,0!==t._subscribers.length&&l(W,t))}function j(t,e){t._state===M&&(t._state=T,t._result=e,l(U,t))}function z(t,e,n,i){var r=t._subscribers,o=r.length;t._onerror=null,r[o]=e,r[o+R]=n,r[o+T]=i,0===o&&t._state&&l(W,t)}function W(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var i=void 0,r=void 0,o=t._result,s=0;s<e.length;s+=3)i=e[s],r=e[s+n],i?V(n,i,r,o):r(o);t._subscribers.length=0}}function V(t,n,i,r){var o=e(i),s=void 0,a=void 0,l=!0;if(o){try{s=i(r)}catch(c){l=!1,a=c}if(n===s)return void j(n,L())}else s=r;n._state!==M||(o&&l?F(n,s):!1===l?j(n,a):t===R?B(n,s):t===T&&j(n,s))}function Y(t,e){try{e((function(e){F(t,e)}),(function(e){j(t,e)}))}catch(n){j(t,n)}}var H=0;function q(){return H++}function X(t){t[S]=H++,t._state=void 0,t._result=void 0,t._subscribers=[]}function Z(){return new Error("Array Methods must be provided an Array")}var K=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(P),this.promise[S]||X(this.promise),r(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?B(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&B(this.promise,this._result))):j(this.promise,Z())}return t.prototype._enumerate=function(t){for(var e=0;this._state===M&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,i=n.resolve;if(i===x){var r=void 0,o=void 0,s=!1;try{r=t.then}catch(l){s=!0,o=l}if(r===b&&t._state!==M)this._settledAt(t._state,e,t._result);else if("function"!==typeof r)this._remaining--,this._result[e]=t;else if(n===nt){var a=new n(P);s?j(a,o):N(a,t,r),this._willSettleAt(a,e)}else this._willSettleAt(new n((function(e){return e(t)})),e)}else this._willSettleAt(i(t),e)},t.prototype._settledAt=function(t,e,n){var i=this.promise;i._state===M&&(this._remaining--,t===T?j(i,n):this._result[e]=n),0===this._remaining&&B(i,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;z(t,void 0,(function(t){return n._settledAt(R,e,t)}),(function(t){return n._settledAt(T,e,t)}))},t}();function J(t){return new K(this,t).promise}function Q(t){var e=this;return r(t)?new e((function(n,i){for(var r=t.length,o=0;o<r;o++)e.resolve(t[o]).then(n,i)})):new e((function(t,e){return e(new TypeError("You must pass an array to race."))}))}function $(t){var e=this,n=new e(P);return j(n,t),n}function tt(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function et(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var nt=function(){function t(e){this[S]=q(),this._result=this._state=void 0,this._subscribers=[],P!==e&&("function"!==typeof e&&tt(),this instanceof t?Y(this,e):et())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var n=this,i=n.constructor;return e(t)?n.then((function(e){return i.resolve(t()).then((function(){return e}))}),(function(e){return i.resolve(t()).then((function(){throw e}))})):n.then(t,t)},t}();function it(){var t=void 0;if("undefined"!==typeof n.g)t=n.g;else if("undefined"!==typeof self)t=self;else try{t=Function("return this")()}catch(r){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var i=null;try{i=Object.prototype.toString.call(e.resolve())}catch(r){}if("[object Promise]"===i&&!e.cast)return}t.Promise=nt}return nt.prototype.then=b,nt.all=J,nt.race=Q,nt.resolve=x,nt.reject=$,nt._setScheduler=c,nt._setAsap=u,nt._asap=l,nt.polyfill=it,nt.Promise=nt,nt}))},3110:function(t){(function(e,n){t.exports=n()})(0,(function(){var t={};t=function(){this.listeners={}},t.prototype={addEventListener:function(t,e,n){for(var i=[],r=arguments.length,o=0;o<r;o++)i.push(arguments[o]);i=i.length>3?i.splice(3,i.length-1):[],"undefined"!=typeof this.listeners[t]?this.listeners[t].push({scope:n,callback:e,args:i}):this.listeners[t]=[{scope:n,callback:e,args:i}]},removeEventListener:function(t,e,n){if("undefined"!=typeof this.listeners[t]){for(var i=this.listeners[t].length,r=[],o=0;o<i;o++){var s=this.listeners[t][o];s.scope==n&&s.callback==e||r.push(s)}this.listeners[t]=r}},hasEventListener:function(t,e,n){if("undefined"!=typeof this.listeners[t]){var i=this.listeners[t].length;if(void 0===e&&void 0===n)return i>0;for(var r=0;r<i;r++){var o=this.listeners[t][r];if((!n||o.scope==n)&&o.callback==e)return!0}}return!1},dispatch:function(t,e){for(var n={type:t,target:e},i=[],r=arguments.length,o=0;o<r;o++)i.push(arguments[o]);if(i=i.length>2?i.splice(2,i.length-1):[],i=[n].concat(i),"undefined"!=typeof this.listeners[t]){var s=this.listeners[t].slice(),a=s.length;for(o=0;o<a;o++){var l=s[o];if(l&&l.callback){var c=i.concat(l.args);l.callback.apply(l.scope,c)}}}},getEvents:function(){var t="";for(var e in this.listeners)for(var n=this.listeners[e].length,i=0;i<n;i++){var r=this.listeners[e][i];t+=r.scope&&r.scope.className?r.scope.className:"anonymous",t+=" listen for '"+e+"'\n"}return t}};var e=new t;return e}))},4213:function(t,e,n){var i,r,o;(function(n,s){r=[],i=s,o="function"===typeof i?i.apply(e,r):i,void 0===o||(t.exports=o)})(0,(function(){"use strict";function e(t,e){return"undefined"==typeof e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function i(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){l(i.response,e,n)},i.onerror=function(){console.error("could not download file")},i.send()}function r(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function o(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(i){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,a=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(t,e,n){var a=s.URL||s.webkitURL,l=document.createElement("a");e=e||t.name||"download",l.download=e,l.rel="noopener","string"==typeof t?(l.href=t,l.origin===location.origin?o(l):r(l.href)?i(t,e,n):o(l,l.target="_blank")):(l.href=a.createObjectURL(t),setTimeout((function(){a.revokeObjectURL(l.href)}),4e4),setTimeout((function(){o(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,n,s){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,s),n);else if(r(t))i(t,n,s);else{var a=document.createElement("a");a.href=t,a.target="_blank",setTimeout((function(){o(a)}))}}:function(t,e,n,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return i(t,e,n);var o="application/octet-stream"===t.type,l=/constructor/i.test(s.HTMLElement)||s.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||o&&l||a)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=c?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},u.readAsDataURL(t)}else{var h=s.URL||s.webkitURL,d=h.createObjectURL(t);r?r.location=d:location.href=d,r=null,setTimeout((function(){h.revokeObjectURL(d)}),4e4)}});s.saveAs=l.saveAs=l,t.exports=l}))},9043:function(t,e,n){"use strict";n.d(e,{Ay:function(){return de}});var i=n(3065),r={getLogger:function(t){!{NODE_ENV:"production",BASE_URL:"/geoportal-extensions-openlayers-samples/"}.VERBOSE?i.disableAll():i.enableAll();var e=t||"default";return i.getLogger(e)}},o=r,s={PARAM_MISSING:"Parameter(s) '%var%' missing",PARAM_EMPTY:"Parameter(s) '%var%' empty",PARAM_TYPE:"Wrong type(s) for parameter(s) '%var%'",PARAM_FORMAT:"Parameter(s) '%var%' not correctly formatted",PARAM_NOT_SUPPORT:"Value(s) for parameter(s) '%var%' not supported",PARAM_NOT_SUPPORT_NODEJS:"Value(s) for parameter(s) '%var%' not supported to NodeJS",PARAM_UNKNOWN:"Value(s) for parameter(s) '%var%' unknown",SERVICE_REQUEST_BUILD:"An error occurred during the request building of the service",SERVICE_REQUEST_EMPTY:"The request sent to the service is empty",SERVICE_RESPONSE_EXCEPTION:"The service returned an exception : '%var%'",SERVICE_RESPONSE_EXCEPTION_2:"The service returned an exception",SERVICE_RESPONSE_ANALYSE:"An error occurred while parsing the response '%var%' of the service",SERVICE_RESPONSE_ANALYSE_2:"An unknown error occurred while parsing the response",SERVICE_RESPONSE_EMPTY:"The response of the service is empty",SERVICE_RESPONSE_EMPTY_2:"The response from the service could not be analyzed or is empty",SERVICE_RESPONSE_FORMAT:"The format of the service response is not supported (handled format(s) : '%var%')",SERVICE_RESPONSE_FORMAT_2:"The format of the service response is not supported",SERVICE_RESPONSE_FORMAT_3:"No suggestion matching the search",CLASS_CONSTRUCTOR:"'%var%' constructor cannot be called as a function.",getMessage:function(t,e){if(0===Object.keys(arguments).length)return"Message indefined !";var n=Array.prototype.slice.call(arguments),i=n.shift(),r=n,o=this[i];try{o=Array.isArray(r)&&r.length>0?o.replace("%var%",r.join(" - ")):o.replace("%var%","%var% (not specified)")}catch(s){}return o}},a=s,l={normalyzeParameters:function(t){var e=null;if(t){var n=[];for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];r||(r=""),n.push(i+"="+r)}e=n.join("&")}return e},normalyzeUrl:function(t,e,n){var i=t;if(t){var r=t.indexOf("?");-1===r&&(i+="?"),-1!==r&&r!==t.length-1&&(i+="&")}return e&&("string"===typeof e?(e=e.replace("?",""),i+=e):i+=this.normalyzeParameters(e)),n&&(i=encodeURIComponent(i)),i},indent:function(t,e){var n=t||0;return new Array(n+1).join("\t")+e}},c=l,u=n(6964),h=n.n(u),d={call:function(t){var e=o.getLogger("XHR");if(e.trace("[XHR::call()]"),h().polyfill(),!t.url)throw new Error("missing parameter : url is not defined !");if(!t.method)throw new Error("missing parameter : method is not defined !");t.format||(t.format="text");var n={};switch(n.url=t.url,n.data=t.data?t.data:null,n.method=t.method,n.timeOut=t.timeOut||0,n.scope=t.scope||this,n.proxy=t.proxy||null,n.content=t.content||null,n.headers=t.headers||{referer:"http://localhost"},t.method){case"DELETE":case"GET":break;case"PUT":case"POST":n.content=t.content?t.content:"application/x-www-form-urlencoded",n.headers=t.headers?t.headers:{referer:"http://localhost"};break;case"HEAD":case"OPTIONS":throw new Error("HTTP method not yet supported !");default:throw new Error("HTTP method unknown !")}switch(t.format){case"text":this.__call(n).then((function(n){e.trace(n),t.onResponse.call(this,n)})).catch((function(e){t.onFailure.call(this,e)}));break;case"json":this.__callJSON(n).then((function(n){e.trace(n),t.onResponse.call(this,n)})).catch((function(e){t.onFailure.call(this,e)}));break;case"xml":this.__callXML(n).then((function(n){e.trace(n),t.onResponse.call(this,n)})).catch((function(e){t.onFailure.call(this,e)}));break;default:throw new Error("This output Format is not yet supported !")}},__call:function(t){var e=o.getLogger("XHR");e.trace("[XHR::__call()]");var i=new Promise((function(i,r){var o="POST"===t.method||"PUT"===t.method?1:0;t.data&&("object"===typeof t.data&&Object.keys(t.data).length||"string"===typeof t.data&&t.data.length)&&!o&&(t.url=c.normalyzeUrl(t.url,t.data)),e.trace("URL = ",t.url);var s=null;if("undefined"===typeof window){var a=n(3092),l={headers:{Referer:"https://localhost"}};return t.data&&"string"===typeof t.data&&o&&(l={method:t.method,body:t.data,headers:{"Content-Type":t.content,Referer:"https://localhost"}}),a(t.url,l).then((function(t){if(t.ok)i(t.text());else{var e="Errors Occured on Http Request (status : '"+t.statusText+"' | url : '"+t.url+"')",n=t.status;r({message:e,status:n})}})).catch((function(t){r({message:t,status:-1})}))}if(window.XMLHttpRequest){e.trace("XMLHttpRequest"),s=new XMLHttpRequest,s.open(t.method,t.url,!0),s.overrideMimeType=t.content;var u=null;t.timeOut>0&&(e.trace("XHR - TimeOut actif !"),u=window.setTimeout((function(){var t="TimeOut Occured on Http Request with XMLHttpRequest !";r({message:t,status:-1})}),t.timeOut)),o&&(e.trace("data = ",t.data),s.setRequestHeader("Content-type",t.content)),s.onerror=function(t){console.log(t),r(new Error("Errors Occured on Http Request with XMLHttpRequest !"))},s.ontimeout=function(t){console.log(t),r(new Error("TimeOut Occured on Http Request with XMLHttpRequest !"))},s.onreadystatechange=function(t){if(4===s.readyState)if(200===s.status)window.clearTimeout(u),i(s.response);else{var e="Errors Occured on Http Request (status : '"+t.target.statusText+"' | url : '"+t.target.responseURL+"' | response : '"+t.target.response+"')",n=t.target.status;r({message:e,status:n})}};var h=t.data&&o?t.data:null;s.send(h)}else{if(!window.XDomainRequest)throw new Error("CORS not supported");e.trace("XDomainRequest"),s=new XDomainRequest,s.open(t.method,t.url),s.overrideMimeType=t.content,t.timeOut>0&&(s.timeout=t.timeout,e.trace("XHR - TimeOut actif !")),o&&s.setRequestHeader("Content-type",t.content),s.onerror=function(){r(new Error("Errors Occured on Http Request with XMLHttpRequest !"))},s.ontimeout=function(){r(new Error("TimeOut Occured on Http Request with XMLHttpRequest !"))},s.onload=function(t){if(200===s.status)i(s.responseText);else{var e="Errors Occured on Http Request (status : '"+t.target.statusText+"' | url : '"+t.target.responseURL+"')",n=t.target.status;r({message:e,status:n})}};var d=t.data&&o?t.data:null;s.send(d)}}));return i},__callJSON:function(t){return this.__call(t).then(JSON.parse).catch((function(e){console.log("_callJSON failed on : ",t.url,e)}))},__callXML:function(t){return this.__call(t).then((function(t){var e;if("undefined"===typeof window){var i=n(9788).S;e=(new i).parseFromString(t,"text/xml")}else if(window.DOMParser){var r=new window.DOMParser;e=r.parseFromString(t,"text/xml")}else e=new window.ActiveXObject("Microsoft.XMLDOM"),e.async=!1,e.loadXML(t);return e})).catch((function(e){console.log("__callXML failed on : ",t.url,e)}))}},p=d,g={uuid:function(){var t=Math.floor(Date.now());return function(){return t++}}(),call:function(t){var e=o.getLogger("JSONP");if(e.trace("[JSONP::call ()]"),!t)throw e.error("missing parameter : options !"),new Error("missing parameter : options !");if(!t.url)throw e.error("missing parameter : options.url !"),new Error("missing parameter : options.url !");if(t.timeOut||(e.info("setting 'options.timeOut' default value"),t.timeOut=0),!t.onResponse)throw e.error("missing parameter : options.onResponse !"),new Error("missing parameter : options.onResponse !");var n="string"===typeof t.callbackSuffix?t.callbackSuffix:this.uuid(),i=!1,r=!1,s=t.url.indexOf("callback=");if(-1!==s){i=!0;var a=t.url.indexOf("&",s);-1===a&&(a=t.url.length);var l=t.url.substring(s+9,a);l&&(r=!0,t.callbackName=l,e.info("setting 'options.callbackName' value ("+t.callbackName+") from 'options.url' parameter"))}if(!i){var c=t.url.indexOf("?");-1===c?t.url=t.url+"?callback=":c===t.url.length?t.url=t.url+"callback=":t.url=t.url+"&callback=",e.info("setting callback default key in 'options.url' : "+t.url)}var u=!!t.callbackName||r;if(r||(t.callbackName||(e.info("setting 'options.callbackName' default value"),t.callbackName="callback",(n||""===n)&&(t.callbackName+=n)),t.url=t.url.replace("callback=","callback="+t.callbackName),e.info("setting callback function name in 'options.url' : "+t.url)),t.onTimeOut||(e.info("setting 'options.onTimeOut' default value"),t.onTimeOut=function(){console.log("TimeOut while invoking url : "+t.url)}),!u){var h=this,d=null;t.timeOut>0&&(d=window.setTimeout((function(){window[t.callbackName]=function(){},t.onTimeOut(),h._deleteScript(n)}),t.timeOut)),window[t.callbackName]=function(e){window.clearTimeout(d),t.onResponse(e),h._deleteScript(n)}}this._createScript(n,t.url)},_createScript:function(t,e){var n,i=document.getElementById("results"+t);n=document.createElement("script"),n.setAttribute("type","text/javascript"),n.setAttribute("src",e),n.setAttribute("charset","UTF-8"),n.setAttribute("id","results"+t),n.setAttribute("async","true");var r=document.documentElement||document.getElementsByTagName("head")[0];null===i?r.appendChild(n):r.replaceChild(n,i)},_deleteScript:function(t){var e=document.getElementById("results"+t);if(e){var n=e.parentNode||document.documentElement;if(!n)return;n.removeChild(e)}}},f=g,m={send:function(t){var e=t||{method:"GET",protocol:"XHR",timeOut:0,format:null,wrap:!0,nocache:!0,output:"json",callback:null,callbackSuffix:null};if("undefined"!==typeof window||"JSONP"!==t.protocol){if("XHR"===t.protocol||"json"===t.format?e.wrap=!1:"JSONP"===t.protocol&&"xml"===t.format&&(e.wrap=!0),e.callback=null,e.output=e.wrap?"json":null,e.wrap){var n={};n.output=e.output,n.callback=e.callback,delete n.callback,e.url=c.normalyzeUrl(t.url,n)}switch(e.protocol){case"XHR":"GET"===t.method&&t.nocache&&(e.url=c.normalyzeUrl(e.url,{t:(new Date).getTime()})),p.call(e);break;case"JSONP":e.data&&(e.url=c.normalyzeUrl(e.url,e.data)),f.call(e);break;default:throw new Error("protocol not supported (XHR|JSONP) !")}}else console.log("Value (s) for parameter (s) 'protocol=JSONP (instead use XHR)' not supported to NodeJS")}},A=m;function y(t){if(!(this instanceof y))throw new TypeError("ErrorService constructor cannot be called as a function.");var e=t;"string"===typeof t||t instanceof String?(this.message=t,this.status=-1,this.type=y.TYPE_UNKERR):(this.message=e.message||"undefined!?",this.type=e.type,this.status=e.status||-1),this.name="ErrorService",this.stack=(new Error).stack}y.TYPE_SRVERR="SERVICE_ERROR",y.TYPE_USEERR="USAGE_ERROR",y.TYPE_UNKERR="UNKNOWN_ERROR",y.prototype=Object.create(Error.prototype,{constructor:{value:y,writable:!0,configurable:!0}});var v=y,_=JSON.parse('{"rE":"3.4.0","p6":"18/03/2024"}');function C(t){if(!(this instanceof C))throw new TypeError(a.getMessage("CLASS_CONSTRUCTOR"));for(var e in this.logger=o.getLogger("CommonService"),this.logger.trace("[Constructeur CommonService (options)]"),this.options={protocol:"XHR",ssl:!0,proxyURL:"",callbackSuffix:null,httpMethod:"GET",timeOut:0,rawResponse:!1,scope:this,onSuccess:function(t){console.log("onSuccess - la reponse est la suivante : ",t)},onFailure:function(t){200!==t.status&&t.status?console.log("onFailure - Erreur (",t.status,") : ",t.message):console.log("onFailure : ",t.message)}},t)t.hasOwnProperty(e)&&(this.options[e]=t[e]);this.options.rawResponse&&!this.options.onSuccess&&(this.options.onSuccess=function(t){console.log("onSuccess - la réponse brute du service est la suivante : ",t)});var n=!(null===this.options.onSuccess||"function"!==typeof this.options.onSuccess);if(!n)throw new Error(a.getMessage("PARAM_MISSING","onSuccess()"));switch(this.options.httpMethod="string"===typeof t.httpMethod?t.httpMethod.toUpperCase():"GET",this.options.httpMethod){case"POST":case"GET":break;case"PUT":case"DELETE":case"HEAD":case"OPTIONS":throw new Error(a.getMessage("PARAM_NOT_SUPPORT","httpMethod"));default:throw new Error(a.getMessage("PARAM_UNKNOWN","httpMethod"))}switch(this.options.protocol="string"===typeof t.protocol?t.protocol.toUpperCase():"XHR",this.options.protocol){case"JSONP":case"XHR":break;default:throw new Error(a.getMessage("PARAM_UNKNOWN","protocol"))}if("undefined"===typeof window&&"JSONP"===this.options.protocol)throw new Error(a.getMessage("PARAM_NOT_SUPPORT_NODEJS","protocol=JSONP (instead use XHR)"));"JSONP"===this.options.protocol&&(this.options.httpMethod="GET"),this.options.nocache=t.nocache||!1,this.options.outputFormat=null,this.request=null,this.response=null}C.prototype={constructor:C,call:function(){this.logger.trace("CommonService::call ()");var t=this;function e(){this.logger.trace("CommonService::run ()"),this.buildRequest.call(t,o,n)}function n(e){this.logger.trace("CommonService::onBuildRequest : ",e),this.callService.call(t,o,i)}function i(e){this.logger.trace("CommonService::onCallService : ",e),this.analyzeResponse.call(t,o,r)}function r(t){if(this.logger.trace("CommonService::onAnalyzeResponse : ",t),!t)return o.call(this,new v("Analyse de la reponse en échec !?"));this.options.onSuccess.call(this,t)}function o(t){this.logger.trace("CommonService::onError()");var e=t;e instanceof v||(e=new v(t.message)),this.options.onFailure.call(this,e)}e.call(t)},buildRequest:function(t,e){this.logger.error("overwritten method !"),t&&t.call(this,"This method must be overwritten !"),e.call(this,"This method must be overwritten !")},callService:function(t,e){var n=null,i=this.request,r=!(!this.options.proxyURL||"XHR"!==this.options.protocol),o={"gp-access-lib":_.rE};this.options.apiKey&&(o.apiKey=this.options.apiKey),this.options.serverUrl=c.normalyzeUrl(this.options.serverUrl,o,!1),r&&("GET"===this.options.httpMethod&&(n=this.options.proxyURL+c.normalyzeUrl(this.options.serverUrl,this.request,!0),i=null),"POST"===this.options.httpMethod&&(n=this.options.proxyURL+c.normalyzeUrl(this.options.serverUrl,null,!0),i=this.request));var s=this,a={url:n||this.options.serverUrl,method:this.options.httpMethod,protocol:this.options.protocol,timeOut:this.options.timeOut||0,format:this.options.outputFormat,nocache:this.options.nocache||!1,wrap:"XHR"!==this.options.protocol,callbackSuffix:this.options.callbackSuffix,data:i,headers:null,content:this.options.contentType||"application/xml",scope:this.options.scope||this,onResponse:function(n){s.logger.trace("callService::onResponse()");var i=null;if("XHR"===s.options.protocol&&(s.logger.trace("Response XHR",n),i=n),"JSONP"===s.options.protocol){if(s.logger.trace("Response JSON",n),!n)return void t.call(s,new v("Le contenu de la reponse est vide !?"));if(n.http){if(200!==n.http.status)return void t.call(s,new v({status:n.http.status,message:n.http.error,type:v.TYPE_SRVERR}));i=n.xml,s.options.rawResponse&&(i=n)}else i=n}if("function"===typeof s.options.onBeforeParse){var r=s.options.onBeforeParse(i);"string"===typeof r&&(i=r)}s.response=i,e.call(s,i)},onFailure:function(e){s.logger.trace("callService::onFailure()"),e.type=v.TYPE_SRVERR,t.call(s,new v(e))},onTimeOut:function(){s.logger.trace("callService::onTimeOut()"),t.call(s,new v("TimeOut!"))}};A.send(a)},analyzeResponse:function(t,e){this.logger.error("overwritten method !"),t&&t.call(this,"This method must be overwritten !"),e.call(this,"This method must be overwritten !")}};var I=C,E={ssl:!0,newUrl:function(t){var e,n="data.geopf.fr";return e=!1===E.ssl?"http://":"https://",e+n+t},Alti:{new_key:{"elevation-json":"/altimetrie/1.0/calcul/alti/rest/elevation.json","elevation-xml":"/altimetrie/1.0/calcul/alti/rest/elevation.xml","profil-json":"/altimetrie/1.0/calcul/alti/rest/elevationLine.json","profil-xml":"/altimetrie/1.0/calcul/alti/rest/elevationLine.xml"},newUrl:function(){return{"elevation-json":E.newUrl(this.new_key["elevation-json"]),"elevation-xml":E.newUrl(this.new_key["elevation-xml"]),"profil-json":E.newUrl(this.new_key["profil-json"]),"profil-xml":E.newUrl(this.new_key["profil-xml"])}}},ProcessIsoCurve:{new_key:"/navigation/isochrone",newUrl:function(){return E.newUrl(this.new_key)}},Config:{_key:"https://raw.githubusercontent.com/IGNF/geoportal-configuration/new-url/dist/",url:function(t){Array.isArray(t)||(t=t.split(","));for(var e=[],n=0;n<t.length;n++)e[n]=this._key+t[n]+"Config.json";return e}},AutoComplete:{new_key:"/geocodage/completion",newUrl:function(){return E.newUrl(this.new_key)}},ReverseGeocode:{new_key:"/geocodage/reverse",newUrl:function(){return E.newUrl(this.new_key)}},Geocode:{new_key:"/geocodage/search",newUrl:function(){return E.newUrl(this.new_key)}},Route:{new_key:"/navigation/itineraire",newUrl:function(){return E.newUrl(this.new_key)}}},w=E;function b(){if(!(this instanceof b))throw new TypeError("ConfigInterface constructor cannot be called as a function.");this.generalOptions={apiKeys:{},title:null,defaultGMLGFIStyle:null,theme:null,wgs84Resolutions:[]},this.layers={},this.tileMatrixSets={}}b.prototype={constructor:b,isKeyConfLoaded:function(t){if(t)return!!this.generalOptions.apiKeys[t]},getLayersId:function(t){return this.generalOptions.apiKeys[t]},getLayerId:function(t,e){if(t&&e){var n=null;if(this.layers){var i=this.layers;for(var r in i)if(i.hasOwnProperty(r)){var o=r.split("$");if(t===o[0]&&o[1]){var s=o[1].split(":"),a=o[1].split(";");if(a[1]===e.toUpperCase()){n=r;break}if(s[2]===e.toUpperCase()){n=r;break}}}}if(n)return n}},getLayersConf:function(t){var e={},n=this.getLayersId(t);if(n)for(var i=0;i<n.length;i++){var r=n[i];e[r]=this.layers[r]}return e},getLayerConf:function(t){if(this.layers)return this.layers[t]},getLayerParams:function(t,e){var n={};if(("WMS"===e||0!==Object.keys(this.tileMatrixSets).length)&&0!==Object.keys(this.layers).length){var i=this.getLayerId(t,e);if(i){var r=this.getLayerConf(i),o=this.getLayerKey(i);if(0===o.length)return;for(var s=0;s<o.length;s++)r.serviceParams.serverUrl[o[s]]&&(n.url=r.serviceParams.serverUrl[o[s]]);const t=/\/v\//;if(t.test(n.url)?n.styles=" ":n.styles=r.styles[0].name,n.version=r.serviceParams.version,n.format=r.formats[0].name,n.projection=r.defaultProjection,n.minScale=r.globalConstraint.minScaleDenominator,n.maxScale=r.globalConstraint.maxScaleDenominator,n.extent=r.globalConstraint.bbox,n.legends=r.legends,n.title=r.title,n.description=r.description,"WMS"===e&&(n.metadata=r.metadata),r.wmtsOptions){n.tileMatrixSetLimits=r.wmtsOptions.tileMatrixSetLimits;var a=r.wmtsOptions.tileMatrixSetLink;if(a){n.TMSLink=a;var l=this.getTMSConf(a);n.matrixIds=Object.keys(l.tileMatrices),n.tileMatrices=l.tileMatrices,n.nativeResolutions=l.nativeResolutions||this.getTMSConf("PM").nativeResolutions}}}}return n},getLayerKey:function(t){var e=[];if(this.generalOptions&&this.generalOptions.apiKeys&&0!==Object.keys(this.generalOptions.apiKeys).length){var n=this.generalOptions.apiKeys;for(var i in n){var r=n[i];r.forEach((function(n){n===t&&e.push(i)}))}}return e},getTileMatrixSets:function(){return this.tileMatrixSets},getTMSConf:function(t){if(this.tileMatrixSets)return this.tileMatrixSets[t]},getGlobalConstraints:function(t){var e={};if(t){var n=this.getLayerConf(t);e.projection=n.defaultProjection,e.minScale=n.globalConstraint.minScaleDenominator,e.maxScale=n.globalConstraint.maxScaleDenominator,e.extent=n.globalConstraint.bbox}return e}};var x=b;function S(t){if(!(this instanceof S))throw new TypeError(a.getMessage("CLASS_CONSTRUCTOR","Config"));this.CLASSNAME="Config",this.logger=o.getLogger("Gp.Config"),this.logger.trace("[Constructeur Config (options)]");var e=!(null===t.onSuccess||"function"!==typeof t.onSuccess);if(!e)throw new Error(a.getMessage("PARAM_MISSING","onSuccess()"));t.apiKey||t.customConfigFile||(t.apiKey="full"),this.options={},this.options.onSuccess=t.onSuccess,this.options.onFailure=t.onFailure,this.options.sync=t.sync||!1,this.options.listConfigUrls=t.customConfigFile?[t.customConfigFile]:Array.isArray(t.apiKey)?w.Config.url(t.apiKey):w.Config.url(t.apiKey.split(","))}S.prototype=Object.create(I.prototype,{}),S.prototype.constructor=S,S.prototype.buildRequest=function(t,e){this.listConfigUrls=this.options.listConfigUrls,this.listConfigUrls?e.call(this,this.listConfigUrls):t.call(this,new Error("url by default not found !"))},S.prototype.callService=function(t,e){this.options.sync?M.call(this,t,e):P.call(this,t,e)};var P=function(t,e){this.listConfigResults=[];let i=null;if("undefined"===typeof window){var r=n(3092);i=r}else i=window.fetch;var o=t=>i(t,{credentials:"same-origin"}).then((t=>{if(t.ok)return t.json().then((t=>t)).catch((t=>{throw new Error("Exception Json : "+t)}));throw new Error("Exception HTTP : "+t.status+" (status code) !")})).catch((t=>new Promise(((e,n)=>{n(t)})))),s=[];for(let n=0;n<this.listConfigUrls.length;n++){const t=this.listConfigUrls[n];s.push(o(t))}Promise.all(s).then((t=>{if(!t)throw new Error("results config empty !?");t.forEach((t=>{this.listConfigResults.push(t)}))})).then((()=>{e.call(this,this.listConfigResults)})).catch((e=>{t.call(this,e)}))},M=function(t,e){this.listConfigResults=[];for(var n=0;n<this.listConfigUrls.length;n++){const t=this.listConfigUrls[n],e=new XMLHttpRequest;if(e.open("GET",t,!1),e.send(null),200===e.status){var i=JSON.parse(e.responseText);this.listConfigResults.push(i)}}0!==this.listConfigResults.length?e.call(this,this.listConfigResults):t.call(this,new Error("..."))};S.prototype.analyzeResponse=function(t,e){var n=function(t){for(var e={},n={},i={},r=0;r<t.length;r++){if(!t[r].generalOptions||!t[r].layers)return;n={...n,...t[r].generalOptions.apiKeys},e={...e,...t[r].layers},i={...i,...t[r].tileMatrixSets}}var o={generalOptions:{apiKeys:n},layers:e,tileMatrixSets:i};return o},i=n(this.listConfigResults);if(i){var r=new x;Object.assign(r,i);var o="undefined"!==typeof window?window:{};if(o.Gp||(o.Gp={}),o.Gp.Config)for(var s in Object.assign(o.Gp.Config,r),r)o.Gp.Config[s]=r[s];else o.Gp.Config=r;e.call(this,o.Gp.Config)}else t.call(this,new Error("configuration structure not conforme !"))};var R=S;function T(t){if(!(this instanceof T))throw new TypeError("AltiRequest constructor cannot be called as a function.");this.logger=o.getLogger(),this.logger.trace("[Constructeur AltiRequest ()]"),this.options=t||{},this.positions=this.options.positions||[],this.delimiter=this.options.delimiter||"|",this.indent=this.options.indent||!1,this.crs=this.options.crs||"CRS:84",this.format=this.options.format||"json",this.resource=this.options.resource,this.measures=this.options.measures||!1}T.CLASSNAME="AltiRequest",T.prototype={constructor:T,setPositions:function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];i.lon&&i.lat&&e.push(i)}this.positions=e},getPositions:function(t){if(!t)return this.positions;var e=this.positions.length-1;return t>e||t<e?(this.logger.warn("index out of range !"),this.positions):this.positions[t]},addPositions:function(t){for(var e=0;e<t.length;e++){var n=t[e];n.lon&&n.lat&&this.positions.push(t[e])}},getLon:function(){for(var t=[],e=0;e<this.positions.length;e++)t.push(this.positions[e].lon);return this.logger.trace(t),t.join(this.delimiter)},getLat:function(){for(var t=[],e=0;e<this.positions.length;e++)t.push(this.positions[e].lat);return this.logger.trace(t),t.join(this.delimiter)}},T.prototype.getData=function(){var t=[];return t.push({k:"lon",v:this.getLon()}),t.push({k:"lat",v:this.getLat()}),t.push({k:"delimiter",v:this.delimiter}),t.push({k:"indent",v:this.indent}),t.push({k:"crs",v:this.crs}),t.push({k:"format",v:this.format}),t};var G=T;function L(t){if(!(this instanceof L))throw new TypeError("AltiElevationRequest constructor cannot be called as a function.");this.CLASSNAME="AltiElevationRequest",G.apply(this,arguments),this.logger=o.getLogger(),this.logger.trace("[Constructeur AltiElevationRequest ()]"),this.zonly=this.options.zonly||!1}L.prototype=Object.create(G.prototype,{zonly:{get:function(){return this._zonly},set:function(t){this._zonly=t}}}),L.prototype.constructor=L,L.prototype.getData=function(){var t=[];return t.push({k:"lon",v:this.getLon()}),t.push({k:"lat",v:this.getLat()}),t.push({k:"indent",v:this.indent}),t.push({k:"crs",v:this.crs}),t.push({k:"zonly",v:this.zonly}),t.push({k:"format",v:this.format}),t.push({k:"resource",v:this.resource}),t};var k=L;function O(t){if(!(this instanceof O))throw new TypeError("AltiProfilRequest constructor cannot be called as a function.");this.CLASSNAME="AltiProfilRequest",G.apply(this,arguments),this.logger=o.getLogger(),this.logger.trace("[Constructeur AltiProfilRequest ()]"),this.sampling=this.options.sampling||3}O.prototype=Object.create(G.prototype,{sampling:{get:function(){return this._sampling},set:function(t){this._sampling=t}}}),O.prototype.constructor=O,O.prototype.getData=function(){var t=[];return t.push({k:"lon",v:this.getLon()}),t.push({k:"lat",v:this.getLat()}),t.push({k:"indent",v:this.indent}),t.push({k:"crs",v:this.crs}),t.push({k:"sampling",v:this.sampling}),t.push({k:"format",v:this.format}),t.push({k:"resource",v:this.resource}),t};var D=O;function N(t){if(this.logger=o.getLogger("AltiRequestREST"),this.logger.trace("[Constructeur AltiRequestREST ()]"),!(this instanceof N))throw new TypeError("AltiRequestREST constructor cannot be called as a function.");if(this.options=t||{},!this.options)throw new Error(a.getMessage("PARAM_EMPTY","options"));if(!this.options.type)throw new Error(a.getMessage("PARAM_EMPTY","type (Elevation or Profil)"));switch(this.DataObject=null,this.options.type){case"Elevation":this.DataObject=new k(this.options.param);break;case"Profil":this.DataObject=new D(this.options.param);break;default:throw new Error(a.getMessage("PARAM_TYPE","type (Elevation or Profil)"))}this.method=this.options.method||"GET"}N.prototype={requestString:null,constructor:N,template:{get:{value:"lon=__LON__&lat=__LAT__&indent=__INDENT__&crs='__CRS__'&resource=__RESOURCE__&measures=__MEASURES__",input:{point:"&zonly=__ZONLY__",profil:"&sampling=__SAMPLING__"}},post:{value:"lon=__LON__\nlat=__LAT__\nindent=__INDENT__\ncrs='__CRS__'\nresource='__RESOURCE__'\nmeasures='__MEASURES__'\n",input:{point:"zonly=__ZONLY__\n",profil:"sampling=__SAMPLING__"}}},processRequestString:function(){this.logger.trace("AltiRequestREST::processRequestString ()");var t="";return"POST"===this.method?t=this.template.post.value:"GET"===this.method&&(t=this.template.get.value),t=t.replace(/__LON__/g,this.DataObject.getLon()),t=t.replace(/__LAT__/g,this.DataObject.getLat()),t=t.replace(/__INDENT__/g,this.DataObject.indent),t=t.replace(/__CRS__/g,this.DataObject.crs),t=t.replace(/__RESOURCE__/g,this.DataObject.resource),t=t.replace(/__MEASURES__/g,this.DataObject.measures),t+=this.__addDataInputs(),this.logger.trace("traduction tmpl",t),this.requestString=t,this.requestString},__addDataInputs:function(){var t;if(this.logger.trace("AltiRequestREST::addDataInput ()"),"POST"===this.method)t=this.template.post;else{if("GET"!==this.method)throw new Error("No other HTTP method supported by the service !");t=this.template.get}var e=null;if("AltiElevationRequest"===this.DataObject.CLASSNAME)return e=t.input.point,e.replace(/__ZONLY__/g,this.DataObject.zonly.toString());if("AltiProfilRequest"===this.DataObject.CLASSNAME)return e=t.input.profil,e.replace(/__SAMPLING__/g,this.DataObject.sampling);throw new Error("No other object supported than elevation or profil !?")}};var F=N;function U(t){if(this.logger=o.getLogger(),this.logger.trace("[Constructeur WPS()]"),!(this instanceof U))throw new TypeError("WPS constructor cannot be called as a function.");if(this.options=t||{},this.DataObject=this.options.data,!this.DataObject)throw new TypeError("This data object is not defined !");this.paramservice=this.options.param.service||"WPS",this.paramversion=this.options.param.version||"1.0.0",this.paramidentifier=this.options.param.identifier||"gs:WPS",this.paramrawdataoutput=this.options.param.rawdataoutput||"result",this.paramrequest=this.options.param.request||"Execute",this.method=this.options.method||"GET"}U.prototype={requestString:null,constructor:U,template:{get:{value:"service=__SERVICE__&version=__VERSION__&rawdataoutput=__RAWDATAOUTPUT__&identifier=__IDENTIFIER__&request=__REQUEST__&datainputs=\x3c!-- __DATAINPUTS__ --\x3e",input:"__KEY__=__DATA__"},post:{value:'<?xml version="1.0" encoding="UTF-8"?><wps:__REQUEST__ version="__VERSION__" service="__SERVICE__" __NAMESPACE__ __SCHEMALOCATION__><ows:Identifier>__IDENTIFIER__</ows:Identifier><wps:DataInputs>\x3c!-- __DATAINPUTS__ --\x3e</wps:DataInputs><wps:ResponseForm><wps:RawDataOutput><ows:Identifier>__RAWDATAOUTPUT__</ows:Identifier></wps:RawDataOutput></wps:ResponseForm></wps:__REQUEST__>',input:"<wps:Input><ows:Identifier>__KEY__</ows:Identifier><wps:Data><wps:LiteralData>__DATA__</wps:LiteralData></wps:Data></wps:Input>"}},namespaceByDefault:function(){var t=['xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"','xmlns="http://www.opengis.net/wps/1.0.0"','xmlns:wfs="http://www.opengis.net/wfs"','xmlns:wps="http://www.opengis.net/wps/1.0.0"','xmlns:ows="http://www.opengis.net/ows/1.1"','xmlns:gml="http://www.opengis.net/gml"','xmlns:ogc="http://www.opengis.net/ogc"','xmlns:wcs="http://www.opengis.net/wcs/1.1.1"','xmlns:xlink="http://www.w3.org/1999/xlink"'];return t.join(" ")},schemaLocationByDefault:function(){return'xsi:schemaLocation="http://www.opengis.net/wps/1.0.0 http://schemas.opengis.net/wps/1.0.0/wpsAll.xsd"'},processRequestString:function(){this.logger.trace("WPS::processRequestString ()");var t="";if("POST"===this.method)t=this.template.post.value;else{if("GET"!==this.method)return this.logger.error("No other method supported by the service !"),!1;t=this.template.get.value}return t=t.replace(/__SERVICE__/g,this.paramservice),t=t.replace(/__VERSION__/g,this.paramversion),t=t.replace(/__RAWDATAOUTPUT__/g,this.paramrawdataoutput),t=t.replace(/__IDENTIFIER__/g,this.paramidentifier),t=t.replace(/__REQUEST__/g,this.paramrequest),"POST"===this.method&&(t=t.replace(/__NAMESPACE__/g,this.namespaceByDefault),t=t.replace(/__SCHEMALOCATION__/g,this.schemaLocationByDefault)),t=t.replace(/<!-- __DATAINPUTS__ -->/g,this.__addDataInputs()),t?(this.requestString=t,this.logger.trace("traduction tmpl",t),!0):(this.logger.warn("traduction tmpl : empty request !?"),!1)},__addDataInputs:function(){this.logger.trace("WPS::__addDataInputs ()");for(var t="GET"===this.method?this.template.get.input:this.template.post.input,e="GET"===this.method?";":"",n="",i=this,r=this.DataObject.getData(),o=0;o<r.length;o++)(function(o){e&&(e=o===r.length-1?"":";"),n=n.concat(i.__addDataInput(t,r[o].k,r[o].v),e)})(o);return n},__addDataInput:function(t,e,n){var i=t;return i=i.replace(/__KEY__/g,e),i=i.replace(/__DATA__/g,n),i},setMethod:function(t){"GET"===t||"POST"===t?this.method=t:this.logger.warn("support only GET and POST method !")},getMethod:function(){return this.method}};var B=U,j={build:function(t){var e=o.getLogger("AltiRequestWPS");if(e.trace(["AltiRequestWPS::build()"]),!t)throw new Error(a.getMessage("PARAM_EMPTY","options"));if(!t.type)throw new Error(a.getMessage("PARAM_EMPTY","type (Elevation or Profil)"));var n=null;switch(t.type){case"Elevation":t.wps.identifier="gs:WPSElevation",n=new k(t.param);break;case"Profil":t.wps.identifier="gs:WPSLineElevation",n=new D(t.param);break;default:throw new Error(a.getMessage("PARAM_TYPE","type (Elevation or Profil)"))}var i={data:n,method:t.method,param:t.wps},r=new B(i);if(!r.processRequestString())throw new Error("Enable to process request !");return r.requestString}},z=j,W={build:function(t){var e=o.getLogger("AltiRequestFactory");e.trace(["AltiRequestFactory::build()"]);var n=null,i={type:t.sampling?"Profil":"Elevation",method:t.httpMethod,param:{positions:null,delimiter:null,indent:null,crs:null,format:null,sampling:null,zonly:null,measures:null}};i.param.positions=t.positions,i.param.format=t.outputFormat,i.param.sampling=t.sampling,i.param.zonly=t.zonly,i.param.measures=t.measures,i.param.resource=t.resource;var r=!(null===t.onError||"function"!==typeof t.onError),s=!(null===t.onSuccess||"function"!==typeof t.onSuccess),a=null;switch(t.api){case"REST":var l=new F(i);if(!l.processRequestString()){if(a="Error in process request (rest) !",r)return void t.onError.call(t.scope,new v(a));throw new Error(a)}n=l.requestString;break;case"WPS":if(i.wps={service:null,version:null,identifier:null,rawdataoutput:null,request:null},n=z.build(i),!n){if(a="Error in process request (wps) !",r)return void t.onError.call(t.scope,new v(a));throw new Error(a)}break;default:if(a="Type of API is not supported by service (REST or WPS) !",r)return void t.onError.call(t.scope,new v(a));throw new Error(a)}return s&&t.onSuccess.call(t.scope,n),n}},V=W;function Y(t){if(!(this instanceof Y))throw new TypeError("XML constructor cannot be called as a function.");this.logger=o.getLogger(),this.logger.trace("[Constructeur XML ()]"),this.xmlString=null,this.xmlDoc=null,this.reader=null,t&&(t.xmlString&&"string"===typeof t.xmlString&&(this.xmlString=t.xmlString,this.xmlDoc=H(t.xmlString)),t.reader&&this.setReader(t.reader))}function H(t){if("undefined"===typeof window){var e=n(9788).S;return(new e).parseFromString(t,"text/xml")}var i,r,o="Erreur lors du parsing de la réponse du service : XML non conforme";if(window.ActiveXObject){r=new window.ActiveXObject("Microsoft.XMLDOM"),r.async=!1,r.loadXML(t);var s=r.parseError;if(s.errorCode)throw s.line&&s.linepos&&(o+="( ligne "+s.line+", colonne "+s.linepos),s.reason&&(o+=":  "+s.reason+")"),new Error(o);return r}if(window.DOMParser){i=new window.DOMParser;try{r=i.parseFromString(t,"text/xml")}catch(u){throw"SyntaxError"===u.message?new Error(o):new Error("Erreur lors du parsing de la réponse du service : "+u.message)}if(r.getElementsByTagName("parsererror").length>0)for(var a=r.getElementsByTagName("parsererror"),l=0;l<a.length;l++){var c=a[l].innerHTML;if(-1===c.indexOf("Huge input lookup"))throw o+="("+c+")",new Error(o)}else if(!r.documentElement)throw new Error(o);return r}throw new Error("Incompatible DOM Parser pour ce navigateur !")}function q(t){var e;return 9===t.nodeType?e=t.documentElement:1===t.nodeType&&(e=t),e}function X(t){var e={};if(t.attributes.length>0){var n=Z(t);e["attributes"]=n}if(t.hasChildNodes())for(var i,r={},o=t.childNodes,s=0;s<o.length;s++)if(i=o[s],3===i.nodeType)e["textContent"]=i.nodeValue;else if(1===i.nodeType)if(r=X(i),e[i.nodeName]){if(!Array.isArray(e[i.nodeName])){var a=e[i.nodeName];e[i.nodeName]=[],e[i.nodeName].push(a)}e[i.nodeName].push(r)}else e[i.nodeName]=r;return e}function Z(t){if(t.attributes.length>0){for(var e={},n=t.attributes,i=0;i<n.length;i++){var r=n[i];e[r.nodeName]=r.nodeValue}return e}}Y.prototype={constructor:Y,getXMLString:function(){return this.xmlString},setXMLString:function(t){t&&"string"===typeof t&&(this.xmlString=t,this.xmlDoc=H(t))},getReader:function(){return this.reader},setReader:function(t){t&&t.read&&"function"===typeof t.read&&(this.reader=t)},getXMLDoc:function(){return this.xmlDoc},setXMLDoc:function(t){this.xmlDoc=t},parse:function(){if(!this.xmlDoc&&this.xmlString&&(this.xmlDoc=H(this.xmlString)),this.xmlDoc){var t,e=q(this.xmlDoc);return e?(this.reader&&this.reader.read?t=this.reader.read(e):(t={},t[e.nodeName]=X(e)),t):{}}}};var K=Y;function J(){if(!(this instanceof J))throw new TypeError("AltiResponse constructor cannot be called as a function.");this.elevations=[]}J.prototype={constructor:J};var Q=J;function $(){if(!(this instanceof $))throw new TypeError("Elevation constructor cannot be called as a function.");this.z=null}$.prototype={constructor:$};var tt=$;function et(){if(!(this instanceof et))throw new TypeError("Measure constructor cannot be called as a function.");this.source_name=null,this.source_measure=null,this.z=null,this.acc=null}et.prototype={constructor:et};var nt=et,it={};it.READERS={elevations:function(t){var e=new Q;if(t.hasChildNodes())for(var n,i,r=t.childNodes,o=0;o<r.length;o++)n=r[o],it.READERS[n.nodeName]&&(i=it.READERS[n.nodeName](n),e.elevations.push(i));return e},elevation:function(t){var e=new tt;if(t.hasChildNodes())for(var n,i=t.childNodes,r=0;r<i.length;r++)n=i[r],it.READERS[n.nodeName]&&it.READERS[n.nodeName](n,e);return e},lat:function(t,e){var n=t.firstChild;if(!n||3!==n.nodeType)throw new Error("Erreur dans la lecture de la réponse du service : latitude attendue mais absente");e.lat=parseFloat(n.nodeValue)},lon:function(t,e){var n=t.firstChild;if(!n||3!==n.nodeType)throw new Error("Erreur dans la lecture de la réponse du service : longitude attendue mais absente");e.lon=parseFloat(n.nodeValue)},z:function(t,e){var n=t.firstChild;if(!n||3!==n.nodeType)throw new Error("Erreur dans la lecture de la réponse du service : altitude attendue mais absente");if(!e)return e=new tt,e.z=parseFloat(n.nodeValue),e;e.z=parseFloat(n.nodeValue)},acc:function(t,e){var n=t.firstChild;if(!n||3!==n.nodeType)throw new Error("Erreur dans la lecture de la réponse du service : précision (acc) attendue mais absente");e.acc=parseFloat(n.nodeValue)},source_name:function(t,e){var n=t.firstChild;if(!n||3!==n.nodeType)throw new Error("Erreur dans la lecture de la réponse du service : source_name attendue mais absente");e.source_name=n.nodeValue},source_measure:function(t,e){var n=t.firstChild;if(!n||3!==n.nodeType)throw new Error("Erreur dans la lecture de la réponse du service : source_measure attendue mais absente");e.source_measure=n.nodeValue},measures:function(t,e){var n;if(e.measures=[],t.hasChildNodes())for(var i,r,o=t.childNodes,s=0;s<o.length;s++){n=new nt,i=o[s],r=i.childNodes;for(var a=0;a<r.length;a++){if(!it.READERS[r[a].nodeName])throw new Error("Erreur dans la lecture de la réponse du service : measures attendues mais absentes");it.READERS[r[a].nodeName](r[a],n)}e.measures.push(n)}},exceptionreport:function(t){var e={};if(t.hasChildNodes())for(var n,i=t.childNodes,r=0;r<i.length;r++)n=i[r],"Exception"===n.nodeName&&(e.exceptionReport=it.READERS.exception(n));return e},exception:function(t){var e={},n=t.getAttribute("exceptionCode");n&&(e.exceptionCode=n);var i=t.firstChild;return i&&3===i.nodeType&&(e.exception=i.nodeValue),e},error:function(t){var e={error:{}};if(t.hasChildNodes())for(var n,i=t.childNodes,r=0;r<i.length;r++){var o;n=i[r],1===n.nodeType&&"code"===n.nodeName&&(o=n.firstChild,o&&3===o.nodeType&&(e.error.code=o.nodeValue)),1===n.nodeType&&"description"===n.nodeName&&(o=n.firstChild,o&&3===o.nodeType&&(e.error.description=o.nodeValue))}return e}},it.read=function(t){if("elevations"===t.nodeName){var e=it.READERS.elevations(t);return e}if("ExceptionReport"===t.nodeName){var n=it.READERS.exceptionreport(t);return n}if("error"===t.nodeName){var i=it.READERS.error(t);return i}throw new Error("Erreur lors de la lecture de la réponse : elle n'est pas au format attendu.")};var rt=it,ot={build:function(t){var e=o.getLogger("AltiResponseFactory");e.trace(["AltiResponseFactory::build()"]);var n=null;if(t.response){if(t.rawResponse)e.trace("analyze response : raw"),n=t.response;else{switch(t.outputFormat){case"xml":e.trace("analyze response : xml");try{var i=new K({reader:rt});if("string"===typeof t.response?i.setXMLString(t.response):i.setXMLDoc(t.response),n=i.parse(),!n)throw new Error(a.getMessage("SERVICE_RESPONSE_EXCEPTION_2"))}catch(p){var r=p.message;return void t.onError.call(t.scope,new v({message:a.getMessage("SERVICE_RESPONSE_EXCEPTION",r),status:200,type:v.TYPE_SRVERR}))}break;case"json":e.trace("analyze response : json"),e.trace("analyze response : ",typeof t.response);var s=null;if(s="string"===typeof t.response?JSON.parse(t.response):t.response,s&&s.error)return void t.onError.call(t.scope,new v({message:a.getMessage("SERVICE_RESPONSE_EXCEPTION",s.error.description),status:200,type:v.TYPE_SRVERR}));if(s){var l,c=s.elevations,u=new Q;if(Array.isArray(c)&&c.length)for(var h=0;h<c.length;h++)l=new tt,"object"===typeof c[h]?(c[h].lon&&(l.lon=c[h].lon),c[h].lat&&(l.lat=c[h].lat),c[h].z&&(l.z=c[h].z),c[h].acc&&(l.acc=c[h].acc),c[h].measures&&(l.measures=c[h].measures)):"number"===typeof c[h]&&(l.z=c[h]),Array.isArray(u.elevations)&&u.elevations.push(l);n=u}if(!n)return void t.onError.call(t.scope,new v({message:a.getMessage("SERVICE_RESPONSE_ANALYSE_2"),type:v.TYPE_UNKERR,status:-1}));break;default:return void t.onError.call(t.scope,new v({message:a.getMessage("SERVICE_RESPONSE_FORMAT_2"),type:v.TYPE_UNKERR,status:-1}))}if(n.exceptionReport)return void t.onError.call(t.scope,new v({message:a.getMessage("SERVICE_RESPONSE_EXCEPTION",n.exceptionReport),type:v.TYPE_SRVERR,status:200}));if(n.error){var d=n.error.description;return void t.onError.call(t.scope,new v({message:a.getMessage("SERVICE_RESPONSE_EXCEPTION",d),type:v.TYPE_SRVERR,status:200}))}}t.onSuccess.call(t.scope,n)}else t.onError.call(t.scope,new v(a.getMessage("SERVICE_RESPONSE_EMPTY")))}},st=ot;function at(t){if(!(this instanceof at))throw new TypeError(a.getMessage("CLASS_CONSTRUCTOR","Alti"));if(this.CLASSNAME="Alti",I.apply(this,arguments),this.logger=o.getLogger("Gp.Services.Alti"),this.logger.trace("[Constructeur Alti (options)]"),!t.positions)throw new Error(a.getMessage("PARAM_MISSING","positions"));if(0===t.positions.length)throw new Error(a.getMessage("PARAM_EMPTY","positions"));if(this.options.positions=t.positions,this.options.outputFormat="string"===typeof t.outputFormat?t.outputFormat.toLowerCase():"xml",this.options.resource=t.resource||"ign_rge_alti_wld",this.options.sampling=t.sampling||null,this.options.api="string"===typeof t.api?t.api.toUpperCase():"REST","REST"===this.options.api&&(this.options.httpMethod="GET"),this.options.zonly=t.zonly||!1,this.options.measures=t.measures||!1,!this.options.serverUrl){var e=w.Alti.newUrl(),n=null;switch(this.options.api){case"WPS":n=e.wps;break;case"REST":var i=(t.sampling?"profil":"elevation")+"-"+this.options.outputFormat;n=e[i];break;default:throw new Error(a.getMessage("PARAM_UNKNOWN","api"))}if(!n)throw new Error("Url by default not found !");this.options.serverUrl=n,this.logger.trace("Server URL by default : "+this.options.serverUrl)}var r=this.options.serverUrl.lastIndexOf(".");if(-1!==r){var s=this.options.serverUrl.substring(r+1);if(s&&s.length<5)switch(this.logger.trace("Server Extension URL : "+s),s.toLowerCase()){case"json":case"xml":this.options.outputFormat=s.toLowerCase();break;default:throw new Error("type of service : unknown or unsupported (json or xml) !")}}}at.prototype=Object.create(I.prototype,{}),at.prototype.constructor=at,at.prototype.buildRequest=function(t,e){var n={httpMethod:this.options.httpMethod,onSuccess:function(t){this.request=t,e.call(this,this.request)},onError:t,scope:this,resource:this.options.resource,positions:this.options.positions,outputFormat:this.options.outputFormat,sampling:this.options.sampling,api:this.options.api,zonly:this.options.zonly,measures:this.options.measures};V.build(n)},at.prototype.analyzeResponse=function(t,e){if(this.response){var n={response:this.response,outputFormat:this.options.outputFormat,rawResponse:this.options.rawResponse,onError:t,onSuccess:e,scope:this};st.build(n)}else t.call(this,new v(a.getMessage("SERVICE_RESPONSE_EMPTY")))};var lt=at;function ct(t){if(!(this instanceof ct))throw new TypeError("GeocodeParamREST constructor cannot be called as a function.");if(this.logger=o.getLogger(),this.logger.trace("[Constructeur GeocodeParamREST ()]"),this.options=t||{},!this.options.geocodeMethod||"search"!==this.options.geocodeMethod&&"reverse"!==this.options.geocodeMethod)throw new Error("Error geocodeMethod not valid");this.geocodeMethod=this.options.geocodeMethod,this.query="undefined"!==typeof this.options?this.options.query:null,this.searchGeometry=this.options.searchGeometry||null,this.index=this.options.index||null,this.lon=this.options.position&&this.options.position.lon?this.options.position.lon:null,this.lat=this.options.position&&this.options.position.lat?this.options.position.lat:null,this.maxResp=this.options.maxResp||null,this.returnTrueGeometry=this.options.returnTrueGeometry||null,this.filters=this.options.filters||{}}ct.CLASSNAME="GeocodeParamREST",ct.prototype={constructor:ct,getFilters:function(){var t={};for(var e in this.filters)this.filters.hasOwnProperty(e)&&(t[e]=this.filters[e]);return t},getIndex:function(){return void 0===this.index?null:"StreetAddress"===this.index?"address":"CadastralParcel"===this.index?"parcel":"PositionOfInterest"===this.index?"poi":"location"===this.index?"location":this.index},getSearchGeometry:function(){return JSON.stringify(this.searchGeometry)}},ct.prototype.getParams=function(){var t=[];"search"===this.geocodeMethod&&t.push({k:"q",v:this.query}),this.index&&t.push({k:"index",v:this.getIndex()}),"reverse"===this.geocodeMethod&&this.searchGeometry&&t.push({k:"searchgeom",v:this.getSearchGeometry()}),this.lon&&this.lat&&(t.push({k:"lon",v:this.lon}),t.push({k:"lat",v:this.lat})),this.maxResp&&t.push({k:"limit",v:this.maxResp}),this.returnTrueGeometry&&t.push({k:"returntruegeometry",v:this.returnTrueGeometry});const e=this.getFilters();for(var n in e)t.push({k:n,v:e[n]});return t};var ut=ct;function ht(t){if(this.logger=o.getLogger("GeocodeRequestREST"),this.logger.trace("[Constructeur GeocodeRequestREST ()]"),!(this instanceof ht))throw new TypeError("GeocodeRequestREST constructor cannot be called as a function.");if(!t)throw new Error(a.getMessage("PARAM_EMPTY","options"));this.settings=t}ht.prototype={requestString:null,constructor:ht,processRequestString:function(){var t="";const e=new ut(this.settings),n=e.getParams();for(var i=0;i<n.length;i++){var r=n[i];t&&(t+="&"),t+=r.k+"="+r.v}if(!this.settings.geocodeMethod||"search"!==this.settings.geocodeMethod&&"reverse"!==this.settings.geocodeMethod)throw new Error("Error geocodeMethod not valid");return this.requestString="?"+t,this.logger.trace(this.requestString),this.requestString}};var dt=ht,pt={build:function(t){var e=o.getLogger("GeocodeRequestFactory");e.trace(["GeocodeRequestFactory::build()"]);var n=t||{},i=new dt(n);if(!i.processRequestString())throw new Error("Error process request (rest) !");var r=i.requestString;return e.trace(r),r}},gt=pt;function ft(){if(!(this instanceof ft))throw new TypeError("GeocodeResponse constructor cannot be called as a function.");this.locations=[]}ft.prototype={constructor:ft};var mt=ft;function At(){if(!(this instanceof At))throw new TypeError("GeocodedLocation constructor cannot be called as a function.");this.position=null,this.matchType=null,this.placeAttributes={},this.type=null,this.accuracy=null,this.CLASSNAME="GeocodedLocation"}At.prototype={constructor:At};var yt=At;function vt(){if(!(this instanceof vt))throw new TypeError("GeocodeResponseParser constructor cannot be called as a function.")}function _t(t,e){var n=new yt;if(t.geometry&&"Point"===t.geometry.type&&(n.position={lon:t.geometry.coordinates[0],lat:t.geometry.coordinates[1]}),t.properties){for(var i in t.properties)"score"===i?n.accuracy=t.properties[i]:"_type"===i?"address"===t.properties[i]?n.type="StreetAddress":"poi"===t.properties[i]?n.type="PositionOfInterest":"parcel"!==t.properties[i]&&"cadastral"!==t.properties[i]||(n.type="CadastralParcel"):n.placeAttributes[i]=t.properties[i];"address"===t.properties._type&&(n.matchType=void 0!==t.properties.number&&null!==t.properties.number?"street number":"street")}e.locations.push(n)}function Ct(t){return{exceptionReport:t}}vt.prototype={constructor:vt,parse:function(t){var e=new mt;const n=JSON.parse(t);if("FeatureCollection"===n.type)for(var i=0;i<n.features.length;++i)_t(n.features[i],e);else{if("Feature"!==n.type){if("SERVICE_ERROR"===n.type)return Ct(n);var r=a.getMessage("SERVICE_RESPONSE_ANALYSE",n.type);throw new v({message:r,type:v.TYPE_UNKERR,status:200})}_t(n,e)}return e}};var It=vt,Et={build:function(t){var e=null;if(t.response){if(t.rawResponse)e=t.response;else{try{const n=new It;if(e=n.parse(t.response),!e)throw new Error("L'analyse de la réponse du service !?")}catch(i){var n=i.message;return"string"===typeof t.response?n+="('"+t.response+"')":n+="('"+t.response.documentElement.innerHTML+"')",void t.onError.call(t.scope,new v({message:a.getMessage("SERVICE_RESPONSE_ANALYSE",n),type:v.TYPE_UNKERR,status:-1}))}if(e.exceptionReport)return void t.onError.call(t.scope,new v({message:a.getMessage("SERVICE_RESPONSE_EXCEPTION",e.exceptionReport),type:v.TYPE_SRVERR,status:200}))}t.onSuccess.call(t.scope,e)}else t.onError.call(t.scope,new v({message:a.getMessage("SERVICE_RESPONSE_EMPTY"),type:v.TYPE_SRVERR,status:-1}))}},wt=Et;function bt(t){if(!(this instanceof bt))throw new TypeError(a.getMessage("CLASS_CONSTRUCTOR","Geocode"));this.CLASSNAME="Geocode",this.logger=o.getLogger("Gp.Services.Geocode"),this.logger.trace("[Constructeur Geocode (options)]");var e=this.patchOptionConvertor(t);if(e.serverUrl||(e.serverUrl=w.Geocode.newUrl()),I.apply(this,[e]),!e.hasOwnProperty("query"))throw new Error(a.getMessage("PARAM_MISSING","query"));if(this.options.query=e.query,e.index||(this.options.index=e.index="StreetAddress"),e.filters)for(var n=Object.keys(e.filters),i=0;i<n.length;i++){var r=n[i];("undefined"===typeof e.filters[r]||"object"===typeof e.filters[r]&&0===Object.keys(e.filters[r]).length||"string"===typeof e.filters[r]&&0===e.filters[r].length||Array.isArray(e.filters[r])&&0===e.filters[r].length)&&delete this.options.filters[r]}this.options.index=e.index||"StreetAddress",this.options.maximumResponses=e.maximumResponses||20}bt.prototype=Object.create(I.prototype,{}),bt.prototype.constructor=bt,bt.prototype.patchOptionConvertor=function(t){const e=t;return e.hasOwnProperty("location")&&(this.logger.warn("The parameter 'location' is deprecated"),e.query||(e.query=e.location),delete e.location),e.filterOptions&&(this.logger.warn("The parameter 'filterOptions' is deprecated"),e.filters||(e.filters=e.filterOptions,e.filters.type&&(this.logger.warn("The parameter 'filterOptions.type' is deprecated"),e.index||(Array.isArray(e.filters.type)&&e.filters.type.length>0?e.index=e.filters.type[0]:e.index=e.filters.type),delete e.filters.type),e.filters.bbox&&(this.logger.warn("The parameter 'filterOptions.bbox' is deprecated"),delete e.filters.bbox)),delete e.filterOptions),e.position&&(e.position.x&&(this.logger.warn("The parameter 'position.x' is deprecated"),e.position.lon||(e.position.lon=e.position.x),delete e.position.x),e.position.y&&(this.logger.warn("The parameter 'position.y' is deprecated"),e.position.lat||(e.position.lat=e.position.y),delete e.position.y)),e.returnFreeForm&&(this.logger.warn("The parameter 'returnFreeForm' is deprecated"),delete e.returnFreeForm),e.srs&&(this.logger.warn("The parameter 'srs' is deprecated"),delete e.srs),e},bt.prototype.buildRequest=function(t,e){var n={httpMethod:this.options.httpMethod,geocodeMethod:"search",query:this.options.query,index:this.options.index,returnTrueGeometry:this.options.returnTrueGeometry,position:this.options.position,maxResp:this.options.maximumResponses,filters:this.options.filters};this.request=gt.build(n),this.request?e.call(this,this.request):t.call(this,new v(a.getMessage("SERVICE_REQUEST_BUILD")))},bt.prototype.analyzeResponse=function(t,e){if(this.response){var n={response:this.response,rawResponse:this.options.rawResponse,onError:t,onSuccess:e,scope:this};wt.build(n)}else t.call(this,new v(a.getMessage("SERVICE_RESPONSE_EMPTY")))};var xt=bt;function St(t){if(!(this instanceof St))throw new TypeError(a.getMessage("CLASS_CONSTRUCTOR","ReverseGeocode"));this.CLASSNAME="ReverseGeocode",this.logger=o.getLogger("Gp.Services.ReverseGeocode"),this.logger.trace("[Constructeur ReverseGeocode (options)]");var e=this.patchOptionConvertor(t);if(e.serverUrl||(e.serverUrl=w.ReverseGeocode.newUrl()),I.apply(this,[e]),e.searchGeometry)this.options.searchGeometry=e.searchGeometry;else if(!e.position)throw new Error(a.getMessage("PARAM_MISSING","searchGeometry"));if(e.index||(this.options.index=e.index="StreetAddress"),e.filters)for(var n=Object.keys(e.filters),i=0;i<n.length;i++){var r=n[i];("undefined"===typeof e.filters[r]||"object"===typeof e.filters[r]&&0===Object.keys(e.filters[r]).length||"string"===typeof e.filters[r]&&0===e.filters[r].length||Array.isArray(e.filters[r])&&0===e.filters[r].length)&&delete this.options.filters[r]}this.options.position=e.position,this.options.index=e.index||"StreetAddress",this.options.maximumResponses=e.maximumResponses||20}St.prototype=Object.create(I.prototype,{}),St.prototype.constructor=St,St.prototype.patchOptionConvertor=function(t){var e=t;return e.filterOptions&&(this.logger.warn("The parameter 'filterOptions' is deprecated"),e.filterOptions.type&&(this.logger.warn("The parameter 'filterOptions.type' is deprecated"),e.index||(Array.isArray(e.filterOptions.type)&&e.filterOptions.type.length>0?e.index=e.filterOptions.type[0]:e.index=e.filterOptions.type),delete e.filterOptions.type),e.filterOptions.bbox&&(this.logger.warn("The parameter 'filterOptions.bbox' is deprecated"),e.searchGeometry||(e.searchGeometry=this.bbox2Json(e.filterOptions.bbox)),delete e.filterOptions.bbox),e.filterOptions.circle&&(this.logger.warn("The parameter 'filterOptions.circle' is deprecated"),e.searchGeometry||(e.searchGeometry=this.circle2Json(e.filterOptions.circle)),delete e.filterOptions.circle),e.filterOptions.polygon&&(this.logger.warn("The parameter 'filterOptions.polygon' is deprecated"),e.searchGeometry||(e.searchGeometry=this.polygon2Json(e.filterOptions.polygon)),delete e.filterOptions.polygon),!e.filters&&Object.keys(e.filterOptions).length>0&&(e.filters=e.filterOptions),delete e.filterOptions),e.position&&(e.position.x&&(this.logger.warn("The parameter 'position.x' is deprecated"),e.position.lon||(e.position.lon=e.position.x),delete e.position.x),e.position.y&&(this.logger.warn("The parameter 'position.y' is deprecated"),e.position.lat||(e.position.lat=e.position.y),delete e.position.y)),e.srs&&(this.logger.warn("The parameter 'srs' is deprecated"),delete e.srs),e},St.prototype.buildRequest=function(t,e){var n={httpMethod:this.options.httpMethod,geocodeMethod:"reverse",searchGeometry:this.options.searchGeometry,index:this.options.index,position:this.options.position,returnTrueGeometry:this.options.returnTrueGeometry,maxResp:this.options.maximumResponses,filters:this.options.filters};this.request=gt.build(n),this.request?e.call(this,this.request):t.call(this,new v(a.getMessage("SERVICE_REQUEST_BUILD")))},St.prototype.analyzeResponse=function(t,e){if(this.response){var n={response:this.response,rawResponse:this.options.rawResponse,onError:t,onSuccess:e,scope:this};wt.build(n)}else t.call(this,new v(a.getMessage("SERVICE_RESPONSE_EMPTY")))},St.prototype.bbox2Json=function(t){return{type:"Polygon",coordinates:[[[t.left,t.top],[t.right,t.top],[t.right,t.bottom],[t.left,t.bottom],[t.left,t.top]]]}},St.prototype.circle2Json=function(t){return{type:"Circle",radius:t.radius,coordinates:[t.x,t.y]}},St.prototype.polygon2Json=function(t){for(var e={type:"Polygon",coordinates:[[]]},n=0;n<t.length;++n)e.coordinates[0].push([t[n].x,t[n].y]);return e},St.geoEPSG=["EPSG:4326"];var Pt=St;function Mt(){if(!(this instanceof Mt))throw new TypeError("AutoCompleteResponse constructor cannot be called as a function.");this.suggestedLocations=[]}Mt.prototype={constructor:Mt};var Rt=Mt;function Tt(){if(!(this instanceof Tt))throw new TypeError("SuggestedLocation constructor cannot be called as a function.");this.type=null,this.position={x:null,y:null},this.commune=null,this.fullText=null,this.postalCode=null,this.classification=null,this.street=null,this.poi=null,this.kind=null}Tt.prototype={constructor:Tt};var Gt=Tt,Lt={build:function(t){var e=o.getLogger("AutoCompleteResponseFactory");e.trace(["AutoCompleteResponseFactory::build()"]);var n=null;if(t.response){if(t.rawResponse)e.trace("analyze response : raw"),n=t.response;else{var i=null;if(i="string"===typeof t.response?JSON.parse(t.response):t.response,i){if(i.error)return void t.onError.call(t.scope,new v({message:a.getMessage("SERVICE_RESPONSE_EXCEPTION",i.error.description),status:i.error.code,type:v.TYPE_SRVERR}));if(n=new Rt,!i.results||!Array.isArray(i.results))return void t.onError.call(t.scope,new v(a.getMessage("SERVICE_RESPONSE_FORMAT_3")));for(var r=null,s=0;s<i.results.length;s++){var l=i.results[s];r=new Gt,l&&("StreetAddress"===l.country?(r.street=l.street,r.type="StreetAddress"):"PositionOfInterest"===l.country&&(r.poi=l.street,r.type="PositionOfInterest",r.poiType=l.poiType),r.position&&(r.position.x=l.x,r.position.y=l.y),r.kind=l.kind,r.commune=l.city,r.fullText=l.fulltext,r.postalCode=l.zipcode,r.classification=l.classification),n.suggestedLocations.push(r)}if(!n.suggestedLocations.length)return void t.onError.call(t.scope,new v(a.getMessage("SERVICE_RESPONSE_FORMAT_3")))}if(!n)return void t.onError.call(t.scope,new v({message:a.getMessage("SERVICE_RESPONSE_ANALYSE_2"),type:v.TYPE_UNKERR,status:-1}));if(n.exceptionReport)return void t.onError.call(t.scope,new v({message:a.getMessage("SERVICE_RESPONSE_EXCEPTION",n.exceptionReport),type:v.TYPE_SRVERR,status:200}))}t.onSuccess.call(t.scope,n)}else t.onError.call(t.scope,new v(a.getMessage("SERVICE_RESPONSE_EMPTY")))}},kt=Lt;function Ot(t){if(!(this instanceof Ot))throw new TypeError(a.getMessage("CLASS_CONSTRUCTOR","AutoComplete"));this.CLASSNAME="AutoComplete",this.logger=o.getLogger("Gp.Services.AutoComplete"),this.logger.trace("[Constructeur AutoComplete (options)]");var e=this.patchOptionConvertor(t);if(e.serverUrl||(e.serverUrl=w.AutoComplete.newUrl()),I.apply(this,arguments),!e.text)throw new Error(a.getMessage("PARAM_MISSING","text"));this.options.text=e.text,e.type||(e.type=["StreetAddress,PositionOfInterest"]),this.options.type=e.type,this.options.territory=e.terr||"",this.options.maximumResponses=e.maximumResponses||10,"XHR"===this.options.protocol&&"POST"===this.options.httpMethod&&(this.logger.warn("Le service ne gére pas le mode d'interrogation en POST, on bascule sur du GET !"),this.options.httpMethod="GET"),this.options.outputFormat=this.options.rawResponse?"":"json"}Ot.prototype=Object.create(I.prototype,{}),Ot.prototype.constructor=Ot,Ot.prototype.patchOptionConvertor=function(t){const e=t;return e.filterOptions&&(this.logger.warn("The parameter 'filterOptions' is deprecated"),e.filterOptions.type&&(this.logger.warn("The parameter 'filterOptions.type' is deprecated"),e.type||(e.type=e.filterOptions.type)),e.filterOptions.territory&&(this.logger.warn("The parameter 'filterOptions.territory' is deprecated"),e.terr||(e.terr=e.filterOptions.territory)),delete e.filterOptions),e},Ot.prototype.buildRequest=function(t,e){var n="";this.options.territory&&(n=this.options.territory);var i="";this.options.type&&(i=this.options.type.join(",")),this.request=c.normalyzeParameters({text:encodeURIComponent(this.options.text),type:i,terr:n,maximumResponses:this.options.maximumResponses}),this.request?e.call(this,this.request):t.call(this,new v(a.getMessage("SERVICE_REQUEST_BUILD")))},Ot.prototype.analyzeResponse=function(t,e){if(this.response){var n={response:this.response,rawResponse:this.options.rawResponse,onSuccess:e,onError:t,scope:this};kt.build(n)}else t.call(this,new v(a.getMessage("SERVICE_RESPONSE_EMPTY")))};var Dt=Ot;function Nt(t){if(!(this instanceof Nt))throw new TypeError("RouteParamREST constructor cannot be called as a function.");this.logger=o.getLogger(),this.logger.trace("[Constructeur RouteParamREST ()]"),this.options=t||{},this.resource=this.options.resource,this.start=this.options.startPoint.x+","+this.options.startPoint.y,this.end=this.options.endPoint.x+","+this.options.endPoint.y,this.intermediates=this.options.viaPoints,this.profile=this.options.graph,this.crs=this.options.srs,this.constraints=this.options.constraints,this.optimization=this.options.routePreference,this.getSteps=this.options.geometryInInstructions?"true":"false",this.distanceUnit=this.options.distanceUnit,this.timeUnit=this.options.timeUnit,this.waysAttributes=this.options.waysAttributes}Nt.CLASSNAME="RouteParamREST",Nt.prototype={constructor:Nt,getIntermediates:function(){var t=[];if(0!==this.intermediates.length)for(var e=0;e<this.intermediates.length;e++){var n=this.intermediates[e];t.push(n.x+","+n.y)}return t.join("|")},getWaysAttributes:function(){return this.waysAttributes.join("|")},getProfile:function(){return this.profile},getDistanceUnit:function(){return"m"===this.distanceUnit?"meter":"km"===this.distanceUnit?"kilometer":""},getOptimization:function(){return this.optimization?this.optimization:""},getConstraints:function(){var t=[];if(0!==this.constraints.length)for(var e=0;e<this.constraints.length;e++)t.push(JSON.stringify(this.constraints[e]));return t.join("|")}},Nt.prototype.getParams=function(){var t=[];return t.push({k:"resource",v:this.resource}),t.push({k:"start",v:this.start}),t.push({k:"end",v:this.end}),t.push({k:"geometryFormat",v:"geojson"}),this.optimization&&t.push({k:"optimization",v:this.getOptimization()}),this.intermediates&&t.push({k:"intermediates",v:this.getIntermediates()}),this.profile&&t.push({k:"profile",v:this.getProfile()}),this.constraints&&t.push({k:"constraints",v:this.getConstraints()}),this.crs&&t.push({k:"crs",v:this.crs}),this.distanceUnit&&t.push({k:"distanceUnit",v:this.getDistanceUnit()}),this.timeUnit&&t.push({k:"timeUnit",v:this.timeUnit}),this.waysAttributes&&t.push({k:"waysAttributes",v:this.getWaysAttributes()}),t};var Ft=Nt;function Ut(t){if(this.logger=o.getLogger("RouteRequestREST"),this.logger.trace("[Constructeur RouteRequestREST ()]"),!(this instanceof Ut))throw new TypeError("RouteRequestREST constructor cannot be called as a function.");if(!t)throw new Error(a.getMessage("PARAM_EMPTY","options"));this.settings=t}Ut.prototype={requestString:null,constructor:Ut,processRequestString:function(){this.logger.warn(" PROTOTYPE !");for(var t=new Ft(this.settings),e=t.getParams(),n="",i=0;i<e.length;i++){var r=e[i];n&&(n+="&"),n+=r.k+"="+r.v}return this.logger.trace(n),this.requestString=n,this.requestString}};var Bt=Ut,jt={build:function(t){var e=o.getLogger("RouteRequestFactory");e.trace(["RouteRequestFactory::build()"]);var n=null,i=t||{},r=!(null===t.onError||"function"!==typeof t.onError),s=null,a=new Bt(i);if(!a.processRequestString()){if(s="Error process request (rest) !",r)return void t.onError.call(t.scope,new v(s));throw new Error(s)}return n=a.requestString,n}},zt=jt;function Wt(){if(!(this instanceof Wt))throw new TypeError("RouteResponse constructor cannot be called as a function.");this.totalTime=null,this.totalDistance=null,this.bbox={left:null,right:null,top:null,bottom:null},this.routeGeometry=null,this.routeInstructions=[]}Wt.prototype={constructor:Wt};var Vt=Wt;function Yt(){if(!(this instanceof Yt))throw new TypeError("RouteInstruction constructor cannot be called as a function.");this.duration=null,this.distance=null,this.code=null,this.instruction=null,this.geometry=null}Yt.prototype={constructor:Yt};var Ht=Yt,qt={build:function(t){var e=o.getLogger("RouteResponseFactory");e.trace("RouteResponseFactory::build()");var n=null;if(t.response){if(t.rawResponse)e.trace("analyze response : raw"),n=t.response;else{var i;if(e.trace("analyze response : json"),i="string"===typeof t.response?JSON.parse(t.response):t.response,i){if(i.message)return void t.onError.call(t.scope,new v(a.getMessage("SERVICE_RESPONSE_EXCEPTION",i.message)));var r=[],s=[],l=[];if(n=new Vt,n.hasOwnProperty("totalTime")&&(n.totalTime=parseFloat(i.duration)),n.hasOwnProperty("totalDistance")&&(n.totalDistance=parseFloat(i.distance)),n.hasOwnProperty("bbox")&&(n.bbox.left=parseFloat(i.bbox[0]),n.bbox.bottom=parseFloat(i.bbox[1]),n.bbox.right=parseFloat(i.bbox[2]),n.bbox.top=parseFloat(i.bbox[3])),n.hasOwnProperty("routeGeometry")&&!t.geometryInInstructions&&(n.routeGeometry=i.geometry),n.hasOwnProperty("routeInstructions")&&t.geometryInInstructions){var c,u=i.portions;if(Array.isArray(u)&&u.length)for(c=0;c<u.length;c++)r.push(u[c]);if(r.length)for(c=0;c<r.length;c++)s.push(r[c].steps);if(s.length)for(c=0;c<s.length;c++)l=l.concat(s[c]);l.forEach((function(t){switch(n.routeInstructions.push(new Ht),n.routeInstructions[n.routeInstructions.length-1].duration=t.duration,n.routeInstructions[n.routeInstructions.length-1].distance=t.distance,n.routeInstructions[n.routeInstructions.length-1].code="",n.routeInstructions[n.routeInstructions.length-1].instruction="",n.routeInstructions[n.routeInstructions.length-1].geometry=t.geometry,"Valeur non renseignée"===t.name&&(t.name=""),t.instruction.type){case"turn":n.routeInstructions[n.routeInstructions.length-1].instruction+="Tourner";break;case"new name":n.routeInstructions[n.routeInstructions.length-1].instruction+="Continuer tout droit";break;case"depart":n.routeInstructions[n.routeInstructions.length-1].instruction+="Départ";break;case"arrive":n.routeInstructions[n.routeInstructions.length-1].instruction+="Arrivée";break;case"merge":n.routeInstructions[n.routeInstructions.length-1].instruction+="Rejoindre";break;case"ramp":n.routeInstructions[n.routeInstructions.length-1].instruction+="Prendre la bretelle";break;case"on ramp":n.routeInstructions[n.routeInstructions.length-1].instruction+="Prendre la bretelle";break;case"off ramp":n.routeInstructions[n.routeInstructions.length-1].instruction+="Prendre la sortie";break;case"fork":n.routeInstructions[n.routeInstructions.length-1].instruction+="Sur la bifurcation, prendre";break;case"end of road":n.routeInstructions[n.routeInstructions.length-1].instruction+="À la fin de la route, prendre";break;case"use lane":n.routeInstructions[n.routeInstructions.length-1].instruction+="Utiliser la file";break;case"continue":n.routeInstructions[n.routeInstructions.length-1].instruction+="Continuer";break;case"roundabout":n.routeInstructions[n.routeInstructions.length-1].instruction+="Au rond-point";break;case"rotary":n.routeInstructions[n.routeInstructions.length-1].instruction+="Au rond-point";break;case"roundabout turn":n.routeInstructions[n.routeInstructions.length-1].instruction+="Au rond point, tourner";break;case"notification":n.routeInstructions[n.routeInstructions.length-1].instruction+="";break;default:n.routeInstructions[n.routeInstructions.length-1].instruction+="?"+t.instruction.type+"?";break}if(t.instruction.modifier)switch(t.instruction.modifier){case"uturn":n.routeInstructions[n.routeInstructions.length-1].instruction="Faire demi-tour";break;case"sharp right":n.routeInstructions[n.routeInstructions.length-1].instruction+=" complètement à droite";break;case"right":n.routeInstructions[n.routeInstructions.length-1].instruction+=" à droite";break;case"slight right":n.routeInstructions[n.routeInstructions.length-1].instruction+=" légèrement à droite";break;case"straight":n.routeInstructions[n.routeInstructions.length-1].instruction="Continuer tout droit";break;case"slight left":n.routeInstructions[n.routeInstructions.length-1].instruction+=" lègèrement à gauche";break;case"left":n.routeInstructions[n.routeInstructions.length-1].instruction+=" à gauche";break;case"sharp left":n.routeInstructions[n.routeInstructions.length-1].instruction+=" complètement à gauche";break;default:n.routeInstructions[n.routeInstructions.length-1].instruction+=" ?"+t.instruction.modifier+"?";break}t.instruction.exit&&(n.routeInstructions[n.routeInstructions.length-1].instruction+=`${t.instruction.exit}e sortie`),t.attributes.name&&((t.attributes.name.nom_1_droite||t.attributes.name.toponyme)&&(n.routeInstructions[n.routeInstructions.length-1].instruction+=" sur"),t.attributes.name.nom_1_droite&&(n.routeInstructions[n.routeInstructions.length-1].instruction+=` ${t.attributes.name.nom_1_droite}`),t.attributes.name.toponyme&&(n.routeInstructions[n.routeInstructions.length-1].instruction+=` ${t.attributes.name.toponyme}`))}))}}if(!n)return void t.onError.call(t.scope,new v(a.getMessage("SERVICE_RESPONSE_ANALYSE","json")));if(n.exceptionReport)return void t.onError.call(t.scope,new v(a.getMessage("SERVICE_RESPONSE_EXCEPTION_2")))}t.onSuccess.call(t.scope,n)}else t.onError.call(t.scope,new v(a.getMessage("SERVICE_RESPONSE_EMPTY")))}},Xt=qt;function Zt(t){if(!(this instanceof Zt))throw new TypeError(a.getMessage("CLASS_CONSTRUCTOR","Route"));if(this.CLASSNAME="Route",I.apply(this,arguments),this.logger=o.getLogger("Gp.Services.Route"),this.logger.trace("[Constructeur Route (options)]"),!t.startPoint)throw new Error(a.getMessage("PARAM_MISSING","startPoint"));if(null===t.startPoint.x)throw new Error(a.getMessage("PARAM_MISSING","startPoint.x"));if(null===t.startPoint.y)throw new Error(a.getMessage("PARAM_MISSING","startPoint.y"));if(!t.endPoint)throw new Error(a.getMessage("PARAM_MISSING","endPoint"));if(null===t.endPoint.x)throw new Error(a.getMessage("PARAM_MISSING","endPoint.x"));if(null===t.endPoint.y)throw new Error(a.getMessage("PARAM_MISSING","endPoint.y"));if(t.outputFormat&&"json"!==t.outputFormat&&this.logger.warn("options.outputFormat could only be json"),this.options.outputFormat="json",this.options.resource=t.resource||"bdtopo-osrm",this.options.startPoint=t.startPoint,this.options.endPoint=t.endPoint,this.options.viaPoints=t.viaPoints||[],this.options.routePreference=t.routePreference||"fastest",t.graph?("Voiture"===t.graph&&(this.options.graph="car"),"Pieton"===t.graph&&(this.options.graph="pedestrian")):this.options.graph="car",this.options.constraints=[],t.constraints){if(!Array.isArray(t.constraints))throw new Error(a.getMessage("PARAM_TYPE","constraints"));for(var e=0;e<t.constraints.length;e++)this.options.constraints.push(t.constraints[e])}var n={},i={},r={};if(t.exclusions&&0!==t.exclusions.length){this.logger.warn("options.exclusions is DEPRECATED !!");for(var s=0;s<t.exclusions.length;s++)"string"===typeof t.exclusions[s]&&(t.exclusions[s]=t.exclusions[s].toLowerCase(),"toll"===t.exclusions[s]&&(r.constraintType="banned",r.key="wayType",r.operator="=",r.value="autoroute",this.options.constraints.push(r)),"tunnel"===t.exclusions[s]&&(n.constraintType="banned",n.key="wayType",n.operator="=",n.value="tunnel",this.options.constraints.push(n)),"bridge"===t.exclusions[s]&&(i.constraintType="banned",i.key="wayType",i.operator="=",i.value="pont",this.options.constraints.push(i)))}if(this.options.geometryInInstructions=t.geometryInInstructions||!1,this.options.provideBbox=t.provideBbox||!0,this.options.distanceUnit=t.distanceUnit||"m",this.options.timeUnit=t.timeUnit||"second",this.options.expectedStartTime=null,this.options.srs=t.srs||"EPSG:4326",this.options.waysAttributes=t.waysAttributes||[],!this.options.serverUrl){var l=w.Route.newUrl();if(!l)throw new Error("Url by default not found !");this.options.serverUrl=l,this.logger.trace("Serveur URL par defaut : "+this.options.serverUrl)}}Zt.prototype=Object.create(I.prototype,{}),Zt.prototype.constructor=Zt,Zt.prototype.buildRequest=function(t,e){var n={resource:this.options.resource,startPoint:this.options.startPoint,endPoint:this.options.endPoint,viaPoints:this.options.viaPoints,provideBbox:this.options.provideBbox,constraints:this.options.constraints,distanceUnit:this.options.distanceUnit,timeUnit:this.options.timeUnit,graph:this.options.graph,geometryInInstructions:this.options.geometryInInstructions,routePreference:this.options.routePreference,srs:this.options.srs,waysAttributes:this.options.waysAttributes};this.request=zt.build(n),this.request?e.call(this,this.request):t.call(this,new v(a.getMessage("SERVICE_REQUEST_BUILD")))},Zt.prototype.analyzeResponse=function(t,e){if(this.response){var n={distanceUnit:this.options.distanceUnit,timeUnit:this.options.timeUnit,response:this.response,outputFormat:this.options.outputFormat,rawResponse:this.options.rawResponse,onError:t,onSuccess:e,scope:this,geometryInInstructions:this.options.geometryInInstructions};Xt.build(n)}else t.call(this,new v(a.getMessage("SERVICE_RESPONSE_EMPTY")))};var Kt=Zt;function Jt(t){if(!(this instanceof Jt))throw new TypeError("ProcessIsoCurveParam constructor cannot be called as a function.");this.logger=o.getLogger(),this.logger.trace("[Constructeur ProcessIsoCurveParam ()]"),this.options=t||{},this.id=this.options.id,this.resource=this.options.resource,this.point=this.options.position,this.crs=this.options.srs,this.profile=this.options.graph,this.constraints=this.options.constraints,this.reverse=this.options.reverse,this.timeUnit=this.options.timeUnit,this.distanceUnit=this.options.distanceUnit,"distance"===this.options.method?(this.costType="distance",this.costValue=this.options.distance):(this.costType="time",this.costValue=this.options.time)}Jt.CLASSNAME="ProcessIsoCurveParam",Jt.prototype={constructor:Jt,getLocation:function(){return this.point.x+","+this.point.y},getDistanceUnit:function(){return"m"===this.distanceUnit?"meter":"km"===this.distanceUnit?"kilometer":""},getConstraints:function(){var t=[];if(0!==this.constraints.length)for(var e=0;e<this.constraints.length;e++)t.push(JSON.stringify(this.constraints[e]));return t.join("|")},getDirection:function(){return this.reverse?"arrival":"departure"}},Jt.prototype.getParams=function(){var t=[];return t.push({k:"resource",v:this.resource}),t.push({k:"point",v:this.getLocation()}),t.push({k:"direction",v:this.getDirection()}),t.push({k:"costType",v:this.costType}),t.push({k:"costValue",v:this.costValue}),t.push({k:"profile",v:this.profile}),t.push({k:"timeUnit",v:this.timeUnit}),t.push({k:"distanceUnit",v:this.getDistanceUnit()}),this.crs&&t.push({k:"crs",v:this.crs}),this.constraints&&t.push({k:"constraints",v:this.getConstraints()}),t};var Qt=Jt;function $t(t){if(this.logger=o.getLogger("ProcessIsoCurveRequest"),this.logger.trace("[Constructeur ProcessIsoCurveRequest ()]"),!(this instanceof $t))throw new TypeError("ProcessIsoCurveRequest constructor cannot be called as a function.");if(!t)throw new Error(a.getMessage("PARAM_EMPTY","options"));this.settings=t,this.mode=this.settings.httpMethod||"GET"}$t.prototype={requestString:null,constructor:$t,processRequestString:function(){var t="",e=0;switch(this.mode){case"GET":this.logger.trace("Process GET Request");var n=new Qt(this.settings),i=n.getParams();for(e=0;e<i.length;e++){var r=i[e];t&&(t+="&"),t+=r.k+"="+r.v}break;case"POST":this.logger.trace("Process POST Request");var o={};o.resource=this.settings.resource,o.point=this.settings.position.x+","+this.settings.position.y,"distance"===this.settings.method?(o.costType="distance",o.costValue=this.settings.distance):(o.costType="time",o.costValue=this.settings.time),o.profile=this.settings.graph,this.settings.reverse?o.direction="arrival":o.direction="departure",o.constraints=this.settings.constraints,o.distanceUnit=this.settings.distanceUnit,o.timeUnit=this.settings.timeUnit,o.crs=this.settings.srs,t=JSON.stringify(o);break;default:this.logger.error("No other HTTP method supported by the service !")}return this.logger.trace(t),this.requestString=t,this.requestString}};var te=$t;function ee(){if(!(this instanceof ee))throw new TypeError("ProcessIsoCurveResponse constructor cannot be called as a function.");this.message=null,this.id=null,this.location={},this.location.x=null,this.location.y=null,this.srs=null,this.geometry=null,this.time=null,this.distance=null}ee.prototype={constructor:ee};var ne=ee,ie={build:function(t){var e=o.getLogger("ProcessIsoCurveResponseFactory");e.trace(["ProcessIsoCurveResponseFactory::build()"]);var n=null;if(t.response){if(t.rawResponse)e.trace("analyze response : raw"),n=t.response;else{var i;if(e.trace("analyze response : json"),i="string"===typeof t.response?JSON.parse(t.response):t.response,n=new ne,!i)return void t.onError.call(t.scope,new v(a.getMessage("SERVICE_RESPONSE_ANALYSE",t.response)));"distance"===i.costType?(n.time="",n.distance=i.costValue):(n.time=i.costValue,n.distance=""),n.message="",n.id="",n.srs=i.crs,n.geometry=i.geometry;var r=i.point.split(",");if(n.location&&(n.location.x=r[0],n.location.y=r[1]),n.exceptionReport)return void t.onError.call(t.scope,new v({message:a.getMessage("SERVICE_RESPONSE_EXCEPTION",n.exceptionReport),type:v.TYPE_SRVERR,status:200}))}t.onSuccess.call(t.scope,n)}else t.onError.call(t.scope,new v(a.getMessage("SERVICE_RESPONSE_EMPTY")))}},re=ie;function oe(t){if(!(this instanceof oe))throw new TypeError(a.getMessage("CLASS_CONSTRUCTOR","ProcessIsoCurve"));if(this.CLASSNAME="ProcessIsoCurve",I.apply(this,arguments),this.logger=o.getLogger("Gp.Services.ProcessIsoCurve"),this.logger.trace("[Constructeur ProcessIsoCurve (options)]"),!t.position)throw new Error(a.getMessage("PARAM_MISSING","position"));if(null===t.position.x)throw new Error(a.getMessage("PARAM_MISSING","position.x"));if(null===t.position.y)throw new Error(a.getMessage("PARAM_MISSING","position.y"));if(!t.time&&!t.distance)throw new Error("Parameter (s) 'distance' missing. Parameter time to calculate an isochrone, parameter distance for an isodistance");if(!t.time&&t.distance&&(this.options.method="distance",this.options.time&&delete this.options.time),t.time&&!t.distance&&(this.options.method="time",this.options.distance&&delete this.options.distance),this.options.method=this.options.method||"time",this.options.resource=t.resource||"bdtopo-valhalla",this.options.exclusions=t.exclusions||[],this.options.reverse=t.reverse||!1,this.options.srs=t.srs||"EPSG:4326",this.options.distanceUnit=t.distanceUnit||"m",this.options.timeUnit=t.timeUnit||"second",t.smoothing&&this.logger.warn("options.smoothing is DEPRECATED"),this.options.smoothing=!1,t.holes&&this.logger.warn("options.holes is DEPRECATED"),this.options.holes=!1,t.graph?("Voiture"===t.graph&&(this.options.graph="car"),"Pieton"===t.graph&&(this.options.graph="pedestrian")):this.options.graph="car",this.options.constraints=[],t.constraints){if(!Array.isArray(t.constraints))throw new Error(a.getMessage("PARAM_TYPE","constraints"));for(var e=0;e<t.constraints.length;e++)this.options.constraints.push(t.constraints[e])}var n={},i={},r={};if(t.exclusions&&0!==t.exclusions.length){this.logger.warn("options.exclusions is DEPRECATED !!");for(var s=0;s<t.exclusions.length;s++)"string"===typeof t.exclusions[s]&&(t.exclusions[s]=t.exclusions[s].toLowerCase(),"toll"===t.exclusions[s]&&(r.constraintType="banned",r.key="wayType",r.operator="=",r.value="autoroute",this.options.constraints.push(r)),"tunnel"===t.exclusions[s]&&(n.constraintType="banned",n.key="wayType",n.operator="=",n.value="tunnel",this.options.constraints.push(n)),"bridge"===t.exclusions[s]&&(i.constraintType="banned",i.key="wayType",i.operator="=",i.value="pont",this.options.constraints.push(i)))}if(this.options.outputFormat="string"===typeof t.outputFormat?t.outputFormat.toLowerCase():"json",t.outputFormat&&"json"!==t.outputFormat)throw new Error(a.getMessage("PARAM_NOT_SUPPORT","outputFormat"));if(this.options.outputFormat="json",!this.options.serverUrl){var l=w.ProcessIsoCurve.newUrl();if(!l)throw new Error("Url by default not found !");this.options.serverUrl=l,this.logger.trace("Serveur URL par defaut : "+this.options.serverUrl)}}oe.prototype=Object.create(I.prototype,{}),oe.prototype.constructor=oe,oe.prototype.buildRequest=function(t,e){try{var n=new te(this.options);if(!n.processRequestString())throw new Error(a.getMessage("SERVICE_REQUEST_BUILD"));this.request=n.requestString}catch(i){return void t.call(this,new v(i.message))}e.call(this,this.request)},oe.prototype.analyzeResponse=function(t,e){if(this.response){var n={response:this.response,outputFormat:this.options.outputFormat,rawResponse:this.options.rawResponse,onSuccess:e,onError:t,scope:this};re.build(n)}else t.call(this,new v(a.getMessage("SERVICE_RESPONSE_EMPTY")))};var se=oe,ae={getConfig:function(t){var e=new R(t);e.call()},getAltitude:function(t){var e=new lt(t);e.call()},geocode:function(t){var e=new xt(t);e.call()},reverseGeocode:function(t){var e=new Pt(t);e.call()},autoComplete:function(t){var e=new Dt(t);e.call()},route:function(t){var e=new Kt(t);e.call()},isoCurve:function(t){var e=new se(t);e.call()}},le=ae;const ce=_.rE,ue=_.p6;var he={};he.servicesVersion=ce,he.servicesDate=ue,he.Protocols={},he.Protocols.XHR=p,he.Services=le,he.Services.DefaultUrl=w,he.Services.AltiResponse=Q,he.Services.Alti={},he.Services.Alti.Elevation=tt,he.Services.AutoCompleteResponse=Rt,he.Services.AutoComplete={},he.Services.AutoComplete.SuggestedLocation=Gt,he.Services.Config=R,he.Services.IsoCurveResponse=ne,he.Services.RouteResponse=Vt,he.Services.Route={},he.Services.Route.RouteInstruction=Ht,he.Error=v,he.Helper=c;var de=he},251:function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,n,i,r){var o,s,a=8*r-i-1,l=(1<<a)-1,c=l>>1,u=-7,h=n?r-1:0,d=n?-1:1,p=t[e+h];for(h+=d,o=p&(1<<-u)-1,p>>=-u,u+=a;u>0;o=256*o+t[e+h],h+=d,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=i;u>0;s=256*s+t[e+h],h+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,i),o-=c}return(p?-1:1)*s*Math.pow(2,o-i)},e.write=function(t,e,n,i,r,o){var s,a,l,c=8*o-r-1,u=(1<<c)-1,h=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,g=i?1:-1,f=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),e+=s+h>=1?d/l:d*Math.pow(2,1-h),e*l>=2&&(s++,l/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(e*l-1)*Math.pow(2,r),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,r),s=0));r>=8;t[n+p]=255&a,p+=g,a/=256,r-=8);for(s=s<<r|a,c+=r;c>0;t[n+p]=255&s,p+=g,s/=256,c-=8);t[n+p-g]|=128*f}},3065:function(t,e,n){var i,r;(function(o,s){"use strict";i=s,r="function"===typeof i?i.call(e,n,e,t):i,void 0===r||(t.exports=r)})(0,(function(){"use strict";var t=function(){},e="undefined",n=typeof window!==e&&typeof window.navigator!==e&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],r={},o=null;function s(t,e){var n=t[e];if("function"===typeof n.bind)return n.bind(t);try{return Function.prototype.bind.call(n,t)}catch(i){return function(){return Function.prototype.apply.apply(n,[t,arguments])}}}function a(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function l(i){return"debug"===i&&(i="log"),typeof console!==e&&("trace"===i&&n?a:void 0!==console[i]?s(console,i):void 0!==console.log?s(console,"log"):t)}function c(){for(var n=this.getLevel(),r=0;r<i.length;r++){var o=i[r];this[o]=r<n?t:this.methodFactory(o,n,this.name)}if(this.log=this.debug,typeof console===e&&n<this.levels.SILENT)return"No console available for logging"}function u(t){return function(){typeof console!==e&&(c.call(this),this[t].apply(this,arguments))}}function h(t,e,n){return l(t)||u.apply(this,arguments)}function d(t,n){var s,a,l,u=this,d="loglevel";function p(t){var n=(i[t]||"silent").toUpperCase();if(typeof window!==e&&d){try{return void(window.localStorage[d]=n)}catch(r){}try{window.document.cookie=encodeURIComponent(d)+"="+n+";"}catch(r){}}}function g(){var t;if(typeof window!==e&&d){try{t=window.localStorage[d]}catch(o){}if(typeof t===e)try{var n=window.document.cookie,i=encodeURIComponent(d),r=n.indexOf(i+"=");-1!==r&&(t=/^([^;]+)/.exec(n.slice(r+i.length+1))[1])}catch(o){}return void 0===u.levels[t]&&(t=void 0),t}}function f(){if(typeof window!==e&&d){try{window.localStorage.removeItem(d)}catch(t){}try{window.document.cookie=encodeURIComponent(d)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(t){}}}function m(t){var e=t;if("string"===typeof e&&void 0!==u.levels[e.toUpperCase()]&&(e=u.levels[e.toUpperCase()]),"number"===typeof e&&e>=0&&e<=u.levels.SILENT)return e;throw new TypeError("log.setLevel() called with invalid level: "+t)}"string"===typeof t?d+=":"+t:"symbol"===typeof t&&(d=void 0),u.name=t,u.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},u.methodFactory=n||h,u.getLevel=function(){return null!=l?l:null!=a?a:s},u.setLevel=function(t,e){return l=m(t),!1!==e&&p(l),c.call(u)},u.setDefaultLevel=function(t){a=m(t),g()||u.setLevel(t,!1)},u.resetLevel=function(){l=null,f(),c.call(u)},u.enableAll=function(t){u.setLevel(u.levels.TRACE,t)},u.disableAll=function(t){u.setLevel(u.levels.SILENT,t)},u.rebuild=function(){if(o!==u&&(s=m(o.getLevel())),c.call(u),o===u)for(var t in r)r[t].rebuild()},s=m(o?o.getLevel():"WARN");var A=g();null!=A&&(l=m(A)),c.call(u)}o=new d,o.getLogger=function(t){if("symbol"!==typeof t&&"string"!==typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=r[t];return e||(e=r[t]=new d(t,o.methodFactory)),e};var p=typeof window!==e?window.log:void 0;return o.noConflict=function(){return typeof window!==e&&window.log===o&&(window.log=p),o},o.getLoggers=function(){return r},o["default"]=o,o}))},2488:function(){},3092:function(t,e,n){"use strict";var i=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")},r=i();t.exports=e=r.fetch,r.fetch&&(e["default"]=r.fetch.bind(r)),e.Headers=r.Headers,e.Request=r.Request,e.Response=r.Response},5335:function(t,e,n){"use strict";t.exports=r;var i=n(251);function r(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}r.Varint=0,r.Fixed64=1,r.Bytes=2,r.Fixed32=5;var o=4294967296,s=1/o,a=12,l="undefined"===typeof TextDecoder?null:new TextDecoder("utf8");function c(t,e,n){var i,r,o=n.buf;if(r=o[n.pos++],i=(112&r)>>4,r<128)return h(t,i,e);if(r=o[n.pos++],i|=(127&r)<<3,r<128)return h(t,i,e);if(r=o[n.pos++],i|=(127&r)<<10,r<128)return h(t,i,e);if(r=o[n.pos++],i|=(127&r)<<17,r<128)return h(t,i,e);if(r=o[n.pos++],i|=(127&r)<<24,r<128)return h(t,i,e);if(r=o[n.pos++],i|=(1&r)<<31,r<128)return h(t,i,e);throw new Error("Expected varint not more than 10 bytes")}function u(t){return t.type===r.Bytes?t.readVarint()+t.pos:t.pos+1}function h(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function d(t,e){var n,i;if(t>=0?(n=t%4294967296|0,i=t/4294967296|0):(n=~(-t%4294967296),i=~(-t/4294967296),4294967295^n?n=n+1|0:(n=0,i=i+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),p(n,i,e),g(i,e)}function p(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos]=127&t}function g(t,e){var n=(7&t)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}function f(t,e,n){var i=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));n.realloc(i);for(var r=n.pos-1;r>=t;r--)n.buf[r+i]=n.buf[r]}function m(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function A(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function y(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function v(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function _(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function C(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function I(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function E(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function w(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function b(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function x(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function S(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function P(t,e,n){var i="",r=e;while(r<n){var o,s,a,l=t[r],c=null,u=l>239?4:l>223?3:l>191?2:1;if(r+u>n)break;1===u?l<128&&(c=l):2===u?(o=t[r+1],128===(192&o)&&(c=(31&l)<<6|63&o,c<=127&&(c=null))):3===u?(o=t[r+1],s=t[r+2],128===(192&o)&&128===(192&s)&&(c=(15&l)<<12|(63&o)<<6|63&s,(c<=2047||c>=55296&&c<=57343)&&(c=null))):4===u&&(o=t[r+1],s=t[r+2],a=t[r+3],128===(192&o)&&128===(192&s)&&128===(192&a)&&(c=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a,(c<=65535||c>=1114112)&&(c=null))),null===c?(c=65533,u=1):c>65535&&(c-=65536,i+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),i+=String.fromCharCode(c),r+=u}return i}function M(t,e,n){return l.decode(t.subarray(e,n))}function R(t,e,n){for(var i,r,o=0;o<e.length;o++){if(i=e.charCodeAt(o),i>55295&&i<57344){if(!r){i>56319||o+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):r=i;continue}if(i<56320){t[n++]=239,t[n++]=191,t[n++]=189,r=i;continue}i=r-55296<<10|i-56320|65536,r=null}else r&&(t[n++]=239,t[n++]=191,t[n++]=189,r=null);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:(i<65536?t[n++]=i>>12|224:(t[n++]=i>>18|240,t[n++]=i>>12&63|128),t[n++]=i>>6&63|128),t[n++]=63&i|128)}return n}r.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){n=n||this.length;while(this.pos<n){var i=this.readVarint(),r=i>>3,o=this.pos;this.type=7&i,t(r,e,this),this.pos===o&&this.skip(i)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=b(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=S(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=b(this.buf,this.pos)+b(this.buf,this.pos+4)*o;return this.pos+=8,t},readSFixed64:function(){var t=b(this.buf,this.pos)+S(this.buf,this.pos+4)*o;return this.pos+=8,t},readFloat:function(){var t=i.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=i.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,i=this.buf;return n=i[this.pos++],e=127&n,n<128?e:(n=i[this.pos++],e|=(127&n)<<7,n<128?e:(n=i[this.pos++],e|=(127&n)<<14,n<128?e:(n=i[this.pos++],e|=(127&n)<<21,n<128?e:(n=i[this.pos],e|=(15&n)<<28,c(e,t,this)))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2===1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=a&&l?M(this.buf,e,t):P(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==r.Bytes)return t.push(this.readVarint(e));var n=u(this);t=t||[];while(this.pos<n)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==r.Bytes)return t.push(this.readSVarint());var e=u(this);t=t||[];while(this.pos<e)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==r.Bytes)return t.push(this.readBoolean());var e=u(this);t=t||[];while(this.pos<e)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==r.Bytes)return t.push(this.readFloat());var e=u(this);t=t||[];while(this.pos<e)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==r.Bytes)return t.push(this.readDouble());var e=u(this);t=t||[];while(this.pos<e)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==r.Bytes)return t.push(this.readFixed32());var e=u(this);t=t||[];while(this.pos<e)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==r.Bytes)return t.push(this.readSFixed32());var e=u(this);t=t||[];while(this.pos<e)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==r.Bytes)return t.push(this.readFixed64());var e=u(this);t=t||[];while(this.pos<e)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==r.Bytes)return t.push(this.readSFixed64());var e=u(this);t=t||[];while(this.pos<e)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===r.Varint)while(this.buf[this.pos++]>127);else if(e===r.Bytes)this.pos=this.readVarint()+this.pos;else if(e===r.Fixed32)this.pos+=4;else{if(e!==r.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){var e=this.length||16;while(e<this.pos+t)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),x(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),x(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),x(this.buf,-1&t,this.pos),x(this.buf,Math.floor(t*s),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),x(this.buf,-1&t,this.pos),x(this.buf,Math.floor(t*s),this.pos+4),this.pos+=8},writeVarint:function(t){t=+t||0,t>268435455||t<0?d(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=R(this.buf,t,this.pos);var n=this.pos-e;n>=128&&f(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),i.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),i.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var i=this.pos-n;i>=128&&f(n,i,this),this.pos=n-1,this.writeVarint(i),this.pos+=i},writeMessage:function(t,e,n){this.writeTag(t,r.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,m,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,A,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,_,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,y,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,v,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,C,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,I,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,E,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,w,e)},writeBytesField:function(t,e){this.writeTag(t,r.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,r.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,r.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,r.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,r.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,r.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,r.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,r.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,r.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,r.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}},5341:function(t){!function(e,n){t.exports=n()}(0,(function(){"use strict";function t(t,i,r,o,s){!function t(n,i,r,o,s){for(;o>r;){if(o-r>600){var a=o-r+1,l=i-r+1,c=Math.log(a),u=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*u*(a-u)/a)*(l-a/2<0?-1:1),d=Math.max(r,Math.floor(i-l*u/a+h)),p=Math.min(o,Math.floor(i+(a-l)*u/a+h));t(n,i,d,p,s)}var g=n[i],f=r,m=o;for(e(n,r,i),s(n[o],g)>0&&e(n,r,o);f<m;){for(e(n,f,m),f++,m--;s(n[f],g)<0;)f++;for(;s(n[m],g)>0;)m--}0===s(n[r],g)?e(n,r,m):e(n,++m,o),m<=i&&(r=m+1),i<=m&&(o=m-1)}}(t,i,r||0,o||t.length-1,s||n)}function e(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function n(t,e){return t<e?-1:t>e?1:0}var i=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function r(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function o(t,e){s(t,0,t.children.length,e,t)}function s(t,e,n,i,r){r||(r=g(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o=e;o<n;o++){var s=t.children[o];a(r,t.leaf?i(s):s)}return r}function a(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function u(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function h(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function p(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function g(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function f(e,n,i,r,o){for(var s=[n,i];s.length;)if(!((i=s.pop())-(n=s.pop())<=r)){var a=n+Math.ceil((i-n)/r/2)*r;t(e,a,n,i,o),s.push(n,a,a,i)}}return i.prototype.all=function(){return this._all(this.data,[])},i.prototype.search=function(t){var e=this.data,n=[];if(!p(t,e))return n;for(var i=this.toBBox,r=[];e;){for(var o=0;o<e.children.length;o++){var s=e.children[o],a=e.leaf?i(s):s;p(t,a)&&(e.leaf?n.push(s):d(t,a)?this._all(s,n):r.push(s))}e=r.pop()}return n},i.prototype.collides=function(t){var e=this.data;if(!p(t,e))return!1;for(var n=[];e;){for(var i=0;i<e.children.length;i++){var r=e.children[i],o=e.leaf?this.toBBox(r):r;if(p(t,o)){if(e.leaf||d(t,o))return!0;n.push(r)}}e=n.pop()}return!1},i.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},i.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},i.prototype.clear=function(){return this.data=g([]),this},i.prototype.remove=function(t,e){if(!t)return this;for(var n,i,o,s=this.data,a=this.toBBox(t),l=[],c=[];s||l.length;){if(s||(s=l.pop(),i=l[l.length-1],n=c.pop(),o=!0),s.leaf){var u=r(t,s.children,e);if(-1!==u)return s.children.splice(u,1),l.push(s),this._condense(l),this}o||s.leaf||!d(s,a)?i?(n++,s=i.children[n],o=!1):s=null:(l.push(s),c.push(n),n=0,i=s,s=s.children[0])}return this},i.prototype.toBBox=function(t){return t},i.prototype.compareMinX=function(t,e){return t.minX-e.minX},i.prototype.compareMinY=function(t,e){return t.minY-e.minY},i.prototype.toJSON=function(){return this.data},i.prototype.fromJSON=function(t){return this.data=t,this},i.prototype._all=function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},i.prototype._build=function(t,e,n,i){var r,s=n-e+1,a=this._maxEntries;if(s<=a)return o(r=g(t.slice(e,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,i-1))),(r=g([])).leaf=!1,r.height=i;var l=Math.ceil(s/a),c=l*Math.ceil(Math.sqrt(a));f(t,e,n,c,this.compareMinX);for(var u=e;u<=n;u+=c){var h=Math.min(u+c-1,n);f(t,u,h,l,this.compareMinY);for(var d=u;d<=h;d+=l){var p=Math.min(d+l-1,h);r.children.push(this._build(t,d,p,i-1))}}return o(r,this.toBBox),r},i.prototype._chooseSubtree=function(t,e,n,i){for(;i.push(e),!e.leaf&&i.length-1!==n;){for(var r=1/0,o=1/0,s=void 0,a=0;a<e.children.length;a++){var l=e.children[a],c=u(l),h=(d=t,p=l,(Math.max(p.maxX,d.maxX)-Math.min(p.minX,d.minX))*(Math.max(p.maxY,d.maxY)-Math.min(p.minY,d.minY))-c);h<o?(o=h,r=c<r?c:r,s=l):h===o&&c<r&&(r=c,s=l)}e=s||e.children[0]}var d,p;return e},i.prototype._insert=function(t,e,n){var i=n?t:this.toBBox(t),r=[],o=this._chooseSubtree(i,this.data,e,r);for(o.children.push(t),a(o,i);e>=0&&r[e].children.length>this._maxEntries;)this._split(r,e),e--;this._adjustParentBBoxes(i,r,e)},i.prototype._split=function(t,e){var n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var s=this._chooseSplitIndex(n,r,i),a=g(n.children.splice(s,n.children.length-s));a.height=n.height,a.leaf=n.leaf,o(n,this.toBBox),o(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},i.prototype._splitRoot=function(t,e){this.data=g([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},i.prototype._chooseSplitIndex=function(t,e,n){for(var i,r,o,a,l,c,h,d=1/0,p=1/0,g=e;g<=n-e;g++){var f=s(t,0,g,this.toBBox),m=s(t,g,n,this.toBBox),A=(r=f,o=m,a=void 0,l=void 0,c=void 0,h=void 0,a=Math.max(r.minX,o.minX),l=Math.max(r.minY,o.minY),c=Math.min(r.maxX,o.maxX),h=Math.min(r.maxY,o.maxY),Math.max(0,c-a)*Math.max(0,h-l)),y=u(f)+u(m);A<d?(d=A,i=g,p=y<p?y:p):A===d&&y<p&&(p=y,i=g)}return i||n-e},i.prototype._chooseSplitAxis=function(t,e,n){var i=t.leaf?this.compareMinX:l,r=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)},i.prototype._allDistMargin=function(t,e,n,i){t.children.sort(i);for(var r=this.toBBox,o=s(t,0,e,r),l=s(t,n-e,n,r),c=h(o)+h(l),u=e;u<n-e;u++){var d=t.children[u];a(o,t.leaf?r(d):d),c+=h(o)}for(var p=n-e-1;p>=e;p--){var g=t.children[p];a(l,t.leaf?r(g):g),c+=h(l)}return c},i.prototype._adjustParentBBoxes=function(t,e,n){for(var i=n;i>=0;i--)a(e[i],t)},i.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():o(t[e],this.toBBox)},i}))},6262:function(t,e){"use strict";e.A=(t,e)=>{const n=t.__vccOpts||t;for(const[i,r]of e)n[i]=r;return n}},9374:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t["DEBUG"]="debug",t["INFO"]="info",t["WARN"]="warn",t["ERROR"]="error",t["FATAL"]="fatal"}(e.LogLevels||(e.LogLevels={}))},3025:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(9491));r.default.polyfill();var o=i(n(7161));e["default"]=o.default},7161:function(t,e,n){"use strict";var i=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i};Object.defineProperty(e,"__esModule",{value:!0});var r=n(9374),o=function(){function t(){this.errorMessage="Provided options for vuejs-logger are not valid.",this.logLevels=Object.keys(r.LogLevels).map((function(t){return t.toLowerCase()}))}return t.prototype.install=function(t,e){if(e=Object.assign(this.getDefaultOptions(),e),!this.isValidOptions(e,this.logLevels))throw new Error(this.errorMessage);t.$log=this.initLoggerInstance(e,this.logLevels),t.provide("vuejs3-logger",t.$log),t.config.globalProperties.$log=t.$log},t.prototype.isValidOptions=function(t,e){return!!(t.logLevel&&"string"===typeof t.logLevel&&e.indexOf(t.logLevel)>-1)&&((!t.stringifyArguments||"boolean"===typeof t.stringifyArguments)&&((!t.showLogLevel||"boolean"===typeof t.showLogLevel)&&((!t.showConsoleColors||"boolean"===typeof t.showConsoleColors)&&((!t.separator||!("string"!==typeof t.separator||"string"===typeof t.separator&&t.separator.length>3))&&("boolean"===typeof t.isEnabled&&!(t.showMethodName&&"boolean"!==typeof t.showMethodName))))))},t.prototype.getMethodName=function(){var t={};try{throw new Error("")}catch(n){t=n}if(void 0===t.stack)return"";var e=t.stack.split("\n")[3];return/ /.test(e)&&(e=e.trim().split(" ")[1]),e&&e.indexOf(".")>-1&&(e=e.split(".")[1]),e},t.prototype.initLoggerInstance=function(t,e){var n=this,i={};return e.forEach((function(r){e.indexOf(r)>=e.indexOf(t.logLevel)&&t.isEnabled?i[r]=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var o=n.getMethodName(),s=t.showMethodName?o+" "+t.separator+" ":"",a=t.showLogLevel?r+" "+t.separator+" ":"",l=t.stringifyArguments?e.map((function(t){return JSON.stringify(t)})):e,c=a+" "+s;return n.printLogMessage(r,c,t.showConsoleColors,l),c+" "+l.toString()}:i[r]=function(){}})),i},t.prototype.printLogMessage=function(t,e,n,r){!n||"warn"!==t&&"error"!==t&&"fatal"!==t?console.log.apply(console,i([e],r)):console["fatal"===t?"error":t].apply(console,i([e],r))},t.prototype.getDefaultOptions=function(){return{isEnabled:!0,logLevel:r.LogLevels.DEBUG,separator:"|",showConsoleColors:!1,showLogLevel:!1,showMethodName:!1,stringifyArguments:!1}},t}();e["default"]=new o},9788:function(t,e,n){function i(t){this.options=t||{locator:{}}}function r(t,e,n){if(!t){if(e instanceof o)return e;t=e}var i={},r=t instanceof Function;function s(e){var o=t[e];!o&&r&&(o=2==t.length?function(n){t(e,n)}:t),i[e]=o&&function(t){o("[xmldom "+e+"]\t"+t+a(n))}||function(){}}return n=n||{},s("warning"),s("error"),s("fatalError"),i}function o(){this.cdata=!1}function s(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function a(t){if(t)return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function l(t,e,n){return"string"==typeof t?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}function c(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}i.prototype.parseFromString=function(t,e){var n=this.options,i=new u,s=n.domBuilder||new o,a=n.errorHandler,l=n.locator,c=n.xmlns||{},h={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return l&&s.setDocumentLocator(l),i.errorHandler=r(a,s,l),i.domBuilder=n.domBuilder||s,/\/x?html?$/.test(e)&&(h.nbsp=" ",h.copy="©",c[""]="http://www.w3.org/1999/xhtml"),c.xml=c.xml||"http://www.w3.org/XML/1998/namespace",t?i.parse(t,c,h):i.errorHandler.error("invalid doc source"),s.doc},o.prototype={startDocument:function(){this.doc=(new h).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,i){var r=this.doc,o=r.createElementNS(t,n||e),a=i.length;c(this,o),this.currentElement=o,this.locator&&s(this.locator,o);for(var l=0;l<a;l++){t=i.getURI(l);var u=i.getValue(l),h=(n=i.getQName(l),r.createAttributeNS(t,n));this.locator&&s(i.getLocator(l),h),h.value=h.nodeValue=u,o.setAttributeNode(h)}},endElement:function(t,e,n){var i=this.currentElement;i.tagName;this.currentElement=i.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&s(this.locator,n),c(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=l.apply(this,arguments),t){if(this.cdata)var i=this.doc.createCDATASection(t);else i=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(t)&&this.doc.appendChild(i),this.locator&&s(this.locator,i)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=l.apply(this,arguments);var i=this.doc.createComment(t);this.locator&&s(this.locator,i),c(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var r=i.createDocumentType(t,e,n);this.locator&&s(this.locator,r),c(this,r)}},warning:function(t){console.warn("[xmldom warning]\t"+t,a(this.locator))},error:function(t){console.error("[xmldom error]\t"+t,a(this.locator))},fatalError:function(t){throw console.error("[xmldom fatalError]\t"+t,a(this.locator)),t}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(t){o.prototype[t]=function(){return null}}));var u=n(7494).$,h=n(3278).DOMImplementation;n(3278),e.S=i},3278:function(t,e){function n(t,e){for(var n in t)e[n]=t[n]}function i(t,e){var i=t.prototype;if(Object.create){var r=Object.create(e.prototype);i.__proto__=r}if(!(i instanceof e)){function o(){}o.prototype=e.prototype,o=new o,n(i,o),t.prototype=i=o}i.constructor!=t&&("function"!=typeof t&&console.error("unknow Class:"+t),i.constructor=t)}var r="http://www.w3.org/1999/xhtml",o={},s=o.ELEMENT_NODE=1,a=o.ATTRIBUTE_NODE=2,l=o.TEXT_NODE=3,c=o.CDATA_SECTION_NODE=4,u=o.ENTITY_REFERENCE_NODE=5,h=o.ENTITY_NODE=6,d=o.PROCESSING_INSTRUCTION_NODE=7,p=o.COMMENT_NODE=8,g=o.DOCUMENT_NODE=9,f=o.DOCUMENT_TYPE_NODE=10,m=o.DOCUMENT_FRAGMENT_NODE=11,A=o.NOTATION_NODE=12,y={},v={},_=(y.INDEX_SIZE_ERR=(v[1]="Index size error",1),y.DOMSTRING_SIZE_ERR=(v[2]="DOMString size error",2),y.HIERARCHY_REQUEST_ERR=(v[3]="Hierarchy request error",3)),C=(y.WRONG_DOCUMENT_ERR=(v[4]="Wrong document",4),y.INVALID_CHARACTER_ERR=(v[5]="Invalid character",5),y.NO_DATA_ALLOWED_ERR=(v[6]="No data allowed",6),y.NO_MODIFICATION_ALLOWED_ERR=(v[7]="No modification allowed",7),y.NOT_FOUND_ERR=(v[8]="Not found",8)),I=(y.NOT_SUPPORTED_ERR=(v[9]="Not supported",9),y.INUSE_ATTRIBUTE_ERR=(v[10]="Attribute in use",10));y.INVALID_STATE_ERR=(v[11]="Invalid state",11),y.SYNTAX_ERR=(v[12]="Syntax error",12),y.INVALID_MODIFICATION_ERR=(v[13]="Invalid modification",13),y.NAMESPACE_ERR=(v[14]="Invalid namespace",14),y.INVALID_ACCESS_ERR=(v[15]="Invalid access",15);function E(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,v[t]),this.message=v[t],Error.captureStackTrace&&Error.captureStackTrace(this,E);return n.code=t,e&&(this.message=this.message+": "+e),n}function w(){}function b(t,e){this._node=t,this._refresh=e,x(this)}function x(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var i=t._refresh(t._node);st(t,"length",i.length),n(i,t),t._inc=e}}function S(){}function P(t,e){var n=t.length;while(n--)if(t[n]===e)return n}function M(t,e,n,i){if(i?e[P(e,i)]=n:e[e.length++]=n,t){n.ownerElement=t;var r=t.ownerDocument;r&&(i&&N(r,t,i),D(r,t,n))}}function R(t,e,n){var i=P(e,n);if(!(i>=0))throw E(C,new Error(t.tagName+"@"+n));var r=e.length-1;while(i<r)e[i]=e[++i];if(e.length=r,t){var o=t.ownerDocument;o&&(N(o,t,n),n.ownerElement=null)}}function T(t){if(this._features={},t)for(var e in t)this._features=t[e]}function G(){}function L(t){return("<"==t?"&lt;":">"==t&&"&gt;")||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function k(t,e){if(e(t))return!0;if(t=t.firstChild)do{if(k(t,e))return!0}while(t=t.nextSibling)}function O(){}function D(t,e,n){t&&t._inc++;var i=n.namespaceURI;"http://www.w3.org/2000/xmlns/"==i&&(e._nsMap[n.prefix?n.localName:""]=n.value)}function N(t,e,n,i){t&&t._inc++;var r=n.namespaceURI;"http://www.w3.org/2000/xmlns/"==r&&delete e._nsMap[n.prefix?n.localName:""]}function F(t,e,n){if(t&&t._inc){t._inc++;var i=e.childNodes;if(n)i[i.length++]=n;else{var r=e.firstChild,o=0;while(r)i[o++]=r,r=r.nextSibling;i.length=o}}}function U(t,e){var n=e.previousSibling,i=e.nextSibling;return n?n.nextSibling=i:t.firstChild=i,i?i.previousSibling=n:t.lastChild=n,F(t.ownerDocument,t),e}function B(t,e,n){var i=e.parentNode;if(i&&i.removeChild(e),e.nodeType===m){var r=e.firstChild;if(null==r)return e;var o=e.lastChild}else r=o=e;var s=n?n.previousSibling:t.lastChild;r.previousSibling=s,o.nextSibling=n,s?s.nextSibling=r:t.firstChild=r,null==n?t.lastChild=o:n.previousSibling=o;do{r.parentNode=t}while(r!==o&&(r=r.nextSibling));return F(t.ownerDocument||t,t),e.nodeType==m&&(e.firstChild=e.lastChild=null),e}function j(t,e){var n=e.parentNode;if(n){var i=t.lastChild;n.removeChild(e);i=t.lastChild}i=t.lastChild;return e.parentNode=t,e.previousSibling=i,e.nextSibling=null,i?i.nextSibling=e:t.firstChild=e,t.lastChild=e,F(t.ownerDocument,t,e),e}function z(){this._nsMap={}}function W(){}function V(){}function Y(){}function H(){}function q(){}function X(){}function Z(){}function K(){}function J(){}function Q(){}function $(){}function tt(){}function et(t,e){var n=[],i=9==this.nodeType?this.documentElement:this,r=i.prefix,o=i.namespaceURI;if(o&&null==r){r=i.lookupPrefix(o);if(null==r)var s=[{namespace:o,prefix:null}]}return it(this,n,t,e,s),n.join("")}function nt(t,e,n){var i=t.prefix||"",r=t.namespaceURI;if(!i&&!r)return!1;if("xml"===i&&"http://www.w3.org/XML/1998/namespace"===r||"http://www.w3.org/2000/xmlns/"==r)return!1;var o=n.length;while(o--){var s=n[o];if(s.prefix==i)return s.namespace!=r}return!0}function it(t,e,n,i,o){if(i){if(t=i(t),!t)return;if("string"==typeof t)return void e.push(t)}switch(t.nodeType){case s:o||(o=[]);o.length;var h=t.attributes,A=h.length,y=t.firstChild,v=t.tagName;n=r===t.namespaceURI||n,e.push("<",v);for(var _=0;_<A;_++){var C=h.item(_);"xmlns"==C.prefix?o.push({prefix:C.localName,namespace:C.value}):"xmlns"==C.nodeName&&o.push({prefix:"",namespace:C.value})}for(_=0;_<A;_++){C=h.item(_);if(nt(C,n,o)){var I=C.prefix||"",E=C.namespaceURI,w=I?" xmlns:"+I:" xmlns";e.push(w,'="',E,'"'),o.push({prefix:I,namespace:E})}it(C,e,n,i,o)}if(nt(t,n,o)){I=t.prefix||"",E=t.namespaceURI,w=I?" xmlns:"+I:" xmlns";e.push(w,'="',E,'"'),o.push({prefix:I,namespace:E})}if(y||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(v)){if(e.push(">"),n&&/^script$/i.test(v))while(y)y.data?e.push(y.data):it(y,e,n,i,o),y=y.nextSibling;else while(y)it(y,e,n,i,o),y=y.nextSibling;e.push("</",v,">")}else e.push("/>");return;case g:case m:y=t.firstChild;while(y)it(y,e,n,i,o),y=y.nextSibling;return;case a:return e.push(" ",t.name,'="',t.value.replace(/[<&"]/g,L),'"');case l:return e.push(t.data.replace(/[<&]/g,L));case c:return e.push("<![CDATA[",t.data,"]]>");case p:return e.push("\x3c!--",t.data,"--\x3e");case f:var b=t.publicId,x=t.systemId;if(e.push("<!DOCTYPE ",t.name),b)e.push(' PUBLIC "',b),x&&"."!=x&&e.push('" "',x),e.push('">');else if(x&&"."!=x)e.push(' SYSTEM "',x,'">');else{var S=t.internalSubset;S&&e.push(" [",S,"]"),e.push(">")}return;case d:return e.push("<?",t.target," ",t.data,"?>");case u:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function rt(t,e,n){var i;switch(e.nodeType){case s:i=e.cloneNode(!1),i.ownerDocument=t;case m:break;case a:n=!0;break}if(i||(i=e.cloneNode(!1)),i.ownerDocument=t,i.parentNode=null,n){var r=e.firstChild;while(r)i.appendChild(rt(t,r,n)),r=r.nextSibling}return i}function ot(t,e,n){var i=new e.constructor;for(var r in e){var o=e[r];"object"!=typeof o&&o!=i[r]&&(i[r]=o)}switch(e.childNodes&&(i.childNodes=new w),i.ownerDocument=t,i.nodeType){case s:var l=e.attributes,c=i.attributes=new S,u=l.length;c._ownerElement=i;for(var h=0;h<u;h++)i.setAttributeNode(ot(t,l.item(h),!0));break;case a:n=!0}if(n){var d=e.firstChild;while(d)i.appendChild(ot(t,d,n)),d=d.nextSibling}return i}function st(t,e,n){t[e]=n}E.prototype=Error.prototype,n(y,E),w.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var n=[],i=0;i<this.length;i++)it(this[i],n,t,e);return n.join("")}},b.prototype.item=function(t){return x(this),this[t]},i(b,w),S.prototype={length:0,item:w.prototype.item,getNamedItem:function(t){var e=this.length;while(e--){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new E(I);var n=this.getNamedItem(t.nodeName);return M(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e,n=t.ownerElement;if(n&&n!=this._ownerElement)throw new E(I);return e=this.getNamedItemNS(t.namespaceURI,t.localName),M(this._ownerElement,this,t,e),e},removeNamedItem:function(t){var e=this.getNamedItem(t);return R(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return R(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){var n=this.length;while(n--){var i=this[n];if(i.localName==e&&i.namespaceURI==t)return i}return null}},T.prototype={hasFeature:function(t,e){var n=this._features[t.toLowerCase()];return!(!n||e&&!(e in n))},createDocument:function(t,e,n){var i=new O;if(i.implementation=this,i.childNodes=new w,i.doctype=n,n&&i.appendChild(n),e){var r=i.createElementNS(t,e);i.appendChild(r)}return i},createDocumentType:function(t,e,n){var i=new X;return i.name=t,i.nodeName=t,i.publicId=e,i.systemId=n,i}},G.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return B(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return U(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return ot(this.ownerDocument||this,this,t)},normalize:function(){var t=this.firstChild;while(t){var e=t.nextSibling;e&&e.nodeType==l&&t.nodeType==l?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){var e=this;while(e){var n=e._nsMap;if(n)for(var i in n)if(n[i]==t)return i;e=e.nodeType==a?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){var e=this;while(e){var n=e._nsMap;if(n&&t in n)return n[t];e=e.nodeType==a?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return null==e}},n(o,G),n(o,G.prototype),O.prototype={nodeName:"#document",nodeType:g,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==m){var n=t.firstChild;while(n){var i=n.nextSibling;this.insertBefore(n,e),n=i}return t}return null==this.documentElement&&t.nodeType==s&&(this.documentElement=t),B(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),U(this,t)},importNode:function(t,e){return rt(this,t,e)},getElementById:function(t){var e=null;return k(this.documentElement,(function(n){if(n.nodeType==s&&n.getAttribute("id")==t)return e=n,!0})),e},createElement:function(t){var e=new z;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.childNodes=new w;var n=e.attributes=new S;return n._ownerElement=e,e},createDocumentFragment:function(){var t=new Q;return t.ownerDocument=this,t.childNodes=new w,t},createTextNode:function(t){var e=new Y;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new H;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new q;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new $;return n.ownerDocument=this,n.tagName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new W;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new J;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new z,i=e.split(":"),r=n.attributes=new S;return n.childNodes=new w,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=e,r._ownerElement=n,n},createAttributeNS:function(t,e){var n=new W,i=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=e,n}},i(O,G),z.prototype={nodeType:s,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===m?this.insertBefore(t,null):j(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var i=this.ownerDocument.createAttributeNS(t,e);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new b(this,(function(e){var n=[];return k(e,(function(i){i===e||i.nodeType!=s||"*"!==t&&i.tagName!=t||n.push(i)})),n}))},getElementsByTagNameNS:function(t,e){return new b(this,(function(n){var i=[];return k(n,(function(r){r===n||r.nodeType!==s||"*"!==t&&r.namespaceURI!==t||"*"!==e&&r.localName!=e||i.push(r)})),i}))}},O.prototype.getElementsByTagName=z.prototype.getElementsByTagName,O.prototype.getElementsByTagNameNS=z.prototype.getElementsByTagNameNS,i(z,G),W.prototype.nodeType=a,i(W,G),V.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(v[_])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){var i=this.data.substring(0,t),r=this.data.substring(t+e);n=i+n+r,this.nodeValue=this.data=n,this.length=n.length}},i(V,G),Y.prototype={nodeName:"#text",nodeType:l,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}},i(Y,V),H.prototype={nodeName:"#comment",nodeType:p},i(H,V),q.prototype={nodeName:"#cdata-section",nodeType:c},i(q,V),X.prototype.nodeType=f,i(X,G),Z.prototype.nodeType=A,i(Z,G),K.prototype.nodeType=h,i(K,G),J.prototype.nodeType=u,i(J,G),Q.prototype.nodeName="#document-fragment",Q.prototype.nodeType=m,i(Q,G),$.prototype.nodeType=d,i($,G),tt.prototype.serializeToString=function(t,e,n){return et.call(t,e,n)},G.prototype.toString=et;try{if(Object.defineProperty){function at(t){switch(t.nodeType){case s:case m:var e=[];t=t.firstChild;while(t)7!==t.nodeType&&8!==t.nodeType&&e.push(at(t)),t=t.nextSibling;return e.join("");default:return t.nodeValue}}Object.defineProperty(b.prototype,"length",{get:function(){return x(this),this.$$length}}),Object.defineProperty(G.prototype,"textContent",{get:function(){return at(this)},set:function(t){switch(this.nodeType){case s:case m:while(this.firstChild)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),st=function(t,e,n){t["$$"+e]=n}}}catch(lt){}e.DOMImplementation=T},7494:function(t,e){var n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,i=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),r=new RegExp("^"+n.source+i.source+"*(?::"+n.source+i.source+"*)?$"),o=0,s=1,a=2,l=3,c=4,u=5,h=6,d=7;function p(){}function g(t,e,n,i,r){function o(t){if(t>65535){t-=65536;var e=55296+(t>>10),n=56320+(1023&t);return String.fromCharCode(e,n)}return String.fromCharCode(t)}function s(t){var e=t.slice(1,-1);return e in n?n[e]:"#"===e.charAt(0)?o(parseInt(e.substr(1).replace("x","0x"))):(r.error("entity not found:"+t),t)}function a(e){if(e>_){var n=t.substring(_,e).replace(/&#?\w+;/g,s);d&&l(_),i.characters(n,0,e-_),_=e}}function l(e,n){while(e>=u&&(n=h.exec(t)))c=n.index,u=c+n[0].length,d.lineNumber++;d.columnNumber=e-c+1}var c=0,u=0,h=/.*(?:\r\n?|\n)|.*$/g,d=i.locator,p=[{currentNSMap:e}],g={},_=0;while(1){try{var w=t.indexOf("<",_);if(w<0){if(!t.substr(_).match(/^\s*$/)){var b=i.doc,x=b.createTextNode(t.substr(_));b.appendChild(x),i.currentElement=x}return}switch(w>_&&a(w),t.charAt(w+1)){case"/":var S=t.indexOf(">",w+3),P=t.substring(w+2,S),M=p.pop();S<0?(P=t.substring(w+2).replace(/[\s<].*/,""),r.error("end tag name: "+P+" is not complete:"+M.tagName),S=w+1+P.length):P.match(/\s</)&&(P=P.replace(/[\s<].*/,""),r.error("end tag name: "+P+" maybe not complete"),S=w+1+P.length);var R=M.localNSMap,T=M.tagName==P,G=T||M.tagName&&M.tagName.toLowerCase()==P.toLowerCase();if(G){if(i.endElement(M.uri,M.localName,P),R)for(var L in R)i.endPrefixMapping(L);T||r.fatalError("end tag name: "+P+" is not match the current start tagName:"+M.tagName)}else p.push(M);S++;break;case"?":d&&l(w),S=I(t,w,i);break;case"!":d&&l(w),S=C(t,w,i,r);break;default:d&&l(w);var k=new E,O=p[p.length-1].currentNSMap,D=(S=m(t,w,k,O,s,r),k.length);if(!k.closed&&v(t,S,k.tagName,g)&&(k.closed=!0,n.nbsp||r.warning("unclosed xml attribute")),d&&D){for(var N=f(d,{}),F=0;F<D;F++){var U=k[F];l(U.offset),U.locator=f(d,{})}i.locator=N,A(k,i,O)&&p.push(k),i.locator=d}else A(k,i,O)&&p.push(k);"http://www.w3.org/1999/xhtml"!==k.uri||k.closed?S++:S=y(t,S,k.tagName,s,i)}}catch(B){r.error("element parse error: "+B),S=-1}S>_?_=S:a(Math.max(w,_)+1)}}function f(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function m(t,e,n,i,r,p){var g,f=++e,m=o;while(1){var A=t.charAt(f);switch(A){case"=":if(m===s)g=t.slice(e,f),m=l;else{if(m!==a)throw new Error("attribute equal must after attrName");m=l}break;case"'":case'"':if(m===l||m===s){if(m===s&&(p.warning('attribute value must after "="'),g=t.slice(e,f)),e=f+1,f=t.indexOf(A,e),!(f>0))throw new Error("attribute value no end '"+A+"' match");y=t.slice(e,f).replace(/&#?\w+;/g,r),n.add(g,y,e-1),m=u}else{if(m!=c)throw new Error('attribute value must after "="');y=t.slice(e,f).replace(/&#?\w+;/g,r),n.add(g,y,e),p.warning('attribute "'+g+'" missed start quot('+A+")!!"),e=f+1,m=u}break;case"/":switch(m){case o:n.setTagName(t.slice(e,f));case u:case h:case d:m=d,n.closed=!0;case c:case s:case a:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return p.error("unexpected end of input"),m==o&&n.setTagName(t.slice(e,f)),f;case">":switch(m){case o:n.setTagName(t.slice(e,f));case u:case h:case d:break;case c:case s:y=t.slice(e,f),"/"===y.slice(-1)&&(n.closed=!0,y=y.slice(0,-1));case a:m===a&&(y=g),m==c?(p.warning('attribute "'+y+'" missed quot(")!!'),n.add(g,y.replace(/&#?\w+;/g,r),e)):("http://www.w3.org/1999/xhtml"===i[""]&&y.match(/^(?:disabled|checked|selected)$/i)||p.warning('attribute "'+y+'" missed value!! "'+y+'" instead!!'),n.add(y,y,e));break;case l:throw new Error("attribute value missed!!")}return f;case"":A=" ";default:if(A<=" ")switch(m){case o:n.setTagName(t.slice(e,f)),m=h;break;case s:g=t.slice(e,f),m=a;break;case c:var y=t.slice(e,f).replace(/&#?\w+;/g,r);p.warning('attribute "'+y+'" missed quot(")!!'),n.add(g,y,e);case u:m=h;break}else switch(m){case a:n.tagName;"http://www.w3.org/1999/xhtml"===i[""]&&g.match(/^(?:disabled|checked|selected)$/i)||p.warning('attribute "'+g+'" missed value!! "'+g+'" instead2!!'),n.add(g,g,e),e=f,m=s;break;case u:p.warning('attribute space is required"'+g+'"!!');case h:m=s,e=f;break;case l:m=c,e=f;break;case d:throw new Error("elements closed character '/' and '>' must be connected to")}}f++}}function A(t,e,n){var i=t.tagName,r=null,o=t.length;while(o--){var s=t[o],a=s.qName,l=s.value,c=a.indexOf(":");if(c>0)var u=s.prefix=a.slice(0,c),h=a.slice(c+1),d="xmlns"===u&&h;else h=a,u=null,d="xmlns"===a&&"";s.localName=h,!1!==d&&(null==r&&(r={},_(n,n={})),n[d]=r[d]=l,s.uri="http://www.w3.org/2000/xmlns/",e.startPrefixMapping(d,l))}o=t.length;while(o--){s=t[o];u=s.prefix;u&&("xml"===u&&(s.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==u&&(s.uri=n[u||""]))}c=i.indexOf(":");c>0?(u=t.prefix=i.slice(0,c),h=t.localName=i.slice(c+1)):(u=null,h=t.localName=i);var p=t.uri=n[u||""];if(e.startElement(p,h,i,t),!t.closed)return t.currentNSMap=n,t.localNSMap=r,!0;if(e.endElement(p,h,i),r)for(u in r)e.endPrefixMapping(u)}function y(t,e,n,i,r){if(/^(?:script|textarea)$/i.test(n)){var o=t.indexOf("</"+n+">",e),s=t.substring(e+1,o);if(/[&<]/.test(s))return/^script$/i.test(n)?(r.characters(s,0,s.length),o):(s=s.replace(/&#?\w+;/g,i),r.characters(s,0,s.length),o)}return e+1}function v(t,e,n,i){var r=i[n];return null==r&&(r=t.lastIndexOf("</"+n+">"),r<e&&(r=t.lastIndexOf("</"+n)),i[n]=r),r<e}function _(t,e){for(var n in t)e[n]=t[n]}function C(t,e,n,i){var r=t.charAt(e+2);switch(r){case"-":if("-"===t.charAt(e+3)){var o=t.indexOf("--\x3e",e+4);return o>e?(n.comment(t,e+4,o-e-4),o+3):(i.error("Unclosed comment"),-1)}return-1;default:if("CDATA["==t.substr(e+3,6)){o=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,o-e-9),n.endCDATA(),o+3}var s=b(t,e),a=s.length;if(a>1&&/!doctype/i.test(s[0][0])){var l=s[1][0],c=a>3&&/^public$/i.test(s[2][0])&&s[3][0],u=a>4&&s[4][0],h=s[a-1];return n.startDTD(l,c&&c.replace(/^(['"])(.*?)\1$/,"$2"),u&&u.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),h.index+h[0].length}}return-1}function I(t,e,n){var i=t.indexOf("?>",e);if(i){var r=t.substring(e,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(r){r[0].length;return n.processingInstruction(r[1],r[2]),i+2}return-1}return-1}function E(t){}function w(t,e){return t.__proto__=e,t}function b(t,e){var n,i=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;r.lastIndex=e,r.exec(t);while(n=r.exec(t))if(i.push(n),n[1])return i}p.prototype={parse:function(t,e,n){var i=this.domBuilder;i.startDocument(),_(e,e={}),g(t,e,n,i,this.errorHandler),i.endDocument()}},E.prototype={setTagName:function(t){if(!r.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},add:function(t,e,n){if(!r.test(t))throw new Error("invalid attribute:"+t);this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},w({},w.prototype)instanceof w||(w=function(t,e){function n(){}for(e in n.prototype=e,n=new n,t)n[e]=t[e];return n}),e.$=p},9306:function(t,e,n){"use strict";var i=n(4901),r=n(6823),o=TypeError;t.exports=function(t){if(i(t))return t;throw new o(r(t)+" is not a function")}},8551:function(t,e,n){"use strict";var i=n(34),r=String,o=TypeError;t.exports=function(t){if(i(t))return t;throw new o(r(t)+" is not an object")}},9617:function(t,e,n){"use strict";var i=n(5397),r=n(5610),o=n(6198),s=function(t){return function(e,n,s){var a=i(e),l=o(a);if(0===l)return!t&&-1;var c,u=r(s,l);if(t&&n!==n){while(l>u)if(c=a[u++],c!==c)return!0}else for(;l>u;u++)if((t||u in a)&&a[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},4527:function(t,e,n){"use strict";var i=n(3724),r=n(4376),o=TypeError,s=Object.getOwnPropertyDescriptor,a=i&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,e){if(r(t)&&!s(t,"length").writable)throw new o("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},4576:function(t,e,n){"use strict";var i=n(9504),r=i({}.toString),o=i("".slice);t.exports=function(t){return o(r(t),8,-1)}},6955:function(t,e,n){"use strict";var i=n(2140),r=n(4901),o=n(4576),s=n(8227),a=s("toStringTag"),l=Object,c="Arguments"===o(function(){return arguments}()),u=function(t,e){try{return t[e]}catch(n){}};t.exports=i?o:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=u(e=l(t),a))?n:c?o(e):"Object"===(i=o(e))&&r(e.callee)?"Arguments":i}},7740:function(t,e,n){"use strict";var i=n(9297),r=n(5031),o=n(7347),s=n(4913);t.exports=function(t,e,n){for(var a=r(e),l=s.f,c=o.f,u=0;u<a.length;u++){var h=a[u];i(t,h)||n&&i(n,h)||l(t,h,c(e,h))}}},6699:function(t,e,n){"use strict";var i=n(3724),r=n(4913),o=n(6980);t.exports=i?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},6980:function(t){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},2106:function(t,e,n){"use strict";var i=n(283),r=n(4913);t.exports=function(t,e,n){return n.get&&i(n.get,e,{getter:!0}),n.set&&i(n.set,e,{setter:!0}),r.f(t,e,n)}},6840:function(t,e,n){"use strict";var i=n(4901),r=n(4913),o=n(283),s=n(9433);t.exports=function(t,e,n,a){a||(a={});var l=a.enumerable,c=void 0!==a.name?a.name:e;if(i(n)&&o(n,c,a),a.global)l?t[e]=n:s(e,n);else{try{a.unsafe?t[e]&&(l=!0):delete t[e]}catch(u){}l?t[e]=n:r.f(t,e,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},9433:function(t,e,n){"use strict";var i=n(4475),r=Object.defineProperty;t.exports=function(t,e){try{r(i,t,{value:e,configurable:!0,writable:!0})}catch(n){i[t]=e}return e}},3724:function(t,e,n){"use strict";var i=n(9039);t.exports=!i((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4055:function(t,e,n){"use strict";var i=n(4475),r=n(34),o=i.document,s=r(o)&&r(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},6837:function(t){"use strict";var e=TypeError,n=9007199254740991;t.exports=function(t){if(t>n)throw e("Maximum allowed index exceeded");return t}},9392:function(t){"use strict";t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7388:function(t,e,n){"use strict";var i,r,o=n(4475),s=n(9392),a=o.process,l=o.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u&&(i=u.split("."),r=i[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&s&&(i=s.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/),i&&(r=+i[1]))),t.exports=r},8727:function(t){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6518:function(t,e,n){"use strict";var i=n(4475),r=n(7347).f,o=n(6699),s=n(6840),a=n(9433),l=n(7740),c=n(2796);t.exports=function(t,e){var n,u,h,d,p,g,f=t.target,m=t.global,A=t.stat;if(u=m?i:A?i[f]||a(f,{}):i[f]&&i[f].prototype,u)for(h in e){if(p=e[h],t.dontCallGetSet?(g=r(u,h),d=g&&g.value):d=u[h],n=c(m?h:f+(A?".":"#")+h,t.forced),!n&&void 0!==d){if(typeof p==typeof d)continue;l(p,d)}(t.sham||d&&d.sham)&&o(p,"sham",!0),s(u,h,p,t)}}},9039:function(t){"use strict";t.exports=function(t){try{return!!t()}catch(e){return!0}}},616:function(t,e,n){"use strict";var i=n(9039);t.exports=!i((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},9565:function(t,e,n){"use strict";var i=n(616),r=Function.prototype.call;t.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},350:function(t,e,n){"use strict";var i=n(3724),r=n(9297),o=Function.prototype,s=i&&Object.getOwnPropertyDescriptor,a=r(o,"name"),l=a&&"something"===function(){}.name,c=a&&(!i||i&&s(o,"name").configurable);t.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},9504:function(t,e,n){"use strict";var i=n(616),r=Function.prototype,o=r.call,s=i&&r.bind.bind(o,o);t.exports=i?s:function(t){return function(){return o.apply(t,arguments)}}},7751:function(t,e,n){"use strict";var i=n(4475),r=n(4901),o=function(t){return r(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(i[t]):i[t]&&i[t][e]}},5966:function(t,e,n){"use strict";var i=n(9306),r=n(4117);t.exports=function(t,e){var n=t[e];return r(n)?void 0:i(n)}},4475:function(t,e,n){"use strict";var i=function(t){return t&&t.Math===Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||i("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:function(t,e,n){"use strict";var i=n(9504),r=n(8981),o=i({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(r(t),e)}},421:function(t){"use strict";t.exports={}},5917:function(t,e,n){"use strict";var i=n(3724),r=n(9039),o=n(4055);t.exports=!i&&!r((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},7055:function(t,e,n){"use strict";var i=n(9504),r=n(9039),o=n(4576),s=Object,a=i("".split);t.exports=r((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"===o(t)?a(t,""):s(t)}:s},3706:function(t,e,n){"use strict";var i=n(9504),r=n(4901),o=n(7629),s=i(Function.toString);r(o.inspectSource)||(o.inspectSource=function(t){return s(t)}),t.exports=o.inspectSource},1181:function(t,e,n){"use strict";var i,r,o,s=n(8622),a=n(4475),l=n(34),c=n(6699),u=n(9297),h=n(7629),d=n(6119),p=n(421),g="Object already initialized",f=a.TypeError,m=a.WeakMap,A=function(t){return o(t)?r(t):i(t,{})},y=function(t){return function(e){var n;if(!l(e)||(n=r(e)).type!==t)throw new f("Incompatible receiver, "+t+" required");return n}};if(s||h.state){var v=h.state||(h.state=new m);v.get=v.get,v.has=v.has,v.set=v.set,i=function(t,e){if(v.has(t))throw new f(g);return e.facade=t,v.set(t,e),e},r=function(t){return v.get(t)||{}},o=function(t){return v.has(t)}}else{var _=d("state");p[_]=!0,i=function(t,e){if(u(t,_))throw new f(g);return e.facade=t,c(t,_,e),e},r=function(t){return u(t,_)?t[_]:{}},o=function(t){return u(t,_)}}t.exports={set:i,get:r,has:o,enforce:A,getterFor:y}},4376:function(t,e,n){"use strict";var i=n(4576);t.exports=Array.isArray||function(t){return"Array"===i(t)}},4901:function(t){"use strict";var e="object"==typeof document&&document.all;t.exports="undefined"==typeof e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},2796:function(t,e,n){"use strict";var i=n(9039),r=n(4901),o=/#|\.prototype\./,s=function(t,e){var n=l[a(t)];return n===u||n!==c&&(r(e)?i(e):!!e)},a=s.normalize=function(t){return String(t).replace(o,".").toLowerCase()},l=s.data={},c=s.NATIVE="N",u=s.POLYFILL="P";t.exports=s},4117:function(t){"use strict";t.exports=function(t){return null===t||void 0===t}},34:function(t,e,n){"use strict";var i=n(4901);t.exports=function(t){return"object"==typeof t?null!==t:i(t)}},6395:function(t){"use strict";t.exports=!1},757:function(t,e,n){"use strict";var i=n(7751),r=n(4901),o=n(1625),s=n(7040),a=Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return r(e)&&o(e.prototype,a(t))}},6198:function(t,e,n){"use strict";var i=n(8014);t.exports=function(t){return i(t.length)}},283:function(t,e,n){"use strict";var i=n(9504),r=n(9039),o=n(4901),s=n(9297),a=n(3724),l=n(350).CONFIGURABLE,c=n(3706),u=n(1181),h=u.enforce,d=u.get,p=String,g=Object.defineProperty,f=i("".slice),m=i("".replace),A=i([].join),y=a&&!r((function(){return 8!==g((function(){}),"length",{value:8}).length})),v=String(String).split("String"),_=t.exports=function(t,e,n){"Symbol("===f(p(e),0,7)&&(e="["+m(p(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!s(t,"name")||l&&t.name!==e)&&(a?g(t,"name",{value:e,configurable:!0}):t.name=e),y&&n&&s(n,"arity")&&t.length!==n.arity&&g(t,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?a&&g(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(r){}var i=h(t);return s(i,"source")||(i.source=A(v,"string"==typeof e?e:"")),t};Function.prototype.toString=_((function(){return o(this)&&d(this).source||c(this)}),"toString")},741:function(t){"use strict";var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var i=+t;return(i>0?n:e)(i)}},4913:function(t,e,n){"use strict";var i=n(3724),r=n(5917),o=n(8686),s=n(8551),a=n(6969),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",p="writable";e.f=i?o?function(t,e,n){if(s(t),e=a(e),s(n),"function"===typeof t&&"prototype"===e&&"value"in n&&p in n&&!n[p]){var i=u(t,e);i&&i[p]&&(t[e]=n.value,n={configurable:d in n?n[d]:i[d],enumerable:h in n?n[h]:i[h],writable:!1})}return c(t,e,n)}:c:function(t,e,n){if(s(t),e=a(e),s(n),r)try{return c(t,e,n)}catch(i){}if("get"in n||"set"in n)throw new l("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},7347:function(t,e,n){"use strict";var i=n(3724),r=n(9565),o=n(8773),s=n(6980),a=n(5397),l=n(6969),c=n(9297),u=n(5917),h=Object.getOwnPropertyDescriptor;e.f=i?h:function(t,e){if(t=a(t),e=l(e),u)try{return h(t,e)}catch(n){}if(c(t,e))return s(!r(o.f,t,e),t[e])}},8480:function(t,e,n){"use strict";var i=n(1828),r=n(8727),o=r.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,o)}},3717:function(t,e){"use strict";e.f=Object.getOwnPropertySymbols},1625:function(t,e,n){"use strict";var i=n(9504);t.exports=i({}.isPrototypeOf)},1828:function(t,e,n){"use strict";var i=n(9504),r=n(9297),o=n(5397),s=n(9617).indexOf,a=n(421),l=i([].push);t.exports=function(t,e){var n,i=o(t),c=0,u=[];for(n in i)!r(a,n)&&r(i,n)&&l(u,n);while(e.length>c)r(i,n=e[c++])&&(~s(u,n)||l(u,n));return u}},8773:function(t,e){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!n.call({1:2},1);e.f=r?function(t){var e=i(this,t);return!!e&&e.enumerable}:n},4270:function(t,e,n){"use strict";var i=n(9565),r=n(4901),o=n(34),s=TypeError;t.exports=function(t,e){var n,a;if("string"===e&&r(n=t.toString)&&!o(a=i(n,t)))return a;if(r(n=t.valueOf)&&!o(a=i(n,t)))return a;if("string"!==e&&r(n=t.toString)&&!o(a=i(n,t)))return a;throw new s("Can't convert object to primitive value")}},5031:function(t,e,n){"use strict";var i=n(7751),r=n(9504),o=n(8480),s=n(3717),a=n(8551),l=r([].concat);t.exports=i("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=s.f;return n?l(e,n(t)):e}},7750:function(t,e,n){"use strict";var i=n(4117),r=TypeError;t.exports=function(t){if(i(t))throw new r("Can't call method on "+t);return t}},6119:function(t,e,n){"use strict";var i=n(5745),r=n(3392),o=i("keys");t.exports=function(t){return o[t]||(o[t]=r(t))}},7629:function(t,e,n){"use strict";var i=n(6395),r=n(4475),o=n(9433),s="__core-js_shared__",a=t.exports=r[s]||o(s,{});(a.versions||(a.versions=[])).push({version:"3.36.1",mode:i?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.36.1/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(t,e,n){"use strict";var i=n(7629);t.exports=function(t,e){return i[t]||(i[t]=e||{})}},4495:function(t,e,n){"use strict";var i=n(7388),r=n(9039),o=n(4475),s=o.String;t.exports=!!Object.getOwnPropertySymbols&&!r((function(){var t=Symbol("symbol detection");return!s(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},5610:function(t,e,n){"use strict";var i=n(1291),r=Math.max,o=Math.min;t.exports=function(t,e){var n=i(t);return n<0?r(n+e,0):o(n,e)}},5397:function(t,e,n){"use strict";var i=n(7055),r=n(7750);t.exports=function(t){return i(r(t))}},1291:function(t,e,n){"use strict";var i=n(741);t.exports=function(t){var e=+t;return e!==e||0===e?0:i(e)}},8014:function(t,e,n){"use strict";var i=n(1291),r=Math.min;t.exports=function(t){var e=i(t);return e>0?r(e,9007199254740991):0}},8981:function(t,e,n){"use strict";var i=n(7750),r=Object;t.exports=function(t){return r(i(t))}},2777:function(t,e,n){"use strict";var i=n(9565),r=n(34),o=n(757),s=n(5966),a=n(4270),l=n(8227),c=TypeError,u=l("toPrimitive");t.exports=function(t,e){if(!r(t)||o(t))return t;var n,l=s(t,u);if(l){if(void 0===e&&(e="default"),n=i(l,t,e),!r(n)||o(n))return n;throw new c("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},6969:function(t,e,n){"use strict";var i=n(2777),r=n(757);t.exports=function(t){var e=i(t,"string");return r(e)?e:e+""}},2140:function(t,e,n){"use strict";var i=n(8227),r=i("toStringTag"),o={};o[r]="z",t.exports="[object z]"===String(o)},655:function(t,e,n){"use strict";var i=n(6955),r=String;t.exports=function(t){if("Symbol"===i(t))throw new TypeError("Cannot convert a Symbol value to a string");return r(t)}},6823:function(t){"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(n){return"Object"}}},3392:function(t,e,n){"use strict";var i=n(9504),r=0,o=Math.random(),s=i(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++r+o,36)}},7040:function(t,e,n){"use strict";var i=n(4495);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:function(t,e,n){"use strict";var i=n(3724),r=n(9039);t.exports=i&&r((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},2812:function(t){"use strict";var e=TypeError;t.exports=function(t,n){if(t<n)throw new e("Not enough arguments");return t}},8622:function(t,e,n){"use strict";var i=n(4475),r=n(4901),o=i.WeakMap;t.exports=r(o)&&/native code/.test(String(o))},8227:function(t,e,n){"use strict";var i=n(4475),r=n(5745),o=n(9297),s=n(3392),a=n(4495),l=n(7040),c=i.Symbol,u=r("wks"),h=l?c["for"]||c:c&&c.withoutSetter||s;t.exports=function(t){return o(u,t)||(u[t]=a&&o(c,t)?c[t]:h("Symbol."+t)),u[t]}},4114:function(t,e,n){"use strict";var i=n(6518),r=n(8981),o=n(6198),s=n(4527),a=n(6837),l=n(9039),c=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},h=c||!u();i({target:"Array",proto:!0,arity:1,forced:h},{push:function(t){var e=r(this),n=o(e),i=arguments.length;a(n+i);for(var l=0;l<i;l++)e[n]=arguments[l],n++;return s(e,n),n}})},4603:function(t,e,n){"use strict";var i=n(6840),r=n(9504),o=n(655),s=n(2812),a=URLSearchParams,l=a.prototype,c=r(l.append),u=r(l["delete"]),h=r(l.forEach),d=r([].push),p=new a("a=1&a=2&b=3");p["delete"]("a",1),p["delete"]("b",void 0),p+""!=="a=2"&&i(l,"delete",(function(t){var e=arguments.length,n=e<2?void 0:arguments[1];if(e&&void 0===n)return u(this,t);var i=[];h(this,(function(t,e){d(i,{key:e,value:t})})),s(e,1);var r,a=o(t),l=o(n),p=0,g=0,f=!1,m=i.length;while(p<m)r=i[p++],f||r.key===a?(f=!0,u(this,r.key)):g++;while(g<m)r=i[g++],r.key===a&&r.value===l||c(this,r.key,r.value)}),{enumerable:!0,unsafe:!0})},7566:function(t,e,n){"use strict";var i=n(6840),r=n(9504),o=n(655),s=n(2812),a=URLSearchParams,l=a.prototype,c=r(l.getAll),u=r(l.has),h=new a("a=1");!h.has("a",2)&&h.has("a",void 0)||i(l,"has",(function(t){var e=arguments.length,n=e<2?void 0:arguments[1];if(e&&void 0===n)return u(this,t);var i=c(this,t);s(e,1);var r=o(n),a=0;while(a<i.length)if(i[a++]===r)return!0;return!1}),{enumerable:!0,unsafe:!0})},8721:function(t,e,n){"use strict";var i=n(3724),r=n(9504),o=n(2106),s=URLSearchParams.prototype,a=r(s.forEach);i&&!("size"in s)&&o(s,"size",{get:function(){var t=0;return a(this,(function(){t++})),t},configurable:!0,enumerable:!0})},8416:function(t){function e(t){return t instanceof Map?t.clear=t.delete=t.set=function(){throw new Error("map is read-only")}:t instanceof Set&&(t.add=t.clear=t.delete=function(){throw new Error("set is read-only")}),Object.freeze(t),Object.getOwnPropertyNames(t).forEach((n=>{const i=t[n],r=typeof i;"object"!==r&&"function"!==r||Object.isFrozen(i)||e(i)})),t}class n{constructor(t){void 0===t.data&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function i(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function r(t,...e){const n=Object.create(null);for(const i in t)n[i]=t[i];return e.forEach((function(t){for(const e in t)n[e]=t[e]})),n}const o="</span>",s=t=>!!t.scope,a=(t,{prefix:e})=>{if(t.startsWith("language:"))return t.replace("language:","language-");if(t.includes(".")){const n=t.split(".");return[`${e}${n.shift()}`,...n.map(((t,e)=>`${t}${"_".repeat(e+1)}`))].join(" ")}return`${e}${t}`};class l{constructor(t,e){this.buffer="",this.classPrefix=e.classPrefix,t.walk(this)}addText(t){this.buffer+=i(t)}openNode(t){if(!s(t))return;const e=a(t.scope,{prefix:this.classPrefix});this.span(e)}closeNode(t){s(t)&&(this.buffer+=o)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}const c=(t={})=>{const e={children:[]};return Object.assign(e,t),e};class u{constructor(){this.rootNode=c(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const e=c({scope:t});this.add(e),this.stack.push(e)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){while(this.closeNode());}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,e){return"string"===typeof e?t.addText(e):e.children&&(t.openNode(e),e.children.forEach((e=>this._walk(t,e))),t.closeNode(e)),t}static _collapse(t){"string"!==typeof t&&t.children&&(t.children.every((t=>"string"===typeof t))?t.children=[t.children.join("")]:t.children.forEach((t=>{u._collapse(t)})))}}class h extends u{constructor(t){super(),this.options=t}addText(t){""!==t&&this.add(t)}startScope(t){this.openNode(t)}endScope(){this.closeNode()}__addSublanguage(t,e){const n=t.root;e&&(n.scope=`language:${e}`),this.add(n)}toHTML(){const t=new l(this,this.options);return t.value()}finalize(){return this.closeAllNodes(),!0}}function d(t){return t?"string"===typeof t?t:t.source:null}function p(t){return m("(?=",t,")")}function g(t){return m("(?:",t,")*")}function f(t){return m("(?:",t,")?")}function m(...t){const e=t.map((t=>d(t))).join("");return e}function A(t){const e=t[t.length-1];return"object"===typeof e&&e.constructor===Object?(t.splice(t.length-1,1),e):{}}function y(...t){const e=A(t),n="("+(e.capture?"":"?:")+t.map((t=>d(t))).join("|")+")";return n}function v(t){return new RegExp(t.toString()+"|").exec("").length-1}function _(t,e){const n=t&&t.exec(e);return n&&0===n.index}const C=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function I(t,{joinWith:e}){let n=0;return t.map((t=>{n+=1;const e=n;let i=d(t),r="";while(i.length>0){const t=C.exec(i);if(!t){r+=i;break}r+=i.substring(0,t.index),i=i.substring(t.index+t[0].length),"\\"===t[0][0]&&t[1]?r+="\\"+String(Number(t[1])+e):(r+=t[0],"("===t[0]&&n++)}return r})).map((t=>`(${t})`)).join(e)}const E=/\b\B/,w="[a-zA-Z]\\w*",b="[a-zA-Z_]\\w*",x="\\b\\d+(\\.\\d+)?",S="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",P="\\b(0b[01]+)",M="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",R=(t={})=>{const e=/^#![ ]*\//;return t.binary&&(t.begin=m(e,/.*\b/,t.binary,/\b.*/)),r({scope:"meta",begin:e,end:/$/,relevance:0,"on:begin":(t,e)=>{0!==t.index&&e.ignoreMatch()}},t)},T={begin:"\\\\[\\s\\S]",relevance:0},G={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[T]},L={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[T]},k={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},O=function(t,e,n={}){const i=r({scope:"comment",begin:t,end:e,contains:[]},n);i.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const o=y("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return i.contains.push({begin:m(/[ ]+/,"(",o,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),i},D=O("//","$"),N=O("/\\*","\\*/"),F=O("#","$"),U={scope:"number",begin:x,relevance:0},B={scope:"number",begin:S,relevance:0},j={scope:"number",begin:P,relevance:0},z={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[T,{begin:/\[/,end:/\]/,relevance:0,contains:[T]}]},W={scope:"title",begin:w,relevance:0},V={scope:"title",begin:b,relevance:0},Y={begin:"\\.\\s*"+b,relevance:0},H=function(t){return Object.assign(t,{"on:begin":(t,e)=>{e.data._beginMatch=t[1]},"on:end":(t,e)=>{e.data._beginMatch!==t[1]&&e.ignoreMatch()}})};var q=Object.freeze({__proto__:null,APOS_STRING_MODE:G,BACKSLASH_ESCAPE:T,BINARY_NUMBER_MODE:j,BINARY_NUMBER_RE:P,COMMENT:O,C_BLOCK_COMMENT_MODE:N,C_LINE_COMMENT_MODE:D,C_NUMBER_MODE:B,C_NUMBER_RE:S,END_SAME_AS_BEGIN:H,HASH_COMMENT_MODE:F,IDENT_RE:w,MATCH_NOTHING_RE:E,METHOD_GUARD:Y,NUMBER_MODE:U,NUMBER_RE:x,PHRASAL_WORDS_MODE:k,QUOTE_STRING_MODE:L,REGEXP_MODE:z,RE_STARTERS_RE:M,SHEBANG:R,TITLE_MODE:W,UNDERSCORE_IDENT_RE:b,UNDERSCORE_TITLE_MODE:V});function X(t,e){const n=t.input[t.index-1];"."===n&&e.ignoreMatch()}function Z(t,e){void 0!==t.className&&(t.scope=t.className,delete t.className)}function K(t,e){e&&t.beginKeywords&&(t.begin="\\b("+t.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",t.__beforeBegin=X,t.keywords=t.keywords||t.beginKeywords,delete t.beginKeywords,void 0===t.relevance&&(t.relevance=0))}function J(t,e){Array.isArray(t.illegal)&&(t.illegal=y(...t.illegal))}function Q(t,e){if(t.match){if(t.begin||t.end)throw new Error("begin & end are not supported with match");t.begin=t.match,delete t.match}}function $(t,e){void 0===t.relevance&&(t.relevance=1)}const tt=(t,e)=>{if(!t.beforeMatch)return;if(t.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},t);Object.keys(t).forEach((e=>{delete t[e]})),t.keywords=n.keywords,t.begin=m(n.beforeMatch,p(n.begin)),t.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},t.relevance=0,delete n.beforeMatch},et=["of","and","for","in","not","or","if","then","parent","list","value"],nt="keyword";function it(t,e,n=nt){const i=Object.create(null);return"string"===typeof t?r(n,t.split(" ")):Array.isArray(t)?r(n,t):Object.keys(t).forEach((function(n){Object.assign(i,it(t[n],e,n))})),i;function r(t,n){e&&(n=n.map((t=>t.toLowerCase()))),n.forEach((function(e){const n=e.split("|");i[n[0]]=[t,rt(n[0],n[1])]}))}}function rt(t,e){return e?Number(e):ot(t)?0:1}function ot(t){return et.includes(t.toLowerCase())}const st={},at=t=>{console.error(t)},lt=(t,...e)=>{console.log(`WARN: ${t}`,...e)},ct=(t,e)=>{st[`${t}/${e}`]||(console.log(`Deprecated as of ${t}. ${e}`),st[`${t}/${e}`]=!0)},ut=new Error;function ht(t,e,{key:n}){let i=0;const r=t[n],o={},s={};for(let a=1;a<=e.length;a++)s[a+i]=r[a],o[a+i]=!0,i+=v(e[a-1]);t[n]=s,t[n]._emit=o,t[n]._multi=!0}function dt(t){if(Array.isArray(t.begin)){if(t.skip||t.excludeBegin||t.returnBegin)throw at("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),ut;if("object"!==typeof t.beginScope||null===t.beginScope)throw at("beginScope must be object"),ut;ht(t,t.begin,{key:"beginScope"}),t.begin=I(t.begin,{joinWith:""})}}function pt(t){if(Array.isArray(t.end)){if(t.skip||t.excludeEnd||t.returnEnd)throw at("skip, excludeEnd, returnEnd not compatible with endScope: {}"),ut;if("object"!==typeof t.endScope||null===t.endScope)throw at("endScope must be object"),ut;ht(t,t.end,{key:"endScope"}),t.end=I(t.end,{joinWith:""})}}function gt(t){t.scope&&"object"===typeof t.scope&&null!==t.scope&&(t.beginScope=t.scope,delete t.scope)}function ft(t){gt(t),"string"===typeof t.beginScope&&(t.beginScope={_wrap:t.beginScope}),"string"===typeof t.endScope&&(t.endScope={_wrap:t.endScope}),dt(t),pt(t)}function mt(t){function e(e,n){return new RegExp(d(e),"m"+(t.case_insensitive?"i":"")+(t.unicodeRegex?"u":"")+(n?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(t,e){e.position=this.position++,this.matchIndexes[this.matchAt]=e,this.regexes.push([e,t]),this.matchAt+=v(t)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const t=this.regexes.map((t=>t[1]));this.matcherRe=e(I(t,{joinWith:"|"}),!0),this.lastIndex=0}exec(t){this.matcherRe.lastIndex=this.lastIndex;const e=this.matcherRe.exec(t);if(!e)return null;const n=e.findIndex(((t,e)=>e>0&&void 0!==t)),i=this.matchIndexes[n];return e.splice(0,n),Object.assign(e,i)}}class i{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(t){if(this.multiRegexes[t])return this.multiRegexes[t];const e=new n;return this.rules.slice(t).forEach((([t,n])=>e.addRule(t,n))),e.compile(),this.multiRegexes[t]=e,e}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(t,e){this.rules.push([t,e]),"begin"===e.type&&this.count++}exec(t){const e=this.getMatcher(this.regexIndex);e.lastIndex=this.lastIndex;let n=e.exec(t);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const e=this.getMatcher(0);e.lastIndex=this.lastIndex+1,n=e.exec(t)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}function o(t){const e=new i;return t.contains.forEach((t=>e.addRule(t.begin,{rule:t,type:"begin"}))),t.terminatorEnd&&e.addRule(t.terminatorEnd,{type:"end"}),t.illegal&&e.addRule(t.illegal,{type:"illegal"}),e}function s(n,i){const r=n;if(n.isCompiled)return r;[Z,Q,ft,tt].forEach((t=>t(n,i))),t.compilerExtensions.forEach((t=>t(n,i))),n.__beforeBegin=null,[K,J,$].forEach((t=>t(n,i))),n.isCompiled=!0;let a=null;return"object"===typeof n.keywords&&n.keywords.$pattern&&(n.keywords=Object.assign({},n.keywords),a=n.keywords.$pattern,delete n.keywords.$pattern),a=a||/\w+/,n.keywords&&(n.keywords=it(n.keywords,t.case_insensitive)),r.keywordPatternRe=e(a,!0),i&&(n.begin||(n.begin=/\B|\b/),r.beginRe=e(r.begin),n.end||n.endsWithParent||(n.end=/\B|\b/),n.end&&(r.endRe=e(r.end)),r.terminatorEnd=d(r.end)||"",n.endsWithParent&&i.terminatorEnd&&(r.terminatorEnd+=(n.end?"|":"")+i.terminatorEnd)),n.illegal&&(r.illegalRe=e(n.illegal)),n.contains||(n.contains=[]),n.contains=[].concat(...n.contains.map((function(t){return yt("self"===t?n:t)}))),n.contains.forEach((function(t){s(t,r)})),n.starts&&s(n.starts,i),r.matcher=o(r),r}if(t.compilerExtensions||(t.compilerExtensions=[]),t.contains&&t.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return t.classNameAliases=r(t.classNameAliases||{}),s(t)}function At(t){return!!t&&(t.endsWithParent||At(t.starts))}function yt(t){return t.variants&&!t.cachedVariants&&(t.cachedVariants=t.variants.map((function(e){return r(t,{variants:null},e)}))),t.cachedVariants?t.cachedVariants:At(t)?r(t,{starts:t.starts?r(t.starts):null}):Object.isFrozen(t)?r(t):t}var vt="11.9.0";class _t extends Error{constructor(t,e){super(t),this.name="HTMLInjectionError",this.html=e}}const Ct=i,It=r,Et=Symbol("nomatch"),wt=7,bt=function(t){const i=Object.create(null),r=Object.create(null),o=[];let s=!0;const a="Could not find the language '{}', did you forget to load/include a language module?",l={disableAutodetect:!0,name:"Plain text",contains:[]};let c={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:h};function u(t){return c.noHighlightRe.test(t)}function d(t){let e=t.className+" ";e+=t.parentNode?t.parentNode.className:"";const n=c.languageDetectRe.exec(e);if(n){const e=k(n[1]);return e||(lt(a.replace("{}",n[1])),lt("Falling back to no-highlight mode for this block.",t)),e?n[1]:"no-highlight"}return e.split(/\s+/).find((t=>u(t)||k(t)))}function A(t,e,n){let i="",r="";"object"===typeof e?(i=t,n=e.ignoreIllegals,r=e.language):(ct("10.7.0","highlight(lang, code, ...args) has been deprecated."),ct("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),r=t,i=e),void 0===n&&(n=!0);const o={code:i,language:r};B("before:highlight",o);const s=o.result?o.result:v(o.language,o.code,n);return s.code=o.code,B("after:highlight",s),s}function v(t,e,r,o){const l=Object.create(null);function u(t,e){return t.keywords[e]}function h(){if(!R.keywords)return void G.addText(L);let t=0;R.keywordPatternRe.lastIndex=0;let e=R.keywordPatternRe.exec(L),n="";while(e){n+=L.substring(t,e.index);const i=S.case_insensitive?e[0].toLowerCase():e[0],r=u(R,i);if(r){const[t,o]=r;if(G.addText(n),n="",l[i]=(l[i]||0)+1,l[i]<=wt&&(O+=o),t.startsWith("_"))n+=e[0];else{const n=S.classNameAliases[t]||t;g(e[0],n)}}else n+=e[0];t=R.keywordPatternRe.lastIndex,e=R.keywordPatternRe.exec(L)}n+=L.substring(t),G.addText(n)}function d(){if(""===L)return;let t=null;if("string"===typeof R.subLanguage){if(!i[R.subLanguage])return void G.addText(L);t=v(R.subLanguage,L,!0,T[R.subLanguage]),T[R.subLanguage]=t._top}else t=I(L,R.subLanguage.length?R.subLanguage:null);R.relevance>0&&(O+=t.relevance),G.__addSublanguage(t._emitter,t.language)}function p(){null!=R.subLanguage?d():h(),L=""}function g(t,e){""!==t&&(G.startScope(e),G.addText(t),G.endScope())}function f(t,e){let n=1;const i=e.length-1;while(n<=i){if(!t._emit[n]){n++;continue}const i=S.classNameAliases[t[n]]||t[n],r=e[n];i?g(r,i):(L=r,h(),L=""),n++}}function m(t,e){return t.scope&&"string"===typeof t.scope&&G.openNode(S.classNameAliases[t.scope]||t.scope),t.beginScope&&(t.beginScope._wrap?(g(L,S.classNameAliases[t.beginScope._wrap]||t.beginScope._wrap),L=""):t.beginScope._multi&&(f(t.beginScope,e),L="")),R=Object.create(t,{parent:{value:R}}),R}function A(t,e,i){let r=_(t.endRe,i);if(r){if(t["on:end"]){const i=new n(t);t["on:end"](e,i),i.isMatchIgnored&&(r=!1)}if(r){while(t.endsParent&&t.parent)t=t.parent;return t}}if(t.endsWithParent)return A(t.parent,e,i)}function y(t){return 0===R.matcher.regexIndex?(L+=t[0],1):(F=!0,0)}function C(t){const e=t[0],i=t.rule,r=new n(i),o=[i.__beforeBegin,i["on:begin"]];for(const n of o)if(n&&(n(t,r),r.isMatchIgnored))return y(e);return i.skip?L+=e:(i.excludeBegin&&(L+=e),p(),i.returnBegin||i.excludeBegin||(L=e)),m(i,t),i.returnBegin?0:e.length}function E(t){const n=t[0],i=e.substring(t.index),r=A(R,t,i);if(!r)return Et;const o=R;R.endScope&&R.endScope._wrap?(p(),g(n,R.endScope._wrap)):R.endScope&&R.endScope._multi?(p(),f(R.endScope,t)):o.skip?L+=n:(o.returnEnd||o.excludeEnd||(L+=n),p(),o.excludeEnd&&(L=n));do{R.scope&&G.closeNode(),R.skip||R.subLanguage||(O+=R.relevance),R=R.parent}while(R!==r.parent);return r.starts&&m(r.starts,t),o.returnEnd?0:n.length}function w(){const t=[];for(let e=R;e!==S;e=e.parent)e.scope&&t.unshift(e.scope);t.forEach((t=>G.openNode(t)))}let b={};function x(n,i){const o=i&&i[0];if(L+=n,null==o)return p(),0;if("begin"===b.type&&"end"===i.type&&b.index===i.index&&""===o){if(L+=e.slice(i.index,i.index+1),!s){const e=new Error(`0 width match regex (${t})`);throw e.languageName=t,e.badRule=b.rule,e}return 1}if(b=i,"begin"===i.type)return C(i);if("illegal"===i.type&&!r){const t=new Error('Illegal lexeme "'+o+'" for mode "'+(R.scope||"<unnamed>")+'"');throw t.mode=R,t}if("end"===i.type){const t=E(i);if(t!==Et)return t}if("illegal"===i.type&&""===o)return 1;if(N>1e5&&N>3*i.index){const t=new Error("potential infinite loop, way more iterations than matches");throw t}return L+=o,o.length}const S=k(t);if(!S)throw at(a.replace("{}",t)),new Error('Unknown language: "'+t+'"');const P=mt(S);let M="",R=o||P;const T={},G=new c.__emitter(c);w();let L="",O=0,D=0,N=0,F=!1;try{if(S.__emitTokens)S.__emitTokens(e,G);else{for(R.matcher.considerAll();;){N++,F?F=!1:R.matcher.considerAll(),R.matcher.lastIndex=D;const t=R.matcher.exec(e);if(!t)break;const n=e.substring(D,t.index),i=x(n,t);D=t.index+i}x(e.substring(D))}return G.finalize(),M=G.toHTML(),{language:t,value:M,relevance:O,illegal:!1,_emitter:G,_top:R}}catch(U){if(U.message&&U.message.includes("Illegal"))return{language:t,value:Ct(e),illegal:!0,relevance:0,_illegalBy:{message:U.message,index:D,context:e.slice(D-100,D+100),mode:U.mode,resultSoFar:M},_emitter:G};if(s)return{language:t,value:Ct(e),illegal:!1,relevance:0,errorRaised:U,_emitter:G,_top:R};throw U}}function C(t){const e={value:Ct(t),illegal:!1,relevance:0,_top:l,_emitter:new c.__emitter(c)};return e._emitter.addText(t),e}function I(t,e){e=e||c.languages||Object.keys(i);const n=C(t),r=e.filter(k).filter(D).map((e=>v(e,t,!1)));r.unshift(n);const o=r.sort(((t,e)=>{if(t.relevance!==e.relevance)return e.relevance-t.relevance;if(t.language&&e.language){if(k(t.language).supersetOf===e.language)return 1;if(k(e.language).supersetOf===t.language)return-1}return 0})),[s,a]=o,l=s;return l.secondBest=a,l}function E(t,e,n){const i=e&&r[e]||n;t.classList.add("hljs"),t.classList.add(`language-${i}`)}function w(t){let e=null;const n=d(t);if(u(n))return;if(B("before:highlightElement",{el:t,language:n}),t.dataset.highlighted)return void console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",t);if(t.children.length>0&&(c.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(t)),c.throwUnescapedHTML)){const e=new _t("One of your code blocks includes unescaped HTML.",t.innerHTML);throw e}e=t;const i=e.textContent,r=n?A(i,{language:n,ignoreIllegals:!0}):I(i);t.innerHTML=r.value,t.dataset.highlighted="yes",E(t,n,r.language),t.result={language:r.language,re:r.relevance,relevance:r.relevance},r.secondBest&&(t.secondBest={language:r.secondBest.language,relevance:r.secondBest.relevance}),B("after:highlightElement",{el:t,result:r,text:i})}function b(t){c=It(c,t)}const x=()=>{M(),ct("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function S(){M(),ct("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let P=!1;function M(){if("loading"===document.readyState)return void(P=!0);const t=document.querySelectorAll(c.cssSelector);t.forEach(w)}function R(){P&&M()}function T(e,n){let r=null;try{r=n(t)}catch(o){if(at("Language definition for '{}' could not be registered.".replace("{}",e)),!s)throw o;at(o),r=l}r.name||(r.name=e),i[e]=r,r.rawDefinition=n.bind(null,t),r.aliases&&O(r.aliases,{languageName:e})}function G(t){delete i[t];for(const e of Object.keys(r))r[e]===t&&delete r[e]}function L(){return Object.keys(i)}function k(t){return t=(t||"").toLowerCase(),i[t]||i[r[t]]}function O(t,{languageName:e}){"string"===typeof t&&(t=[t]),t.forEach((t=>{r[t.toLowerCase()]=e}))}function D(t){const e=k(t);return e&&!e.disableAutodetect}function N(t){t["before:highlightBlock"]&&!t["before:highlightElement"]&&(t["before:highlightElement"]=e=>{t["before:highlightBlock"](Object.assign({block:e.el},e))}),t["after:highlightBlock"]&&!t["after:highlightElement"]&&(t["after:highlightElement"]=e=>{t["after:highlightBlock"](Object.assign({block:e.el},e))})}function F(t){N(t),o.push(t)}function U(t){const e=o.indexOf(t);-1!==e&&o.splice(e,1)}function B(t,e){const n=t;o.forEach((function(t){t[n]&&t[n](e)}))}function j(t){return ct("10.7.0","highlightBlock will be removed entirely in v12.0"),ct("10.7.0","Please use highlightElement now."),w(t)}"undefined"!==typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",R,!1),Object.assign(t,{highlight:A,highlightAuto:I,highlightAll:M,highlightElement:w,highlightBlock:j,configure:b,initHighlighting:x,initHighlightingOnLoad:S,registerLanguage:T,unregisterLanguage:G,listLanguages:L,getLanguage:k,registerAliases:O,autoDetection:D,inherit:It,addPlugin:F,removePlugin:U}),t.debugMode=function(){s=!1},t.safeMode=function(){s=!0},t.versionString=vt,t.regex={concat:m,lookahead:p,either:y,optional:f,anyNumberOfTimes:g};for(const n in q)"object"===typeof q[n]&&e(q[n]);return Object.assign(t,q),t},xt=bt({});xt.newInstance=()=>bt({}),t.exports=xt,xt.HighlightJS=xt,xt.default=xt},3132:function(t,e,n){"use strict";var i=n(641),r=n(953),o=n(11),s=(0,i.pM)({props:{code:{type:String,required:!0},language:{type:String,default:""},autodetect:{type:Boolean,default:!0},ignoreIllegals:{type:Boolean,default:!0}},setup:function(t){var e=(0,r.KR)(t.language);(0,i.wB)((function(){return t.language}),(function(t){e.value=t}));var n=(0,i.EW)((function(){return t.autodetect||!e.value})),s=(0,i.EW)((function(){return!n.value&&!o.A.getLanguage(e.value)}));return{className:(0,i.EW)((function(){return s.value?"":"hljs "+e.value})),highlightedCode:(0,i.EW)((function(){var i;if(s.value)return console.warn('The language "'+e.value+'" you specified could not be found.'),t.code.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;");if(n.value){var r=o.A.highlightAuto(t.code);return e.value=null!==(i=r.language)&&void 0!==i?i:"",r.value}return(r=o.A.highlight(t.code,{language:e.value,ignoreIllegals:t.ignoreIllegals})).value}))}},render:function(){return(0,i.h)("pre",{},[(0,i.h)("code",{class:this.className,innerHTML:this.highlightedCode})])}}),a={install:function(t){t.component("highlightjs",s)},component:s};e.A=a},7050:function(t,e,n){"use strict";n.d(e,{H1:function(){return t_},F3:function(){return _E},tI:function(){return SE},Lm:function(){return Id},nX:function(){return I_},zK:function(){return EE},LH:function(){return Ad},fk:function(){return Di},fY:function(){return ki},iZ:function(){return Pn},As:function(){return NE},z3:function(){return zE},nG:function(){return GE},dZ:function(){return Vv},LC:function(){return P_},qh:function(){return A_},hD:function(){return Td},p6:function(){return VE},rE:function(){return WE}});var i=JSON.parse('{"rE":"1.0.0-beta.5","p6":"01/04/2024"}'),r=n(1611),o=n(2742),s=n(4109),a=n(7444),l=n(8965),c=n(7334);const u={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};class h extends r.A{constructor(t){super(),this.on,this.once,this.un,this.options=t,this.id=t.id,this.insertFirst=void 0===t.insertFirst||t.insertFirst,this.stopEvent=void 0===t.stopEvent||t.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==t.className?t.className:"ol-overlay-container "+s.Q5,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=!0===t.autoPan?{}:t.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(u.ELEMENT,this.handleElementChanged),this.addChangeListener(u.MAP,this.handleMapChanged),this.addChangeListener(u.OFFSET,this.handleOffsetChanged),this.addChangeListener(u.POSITION,this.handlePositionChanged),this.addChangeListener(u.POSITIONING,this.handlePositioningChanged),void 0!==t.element&&this.setElement(t.element),this.setOffset(void 0!==t.offset?t.offset:[0,0]),this.setPositioning(t.positioning||"top-left"),void 0!==t.position&&this.setPosition(t.position)}getElement(){return this.get(u.ELEMENT)}getId(){return this.id}getMap(){return this.get(u.MAP)||null}getOffset(){return this.get(u.OFFSET)}getPosition(){return this.get(u.POSITION)}getPositioning(){return this.get(u.POSITIONING)}handleElementChanged(){(0,c.gS)(this.element);const t=this.getElement();t&&this.element.appendChild(t)}handleMapChanged(){this.mapPostrenderListenerKey&&((0,c.bf)(this.element),(0,l.JH)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const t=this.getMap();if(t){this.mapPostrenderListenerKey=(0,l.KT)(t,o.A.POSTRENDER,this.render,this),this.updatePixelPosition();const e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(t){this.set(u.ELEMENT,t)}setMap(t){this.set(u.MAP,t)}setOffset(t){this.set(u.OFFSET,t)}setPosition(t){this.set(u.POSITION,t)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(t){const e=this.getMap();if(!e||!e.getTargetElement()||!this.get(u.POSITION))return;const n=this.getRect(e.getTargetElement(),e.getSize()),i=this.getElement(),r=this.getRect(i,[(0,c.Gq)(i),(0,c.DK)(i)]);t=t||{};const o=void 0===t.margin?20:t.margin;if(!(0,a.ms)(n,r)){const i=r[0]-n[0],s=n[2]-r[2],a=r[1]-n[1],l=n[3]-r[3],c=[0,0];if(i<0?c[0]=i-o:s<0&&(c[0]=Math.abs(s)+o),a<0?c[1]=a-o:l<0&&(c[1]=Math.abs(l)+o),0!==c[0]||0!==c[1]){const n=e.getView().getCenterInternal(),i=e.getPixelFromCoordinateInternal(n);if(!i)return;const r=[i[0]+c[0],i[1]+c[1]],o=t.animation||{};e.getView().animateInternal({center:e.getCoordinateFromPixelInternal(r),duration:o.duration,easing:o.easing})}}}getRect(t,e){const n=t.getBoundingClientRect(),i=n.left+window.pageXOffset,r=n.top+window.pageYOffset;return[i,r,i+e[0],r+e[1]]}setPositioning(t){this.set(u.POSITIONING,t)}setVisible(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)}updatePixelPosition(){const t=this.getMap(),e=this.getPosition();if(!t||!t.isRendered()||!e)return void this.setVisible(!1);const n=t.getPixelFromCoordinate(e),i=t.getSize();this.updateRenderedPosition(n,i)}updateRenderedPosition(t,e){const n=this.element.style,i=this.getOffset(),r=this.getPositioning();this.setVisible(!0);const o=Math.round(t[0]+i[0])+"px",s=Math.round(t[1]+i[1])+"px";let a="0%",l="0%";"bottom-right"==r||"center-right"==r||"top-right"==r?a="-100%":"bottom-center"!=r&&"center-center"!=r&&"top-center"!=r||(a="-50%"),"bottom-left"==r||"bottom-center"==r||"bottom-right"==r?l="-100%":"center-left"!=r&&"center-center"!=r&&"center-right"!=r||(l="-50%");const c=`translate(${a}, ${l}) translate(${o}, ${s})`;this.rendered.transform_!=c&&(this.rendered.transform_=c,n.transform=c)}getOptions(){return this.options}}var d=h,p=(n(4114),n(7582)),g=n(9357),f=n(9611),m=n(5752),A=n(8409);class y extends g.A{constructor(t,e,n){super(),n=n||{},this.tileCoord=t,this.state=e,this.interimTile=null,this.key="",this.transition_=void 0===n.transition?250:n.transition,this.transitionStarts_={},this.interpolate=!!n.interpolate}changed(){this.dispatchEvent(p.A.CHANGE)}release(){this.state===f.A.ERROR&&this.setState(f.A.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){let t=this.interimTile;if(!t)return this;do{if(t.getState()==f.A.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this}refreshInterimChain(){let t=this.interimTile;if(!t)return;let e=this;do{if(t.getState()==f.A.LOADED){t.interimTile=null;break}t.getState()==f.A.LOADING?e=t:t.getState()==f.A.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==f.A.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}load(){(0,m.b0)()}getAlpha(t,e){if(!this.transition_)return 1;let n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;const i=e-n+1e3/60;return i>=this.transition_?1:(0,A.a6)(i/this.transition_)}inTransition(t){return!!this.transition_&&-1!==this.transitionStarts_[t]}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}}var v=y;class _ extends v{constructor(t,e,n,i,r,o){super(t,e,o),this.extent=null,this.format_=i,this.features_=null,this.loader_,this.projection=null,this.resolution,this.tileLoadFunction_=r,this.url_=n,this.key=n}getFormat(){return this.format_}getFeatures(){return this.features_}load(){this.state==f.A.IDLE&&(this.setState(f.A.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))}onLoad(t,e){this.setFeatures(t)}onError(){this.setState(f.A.ERROR)}setFeatures(t){this.features_=t,this.setState(f.A.LOADED)}setLoader(t){this.loader_=t}}var C=_,I=n(1097);class E{constructor(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){while(this.canExpireCache())this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let e=this.oldest_;while(e)t(e.value_,e.key_,this),e=e.newer}get(t,e){const n=this.entries_[t];return(0,I.v)(void 0!==n,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_}remove(t){const e=this.entries_[t];return(0,I.v)(void 0!==e,"Tried to get a value for a key that does not exist in the cache"),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_}getCount(){return this.count_}getKeys(){const t=new Array(this.count_);let e,n=0;for(e=this.newest_;e;e=e.older)t[n++]=e.key_;return t}getValues(){const t=new Array(this.count_);let e,n=0;for(e=this.newest_;e;e=e.older)t[n++]=e.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){return this.entries_[t]?.value_}pop(){const t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,e){this.get(t),this.entries_[t].value_=e}set(t,e){(0,I.v)(!(t in this.entries_),"Tried to set a value for a key that is used already");const n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_}setSize(t){this.highWaterMark=t}}var w=E;function b(t,e,n,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function x(t,e,n){return t+"/"+e+"/"+n}function S(t){return x(t[0],t[1],t[2])}function P(t){const[e,n,i]=t.substring(t.lastIndexOf("/")+1,t.length).split(",").map(Number);return x(e,n,i)}function M(t){return t.split("/").map(Number)}function R(t){return(t[1]<<t[0])+t[2]}function T(t,e){const n=t[0],i=t[1],r=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const o=e.getFullTileRange(n);return!o||o.containsXY(i,r)}class G extends w{clear(){while(this.getCount()>0)this.pop().release();super.clear()}expireCache(t){while(this.canExpireCache()){const e=this.peekLast();if(e.getKey()in t)break;this.pop().release()}}pruneExceptNewestZ(){if(0===this.getCount())return;const t=this.peekFirstKey(),e=M(t),n=e[0];this.forEach((t=>{t.tileCoord[0]!==n&&(this.remove(S(t.tileCoord)),t.release())}))}}var L=G;class k{constructor(t,e,n,i){this.minX=t,this.maxX=e,this.minY=n,this.maxY=i}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}function O(t,e,n,i,r){return void 0!==r?(r.minX=t,r.maxX=e,r.minY=n,r.maxY=i,r):new k(t,e,n,i)}var D=k,N=n(8994),F=n(5674),U=n(1814),B=n(3851),j=n(5689);const z=[0,0,0],W=5;class V{constructor(t){let e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,(0,I.v)((0,B.WC)(this.resolutions_,((t,e)=>e-t),!0),"`resolutions` must be sorted in descending order"),!t.origins)for(let i=0,r=this.resolutions_.length-1;i<r;++i)if(e){if(this.resolutions_[i]/this.resolutions_[i+1]!==e){e=void 0;break}}else e=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,(0,I.v)(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const n=t.extent;void 0===n||this.origin_||this.origins_||(this.origin_=(0,a.Py)(n)),(0,I.v)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,(0,I.v)(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:N.R,(0,I.v)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=void 0!==n?n:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(((t,e)=>{const i=new D(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));if(n){const t=this.getTileRangeForExtentAndZ(n,e);i.minX=Math.max(t.minX,i.minX),i.maxX=Math.min(t.maxX,i.maxX),i.minY=Math.max(t.minY,i.minY),i.maxY=Math.min(t.maxY,i.maxY)}return i})):n&&this.calculateTileRanges_(n)}forEachTileCoord(t,e,n){const i=this.getTileRangeForExtentAndZ(t,e);for(let r=i.minX,o=i.maxX;r<=o;++r)for(let t=i.minY,s=i.maxY;t<=s;++t)n([e,r,t])}forEachTileCoordParentTileRange(t,e,n,i){let r,o,s,a=null,l=t[0]-1;2===this.zoomFactor_?(o=t[1],s=t[2]):a=this.getTileCoordExtent(t,i);while(l>=this.minZoom){if(void 0!==o&&void 0!==s?(o=Math.floor(o/2),s=Math.floor(s/2),r=O(o,o,s,s,n)):r=this.getTileRangeForExtentAndZ(a,l,n),e(l,r))return!0;--l}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){const n=2*t[1],i=2*t[2];return O(n,n+1,i,i+1,e)}const i=this.getTileCoordExtent(t,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(i,t[0]+1,e)}return null}getTileRangeForTileCoordAndZ(t,e,n){if(e>this.maxZoom||e<this.minZoom)return null;const i=t[0],r=t[1],o=t[2];if(e===i)return O(r,o,r,o,n);if(this.zoomFactor_){const t=Math.pow(this.zoomFactor_,e-i),s=Math.floor(r*t),a=Math.floor(o*t);if(e<i)return O(s,s,a,a,n);const l=Math.floor(t*(r+1))-1,c=Math.floor(t*(o+1))-1;return O(s,l,a,c,n)}const s=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,e,n)}getTileRangeForExtentAndZ(t,e,n){this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,z);const i=z[1],r=z[2];this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,z);const o=z[1],s=z[2];return O(i,o,r,s,n)}getTileCoordCenter(t){const e=this.getOrigin(t[0]),n=this.getResolution(t[0]),i=(0,j.xq)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*i[0]*n,e[1]-(t[2]+.5)*i[1]*n]}getTileCoordExtent(t,e){const n=this.getOrigin(t[0]),i=this.getResolution(t[0]),r=(0,j.xq)(this.getTileSize(t[0]),this.tmpSize_),o=n[0]+t[1]*r[0]*i,s=n[1]-(t[2]+1)*r[1]*i,l=o+r[0]*i,c=s+r[1]*i;return(0,a.N)(o,s,l,c,e)}getTileCoordForCoordAndResolution(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)}getTileCoordForXYAndResolution_(t,e,n,i,r){const o=this.getZForResolution(n),s=n/this.getResolution(o),a=this.getOrigin(o),l=(0,j.xq)(this.getTileSize(o),this.tmpSize_);let c=s*(t-a[0])/n/l[0],u=s*(a[1]-e)/n/l[1];return i?(c=(0,F.mk)(c,W)-1,u=(0,F.mk)(u,W)-1):(c=(0,F.RI)(c,W),u=(0,F.RI)(u,W)),b(o,c,u,r)}getTileCoordForXYAndZ_(t,e,n,i,r){const o=this.getOrigin(n),s=this.getResolution(n),a=(0,j.xq)(this.getTileSize(n),this.tmpSize_);let l=(t-o[0])/s/a[0],c=(o[1]-e)/s/a[1];return i?(l=(0,F.mk)(l,W)-1,c=(0,F.mk)(c,W)-1):(l=(0,F.RI)(l,W),c=(0,F.RI)(c,W)),b(n,l,c,r)}getTileCoordForCoordAndZ(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,e){const n=(0,B.FT)(this.resolutions_,t,e||0);return(0,F.qE)(n,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,e){return(0,U.sj)(e,0,e.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){const e=this.resolutions_.length,n=new Array(e);for(let i=this.minZoom;i<e;++i)n[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=n}}var Y=V,H={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},q=n(9078),X=n(3437),Z=n(5857);function K(t){let e=t.getDefaultTileGrid();return e||(e=et(t),t.setDefaultTileGrid(e)),e}function J(t,e,n){const i=e[0],r=t.getTileCoordCenter(e),o=nt(n);if(!(0,a.Ym)(o,r)){const e=(0,a.RG)(o),n=Math.ceil((o[0]-r[0])/e);return r[0]+=e*n,t.getTileCoordForCoordAndZ(r,i)}return e}function Q(t,e,n,i){i=void 0!==i?i:"top-left";const r=tt(t,e,n);return new Y({extent:t,origin:(0,a.qF)(t,i),resolutions:r,tileSize:n})}function $(t){const e=t||{},n=e.extent||(0,Z.Jt)("EPSG:3857").getExtent(),i={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:tt(n,e.maxZoom,e.tileSize,e.maxResolution)};return new Y(i)}function tt(t,e,n,i){e=void 0!==e?e:N.L,n=(0,j.xq)(void 0!==n?n:N.R);const r=(0,a.Oq)(t),o=(0,a.RG)(t);i=i>0?i:Math.max(o/n[0],r/n[1]);const s=e+1,l=new Array(s);for(let a=0;a<s;++a)l[a]=i/Math.pow(2,a);return l}function et(t,e,n,i){const r=nt(t);return Q(r,e,n,i)}function nt(t){t=(0,Z.Jt)(t);let e=t.getExtent();if(!e){const n=180*Z.Ig.degrees/t.getMetersPerUnit();e=(0,a.N)(-n,-n,n,n)}return e}class it extends X.A{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.opaque_=void 0!==t.opaque&&t.opaque,this.tilePixelRatio_=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null;const e=[256,256];this.tileGrid&&(0,j.xq)(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),e),this.tileCache=new L(t.cacheSize||0),this.tmpSize=[0,0],this.key_=t.key||"",this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(t,e){const n=this.getTileCacheForProjection(t);n&&n.expireCache(e)}forEachLoadedTile(t,e,n,i){const r=this.getTileCacheForProjection(t);if(!r)return!1;let o,s,a,l=!0;for(let c=n.minX;c<=n.maxX;++c)for(let t=n.minY;t<=n.maxY;++t)s=x(e,c,t),a=!1,r.containsKey(s)&&(o=r.get(s),a=o.getState()===f.A.LOADED,a&&(a=!1!==i(o))),a||(l=!1);return l}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getOpaque(t){return this.opaque_}getResolutions(t){const e=t?this.getTileGridForProjection(t):this.tileGrid;return e?e.getResolutions():null}getTile(t,e,n,i,r){return(0,m.b0)()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:K(t)}getTileCacheForProjection(t){const e=this.getProjection();return(0,I.v)(null===e||(0,Z.tI)(e,t),"A VectorTile source can only be rendered if it has a projection compatible with the view projection."),this.tileCache}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,e,n){const i=this.getTileGridForProjection(n),r=this.getTilePixelRatio(e),o=(0,j.xq)(i.getTileSize(t),this.tmpSize);return 1==r?o:(0,j.hs)(o,r,this.tmpSize)}getTileCoordForTileUrlFunction(t,e){e=void 0!==e?e:this.getProjection();const n=this.getTileGridForProjection(e);return this.getWrapX()&&e.isGlobal()&&(t=J(n,t,e)),T(t,n)?t:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(t,e){const n=this.getTileCacheForProjection(e);t>n.highWaterMark&&(n.highWaterMark=t)}useTile(t,e,n,i){}}class rt extends q.Ay{constructor(t,e){super(t),this.tile=e}}var ot=it;function st(t,e){const n=/\{z\}/g,i=/\{x\}/g,r=/\{y\}/g,o=/\{-y\}/g;return function(s,a,l){if(s)return t.replace(n,s[0].toString()).replace(i,s[1].toString()).replace(r,s[2].toString()).replace(o,(function(){const t=s[0],n=e.getFullTileRange(t);if(!n)throw new Error("The {-y} placeholder requires a tile grid with extent");const i=n.getHeight()-s[2]-1;return i.toString()}))}}function at(t,e){const n=t.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=st(t[r],e);return lt(i)}function lt(t){return 1===t.length?t[0]:function(e,n,i){if(!e)return;const r=R(e),o=(0,F.xP)(r,t.length);return t[o](e,n,i)}}function ct(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const i=n[1].charCodeAt(0),r=n[2].charCodeAt(0);let o;for(o=i;o<=r;++o)e.push(t.replace(n[0],String.fromCharCode(o)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const i=parseInt(n[2],10);for(let r=parseInt(n[1],10);r<=i;r++)e.push(t.replace(n[0],r.toString()));return e}return e.push(t),e}class ut extends ot{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===ut.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const e=t.target,n=(0,m.v6)(e),i=e.getState();let r;i==f.A.LOADING?(this.tileLoadingKeys_[n]=!0,r=H.TILELOADSTART):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],r=i==f.A.ERROR?H.TILELOADERROR:i==f.A.LOADED?H.TILELOADEND:void 0),void 0!=r&&this.dispatchEvent(new rt(r,e))}setTileLoadFunction(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),"undefined"!==typeof e?this.setKey(e):this.changed()}setUrl(t){const e=ct(t);this.urls=e,this.setUrls(e)}setUrls(t){this.urls=t;const e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(at(t,this.tileGrid),e):this.setKey(e)}tileUrlFunction(t,e,n){}useTile(t,e,n){const i=x(t,e,n);this.tileCache.containsKey(i)&&this.tileCache.get(i)}}var ht=ut;const dt=[];class pt extends v{constructor(t,e,n,i){super(t,e,{transition:0}),this.context_={},this.executorGroups={},this.declutterExecutorGroups={},this.loadingSourceTiles=0,this.hitDetectionImageData={},this.replayState_={},this.sourceTiles=[],this.errorTileKeys={},this.wantedResolution,this.getSourceTiles=i.bind(void 0,this),this.wrappedTileCoord=n}getContext(t){const e=(0,m.v6)(t);return e in this.context_||(this.context_[e]=(0,c.Y)(1,1,dt)),this.context_[e]}hasContext(t){return(0,m.v6)(t)in this.context_}getImage(t){return this.hasContext(t)?this.getContext(t).canvas:null}getReplayState(t){const e=(0,m.v6)(t);return e in this.replayState_||(this.replayState_[e]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[e]}load(){this.getSourceTiles()}release(){for(const t in this.context_){const e=this.context_[t];(0,c.Yg)(e),dt.push(e.canvas),delete this.context_[t]}super.release()}}var gt=pt,ft=n(6811),mt=n(5519);class At extends ht{constructor(t){const e=t.projection||"EPSG:3857",n=t.extent||nt(e),i=t.tileGrid||$({extent:n,maxResolution:t.maxResolution,maxZoom:void 0!==t.maxZoom?t.maxZoom:22,minZoom:t.minZoom,tileSize:t.tileSize||512});super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,interpolate:!0,opaque:!1,projection:e,state:t.state,tileGrid:i,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:vt,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,zDirection:void 0===t.zDirection?1:t.zDirection}),this.format_=t.format?t.format:null,this.sourceTileCache=new L(this.tileCache.highWaterMark),this.overlaps_=void 0==t.overlaps||t.overlaps,this.tileClass=t.tileClass?t.tileClass:C,this.tileGrids_={}}getFeaturesInExtent(t){const e=[],n=this.tileCache;if(0===n.getCount())return e;const i=M(n.peekFirstKey())[0],r=this.tileGrid;return n.forEach((function(n){if(n.tileCoord[0]!==i||n.getState()!==f.A.LOADED)return;const o=n.getSourceTiles();for(let i=0,s=o.length;i<s;++i){const n=o[i],s=n.tileCoord;if((0,a.HY)(t,r.getTileCoordExtent(s))){const i=n.getFeatures();if(i)for(let n=0,r=i.length;n<r;++n){const r=i[n],o=r.getGeometry();(0,a.HY)(t,o.getExtent())&&e.push(r)}}}})),e}getOverlaps(){return this.overlaps_}clear(){this.tileCache.clear(),this.sourceTileCache.clear()}expireCache(t,e){const n=this.getTileCacheForProjection(t),i=Object.keys(e).reduce(((t,e)=>{const i=P(e),r=n.peek(i);if(r){const e=r.sourceTiles;for(let n=0,i=e.length;n<i;++n)t[e[n].getKey()]=!0}return t}),{});super.expireCache(t,e),this.sourceTileCache.expireCache(i)}getSourceTiles(t,e,n){if(n.getState()===f.A.IDLE){n.setState(f.A.LOADING);const i=n.wrappedTileCoord,r=this.getTileGridForProjection(e),o=r.getTileCoordExtent(i),s=i[0],l=r.getResolution(s);(0,a.r)(o,-l,o);const c=this.tileGrid,u=c.getExtent();u&&(0,a._N)(o,u,o);const h=c.getZForResolution(l,this.zDirection);c.forEachTileCoord(o,h,(i=>{const r=this.tileUrlFunction(i,t,e),o=this.sourceTileCache.containsKey(r)?this.sourceTileCache.get(r):new this.tileClass(i,r?f.A.IDLE:f.A.EMPTY,r,this.format_,this.tileLoadFunction);n.sourceTiles.push(o);const s=o.getState();if(s<f.A.LOADED){const t=e=>{this.handleTileChange(e);const i=o.getState();if(i===f.A.LOADED||i===f.A.ERROR){const e=o.getKey();e in n.errorTileKeys?o.getState()===f.A.LOADED&&delete n.errorTileKeys[e]:n.loadingSourceTiles--,i===f.A.ERROR?n.errorTileKeys[e]=!0:o.removeEventListener(p.A.CHANGE,t),0===n.loadingSourceTiles&&n.setState((0,ft.p)(n.errorTileKeys)?f.A.LOADED:f.A.ERROR)}};o.addEventListener(p.A.CHANGE,t),n.loadingSourceTiles++}s===f.A.IDLE&&(o.extent=c.getTileCoordExtent(i),o.projection=e,o.resolution=c.getResolution(i[0]),this.sourceTileCache.set(r,o),o.load())})),n.loadingSourceTiles||n.setState(n.sourceTiles.some((t=>t.getState()===f.A.ERROR))?f.A.ERROR:f.A.LOADED)}return n.sourceTiles}getTile(t,e,n,i,r){const o=x(t,e,n),s=this.getKey();let l;if(this.tileCache.containsKey(o)&&(l=this.tileCache.get(o),l.key===s))return l;const c=[t,e,n];let u=this.getTileCoordForTileUrlFunction(c,r);const h=this.getTileGrid().getExtent(),d=this.getTileGridForProjection(r);if(u&&h){const e=d.getTileCoordExtent(u);(0,a.r)(e,-d.getResolution(t),e),(0,a.HY)(h,e)||(u=null)}let p=!0;if(null!==u){const e=this.tileGrid,n=d.getResolution(t),o=e.getZForResolution(n,1),s=d.getTileCoordExtent(u);(0,a.r)(s,-n,s),e.forEachTileCoord(s,o,(t=>{p=p&&!this.tileUrlFunction(t,i,r)}))}const g=new gt(c,p?f.A.EMPTY:f.A.IDLE,u,this.getSourceTiles.bind(this,i,r));return g.key=s,l?(g.interimTile=l,g.refreshInterimChain(),this.tileCache.replace(o,g)):this.tileCache.set(o,g),g}getTileGridForProjection(t){const e=t.getCode();let n=this.tileGrids_[e];if(!n){const t=this.tileGrid,i=t.getResolutions().slice(),r=i.map((function(e,n){return t.getOrigin(n)})),o=i.map((function(e,n){return t.getTileSize(n)})),s=N.L+1;for(let e=i.length;e<s;++e)i.push(i[e-1]/2),r.push(r[e-1]),o.push(o[e-1]);n=new Y({extent:t.getExtent(),origins:r,resolutions:i,tileSizes:o}),this.tileGrids_[e]=n}return n}getTilePixelRatio(t){return t}getTilePixelSize(t,e,n){const i=this.getTileGridForProjection(n),r=(0,j.xq)(i.getTileSize(t),this.tmpSize);return[Math.round(r[0]*e),Math.round(r[1]*e)]}updateCacheSize(t,e){super.updateCacheSize(2*t,e),this.sourceTileCache.highWaterMark=this.getTileCacheForProjection(e).highWaterMark}}var yt=At;function vt(t,e){t.setLoader((function(n,i,r){(0,mt.m8)(e,t.getFormat(),n,i,r,t.onLoad.bind(t),t.onError.bind(t))}))}var _t=n(8347),Ct=n(2299);class It extends v{constructor(t,e,n,i,r,o){super(t,e,o),this.crossOrigin_=i,this.src_=n,this.key=n,this.image_=new Image,null!==i&&(this.image_.crossOrigin=i),this.unlisten_=null,this.tileLoadFunction_=r}getImage(){return this.image_}setImage(t){this.image_=t,this.state=f.A.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=f.A.ERROR,this.unlistenImage_(),this.image_=Et(),this.changed()}handleImageLoad_(){const t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=f.A.LOADED:this.state=f.A.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==f.A.ERROR&&(this.state=f.A.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==f.A.IDLE&&(this.state=f.A.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=(0,Ct.f6)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function Et(){const t=(0,c.Y)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}var wt=It;const bt=.5,xt=10,St=.25;class Pt{constructor(t,e,n,i,r,o){this.sourceProj_=t,this.targetProj_=e;let s={};const l=(0,Z.RG)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){const e=t[0]+"/"+t[1];return s[e]||(s[e]=l(t)),s[e]},this.maxSourceExtent_=i,this.errorThresholdSquared_=r*r,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&(0,a.RG)(i)>=(0,a.RG)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,a.RG)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,a.RG)(this.targetProj_.getExtent()):null;const c=(0,a.Py)(n),u=(0,a.WU)(n),h=(0,a.k_)(n),d=(0,a.R)(n),p=this.transformInv_(c),g=this.transformInv_(u),f=this.transformInv_(h),m=this.transformInv_(d),A=xt+(o?Math.max(0,Math.ceil(Math.log2((0,a.UG)(n)/(o*o*256*256)))):0);if(this.addQuad_(c,u,h,d,p,g,f,m,A),this.wrapsXInSource_){let t=1/0;this.triangles_.forEach((function(e,n,i){t=Math.min(t,e.source[0][0],e.source[1][0],e.source[2][0])})),this.triangles_.forEach((e=>{if(Math.max(e.source[0][0],e.source[1][0],e.source[2][0])-t>this.sourceWorldWidth_/2){const n=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];n[0][0]-t>this.sourceWorldWidth_/2&&(n[0][0]-=this.sourceWorldWidth_),n[1][0]-t>this.sourceWorldWidth_/2&&(n[1][0]-=this.sourceWorldWidth_),n[2][0]-t>this.sourceWorldWidth_/2&&(n[2][0]-=this.sourceWorldWidth_);const i=Math.min(n[0][0],n[1][0],n[2][0]),r=Math.max(n[0][0],n[1][0],n[2][0]);r-i<this.sourceWorldWidth_/2&&(e.source=n)}}))}s={}}addTriangle_(t,e,n,i,r,o){this.triangles_.push({source:[i,r,o],target:[t,e,n]})}addQuad_(t,e,n,i,r,o,s,l,c){const u=(0,a.Tr)([r,o,s,l]),h=this.sourceWorldWidth_?(0,a.RG)(u)/this.sourceWorldWidth_:null,d=this.sourceWorldWidth_,p=this.sourceProj_.canWrapX()&&h>.5&&h<1;let g=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const r=(0,a.Tr)([t,e,n,i]),o=(0,a.RG)(r)/this.targetWorldWidth_;g=o>St||g}!p&&this.sourceProj_.isGlobal()&&h&&(g=h>St||g)}if(!g&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3])&&!(0,a.HY)(u,this.maxSourceExtent_))return;let f=0;if(!g&&(!isFinite(r[0])||!isFinite(r[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(l[0])||!isFinite(l[1])))if(c>0)g=!0;else if(f=(isFinite(r[0])&&isFinite(r[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(s[0])&&isFinite(s[1])?0:2)+(isFinite(l[0])&&isFinite(l[1])?0:1),1!=f&&2!=f&&4!=f&&8!=f)return;if(c>0){if(!g){const e=[(t[0]+n[0])/2,(t[1]+n[1])/2],i=this.transformInv_(e);let o;if(p){const t=((0,F.xP)(r[0],d)+(0,F.xP)(s[0],d))/2;o=t-(0,F.xP)(i[0],d)}else o=(r[0]+s[0])/2-i[0];const a=(r[1]+s[1])/2-i[1],l=o*o+a*a;g=l>this.errorThresholdSquared_}if(g){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){const a=[(e[0]+n[0])/2,(e[1]+n[1])/2],u=this.transformInv_(a),h=[(i[0]+t[0])/2,(i[1]+t[1])/2],d=this.transformInv_(h);this.addQuad_(t,e,a,h,r,o,u,d,c-1),this.addQuad_(h,a,n,i,d,u,s,l,c-1)}else{const a=[(t[0]+e[0])/2,(t[1]+e[1])/2],u=this.transformInv_(a),h=[(n[0]+i[0])/2,(n[1]+i[1])/2],d=this.transformInv_(h);this.addQuad_(t,a,h,i,r,u,d,l,c-1),this.addQuad_(a,e,n,h,u,o,s,d,c-1)}return}}if(p){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&f)&&this.addTriangle_(t,n,i,r,s,l),0==(14&f)&&this.addTriangle_(t,n,e,r,s,o),f&&(0==(13&f)&&this.addTriangle_(e,i,t,o,l,r),0==(7&f)&&this.addTriangle_(e,i,n,o,l,s))}calculateSourceExtent(){const t=(0,a.S5)();return this.triangles_.forEach((function(e,n,i){const r=e.source;(0,a.$C)(t,r[0]),(0,a.$C)(t,r[1]),(0,a.$C)(t,r[2])})),t}getTriangles(){return this.triangles_}}var Mt=Pt;let Rt;const Tt=[];function Gt(t,e,n,i,r){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(i,r),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,i)+1,Math.max(n,r)),t.restore()}function Lt(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function kt(){if(void 0===Rt){const t=(0,c.Y)(6,6,Tt);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",Gt(t,4,5,4,0),Gt(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;Rt=Lt(e,0)||Lt(e,4)||Lt(e,8),(0,c.Yg)(t),Tt.push(t.canvas)}return Rt}function Ot(t,e,n,i){const r=(0,Z.pd)(n,e,t);let o=(0,Z.hO)(e,i,n);const s=e.getMetersPerUnit();void 0!==s&&(o*=s);const l=t.getMetersPerUnit();void 0!==l&&(o/=l);const c=t.getExtent();if(!c||(0,a.Ym)(c,r)){const e=(0,Z.hO)(t,o,r)/o;isFinite(e)&&e>0&&(o/=e)}return o}function Dt(t,e,n,i){const r=(0,a.q1)(n);let o=Ot(t,e,r,i);return(!isFinite(o)||o<=0)&&(0,a.sB)(n,(function(n){return o=Ot(t,e,n,i),isFinite(o)&&o>0})),o}function Nt(t,e,n,i,r,o,s,l,u,h,d,p,g){const f=(0,c.Y)(Math.round(n*t),Math.round(n*e),Tt);if(p||(f.imageSmoothingEnabled=!1),0===u.length)return f.canvas;function m(t){return Math.round(t*n)/n}f.scale(n,n),f.globalCompositeOperation="lighter";const A=(0,a.S5)();let y;if(u.forEach((function(t,e,n){(0,a.X$)(A,t.extent)})),!g||1!==u.length||0!==h){const t=(0,a.RG)(A),e=(0,a.Oq)(A);y=(0,c.Y)(Math.round(n*t/i),Math.round(n*e/i),Tt),p||(y.imageSmoothingEnabled=!1);const r=n/i;u.forEach((function(t,e,n){const i=t.extent[0]-A[0],o=-(t.extent[3]-A[3]),s=(0,a.RG)(t.extent),l=(0,a.Oq)(t.extent);t.image.width>0&&t.image.height>0&&y.drawImage(t.image,h,h,t.image.width-2*h,t.image.height-2*h,i*r,o*r,s*r,l*r)}))}const v=(0,a.Py)(s);return l.getTriangles().forEach((function(t,e,r){const s=t.source,l=t.target;let c=s[0][0],h=s[0][1],d=s[1][0],g=s[1][1],_=s[2][0],C=s[2][1];const I=m((l[0][0]-v[0])/o),E=m(-(l[0][1]-v[1])/o),w=m((l[1][0]-v[0])/o),b=m(-(l[1][1]-v[1])/o),x=m((l[2][0]-v[0])/o),S=m(-(l[2][1]-v[1])/o),P=c,M=h;c=0,h=0,d-=P,g-=M,_-=P,C-=M;const R=[[d,g,0,0,w-I],[_,C,0,0,x-I],[0,0,d,g,b-E],[0,0,_,C,S-E]],T=(0,F.KU)(R);if(!T)return;if(f.save(),f.beginPath(),kt()||!p){f.moveTo(w,b);const t=4,e=I-w,n=E-b;for(let i=0;i<t;i++)f.lineTo(w+m((i+1)*e/t),b+m(i*n/(t-1))),i!=t-1&&f.lineTo(w+m((i+1)*e/t),b+m((i+1)*n/(t-1)));f.lineTo(x,S)}else f.moveTo(w,b),f.lineTo(I,E),f.lineTo(x,S);let G;if(f.clip(),f.transform(T[0],T[2],T[1],T[3],I,E),f.translate(A[0]-P,A[3]-M),y)G=y.canvas,f.scale(i/n,-i/n);else{const t=u[0],e=t.extent;G=t.image,f.scale((0,a.RG)(e)/G.width,-(0,a.Oq)(e)/G.height)}f.drawImage(G,0,0),f.restore()})),y&&((0,c.Yg)(y),Tt.push(y.canvas)),d&&(f.save(),f.globalCompositeOperation="source-over",f.strokeStyle="black",f.lineWidth=1,l.getTriangles().forEach((function(t,e,n){const i=t.target,r=(i[0][0]-v[0])/o,s=-(i[0][1]-v[1])/o,a=(i[1][0]-v[0])/o,l=-(i[1][1]-v[1])/o,c=(i[2][0]-v[0])/o,u=-(i[2][1]-v[1])/o;f.beginPath(),f.moveTo(a,l),f.lineTo(r,s),f.lineTo(c,u),f.closePath(),f.stroke()})),f.restore()),f.canvas}class Ft extends v{constructor(t,e,n,i,r,o,s,l,c,u,h,d){super(r,f.A.IDLE,d),this.renderEdges_=void 0!==h&&h,this.pixelRatio_=s,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=e,this.targetTileGrid_=i,this.wrappedTileCoord_=o||r,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const p=i.getTileCoordExtent(this.wrappedTileCoord_),g=this.targetTileGrid_.getExtent();let m=this.sourceTileGrid_.getExtent();const A=g?(0,a._N)(p,g):p;if(0===(0,a.UG)(A))return void(this.state=f.A.EMPTY);const y=t.getExtent();y&&(m=m?(0,a._N)(m,y):y);const v=i.getResolution(this.wrappedTileCoord_[0]),_=Dt(t,n,A,v);if(!isFinite(_)||_<=0)return void(this.state=f.A.EMPTY);const C=void 0!==u?u:bt;if(this.triangulation_=new Mt(t,n,A,m,_*C,v),0===this.triangulation_.getTriangles().length)return void(this.state=f.A.EMPTY);this.sourceZ_=e.getZForResolution(_);let I=this.triangulation_.calculateSourceExtent();if(m&&(t.canWrapX()?(I[1]=(0,F.qE)(I[1],m[1],m[3]),I[3]=(0,F.qE)(I[3],m[1],m[3])):I=(0,a._N)(I,m)),(0,a.UG)(I)){const t=e.getTileRangeForExtentAndZ(I,this.sourceZ_);for(let e=t.minX;e<=t.maxX;e++)for(let n=t.minY;n<=t.maxY;n++){const t=c(this.sourceZ_,e,n,s);t&&this.sourceTiles_.push(t)}0===this.sourceTiles_.length&&(this.state=f.A.EMPTY)}else this.state=f.A.EMPTY}getImage(){return this.canvas_}reproject_(){const t=[];if(this.sourceTiles_.forEach((e=>{e&&e.getState()==f.A.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})})),this.sourceTiles_.length=0,0===t.length)this.state=f.A.ERROR;else{const e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),i="number"===typeof n?n:n[0],r="number"===typeof n?n:n[1],o=this.targetTileGrid_.getResolution(e),s=this.sourceTileGrid_.getResolution(this.sourceZ_),a=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Nt(i,r,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),o,a,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=f.A.LOADED}this.changed()}load(){if(this.state==f.A.IDLE){this.state=f.A.LOADING,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((e=>{const n=e.getState();if(n==f.A.IDLE||n==f.A.LOADING){t++;const n=(0,l.KT)(e,p.A.CHANGE,(function(i){const r=e.getState();r!=f.A.LOADED&&r!=f.A.ERROR&&r!=f.A.EMPTY||((0,l.JH)(n),t--,0===t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(n)}})),0===t?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function(t,e,n){const i=t.getState();i==f.A.IDLE&&t.load()}))}}unlistenSources_(){this.sourcesListenerKeys_.forEach(l.JH),this.sourcesListenerKeys_=null}release(){this.canvas_&&((0,c.Yg)(this.canvas_.getContext("2d")),Tt.push(this.canvas_),this.canvas_=null),super.release()}}var Ut=Ft;class Bt extends ht{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:jt,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:void 0===t.interpolate||t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:wt,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1}expireCache(t,e){const n=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==n?e:{});for(const i in this.tileCacheForProjection){const t=this.tileCacheForProjection[i];t.expireCache(t==n?e:{})}}getGutterForProjection(t){return this.getProjection()&&t&&!(0,Z.tI)(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getOpaque(t){return!(this.getProjection()&&t&&!(0,Z.tI)(this.getProjection(),t))&&super.getOpaque(t)}getTileGridForProjection(t){const e=this.getProjection();if(this.tileGrid&&(!e||(0,Z.tI)(e,t)))return this.tileGrid;const n=(0,m.v6)(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=K(t)),this.tileGridForProjection[n]}getTileCacheForProjection(t){const e=this.getProjection();if(!e||(0,Z.tI)(e,t))return this.tileCache;const n=(0,m.v6)(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new L(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]}createTile_(t,e,n,i,r,o){const s=[t,e,n],a=this.getTileCoordForTileUrlFunction(s,r),l=a?this.tileUrlFunction(a,i,r):void 0,c=new this.tileClass(s,void 0!==l?f.A.IDLE:f.A.EMPTY,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return c.key=o,c.addEventListener(p.A.CHANGE,this.handleTileChange.bind(this)),c}getTile(t,e,n,i,r){const o=this.getProjection();if(!o||!r||(0,Z.tI)(o,r))return this.getTileInternal(t,e,n,i,o||r);const s=this.getTileCacheForProjection(r),a=[t,e,n];let l;const c=S(a);s.containsKey(c)&&(l=s.get(c));const u=this.getKey();if(l&&l.key==u)return l;const h=this.getTileGridForProjection(o),d=this.getTileGridForProjection(r),p=this.getTileCoordForTileUrlFunction(a,r),g=new Ut(o,h,r,d,a,p,this.getTilePixelRatio(i),this.getGutter(),((t,e,n,i)=>this.getTileInternal(t,e,n,i,o)),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return g.key=u,l?(g.interimTile=l,g.refreshInterimChain(),s.replace(c,g)):s.set(c,g),g}getTileInternal(t,e,n,i,r){let o=null;const s=x(t,e,n),a=this.getKey();if(this.tileCache.containsKey(s)){if(o=this.tileCache.get(s),o.key!=a){const l=o;o=this.createTile_(t,e,n,i,r,a),l.getState()==f.A.IDLE?o.interimTile=l.interimTile:o.interimTile=l,o.refreshInterimChain(),this.tileCache.replace(s,o)}}else o=this.createTile_(t,e,n,i,r,a),this.tileCache.set(s,o);return o}setRenderReprojectionEdges(t){if(this.renderReprojectionEdges_!=t){this.renderReprojectionEdges_=t;for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}}setTileGridForProjection(t,e){const n=(0,Z.Jt)(t);if(n){const t=(0,m.v6)(n);t in this.tileGridForProjection||(this.tileGridForProjection[t]=e)}}clear(){super.clear();for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear()}}function jt(t,e){t.getImage().src=e}var zt=Bt;const Wt=4;function Vt(t,e){const n=[];Object.keys(e).forEach((function(t){null!==e[t]&&void 0!==e[t]&&n.push(t+"="+encodeURIComponent(e[t]))}));const i=n.join("&");return t=t.replace(/[?&]$/,""),t+=t.includes("?")?"&":"?",t+i}var Yt=n(5109),Ht=n(1410);function qt(t){return Array.isArray(t)?Math.min(...t):t}class Xt extends Ct.Ay{constructor(t,e,n,i,r,o,s){let l=t.getExtent();l&&t.canWrapX()&&(l=l.slice(),l[0]=-1/0,l[2]=1/0);let c=e.getExtent();c&&e.canWrapX()&&(c=c.slice(),c[0]=-1/0,c[2]=1/0);const u=c?(0,a._N)(n,c):n,h=(0,a.q1)(u),d=Ot(t,e,h,i),p=bt,g=new Mt(t,e,u,l,d*p,i),f=g.calculateSourceExtent(),m=(0,a.Im)(f)?null:o(f,d,r),A=m?Ht.A.IDLE:Ht.A.EMPTY,y=m?m.getPixelRatio():1;super(n,i,y,A),this.targetProj_=e,this.maxSourceExtent_=l,this.triangulation_=g,this.targetResolution_=i,this.targetExtent_=n,this.sourceImage_=m,this.sourcePixelRatio_=y,this.interpolate_=s,this.canvas_=null,this.sourceListenerKey_=null}disposeInternal(){this.state==Ht.A.LOADING&&this.unlistenSource_(),super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){const t=this.sourceImage_.getState();if(t==Ht.A.LOADED){const t=(0,a.RG)(this.targetExtent_)/this.targetResolution_,e=(0,a.Oq)(this.targetExtent_)/this.targetResolution_;this.canvas_=Nt(t,e,this.sourcePixelRatio_,qt(this.sourceImage_.getResolution()),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_,!0)}this.state=t,this.changed()}load(){if(this.state==Ht.A.IDLE){this.state=Ht.A.LOADING,this.changed();const t=this.sourceImage_.getState();t==Ht.A.LOADED||t==Ht.A.ERROR?this.reproject_():(this.sourceListenerKey_=(0,l.KT)(this.sourceImage_,p.A.CHANGE,(function(t){const e=this.sourceImage_.getState();e!=Ht.A.LOADED&&e!=Ht.A.ERROR||(this.unlistenSource_(),this.reproject_())}),this),this.sourceImage_.load())}}unlistenSource_(){(0,l.JH)(this.sourceListenerKey_),this.sourceListenerKey_=null}}var Zt=Xt;const Kt={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};class Jt extends q.Ay{constructor(t,e){super(t),this.image=e}}class Qt extends X.A{constructor(t){super({attributions:t.attributions,projection:t.projection,state:t.state,interpolate:void 0===t.interpolate||t.interpolate}),this.on,this.once,this.un,this.loader=t.loader||null,this.resolutions_=void 0!==t.resolutions?t.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0,this.image=null,this.wantedExtent_,this.wantedResolution_,this.static_=!!t.loader&&0===t.loader.length,this.wantedProjection_=null}getResolutions(){return this.resolutions_}setResolutions(t){this.resolutions_=t}findNearestResolution(t){const e=this.getResolutions();if(e){const n=(0,B.FT)(e,t,0);t=e[n]}return t}getImage(t,e,n,i){const r=this.getProjection();if(!r||!i||(0,Z.tI)(r,i))return r&&(i=r),this.getImageInternal(t,e,n,i);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&(0,Z.tI)(this.reprojectedImage_.getProjection(),i)&&this.reprojectedImage_.getResolution()==e&&(0,a.aI)(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new Zt(r,i,t,e,n,((t,e,n)=>this.getImageInternal(t,e,n,r)),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}getImageInternal(t,e,n,i){if(this.loader){const r=te(t,e,n,1),o=this.findNearestResolution(e);if(this.image&&(this.static_||this.wantedProjection_===i&&(this.wantedExtent_&&(0,a.ms)(this.wantedExtent_,r)||(0,a.ms)(this.image.getExtent(),r))&&(this.wantedResolution_&&qt(this.wantedResolution_)===o||qt(this.image.getResolution())===o)))return this.image;this.wantedProjection_=i,this.wantedExtent_=r,this.wantedResolution_=o,this.image=new Ct.Ay(r,o,n,this.loader),this.image.addEventListener(p.A.CHANGE,this.handleImageChange.bind(this))}return this.image}handleImageChange(t){const e=t.target;let n;switch(e.getState()){case Ht.A.LOADING:this.loading=!0,n=Kt.IMAGELOADSTART;break;case Ht.A.LOADED:this.loading=!1,n=Kt.IMAGELOADEND;break;case Ht.A.ERROR:this.loading=!1,n=Kt.IMAGELOADERROR;break;default:return}this.hasListener(n)&&this.dispatchEvent(new Jt(n,e))}}function $t(t,e){t.getImage().src=e}function te(t,e,n,i){const r=e/n,o=(0,a.q1)(t),s=(0,F.mk)((0,a.RG)(t)/r,Wt),l=(0,F.mk)((0,a.Oq)(t)/r,Wt),c=(0,F.mk)((i-1)*s/2,Wt),u=s+2*c,h=(0,F.mk)((i-1)*l/2,Wt),d=l+2*h;return(0,a.Bg)(o,r,0,[u,d])}var ee=Qt;const ne="1.3.0",ie=[101,101];function re(t,e,n,i,r){r["WIDTH"]=n[0],r["HEIGHT"]=n[1];const o=i.getAxisOrientation();let s;const a=(0,Yt.Z)(r["VERSION"],"1.3")>=0;return r[a?"CRS":"SRS"]=i.getCode(),s=a&&"ne"==o.substr(0,2)?[e[1],e[0],e[3],e[2]]:e,r["BBOX"]=s.join(","),Vt(t,r)}function oe(t,e,n,i,r,o,s){o=Object.assign({REQUEST:"GetMap"},o);const l=e/n,c=[(0,F.LI)((0,a.RG)(t)/l,Wt),(0,F.LI)((0,a.Oq)(t)/l,Wt)];if(1!=n)switch(s){case"geoserver":const t=90*n+.5|0;"FORMAT_OPTIONS"in o?o["FORMAT_OPTIONS"]+=";dpi:"+t:o["FORMAT_OPTIONS"]="dpi:"+t;break;case"mapserver":o["MAP_RESOLUTION"]=90*n;break;case"carmentaserver":case"qgis":o["DPI"]=90*n;break;default:throw new Error("Unknown `serverType` configured")}const u=re(r,t,c,i,o);return u}function se(t,e){return Object.assign({REQUEST:e,SERVICE:"WMS",VERSION:ne,FORMAT:"image/png",STYLES:"",TRANSPARENT:!0},t)}function ae(t){const e=void 0===t.hidpi||t.hidpi,n=(0,Z.Jt)(t.projection||"EPSG:3857"),i=t.ratio||1.5,r=t.load||Ct.D4;return(o,s,a)=>{o=te(o,s,a,i),1==a||e&&void 0!==t.serverType||(a=1);const l=oe(o,s,a,n,t.url,se(t.params,"GetMap"),t.serverType),c=new Image;return null!==t.crossOrigin&&(c.crossOrigin=t.crossOrigin),r(c,l).then((t=>({image:t,extent:o,pixelRatio:a})))}}function le(t,e,n){if(void 0===t.url)return;const i=(0,Z.Jt)(t.projection||"EPSG:3857"),r=(0,a.Bg)(e,n,0,ie),o={QUERY_LAYERS:t.params["LAYERS"],INFO_FORMAT:"application/json"};Object.assign(o,se(t.params,"GetFeatureInfo"),t.params);const s=(0,F.RI)((e[0]-r[0])/n,Wt),l=(0,F.RI)((r[3]-e[1])/n,Wt),c=(0,Yt.Z)(o["VERSION"],"1.3")>=0;return o[c?"I":"X"]=s,o[c?"J":"Y"]=l,re(t.url,r,ie,i,o)}function ce(t,e){if(void 0===t.url)return;const n={SERVICE:"WMS",VERSION:ne,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===t.params||void 0===t.params["LAYER"]){const e=t.params.LAYERS,i=!Array.isArray(e)||1===e.length;if(!i)return;n["LAYER"]=e}if(void 0!==e){const i=(0,Z.Jt)(t.projection||"EPSG:3857").getMetersPerUnit()||1,r=28e-5;n["SCALE"]=e*i/r}return Object.assign(n,t.params),Vt(t.url,n)}class ue extends zt{constructor(t){t=t||{};const e=Object.assign({},t.params),n=!("TRANSPARENT"in e)||e["TRANSPARENT"];super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,opaque:!n,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,zDirection:t.zDirection}),this.gutter_=void 0!==t.gutter?t.gutter:0,this.params_=e,this.v13_=!0,this.serverType_=t.serverType,this.hidpi_=void 0===t.hidpi||t.hidpi,this.tmpExtent_=(0,a.S5)(),this.updateV13_(),this.setKey(this.getKeyForParams_())}getFeatureInfoUrl(t,e,n,i){const r=(0,Z.Jt)(n),o=this.getProjection()||r;let s=this.getTileGrid();s||(s=this.getTileGridForProjection(o));const l=(0,Z.pd)(t,r,o),c=Ot(o,r,t,e),u=s.getZForResolution(c,this.zDirection),h=s.getResolution(u),d=s.getTileCoordForCoordAndZ(l,u);if(s.getResolutions().length<=d[0])return;let p=s.getTileCoordExtent(d,this.tmpExtent_);const g=this.gutter_;0!==g&&(p=(0,a.r)(p,h*g,p));const f={QUERY_LAYERS:this.params_["LAYERS"]};Object.assign(f,se(this.params_,"GetFeatureInfo"),i);const m=Math.floor((l[0]-p[0])/h),A=Math.floor((p[3]-l[1])/h);return f[this.v13_?"I":"X"]=m,f[this.v13_?"J":"Y"]=A,this.getRequestUrl_(d,p,1,o||r,f)}getLegendUrl(t,e){if(void 0===this.urls[0])return;const n={SERVICE:"WMS",VERSION:ne,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===e||void 0===e["LAYER"]){const t=this.params_.LAYERS,e=!Array.isArray(t)||1===t.length;if(!e)return;n["LAYER"]=t}if(void 0!==t){const e=this.getProjection()?this.getProjection().getMetersPerUnit():1,i=28e-5;n["SCALE"]=t*e/i}return Object.assign(n,e),Vt(this.urls[0],n)}getGutter(){return this.gutter_}getParams(){return this.params_}getRequestUrl_(t,e,n,i,r){const o=this.urls;if(!o)return;let s;if(1==o.length)s=o[0];else{const e=(0,F.xP)(R(t),o.length);s=o[e]}return oe(e,(this.tileGrid||this.getTileGridForProjection(i)).getResolution(t[0]),n,i,s,r,this.serverType_)}getTilePixelRatio(t){return this.hidpi_&&void 0!==this.serverType_?t:1}getKeyForParams_(){let t=0;const e=[];for(const n in this.params_)e[t++]=n+"-"+this.params_[n];return e.join("/")}updateParams(t){Object.assign(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())}updateV13_(){const t=this.params_["VERSION"]||ne;this.v13_=(0,Yt.Z)(t,"1.3")>=0}tileUrlFunction(t,e,n){let i=this.getTileGrid();if(i||(i=this.getTileGridForProjection(n)),i.getResolutions().length<=t[0])return;1==e||this.hidpi_&&void 0!==this.serverType_||(e=1);const r=i.getResolution(t[0]);let o=i.getTileCoordExtent(t,this.tmpExtent_);const s=this.gutter_;0!==s&&(o=(0,a.r)(o,r*s,o));const l=Object.assign({},se(this.params_,"GetMap"));return this.getRequestUrl_(t,o,e,n,l)}}var he=ue;class de extends zt{constructor(t){const e=void 0!==t.requestEncoding?t.requestEncoding:"KVP",n=t.tileGrid;let i=t.urls;void 0===i&&void 0!==t.url&&(i=ct(t.url)),super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:n,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,urls:i,wrapX:void 0!==t.wrapX&&t.wrapX,transition:t.transition,zDirection:t.zDirection}),this.version_=void 0!==t.version?t.version:"1.0.0",this.format_=void 0!==t.format?t.format:"image/jpeg",this.dimensions_=void 0!==t.dimensions?t.dimensions:{},this.layer_=t.layer,this.matrixSet_=t.matrixSet,this.style_=t.style,this.requestEncoding_=e,this.setKey(this.getKeyForDimensions_()),i&&i.length>0&&(this.tileUrlFunction=lt(i.map(this.createFromWMTSTemplate.bind(this))))}setUrls(t){this.urls=t;const e=t.join("\n");this.setTileUrlFunction(lt(t.map(this.createFromWMTSTemplate.bind(this))),e)}getDimensions(){return this.dimensions_}getFormat(){return this.format_}getLayer(){return this.layer_}getMatrixSet(){return this.matrixSet_}getRequestEncoding(){return this.requestEncoding_}getStyle(){return this.style_}getVersion(){return this.version_}getKeyForDimensions_(){const t=this.urls?this.urls.slice(0):[];for(const e in this.dimensions_)t.push(e+"-"+this.dimensions_[e]);return t.join("/")}updateDimensions(t){Object.assign(this.dimensions_,t),this.setKey(this.getKeyForDimensions_())}createFromWMTSTemplate(t){const e=this.requestEncoding_,n={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};"KVP"==e&&Object.assign(n,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),t="KVP"==e?Vt(t,n):t.replace(/\{(\w+?)\}/g,(function(t,e){return e.toLowerCase()in n?n[e.toLowerCase()]:t}));const i=this.tileGrid,r=this.dimensions_;return function(n,o,s){if(!n)return;const a={TileMatrix:i.getMatrixId(n[0]),TileCol:n[1],TileRow:n[2]};Object.assign(a,r);let l=t;return l="KVP"==e?Vt(l,a):l.replace(/\{(\w+?)\}/g,(function(t,e){return a[e]})),l}}}var pe=de;class ge extends ee{constructor(t){t=t||{},super({attributions:t.attributions,interpolate:t.interpolate,projection:t.projection,resolutions:t.resolutions}),this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null,this.url_=t.url,this.imageLoadFunction_=void 0!==t.imageLoadFunction?t.imageLoadFunction:$t,this.params_=t.params,this.serverType_=t.serverType,this.hidpi_=void 0===t.hidpi||t.hidpi,this.renderedRevision_=0,this.ratio_=void 0!==t.ratio?t.ratio:1.5,this.loaderProjection_=null}getFeatureInfoUrl(t,e,n,i){const r=(0,Z.Jt)(n),o=this.getProjection();o&&o!==r&&(e=Ot(o,r,t,e),t=(0,Z.pd)(t,r,o));const s={url:this.url_,params:{...this.params_,...i},projection:o||r};return le(s,t,e)}getLegendUrl(t,e){return ce({url:this.url_,params:{...this.params_,...e}},t)}getParams(){return this.params_}getImageInternal(t,e,n,i){return void 0===this.url_?null:(this.loader&&this.loaderProjection_===i||(this.loaderProjection_=i,this.loader=ae({crossOrigin:this.crossOrigin_,params:this.params_,projection:i,serverType:this.serverType_,hidpi:this.hidpi_,url:this.url_,ratio:this.ratio_,load:(t,e)=>(this.image.setImage(t),this.imageLoadFunction_(this.image,e),(0,Ct.D4)(t))})),super.getImageInternal(t,e,n,i))}getImageLoadFunction(){return this.imageLoadFunction_}getUrl(){return this.url_}setImageLoadFunction(t){this.imageLoadFunction_=t,this.changed()}setUrl(t){t!=this.url_&&(this.url_=t,this.loader=null,this.changed())}updateParams(t){Object.assign(this.params_,t),this.changed()}changed(){this.image=null,super.changed()}}var fe=ge,me=n(3844),Ae=n(2686),ye=n(856),ve=n(6425),_e=n(6273),Ce=n(9331),Ie=n(6505),Ee=n(2535);const we={SELECT:"select"};class be extends q.Ay{constructor(t,e,n,i){super(t),this.selected=e,this.deselected=n,this.mapBrowserEvent=i}}const xe={};class Se extends ve.Ay{constructor(t){let e;if(super(),this.on,this.once,this.un,t=t||{},this.boundAddFeature_=this.addFeature_.bind(this),this.boundRemoveFeature_=this.removeFeature_.bind(this),this.condition_=t.condition?t.condition:Ee.t5,this.addCondition_=t.addCondition?t.addCondition:Ee.Zm,this.removeCondition_=t.removeCondition?t.removeCondition:Ee.Zm,this.toggleCondition_=t.toggleCondition?t.toggleCondition:Ee.Kg,this.multi_=!!t.multi&&t.multi,this.filter_=t.filter?t.filter:Ce.rT,this.hitTolerance_=t.hitTolerance?t.hitTolerance:0,this.style_=void 0!==t.style?t.style:Pe(),this.features_=t.features||new me.A,t.layers)if("function"===typeof t.layers)e=t.layers;else{const n=t.layers;e=function(t){return n.includes(t)}}else e=Ce.rT;this.layerFilter_=e,this.featureLayerAssociation_={}}addFeatureLayerAssociation_(t,e){this.featureLayerAssociation_[(0,m.v6)(t)]=e}getFeatures(){return this.features_}getHitTolerance(){return this.hitTolerance_}getLayer(t){return this.featureLayerAssociation_[(0,m.v6)(t)]}setHitTolerance(t){this.hitTolerance_=t}setMap(t){const e=this.getMap();e&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),super.setMap(t),t?(this.features_.addEventListener(Ae.A.ADD,this.boundAddFeature_),this.features_.addEventListener(Ae.A.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(Ae.A.ADD,this.boundAddFeature_),this.features_.removeEventListener(Ae.A.REMOVE,this.boundRemoveFeature_))}addFeature_(t){const e=t.element;if(this.style_&&this.applySelectedStyle_(e),!this.getLayer(e)){const t=this.getMap().getAllLayers().find((function(t){if(t instanceof _e.A&&t.getSource()&&t.getSource().hasFeature(e))return t}));t&&this.addFeatureLayerAssociation_(e,t)}}removeFeature_(t){this.style_&&this.restorePreviousStyle_(t.element)}getStyle(){return this.style_}applySelectedStyle_(t){const e=(0,m.v6)(t);e in xe||(xe[e]=t.getStyle()),t.setStyle(this.style_)}restorePreviousStyle_(t){const e=this.getMap().getInteractions().getArray();for(let i=e.length-1;i>=0;--i){const n=e[i];if(n!==this&&n instanceof Se&&n.getStyle()&&-1!==n.getFeatures().getArray().lastIndexOf(t))return void t.setStyle(n.getStyle())}const n=(0,m.v6)(t);t.setStyle(xe[n]),delete xe[n]}removeFeatureLayerAssociation_(t){delete this.featureLayerAssociation_[(0,m.v6)(t)]}handleEvent(t){if(!this.condition_(t))return!0;const e=this.addCondition_(t),n=this.removeCondition_(t),i=this.toggleCondition_(t),r=!e&&!n&&!i,o=t.map,s=this.getFeatures(),a=[],l=[];if(r){(0,ft.I)(this.featureLayerAssociation_),o.forEachFeatureAtPixel(t.pixel,((t,e)=>{if(t instanceof ye.A&&this.filter_(t,e))return this.addFeatureLayerAssociation_(t,e),l.push(t),!this.multi_}),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let t=s.getLength()-1;t>=0;--t){const e=s.item(t),n=l.indexOf(e);n>-1?l.splice(n,1):(s.remove(e),a.push(e))}0!==l.length&&s.extend(l)}else{o.forEachFeatureAtPixel(t.pixel,((t,r)=>{if(t instanceof ye.A&&this.filter_(t,r))return!e&&!i||s.getArray().includes(t)?(n||i)&&s.getArray().includes(t)&&(a.push(t),this.removeFeatureLayerAssociation_(t)):(this.addFeatureLayerAssociation_(t,r),l.push(t)),!this.multi_}),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let t=a.length-1;t>=0;--t)s.remove(a[t]);s.extend(l)}return(l.length>0||a.length>0)&&this.dispatchEvent(new be(we.SELECT,l,a,t)),!0}}function Pe(){const t=(0,Ie.mY)();return(0,B.X$)(t["Polygon"],t["LineString"]),(0,B.X$)(t["GeometryCollection"],t["LineString"]),function(e){return e.getGeometry()?t[e.getGeometry().getType()]:null}}var Me=Se,Re=n(3156),Te=n(8225),Ge=n(5596),Le=n(1127),ke=n(299),Oe=n(8474),De=n(3313);const Ne=0,Fe=1,Ue=[0,0,0,0],Be=[],je={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"};class ze extends q.Ay{constructor(t,e,n){super(t),this.features=e,this.mapBrowserEvent=n}}class We extends Ge.A{constructor(t){let e;if(super(t),this.on,this.once,this.un,this.boundHandleFeatureChange_=this.handleFeatureChange_.bind(this),this.condition_=t.condition?t.condition:Ee.fs,this.defaultDeleteCondition_=function(t){return(0,Ee.Js)(t)&&(0,Ee.t5)(t)},this.deleteCondition_=t.deleteCondition?t.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=t.insertVertexCondition?t.insertVertexCondition:Ee.Gk,this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.featuresBeingModified_=null,this.rBush_=new Le.A,this.pixelTolerance_=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new _e.A({source:new _t.A({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:qe(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_.bind(this),LineString:this.writeLineStringGeometry_.bind(this),LinearRing:this.writeLineStringGeometry_.bind(this),Polygon:this.writePolygonGeometry_.bind(this),MultiPoint:this.writeMultiPointGeometry_.bind(this),MultiLineString:this.writeMultiLineStringGeometry_.bind(this),MultiPolygon:this.writeMultiPolygonGeometry_.bind(this),Circle:this.writeCircleGeometry_.bind(this),GeometryCollection:this.writeGeometryCollectionGeometry_.bind(this)},this.source_=null,this.hitDetection_=null,t.features?e=t.features:t.source&&(this.source_=t.source,e=new me.A(this.source_.getFeatures()),this.source_.addEventListener(ke.A.ADDFEATURE,this.handleSourceAdd_.bind(this)),this.source_.addEventListener(ke.A.REMOVEFEATURE,this.handleSourceRemove_.bind(this))),!e)throw new Error("The modify interaction requires features, a source or a layer");t.hitDetection&&(this.hitDetection_=t.hitDetection),this.features_=e,this.features_.forEach(this.addFeature_.bind(this)),this.features_.addEventListener(Ae.A.ADD,this.handleFeatureAdd_.bind(this)),this.features_.addEventListener(Ae.A.REMOVE,this.handleFeatureRemove_.bind(this)),this.lastPointerEvent_=null,this.delta_=[0,0],this.snapToPointer_=void 0===t.snapToPointer?!this.hitDetection_:t.snapToPointer}addFeature_(t){const e=t.getGeometry();if(e){const n=this.SEGMENT_WRITERS_[e.getType()];n&&n(t,e)}const n=this.getMap();n&&n.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,n),t.addEventListener(p.A.CHANGE,this.boundHandleFeatureChange_)}willModifyFeatures_(t,e){if(!this.featuresBeingModified_){this.featuresBeingModified_=new me.A;const n=this.featuresBeingModified_.getArray();for(let t=0,i=e.length;t<i;++t){const i=e[t];for(let t=0,e=i.length;t<e;++t){const e=i[t].feature;e&&!n.includes(e)&&this.featuresBeingModified_.push(e)}}0===this.featuresBeingModified_.getLength()?this.featuresBeingModified_=null:this.dispatchEvent(new ze(je.MODIFYSTART,this.featuresBeingModified_,t))}}removeFeature_(t){this.removeFeatureSegmentData_(t),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.removeEventListener(p.A.CHANGE,this.boundHandleFeatureChange_)}removeFeatureSegmentData_(t){const e=this.rBush_,n=[];e.forEach((function(e){t===e.feature&&n.push(e)}));for(let i=n.length-1;i>=0;--i){const t=n[i];for(let e=this.dragSegments_.length-1;e>=0;--e)this.dragSegments_[e][0]===t&&this.dragSegments_.splice(e,1);e.remove(t)}}setActive(t){this.vertexFeature_&&!t&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),super.setActive(t)}setMap(t){this.overlay_.setMap(t),super.setMap(t)}getOverlay(){return this.overlay_}handleSourceAdd_(t){t.feature&&this.features_.push(t.feature)}handleSourceRemove_(t){t.feature&&this.features_.remove(t.feature)}handleFeatureAdd_(t){this.addFeature_(t.element)}handleFeatureChange_(t){if(!this.changingFeature_){const e=t.target;this.removeFeature_(e),this.addFeature_(e)}}handleFeatureRemove_(t){this.removeFeature_(t.element)}writePointGeometry_(t,e){const n=e.getCoordinates(),i={feature:t,geometry:e,segment:[n,n]};this.rBush_.insert(e.getExtent(),i)}writeMultiPointGeometry_(t,e){const n=e.getCoordinates();for(let i=0,r=n.length;i<r;++i){const r=n[i],o={feature:t,geometry:e,depth:[i],index:i,segment:[r,r]};this.rBush_.insert(e.getExtent(),o)}}writeLineStringGeometry_(t,e){const n=e.getCoordinates();for(let i=0,r=n.length-1;i<r;++i){const r=n.slice(i,i+2),o={feature:t,geometry:e,index:i,segment:r};this.rBush_.insert((0,a.Tr)(r),o)}}writeMultiLineStringGeometry_(t,e){const n=e.getCoordinates();for(let i=0,r=n.length;i<r;++i){const r=n[i];for(let n=0,o=r.length-1;n<o;++n){const o=r.slice(n,n+2),s={feature:t,geometry:e,depth:[i],index:n,segment:o};this.rBush_.insert((0,a.Tr)(o),s)}}}writePolygonGeometry_(t,e){const n=e.getCoordinates();for(let i=0,r=n.length;i<r;++i){const r=n[i];for(let n=0,o=r.length-1;n<o;++n){const o=r.slice(n,n+2),s={feature:t,geometry:e,depth:[i],index:n,segment:o};this.rBush_.insert((0,a.Tr)(o),s)}}}writeMultiPolygonGeometry_(t,e){const n=e.getCoordinates();for(let i=0,r=n.length;i<r;++i){const r=n[i];for(let n=0,o=r.length;n<o;++n){const o=r[n];for(let r=0,s=o.length-1;r<s;++r){const s=o.slice(r,r+2),l={feature:t,geometry:e,depth:[n,i],index:r,segment:s};this.rBush_.insert((0,a.Tr)(s),l)}}}}writeCircleGeometry_(t,e){const n=e.getCenter(),i={feature:t,geometry:e,index:Ne,segment:[n,n]},r={feature:t,geometry:e,index:Fe,segment:[n,n]},o=[i,r];i.featureSegments=o,r.featureSegments=o,this.rBush_.insert((0,a.dP)(n),i);let s=e;const l=(0,Z.Tf)();if(l&&this.getMap()){const t=this.getMap().getView().getProjection();s=s.clone().transform(l,t),s=(0,De.nD)(s).transform(t,l)}this.rBush_.insert(s.getExtent(),r)}writeGeometryCollectionGeometry_(t,e){const n=e.getGeometriesArray();for(let i=0;i<n.length;++i){const e=n[i],r=this.SEGMENT_WRITERS_[e.getType()];r(t,e)}}createOrUpdateVertexFeature_(t,e,n){let i=this.vertexFeature_;if(i){const e=i.getGeometry();e.setCoordinates(t)}else i=new ye.A(new Te.A(t)),this.vertexFeature_=i,this.overlay_.getSource().addFeature(i);return i.set("features",e),i.set("geometries",n),i}handleEvent(t){if(!t.originalEvent)return!0;let e;return this.lastPointerEvent_=t,t.map.getView().getInteracting()||t.type!=Re.A.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(t),this.vertexFeature_&&this.deleteCondition_(t)&&(e=!(t.type!=Re.A.SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),t.type==Re.A.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),super.handleEvent(t)&&!e}handleDragEvent(t){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(t,this.dragSegments_);const e=[t.coordinate[0]+this.delta_[0],t.coordinate[1]+this.delta_[1]],n=[],i=[];for(let r=0,o=this.dragSegments_.length;r<o;++r){const o=this.dragSegments_[r],s=o[0],a=s.feature;n.includes(a)||n.push(a);const l=s.geometry;i.includes(l)||i.push(l);const c=s.depth;let u;const h=s.segment,d=o[1];while(e.length<l.getStride())e.push(h[d][e.length]);switch(l.getType()){case"Point":u=e,h[0]=e,h[1]=e;break;case"MultiPoint":u=l.getCoordinates(),u[s.index]=e,h[0]=e,h[1]=e;break;case"LineString":u=l.getCoordinates(),u[s.index+d]=e,h[d]=e;break;case"MultiLineString":u=l.getCoordinates(),u[c[0]][s.index+d]=e,h[d]=e;break;case"Polygon":u=l.getCoordinates(),u[c[0]][s.index+d]=e,h[d]=e;break;case"MultiPolygon":u=l.getCoordinates(),u[c[1]][c[0]][s.index+d]=e,h[d]=e;break;case"Circle":if(h[0]=e,h[1]=e,s.index===Ne)this.changingFeature_=!0,l.setCenter(e),this.changingFeature_=!1;else{this.changingFeature_=!0;const n=t.map.getView().getProjection();let i=(0,Oe.Io)((0,Z.Ad)(l.getCenter(),n),(0,Z.Ad)(e,n));const r=(0,Z.Tf)();if(r){const t=l.clone().transform(r,n);t.setRadius(i),i=t.transform(n,r).getRadius()}l.setRadius(i),this.changingFeature_=!1}break;default:}u&&this.setGeometryCoordinates_(l,u)}this.createOrUpdateVertexFeature_(e,n,i)}handleDownEvent(t){if(!this.condition_(t))return!1;const e=t.coordinate;this.handlePointerAtPixel_(t.pixel,t.map,e),this.dragSegments_.length=0,this.featuresBeingModified_=null;const n=this.vertexFeature_;if(n){const i=t.map.getView().getProjection(),r=[],o=n.getGeometry().getCoordinates(),s=(0,a.Tr)([o]),l=this.rBush_.getInExtent(s),c={};l.sort(Ve);for(let n=0,a=l.length;n<a;++n){const s=l[n],a=s.segment;let u=(0,m.v6)(s.geometry);const h=s.depth;if(h&&(u+="-"+h.join("-")),c[u]||(c[u]=new Array(2)),"Circle"!==s.geometry.getType()||s.index!==Fe)if(!(0,Oe.aI)(a[0],o)||c[u][0])if(!(0,Oe.aI)(a[1],o)||c[u][1])(0,m.v6)(a)in this.vertexSegments_&&!c[u][0]&&!c[u][1]&&this.insertVertexCondition_(t)&&r.push(s);else{if(c[u][0]&&0===c[u][0].index){let t=s.geometry.getCoordinates();switch(s.geometry.getType()){case"LineString":case"MultiLineString":continue;case"MultiPolygon":t=t[h[1]];case"Polygon":if(s.index!==t[h[0]].length-2)continue;break;default:}}this.dragSegments_.push([s,1]),c[u][1]=s}else this.dragSegments_.push([s,0]),c[u][0]=s;else{const t=He(e,s,i);(0,Oe.aI)(t,o)&&!c[u][0]&&(this.dragSegments_.push([s,0]),c[u][0]=s)}}r.length&&this.willModifyFeatures_(t,[r]);for(let t=r.length-1;t>=0;--t)this.insertVertex_(r[t],o)}return!!this.vertexFeature_}handleUpEvent(t){for(let e=this.dragSegments_.length-1;e>=0;--e){const n=this.dragSegments_[e][0],i=n.geometry;if("Circle"===i.getType()){const e=i.getCenter(),r=n.featureSegments[0],o=n.featureSegments[1];r.segment[0]=e,r.segment[1]=e,o.segment[0]=e,o.segment[1]=e,this.rBush_.update((0,a.dP)(e),r);let s=i;const l=(0,Z.Tf)();if(l){const e=t.map.getView().getProjection();s=s.clone().transform(l,e),s=(0,De.nD)(s).transform(e,l)}this.rBush_.update(s.getExtent(),o)}else this.rBush_.update((0,a.Tr)(n.segment),n)}return this.featuresBeingModified_&&(this.dispatchEvent(new ze(je.MODIFYEND,this.featuresBeingModified_,t)),this.featuresBeingModified_=null),!1}handlePointerMove_(t){this.lastPixel_=t.pixel,this.handlePointerAtPixel_(t.pixel,t.map,t.coordinate)}handlePointerAtPixel_(t,e,n){const i=n||e.getCoordinateFromPixel(t),r=e.getView().getProjection(),o=function(t,e){return Ye(i,t,r)-Ye(i,e,r)};let s,l;if(this.hitDetection_){const n="object"===typeof this.hitDetection_?t=>t===this.hitDetection_:void 0;e.forEachFeatureAtPixel(t,((t,e,n)=>{n&&"Point"===n.getType()&&(n=new Te.A((0,Z.te)(n.getCoordinates(),r)));const i=n||t.getGeometry();if(t instanceof ye.A&&this.features_.getArray().includes(t)){l=i;const e=t.getGeometry().getFlatCoordinates().slice(0,2);s=[{feature:t,geometry:l,segment:[e,e]}]}return!0}),{layerFilter:n})}if(!s){const t=(0,Z.SD)((0,a.dP)(i,Ue),r),n=e.getView().getResolution()*this.pixelTolerance_,o=(0,Z.JR)((0,a.r)(t,n,Ue),r);s=this.rBush_.getInExtent(o)}if(s&&s.length>0){const n=s.sort(o)[0],a=n.segment;let c=He(i,n,r);const u=e.getPixelFromCoordinate(c);let h=(0,Oe.Io)(t,u);if(l||h<=this.pixelTolerance_){const t={};if(t[(0,m.v6)(a)]=!0,this.snapToPointer_||(this.delta_[0]=c[0]-i[0],this.delta_[1]=c[1]-i[1]),"Circle"===n.geometry.getType()&&n.index===Fe)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(c,[n.feature],[n.geometry]);else{const i=e.getPixelFromCoordinate(a[0]),r=e.getPixelFromCoordinate(a[1]),o=(0,Oe.hG)(u,i),l=(0,Oe.hG)(u,r);h=Math.sqrt(Math.min(o,l)),this.snappedToVertex_=h<=this.pixelTolerance_,this.snappedToVertex_&&(c=o>l?a[1]:a[0]),this.createOrUpdateVertexFeature_(c,[n.feature],[n.geometry]);const d={};d[(0,m.v6)(n.geometry)]=!0;for(let e=1,n=s.length;e<n;++e){const n=s[e].segment;if(!((0,Oe.aI)(a[0],n[0])&&(0,Oe.aI)(a[1],n[1])||(0,Oe.aI)(a[0],n[1])&&(0,Oe.aI)(a[1],n[0])))break;{const i=(0,m.v6)(s[e].geometry);i in d||(d[i]=!0,t[(0,m.v6)(n)]=!0)}}}return void(this.vertexSegments_=t)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)}insertVertex_(t,e){const n=t.segment,i=t.feature,r=t.geometry,o=t.depth,s=t.index;let l;while(e.length<r.getStride())e.push(0);switch(r.getType()){case"MultiLineString":l=r.getCoordinates(),l[o[0]].splice(s+1,0,e);break;case"Polygon":l=r.getCoordinates(),l[o[0]].splice(s+1,0,e);break;case"MultiPolygon":l=r.getCoordinates(),l[o[1]][o[0]].splice(s+1,0,e);break;case"LineString":l=r.getCoordinates(),l.splice(s+1,0,e);break;default:return}this.setGeometryCoordinates_(r,l);const c=this.rBush_;c.remove(t),this.updateSegmentIndices_(r,s,o,1);const u={segment:[n[0],e],feature:i,geometry:r,depth:o,index:s};c.insert((0,a.Tr)(u.segment),u),this.dragSegments_.push([u,1]);const h={segment:[e,n[1]],feature:i,geometry:r,depth:o,index:s+1};c.insert((0,a.Tr)(h.segment),h),this.dragSegments_.push([h,0]),this.ignoreNextSingleClick_=!0}removePoint(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=Re.A.POINTERDRAG){const t=this.lastPointerEvent_;this.willModifyFeatures_(t,this.dragSegments_);const e=this.removeVertex_();return this.featuresBeingModified_&&this.dispatchEvent(new ze(je.MODIFYEND,this.featuresBeingModified_,t)),this.featuresBeingModified_=null,e}return!1}removeVertex_(){const t=this.dragSegments_,e={};let n,i,r,o,s,l,c,u,h,d,p,g=!1;for(s=t.length-1;s>=0;--s)r=t[s],d=r[0],p=(0,m.v6)(d.feature),d.depth&&(p+="-"+d.depth.join("-")),p in e||(e[p]={}),0===r[1]?(e[p].right=d,e[p].index=d.index):1==r[1]&&(e[p].left=d,e[p].index=d.index+1);for(p in e){switch(h=e[p].right,c=e[p].left,l=e[p].index,u=l-1,d=void 0!==c?c:h,u<0&&(u=0),o=d.geometry,i=o.getCoordinates(),n=i,g=!1,o.getType()){case"MultiLineString":i[d.depth[0]].length>2&&(i[d.depth[0]].splice(l,1),g=!0);break;case"LineString":i.length>2&&(i.splice(l,1),g=!0);break;case"MultiPolygon":n=n[d.depth[1]];case"Polygon":n=n[d.depth[0]],n.length>4&&(l==n.length-1&&(l=0),n.splice(l,1),g=!0,0===l&&(n.pop(),n.push(n[0]),u=n.length-1));break;default:}if(g){this.setGeometryCoordinates_(o,i);const e=[];if(void 0!==c&&(this.rBush_.remove(c),e.push(c.segment[0])),void 0!==h&&(this.rBush_.remove(h),e.push(h.segment[1])),void 0!==c&&void 0!==h){const t={depth:d.depth,feature:d.feature,geometry:d.geometry,index:u,segment:e};this.rBush_.insert((0,a.Tr)(t.segment),t)}this.updateSegmentIndices_(o,l,d.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.length=0}}return g}setGeometryCoordinates_(t,e){this.changingFeature_=!0,t.setCoordinates(e),this.changingFeature_=!1}updateSegmentIndices_(t,e,n,i){this.rBush_.forEachInExtent(t.getExtent(),(function(r){r.geometry===t&&(void 0===n||void 0===r.depth||(0,B.aI)(r.depth,n))&&r.index>e&&(r.index+=i)}))}}function Ve(t,e){return t.index-e.index}function Ye(t,e,n){const i=e.geometry;if("Circle"===i.getType()){let r=i;if(e.index===Fe){const e=(0,Z.Tf)();e&&(r=r.clone().transform(e,n));const i=(0,Oe.hG)(r.getCenter(),(0,Z.Ad)(t,n)),o=Math.sqrt(i)-r.getRadius();return o*o}}const r=(0,Z.Ad)(t,n);return Be[0]=(0,Z.Ad)(e.segment[0],n),Be[1]=(0,Z.Ad)(e.segment[1],n),(0,Oe.$x)(r,Be)}function He(t,e,n){const i=e.geometry;if("Circle"===i.getType()&&e.index===Fe){let e=i;const r=(0,Z.Tf)();return r&&(e=e.clone().transform(r,n)),(0,Z.te)(e.getClosestPoint((0,Z.Ad)(t,n)),n)}const r=(0,Z.Ad)(t,n);return Be[0]=(0,Z.Ad)(e.segment[0],n),Be[1]=(0,Z.Ad)(e.segment[1],n),(0,Z.te)((0,Oe.sG)(r,Be),n)}function qe(){const t=(0,Ie.mY)();return function(e,n){return t["Point"]}}var Xe=We,Ze=n(3665),Ke=n(6320),Je=n(3371);class Qe extends Ze.Ay{constructor(t,e,n){super(),void 0!==n&&void 0===e?this.setFlatCoordinates(n,t):(e=e||0,this.setCenterAndRadius(t,e,n))}clone(){const t=new Qe(this.flatCoordinates.slice(),void 0,this.layout);return t.applyProperties(this),t}closestPointXY(t,e,n,i){const r=this.flatCoordinates,o=t-r[0],s=e-r[1],a=o*o+s*s;if(a<i){if(0===a)for(let t=0;t<this.stride;++t)n[t]=r[t];else{const t=this.getRadius()/Math.sqrt(a);n[0]=r[0]+t*o,n[1]=r[1]+t*s;for(let e=2;e<this.stride;++e)n[e]=r[e]}return n.length=this.stride,a}return i}containsXY(t,e){const n=this.flatCoordinates,i=t-n[0],r=e-n[1];return i*i+r*r<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(t){const e=this.flatCoordinates,n=e[this.stride]-e[0];return(0,a.N)(e[0]-n,e[1]-n,e[0]+n,e[1]+n,t)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){const t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e}getType(){return"Circle"}intersectsExtent(t){const e=this.getExtent();if((0,a.HY)(t,e)){const e=this.getCenter();return t[0]<=e[0]&&t[2]>=e[0]||(t[1]<=e[1]&&t[3]>=e[1]||(0,a.sB)(t,this.intersectsCoordinate.bind(this)))}return!1}setCenter(t){const e=this.stride,n=this.flatCoordinates[e]-this.flatCoordinates[0],i=t.slice();i[e]=i[0]+n;for(let r=1;r<e;++r)i[e+r]=t[r];this.setFlatCoordinates(this.layout,i),this.changed()}setCenterAndRadius(t,e,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]);const i=this.flatCoordinates;let r=(0,Ke._n)(i,0,t,this.stride);i[r++]=i[0]+e;for(let o=1,s=this.stride;o<s;++o)i[r++]=i[o];i.length=r,this.changed()}getCoordinates(){return null}setCoordinates(t,e){}setRadius(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()}rotate(t,e){const n=this.getCenter(),i=this.getStride();this.setCenter((0,Je.e$)(n,0,n.length,i,t,e,n)),this.changed()}}Qe.prototype.transform;var $e=Qe,tn=n(7739),en=n(776),nn=n(3496),rn=n(9020),on=n(8957),sn=n(5522),an=n(5258);const ln={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"};class cn extends q.Ay{constructor(t,e){super(t),this.feature=e}}function un(t,e){const n=[];for(let i=0;i<e.length;++i){const r=e[i],o=r.getGeometry();gn(t,o,n)}return n}function hn(t,e){return(0,F.hG)(t[0],t[1],e[0],e[1])}function dn(t,e){const n=t.length;return e<0?t[e+n]:e>=n?t[e-n]:t[e]}function pn(t,e,n){let i,r;e<n?(i=e,r=n):(i=n,r=e);const o=Math.ceil(i),s=Math.floor(r);if(o>s){const e=_n(t,i),n=_n(t,r);return hn(e,n)}let a=0;if(i<o){const e=_n(t,i),n=dn(t,o);a+=hn(e,n)}if(s<r){const e=dn(t,s),n=_n(t,r);a+=hn(e,n)}for(let l=o;l<s-1;++l){const e=dn(t,l),n=dn(t,l+1);a+=hn(e,n)}return a}function gn(t,e,n){if(e instanceof nn.A)An(t,e.getCoordinates(),!1,n);else if(e instanceof on.A){const i=e.getCoordinates();for(let e=0,r=i.length;e<r;++e)An(t,i[e],!1,n)}else if(e instanceof De.Ay){const i=e.getCoordinates();for(let e=0,r=i.length;e<r;++e)An(t,i[e],!0,n)}else if(e instanceof an.A){const i=e.getCoordinates();for(let e=0,r=i.length;e<r;++e){const r=i[e];for(let e=0,i=r.length;e<i;++e)An(t,r[e],!0,n)}}else if(e instanceof tn.A){const i=e.getGeometries();for(let e=0;e<i.length;++e)gn(t,i[e],n)}else;}const fn={index:-1,endIndex:NaN};function mn(t,e,n,i){const r=t[0],o=t[1];let s=1/0,a=-1,l=NaN;for(let h=0;h<e.targets.length;++h){const t=e.targets[h],n=t.coordinates;let i,c=1/0;for(let e=0;e<n.length-1;++e){const t=n[e],s=n[e+1],a=vn(r,o,t,s);a.squaredDistance<c&&(c=a.squaredDistance,i=e+a.along)}c<s&&(s=c,t.ring&&e.targetIndex===h&&(t.endIndex>t.startIndex?i<t.startIndex&&(i+=n.length):t.endIndex<t.startIndex&&i>t.startIndex&&(i-=n.length)),l=i,a=h)}const c=e.targets[a];let u=c.ring;if(e.targetIndex===a&&u){const t=_n(c.coordinates,l),r=n.getPixelFromCoordinate(t);(0,Oe.Io)(r,e.startPx)>i&&(u=!1)}if(u){const t=c.coordinates,e=t.length,n=c.startIndex,i=l;if(n<i){const r=pn(t,n,i),o=pn(t,n,i-e);o<r&&(l-=e)}else{const r=pn(t,n,i),o=pn(t,n,i+e);o<r&&(l+=e)}}return fn.index=a,fn.endIndex=l,fn}function An(t,e,n,i){const r=t[0],o=t[1];for(let s=0,a=e.length-1;s<a;++s){const t=e[s],a=e[s+1],l=vn(r,o,t,a);if(0===l.squaredDistance){const t=s+l.along;return void i.push({coordinates:e,ring:n,startIndex:t,endIndex:t})}}}const yn={along:0,squaredDistance:0};function vn(t,e,n,i){const r=n[0],o=n[1],s=i[0],a=i[1],l=s-r,c=a-o;let u=0,h=r,d=o;return 0===l&&0===c||(u=(0,F.qE)(((t-r)*l+(e-o)*c)/(l*l+c*c),0,1),h+=l*u,d+=c*u),yn.along=u,yn.squaredDistance=(0,F.Mg)((0,F.hG)(t,e,h,d),10),yn}function _n(t,e){const n=t.length;let i=Math.floor(e);const r=e-i;i>=n?i-=n:i<0&&(i+=n);let o=i+1;o>=n&&(o-=n);const s=t[i],a=s[0],l=s[1],c=t[o],u=c[0]-a,h=c[1]-l;return[a+u*r,l+h*r]}class Cn extends Ge.A{constructor(t){const e=t;e.stopDown||(e.stopDown=Ce.W8),super(e),this.on,this.once,this.un,this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.pointerType_,this.freehand_=!1,this.source_=t.source?t.source:null,this.features_=t.features?t.features:null,this.snapTolerance_=t.snapTolerance?t.snapTolerance:12,this.type_=t.type,this.mode_=En(this.type_),this.stopClick_=!!t.stopClick,this.minPoints_=t.minPoints?t.minPoints:"Polygon"===this.mode_?3:2,this.maxPoints_="Circle"===this.mode_?2:t.maxPoints?t.maxPoints:1/0,this.finishCondition_=t.finishCondition?t.finishCondition:Ce.rT,this.geometryLayout_=t.geometryLayout?t.geometryLayout:"XY";let n=t.geometryFunction;if(!n){const t=this.mode_;if("Circle"===t)n=function(t,e,n){const i=e||new $e([NaN,NaN]),r=(0,Z.Ad)(t[0],n),o=(0,Oe.hG)(r,(0,Z.Ad)(t[t.length-1],n));i.setCenterAndRadius(r,Math.sqrt(o),this.geometryLayout_);const s=(0,Z.Tf)();return s&&i.transform(n,s),i};else{let e;"Point"===t?e=Te.A:"LineString"===t?e=nn.A:"Polygon"===t&&(e=De.Ay),n=function(n,i,r){return i?"Polygon"===t?n[0].length?i.setCoordinates([n[0].concat([n[0][0]])],this.geometryLayout_):i.setCoordinates([],this.geometryLayout_):i.setCoordinates(n,this.geometryLayout_):i=new e(n,this.geometryLayout_),i}}}this.geometryFunction_=n,this.dragVertexDelay_=void 0!==t.dragVertexDelay?t.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,this.overlay_=new _e.A({source:new _t.A({useSpatialIndex:!1,wrapX:!!t.wrapX&&t.wrapX}),style:t.style?t.style:In(),updateWhileInteracting:!0}),this.geometryName_=t.geometryName,this.condition_=t.condition?t.condition:Ee.TS,this.freehandCondition_,t.freehand?this.freehandCondition_=Ee.Gk:this.freehandCondition_=t.freehandCondition?t.freehandCondition:Ee.Kg,this.traceCondition_,this.setTrace(t.trace||!1),this.traceState_={active:!1},this.traceSource_=t.traceSource||t.source||null,this.addChangeListener(en.A.ACTIVE,this.updateState_)}setTrace(t){let e;e=t?!0===t?Ee.Gk:t:Ee.Zm,this.traceCondition_=e}setMap(t){super.setMap(t),this.updateState_()}getOverlay(){return this.overlay_}handleEvent(t){t.originalEvent.type===p.A.CONTEXTMENU&&t.originalEvent.preventDefault(),this.freehand_="Point"!==this.mode_&&this.freehandCondition_(t);let e=t.type===Re.A.POINTERMOVE,n=!0;if(!this.freehand_&&this.lastDragTime_&&t.type===Re.A.POINTERDRAG){const n=Date.now();n-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=t.pixel,this.shouldHandle_=!this.freehand_,e=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)}return this.freehand_&&t.type===Re.A.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(t.coordinate),n=!1):this.freehand_&&t.type===Re.A.POINTERDOWN?n=!1:e&&this.getPointerCount()<2?(n=t.type===Re.A.POINTERMOVE,n&&this.freehand_?(this.handlePointerMove_(t),this.shouldHandle_&&t.originalEvent.preventDefault()):("mouse"===t.originalEvent.pointerType||t.type===Re.A.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(t)):t.type===Re.A.DBLCLICK&&(n=!1),super.handleEvent(t)&&n}handleDownEvent(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t.coordinate),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout((()=>{this.handlePointerMove_(new rn.A(Re.A.POINTERMOVE,t.map,t.originalEvent,!1,t.frameState))}),this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)}deactivateTrace_(){this.traceState_={active:!1}}toggleTraceState_(t){if(!this.traceSource_||!this.traceCondition_(t))return;if(this.traceState_.active)return void this.deactivateTrace_();const e=this.getMap(),n=e.getCoordinateFromPixel([t.pixel[0]-this.snapTolerance_,t.pixel[1]+this.snapTolerance_]),i=e.getCoordinateFromPixel([t.pixel[0]+this.snapTolerance_,t.pixel[1]-this.snapTolerance_]),r=(0,a.Tr)([n,i]),o=this.traceSource_.getFeaturesInExtent(r);if(0===o.length)return;const s=un(t.coordinate,o);s.length&&(this.traceState_={active:!0,startPx:t.pixel.slice(),targets:s,targetIndex:-1})}addOrRemoveTracedCoordinates_(t,e){const n=t.startIndex<=t.endIndex,i=t.startIndex<=e;n===i?n&&e>t.endIndex||!n&&e<t.endIndex?this.addTracedCoordinates_(t,t.endIndex,e):(n&&e<t.endIndex||!n&&e>t.endIndex)&&this.removeTracedCoordinates_(e,t.endIndex):(this.removeTracedCoordinates_(t.startIndex,t.endIndex),this.addTracedCoordinates_(t,t.startIndex,e))}removeTracedCoordinates_(t,e){if(t===e)return;let n=0;if(t<e){const i=Math.ceil(t);let r=Math.floor(e);r===e&&(r-=1),n=r-i+1}else{const i=Math.floor(t);let r=Math.ceil(e);r===e&&(r+=1),n=i-r+1}n>0&&this.removeLastPoints_(n)}addTracedCoordinates_(t,e,n){if(e===n)return;const i=[];if(e<n){const r=Math.ceil(e);let o=Math.floor(n);o===n&&(o-=1);for(let e=r;e<=o;++e)i.push(dn(t.coordinates,e))}else{const r=Math.floor(e);let o=Math.ceil(n);o===n&&(o+=1);for(let e=r;e>=o;--e)i.push(dn(t.coordinates,e))}i.length&&this.appendCoordinates(i)}updateTrace_(t){const e=this.traceState_;if(!e.active)return;if(-1===e.targetIndex&&(0,Oe.Io)(e.startPx,t.pixel)<this.snapTolerance_)return;const n=mn(t.coordinate,e,this.getMap(),this.snapTolerance_);if(e.targetIndex!==n.index){if(-1!==e.targetIndex){const t=e.targets[e.targetIndex];this.removeTracedCoordinates_(t.startIndex,t.endIndex)}const t=e.targets[n.index];this.addTracedCoordinates_(t,t.startIndex,n.endIndex)}else{const t=e.targets[e.targetIndex];this.addOrRemoveTracedCoordinates_(t,n.endIndex)}e.targetIndex=n.index;const i=e.targets[e.targetIndex];i.endIndex=n.endIndex;const r=_n(i.coordinates,i.endIndex),o=this.getMap().getPixelFromCoordinate(r);t.coordinate=r,t.pixel=[Math.round(o[0]),Math.round(o[1])]}handleUpEvent(t){let e=!0;if(0===this.getPointerCount()){this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t);const n=this.traceState_.active;if(this.toggleTraceState_(t),this.shouldHandle_){const i=!this.finishCoordinate_;i&&this.startDrawing_(t.coordinate),!i&&this.freehand_?this.finishDrawing():this.freehand_||i&&"Point"!==this.mode_||(this.atFinish_(t.pixel,n)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t.coordinate)),e=!1}else this.freehand_&&this.abortDrawing()}return!e&&this.stopClick_&&t.preventDefault(),e}handlePointerMove_(t){if(this.pointerType_=t.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){const e=this.downPx_,n=t.pixel,i=e[0]-n[0],r=e[1]-n[1],o=i*i+r*r;if(this.shouldHandle_=this.freehand_?o>this.squaredClickTolerance_:o<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?(this.updateTrace_(t),this.modifyDrawing_(t.coordinate)):this.createOrUpdateSketchPoint_(t.coordinate.slice())}atFinish_(t,e){let n=!1;if(this.sketchFeature_){let i=!1,r=[this.finishCoordinate_];const o=this.mode_;if("Point"===o)n=!0;else if("Circle"===o)n=2===this.sketchCoords_.length;else if("LineString"===o)i=!e&&this.sketchCoords_.length>this.minPoints_;else if("Polygon"===o){const t=this.sketchCoords_;i=t[0].length>this.minPoints_,r=[t[0][0],t[0][t[0].length-2]],r=e?[t[0][0]]:[t[0][0],t[0][t[0].length-2]]}if(i){const e=this.getMap();for(let i=0,o=r.length;i<o;i++){const o=r[i],s=e.getPixelFromCoordinate(o),a=t[0]-s[0],l=t[1]-s[1],c=this.freehand_?1:this.snapTolerance_;if(n=Math.sqrt(a*a+l*l)<=c,n){this.finishCoordinate_=o;break}}}}return n}createOrUpdateSketchPoint_(t){if(this.sketchPoint_){const e=this.sketchPoint_.getGeometry();e.setCoordinates(t)}else this.sketchPoint_=new ye.A(new Te.A(t)),this.updateSketchFeatures_()}createOrUpdateCustomSketchLine_(t){this.sketchLine_||(this.sketchLine_=new ye.A);const e=t.getLinearRing(0);let n=this.sketchLine_.getGeometry();n?(n.setFlatCoordinates(e.getLayout(),e.getFlatCoordinates()),n.changed()):(n=new nn.A(e.getFlatCoordinates(),e.getLayout()),this.sketchLine_.setGeometry(n))}startDrawing_(t){const e=this.getMap().getView().getProjection(),n=(0,Ze.dn)(this.geometryLayout_);while(t.length<n)t.push(0);this.finishCoordinate_=t,"Point"===this.mode_?this.sketchCoords_=t.slice():"Polygon"===this.mode_?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new ye.A(new nn.A(this.sketchLineCoords_)));const i=this.geometryFunction_(this.sketchCoords_,void 0,e);this.sketchFeature_=new ye.A,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(i),this.updateSketchFeatures_(),this.dispatchEvent(new cn(ln.DRAWSTART,this.sketchFeature_))}modifyDrawing_(t){const e=this.getMap(),n=this.sketchFeature_.getGeometry(),i=e.getView().getProjection(),r=(0,Ze.dn)(this.geometryLayout_);let o,s;while(t.length<r)t.push(0);if("Point"===this.mode_?s=this.sketchCoords_:"Polygon"===this.mode_?(o=this.sketchCoords_[0],s=o[o.length-1],this.atFinish_(e.getPixelFromCoordinate(t))&&(t=this.finishCoordinate_.slice())):(o=this.sketchCoords_,s=o[o.length-1]),s[0]=t[0],s[1]=t[1],this.geometryFunction_(this.sketchCoords_,n,i),this.sketchPoint_){const e=this.sketchPoint_.getGeometry();e.setCoordinates(t)}if("Polygon"===n.getType()&&"Polygon"!==this.mode_)this.createOrUpdateCustomSketchLine_(n);else if(this.sketchLineCoords_){const t=this.sketchLine_.getGeometry();t.setCoordinates(this.sketchLineCoords_)}this.updateSketchFeatures_()}addToDrawing_(t){const e=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection();let i,r;const o=this.mode_;"LineString"===o||"Circle"===o?(this.finishCoordinate_=t.slice(),r=this.sketchCoords_,r.length>=this.maxPoints_&&(this.freehand_?r.pop():i=!0),r.push(t.slice()),this.geometryFunction_(r,e,n)):"Polygon"===o&&(r=this.sketchCoords_[0],r.length>=this.maxPoints_&&(this.freehand_?r.pop():i=!0),r.push(t.slice()),i&&(this.finishCoordinate_=r[0]),this.geometryFunction_(this.sketchCoords_,e,n)),this.createOrUpdateSketchPoint_(t.slice()),this.updateSketchFeatures_(),i&&this.finishDrawing()}removeLastPoints_(t){if(!this.sketchFeature_)return;const e=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection(),i=this.mode_;for(let r=0;r<t;++r){let t;if("LineString"===i||"Circle"===i){if(t=this.sketchCoords_,t.splice(-2,1),t.length>=2){this.finishCoordinate_=t[t.length-2].slice();const e=this.finishCoordinate_.slice();t[t.length-1]=e,this.createOrUpdateSketchPoint_(e)}this.geometryFunction_(t,e,n),"Polygon"===e.getType()&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(e)}else if("Polygon"===i){t=this.sketchCoords_[0],t.splice(-2,1);const i=this.sketchLine_.getGeometry();if(t.length>=2){const e=t[t.length-2].slice();t[t.length-1]=e,this.createOrUpdateSketchPoint_(e)}i.setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e,n)}if(1===t.length){this.abortDrawing();break}}this.updateSketchFeatures_()}removeLastPoint(){this.removeLastPoints_(1)}finishDrawing(){const t=this.abortDrawing_();if(!t)return;let e=this.sketchCoords_;const n=t.getGeometry(),i=this.getMap().getView().getProjection();"LineString"===this.mode_?(e.pop(),this.geometryFunction_(e,n,i)):"Polygon"===this.mode_&&(e[0].pop(),this.geometryFunction_(e,n,i),e=n.getCoordinates()),"MultiPoint"===this.type_?t.setGeometry(new sn.A([e])):"MultiLineString"===this.type_?t.setGeometry(new on.A([e])):"MultiPolygon"===this.type_&&t.setGeometry(new an.A([e])),this.dispatchEvent(new cn(ln.DRAWEND,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}abortDrawing_(){this.finishCoordinate_=null;const t=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),this.deactivateTrace_(),t}abortDrawing(){const t=this.abortDrawing_();t&&this.dispatchEvent(new cn(ln.DRAWABORT,t))}appendCoordinates(t){const e=this.mode_,n=!this.sketchFeature_;let i;if(n&&this.startDrawing_(t[0]),"LineString"===e||"Circle"===e)i=this.sketchCoords_;else{if("Polygon"!==e)return;i=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[]}n&&i.shift(),i.pop();for(let o=0;o<t.length;o++)this.addToDrawing_(t[o]);const r=t[t.length-1];this.addToDrawing_(r),this.modifyDrawing_(r)}extend(t){const e=t.getGeometry(),n=e;this.sketchFeature_=t,this.sketchCoords_=n.getCoordinates();const i=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=i.slice(),this.sketchCoords_.push(i.slice()),this.sketchPoint_=new ye.A(new Te.A(i)),this.updateSketchFeatures_(),this.dispatchEvent(new cn(ln.DRAWSTART,this.sketchFeature_))}updateSketchFeatures_(){const t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);const e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)}updateState_(){const t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing(),this.overlay_.setMap(e?t:null)}}function In(){const t=(0,Ie.mY)();return function(e,n){return t[e.getGeometry().getType()]}}function En(t){switch(t){case"Point":case"MultiPoint":return"Point";case"LineString":case"MultiLineString":return"LineString";case"Polygon":case"MultiPolygon":return"Polygon";case"Circle":return"Circle";default:throw new Error("Invalid type: "+t)}}var wn=Cn,bn=n(9043),xn=n(3065),Sn={getLogger:function(t){!{NODE_ENV:"production",BASE_URL:"/geoportal-extensions-openlayers-samples/"}.VERBOSE?xn.disableAll():xn.enableAll();var e=t||"default";return xn.getLogger(e)},disableAll:function(){var t=xn.getLoggers();for(const e in t)if(Object.hasOwnProperty.call(t,e)){const n=t[e];n.disableAll()}},enableAll:function(){var t=xn.getLoggers();for(const e in t)if(Object.hasOwnProperty.call(t,e)){const n=t[e];n.enableAll()}}},Pn=Sn,Mn={proxifyUrl:function(t,e){var n=Pn.getLogger("proxifyUrl");if(!e||!e.hasOwnProperty("proxyUrl")||null===e.proxyUrl||0===e.proxyUrl.trim().length)return t;if(e.noProxyDomains&&Array.isArray(e.noProxyDomains)&&e.noProxyDomains.length>0)for(var i in e.noProxyDomains)if(n.trace("[ProxyUtils] proxifyUrl : analyzing "+e.noProxyDomains[i]),-1!==t.indexOf(e.noProxyDomains[i]))return n.info("[ProxyUtils] proxifyUrl : "+t+" found in noProxyDomains list ("+e.noProxyDomains[i]+")."),t;return e.proxyUrl+encodeURIComponent(t)}},Rn=Mn,Tn=Pn.getLogger("GfiUtils"),Gn={getLayerFormat:function(t){var e="function"===typeof t.getType?t.getType():null,n=t.getSource();if(e){if("VECTOR"===e||"VECTOR_TILE"===e)return"vector";if("TILE"===e)return n.tileGrid?"wmts":"wms";if("IMAGE"===e)return"wms"}else{if(n instanceof he||n instanceof fe)return"wms";if(n instanceof pe)return"wmts";if(n instanceof _t.A||n instanceof yt)return"vector"}return"unknown"},displayInfo:function(t,e,n,i,r){if(Tn.trace("[Gfi] : displayInfo..."),i||(i="text/html"),null!==n){var o=null,s=null,a=n;a=a.replace(/\n/g,""),a=a.replace(/(>)\s*(<)/g,"$1$2");var l="undefined"!==typeof window?window:null;if("object"===typeof exports&&null===window){var c=require("xmldom").DOMParser;s=new c,o=s.parseFromString(a,i)}else if(l.DOMParser)s=new l.DOMParser,o=s.parseFromString(a,i);else{if(!l.ActiveXObject)return Tn.log("Incompatible environment for DOM Parser !"),!1;o=new l.ActiveXObject("Microsoft.XMLDOM"),o.async=!1,o.loadXML(a)}var u=o.getElementsByTagName("body");if(u&&1===u.length&&!u[0].hasChildNodes())return!1;var h=document.createElement("div");h.className="gp-feature-info-div";var p=document.createElement("input");p.type="button",p.className="gp-styling-button closer",p.onclick=function(){return t.featuresOverlay&&(t.removeOverlay(t.featuresOverlay),t.featuresOverlay=null),!1};var g=document.createElement("div");return g.className="gp-features-content-div",g.innerHTML=n,h.appendChild(g),h.appendChild(p),t.featuresOverlay&&(t.removeOverlay(t.featuresOverlay),t.featuresOverlay=null),t.featuresOverlay=new d({element:h,autoPan:r.autoPan,autoPanAnimation:r.autoPanAnimation,autoPanMargin:r.autoPanMargin,positioning:"bottom-center",insertFirst:!1,stopEvent:!0}),t.addOverlay(t.featuresOverlay),t.featuresOverlay.setPosition(e),t.featuresOverlay.render(),!0}},features2html:function(t,e){var n=document.createElement("div");return e.forEach((function(t){var e=t.getProperties();if(e.hasOwnProperty("render"))n.insertAdjacentHTML("beforeend",e["render"]);else{if(e.hasOwnProperty("name")){var i=document.createElement("div");i.className="gp-att-name-div",i.insertAdjacentHTML("afterbegin",e["name"]),n.appendChild(i)}if(e.hasOwnProperty("description")){var r=document.createElement("div");r.className="gp-att-description-div",r.insertAdjacentHTML("afterbegin",e["description"]),n.appendChild(r)}var o=null,s=!1,a=null,l=null,c=null,u=["fill","fill-opacity","stroke","stroke-opacity","stroke-width","marker-symbol","marker-color","marker-size","geometry","value","name","description","styleUrl","extensionsNode_","icon"];for(o in e)if(void 0!==e[o]&&-1===u.indexOf(o)){s||(a=document.createElement("div"),a.className="gp-att-others-div",l=document.createElement("ul"),s=!0),c=document.createElement("li");var h=document.createElement("span");h.className="gp-attname-others-span",h.appendChild(document.createTextNode(o+" : ")),c.appendChild(h),c.appendChild(document.createTextNode(e[o])),l.appendChild(c)}l&&(a.appendChild(l),n.appendChild(a))}}),t),n.hasChildNodes()||(n=null),n},layerGetFeatureAtCoordinates:function(t,e,n){var i=t.getPixelFromCoordinate(n);return t.hasFeatureAtPixel(i,(function(t){return t===e}))},displayVectorFeatureInfo:function(t,e,n,i){var r=t.getPixelFromCoordinate(e),o=[];if(t.forEachFeatureAtPixel(r,(function(t,e){(!n||n.indexOf(e)>-1)&&o.push(t)})),0===o.length)return!1;var s=this.features2html(t,o);return null!==s&&(this.displayInfo(t,e,s.innerHTML,"text/html",i),!0)},displayFeatureInfo:function(t,e,n,i,r){for(var o={},s=0;s<n.length;s++){var a=n[s],l=a.obj.getZIndex();o[l]||(o[l]=[]),o[l].push(a)}var c=[],u=Object.keys(o);u.sort((function(t,e){return e-t}));for(var h=!1,d=0;d<u.length;d++)for(var p=u[d],g=0;g<o[p].length;++g){var f=o[p][g].obj,m=o[p][g].infoFormat||"text/html",A=!0;if(f.minResolution&&f.minResolution>t.getResolution()&&(A=!1),A&&f.maxResolution&&f.maxResolution<t.getResolution()&&(A=!1),f.getVisible()&&A){var y=this.getLayerFormat(f);if("vector"===y){!h&&this.layerGetFeatureAtCoordinates(t,f,e)&&c.push({format:y,scope:this,coordinate:e});continue}if("wms"!==y&&"wmts"!==y){Tn.log("[ERROR] DisplayFeatureInfo - layer format '"+y+"' not allowed");continue}var v=t.getView().getResolution(),_=null;_="wmts"===y?f.getSource().getFeatureInfoUrl.call(f.getSource(),e,v,t.getView().getProjection(),{INFOFORMAT:m}):f.getSource().getFeatureInfoUrl.call(f.getSource(),e,v,t.getView().getProjection(),{INFO_FORMAT:m}),c.push({format:m,url:Rn.proxifyUrl(_,i),scope:this,coordinate:e})}}var C=null;function I(t,e,n){if(0!==t.length){var i=0;e(t[0],r)}function r(o){i++,o||i===t.length?n():e(t[i],r)}}var E=this;I(c,(function(e,n){if("vector"===e.format){if(!C){C=[];for(var i=0;i<u.length;i++)for(var s=u[i],a=0;a<o[s].length;++a)C.push(o[s][a].obj)}n(e.scope.displayVectorFeatureInfo(t,e.coordinate,C,r))}else bn.Ay.Protocols.XHR.call({url:e.url,method:"GET",scope:e.scope,onResponse:function(i){var o=!1;0!==i.trim().length&&-1===i.indexOf("ServiceExceptionReport")&&-1===i.indexOf("java.lang.NullPointerException")&&-1===i.indexOf("java.lang.OutOfMemoryError")&&-1===i.indexOf("not queryable")||(o=!0);var s=!o&&E.displayInfo(t,e.coordinate,i,"text/html",r);n(s)},onFailure:function(t){Tn.log(t),n(!1)}})}),(function(){Tn.trace("Finish sync to GFI !")}))},getPosition:function(t,e){if(t.coordinate)return t.coordinate;var n=[0,0];if(t.offsetX||t.offsetY)n[0]=t.offsetX,n[1]=t.offsetY;else if("touch"===t.pointerType){var i=t.pointers[0];n[0]=i.pageX,n[1]=i.pageY}var r=e.getCoordinateFromPixel(n);return r},onDisplayFeatureInfo:function(t,e){if(e.isActive()){Tn.trace(t);var n=e.getMap();if("contextmenu"===t.type||"dblclick"===t.type)t.preventDefault();else if("singleclick"===t.type)for(var i=n.getInteractions().getArray(),r=0;r<i.length;r++)if(i[r].getActive()&&(i[r]instanceof Me||i[r]instanceof Xe||i[r]instanceof wn))return;var o={};e._proxyUrl&&(o.proxyUrl=e._proxyUrl),e._noProxyDomains&&(o.noProxyDomains=e._noProxyDomains);var s={};e._autoPan&&(s.autoPan=e._autoPan),e._autoPanAnimation&&(s.autoPanAnimation=e._autoPanAnimation),e._autoPanMargin&&(s.autoPanMargin=e._autoPanMargin);for(var a=[],l=0;l<e._layers.length;++l){var c=e._layers[l].event?e._layers[l].event:e._defaultEvent;if(c===t.type){var u=a.push(e._layers[l])-1;a[u].infoFormat||(a[u].infoFormat=e._defaultInfoFormat)}}var h=this.getPosition(t,n);this.displayFeatureInfo(n,h,a,o,s)}}},Ln=Gn;window.ol&&(window.ol.gp?window.ol.gp.GfiUtils=Gn:window.ol.gp={GfiUtils:Gn});var kn=n(6993),On={detectSupport:function(){var t=!0,e=window.navigator.userAgent.toLowerCase();return-1===e.indexOf("iphone")&&-1===e.indexOf("ipod")&&-1===e.indexOf("ipad")&&-1===e.indexOf("android")&&-1===e.indexOf("mobile")&&-1===e.indexOf("blackberry")&&-1===e.indexOf("tablet")&&-1===e.indexOf("phone")&&-1===e.indexOf("touch")||(t=!1),-1===e.indexOf("msie")&&-1===e.indexOf("trident")||(t=!0),t},assign:function(t,e){for(var n in t=t||{},e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},mergeParams:function(t,e,n){if(t&&e)for(var i in"undefined"===typeof n&&(n=!0),e)e.hasOwnProperty(i)&&("object"===typeof e[i]?t.hasOwnProperty(i)?this.mergeParams(t[i],e[i],n):t[i]=e[i]:t.hasOwnProperty(i)?n&&(t[i]=e[i]):t[i]=e[i])}},Dn=On,Nn=Pn.getLogger("interactions"),Fn={_extensions:["Measures","ElevationPath","Drawing"],_options:{current:null,clean:null},unset:function(t,e){Nn.trace("unset()");var n={};Dn.mergeParams(n,this._options),Dn.mergeParams(n,e);for(var i=t.getInteractions().getArray(),r=0;r<i.length;r++)if(i[r].getActive()&&(i[r]instanceof wn||i[r]instanceof Me||i[r]instanceof Xe)){var o=i[r].getProperties(),s=o.name;if("undefined"!==typeof s&&this._extensions.indexOf(s)>-1){if(n.current&&n.current===s)continue;i[r].setActive(!1);var a=o.source;if("undefined"!==typeof a&&a instanceof kn.A)for(var l in n)if(n.hasOwnProperty(l)){if("current"===l)continue;if("function"===typeof a[l]){var c=Array.isArray(n[l])?n[l]:[n[l]];a[l].apply(a,c)}}}else i[r].setActive(!1)}}},Un=Fn,Bn={lightOrange:"data:image/png;base64,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IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOjkyYWVkNjM2LWY3MDMtNDAzOC1hNzM4LWZiYzYxYzZlMTljNCIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5NWMzZWI3NC0zYWRmLTRkYzUtOWZjZS1iODQ4NTc3Nzg4ODQiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0NjI3ZDg3NC1lZDIyLTRiZTUtYTlkNS00NDlmMzVhZDIxYzgiCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJMaW51eCIKICAgR0lNUDpUaW1lU3RhbXA9IjE2ODQ5NDE5Mjc4OTUzMDYiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4zMCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphM2U3ZWQ1MS0xNTI4LTRhYjAtODVjOS0zNzNkNzgxZGM2ZmMiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoTGludXgpIgogICAgICBzdEV2dDp3aGVuPSIyMDIzLTA1LTI0VDE3OjI1OjI3KzAyOjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PofUkY4AAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfnBRgPGRuA4VZTAAAFcElEQVRYw82YW2xbVRaGv7XP8bHjXByHQkNhWigdVX1AikRBMBoQ8wASl4fRqPDAAxIPKAVxeRqQRohHBEVCaoGKUBCl4qHcNKCZVKMRRQxtgTaACLRKqlwB14NzM2ni2D2XvXjgBFXQOnFiA1uy/HB89u9/7bX+vf4l1HnpK57hTNCE0AzqAS5gAAuEID5KiWSiLPf4tp7YUjcSu4yLZzdi2IJyNXANcBlwAdAKzAHTwDhwDKEPywC+GZWHbPi7IKOvZIWguAnlr8BtwJ+AxDJeDYCPgF6Ed0hkh+Weov5mZLTHJMDeBjwYk0itYJtKTOpZML3SbYNfnYz2SBr0buARYENcFytdFvga2AGyT7p14Vcjoz3ShOgdKDuAi+pUewpMIDyCypvSreWGk9HdroOEV2F4A1hfTxGJCX2D5U7U/UzuD6NaXq49NRJhBsOjwMVLEtE4gaL4W5cV3IsxPEoizDT0ZLTHcSH6M/BWLLlVwpQKuPzhb+i8sRkv04Y/e5rvPigxtnM9trKU2k0D28A5LN3RsmXbrbFOU8DtQLpqfJqu97nh6TydmzvwWpOI8VDbxqbrkmz62yk+/Ps6yoe8KkeV/hHHfgrMNyrNEkBX1SAktgRs3T7ApV1rSWayiEkDLmLSJDNZLu1ay9btAyS2BEsEuWuZ99WKyRhgHeCcn8wGw/qbOnAS3jmfOwmP9Td1kNhQDduJcUwjyciS0RJXMMkWkPPUo/z4XFxZRhZII8mEwFCsT+f5xXTE7FAOteduItVaZodyhNPVZDeKccJGkxmsChIMOvTt6aRSzIP+7A9rRKWYp29PJ8GgsyqcVauZSADaj+IDTecWvBlD4e01HKjM07XtOOuuy+A2X0BYmib/8SxfvLWRYm8LdqZaCvkI/SDBci6nld0ze7KCLa4F3gSurR4MB5x1FnMhiCeor9hJiPKmWpbGp3EU2IbJFuTe5XfStbczLxgP7K0IPcCFDWhnJoFuMAek2/oNbWdku/WxHATejT1JPZcPvINysFYiK+gAFkXTK6H+MyhXADeseJ9fmrVDM6X080/+p1M2/yFsD1zjEIauEeMAqNpQE16oaKiqwfjYeLk+fuYl10HDq7DsBTavxs8o6FzFKez/dM3rLx9LjUyVxcb7yVkfzmpXFbACJURHIxgyxkyu1ml6qL0Z4YX4xl7Jfrrgm9Ov9bX/e++x1tHCgkQ11lgELGA4sBp3iHRbH5GDwJPAFLXo6KJnDmTh/aG2w2/3t47VSGQxs1zAE9U2s9pEjx3hXuBloCa7G1rxv8o3f/7SkUz/UFFWMqGRWMpHAqsDbl00KGotIXM7MawF7gKSS5oJJRospI7v+rD96Ikp8aV2EgrkVPW4OnIy6SVL9ZubvZgyaOVyYDfwl2oNqVWiXNEb231oTe+/BrzvK9Gy01MFyoiOKzIEmqsEfjGf/39U1yHgosJFUXhlFMl+z9E/nkvhVNHZsjux+9Caf77RnyzMBaJLmW4RrWAlB3Y4Uh13HLOA4wQjo6O2IRPNxVV4JuG5Et2SSelzjtFLzsZQ0NIZ8/2rx7K9+/paxqbKvyh4Bc4AFQxzau23Dow7FS+nHmfEUz05OqINH8+evXJPJVOuE93XkY4eSziaXcQpB2b+vZNt7+/8IPPl2OxPRMJ4dDsLzIho3hpzamJ6aqJ0ei6qtZAasmZ2OS1RyOMd6egBIzSFVoKj4y1Hnvhv+8cD02ZOkEmgIKITVnXKWDs1ksvNrgbTbRSZ46cypY50aWcllIsyKXvr8GTyi9f6WvePFGVQhO8EPW2NzI+OfV2pF2bDTgbg8D/aJeVUspd1BK3/G24u7/skO3+iYP3h3LdhI/B+AGodUpo8WKwoAAAAAElFTkSuQmCC",darkOrange:"data:image/png;base64,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czpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOjIxNDZjMzUzLWIxZjItNGVjOC04NzQ3LTIwMGEyYWExM2ViMyIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2NGViNmI2Ni03Y2I2LTRkZGUtYTI3OS01MGY0ZWFiZGFhODAiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1ODRhM2VjZC1kNGFmLTQ3NjItYjA1ZS04ODk2MGQ4ZTk0Y2MiCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJMaW51eCIKICAgR0lNUDpUaW1lU3RhbXA9IjE2ODQ5NDE5MDM3ODI2MTQiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4zMCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDoxYzNjOGRkZi1kMjVkLTQ4YzQtYTAwYS0yMmU3ZDYwMzg1YjYiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoTGludXgpIgogICAgICBzdEV2dDp3aGVuPSIyMDIzLTA1LTI0VDE3OjI1OjAzKzAyOjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PuhCAHgAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfnBRgPGQOTjc4FAAAFdklEQVRYw82YW2gcZRTHf+eb2dlkc9lsrFYr2notfSgWxKKiog8VvIFI9UFQEaWtYPFJfREfRRSEeqlttViLD/WGisYXrShWpfWC1WpSN5eN3cZumkuTzWY3c/mOD9lI0WSTTXbVA8M8zMz3n//5zvl/5xyhxqb3ewYvaERpAvUAFzCABUIQH6GAHyvKa76tJbbUjMRW4+LbC7GsQbgCWA+sAs4AWoA8MAxkgEMo32LoxDO98oIN/xdk9IGUYEYvRrgduAW4Gogt4NMA+BroQHkfm+qW3aP6n5HRTSYG9hZga5lEwyKWKZVJvQCmQ3bZ4F8no5skAXov8BiwspwXizUL9APPgOyVXTr5r5HRzdKI1TsRngHOqlHuKTCI8hhG3padWqw7GX3IddDwcixvAefXUkTKhH7HcBfifi8vh1E1H1cfGkGYxPI4cM68RGw5zf3y3S7IuedgeZwgTNZ1Z3Sz46LRNcA7Zcmd25yGgPWP/M7q65toTLZSHBvn6OcFDm07n6g0n9oNAxsR54DsjBYs2251QWAbgFuBREX/tF3rc9+zA6xa3U5jSxwxHmpbueyqOOvvOM7rj67g1JfedFTNagngVtR+B0zUK8xiwLqKTmhcE3Dblk4uXbecRDKFmATgIiZBIpni0nXLuW1LJ41rgnmcvG6B59WiyRhgBeDM+UZipWHthnbcmDf7b8Y81m5oJ7GyErZTxjH1JCPzesu4ghtvBpkjH2X6uXFlAVEg9SMjhEAamFsyp4Yjcuks1s6uXdZacuksU8OVZDcC0mW8OpFRQqBruvqdwwpdDh+9cjaF0QHQv/2wRhRGB6afdzkVkKZxtDoyVaqZBKCHEXygcXafjhi63l3G9tIEGzYe4ZKrksSbzmCqMEz6mzE+eedC+juaiUYqhZCPchgkqKB4SzxntqQEO7oceBu4srIzHIitsMTOBOMJ1leCkxAMmEpRWt6Vg8BGTConOxZeSVdfzmwxHmpvRtkJnFmHcuYksBkxH8tO69e1nJEd1sdhP/BBuUippfnA+3jsr5ZI9TnzV33mFcB/DuEi4LpFr/PPZu3LkanES08fOltWnxe2Ba5xCEPXiHEAVG2oMS9UNFTVINOXKdamn3nQdSC8HMMeYPVS+hkFzQdObl9m2Zu7+xt6hkKx5fXktGumdNXyZQUKiPZGkDbGnFxqp+kh9kaUHeUTezHr6WRkxt/oa/toT39Lby6QqMoci4BJDB8vpTtEdlkflf3A08AQ1ejoTM8cyeRnudYD72Zb+qokMhNZLuCJaqtZaqDLLi0i7EHYDVTV7oZW/J9PNf3wanfycLoki5nQSFnKewKrnW5NNMhtKRDlt6EsB+4G4vM2/UrUNd5w5Pl028FfiuJL9SQUyKrqEXXkaNyLF2o3N9vUYKB0AbAduKFSQWqVKFv0+rYfXdbx4aB3qqQLDk8VKCKaUSQNmi0F/ujAwB9RTYeAMwoXabg2QvZ5jl4ym8Ip6FjgDm7/bdl7bw3Ec/lItEJyWyAS0RJWsmC7I9WM45hJHCfo6e21dZlozlju3pjnSnRT0tMXHdFzT8dQ0EJoTr2eSXXs7W/uG/pnwiswBZQw5NXaYw5knJKXVY8p8VSP9vZo3cezp1v2nniDK9FD7V70RMxoaganGJmJT0+0frbtt+RPfVN/EQnLo9sxYEREB6wxxweHhwYL4/mo2kSqi43c5zRH8GS7Fz1shMZQJTg41PzVU7+2fdNZNHlBTgI5ER20qkPG2qGebHZsSTpULzJH8slCe6ywrWTlrGTM3tw9Ef/xjUzLvp6idIlwQtBxa2Sit6+/VCvMuu0MwIE726RBSqlViaDli6Gm4t6e1MQveet3Z4+F9cD7Ewo4WRJBbaaSAAAAAElFTkSuQmCC",red:"data:image/png;base64,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293bv2fa/f0ASM5yljz/NiUAAA0aaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOmI5YjA2YTAwLWZkOTQtNDc5MC1hNzIzLTlkMGUwNGRiNTRlNyIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1MTQ3ZGU5Yi1kOTA0LTRlNWYtYjIyYy0wZmMzOGRmMWI3ZGEiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4YzBjNTI2YS1lYTkyLTQxYWItODM5Yy05OWFhYTM0YjdlYzciCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJMaW51eCIKICAgR0lNUDpUaW1lU3RhbXA9IjE2ODQ5NDE2NDAxNTU0MjYiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4zMCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowMjQ4MDc5ZS1kMTYyLTQxZmItOGViYS1lMzY2NTRiNGRjMjYiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoTGludXgpIgogICAgICBzdEV2dDp3aGVuPSIyMDIzLTA1LTI0VDE3OjIwOjQwKzAyOjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PkaovgIAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfnBRgPFCiKn0kIAAAFfUlEQVRYw82YTWxc1RXHf+e+N2/GH+Px2IEEV02AgqIsIkwgoYS2ahepVGCBUOiCRRdsAAnECthErBBCICGFj4gqRQqBRSABUrVm1URtCSATJ5ASZCPHH0kGgx1/xJl5nvH7uIcFY4iIM/GzZyhHenqL994993/u+f/fOUeos+nNnkHCJoQWRD0UFzCARYhQCVB8NFWWTwNbT99SNxC3GZfIXg9sADYDWxCuRekEskARYQplFPgEOAr045ph6bXRzwKM3pEX5mduQLkHuAvYCqSW8GkIfAT0IBwknT8lH87o/w2M3mpSqL0LeLQKIrOMZSpVUC8hpkf6bPiTg9FbpBn0L8ATwLoqL5ZrFjgNPAeyV47p3E8GRjdLE6r3oTwHXF0n7ikwgfAEIvvlqJYbDkY3uw4a3YLyNrC2niJSBXQG4c+Ie0yORnGSj5OnRhzlUJ4ErrkikBAoAjPVe7ik4F6D8iRxlGvoyegmx4X4NwgHgM6a8fUyIfc8doZbf99Ca66N0uwF+v7tc3DnWoJK6gqep1C2g3NEjsdLlm03GXSbAe4GmmvGZ91vA3Y8P8aN6ztoyaYxxsPaNrbcnmbbvV/x9ONdnPnA+w71otaMcDfYPqDUmDQTUgjdNYPQsSHkgYf62di9mmwujzHNgIsxzWRzeTZ2r+aBh/rp2BDWDLLQjSzpf7VMMIpB6QKcy77Tuc6wdVsHbspbfJspj63bOuhcV8u3g9KFJtufWQbHakfLdQUv3YrI4qwQ+e65616Jr6mknE4KJgIGgctLZnEq5vRgAWsXLyKttZweLFCcqiW7cdVP1DgwQoQwUNPJxIDDG7vXMDszBvqjDWvM7MwYb+xew8SAUzNowgCSDEwyNVMJQU8AAdC06DvBtOG/76xirlLi3u0nufn2HJmWTir+FJ9+PMu7B66nr6eVYLpWCgUoJ0DCGoq3wv/MbXkhmlkN7Ad+XTMY4kBTl6XlKnA8IQ4U/xyUx8wlB3ZpKvcC23Hz49K79Ep6GeWM8VB7J8pfgasaUM6cAx5EzPvSZ4OGljNy1AYIh4C/L6lASWYBcBCHQ0mBJOfM94rk+WjwAsKvgN8te51LK7kPpm3zK89OrZH1v4zaQ9c4RJFrxDgAqjbSlBcpGqlqODoyWq5TP1OtnoU9wPqV9DMKWlRnfJ+/6q3XKpmhSRVbXU8uuhb6Hq1eVsBHdDiGQWPMuZV1mpuMB/aPCK8CXcsMjs6pufCm3/7PPZXs8LhKnJBjMTCH4f2VdIfIcRsgcgh4FpgkiY4u9Mwqc4fn2468M58dSQhkIbNcwBPVNrPSRJdjWgb2AK8BidrdSCX4PGw5/re53IlBK8uZ0EhVyodCq/1uXTTIzfrExZ0oq4H7gfQSmv54IMqcfNFv7/0ilkCSg1CgoKon1ZEv017ar9/cbEvGEFeuQ9mF8IdaBamFuBB7I7tKq3r+EXjnK0tPTxUoIzqqyCBooRIGM2NjX8d1HQIuKFys0cYY2eeJ3riYwinorHUndvmr3nt7Pj1eVNEa5LZALKIVrBTAnopVRx3HzOE44dDwsG3IRHPBxrtTnkv8p5yjLzvoLy72oaC+mvOvz+V79pZbRyYvJbwC80AFQ1GtPevAqFPxCuoxL57ql8ND2vDx7MVW2JTOuMQPdxDvSInmF/yU1ZT+Nd92eGcp97+RH4BE1XHHLDAtomPWmK8mpiYn/AvFOCmRGmLTm53WOOKpDhM/YqApQsLe+dYPnym1f9xvTVGQc8C4iE5Y1Ulj7eRQoTC7Ih1qFJiTQc7vwN9ZUbk6Z+ydp6L0Z2+Ws/uGrAyI8I2gF6yR0vDI6Uq9fDbsZACO3NQuGa3kr3XC7H+ClvJeP1/6IrbBqbNno0b4+xbMlmARngcRbAAAAABJRU5ErkJggg==",turquoiseBlue:"data:image/png;base64,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/MUi8H5G35QHBm+BvjV3bu1znD4AWZpV+gY4OARGS5S97vHu3u65/XunPb8fN2tyj8UDOK0AAA0aaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOjEwNGNlNWFhLTE1YzctNGI4Yi1iOGU1LTFmYWQyNWFiYzBhZCIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpkNDMyZTY1Zi0xOThhLTQxM2EtYWYyMy1jNzhlNzczNGRlN2QiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoyNzExODVkMi03MWZiLTRhZDMtYTJmMi1iNjM3OWU3MDc1OTEiCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJMaW51eCIKICAgR0lNUDpUaW1lU3RhbXA9IjE2ODQ5NDE4NjYyMzgzMjQiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4zMCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo1NGFiYzNkYS1lZWJiLTRlZjctYjdjNS04ZDRjODY5OGVjODMiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoTGludXgpIgogICAgICBzdEV2dDp3aGVuPSIyMDIzLTA1LTI0VDE3OjI0OjI2KzAyOjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/Pj0tlUwAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfnBRgPGBru/VeEAAAABmJLR0QA/wD/AP+gvaeTAAAFO0lEQVRYw9WYe2xTVRzHTx97dYS5B1UHa+/tY12dDoOKWyIGlfgHkCkSNTHGwHxA3NiAP/A5x4CMKEzdYL29YyAyBxKQZbI+NvYIaowaH9Ogi2GRbGjcFrbBNrq2a2/9nq5LCFnbbfSOeZJPTs/t6Tm/7/39zu+cU0IiXc7WSImNX0BsZiVYAhigmah5tHklsZrjSYtJSuZtaeSiiJU3gHUwfC9oARfBIHBP1DzaPH1eRuzmp0E6aTgSNX9EWMwSvOkMGPgG+CpguG8a0H7nA78zkMYqye0V0lYXDSHrYUw7cE5TxM04/b+38+vJ+RPRt0eIjVeAAhhyCQizFDKJEBjndaCY49Di4+CRlzFxfwSE3Ciol9i4DSBujoRUy7HIszFxdwSF3CioBy8qm1g5ufhirHwyJqwHrrDGWTlg8hFL1URN2+EF0XFPkyYuSWwhUVgnT2CygXBG3dFcM7bz1/au1u7OK9/93eWidUlHe1dCc810EsUAsXOPQZCI3rGZ6Wb4EXAEM0SCUFnZduz6T/09l4bHXYOCz+f0+XxeWg+7XYM/4vnKtlqHJHSIOrAHlYMFYmawRNCKycaDGZLVfMRdf/nPDpfXM+abotDnpy93dtzXfNgdZg+im2uimJ6h66UTeIMZsrat1jvkdPRRb/imLt4hl6N3DfqFEIPvOMzDJYspJsWfbUKEyFNttcKoyzkKo4UgYoRRt3OE9guT1br984nsmQ7gCWbIipaj4xeu9v/hFQTPlG7B89+u9v9O+4UQQ8f/BSlaVM8kgBOhji4p9mpvwQ+Wfwddjp6bQw2u8g44HT3535/tTUa/0Eccvg4sFDE1m2PBZkx2LVRqVcLQvG/PDDX1/tVxze38x+UZH6O1He28b764qgwtxOcf327eBGLFE9NikiD3qzDZhVBJgCJH3KubDnkfbD4s5Jw74qM1bcvDnxq8/vHt1SrS9InIJ2m7OQ4UYsKhCB9lJqHj0gPsHJzPvsS9w8rRRPDptI40M8PlH9fOJ5M5K008rsZmIwi5gc4QN9Zja8zn+5epch9PTFepU1iGuVunVqeyS9g0iv8zy96l0WiSjIsXx28iJEJhaONkMGB5YP14bkmI1SzIz1T0pRa9VKnNzCjUMcwWUAS2BtgWYLJN+xTo1OyrOhW7xsAwqnSGkd3i+uGjkT5Xw6DLt3AdEKQNB4YXbdtwQpuVuRtG7pwhxWA7vJgRib0nDuSDvtkIkjYcHE3aVWjRLL9/zyyETPK2Vq3OidAaOhiPDLcbxo3MRIik0eReWPnO15pHHiqbpYhS6hkNw7wAz0To6GM5hAzH3wkDa6b7x4bEwnkUfMnP6idX7Nex7GxElIDNerV6hU6jSdbp9RHck2w0w/FaGGoJm7KtnCfmWNlF1fOrK3Q6bekMRFABO7QM8yxewFLUi+5JSxPpAmcxy0gjt1Rytir4NcHKCfJTH/al5j1j1hr0pWEML55YD+x2GP6cVqNZZjQYEvUsG4vP4v8jKju5L1p6qnytxGKa6qogyOorBpVbXvxMe69xdxABb9I0DAGvIIRWp7NsBsJIoWVZKfaXuf+jMKp2b6z8+Adb4aErNwpCCh5J2pnfoH0ga08g7invBfaQjXjjuQifhyEgLdNolJP5UqR17y+QnSwvk1i565OZK6F8RzubvWwvDH8LvKZnmHXY8HKws+sNLJtI5muJ/7hYElOzJ1V+fN9R7CVDClPJOVXuqo06vS4HQjTwgDKDZRXk/1JiD7wrieFLk6T1lczCXUVK7aPZinS9XrTw+Q+Tql7SUmvGuQAAAABJRU5ErkJggg==",defaultOffset:[-25.5,-32]},jn=Bn,zn=n(8616),Wn=n(5274),Vn=n(7379),Yn=n(5782),Hn=n(8343),qn=n(6121),Xn={hex:function(t){if(t>255)throw new Error("'"+t+"'' is greater than 255(0xff);");var e=Number(t).toString(16);return("0"+e).slice(-2)},num:function(t){return parseInt(t,16)},arrayToRgba:function(t){if(!Array.isArray(t))throw new Error("Not an array !");var e=t[0],n=t[1],i=t[2],r=t[3]||1,o="rgba("+e+", "+n+", "+i+", "+parseFloat(r)+")";return o},arrayToHex:function(t){if(!Array.isArray(t))throw new Error("Not an array !");var e=t[0],n=t[1],i=t[2],r=t[3],o=[this.hex(e),this.hex(n),this.hex(i)],s={};return s.hex="#"+o.join(""),r&&(s.opacity=parseFloat(r)),s},rgbaToHex:function(t){var e=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(0?.?\d+)\s*)?\)/,n=e.exec(t);if(!n)throw new Error("Invalid format: "+t);var i=n[1],r=n[2],o=n[3],s=n[4],a=[this.hex(i),this.hex(r),this.hex(o)],l={};return l.hex="#"+a.join(""),s&&(l.opacity=parseFloat(s)),l},hexToRgba:function(t,e){var n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;if(!t)throw new Error("Invalid format");t=t.replace(n,(function(t,e,n,i){return e+e+n+n+i+i}));var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);i=i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null;var r=i?"rgba("+i.r+", "+i.g+", "+i.b+", "+e+")":null;return r},isHex:function(t){if(!t)return!1;if("#"!==t.charAt(0))return!1;var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,n=e.exec(t);return!!n},isRGB:function(t){if(!t)return!1;var e=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(0?.?\d+)\s*)?\)/,n=e.exec(t);return!!n}},Zn=Xn,Kn=Pn.getLogger("styling");ye.A.prototype.setPropertyFill=function(){var t=this.getStyle();if(t&&(!Array.isArray(t)||0!==t.length)){var e=t.getFill();if(e){var n=e.getColor();if(Array.isArray(n)){var i="rgba(";i+=n[0]+",",i+=n[1]+",",i+=n[2]+",",i+=n[3]+")",n=i}if(Zn.isRGB(n)){var r=Zn.rgbaToHex(n);this.set("fill",r.hex),this.set("fill-opacity",r.opacity)}else this.set("fill",n),this.set("fill-opacity",1)}}},ye.A.prototype.setPropertyStroke=function(){var t=this.getStyle();if(t&&(!Array.isArray(t)||0!==t.length)){var e=t.getStroke();if(e){var n=e.getColor();if(Array.isArray(n)){var i="rgba(";i+=n[0]+",",i+=n[1]+",",i+=n[2]+",",i+=n[3]+")",n=i}if(Zn.isRGB(n)){var r=Zn.rgbaToHex(n);this.set("stroke",r.hex),this.set("stroke-opacity",r.opacity)}else this.set("stroke",n),this.set("stroke-opacity",1);this.set("stroke-width",e.getWidth())}}},ye.A.prototype.setPropertyLabel=function(){var t=this.getStyle();if(t&&(!Array.isArray(t)||0!==t.length)){var e=void 0!==this.get("name"),n=t.getText();if(n&&e){var i=t.getText().getFill();if(i){var r=i.getColor();if(Array.isArray(r)){var o="rgba(";o+=r[0]+",",o+=r[1]+",",o+=r[2]+",",o+=r[3]+")",r=o}if(Zn.isRGB(r)){var s=Zn.rgbaToHex(r);this.set("label-fill",s.hex),this.set("label-fill-opacity",s.opacity)}else this.set("label-fill",r),this.set("label-fill-opacity",1)}var a=t.getText().getStroke();if(a){var l=a.getColor();if(Array.isArray(l)){var c="rgba(";c+=l[0]+",",c+=l[1]+",",c+=l[2]+",",c+=l[3]+")",l=c}if(Zn.isRGB(l)){var u=Zn.rgbaToHex(l);this.set("label-stroke",u.hex),this.set("label-stroke-opacity",u.opacity)}else this.set("label-stroke",l),this.set("label-stroke-opacity",1);this.set("label-stroke-width",a.getWidth())}this.set("label-font",t.getText().getFont()||Jn.DEFAULT_TEXT.font),this.set("label-textAlign",t.getText().getTextAlign()||Jn.DEFAULT_TEXT.textAlign)}}},ye.A.prototype.setPropertyMarker=function(){var t=this.getStyle();if(t&&(!Array.isArray(t)||0!==t.length)){var e=t.getImage();if(e)if(e instanceof Vn.A){var n=e.getColor();if(Array.isArray(n)){var i="rgba(";i+=n[0]+",",i+=n[1]+",",i+=n[2]+",",i+=n[3]+")",n=i}if(n){var r=Zn.rgbaToHex(n);this.set("marker-color",r.hex)}var o=e.getScale();switch(Math.round(2*o)/2){case 0:case.5:this.set("marker-size","small");break;case 1:this.set("marker-size","medium");break;case 1.5:case 2:this.set("marker-size","large");break;default:break}var s=e.getSrc();s&&this.set("marker-symbol",s),this.unset("circle-fill"),this.unset("circle-fill-opacity"),this.unset("circle-stroke"),this.unset("circle-stroke-width"),this.unset("circle-stroke-opacity"),this.unset("circle-radius")}else{var a=e.getFill();if(a){var l=a.getColor();if(Array.isArray(l)){var c="rgba(";c+=l[0]+",",c+=l[1]+",",c+=l[2]+",",c+=l[3]+")",l=c}if(Zn.isRGB(l)){var u=Zn.rgbaToHex(l);this.set("circle-fill",u.hex),this.set("circle-fill-opacity",u.opacity)}else this.set("circle-fill",l),this.set("circle-fill-opacity",1)}var h=e.getStroke();if(h){var d=h.getColor();if(Array.isArray(d)){var p="rgba(";p+=d[0]+",",p+=d[1]+",",p+=d[2]+",",p+=d[3]+")",d=p}if(Zn.isRGB(d)){var g=Zn.rgbaToHex(d);this.set("circle-stroke",g.hex),this.set("circle-stroke-opacity",g.opacity)}else this.set("circle-stroke",d),this.set("circle-stroke-opacity",1);this.set("circle-stroke-width",h.getWidth())}var f=e.getRadius();this.set("circle-radius",f)}}};var Jn={APPLY_CONVERT_GEOM_GPX:!0,DEFAULT_ICON:{src:jn["lightOrange"],anchor:[.5,1],scale:1},DEFAULT_CIRCLE:{radius:10,fill:{opacity:1,color:[0,0,0,1]},stroke:{width:1,opacity:1,color:[0,0,0,1]}},DEFAULT_STROKE:{width:5,opacity:1,color:[250,250,250,1]},DEFAULT_FILL:{opacity:1,color:[0,0,0,1]},DEFAULT_TEXT:{font:"16px sans",textAlign:"left",stroke:{color:[250,250,250,1],width:5,opactity:1},fill:{opacity:1,color:[0,0,0,1]}},getListTags:function(){return["type","fill","fill-opacity","stroke","stroke-opacity","stroke-width","circle-fill","circle-fill-opacity","circle-stroke","circle-stroke-opacity","circle-stroke-width","circle-radius","marker-symbol","marker-color","marker-size","label-fill","label-fill-opacity","label-stroke","label-stroke-width","label-stroke-opacity","label-font","label-textAlign"]},defineStyleFromProperties:function(t){var e=null,n={},i=null;if(t.get("marker-color")||t.get("marker-size")||t.get("marker-symbol")){i={},i["src"]=this.DEFAULT_ICON.src,i["anchor"]=this.DEFAULT_ICON.anchor;var r=t.get("marker-symbol");r&&-1!==r.search("data:image/png;base64")&&(i["src"]=r);var o=t.get("marker-color");Zn.isHex(o)&&(i["color"]=Zn.hexToRgba(o,1));var s=t.get("marker-size");if(s)switch(s){case"small":i["scale"]=.5;break;case"medium":i["scale"]=1;break;case"large":i["scale"]=1.5;break;default:i["scale"]=this.DEFAULT_ICON.scale;break}}var a=null;(t.get("stroke")||t.get("stroke-opacity")||t.get("stroke-width"))&&(a={},a["color"]=Zn.hexToRgba(t.get("stroke"),+t.get("stroke-opacity")||this.DEFAULT_STROKE.opacity),a["width"]=+t.get("stroke-width")||this.DEFAULT_STROKE.width);var l=null;(t.get("fill")||t.get("fill-opacity"))&&(l={},l["color"]=Zn.hexToRgba(t.get("fill"),+t.get("fill-opacity")||this.DEFAULT_FILL.opacity));var c=null,u=null,h=""!==t.get("name");h&&((t.get("label-fill")||t.get("label-fill-opacity"))&&(u={},u["color"]=Zn.hexToRgba(t.get("label-fill"),+t.get("label-fill-opacity")||this.DEFAULT_TEXT.fill.opacity)),(t.get("label-stroke")||t.get("label-stroke-opacity")||t.get("label-stroke-width"))&&(c={},c["color"]=Zn.hexToRgba(t.get("label-stroke"),+t.get("label-stroke-opacity")||this.DEFAULT_TEXT.stroke.opacity),c["width"]=+t.get("label-stroke-width")||this.DEFAULT_TEXT.stroke.width));var d=t.get("circle-radius")||this.DEFAULT_CIRCLE.radius,p=null;(t.get("circle-stroke")||t.get("circle-stroke-opacity")||t.get("circle-stroke-width"))&&(p={},p["color"]=Zn.hexToRgba(t.get("circle-stroke"),+t.get("circle-stroke-opacity")||this.DEFAULT_CIRCLE.stroke.opacity),p["width"]=+t.get("circle-stroke-width")||this.DEFAULT_CIRCLE.stroke.width);var g=null;(t.get("circle-fill")||t.get("circle-fill-opacity"))&&(g={},g["color"]=Zn.hexToRgba(t.get("circle-fill"),+t.get("circle-fill-opacity")||this.DEFAULT_CIRCLE.fill.opacity));var f=t.getGeometry().getType();switch(f){case"Circle":case"Point":case"MultiPoint":var m=!1,A={};if(p&&(A["stroke"]=new Yn.A(p)),g&&(A["fill"]=new Hn.A(g)),0!==Object.keys(A).length&&(m=!0,A["radius"]=+d,n["image"]=new Wn.A(A)),i&&(n["image"]=new Vn.A(i)),h){var y={};if(c&&(y["stroke"]=new Yn.A(c)),u&&(y["fill"]=new Hn.A(u)),0!==Object.keys(y).length)y["text"]=t.get("name"),y["textAlign"]=t.get("label-textAlign")||this.DEFAULT_TEXT.textAlign,y["font"]=t.get("label-font")||this.DEFAULT_TEXT.font,n["text"]=new qn.A(Object.assign({},this.DEFAULT_TEXT,y));else if(i||m){var v=new qn.A(Object.assign({},this.DEFAULT_TEXT,{fill:new Hn.A(this.DEFAULT_TEXT.fill),stroke:new Yn.A(this.DEFAULT_TEXT.stroke)}));if(v){var _=v.clone();_.setText(t.get("name")),n["text"]=_}}}break;case"Polygon":case"MultiPolygon":a&&(n["stroke"]=new Yn.A(a)),l&&(n["fill"]=new Hn.A(l));break;case"LineString":case"MultiLineString":if(a&&(n["stroke"]=new Yn.A(a)),this.APPLY_CONVERT_GEOM_GPX&&l){var C=t.get("type");if(C&&("Polygon"===C||"MultiPolygon"===C)){n["fill"]=new Hn.A(l);var I=t.clone(),E="LineString"===f?De.Ay:an.A;t.setGeometry(new E([I.getGeometry().getCoordinates()]))}}break;default:break}return 0!==Object.keys(n).length&&(e=new Ie.Ay(n)),e},defineStyleFunctionByDefault:function(t){if(!t)return[];if(0===Object.keys(t).length)return[];var e=(e,n)=>{var i=null,r=e.getGeometry().getType();switch(r){case"Point":case"MultiPoint":var o={};if(t.getImage()&&(o["image"]=t.getImage()),t.getText()&&e.get("name")){var s=t.getText().clone();s.setText(e.get("name")),o["text"]=s}i=new Ie.Ay(o);break;case"Circle":var a={},l={};if(t.getFill()&&(l.fill=t.getFill()),t.getStroke()&&(l.stroke=t.getStroke()),t.getText()&&e.get("name")){var c=t.getText().clone();c.setText(e.get("name")),a.text=c}0!==Object.keys(l).length&&(l.radius=3,a.image=new Wn.A(l)),i=new Ie.Ay(a);break;case"Polygon":case"MultiPolygon":var u={};t.getFill()&&(u.fill=t.getFill()),t.getStroke()&&(u.stroke=t.getStroke()),i=new Ie.Ay(u);break;case"LineString":case"LinearRing":case"MultiLineString":var h={};t.getStroke()&&(h.stroke=t.getStroke()),i=new Ie.Ay(h);break}return[i]};return e},definePropertiesFromStyleByType:function(t){var e=t.getGeometry().getType();switch(e){case"Point":case"MultiPoint":t.setPropertyMarker(),t.setPropertyLabel();break;case"LineString":case"MultiLineString":t.setPropertyStroke();break;case"Polygon":case"MultiPolygon":t.setPropertyStroke(),t.setPropertyFill();break;default:break}},definePropertiesFromStyle:function(t){var e=t.getStyle()||t.getStyleFunction();if(e){if("function"===typeof e){var n=e.call(this,t,0);if(!n||0===n.length)return;e=Array.isArray(n)?n[0]:n,t.setStyle(e)}this.definePropertiesFromStyleByType(t)}},defineTagFromStyle:function(t,e){return Kn.trace("todo..."),null}},Qn=Jn,$n=Pn.getLogger("parser"),ti={parse:function(t){var e=null,n=null,i="undefined"!==typeof window?window:null;if("object"===typeof exports&&null===window){var r=require("xmldom").DOMParser;n=new r,e=n.parseFromString(t,"text/xml")}else i.DOMParser?(n=new i.DOMParser,e=n.parseFromString(t,"text/xml")):i.ActiveXObject?(e=new i.ActiveXObject("Microsoft.XMLDOM"),e.async=!1,e.loadXML(t)):$n.log("Incompatible environment for DOM Parser !");var o=e.querySelector("parsererror");return o?(console.error(o),null):($n.trace(e),e)},toString:function(t){var e=new XMLSerializer,n=e.serializeToString(t);return $n.trace(n),n},format:function(t){var e=/(>)\s*(<)(\/*)/g,n=/ *(.*) +\n/g,i=/(<.+>)(.+\n)/g;t=t.replace(e,"$1\n$2$3").replace(n,"$1\n").replace(i,"$1\n$2");for(var r="",o=t.split("\n"),s=0,a="other",l={"single->single":0,"single->closing":-1,"single->opening":0,"single->other":0,"closing->single":0,"closing->closing":-1,"closing->opening":0,"closing->other":0,"opening->single":1,"opening->closing":0,"opening->opening":1,"opening->other":1,"other->single":0,"other->closing":-1,"other->opening":0,"other->other":0},c=0;c<o.length;c++){var u=o[c],h=Boolean(u.match(/<.+\/>/)),d=Boolean(u.match(/<\/.+>/)),p=Boolean(u.match(/<[^!].*>/)),g=h?"single":d?"closing":p?"opening":"other",f=a+"->"+g;a=g;var m="";s+=l[f];for(var A=0;A<s;A++)m+="\t";"opening->closing"===f?r=r.substr(0,r.length-1)+u+"\n":r+=m+u+"\n"}return $n.trace(r),r}},ei=ti,ni=Pn.getLogger("extended KML format"),ii=class t extends zn.Ay{constructor(e){if(super(e),!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return e=e||{},this.source=null,this.extensions=e.extensions||null,e.defaultStyle&&!Array.isArray(e.defaultStyle)&&(e.defaultStyle=[e.defaultStyle]),null!==e.defaultStyle&&"undefined"!==typeof e.defaultStyle||(e.defaultStyle=[]),this}_processKml(t,e,n){for(var i="#document"===t.nodeName?t.childNodes[0].childNodes:t.childNodes,r=i,o=0;o<i.length;o++){const t=i[o];if("Document"===t.nodeName){r=t.childNodes;break}if("Placemark"===t.nodeName){r=[t];break}}for(var s={},a=-1,l=0;l<r.length;l++){var c=r[l];switch(c.nodeName){case"Style":var u=c.attributes[0];if(u&&"id"===u.nodeName){var h=u.nodeValue,d=c;s[h]=d}break;case"Placemark":a++;for(var p=c.childNodes,g=!1,f=!1,m=!1,A=null,y=null,v=null,_=c,C=0;C<p.length;C++)switch(p[C].nodeName){case"Polygon":m=!0;break;case"LineString":f=!0;break;case"Point":g=!0;break;case"Style":y=p[C],A=p[C].childNodes;break;case"styleUrl":var I=p[C].textContent.slice(1);s[I]&&(A=s[I].childNodes);break;case"ExtendedData":v=p[C].childNodes;break;case"name":_=null;break;default:}if(v){ni.log("ExtendedData :",v);var E=n.extendedData;E&&"function"===typeof E&&E(e[a],v)}if(_){ni.log("Name :",_);var w=n.nameData;w&&"function"===typeof w&&w(e[a],_)}if(g&&A&&0!==A.length){for(var b=null,x=null,S=0;S<A.length;S++)switch(A[S].nodeName){case"LabelStyle":b=A[S];break;case"IconStyle":x=A[S];break;default:}var P=e[a].getProperties().name,M=e[a].getProperties().description,R=P||M;if(ni.trace(R),!x&&b){var T=n.labelStyle;T&&"function"===typeof T&&T(e[a],b)}else if(x&&!b){var G=n.iconStyle;G&&"function"===typeof G&&G(e[a],x)}else if(x&&b){var L=n.iconLabelStyle;L&&"function"===typeof L&&L(e[a],x,b)}}else{var k=e[a],O=k.getStyle();if(O&&"function"===typeof O){var D=O.call(this,k,0);D&&0!==D.length&&(O=D[0])}if(m){var N=n.polygonStyle;N&&"function"===typeof N&&N(e[a],A)}if(f){var F=n.lineStringStyle;F&&"function"===typeof F&&F(e[a],A)}if(g&&O){var U=O.getImage();if(U&&U instanceof Wn.A){var B=n.circleStyle;B&&"function"===typeof B&&B(e[a],y)}else if(U&&U instanceof Vn.A){var j=n.pointStyle;j&&"function"===typeof j&&j(e[a],y)}}}break;default:ni.trace("tag is not processing !")}}}writeFeatures(t,e){ni.log("overload : ol.format.KML.writeFeatures");var n=super.writeFeaturesNode(t,e);if(null===n)return null;this.hasOwnProperty("extensions")&&this._writeRootExtensions(n,this.extensions);var i=this._writeExtendStylesFeatures(n,t,e),r=ei.format(i);return""===r?null:r}_writeExtendStylesFeatures(t,e,n){function i(t,e){var n=t.toString(16);"#"===n.charAt(0)&&(n=n.slice(1)),e=e||1,e=parseInt(255*e,10),e=e.toString(16);var i=e;return i+=n.substr(4,2),i+=n.substr(2,2),i+=n.substr(0,2),i.toLowerCase()}var r=function(e,n){if(ni.trace("label with style :",n),e&&e.getStyle()instanceof Ie.Ay){var r=e.getStyle().getText();if(!r)return;var o="Sans",s="16px",a=r.getFont();if(a){var l=a.split(" ",2);s=l[0],o=l[1]}var c=e.getStyle().getText().getStroke();if(!c)return;if(c instanceof Yn.A){var u=i("#FFFFFF"),h=c.getColor();if(Array.isArray(h)){var d="rgba(";d+=h[0]+",",d+=h[1]+",",d+=h[2]+",",d+=h[3]+")",h=d}if(Zn.isRGB(h)){var p=Zn.rgbaToHex(h);u=i(p.hex,p.opacity)}else u=i(h);var g=c.getWidth()||"0",f="1";if(n&&0===n.getElementsByTagName("LabelStyleSimpleExtensionGroup").length){var m=document.createElementNS(t.namespaceURI,"LabelStyleSimpleExtensionGroup");m.setAttribute("fontSize",s),m.setAttribute("fontFamily",o),m.setAttribute("haloColor",u),m.setAttribute("haloRadius",g),m.setAttribute("haloOpacity",f),n.appendChild(m)}}var A=e.getStyle().getImage();if(!A)return;if(A instanceof Wn.A){var y=null,v=null;if(A.getStroke()){if(v=A.getStroke().getWidth(),y=A.getStroke().getColor(),Array.isArray(y)){var _="rgba(";_+=y[0]+",",_+=y[1]+",",_+=y[2]+",",_+=y[3]+")",y=_}if(Zn.isRGB(y)){var C=Zn.rgbaToHex(y);y=i(C.hex,C.opacity)}else y=i(y)}var I=null;if(A.getFill()){if(I=A.getFill().getColor(),Array.isArray(I)){var E="rgba(";E+=I[0]+",",E+=I[1]+",",E+=I[2]+",",E+=I[3]+")",I=E}if(Zn.isRGB(I)){var w=Zn.rgbaToHex(I);I=i(w.hex,w.opacity)}else I=i(I)}if(n&&0===n.getElementsByTagName("ObjectSimpleExtensionGroup").length){var b=document.createElementNS(t.namespaceURI,"ObjectSimpleExtensionGroup");b.setAttribute("type","circle"),b.setAttribute("radius",A.getRadius()),b.setAttribute("fillColor",I),b.setAttribute("strokeColor",y),b.setAttribute("strokeWidth",v),n.appendChild(b)}}}},o=function(e,n){if(ni.trace("marker with style (hotspot):",n),e&&e.getStyle()instanceof Ie.Ay){var i=e.getStyle().getImage();if(!i)return;if(i instanceof Vn.A){var r=0,o=0,s="pixels",a="pixels",l=i.getSize(),c=i.getAnchor();if(c.length&&(r=c[0],o=c[1],o="fraction"===a?1===o?0:1-o:"pixels"===a&&o===l[1]?0:l[1]-o),n&&0===n.getElementsByTagName("hotSpot").length){var u=document.createElementNS(t.namespaceURI,"hotSpot");u.setAttribute("x",r),u.setAttribute("y",o),u.setAttribute("xunits",s),u.setAttribute("yunits",a),n.appendChild(u)}}}},s=function(e,n){if(e&&e.getStyle()instanceof Ie.Ay){var r=e.getStyle().getImage();if(!r)return;if(r instanceof Wn.A){var o=null,s=null;if(r.getStroke()){if(s=r.getStroke().getWidth(),o=r.getStroke().getColor(),Array.isArray(o)){var a="rgba(";a+=o[0]+",",a+=o[1]+",",a+=o[2]+",",a+=o[3]+")",o=a}if(Zn.isRGB(o)){var l=Zn.rgbaToHex(o);o=i(l.hex,l.opacity)}else o=i(o)}var c=null;if(r.getFill()){if(c=r.getFill().getColor(),Array.isArray(c)){var u="rgba(";u+=c[0]+",",u+=c[1]+",",u+=c[2]+",",u+=c[3]+")",c=u}if(Zn.isRGB(c)){var h=Zn.rgbaToHex(c);c=i(h.hex,h.opacity)}else c=i(c)}if(n&&0===n.getElementsByTagName("ObjectSimpleExtensionGroup").length){var d=document.createElementNS(t.namespaceURI,"LabelStyle"),p=document.createElementNS(t.namespaceURI,"ObjectSimpleExtensionGroup");p.setAttribute("type","circle"),p.setAttribute("radius",r.getRadius()),p.setAttribute("fillColor",c),p.setAttribute("strokeColor",o),p.setAttribute("strokeWidth",s),d.appendChild(p),n.appendChild(d)}}}},a=function(t,e){},l=function(t,e,n){ni.trace("write an icon with a label"),o(t,e),r(t,n)},c=function(t,e){for(var n=0;n<e.length;n++){var i=e[n];if("name"===i.nodeName)return}var r=t.getProperties().name;if(r){var o=document.createElement("name");o.innerHTML=r,e.appendChild(o)}},u=function(t,e){if(e&&e.length){for(var n=[],i=0;i<e.length;i++){const t=e[i];if("Data"===t.nodeName){var r=t.getAttribute("name");Qn.getListTags().includes(r)&&n.push(t)}}n&&n.length&&n.forEach((t=>{t.remove()}))}};this._processKml(t,e,{labelStyle:r,iconStyle:o,iconLabelStyle:l,circleStyle:s,pointStyle:a,nameData:c,extendedData:u});var h=ei.toString(t);return h||null}_writeRootExtensions(t,e){var n=document.createElementNS(t.namespaceURI,"ExtendedData");for(const s in e)if(Object.hasOwnProperty.call(e,s)){const o=e[s];var i=document.createElementNS(t.namespaceURI,"Data");i.setAttribute("name",s);var r=document.createTextNode(JSON.stringify(o));i.appendChild(r),n.appendChild(i)}var o=t.firstChild;t.insertBefore(n,o)}readFeatures(t,e){ni.log("overload : ol.format.KML.readFeatures"),"string"===typeof t?this.source=ei.parse(t):null!==t&&(this.source=t);var n=this._readExtendStylesFeatures(t,e);return ni.trace("Styles étendus",n),n.forEach((t=>{Qn.definePropertiesFromStyle(t)})),n}_readExtendStylesFeatures(t,e){var n=super.readFeatures(t,e),i=null,r="";if(r="string"===typeof t?t:t.documentElement.outerHTML,r=r.replace(/\n/g,""),r=r.replace(/(>)\s*(<)/g,"$1$2"),i=ei.parse(r),null===i)return n;function o(t){var e="";e+=t.substr(6,2),e+=t.substr(4,2),e+=t.substr(2,2);for(var n=parseInt(e,16).toString(16),i="",r=n.length||0,o=0;o<6-r;o++)i+="0";return n="#"+i+n,n}var s=function(t,e){if(ni.trace("label with style :",e),t){for(var n=t.getProperties().name,i=o("ff000000"),r="#FFFFFF",s=0,a="Sans",l="16px",c=null,u=5,h="#000000",d="#ffffff",p=1,g=!1,f=!1,m=e.childNodes,A=0;A<m.length;A++)switch(m[A].nodeName){case"scale":break;case"colorMode":break;case"color":i=o(m[A].textContent);break;case"LabelStyleSimpleExtensionGroup":g=!0;for(var y=m[A].attributes,v=0;v<y.length;v++)switch(y[v].nodeName){case"fontFamily":a=y[v].nodeValue;break;case"fontSize":l=y[v].nodeValue;break;case"haloColor":r=o(y[v].nodeValue);break;case"haloRadius":s=parseInt(y[v].nodeValue,10);break;case"haloOpacity":break;default:}break;case"ObjectSimpleExtensionGroup":f=!0;for(var _=m[A].attributes,C=0;C<_.length;C++)switch(_[C].nodeName){case"type":c=_[C].nodeValue;break;case"radius":u=parseInt(_[C].nodeValue,10);break;case"fillColor":var I=_[C].nodeValue,E=Math.round(Zn.num(I.substr(0,2))/255*10)/10,w=o(I);h=Zn.hexToRgba(w,E);break;case"strokeColor":var b=_[C].nodeValue,x=Math.round(Zn.num(b.substr(0,2))/255*10)/10,S=o(b);d=Zn.hexToRgba(S,x);break;case"strokeWidth":p=parseInt(_[C].nodeValue,10);break;default:}break;default:}var P=null;f&&"circle"===c?P=new Wn.A({radius:u,fill:new Hn.A({color:h}),stroke:new Yn.A({color:d,width:p})}):g&&(P=new Vn.A({src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGNiYAAAAAkAAxkR2eQAAAAASUVORK5CYII=",size:[51,38],anchor:[25.5,38],anchorOrigin:"top-left",anchorXUnits:"pixels",anchorYUnits:"pixels"})),t.setStyle(new Ie.Ay({image:P,text:new qn.A({font:l+" "+a,textAlign:"left",text:n,fill:new Hn.A({color:i}),stroke:new Yn.A({color:r,width:s})})}))}},a=function(t,e){ni.trace("hotspot :",e);for(var n=null,i=null,r=o("ffffffff"),s=!1,a=51,l=38,c=!1,u=25.5,h="pixels",d=38,p="pixels",g=e.childNodes,f=!1,m=0;m<g.length;m++)switch(g[m].nodeName){case"Icon":f=!0;for(var A=g[m].childNodes,y=0;y<A.length;y++)switch(A[y].nodeName){case"href":n=A[y].textContent;break;case"gx:w":s=!0,a=parseFloat(A[y].textContent);break;case"gx:h":s=!0,l=parseFloat(A[y].textContent);break;default:}break;case"hotSpot":c=!0;for(var v=g[m].attributes,_=0;_<v.length;_++)switch(v[_].nodeName){case"x":u=parseFloat(v[_].nodeValue);break;case"y":d=parseFloat(v[_].nodeValue);break;case"yunits":h=v[_].nodeValue;break;case"xunits":p=v[_].nodeValue;break;default:}break;case"scale":i=parseFloat(g[m].textContent);break;case"color":r=o(g[m].textContent);break;default:}var C=null;if(f){var I={src:n||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGNiYAAAAAkAAxkR2eQAAAAASUVORK5CYII=",color:r,crossOrigin:"anonymous",scale:i||1};s&&Dn.mergeParams(I,{size:[a,l]}),c&&Dn.mergeParams(I,{anchor:[u,d],anchorOrigin:"bottom-left",anchorXUnits:h||"pixels",anchorYUnits:p||"pixels"}),C=new Vn.A(I)}var E=t.getStyleFunction();if(E){var w=E(t,0);if(w&&!Array.isArray(w)&&(w=[w]),w&&0!==w.length){var b=1===w.length?w[0]:w[w.length-1];t.setStyle(new Ie.Ay({image:C,text:b.getText()}))}}},l=function(t,e){if(ni.trace("extendData :",e),t){for(var n={},i=t.get("name")||"",r=t.get("description")||"",o=null,s=0;s<e.length;s++){var a=e[s],l=a.attributes[0],c=a.childNodes;if("name"===l.nodeName)switch(l.nodeValue){case"label":i=a.textContent,n.name=i;break;case"title":case"attributetitle":for(var u=0;u<c.length;u++)"value"===c[u].nodeName&&(o=c[u].textContent);break;default:n[l.nodeValue]=a.textContent;break}}o&&(r=r?o+" : "+r:o,n.description=r),Object.keys(n).length&&t.setProperties(n,!0)}},c=function(t,e,n){ni.trace("display icon and label"),s(t,n),a(t,e)},u=function(t,e){};return this._processKml(i,n,{lineStringStyle:u,polygonStyle:u,pointStyle:u,labelStyle:this.showPointNames_?s:null,iconStyle:a,iconLabelStyle:this.showPointNames_?c:a,extendedData:l}),n}readRootExtensions(t){for(var e={},n="#document"===this.source.nodeName?this.source.childNodes[0]:this.source,i=n.childNodes,r=0;r<i.length;r++){var o=i[r];if("ExtendedData"===o.nodeName)for(var s=o.childNodes,a=0;a<s.length;a++){var l=s[a];if("Data"===l.nodeName){var c=l.attributes[0];if(c&&"name"===c.nodeName&&c.nodeValue===t){e=JSON.parse(l.textContent);break}}}}return e}},ri=ii;window.ol&&window.ol.format&&(window.ol.format.KMLExtended=ii);var oi=n(7881),si=class t extends oi.A{constructor(e){if(super(e),!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");if(this.options=e||{},this.options.readExtensions&&"function"===typeof this.options.readExtensions){var n=this.options.readExtensions;this.options.readExtensions=function(t,e){this.readExtensions(t,e),n.call(this,t,e)}}else this.options.readExtensions=this.readExtensions;return null!==this.options.defaultStyle&&"undefined"!==typeof this.options.defaultStyle||(this.options.defaultStyle={}),this.source=null,this}readFeatures(t,e){var n=super.readFeatures(t,e);"string"===typeof t?this.source=ei.parse(t):null!==t&&(this.source=t);var i=this;return n.forEach((function(t,e,n){t.setId(e+1);var r=t.getProperties().desc;r&&t.setProperties({description:r});var o=t.getStyleFunction();if(!o){var s=Qn.defineStyleFunctionByDefault(i.options.defaultStyle);s&&t.setStyle(s)}})),n}writeFeatures(t,e){if(t.forEach((function(e,n,i){var r=e.getProperties().description;r&&e.setProperties({desc:r}),Qn.definePropertiesFromStyle(e);var o=e.getGeometry().getType();if("Polygon"===o){var s=e.clone();s.set("type",o),s.setGeometry(new nn.A(e.getGeometry().getCoordinates())),t.push(s),i.splice(n,1)}else if("MultiPolygon"===o){var a=e.clone();a.set("type",o),a.setGeometry(new on.A(e.getGeometry().getCoordinates())),t.push(a),i.splice(n,1)}})),void 0!==this.options.orderBy){var n=this.options.orderBy;if(n){var i=function(t,e){var i=t.get(n)||0,r=e.get(n)||0;return i.toString().localeCompare(r.toString(),void 0,{numeric:!0})};t.sort(i)}}var r=super.writeFeaturesNode(t,e);if(null===r)return null;this.options.hasOwnProperty("extensions")&&this.writeRootExtensions_(r,this.options.extensions),this.processExtensions_(r,t,{extensions:this.writeExtensions_});var o=ei.toString(r);if(!o)return null;var s=ei.format(o);return""===s?null:s}readExtensions(t,e){var n=e;if(!e){var i=t.getProperties();for(const t in i)if(Object.hasOwnProperty.call(i,t)){const e=i[t];if(e instanceof Node){n=e;break}}}if(n){for(var r=0;r<n.childNodes.length;r++){var o=n.childNodes[r];1===o.nodeType&&t.set(o.nodeName,o.textContent)}Qn.APPLY_CONVERT_GEOM_GPX=!0;var s=Qn.defineStyleFromProperties(t);s&&t.setStyle(s)}else console.warn("node not found !")}readRootExtensions(t){for(var e={},n=this.source.childNodes[0],i=n.childNodes,r=0;r<i.length;r++){var o=i[r];if("metadata"===o.nodeName)for(var s=o.childNodes,a=0;a<s.length;a++){var l=s[a];if("extensions"===l.nodeName)for(var c=l.childNodes,u=0;u<c.length;u++){var h=c[u];if("data"===h.nodeName){var d=h.attributes[0];if(d&&"name"===d.nodeName&&d.nodeValue===t){e=JSON.parse(h.textContent);break}}}}}return e}writeRootExtensions_(t,e,n){var i=document.createElement("metadata"),r=document.createElement("extensions");function o(t,e){for(const c in e)if(Object.hasOwnProperty.call(e,c)){var n=e[c]||"",i=document.createElement(c);if("string"===typeof n||"number"===typeof n)i.innerHTML=n,t.appendChild(i);else if(n instanceof Array){i.setAttribute("type","array"),i.setAttribute("index",n.length);for(let t=0;t<n.length;t++){var r=n[t]||"",s=document.createElement("value");if("string"===typeof r||"number"===typeof r)s.innerHTML=r,i.appendChild(s);else if(r instanceof Array){s.setAttribute("type","array"),s.setAttribute("index",r.length);for(let t=0;t<r.length;t++){var a=r[t]||"",l=document.createElement("value");"string"!==typeof a&&"number"!==typeof a||(l.innerHTML=a,s.appendChild(l))}i.appendChild(s)}else r instanceof Object&&i.appendChild(o(s,r))}t.appendChild(i)}else n instanceof Object&&t.appendChild(o(i,n))}return t}if(n)o(r,e);else for(const c in e)if(Object.hasOwnProperty.call(e,c)){const t=e[c];var s=document.createElement("data");s.setAttribute("name",c);var a=document.createTextNode(JSON.stringify(t));s.appendChild(a),r.appendChild(s)}i.appendChild(r);var l=t.firstChild;t.insertBefore(i,l)}writeExtensions_(t,e){var n=document.createElementNS(e.parentNode.namespaceURI,"extensions");Qn.getListTags().forEach((i=>{if(t.get(i)){var r=document.createElementNS(e.parentNode.namespaceURI,i);r.innerHTML=t.get(i),n.appendChild(r)}})),e.appendChild(n)}processExtensions_(t,e,n){for(var i=-1,r=t.childNodes,o=0;o<r.length;o++){var s=r[o];switch(s.nodeName){case"wpt":case"rte":case"trk":i++;var a=e[i],l=a.getStyle();if(l){var c=n.extensions;c&&"function"===typeof c&&c(a,s)}break;case"metadata":break;default:console.warn("nodename unknown :",s.nodeName);break}}}},ai=si;window.ol&&window.ol.format&&(window.ol.format.GPXExtended=si);var li=n(8131),ci=class t extends li.A{constructor(e){if(super(e),!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return this.options=e||{},null!==this.options.defaultStyle&&"undefined"!==typeof this.options.defaultStyle||(this.options.defaultStyle={}),this.source=null,this}readFeatures(t,e){var n=super.readFeatures(t,e);return"string"===typeof t?this.source=JSON.parse(t):null!==t&&(this.source=t),n.forEach((t=>{var e=t.getStyleFunction();if(e){var n=e.call(this,t,0);n&&0!==n.length&&t.setStyle(n[0])}else{var i=Qn.defineStyleFromProperties(t);if(i)t.setStyle(i);else{var r=Qn.defineStyleFunctionByDefault(this.options.defaultStyle);r&&(t.setStyle(r),Qn.definePropertiesFromStyle(t))}}})),n}writeFeatures(t,e){t.forEach((function(t){Qn.definePropertiesFromStyle(t)}));var n=this.writeFeaturesObject(t,e);return this.options.hasOwnProperty("extensions")&&Object.assign(n,this.options.extensions),JSON.stringify(n)}readRootExtensions(t){return this.source[t]}},ui=ci;window.ol&&window.ol.format&&(window.ol.format.GeoJSONExtended=ci);var hi=class extends pe{constructor(t){super(t)}getFeatureInfoUrl(t,e,n,i){var r=this.options&&this.options.tilePixelRatio?this.options.tilePixelRatio:1,o=this.tileGrid,s=this.tileGrid.getTileCoordForCoordAndResolution(t,e),l=function(t,e,n){var i=[0,0,0],r=(0,a.S5)(),o=t[1],s=t[2],l=e.getTileCoordExtent(t),c=n.getExtent();if(null!=c&&n.isGlobal()){var u=Math.ceil((0,a.RG)(c)/(0,a.RG)(l));o%=u,i[0]=t[0],i[1]=o,i[2]=t[2],l=e.getTileCoordExtent(i,r)}return(0,a.HY)(l,c)?[t[0],o,s]:null},c=o.getTileCoordExtent(s),u=l(s,o,n);if(!(o.getResolutions().length<=s[0])){var h=o.getResolution(s[0]),d=o.getMatrixIds()[s[0]],p={SERVICE:"WMTS",VERSION:"1.0.0",REQUEST:"GetFeatureInfo",LAYER:this.getLayer(),TILECOL:u[1],TILEROW:u[2],TILEMATRIX:d,TILEMATRIXSET:this.getMatrixSet(),FORMAT:this.getFormat()||"image/png",STYLE:this.getStyle()||"normal"};Dn.assign(p,i);var g=Math.floor((t[0]-c[0])/(h/r)),f=Math.floor((c[3]-t[1])/(h/r)),m=o.getTileSize(s[0]);g=Math.min(g,(m[0]|m)-1),f=Math.max(f,0),p["I"]=g,p["J"]=f;var A=this.urls[0],y=bn.Ay.Helper.normalyzeUrl(A,p);return y}}},di=hi;window.ol&&window.ol.source&&(window.ol.source.WMTSExtended=hi);class pi extends Y{constructor(t){super({extent:t.extent,origin:t.origin,origins:t.origins,resolutions:t.resolutions,tileSize:t.tileSize,tileSizes:t.tileSizes,sizes:t.sizes}),this.matrixIds_=t.matrixIds}getMatrixId(t){return this.matrixIds_[t]}getMatrixIds(){return this.matrixIds_}}var gi=pi;var fi={getZoomLevelFromScaleDenominator:function(t,e){var n={};switch(e){case"EPSG:2154":n={0:104579.224549894,1:52277.5323537905,2:26135.4870785954,3:13066.8913818,4:6533.2286041135,5:3266.5595244627,6:1633.2660045974,7:816.629554986,8:408.3139146768,9:204.1567415109,10:102.0783167832,11:51.0391448966,12:25.5195690743,13:12.7597836936,14:6.379891636,15:3.1899457653,16:1.5949728695,17:.7974864315,18:.3987432149,19:.1993716073,20:.0996858037,21:.0498429018};break;default:n={0:156543.033928041,1:78271.51696402048,2:39135.758482010235,3:19567.87924100512,4:9783.93962050256,5:4891.96981025128,6:2445.98490512564,7:1222.99245256282,8:611.49622628141,9:305.7481131407048,10:152.8740565703525,11:76.43702828517624,12:38.21851414258813,13:19.10925707129406,14:9.554628535647032,15:4.777314267823516,16:2.388657133911758,17:1.194328566955879,18:.5971642834779395,19:.2985821417389697,20:.1492910708694849,21:.0746455354347424};break}var i=28e-5*t;for(var r in n)if(n.hasOwnProperty(r)&&n[r]<=i)return r=parseInt(r,10),r;return 0},getAttributions:function(t){var e=t.zoom,n=[];if(null!=t.originators&&t.visibility)for(var i,r=0,o=t.originators.length;r<o;r++){i=!0;for(var s=t.originators[r],a=t.originators[r].constraints||[],l=0,c=a.length;l<c;l++){var u=a[l];i=!0;var h=this.getZoomLevelFromScaleDenominator(u.maxScaleDenominator,t.crs),d=this.getZoomLevelFromScaleDenominator(u.minScaleDenominator,t.crs)||21;h&&h>e&&(i=!1),i&&d&&d<e&&(i=!1);var p=u.bbox;if(i&&p){i=!1;var g=t.extent;if(g){var f=[p.top,p.left,p.bottom,p.right];if(this.intersects(g,f)){i=!0;break}}}}if(i){var m=s.logo,A=s.url,y=s.name?s.name:"",v=s.attribution,_=document.createElement("div");_.className="gp-control-attribution";var C=null;C=document.createElement("a"),C.className="gp-control-attribution-link",C.target="_blank",_.appendChild(C),A&&(C.href=A);var I=!!m,E=null;I?(E=document.createElement("img"),C?(E.className="gp-control-attribution-image",C.appendChild(E)):(E.className="",_.appendChild(E)),E.src=m,E.title=v||y,E.style.height="30px",E.style.width="30px"):C.textContent=y||(v||(A||"")),n.push(_.innerHTML+" ")}}return n},intersects:function(t,e){var n=t[1]<=e[3]&&e[1]<=t[3],i=t[2]<=e[0]&&e[2]<=t[0];return n&&i}},mi=fi,Ai={configuration:{},isConfigLoaded:function(){if(this.configuration&&0!==Object.keys(this.configuration).length)return!0;var t="undefined"!==typeof window?window:"undefined"!==typeof self?self:"undefined"!==typeof global?global:{};return!!(t.Gp&&t.Gp.Config&&t.Gp.Config.layers&&0!==Object.keys(t.Gp.Config.layers).length)&&(this.configuration=t.Gp.Config,!0)}},yi=Ai,vi=(Pn.getLogger("sourcewmts"),class extends di{constructor(t){if(!t.layer)throw new Error("ERROR PARAM_MISSING : layer");if("string"!==typeof t.layer)throw new Error("ERROR WRONG TYPE : layer");if("undefined"===typeof t.ssl&&(t.ssl=!0),!yi.isConfigLoaded())throw new Error("ERROR : contract key configuration has to be loaded to load Geoportal layers.");var e=yi.configuration.getLayerId(t.layer,"WMTS");if(!e)throw new Error(`ERROR : WMTS Layer ID ${t.layer} cannot be found in Geoportal Configuration. Make sure that this resource is included in your contract key.`);if(!yi.configuration.getLayerConf(e))throw new Error("ERROR : WMTS Layer configuration cannot be found in Geoportal....");var n=yi.configuration.getLayerParams(t.layer,"WMTS"),r=!1===t.ssl?"http://":"https://",o={"gp-ol-ext":i.olExtVersion||i.rE};n.url.includes("/private/")&&(o["apikey"]=t.apiKey||yi.configuration.getLayerKey(e)[0]);var s={url:bn.Ay.Helper.normalyzeUrl(n.url.replace(/(http|https):\/\//,r),o,!1),version:n.version,style:n.styles,format:n.format,projection:n.projection,maxZoom:mi.getZoomLevelFromScaleDenominator(n.minScale),layer:t.layer,matrixSet:n.TMSLink,tileGrid:new gi({resolutions:n.nativeResolutions,matrixIds:n.matrixIds,origin:[n.tileMatrices[0].topLeftCorner.x,n.tileMatrices[0].topLeftCorner.y]})};return Dn.mergeParams(s,t.olParams),t.olParams&&!n.originators&&(n.originators=t.olParams.attributions),super(s),this._originators=n.originators,this._legends=t.legends||n.legends,this._metadata=t.metadata||n.metadata,this._description=t.description||n.description,this._title=t.title||n.title,this._quicklookUrl=t.quicklookUrl||n.quicklookUrl,this}}),_i=vi;window.ol&&window.ol.source&&(window.ol.source.GeoportalWMTS=vi);Pn.getLogger("sourcewms");var Ci=class extends he{constructor(t){if(!t.layer)throw new Error("ERROR PARAM_MISSING : layer");if("string"!==typeof t.layer)throw new Error("ERROR WRONG TYPE : layer");if("undefined"===typeof t.ssl&&(t.ssl=!0),!yi.isConfigLoaded())throw new Error("ERROR : contract key configuration has to be loaded to load Geoportal layers.");var e=yi.configuration.getLayerId(t.layer,"WMS");if(!e)throw new Error(`ERROR : WMS Layer ID ${t.layer} cannot be found in Geoportal Configuration. Make sure that this resource is included in your contract key.`);if(!yi.configuration.getLayerConf(e))throw new Error("ERROR : WMS Layer configuration cannot be found in Geoportal....");var n=yi.configuration.getLayerParams(t.layer,"WMS"),r=!1===t.ssl?"http://":"https://",o={"gp-ol-ext":i.olExtVersion||i.rE};n.url.includes("/private/")&&(o["apikey"]=t.apiKey||yi.configuration.getLayerKey(e)[0]);var s={url:bn.Ay.Helper.normalyzeUrl(n.url.replace(/(http|https):\/\//,r),o,!1),params:{SERVICE:"WMS",LAYERS:t.layer,VERSION:n.version,STYLES:n.styles,FORMAT:n.format}};return Dn.mergeParams(s,t.olParams),t.olParams&&!n.originators&&(n.originators=t.olParams.attributions),super(s),this._originators=n.originators,this._legends=t.legends||n.legends,this._metadata=t.metadata||n.metadata,this._title=t.title||n.title,this._description=t.description||n.description,this._quicklookUrl=t.quicklookUrl||n.quicklookUrl,this}},Ii=Ci;window.ol&&window.ol.source&&(window.ol.source.GeoportalWMS=Ci);var Ei=n(2425),wi={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class bi extends Ei.A{constructor(t){t=t||{};const e=Object.assign({},t);delete e.preload,delete e.useInterimTilesOnError,super(e),this.on,this.once,this.un,this.setPreload(void 0!==t.preload?t.preload:0),this.setUseInterimTilesOnError(void 0===t.useInterimTilesOnError||t.useInterimTilesOnError)}getPreload(){return this.get(wi.PRELOAD)}setPreload(t){this.set(wi.PRELOAD,t)}getUseInterimTilesOnError(){return this.get(wi.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(t){this.set(wi.USE_INTERIM_TILES_ON_ERROR,t)}getData(t){return super.getData(t)}}var xi=bi,Si=n(3525),Pi=n(1194);class Mi extends Si.A{constructor(t){super(t),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=(0,a.S5)(),this.tmpTileRange_=new D(0,0,0,0)}isDrawableTile(t){const e=this.getLayer(),n=t.getState(),i=e.getUseInterimTilesOnError();return n==f.A.LOADED||n==f.A.EMPTY||n==f.A.ERROR&&!i}getTile(t,e,n,i){const r=i.pixelRatio,o=i.viewState.projection,s=this.getLayer(),a=s.getSource();let l=a.getTile(t,e,n,r,o);return l.getState()==f.A.ERROR&&s.getUseInterimTilesOnError()&&s.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(l)||(l=l.getInterimTile()),l}getData(t){const e=this.frameState;if(!e)return null;const n=this.getLayer(),i=(0,Pi.Bb)(e.pixelToCoordinateTransform,t.slice()),r=n.getExtent();if(r&&!(0,a.Ym)(r,i))return null;const o=e.pixelRatio,s=e.viewState.projection,l=e.viewState,c=n.getRenderSource(),u=c.getTileGridForProjection(l.projection),h=c.getTilePixelRatio(e.pixelRatio);for(let a=u.getZForResolution(l.resolution);a>=u.getMinZoom();--a){const t=u.getTileCoordForCoordAndZ(i,a),e=c.getTile(a,t[1],t[2],o,s);if(!(e instanceof wt||e instanceof Ut)||e instanceof Ut&&e.getState()===f.A.EMPTY)return null;if(e.getState()!==f.A.LOADED)continue;const n=u.getOrigin(a),r=(0,j.xq)(u.getTileSize(a)),d=u.getResolution(a),p=Math.floor(h*((i[0]-n[0])/d-t[1]*r[0])),g=Math.floor(h*((n[1]-i[1])/d-t[2]*r[1])),m=Math.round(h*c.getGutterForProjection(l.projection));return this.getImageData(e.getImage(),p+m,g+m)}return null}loadedTileCallback(t,e,n){return!!this.isDrawableTile(n)&&super.loadedTileCallback(t,e,n)}prepareFrame(t){return!!this.getLayer().getSource()}renderFrame(t,e){const n=t.layerStatesArray[t.layerIndex],i=t.viewState,r=i.projection,o=i.resolution,s=i.center,l=i.rotation,c=t.pixelRatio,u=this.getLayer(),h=u.getSource(),d=h.getRevision(),p=h.getTileGridForProjection(r),g=p.getZForResolution(o,h.zDirection),A=p.getResolution(g);let y=t.extent;const v=t.viewState.resolution,_=h.getTilePixelRatio(c),C=Math.round((0,a.RG)(y)/v*c),I=Math.round((0,a.Oq)(y)/v*c),E=n.extent&&(0,Z.SD)(n.extent,r);E&&(y=(0,a._N)(y,(0,Z.SD)(n.extent,r)));const w=A*C/2/_,b=A*I/2/_,x=[s[0]-w,s[1]-b,s[0]+w,s[1]+b],S=p.getTileRangeForExtentAndZ(y,g),P={};P[g]={};const M=this.createLoadedTileFinder(h,r,P),R=this.tmpExtent,T=this.tmpTileRange_;this.newTiles_=!1;const G=l?(0,a.Yw)(i.center,v,l,t.size):void 0;for(let a=S.minX;a<=S.maxX;++a)for(let e=S.minY;e<=S.maxY;++e){if(l&&!p.tileCoordIntersectsViewport([g,a,e],G))continue;const i=this.getTile(g,a,e,t);if(this.isDrawableTile(i)){const e=(0,m.v6)(this);if(i.getState()==f.A.LOADED){P[g][i.tileCoord.toString()]=i;let t=i.inTransition(e);t&&1!==n.opacity&&(i.endTransition(e),t=!1),this.newTiles_||!t&&this.renderedTiles.includes(i)||(this.newTiles_=!0)}if(1===i.getAlpha(e,t.time))continue}const r=p.getTileCoordChildTileRange(i.tileCoord,T,R);let o=!1;r&&(o=M(g+1,r)),o||p.forEachTileCoordParentTileRange(i.tileCoord,M,T,R)}const L=A/o*c/_;(0,Pi.Zz)(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/c,1/c,l,-C/2,-I/2);const k=(0,Pi.dI)(this.pixelTransform);this.useContainer(e,k,this.getBackground(t));const O=this.context,D=O.canvas;(0,Pi.T9)(this.inversePixelTransform,this.pixelTransform),(0,Pi.Zz)(this.tempTransform,C/2,I/2,L,L,0,-C/2,-I/2),D.width!=C||D.height!=I?(D.width=C,D.height=I):this.containerReused||O.clearRect(0,0,C,I),E&&this.clipUnrotated(O,t,E),h.getInterpolate()||(O.imageSmoothingEnabled=!1),this.preRender(O,t),this.renderedTiles.length=0;let N,F,U,j=Object.keys(P).map(Number);j.sort(B.V_),1!==n.opacity||this.containerReused&&!h.getOpaque(t.viewState.projection)?(N=[],F=[]):j=j.reverse();for(let f=j.length-1;f>=0;--f){const e=j[f],n=h.getTilePixelSize(e,c,r),i=p.getResolution(e),o=i/A,s=n[0]*o*L,l=n[1]*o*L,u=p.getTileCoordForCoordAndZ((0,a.Py)(x),e),d=p.getTileCoordExtent(u),y=(0,Pi.Bb)(this.tempTransform,[_*(d[0]-x[0])/A,_*(x[3]-d[3])/A]),v=_*h.getGutterForProjection(r),C=P[e];for(const r in C){const n=C[r],i=n.tileCoord,o=u[1]-i[1],c=Math.round(y[0]-(o-1)*s),d=u[2]-i[2],p=Math.round(y[1]-(d-1)*l),f=Math.round(y[0]-o*s),A=Math.round(y[1]-d*l),_=c-f,I=p-A,E=g===e,w=E&&1!==n.getAlpha((0,m.v6)(this),t.time);let b=!1;if(!w)if(N){U=[f,A,f+_,A,f+_,A+I,f,A+I];for(let t=0,n=N.length;t<n;++t)if(g!==e&&e<F[t]){const e=N[t];(0,a.HY)([f,A,f+_,A+I],[e[0],e[3],e[4],e[7]])&&(b||(O.save(),b=!0),O.beginPath(),O.moveTo(U[0],U[1]),O.lineTo(U[2],U[3]),O.lineTo(U[4],U[5]),O.lineTo(U[6],U[7]),O.moveTo(e[6],e[7]),O.lineTo(e[4],e[5]),O.lineTo(e[2],e[3]),O.lineTo(e[0],e[1]),O.clip())}N.push(U),F.push(e)}else O.clearRect(f,A,_,I);this.drawTileImage(n,t,f,A,_,I,v,E),N&&!w?(b&&O.restore(),this.renderedTiles.unshift(n)):this.renderedTiles.push(n),this.updateUsedTiles(t.usedTiles,h,n)}}return this.renderedRevision=d,this.renderedResolution=A,this.extentChanged=!this.renderedExtent_||!(0,a.aI)(this.renderedExtent_,x),this.renderedExtent_=x,this.renderedPixelRatio=c,this.renderedProjection=r,this.manageTilePyramid(t,h,p,c,r,y,g,u.getPreload()),this.scheduleExpireCache(t,h),this.postRender(O,t),n.extent&&O.restore(),O.imageSmoothingEnabled=!0,k!==D.style.transform&&(D.style.transform=k),this.container}drawTileImage(t,e,n,i,r,o,s,a){const l=this.getTileImage(t);if(!l)return;const c=(0,m.v6)(this),u=e.layerStatesArray[e.layerIndex],h=u.opacity*(a?t.getAlpha(c,e.time):1),d=h!==this.context.globalAlpha;d&&(this.context.save(),this.context.globalAlpha=h),this.context.drawImage(l,s,s,l.width-2*s,l.height-2*s,n,i,r,o),d&&this.context.restore(),h!==u.opacity?e.animate=!0:a&&t.endTransition(c)}getImage(){const t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}scheduleExpireCache(t,e){if(e.canExpireCache()){const n=function(t,e,n){const i=(0,m.v6)(t);i in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[i])}.bind(null,e);t.postRenderFunctions.push(n)}}updateUsedTiles(t,e,n){const i=(0,m.v6)(e);i in t||(t[i]={}),t[i][n.getKey()]=!0}manageTilePyramid(t,e,n,i,r,o,s,l,c){const u=(0,m.v6)(e);u in t.wantedTiles||(t.wantedTiles[u]={});const h=t.wantedTiles[u],d=t.tileQueue,p=n.getMinZoom(),g=t.viewState.rotation,A=g?(0,a.Yw)(t.viewState.center,t.viewState.resolution,g,t.size):void 0;let y,v,_,C,I,E,w=0;for(E=p;E<=s;++E)for(v=n.getTileRangeForExtentAndZ(o,E,v),_=n.getResolution(E),C=v.minX;C<=v.maxX;++C)for(I=v.minY;I<=v.maxY;++I)g&&!n.tileCoordIntersectsViewport([E,C,I],A)||(s-E<=l?(++w,y=e.getTile(E,C,I,i,r),y.getState()==f.A.IDLE&&(h[y.getKey()]=!0,d.isKeyQueued(y.getKey())||d.enqueue([y,u,n.getTileCoordCenter(y.tileCoord),_])),void 0!==c&&c(y)):e.useTile(E,C,I,r));e.updateCacheSize(w,r)}}var Ri=Mi;class Ti extends xi{constructor(t){super(t)}createRenderer(){return new Ri(this)}}var Gi=Ti,Li=class extends Gi{constructor(t){if(!t.layer)throw new Error("ERROR PARAM_MISSING : layer");if("string"!==typeof t.layer)throw new Error("ERROR WRONG TYPE : layer");if("undefined"===typeof t.ssl&&(t.ssl=!0),!yi.isConfigLoaded())throw new Error("ERROR : contract key configuration has to be loaded to load Geoportal layers.");var e;t.olParams&&t.olParams.sourceParams&&(e=t.olParams.sourceParams);var n=new _i({layer:t.layer,ssl:t.ssl,apiKey:t.apiKey,olParams:e}),i={source:n};if(void 0!==n.getLayer()){var r,o=yi.configuration.getLayerId(t.layer,"WMTS"),s=yi.configuration.getGlobalConstraints(o);if(s&&s.projection)"string"===typeof s.projection&&(r=(0,Z.Jt)(s.projection)),r&&r.getUnits()&&("m"===r.getUnits()?(i.minResolution=28e-5*(s.minScale-1),i.maxResolution=28e-5*(s.maxScale+1)):"degrees"===r.getUnits()&&(i.minResolution=28e-5*(s.minScale-1)*180/(6378137*Math.PI),i.maxResolution=28e-5*(s.maxScale+1)*180/(6378137*Math.PI)))}return Dn.mergeParams(i,t.olParams),super(i),this}},ki=Li;window.ol&&window.ol.layer&&(window.ol.layer.GeoportalWMTS=Li);var Oi=class extends Gi{constructor(t){if(!t.layer)throw new Error("ERROR PARAM_MISSING : layer");if("string"!==typeof t.layer)throw new Error("ERROR WRONG TYPE : layer");if("undefined"===typeof t.ssl&&(t.ssl=!0),!yi.isConfigLoaded())throw new Error("ERROR : contract key configuration has to be loaded to load Geoportal layers.");var e;t.olParams&&t.olParams.sourceParams&&(e=t.olParams.sourceParams);var n=new Ii({layer:t.layer,ssl:t.ssl,apiKey:t.apiKey,olParams:e}),i={source:n};if(void 0!==n.getParams().LAYERS){var r=yi.configuration.getLayerId(t.layer,"WMS"),o=yi.configuration.getGlobalConstraints(r);if(e&&e.projection){var s,a=[o.extent.left,o.extent.bottom,o.extent.right,o.extent.top];i.extent=(0,Z.DI)(a,"EPSG:4326",e.projection),"string"===typeof e.projection?s=(0,Z.Jt)(e.projection):"object"===typeof e.projection&&e.projection.getCode()&&(s=(0,Z.Jt)(e.projection.getCode())),s&&s.getUnits()&&("m"===s.getUnits()?(i.minResolution=28e-5*(o.minScale-1),i.maxResolution=28e-5*(o.maxScale+1)):"degrees"===s.getUnits()&&(i.minResolution=28e-5*(o.minScale-1)*180/(6378137*Math.PI),i.maxResolution=28e-5*(o.maxScale+1)*180/(6378137*Math.PI)))}}return Dn.mergeParams(i,t.olParams),super(i),this}},Di=Oi;window.ol&&window.ol.layer&&(window.ol.layer.GeoportalWMS=Oi);var Ni=n(6420),Fi=n(5073),Ui=n(6264),Bi=n(6940),ji=n(923),zi=n(4405);const Wi={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},Vi={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]};class Yi extends Ri{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.renderedLayerRevision_,this.renderedPixelToCoordinateTransform_=null,this.renderedRotation_,this.tmpTransform_=(0,Pi.vt)()}prepareTile(t,e,n){let i;const r=t.getState();return r!==f.A.LOADED&&r!==f.A.ERROR||(this.updateExecutorGroup_(t,e,n),this.tileImageNeedsRender_(t)&&(i=!0)),i}getTile(t,e,n,i){const r=i.pixelRatio,o=i.viewState,s=o.resolution,a=o.projection,l=this.getLayer(),c=l.getSource().getTile(t,e,n,r,a),u=i.viewHints,h=!(u[Bi.A.ANIMATING]||u[Bi.A.INTERACTING]);!h&&c.wantedResolution||(c.wantedResolution=s);const d=this.prepareTile(c,r,a);return d&&(h||Date.now()-i.time<8)&&"vector"!==l.getRenderMode()&&this.renderTileImage_(c,i),super.getTile(t,e,n,i)}isDrawableTile(t){const e=this.getLayer();return super.isDrawableTile(t)&&("vector"===e.getRenderMode()?(0,m.v6)(e)in t.executorGroups:t.hasContext(e))}getTileImage(t){return t.getImage(this.getLayer())}prepareFrame(t){const e=this.getLayer().getRevision();return this.renderedLayerRevision_!==e&&(this.renderedLayerRevision_=e,this.renderedTiles.length=0),super.prepareFrame(t)}updateExecutorGroup_(t,e,n){const i=this.getLayer(),r=i.getRevision(),o=i.getRenderOrder()||null,s=t.wantedResolution,l=t.getReplayState(i);if(!l.dirty&&l.renderedResolution===s&&l.renderedRevision==r&&l.renderedRenderOrder==o)return;const c=i.getSource(),u=i.getDeclutter(),h=c.getTileGrid(),d=c.getTileGridForProjection(n),p=d.getTileCoordExtent(t.wrappedTileCoord),g=c.getSourceTiles(e,n,t),A=(0,m.v6)(i);delete t.hitDetectionImageData[A],t.executorGroups[A]=[],u&&(t.declutterExecutorGroups[A]=[]),l.dirty=!1;for(let m=0,y=g.length;m<y;++m){const n=g[m];if(n.getState()!=f.A.LOADED)continue;const r=n.tileCoord,d=h.getTileCoordExtent(r),y=(0,a._N)(p,d),v=(0,a.r)(y,i.getRenderBuffer()*s,this.tmpExtent),_=(0,a.aI)(d,y)?null:v,C=new Fi.A(0,v,s,e),I=u?new Fi.A(0,y,s,e):void 0,E=(0,zi.j)(s,e),w=function(t){let e;const n=t.getStyleFunction()||i.getStyleFunction();if(n&&(e=n(t,s)),e){const n=this.renderFeature(t,E,e,C,I);l.dirty=l.dirty||n}},b=n.getFeatures();o&&o!==l.renderedRenderOrder&&b.sort(o);for(let t=0,e=b.length;t<e;++t){const e=b[t];_&&!(0,a.HY)(_,e.getGeometry().getExtent())||w.call(this,e)}const x=C.finish(),S="vector"!==i.getRenderMode()&&u&&1===g.length?null:y,P=new Ui.A(S,s,e,c.getOverlaps(),x,i.getRenderBuffer());if(t.executorGroups[A].push(P),I){const n=new Ui.A(null,s,e,c.getOverlaps(),I.finish(),i.getRenderBuffer());t.declutterExecutorGroups[A].push(n)}}l.renderedRevision=r,l.renderedRenderOrder=o,l.renderedResolution=s}forEachFeatureAtCoordinate(t,e,n,i,r){const o=e.viewState.resolution,s=e.viewState.rotation;n=void 0==n?0:n;const l=this.getLayer(),c=l.getSource(),u=c.getTileGridForProjection(e.viewState.projection),h=(0,a.Tr)([t]);(0,a.r)(h,o*n,h);const d={},p=function(t,e,n){let o=t.getId();void 0===o&&(o=(0,m.v6)(t));const s=d[o];if(s){if(!0!==s&&n<s.distanceSq){if(0===n)return d[o]=!0,r.splice(r.lastIndexOf(s),1),i(t,l,e);s.geometry=e,s.distanceSq=n}}else{if(0===n)return d[o]=!0,i(t,l,e);r.push(d[o]={feature:t,layer:l,geometry:e,distanceSq:n,callback:i})}},g=this.renderedTiles;let f;for(let A=0,y=g.length;!f&&A<y;++A){const i=g[A],r=u.getTileCoordExtent(i.wrappedTileCoord);if(!(0,a.HY)(r,h))continue;const c=(0,m.v6)(l),d=[i.executorGroups[c]],y=i.declutterExecutorGroups[c];y&&d.push(y),d.some((i=>{const r=i===y?e.declutterTree.all().map((t=>t.value)):null;for(let e=0,a=i.length;e<a;++e){const a=i[e];if(f=a.forEachFeatureAtCoordinate(t,o,s,n,p,r),f)return!0}}))}return f}getFeatures(t){return new Promise(((e,n)=>{const i=this.getLayer(),r=(0,m.v6)(i),o=i.getSource(),s=this.renderedProjection,l=s.getExtent(),c=this.renderedResolution,u=o.getTileGridForProjection(s),h=(0,Pi.Bb)(this.renderedPixelToCoordinateTransform_,t.slice()),d=u.getTileCoordForCoordAndResolution(h,c);let p;for(let t=0,m=this.renderedTiles.length;t<m;++t)if(d.toString()===this.renderedTiles[t].tileCoord.toString()){if(p=this.renderedTiles[t],p.getState()===f.A.LOADED){const t=u.getTileCoordExtent(p.tileCoord);o.getWrapX()&&s.canWrapX()&&!(0,a.ms)(l,t)&&(0,Oe.Li)(h,s);break}p=void 0}if(!p||p.loadingSourceTiles>0)return void e([]);const g=u.getTileCoordExtent(p.wrappedTileCoord),A=(0,a.Py)(g),y=[(h[0]-A[0])/c,(A[1]-h[1])/c],v=p.getSourceTiles().reduce((function(t,e){return t.concat(e.getFeatures())}),[]);let _=p.hitDetectionImageData[r];if(!_){const t=(0,j.xq)(u.getTileSize(u.getZForResolution(c,o.zDirection))),e=this.renderedRotation_,n=[this.getRenderTransform(u.getTileCoordCenter(p.wrappedTileCoord),c,0,ji.tF,t[0]*ji.tF,t[1]*ji.tF,0)];_=(0,ji._7)(t,n,v,i.getStyleFunction(),u.getTileCoordExtent(p.wrappedTileCoord),p.getReplayState(i).renderedResolution,e),p.hitDetectionImageData[r]=_}e((0,ji.F8)(y,v,_))}))}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&void 0!==this.renderedLayerRevision_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}renderDeclutter(t){const e=this.context,n=e.globalAlpha;e.globalAlpha=this.getLayer().getOpacity();const i=t.viewHints,r=!(i[Bi.A.ANIMATING]||i[Bi.A.INTERACTING]),o=this.renderedTiles;for(let s=0,a=o.length;s<a;++s){const e=o[s],n=e.declutterExecutorGroups[(0,m.v6)(this.getLayer())];if(n)for(let i=n.length-1;i>=0;--i)n[i].execute(this.context,1,this.getTileRenderTransform(e,t),t.viewState.rotation,r,void 0,t.declutterTree)}e.globalAlpha=n}getTileRenderTransform(t,e){const n=e.pixelRatio,i=e.viewState,r=i.center,o=i.resolution,s=i.rotation,a=e.size,l=Math.round(a[0]*n),c=Math.round(a[1]*n),u=this.getLayer().getSource(),h=u.getTileGridForProjection(e.viewState.projection),d=t.tileCoord,p=h.getTileCoordExtent(t.wrappedTileCoord),g=h.getTileCoordExtent(d,this.tmpExtent)[0]-p[0],f=(0,Pi.lw)((0,Pi.hs)(this.inversePixelTransform.slice(),1/n,1/n),this.getRenderTransform(r,o,s,n,l,c,g));return f}postRender(t,e){const n=e.viewHints,i=!(n[Bi.A.ANIMATING]||n[Bi.A.INTERACTING]);this.renderedPixelToCoordinateTransform_=e.pixelToCoordinateTransform.slice(),this.renderedRotation_=e.viewState.rotation;const r=this.getLayer(),o=r.getRenderMode(),s=t.globalAlpha;t.globalAlpha=r.getOpacity();const l=Vi[o],c=e.viewState,u=c.rotation,h=r.getSource(),d=h.getTileGridForProjection(c.projection),p=d.getZForResolution(c.resolution,h.zDirection),g=this.renderedTiles,f=[],A=[];let y=!0;for(let v=g.length-1;v>=0;--v){const n=g[v];y=y&&!n.getReplayState(r).dirty;const o=n.executorGroups[(0,m.v6)(r)].filter((t=>t.hasExecutors(l)));if(0===o.length)continue;const s=this.getTileRenderTransform(n,e),c=n.tileCoord[0];let h=!1;const d=o[0].getClipCoords(s);if(d){for(let e=0,n=f.length;e<n;++e)if(p!==c&&c<A[e]){const n=f[e];(0,a.HY)([d[0],d[3],d[4],d[7]],[n[0],n[3],n[4],n[7]])&&(h||(t.save(),h=!0),t.beginPath(),t.moveTo(d[0],d[1]),t.lineTo(d[2],d[3]),t.lineTo(d[4],d[5]),t.lineTo(d[6],d[7]),t.moveTo(n[6],n[7]),t.lineTo(n[4],n[5]),t.lineTo(n[2],n[3]),t.lineTo(n[0],n[1]),t.clip())}f.push(d),A.push(c)}for(let e=0,r=o.length;e<r;++e){const n=o[e];n.execute(t,1,s,u,i,l)}h&&t.restore()}t.globalAlpha=s,this.ready=y,super.postRender(t,e)}renderFeature(t,e,n,i,r){if(!n)return!1;let o=!1;if(Array.isArray(n))for(let s=0,a=n.length;s<a;++s)o=(0,zi.nl)(i,t,n[s],e,this.boundHandleStyleImageChange_,void 0,r)||o;else o=(0,zi.nl)(i,t,n,e,this.boundHandleStyleImageChange_,void 0,r);return o}tileImageNeedsRender_(t){const e=this.getLayer();if("vector"===e.getRenderMode())return!1;const n=t.getReplayState(e),i=e.getRevision(),r=t.wantedResolution;return n.renderedTileResolution!==r||n.renderedTileRevision!==i}renderTileImage_(t,e){const n=this.getLayer(),i=t.getReplayState(n),r=n.getRevision(),o=t.executorGroups[(0,m.v6)(n)];i.renderedTileRevision=r;const s=t.wrappedTileCoord,a=s[0],l=n.getSource();let c=e.pixelRatio;const u=e.viewState,h=u.projection,d=l.getTileGridForProjection(h),p=d.getResolution(t.tileCoord[0]),g=e.pixelRatio/t.wantedResolution*p,f=d.getResolution(a),A=t.getContext(n);c=Math.round(Math.max(c,g/c));const y=l.getTilePixelSize(a,c,h);A.canvas.width=y[0],A.canvas.height=y[1];const v=c/g;if(1!==v){const t=(0,Pi.cL)(this.tmpTransform_);(0,Pi.hs)(t,v,v),A.setTransform.apply(A,t)}const _=d.getTileCoordExtent(s,this.tmpExtent),C=g/f,I=(0,Pi.cL)(this.tmpTransform_);(0,Pi.hs)(I,C,-C),(0,Pi.Tl)(I,-_[0],-_[3]);for(let m=0,E=o.length;m<E;++m){const t=o[m];t.execute(A,v,I,0,!0,Wi[n.getRenderMode()])}i.renderedTileResolution=t.wantedResolution}}var Hi=Yi;class qi extends Ni.A{constructor(t){t=t||{};const e=Object.assign({},t);delete e.preload,delete e.useInterimTilesOnError,super(e),this.on,this.once,this.un;const n=t.renderMode||"hybrid";(0,I.v)("hybrid"==n||"vector"==n,"`renderMode` must be `'hybrid'` or `'vector'`"),this.renderMode_=n,this.setPreload(t.preload?t.preload:0),this.setUseInterimTilesOnError(void 0===t.useInterimTilesOnError||t.useInterimTilesOnError),this.getBackground,this.setBackground}createRenderer(){return new Hi(this)}getFeatures(t){return super.getFeatures(t)}getRenderMode(){return this.renderMode_}getPreload(){return this.get(wi.PRELOAD)}getUseInterimTilesOnError(){return this.get(wi.USE_INTERIM_TILES_ON_ERROR)}setPreload(t){this.set(wi.PRELOAD,t)}setUseInterimTilesOnError(t){this.set(wi.USE_INTERIM_TILES_ON_ERROR,t)}}var Xi=qi;n(4603),n(7566),n(8721);function Zi(t,e,n,i){const r=document.createElement("script"),o="olc_"+(0,m.v6)(e);function s(){delete window[o],r.parentNode.removeChild(r)}r.async=!0,r.src=t+(t.includes("?")?"&":"?")+(i||"callback")+"="+o;const a=setTimeout((function(){s(),n&&n()}),1e4);window[o]=function(t){clearTimeout(a),s(),e(t)},document.head.appendChild(r)}Error;Error;class Ki extends zt{constructor(t){if(super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,projection:(0,Z.Jt)("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:"loading",tileLoadFunction:t.tileLoadFunction,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,zDirection:t.zDirection}),this.tileJSON_=null,this.tileSize_=t.tileSize,t.url)if(t.jsonp)Zi(t.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{const e=new XMLHttpRequest;e.addEventListener("load",this.onXHRLoad_.bind(this)),e.addEventListener("error",this.onXHRError_.bind(this)),e.open("GET",t.url),e.send()}else{if(!t.tileJSON)throw new Error("Either `url` or `tileJSON` options must be provided");this.handleTileJSONResponse(t.tileJSON)}}onXHRLoad_(t){const e=t.target;if(!e.status||e.status>=200&&e.status<300){let t;try{t=JSON.parse(e.responseText)}catch(n){return void this.handleTileJSONError()}this.handleTileJSONResponse(t)}else this.handleTileJSONError()}onXHRError_(t){this.handleTileJSONError()}getTileJSON(){return this.tileJSON_}handleTileJSONResponse(t){const e=(0,Z.Jt)("EPSG:4326"),n=this.getProjection();let i;if(void 0!==t["bounds"]){const r=(0,Z.FO)(e,n);i=(0,a.NW)(t["bounds"],r)}const r=nt(n),o=t["minzoom"]||0,s=t["maxzoom"]||22,l=$({extent:r,maxZoom:s,minZoom:o,tileSize:this.tileSize_});if(this.tileGrid=l,this.tileUrlFunction=at(t["tiles"],l),t["attribution"]&&!this.getAttributions()){const e=void 0!==i?i:r;this.setAttributions((function(n){return(0,a.HY)(e,n.extent)?[t["attribution"]]:null}))}this.tileJSON_=t,this.setState("ready")}handleTileJSONError(){this.setState("error")}}var Ji=Ki,Qi=n(2910),$i=n(5335),tr=n(7083),er=n(3077),nr=n(1853);class ir extends Qi.Ay{constructor(t){super(),t=t||{},this.dataProjection=new tr.A({code:"",units:"tile-pixels"}),this.featureClass_=t.featureClass?t.featureClass:er.Ay,this.geometryName_=t.geometryName,this.layerName_=t.layerName?t.layerName:"layer",this.layers_=t.layers?t.layers:null,this.idProperty_=t.idProperty,this.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"]}readRawGeometry_(t,e,n,i){t.pos=e.geometry;const r=t.readVarint()+t.pos;let o=1,s=0,a=0,l=0,c=0,u=0;while(t.pos<r){if(!s){const e=t.readVarint();o=7&e,s=e>>3}if(s--,1===o||2===o)a+=t.readSVarint(),l+=t.readSVarint(),1===o&&c>u&&(i.push(c),u=c),n.push(a,l),c+=2;else{if(7!==o)throw new Error("Invalid command found in the PBF");c>u&&(n.push(n[u],n[u+1]),c+=2)}}c>u&&(i.push(c),u=c)}createFeature_(t,e,n){const i=e.type;if(0===i)return null;let r;const o=e.properties;let s;this.idProperty_?(s=o[this.idProperty_],delete o[this.idProperty_]):s=e.id,o[this.layerName_]=e.layer.name;const a=[],l=[];this.readRawGeometry_(t,e,a,l);const c=lr(i,l.length);if(this.featureClass_===er.Ay)r=new this.featureClass_(c,a,l,2,o,s),r.transform(n.dataProjection);else{let t;if("Polygon"==c){const e=(0,nr.yJ)(a,l);t=e.length>1?new an.A(a,"XY",e):new De.Ay(a,"XY",l)}else t="Point"===c?new Te.A(a,"XY"):"LineString"===c?new nn.A(a,"XY"):"MultiPoint"===c?new sn.A(a,"XY"):"MultiLineString"===c?new on.A(a,"XY",l):null;const e=this.featureClass_;r=new e,this.geometryName_&&r.setGeometryName(this.geometryName_);const i=(0,Qi.hX)(t,!1,n);r.setGeometry(i),void 0!==s&&r.setId(s),r.setProperties(o,!0)}return r}getType(){return"arraybuffer"}readFeatures(t,e){const n=this.layers_;e=this.adaptOptions(e);const i=(0,Z.Jt)(e.dataProjection);i.setWorldExtent(e.extent),e.dataProjection=i;const r=new $i(t),o=r.readFields(rr,{}),s=[];for(const a in o){if(n&&!n.includes(a))continue;const t=o[a],l=t?[0,0,t.extent,t.extent]:null;i.setExtent(l);for(let n=0,i=t.length;n<i;++n){const i=ar(r,t,n),o=this.createFeature_(r,i,e);null!==o&&s.push(o)}}return s}readProjection(t){return this.dataProjection}setLayers(t){this.layers_=t}}function rr(t,e,n){if(3===t){const t={keys:[],values:[],features:[]},i=n.readVarint()+n.pos;n.readFields(or,t,i),t.length=t.features.length,t.length&&(e[t.name]=t)}}function or(t,e,n){if(15===t)e.version=n.readVarint();else if(1===t)e.name=n.readString();else if(5===t)e.extent=n.readVarint();else if(2===t)e.features.push(n.pos);else if(3===t)e.keys.push(n.readString());else if(4===t){let i=null;const r=n.readVarint()+n.pos;while(n.pos<r)t=n.readVarint()>>3,i=1===t?n.readString():2===t?n.readFloat():3===t?n.readDouble():4===t?n.readVarint64():5===t?n.readVarint():6===t?n.readSVarint():7===t?n.readBoolean():null;e.values.push(i)}}function sr(t,e,n){if(1==t)e.id=n.readVarint();else if(2==t){const t=n.readVarint()+n.pos;while(n.pos<t){const t=e.layer.keys[n.readVarint()],i=e.layer.values[n.readVarint()];e.properties[t]=i}}else 3==t?e.type=n.readVarint():4==t&&(e.geometry=n.pos)}function ar(t,e,n){t.pos=e.features[n];const i=t.readVarint()+t.pos,r={layer:e,type:0,properties:{}};return t.readFields(sr,r,i),r}function lr(t,e){let n;return 1===t?n=1===e?"Point":"MultiPoint":2===t?n=1===e?"LineString":"MultiLineString":3===t&&(n="Polygon"),n}var cr=ir,ur=n(4549),hr=n(8911),dr=(n(3139),n(4705),n(3311)),pr=n(8655);function gr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t["default"]:t}var fr,mr={},Ar={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function yr(t){return t=Math.round(t),t<0?0:t>255?255:t}function vr(t){return t<0?0:t>1?1:t}function _r(t){return"%"===t[t.length-1]?yr(parseFloat(t)/100*255):yr(parseInt(t))}function Cr(t){return"%"===t[t.length-1]?vr(parseFloat(t)/100):vr(parseFloat(t))}function Ir(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function Er(t){var e=t.replace(/ /g,"").toLowerCase();if(e in Ar)return Ar[e].slice();if("#"===e[0]){if(4===e.length){var n=parseInt(e.substr(1),16);return n>=0&&n<=4095?[(3840&n)>>4|(3840&n)>>8,240&n|(240&n)>>4,15&n|(15&n)<<4,1]:null}if(7===e.length){n=parseInt(e.substr(1),16);return n>=0&&n<=16777215?[(16711680&n)>>16,(65280&n)>>8,255&n,1]:null}return null}var i=e.indexOf("("),r=e.indexOf(")");if(-1!==i&&r+1===e.length){var o=e.substr(0,i),s=e.substr(i+1,r-(i+1)).split(","),a=1;switch(o){case"rgba":if(4!==s.length)return null;a=Cr(s.pop());case"rgb":return 3!==s.length?null:[_r(s[0]),_r(s[1]),_r(s[2]),a];case"hsla":if(4!==s.length)return null;a=Cr(s.pop());case"hsl":if(3!==s.length)return null;var l=(parseFloat(s[0])%360+360)%360/360,c=Cr(s[1]),u=Cr(s[2]),h=u<=.5?u*(c+1):u+c-u*c,d=2*u-h;return[yr(255*Ir(d,h,l+1/3)),yr(255*Ir(d,h,l)),yr(255*Ir(d,h,l-1/3)),a];default:return null}}return null}try{fr=mr.parseCSSColor=Er}catch(YE){}class wr{constructor(t,e,n,i=1){this.r=t,this.g=e,this.b=n,this.a=i}static parse(t){if(!t)return;if(t instanceof wr)return t;if("string"!==typeof t)return;const e=fr(t);return e?new wr(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3]):void 0}toString(){const[t,e,n,i]=this.toArray();return`rgba(${Math.round(t)},${Math.round(e)},${Math.round(n)},${i})`}toArray(){const{r:t,g:e,b:n,a:i}=this;return 0===i?[0,0,0,0]:[255*t/i,255*e/i,255*n/i,i]}toArray01(){const{r:t,g:e,b:n,a:i}=this;return 0===i?[0,0,0,0]:[t/i,e/i,n/i,i]}toArray01PremultipliedAlpha(){const{r:t,g:e,b:n,a:i}=this;return[t,e,n,i]}}wr.black=new wr(0,0,0,1),wr.white=new wr(1,1,1,1),wr.transparent=new wr(0,0,0,0),wr.red=new wr(1,0,0,1),wr.blue=new wr(0,0,1,1);var br=wr;function xr(t){return"object"===typeof t?["literal",t]:t}function Sr(t,e){let n=t.stops;if(!n)return Pr(t,e);const i=n&&"object"===typeof n[0][0],r=i||void 0!==t.property,o=i||!r;return n=n.map((t=>!r&&e.tokens&&"string"===typeof t[1]?[t[0],Fr(t[1])]:[t[0],xr(t[1])])),i?Rr(t,e,n):o?kr(t,e,n):Lr(t,e,n)}function Pr(t,e){const n=["get",t.property];if(void 0===t.default)return"string"===e.type?["string",n]:n;if("enum"===e.type)return["match",n,Object.keys(e.values),n,t.default];{const i=["color"===e.type?"to-color":e.type,n,xr(t.default)];return"array"===e.type&&i.splice(1,0,e.value,e.length||null),i}}function Mr(t){switch(t.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function Rr(t,e,n){const i={},r={},o=[];for(let a=0;a<n.length;a++){const e=n[a],s=e[0].zoom;void 0===i[s]&&(i[s]={zoom:s,type:t.type,property:t.property,default:t.default},r[s]=[],o.push(s)),r[s].push([e[0].value,e[1]])}const s=Nr({},e);if("exponential"===s){const n=[Mr(t),["linear"],["zoom"]];for(const t of o){const o=Lr(i[t],e,r[t]);Dr(n,t,o,!1)}return n}{const t=["step",["zoom"]];for(const n of o){const o=Lr(i[n],e,r[n]);Dr(t,n,o,!0)}return Or(t),t}}function Tr(t,e){return void 0!==t?t:void 0!==e?e:void 0}function Gr(t,e){const n=xr(Tr(t.default,e.default));return void 0===n&&"resolvedImage"===e.type?"":n}function Lr(t,e,n){const i=Nr(t,e),r=["get",t.property];if("categorical"===i&&"boolean"===typeof n[0][0]){const i=["case"];for(const t of n)i.push(["==",r,t[0]],t[1]);return i.push(Gr(t,e)),i}if("categorical"===i){const i=["match",r];for(const t of n)Dr(i,t[0],t[1],!1);return i.push(Gr(t,e)),i}if("interval"===i){const e=["step",["number",r]];for(const t of n)Dr(e,t[0],t[1],!0);return Or(e),void 0===t.default?e:["case",["==",["typeof",r],"number"],e,xr(t.default)]}if("exponential"===i){const e=void 0!==t.base?t.base:1,i=[Mr(t),1===e?["linear"]:["exponential",e],["number",r]];for(const t of n)Dr(i,t[0],t[1],!1);return void 0===t.default?i:["case",["==",["typeof",r],"number"],i,xr(t.default)]}throw new Error(`Unknown property function type ${i}`)}function kr(t,e,n,i=["zoom"]){const r=Nr(t,e);let o,s=!1;if("interval"===r)o=["step",i],s=!0;else{if("exponential"!==r)throw new Error(`Unknown zoom function type "${r}"`);{const e=void 0!==t.base?t.base:1;o=[Mr(t),1===e?["linear"]:["exponential",e],i]}}for(const a of n)Dr(o,a[0],a[1],s);return Or(o),o}function Or(t){"step"===t[0]&&3===t.length&&(t.push(0),t.push(t[3]))}function Dr(t,e,n,i){t.length>3&&e===t[t.length-2]||(i&&2===t.length||t.push(e),t.push(n))}function Nr(t,e){return t.type?t.type:e.expression.interpolated?"exponential":"interval"}function Fr(t){const e=["concat"],n=/{([^{}]+)}/g;let i=0;for(let r=n.exec(t);null!==r;r=n.exec(t)){const o=t.slice(i,n.lastIndex-r[0].length);i=n.lastIndex,o.length>0&&e.push(o),e.push(["get",r[1]])}if(1===e.length)return t;if(i<t.length)e.push(t.slice(i));else if(2===e.length)return["to-string",e[1]];return e}class Ur extends Error{constructor(t,e){super(e),this.message=e,this.key=t}}var Br=Ur;class jr{constructor(t,e=[]){this.parent=t,this.bindings={};for(const[n,i]of e)this.bindings[n]=i}concat(t){return new jr(this,t)}get(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(`${t} not found in scope.`)}has(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)}}var zr=jr;const Wr={kind:"null"},Vr={kind:"number"},Yr={kind:"string"},Hr={kind:"boolean"},qr={kind:"color"},Xr={kind:"object"},Zr={kind:"value"},Kr={kind:"error"},Jr={kind:"collator"},Qr={kind:"formatted"},$r={kind:"resolvedImage"};function to(t,e){return{kind:"array",itemType:t,N:e}}function eo(t){if("array"===t.kind){const e=eo(t.itemType);return"number"===typeof t.N?`array<${e}, ${t.N}>`:"value"===t.itemType.kind?"array":`array<${e}>`}return t.kind}const no=[Wr,Vr,Yr,Hr,qr,Qr,Xr,to(Zr),$r];function io(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&(0===e.N&&"value"===e.itemType.kind||!io(t.itemType,e.itemType))&&("number"!==typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(const t of no)if(!io(t,e))return null}return`Expected ${eo(t)} but found ${eo(e)} instead.`}function ro(t,e){return e.some((e=>e.kind===t.kind))}function oo(t,e){return e.some((e=>"null"===e?null===t:"array"===e?Array.isArray(t):"object"===e?t&&!Array.isArray(t)&&"object"===typeof t:e===typeof t))}class so{constructor(t,e,n){this.sensitivity=t?e?"variant":"case":e?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(t,e){return this.collator.compare(t,e)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class ao{constructor(t,e,n,i,r){this.text=t.normalize?t.normalize():t,this.image=e,this.scale=n,this.fontStack=i,this.textColor=r}}class lo{constructor(t){this.sections=t}static fromString(t){return new lo([new ao(t,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some((t=>0!==t.text.length||t.image&&0!==t.image.name.length))}static factory(t){return t instanceof lo?t:lo.fromString(t)}toString(){return 0===this.sections.length?"":this.sections.map((t=>t.text)).join("")}serialize(){const t=["format"];for(const e of this.sections){if(e.image){t.push(["image",e.image.name]);continue}t.push(e.text);const n={};e.fontStack&&(n["text-font"]=["literal",e.fontStack.split(",")]),e.scale&&(n["font-scale"]=e.scale),e.textColor&&(n["text-color"]=["rgba"].concat(e.textColor.toArray())),t.push(n)}return t}}class co{constructor(t){this.name=t.name,this.available=t.available}toString(){return this.name}static fromString(t){return t?new co({name:t,available:!1}):null}serialize(){return["image",this.name]}}function uo(t,e,n,i){if(!("number"===typeof t&&t>=0&&t<=255&&"number"===typeof e&&e>=0&&e<=255&&"number"===typeof n&&n>=0&&n<=255)){const r="number"===typeof i?[t,e,n,i]:[t,e,n];return`Invalid rgba value [${r.join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}return"undefined"===typeof i||"number"===typeof i&&i>=0&&i<=1?null:`Invalid rgba value [${[t,e,n,i].join(", ")}]: 'a' must be between 0 and 1.`}function ho(t){if(null===t)return!0;if("string"===typeof t)return!0;if("boolean"===typeof t)return!0;if("number"===typeof t)return!0;if(t instanceof br)return!0;if(t instanceof so)return!0;if(t instanceof lo)return!0;if(t instanceof co)return!0;if(Array.isArray(t)){for(const e of t)if(!ho(e))return!1;return!0}if("object"===typeof t){for(const e in t)if(!ho(t[e]))return!1;return!0}return!1}function po(t){if(null===t)return Wr;if("string"===typeof t)return Yr;if("boolean"===typeof t)return Hr;if("number"===typeof t)return Vr;if(t instanceof br)return qr;if(t instanceof so)return Jr;if(t instanceof lo)return Qr;if(t instanceof co)return $r;if(Array.isArray(t)){const e=t.length;let n;for(const i of t){const t=po(i);if(n){if(n===t)continue;n=Zr;break}n=t}return to(n||Zr,e)}return Xr}function go(t){const e=typeof t;return null===t?"":"string"===e||"number"===e||"boolean"===e?String(t):t instanceof br||t instanceof lo||t instanceof co?t.toString():JSON.stringify(t)}class fo{constructor(t,e){this.type=t,this.value=e}static parse(t,e){if(2!==t.length)return e.error(`'literal' expression requires exactly one argument, but found ${t.length-1} instead.`);if(!ho(t[1]))return e.error("invalid value");const n=t[1];let i=po(n);const r=e.expectedType;return"array"!==i.kind||0!==i.N||!r||"array"!==r.kind||"number"===typeof r.N&&0!==r.N||(i=r),new fo(i,n)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof br?["rgba"].concat(this.value.toArray()):this.value instanceof lo?this.value.serialize():this.value}}var mo=fo;class Ao{constructor(t){this.name="ExpressionEvaluationError",this.message=t}toJSON(){return this.message}}var yo=Ao;const vo={string:Yr,number:Vr,boolean:Hr,object:Xr};class _o{constructor(t,e){this.type=t,this.args=e}static parse(t,e){if(t.length<2)return e.error("Expected at least one argument.");let n,i=1;const r=t[0];if("array"===r){let r,o;if(t.length>2){const n=t[1];if("string"!==typeof n||!(n in vo)||"object"===n)return e.error('The item type argument of "array" must be one of string, number, boolean',1);r=vo[n],i++}else r=Zr;if(t.length>3){if(null!==t[2]&&("number"!==typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return e.error('The length argument to "array" must be a positive integer literal',2);o=t[2],i++}n=to(r,o)}else n=vo[r];const o=[];for(;i<t.length;i++){const n=e.parse(t[i],i,Zr);if(!n)return null;o.push(n)}return new _o(n,o)}evaluate(t){for(let e=0;e<this.args.length;e++){const n=this.args[e].evaluate(t),i=io(this.type,po(n));if(!i)return n;if(e===this.args.length-1)throw new yo(`Expected value to be of type ${eo(this.type)}, but found ${eo(po(n))} instead.`)}return null}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every((t=>t.outputDefined()))}serialize(){const t=this.type,e=[t.kind];if("array"===t.kind){const n=t.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){e.push(n.kind);const i=t.N;("number"===typeof i||this.args.length>1)&&e.push(i)}}return e.concat(this.args.map((t=>t.serialize())))}}var Co=_o;class Io{constructor(t){this.type=Qr,this.sections=t}static parse(t,e){if(t.length<2)return e.error("Expected at least one argument.");const n=t[1];if(!Array.isArray(n)&&"object"===typeof n)return e.error("First argument must be an image or text section.");const i=[];let r=!1;for(let o=1;o<=t.length-1;++o){const n=t[o];if(r&&"object"===typeof n&&!Array.isArray(n)){r=!1;let t=null;if(n["font-scale"]&&(t=e.parse(n["font-scale"],1,Vr),!t))return null;let o=null;if(n["text-font"]&&(o=e.parse(n["text-font"],1,to(Yr)),!o))return null;let s=null;if(n["text-color"]&&(s=e.parse(n["text-color"],1,qr),!s))return null;const a=i[i.length-1];a.scale=t,a.font=o,a.textColor=s}else{const n=e.parse(t[o],1,Zr);if(!n)return null;const s=n.type.kind;if("string"!==s&&"value"!==s&&"null"!==s&&"resolvedImage"!==s)return e.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");r=!0,i.push({content:n,scale:null,font:null,textColor:null})}}return new Io(i)}evaluate(t){const e=e=>{const n=e.content.evaluate(t);return po(n)===$r?new ao("",n,null,null,null):new ao(go(n),null,e.scale?e.scale.evaluate(t):null,e.font?e.font.evaluate(t).join(","):null,e.textColor?e.textColor.evaluate(t):null)};return new lo(this.sections.map(e))}eachChild(t){for(const e of this.sections)t(e.content),e.scale&&t(e.scale),e.font&&t(e.font),e.textColor&&t(e.textColor)}outputDefined(){return!1}serialize(){const t=["format"];for(const e of this.sections){t.push(e.content.serialize());const n={};e.scale&&(n["font-scale"]=e.scale.serialize()),e.font&&(n["text-font"]=e.font.serialize()),e.textColor&&(n["text-color"]=e.textColor.serialize()),t.push(n)}return t}}class Eo{constructor(t){this.type=$r,this.input=t}static parse(t,e){if(2!==t.length)return e.error("Expected two arguments.");const n=e.parse(t[1],1,Yr);return n?new Eo(n):e.error("No image name provided.")}evaluate(t){const e=this.input.evaluate(t),n=co.fromString(e);return n&&t.availableImages&&(n.available=t.availableImages.indexOf(e)>-1),n}eachChild(t){t(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const wo={"to-boolean":Hr,"to-color":qr,"to-number":Vr,"to-string":Yr};class bo{constructor(t,e){this.type=t,this.args=e}static parse(t,e){if(t.length<2)return e.error("Expected at least one argument.");const n=t[0];if(("to-boolean"===n||"to-string"===n)&&2!==t.length)return e.error("Expected one argument.");const i=wo[n],r=[];for(let o=1;o<t.length;o++){const n=e.parse(t[o],o,Zr);if(!n)return null;r.push(n)}return new bo(i,r)}evaluate(t){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(t));if("color"===this.type.kind){let e,n;for(const i of this.args){if(e=i.evaluate(t),n=null,e instanceof br)return e;if("string"===typeof e){const n=t.parseColor(e);if(n)return n}else if(Array.isArray(e)&&(n=e.length<3||e.length>4?`Invalid rbga value ${JSON.stringify(e)}: expected an array containing either three or four numeric values.`:uo(e[0],e[1],e[2],e[3]),!n))return new br(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new yo(n||`Could not parse color from value '${"string"===typeof e?e:String(JSON.stringify(e))}'`)}if("number"===this.type.kind){let e=null;for(const n of this.args){if(e=n.evaluate(t),null===e)return 0;const i=Number(e);if(!isNaN(i))return i}throw new yo(`Could not convert ${JSON.stringify(e)} to number.`)}return"formatted"===this.type.kind?lo.fromString(go(this.args[0].evaluate(t))):"resolvedImage"===this.type.kind?co.fromString(go(this.args[0].evaluate(t))):go(this.args[0].evaluate(t))}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every((t=>t.outputDefined()))}serialize(){if("formatted"===this.type.kind)return new Io([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new Eo(this.args[0]).serialize();const t=[`to-${this.type.kind}`];return this.eachChild((e=>{t.push(e.serialize())})),t}}var xo=bo;const So=["Unknown","Point","LineString","Polygon"];class Po{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&void 0!==this.feature.id?this.feature.id:null}geometryType(){return this.feature?"number"===typeof this.feature.type?So[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const t=this.featureDistanceData.center,e=this.featureDistanceData.scale,{x:n,y:i}=this.featureTileCoord,r=n*e-t[0],o=i*e-t[1],s=this.featureDistanceData.bearing[0],a=this.featureDistanceData.bearing[1],l=s*r+a*o;return l}return 0}parseColor(t){let e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=br.parse(t)),e}}var Mo=Po;class Ro{constructor(t,e,n,i){this.name=t,this.type=e,this._evaluate=n,this.args=i}evaluate(t){return this._evaluate(t,this.args)}eachChild(t){this.args.forEach(t)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map((t=>t.serialize())))}static parse(t,e){const n=t[0],i=Ro.definitions[n];if(!i)return e.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0);const r=Array.isArray(i)?i[0]:i.type,o=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=o.filter((([e])=>!Array.isArray(e)||e.length===t.length-1));let a=null;for(const[l,c]of s){a=new ds(e.registry,e.path,null,e.scope);const i=[];let o=!1;for(let e=1;e<t.length;e++){const n=t[e],r=Array.isArray(l)?l[e-1]:l.type,s=a.parse(n,1+i.length,r);if(!s){o=!0;break}i.push(s)}if(!o)if(Array.isArray(l)&&l.length!==i.length)a.error(`Expected ${l.length} arguments, but found ${i.length} instead.`);else{for(let t=0;t<i.length;t++){const e=Array.isArray(l)?l[t]:l.type,n=i[t];a.concat(t+1).checkSubtype(e,n.type)}if(0===a.errors.length)return new Ro(n,r,c,i)}}if(1===s.length)e.errors.push(...a.errors);else{const n=s.length?s:o,i=n.map((([t])=>To(t))).join(" | "),r=[];for(let o=1;o<t.length;o++){const n=e.parse(t[o],1+r.length);if(!n)return null;r.push(eo(n.type))}e.error(`Expected arguments of type ${i}, but found (${r.join(", ")}) instead.`)}return null}static register(t,e){Ro.definitions=e;for(const n in e)t[n]=Ro}}function To(t){return Array.isArray(t)?`(${t.map(eo).join(", ")})`:`(${eo(t.type)}...)`}var Go=Ro;class Lo{constructor(t,e,n){this.type=Jr,this.locale=n,this.caseSensitive=t,this.diacriticSensitive=e}static parse(t,e){if(2!==t.length)return e.error("Expected one argument.");const n=t[1];if("object"!==typeof n||Array.isArray(n))return e.error("Collator options argument must be an object.");const i=e.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,Hr);if(!i)return null;const r=e.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,Hr);if(!r)return null;let o=null;return n["locale"]&&(o=e.parse(n["locale"],1,Yr),!o)?null:new Lo(i,r,o)}evaluate(t){return new so(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)}eachChild(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)}outputDefined(){return!1}serialize(){const t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t["locale"]=this.locale.serialize()),["collator",t]}}const ko=8192;function Oo(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.max(t[2],e[0]),t[3]=Math.max(t[3],e[1])}function Do(t){return(180+t)/360}function No(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function Fo(t,e){return!(t[0]<=e[0])&&(!(t[2]>=e[2])&&(!(t[1]<=e[1])&&!(t[3]>=e[3])))}function Uo(t,e){const n=Do(t[0]),i=No(t[1]),r=Math.pow(2,e.z);return[Math.round(n*r*ko),Math.round(i*r*ko)]}function Bo(t,e,n){const i=t[0]-e[0],r=t[1]-e[1],o=t[0]-n[0],s=t[1]-n[1];return i*s-o*r===0&&i*o<=0&&r*s<=0}function jo(t,e,n){return e[1]>t[1]!==n[1]>t[1]&&t[0]<(n[0]-e[0])*(t[1]-e[1])/(n[1]-e[1])+e[0]}function zo(t,e){let n=!1;for(let i=0,r=e.length;i<r;i++){const r=e[i];for(let e=0,i=r.length;e<i-1;e++){if(Bo(t,r[e],r[e+1]))return!1;jo(t,r[e],r[e+1])&&(n=!n)}}return n}function Wo(t,e){for(let n=0;n<e.length;n++)if(zo(t,e[n]))return!0;return!1}function Vo(t,e){return t[0]*e[1]-t[1]*e[0]}function Yo(t,e,n,i){const r=t[0]-n[0],o=t[1]-n[1],s=e[0]-n[0],a=e[1]-n[1],l=i[0]-n[0],c=i[1]-n[1],u=r*c-l*o,h=s*c-l*a;return u>0&&h<0||u<0&&h>0}function Ho(t,e,n,i){const r=[e[0]-t[0],e[1]-t[1]],o=[i[0]-n[0],i[1]-n[1]];return 0!==Vo(o,r)&&!(!Yo(t,e,n,i)||!Yo(n,i,t,e))}function qo(t,e,n){for(const i of n)for(let n=0;n<i.length-1;++n)if(Ho(t,e,i[n],i[n+1]))return!0;return!1}function Xo(t,e){for(let n=0;n<t.length;++n)if(!zo(t[n],e))return!1;for(let n=0;n<t.length-1;++n)if(qo(t[n],t[n+1],e))return!1;return!0}function Zo(t,e){for(let n=0;n<e.length;n++)if(Xo(t,e[n]))return!0;return!1}function Ko(t,e,n){const i=[];for(let r=0;r<t.length;r++){const o=[];for(let i=0;i<t[r].length;i++){const s=Uo(t[r][i],n);Oo(e,s),o.push(s)}i.push(o)}return i}function Jo(t,e,n){const i=[];for(let r=0;r<t.length;r++){const o=Ko(t[r],e,n);i.push(o)}return i}function Qo(t,e,n,i){if(t[0]<n[0]||t[0]>n[2]){const e=.5*i;let r=t[0]-n[0]>e?-i:n[0]-t[0]>e?i:0;0===r&&(r=t[0]-n[2]>e?-i:n[2]-t[0]>e?i:0),t[0]+=r}Oo(e,t)}function $o(t){t[0]=t[1]=1/0,t[2]=t[3]=-1/0}function ts(t,e,n,i){const r=Math.pow(2,i.z)*ko,o=[i.x*ko,i.y*ko],s=[];if(!t)return s;for(const a of t)for(const t of a){const i=[t.x+o[0],t.y+o[1]];Qo(i,e,n,r),s.push(i)}return s}function es(t,e,n,i){const r=Math.pow(2,i.z)*ko,o=[i.x*ko,i.y*ko],s=[];if(!t)return s;for(const a of t){const t=[];for(const n of a){const i=[n.x+o[0],n.y+o[1]];Oo(e,i),t.push(i)}s.push(t)}if(e[2]-e[0]<=r/2){$o(e);for(const t of s)for(const i of t)Qo(i,e,n,r)}return s}function ns(t,e){const n=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],r=t.canonicalID();if(!r)return!1;if("Polygon"===e.type){const o=Ko(e.coordinates,i,r),s=ts(t.geometry(),n,i,r);if(!Fo(n,i))return!1;for(const t of s)if(!zo(t,o))return!1}if("MultiPolygon"===e.type){const o=Jo(e.coordinates,i,r),s=ts(t.geometry(),n,i,r);if(!Fo(n,i))return!1;for(const t of s)if(!Wo(t,o))return!1}return!0}function is(t,e){const n=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],r=t.canonicalID();if(!r)return!1;if("Polygon"===e.type){const o=Ko(e.coordinates,i,r),s=es(t.geometry(),n,i,r);if(!Fo(n,i))return!1;for(const t of s)if(!Xo(t,o))return!1}if("MultiPolygon"===e.type){const o=Jo(e.coordinates,i,r),s=es(t.geometry(),n,i,r);if(!Fo(n,i))return!1;for(const t of s)if(!Zo(t,o))return!1}return!0}class rs{constructor(t,e){this.type=Hr,this.geojson=t,this.geometries=e}static parse(t,e){if(2!==t.length)return e.error(`'within' expression requires exactly one argument, but found ${t.length-1} instead.`);if(ho(t[1])){const e=t[1];if("FeatureCollection"===e.type)for(let t=0;t<e.features.length;++t){const n=e.features[t].geometry.type;if("Polygon"===n||"MultiPolygon"===n)return new rs(e,e.features[t].geometry)}else if("Feature"===e.type){const t=e.geometry.type;if("Polygon"===t||"MultiPolygon"===t)return new rs(e,e.geometry)}else if("Polygon"===e.type||"MultiPolygon"===e.type)return new rs(e,e)}return e.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t){if(null!=t.geometry()&&null!=t.canonicalID()){if("Point"===t.geometryType())return ns(t,this.geometries);if("LineString"===t.geometryType())return is(t,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var os=rs;function ss(t){if(t instanceof Go){if("get"===t.name&&1===t.args.length)return!1;if("feature-state"===t.name)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}if(t instanceof os)return!1;let e=!0;return t.eachChild((t=>{e&&!ss(t)&&(e=!1)})),e}function as(t){if(t instanceof Go&&"feature-state"===t.name)return!1;let e=!0;return t.eachChild((t=>{e&&!as(t)&&(e=!1)})),e}function ls(t,e){if(t instanceof Go&&e.indexOf(t.name)>=0)return!1;let n=!0;return t.eachChild((t=>{n&&!ls(t,e)&&(n=!1)})),n}class cs{constructor(t,e){this.type=e.type,this.name=t,this.boundExpression=e}static parse(t,e){if(2!==t.length||"string"!==typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");const n=t[1];return e.scope.has(n)?new cs(n,e.scope.get(n)):e.error(`Unknown variable "${n}". Make sure "${n}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(t){return this.boundExpression.evaluate(t)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var us=cs;class hs{constructor(t,e=[],n,i=new zr,r=[]){this.registry=t,this.path=e,this.key=e.map((t=>`[${t}]`)).join(""),this.scope=i,this.errors=r,this.expectedType=n}parse(t,e,n,i,r={}){return e?this.concat(e,n,i)._parse(t,r):this._parse(t,r)}_parse(t,e){function n(t,e,n){return"assert"===n?new Co(e,[t]):"coerce"===n?new xo(e,[t]):t}if(null!==t&&"string"!==typeof t&&"boolean"!==typeof t&&"number"!==typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const i=t[0];if("string"!==typeof i)return this.error(`Expression name must be a string, but found ${typeof i} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const r=this.registry[i];if(r){let i=r.parse(t,this);if(!i)return null;if(this.expectedType){const t=this.expectedType,r=i.type;if("string"!==t.kind&&"number"!==t.kind&&"boolean"!==t.kind&&"object"!==t.kind&&"array"!==t.kind||"value"!==r.kind)if("color"!==t.kind&&"formatted"!==t.kind&&"resolvedImage"!==t.kind||"value"!==r.kind&&"string"!==r.kind){if(this.checkSubtype(t,r))return null}else i=n(i,t,e.typeAnnotation||"coerce");else i=n(i,t,e.typeAnnotation||"assert")}if(!(i instanceof mo)&&"resolvedImage"!==i.type.kind&&ps(i)){const t=new Mo;try{i=new mo(i.type,i.evaluate(t))}catch(YE){return this.error(YE.message),null}}return i}return this.error(`Unknown expression "${i}". If you wanted a literal array, use ["literal", [...]].`,0)}return"undefined"===typeof t?this.error("'undefined' value invalid. Use null instead."):"object"===typeof t?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof t} instead.`)}concat(t,e,n){const i="number"===typeof t?this.path.concat(t):this.path,r=n?this.scope.concat(n):this.scope;return new hs(this.registry,i,e||null,r,this.errors)}error(t,...e){const n=`${this.key}${e.map((t=>`[${t}]`)).join("")}`;this.errors.push(new Br(n,t))}checkSubtype(t,e){const n=io(t,e);return n&&this.error(n),n}}var ds=hs;function ps(t){if(t instanceof us)return ps(t.boundExpression);if(t instanceof Go&&"error"===t.name)return!1;if(t instanceof Lo)return!1;if(t instanceof os)return!1;const e=t instanceof xo||t instanceof Co;let n=!0;return t.eachChild((t=>{n=e?n&&ps(t):n&&t instanceof mo})),!!n&&(ss(t)&&ls(t,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"]))}function gs(t,e){const n=t.length-1;let i,r,o=0,s=n,a=0;while(o<=s)if(a=Math.floor((o+s)/2),i=t[a],r=t[a+1],i<=e){if(a===n||e<r)return a;o=a+1}else{if(!(i>e))throw new yo("Input is not a number.");s=a-1}return 0}class fs{constructor(t,e,n){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(const[i,r]of n)this.labels.push(i),this.outputs.push(r)}static parse(t,e){if(t.length-1<4)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!==0)return e.error("Expected an even number of arguments.");const n=e.parse(t[1],1,Vr);if(!n)return null;const i=[];let r=null;e.expectedType&&"value"!==e.expectedType.kind&&(r=e.expectedType);for(let o=1;o<t.length;o+=2){const n=1===o?-1/0:t[o],s=t[o+1],a=o,l=o+1;if("number"!==typeof n)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',a);if(i.length&&i[i.length-1][0]>=n)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',a);const c=e.parse(s,l,r);if(!c)return null;r=r||c.type,i.push([n,c])}return new fs(r,n,i)}evaluate(t){const e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);const i=this.input.evaluate(t);if(i<=e[0])return n[0].evaluate(t);const r=e.length;if(i>=e[r-1])return n[r-1].evaluate(t);const o=gs(e,i);return n[o].evaluate(t)}eachChild(t){t(this.input);for(const e of this.outputs)t(e)}outputDefined(){return this.outputs.every((t=>t.outputDefined()))}serialize(){const t=["step",this.input.serialize()];for(let e=0;e<this.labels.length;e++)e>0&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t}}var ms=fs,As=ys;function ys(t,e,n,i){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(i-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=i,this.p2x=n,this.p2y=i}ys.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},ys.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},ys.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},ys.prototype.solveCurveX=function(t,e){var n,i,r,o,s;for("undefined"===typeof e&&(e=1e-6),r=t,s=0;s<8;s++){if(o=this.sampleCurveX(r)-t,Math.abs(o)<e)return r;var a=this.sampleCurveDerivativeX(r);if(Math.abs(a)<1e-6)break;r-=o/a}if(n=0,i=1,r=t,r<n)return n;if(r>i)return i;while(n<i){if(o=this.sampleCurveX(r),Math.abs(o-t)<e)return r;t>o?n=r:i=r,r=.5*(i-n)+n}return r},ys.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var vs=gr(As);function _s(t,e,n){return t*(1-n)+e*n}function Cs(t,e,n){return new br(_s(t.r,e.r,n),_s(t.g,e.g,n),_s(t.b,e.b,n),_s(t.a,e.a,n))}function Is(t,e,n){return t.map(((t,i)=>_s(t,e[i],n)))}var Es=Object.freeze({__proto__:null,number:_s,color:Cs,array:Is});const ws=.95047,bs=1,xs=1.08883,Ss=4/29,Ps=6/29,Ms=3*Ps*Ps,Rs=Ps*Ps*Ps,Ts=Math.PI/180,Gs=180/Math.PI;function Ls(t){return t>Rs?Math.pow(t,1/3):t/Ms+Ss}function ks(t){return t>Ps?t*t*t:Ms*(t-Ss)}function Os(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ds(t){return t/=255,t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ns(t){const e=Ds(t.r),n=Ds(t.g),i=Ds(t.b),r=Ls((.4124564*e+.3575761*n+.1804375*i)/ws),o=Ls((.2126729*e+.7151522*n+.072175*i)/bs),s=Ls((.0193339*e+.119192*n+.9503041*i)/xs);return{l:116*o-16,a:500*(r-o),b:200*(o-s),alpha:t.a}}function Fs(t){let e=(t.l+16)/116,n=isNaN(t.a)?e:e+t.a/500,i=isNaN(t.b)?e:e-t.b/200;return e=bs*ks(e),n=ws*ks(n),i=xs*ks(i),new br(Os(3.2404542*n-1.5371385*e-.4985314*i),Os(-.969266*n+1.8760108*e+.041556*i),Os(.0556434*n-.2040259*e+1.0572252*i),t.alpha)}function Us(t,e,n){return{l:_s(t.l,e.l,n),a:_s(t.a,e.a,n),b:_s(t.b,e.b,n),alpha:_s(t.alpha,e.alpha,n)}}function Bs(t){const{l:e,a:n,b:i}=Ns(t),r=Math.atan2(i,n)*Gs;return{h:r<0?r+360:r,c:Math.sqrt(n*n+i*i),l:e,alpha:t.a}}function js(t){const e=t.h*Ts,n=t.c,i=t.l;return Fs({l:i,a:Math.cos(e)*n,b:Math.sin(e)*n,alpha:t.alpha})}function zs(t,e,n){const i=e-t;return t+n*(i>180||i<-180?i-360*Math.round(i/360):i)}function Ws(t,e,n){return{h:zs(t.h,e.h,n),c:_s(t.c,e.c,n),l:_s(t.l,e.l,n),alpha:_s(t.alpha,e.alpha,n)}}const Vs={forward:Ns,reverse:Fs,interpolate:Us},Ys={forward:Bs,reverse:js,interpolate:Ws};class Hs{constructor(t,e,n,i,r){this.type=t,this.operator=e,this.interpolation=n,this.input=i,this.labels=[],this.outputs=[];for(const[o,s]of r)this.labels.push(o),this.outputs.push(s)}static interpolationFactor(t,e,n,i){let r=0;if("exponential"===t.name)r=qs(e,t.base,n,i);else if("linear"===t.name)r=qs(e,1,n,i);else if("cubic-bezier"===t.name){const o=t.controlPoints,s=new vs(o[0],o[1],o[2],o[3]);r=s.solve(qs(e,1,n,i))}return r}static parse(t,e){let[n,i,r,...o]=t;if(!Array.isArray(i)||0===i.length)return e.error("Expected an interpolation type expression.",1);if("linear"===i[0])i={name:"linear"};else if("exponential"===i[0]){const t=i[1];if("number"!==typeof t)return e.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:t}}else{if("cubic-bezier"!==i[0])return e.error(`Unknown interpolation type ${String(i[0])}`,1,0);{const t=i.slice(1);if(4!==t.length||t.some((t=>"number"!==typeof t||t<0||t>1)))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:t}}}if(t.length-1<4)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!==0)return e.error("Expected an even number of arguments.");if(r=e.parse(r,2,Vr),!r)return null;const s=[];let a=null;"interpolate-hcl"===n||"interpolate-lab"===n?a=qr:e.expectedType&&"value"!==e.expectedType.kind&&(a=e.expectedType);for(let l=0;l<o.length;l+=2){const t=o[l],n=o[l+1],i=l+3,r=l+4;if("number"!==typeof t)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',i);if(s.length&&s[s.length-1][0]>=t)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',i);const c=e.parse(n,r,a);if(!c)return null;a=a||c.type,s.push([t,c])}return"number"===a.kind||"color"===a.kind||"array"===a.kind&&"number"===a.itemType.kind&&"number"===typeof a.N?new Hs(a,n,i,r,s):e.error(`Type ${eo(a)} is not interpolatable.`)}evaluate(t){const e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);const i=this.input.evaluate(t);if(i<=e[0])return n[0].evaluate(t);const r=e.length;if(i>=e[r-1])return n[r-1].evaluate(t);const o=gs(e,i),s=e[o],a=e[o+1],l=Hs.interpolationFactor(this.interpolation,i,s,a),c=n[o].evaluate(t),u=n[o+1].evaluate(t);return"interpolate"===this.operator?Es[this.type.kind.toLowerCase()](c,u,l):"interpolate-hcl"===this.operator?Ys.reverse(Ys.interpolate(Ys.forward(c),Ys.forward(u),l)):Vs.reverse(Vs.interpolate(Vs.forward(c),Vs.forward(u),l))}eachChild(t){t(this.input);for(const e of this.outputs)t(e)}outputDefined(){return this.outputs.every((t=>t.outputDefined()))}serialize(){let t;t="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const e=[this.operator,t,this.input.serialize()];for(let n=0;n<this.labels.length;n++)e.push(this.labels[n],this.outputs[n].serialize());return e}}function qs(t,e,n,i){const r=i-n,o=t-n;return 0===r?0:1===e?o/r:(Math.pow(e,o)-1)/(Math.pow(e,r)-1)}var Xs=Hs;class Zs{constructor(t,e){this.type=t,this.args=e}static parse(t,e){if(t.length<2)return e.error("Expectected at least one argument.");let n=null;const i=e.expectedType;i&&"value"!==i.kind&&(n=i);const r=[];for(const s of t.slice(1)){const t=e.parse(s,1+r.length,n,void 0,{typeAnnotation:"omit"});if(!t)return null;n=n||t.type,r.push(t)}const o=i&&r.some((t=>io(i,t.type)));return new Zs(o?Zr:n,r)}evaluate(t){let e,n=null,i=0;for(const r of this.args){if(i++,n=r.evaluate(t),n&&n instanceof co&&!n.available&&(e||(e=n),n=null,i===this.args.length))return e;if(null!==n)break}return n}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every((t=>t.outputDefined()))}serialize(){const t=["coalesce"];return this.eachChild((e=>{t.push(e.serialize())})),t}}var Ks=Zs;class Js{constructor(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e}evaluate(t){return this.result.evaluate(t)}eachChild(t){for(const e of this.bindings)t(e[1]);t(this.result)}static parse(t,e){if(t.length<4)return e.error(`Expected at least 3 arguments, but found ${t.length-1} instead.`);const n=[];for(let r=1;r<t.length-1;r+=2){const i=t[r];if("string"!==typeof i)return e.error(`Expected string, but found ${typeof i} instead.`,r);if(/[^a-zA-Z0-9_]/.test(i))return e.error("Variable names must contain only alphanumeric characters or '_'.",r);const o=e.parse(t[r+1],r+1);if(!o)return null;n.push([i,o])}const i=e.parse(t[t.length-1],t.length-1,e.expectedType,n);return i?new Js(n,i):null}outputDefined(){return this.result.outputDefined()}serialize(){const t=["let"];for(const[e,n]of this.bindings)t.push(e,n.serialize());return t.push(this.result.serialize()),t}}var Qs=Js;class $s{constructor(t,e,n){this.type=t,this.index=e,this.input=n}static parse(t,e){if(3!==t.length)return e.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const n=e.parse(t[1],1,Vr),i=e.parse(t[2],2,to(e.expectedType||Zr));if(!n||!i)return null;const r=i.type;return new $s(r.itemType,n,i)}evaluate(t){const e=this.index.evaluate(t),n=this.input.evaluate(t);if(e<0)throw new yo(`Array index out of bounds: ${e} < 0.`);if(e>=n.length)throw new yo(`Array index out of bounds: ${e} > ${n.length-1}.`);if(e!==Math.floor(e))throw new yo(`Array index must be an integer, but found ${e} instead.`);return n[e]}eachChild(t){t(this.index),t(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var ta=$s;class ea{constructor(t,e){this.type=Hr,this.needle=t,this.haystack=e}static parse(t,e){if(3!==t.length)return e.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const n=e.parse(t[1],1,Zr),i=e.parse(t[2],2,Zr);return n&&i?ro(n.type,[Hr,Yr,Vr,Wr,Zr])?new ea(n,i):e.error(`Expected first argument to be of type boolean, string, number or null, but found ${eo(n.type)} instead`):null}evaluate(t){const e=this.needle.evaluate(t),n=this.haystack.evaluate(t);if(null==n)return!1;if(!oo(e,["boolean","string","number","null"]))throw new yo(`Expected first argument to be of type boolean, string, number or null, but found ${eo(po(e))} instead.`);if(!oo(n,["string","array"]))throw new yo(`Expected second argument to be of type array or string, but found ${eo(po(n))} instead.`);return n.indexOf(e)>=0}eachChild(t){t(this.needle),t(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var na=ea;class ia{constructor(t,e,n){this.type=Vr,this.needle=t,this.haystack=e,this.fromIndex=n}static parse(t,e){if(t.length<=2||t.length>=5)return e.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const n=e.parse(t[1],1,Zr),i=e.parse(t[2],2,Zr);if(!n||!i)return null;if(!ro(n.type,[Hr,Yr,Vr,Wr,Zr]))return e.error(`Expected first argument to be of type boolean, string, number or null, but found ${eo(n.type)} instead`);if(4===t.length){const r=e.parse(t[3],3,Vr);return r?new ia(n,i,r):null}return new ia(n,i)}evaluate(t){const e=this.needle.evaluate(t),n=this.haystack.evaluate(t);if(!oo(e,["boolean","string","number","null"]))throw new yo(`Expected first argument to be of type boolean, string, number or null, but found ${eo(po(e))} instead.`);if(!oo(n,["string","array"]))throw new yo(`Expected second argument to be of type array or string, but found ${eo(po(n))} instead.`);if(this.fromIndex){const i=this.fromIndex.evaluate(t);return n.indexOf(e,i)}return n.indexOf(e)}eachChild(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const t=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),t]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var ra=ia;class oa{constructor(t,e,n,i,r,o){this.inputType=t,this.type=e,this.input=n,this.cases=i,this.outputs=r,this.otherwise=o}static parse(t,e){if(t.length<5)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if(t.length%2!==1)return e.error("Expected an even number of arguments.");let n,i;e.expectedType&&"value"!==e.expectedType.kind&&(i=e.expectedType);const r={},o=[];for(let l=2;l<t.length-1;l+=2){let s=t[l];const a=t[l+1];Array.isArray(s)||(s=[s]);const c=e.concat(l);if(0===s.length)return c.error("Expected at least one branch label.");for(const t of s){if("number"!==typeof t&&"string"!==typeof t)return c.error("Branch labels must be numbers or strings.");if("number"===typeof t&&Math.abs(t)>Number.MAX_SAFE_INTEGER)return c.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"===typeof t&&Math.floor(t)!==t)return c.error("Numeric branch labels must be integer values.");if(n){if(c.checkSubtype(n,po(t)))return null}else n=po(t);if("undefined"!==typeof r[String(t)])return c.error("Branch labels must be unique.");r[String(t)]=o.length}const u=e.parse(a,l,i);if(!u)return null;i=i||u.type,o.push(u)}const s=e.parse(t[1],1,Zr);if(!s)return null;const a=e.parse(t[t.length-1],t.length-1,i);return a?"value"!==s.type.kind&&e.concat(1).checkSubtype(n,s.type)?null:new oa(n,i,s,r,o,a):null}evaluate(t){const e=this.input.evaluate(t),n=po(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise;return n.evaluate(t)}eachChild(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)}outputDefined(){return this.outputs.every((t=>t.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const t=["match",this.input.serialize()],e=Object.keys(this.cases).sort(),n=[],i={};for(const o of e){const t=i[this.cases[o]];void 0===t?(i[this.cases[o]]=n.length,n.push([this.cases[o],[o]])):n[t][1].push(o)}const r=t=>"number"===this.inputType.kind?Number(t):t;for(const[o,s]of n)1===s.length?t.push(r(s[0])):t.push(s.map(r)),t.push(this.outputs[o].serialize());return t.push(this.otherwise.serialize()),t}}var sa=oa;class aa{constructor(t,e,n){this.type=t,this.branches=e,this.otherwise=n}static parse(t,e){if(t.length<4)return e.error(`Expected at least 3 arguments, but found only ${t.length-1}.`);if(t.length%2!==0)return e.error("Expected an odd number of arguments.");let n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);const i=[];for(let o=1;o<t.length-1;o+=2){const r=e.parse(t[o],o,Hr);if(!r)return null;const s=e.parse(t[o+1],o+1,n);if(!s)return null;i.push([r,s]),n=n||s.type}const r=e.parse(t[t.length-1],t.length-1,n);return r?new aa(n,i,r):null}evaluate(t){for(const[e,n]of this.branches)if(e.evaluate(t))return n.evaluate(t);return this.otherwise.evaluate(t)}eachChild(t){for(const[e,n]of this.branches)t(e),t(n);t(this.otherwise)}outputDefined(){return this.branches.every((([t,e])=>e.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const t=["case"];return this.eachChild((e=>{t.push(e.serialize())})),t}}var la=aa;class ca{constructor(t,e,n,i){this.type=t,this.input=e,this.beginIndex=n,this.endIndex=i}static parse(t,e){if(t.length<=2||t.length>=5)return e.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const n=e.parse(t[1],1,Zr),i=e.parse(t[2],2,Vr);if(!n||!i)return null;if(!ro(n.type,[to(Zr),Yr,Zr]))return e.error(`Expected first argument to be of type array or string, but found ${eo(n.type)} instead`);if(4===t.length){const r=e.parse(t[3],3,Vr);return r?new ca(n.type,n,i,r):null}return new ca(n.type,n,i)}evaluate(t){const e=this.input.evaluate(t),n=this.beginIndex.evaluate(t);if(!oo(e,["string","array"]))throw new yo(`Expected first argument to be of type array or string, but found ${eo(po(e))} instead.`);if(this.endIndex){const i=this.endIndex.evaluate(t);return e.slice(n,i)}return e.slice(n)}eachChild(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const t=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),t]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var ua=ca;function ha(t,e){return"=="===t||"!="===t?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function da(t,e,n){return e===n}function pa(t,e,n){return e!==n}function ga(t,e,n){return e<n}function fa(t,e,n){return e>n}function ma(t,e,n){return e<=n}function Aa(t,e,n){return e>=n}function ya(t,e,n,i){return 0===i.compare(e,n)}function va(t,e,n,i){return!ya(t,e,n,i)}function _a(t,e,n,i){return i.compare(e,n)<0}function Ca(t,e,n,i){return i.compare(e,n)>0}function Ia(t,e,n,i){return i.compare(e,n)<=0}function Ea(t,e,n,i){return i.compare(e,n)>=0}function wa(t,e,n){const i="=="!==t&&"!="!==t;return class r{constructor(t,e,n){this.type=Hr,this.lhs=t,this.rhs=e,this.collator=n,this.hasUntypedArgument="value"===t.type.kind||"value"===e.type.kind}static parse(t,e){if(3!==t.length&&4!==t.length)return e.error("Expected two or three arguments.");const n=t[0];let o=e.parse(t[1],1,Zr);if(!o)return null;if(!ha(n,o.type))return e.concat(1).error(`"${n}" comparisons are not supported for type '${eo(o.type)}'.`);let s=e.parse(t[2],2,Zr);if(!s)return null;if(!ha(n,s.type))return e.concat(2).error(`"${n}" comparisons are not supported for type '${eo(s.type)}'.`);if(o.type.kind!==s.type.kind&&"value"!==o.type.kind&&"value"!==s.type.kind)return e.error(`Cannot compare types '${eo(o.type)}' and '${eo(s.type)}'.`);i&&("value"===o.type.kind&&"value"!==s.type.kind?o=new Co(s.type,[o]):"value"!==o.type.kind&&"value"===s.type.kind&&(s=new Co(o.type,[s])));let a=null;if(4===t.length){if("string"!==o.type.kind&&"string"!==s.type.kind&&"value"!==o.type.kind&&"value"!==s.type.kind)return e.error("Cannot use collator to compare non-string types.");if(a=e.parse(t[3],3,Jr),!a)return null}return new r(o,s,a)}evaluate(r){const o=this.lhs.evaluate(r),s=this.rhs.evaluate(r);if(i&&this.hasUntypedArgument){const e=po(o),n=po(s);if(e.kind!==n.kind||"string"!==e.kind&&"number"!==e.kind)throw new yo(`Expected arguments for "${t}" to be (string, string) or (number, number), but found (${e.kind}, ${n.kind}) instead.`)}if(this.collator&&!i&&this.hasUntypedArgument){const t=po(o),n=po(s);if("string"!==t.kind||"string"!==n.kind)return e(r,o,s)}return this.collator?n(r,o,s,this.collator.evaluate(r)):e(r,o,s)}eachChild(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator)}outputDefined(){return!0}serialize(){const e=[t];return this.eachChild((t=>{e.push(t.serialize())})),e}}}const ba=wa("==",da,ya),xa=wa("!=",pa,va),Sa=wa("<",ga,_a),Pa=wa(">",fa,Ca),Ma=wa("<=",ma,Ia),Ra=wa(">=",Aa,Ea);class Ta{constructor(t,e,n,i,r,o){this.type=Yr,this.number=t,this.locale=e,this.currency=n,this.unit=i,this.minFractionDigits=r,this.maxFractionDigits=o}static parse(t,e){if(3!==t.length)return e.error("Expected two arguments.");const n=e.parse(t[1],1,Vr);if(!n)return null;const i=t[2];if("object"!==typeof i||Array.isArray(i))return e.error("NumberFormat options argument must be an object.");let r=null;if(i["locale"]&&(r=e.parse(i["locale"],1,Yr),!r))return null;let o=null;if(i["currency"]&&(o=e.parse(i["currency"],1,Yr),!o))return null;let s=null;if(i["unit"]&&(s=e.parse(i["unit"],1,Yr),!s))return null;let a=null;if(i["min-fraction-digits"]&&(a=e.parse(i["min-fraction-digits"],1,Vr),!a))return null;let l=null;return i["max-fraction-digits"]&&(l=e.parse(i["max-fraction-digits"],1,Vr),!l)?null:new Ta(n,r,o,s,a,l)}evaluate(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(t):void 0,unit:this.unit?this.unit.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))}eachChild(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.unit&&t(this.unit),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const t={};return this.locale&&(t["locale"]=this.locale.serialize()),this.currency&&(t["currency"]=this.currency.serialize()),this.unit&&(t["unit"]=this.unit.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]}}class Ga{constructor(t){this.type=Vr,this.input=t}static parse(t,e){if(2!==t.length)return e.error(`Expected 1 argument, but found ${t.length-1} instead.`);const n=e.parse(t[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?e.error(`Expected argument of type string or array, but found ${eo(n.type)} instead.`):new Ga(n):null}evaluate(t){const e=this.input.evaluate(t);if("string"===typeof e)return e.length;if(Array.isArray(e))return e.length;throw new yo(`Expected value to be of type string or array, but found ${eo(po(e))} instead.`)}eachChild(t){t(this.input)}outputDefined(){return!1}serialize(){const t=["length"];return this.eachChild((e=>{t.push(e.serialize())})),t}}var La=Ga;const ka={"==":ba,"!=":xa,">":Pa,"<":Sa,">=":Ra,"<=":Ma,array:Co,at:ta,boolean:Co,case:la,coalesce:Ks,collator:Lo,format:Io,image:Eo,in:na,"index-of":ra,interpolate:Xs,"interpolate-hcl":Xs,"interpolate-lab":Xs,length:La,let:Qs,literal:mo,match:sa,number:Co,"number-format":Ta,object:Co,slice:ua,step:ms,string:Co,"to-boolean":xo,"to-color":xo,"to-number":xo,"to-string":xo,var:us,within:os};function Oa(t,[e,n,i,r]){e=e.evaluate(t),n=n.evaluate(t),i=i.evaluate(t);const o=r?r.evaluate(t):1,s=uo(e,n,i,o);if(s)throw new yo(s);return new br(e/255*o,n/255*o,i/255*o,o)}function Da(t,e){return t in e}function Na(t,e){const n=e[t];return"undefined"===typeof n?null:n}function Fa(t,e,n,i){while(n<=i){const r=n+i>>1;if(e[r]===t)return!0;e[r]>t?i=r-1:n=r+1}return!1}function Ua(t){return{type:t}}Go.register(ka,{error:[Kr,[Yr],(t,[e])=>{throw new yo(e.evaluate(t))}],typeof:[Yr,[Zr],(t,[e])=>eo(po(e.evaluate(t)))],"to-rgba":[to(Vr,4),[qr],(t,[e])=>e.evaluate(t).toArray()],rgb:[qr,[Vr,Vr,Vr],Oa],rgba:[qr,[Vr,Vr,Vr,Vr],Oa],has:{type:Hr,overloads:[[[Yr],(t,[e])=>Da(e.evaluate(t),t.properties())],[[Yr,Xr],(t,[e,n])=>Da(e.evaluate(t),n.evaluate(t))]]},get:{type:Zr,overloads:[[[Yr],(t,[e])=>Na(e.evaluate(t),t.properties())],[[Yr,Xr],(t,[e,n])=>Na(e.evaluate(t),n.evaluate(t))]]},"feature-state":[Zr,[Yr],(t,[e])=>Na(e.evaluate(t),t.featureState||{})],properties:[Xr,[],t=>t.properties()],"geometry-type":[Yr,[],t=>t.geometryType()],id:[Zr,[],t=>t.id()],zoom:[Vr,[],t=>t.globals.zoom],pitch:[Vr,[],t=>t.globals.pitch||0],"distance-from-center":[Vr,[],t=>t.distanceFromCenter()],"heatmap-density":[Vr,[],t=>t.globals.heatmapDensity||0],"line-progress":[Vr,[],t=>t.globals.lineProgress||0],"sky-radial-progress":[Vr,[],t=>t.globals.skyRadialProgress||0],accumulated:[Zr,[],t=>void 0===t.globals.accumulated?null:t.globals.accumulated],"+":[Vr,Ua(Vr),(t,e)=>{let n=0;for(const i of e)n+=i.evaluate(t);return n}],"*":[Vr,Ua(Vr),(t,e)=>{let n=1;for(const i of e)n*=i.evaluate(t);return n}],"-":{type:Vr,overloads:[[[Vr,Vr],(t,[e,n])=>e.evaluate(t)-n.evaluate(t)],[[Vr],(t,[e])=>-e.evaluate(t)]]},"/":[Vr,[Vr,Vr],(t,[e,n])=>e.evaluate(t)/n.evaluate(t)],"%":[Vr,[Vr,Vr],(t,[e,n])=>e.evaluate(t)%n.evaluate(t)],ln2:[Vr,[],()=>Math.LN2],pi:[Vr,[],()=>Math.PI],e:[Vr,[],()=>Math.E],"^":[Vr,[Vr,Vr],(t,[e,n])=>Math.pow(e.evaluate(t),n.evaluate(t))],sqrt:[Vr,[Vr],(t,[e])=>Math.sqrt(e.evaluate(t))],log10:[Vr,[Vr],(t,[e])=>Math.log(e.evaluate(t))/Math.LN10],ln:[Vr,[Vr],(t,[e])=>Math.log(e.evaluate(t))],log2:[Vr,[Vr],(t,[e])=>Math.log(e.evaluate(t))/Math.LN2],sin:[Vr,[Vr],(t,[e])=>Math.sin(e.evaluate(t))],cos:[Vr,[Vr],(t,[e])=>Math.cos(e.evaluate(t))],tan:[Vr,[Vr],(t,[e])=>Math.tan(e.evaluate(t))],asin:[Vr,[Vr],(t,[e])=>Math.asin(e.evaluate(t))],acos:[Vr,[Vr],(t,[e])=>Math.acos(e.evaluate(t))],atan:[Vr,[Vr],(t,[e])=>Math.atan(e.evaluate(t))],min:[Vr,Ua(Vr),(t,e)=>Math.min(...e.map((e=>e.evaluate(t))))],max:[Vr,Ua(Vr),(t,e)=>Math.max(...e.map((e=>e.evaluate(t))))],abs:[Vr,[Vr],(t,[e])=>Math.abs(e.evaluate(t))],round:[Vr,[Vr],(t,[e])=>{const n=e.evaluate(t);return n<0?-Math.round(-n):Math.round(n)}],floor:[Vr,[Vr],(t,[e])=>Math.floor(e.evaluate(t))],ceil:[Vr,[Vr],(t,[e])=>Math.ceil(e.evaluate(t))],"filter-==":[Hr,[Yr,Zr],(t,[e,n])=>t.properties()[e.value]===n.value],"filter-id-==":[Hr,[Zr],(t,[e])=>t.id()===e.value],"filter-type-==":[Hr,[Yr],(t,[e])=>t.geometryType()===e.value],"filter-<":[Hr,[Yr,Zr],(t,[e,n])=>{const i=t.properties()[e.value],r=n.value;return typeof i===typeof r&&i<r}],"filter-id-<":[Hr,[Zr],(t,[e])=>{const n=t.id(),i=e.value;return typeof n===typeof i&&n<i}],"filter->":[Hr,[Yr,Zr],(t,[e,n])=>{const i=t.properties()[e.value],r=n.value;return typeof i===typeof r&&i>r}],"filter-id->":[Hr,[Zr],(t,[e])=>{const n=t.id(),i=e.value;return typeof n===typeof i&&n>i}],"filter-<=":[Hr,[Yr,Zr],(t,[e,n])=>{const i=t.properties()[e.value],r=n.value;return typeof i===typeof r&&i<=r}],"filter-id-<=":[Hr,[Zr],(t,[e])=>{const n=t.id(),i=e.value;return typeof n===typeof i&&n<=i}],"filter->=":[Hr,[Yr,Zr],(t,[e,n])=>{const i=t.properties()[e.value],r=n.value;return typeof i===typeof r&&i>=r}],"filter-id->=":[Hr,[Zr],(t,[e])=>{const n=t.id(),i=e.value;return typeof n===typeof i&&n>=i}],"filter-has":[Hr,[Zr],(t,[e])=>e.value in t.properties()],"filter-has-id":[Hr,[],t=>null!==t.id()&&void 0!==t.id()],"filter-type-in":[Hr,[to(Yr)],(t,[e])=>e.value.indexOf(t.geometryType())>=0],"filter-id-in":[Hr,[to(Zr)],(t,[e])=>e.value.indexOf(t.id())>=0],"filter-in-small":[Hr,[Yr,to(Zr)],(t,[e,n])=>n.value.indexOf(t.properties()[e.value])>=0],"filter-in-large":[Hr,[Yr,to(Zr)],(t,[e,n])=>Fa(t.properties()[e.value],n.value,0,n.value.length-1)],all:{type:Hr,overloads:[[[Hr,Hr],(t,[e,n])=>e.evaluate(t)&&n.evaluate(t)],[Ua(Hr),(t,e)=>{for(const n of e)if(!n.evaluate(t))return!1;return!0}]]},any:{type:Hr,overloads:[[[Hr,Hr],(t,[e,n])=>e.evaluate(t)||n.evaluate(t)],[Ua(Hr),(t,e)=>{for(const n of e)if(n.evaluate(t))return!0;return!1}]]},"!":[Hr,[Hr],(t,[e])=>!e.evaluate(t)],"is-supported-script":[Hr,[Yr],(t,[e])=>{const n=t.globals&&t.globals.isSupportedScript;return!n||n(e.evaluate(t))}],upcase:[Yr,[Yr],(t,[e])=>e.evaluate(t).toUpperCase()],downcase:[Yr,[Yr],(t,[e])=>e.evaluate(t).toLowerCase()],concat:[Yr,Ua(Zr),(t,e)=>e.map((e=>go(e.evaluate(t)))).join("")],"resolved-locale":[Yr,[Jr],(t,[e])=>e.evaluate(t).resolvedLocale()]});var Ba=ka;function ja(t){return{result:"success",value:t}}function za(t){return{result:"error",value:t}}function Wa(t){return"data-driven"===t["property-type"]}function Va(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function Ya(t){return!!t.expression&&t.expression.interpolated}function Ha(t){return"object"===typeof t&&null!==t&&!Array.isArray(t)}class qa{constructor(t,e){this.expression=t,this._warningHistory={},this._evaluator=new Mo,this._defaultValue=e?el(e):null,this._enumValues=e&&"enum"===e.type?e.values:null}evaluateWithoutErrorHandling(t,e,n,i,r,o,s,a){return this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=n,this._evaluator.canonical=i||null,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=o,this._evaluator.featureTileCoord=s||null,this._evaluator.featureDistanceData=a||null,this.expression.evaluate(this._evaluator)}evaluate(t,e,n,i,r,o,s,a){this._evaluator.globals=t,this._evaluator.feature=e||null,this._evaluator.featureState=n||null,this._evaluator.canonical=i||null,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=o||null,this._evaluator.featureTileCoord=s||null,this._evaluator.featureDistanceData=a||null;try{const t=this.expression.evaluate(this._evaluator);if(null===t||void 0===t||"number"===typeof t&&t!==t)return this._defaultValue;if(this._enumValues&&!(t in this._enumValues))throw new yo(`Expected value to be one of ${Object.keys(this._enumValues).map((t=>JSON.stringify(t))).join(", ")}, but found ${JSON.stringify(t)} instead.`);return t}catch(YE){return this._warningHistory[YE.message]||(this._warningHistory[YE.message]=!0,"undefined"!==typeof console&&console.warn(YE.message)),this._defaultValue}}}function Xa(t){return Array.isArray(t)&&t.length>0&&"string"===typeof t[0]&&t[0]in Ba}function Za(t,e){const n=new ds(Ba,[],e?tl(e):void 0),i=n.parse(t,void 0,void 0,void 0,e&&"string"===e.type?{typeAnnotation:"coerce"}:void 0);return i?ja(new qa(i,e)):za(n.errors)}class Ka{constructor(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent="constant"!==t&&!as(e.expression)}evaluateWithoutErrorHandling(t,e,n,i,r,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,i,r,o)}evaluate(t,e,n,i,r,o){return this._styleExpression.evaluate(t,e,n,i,r,o)}}class Ja{constructor(t,e,n,i){this.kind=t,this.zoomStops=n,this._styleExpression=e,this.isStateDependent="camera"!==t&&!as(e.expression),this.interpolationType=i}evaluateWithoutErrorHandling(t,e,n,i,r,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,i,r,o)}evaluate(t,e,n,i,r,o){return this._styleExpression.evaluate(t,e,n,i,r,o)}interpolationFactor(t,e,n){return this.interpolationType?Xs.interpolationFactor(this.interpolationType,t,e,n):0}}function Qa(t,e){if(t=Za(t,e),"error"===t.result)return t;const n=t.value.expression,i=ss(n);if(!i&&!Wa(e))return za([new Br("","data expressions not supported")]);const r=ls(n,["zoom","pitch","distance-from-center"]);if(!r&&!Va(e))return za([new Br("","zoom expressions not supported")]);const o=$a(n);if(!o&&!r)return za([new Br("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(o instanceof Br)return za([o]);if(o instanceof Xs&&!Ya(e))return za([new Br("",'"interpolate" expressions cannot be used with this property')]);if(!o)return ja(new Ka(i?"constant":"source",t.value));const s=o instanceof Xs?o.interpolation:void 0;return ja(new Ja(i?"camera":"composite",t.value,o.labels,s))}function $a(t){let e=null;if(t instanceof Qs)e=$a(t.result);else if(t instanceof Ks){for(const n of t.args)if(e=$a(n),e)break}else(t instanceof ms||t instanceof Xs)&&t.input instanceof Go&&"zoom"===t.input.name&&(e=t);return e instanceof Br||t.eachChild((t=>{const n=$a(t);n instanceof Br?e=n:!e&&n?e=new Br("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&n&&e!==n&&(e=new Br("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),e}function tl(t){const e={color:qr,string:Yr,number:Vr,enum:Yr,boolean:Hr,formatted:Qr,resolvedImage:$r};return"array"===t.type?to(e[t.value]||Zr,t.length):e[t.type]}function el(t){return"color"===t.type&&(Ha(t.default)||Array.isArray(t.default))?new br(0,0,0,0):"color"===t.type?br.parse(t.default)||null:void 0===t.default?null:t.default}function nl(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function il(t){if(Array.isArray(t))return t.map(il);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){const e={};for(const n in t)e[n]=il(t[n]);return e}return nl(t)}var rl={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},fog:{type:"fog"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},projection:{type:"projection"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{},sky:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"},"fill-extrusion-edge-radius":{type:"number",private:!0,default:0,minimum:0,maximum:1,"property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_symbol:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature","pitch","distance-from-center"]}},filter_fill:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_line:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_circle:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},"filter_fill-extrusion":{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_heatmap:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Camera"},pitch:{group:"Camera"},"distance-from-center":{group:"Camera"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},"sky-radial-progress":{group:"sky"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},fog:{range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"high-color":{type:"color","property-type":"data-constant",default:"#245cdf",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"space-color":{type:"color","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,.2,7,.1],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"star-intensity":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],5,.35,6,0],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},projection:{name:{type:"enum",values:{albers:{},equalEarth:{},equirectangular:{},lambertConformalConic:{},mercator:{},naturalEarth:{},winkelTripel:{},globe:{}},default:"mercator",required:!0},center:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-180,-90],maximum:[180,90],transition:!1,requires:[{name:["albers","lambertConformalConic"]}]},parallels:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-90,-90],maximum:[90,90],transition:!1,requires:[{name:["albers","lambertConformalConic"]}]}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,requires:["source"]}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant",type:"number",private:!0,default:0,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant",type:"number",private:!0,default:3,minimum:0,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,requires:["fill-extrusion-edge-radius"]}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!1,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{type:"array",value:"number",length:2,default:[0,0],minimum:[0,0],maximum:[1,1],transition:!1,requires:[{source:"geojson",has:{lineMetrics:!0}}],"property-type":"constant"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{},atmosphere:{}},default:"atmosphere",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],transition:!1,requires:[{"sky-type":"gradient"}],expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};function ol(t){if(!0===t||!1===t)return!0;if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":return t.length>=3&&("string"!==typeof t[1]||Array.isArray(t[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(const e of t.slice(1))if(!ol(e)&&"boolean"!==typeof e)return!1;return!0;default:return!0}}function sl(t,e="fill"){if(null===t||void 0===t)return{filter:()=>!0,needGeometry:!1,needFeature:!1};ol(t)||(t=ml(t));const n=t;let i=!0;try{i=al(n)}catch(YE){console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n${JSON.stringify(n,null,2)}\n        `)}const r=rl[`filter_${e}`],o=Za(i,r);let s=null;if("error"===o.result)throw new Error(o.value.map((t=>`${t.key}: ${t.message}`)).join(", "));s=(t,e,n)=>o.value.evaluate(t,e,{},n);let a=null,l=null;if(i!==n){const t=Za(n,r);if("error"===t.result)throw new Error(t.value.map((t=>`${t.key}: ${t.message}`)).join(", "));a=(e,n,i,r,o)=>t.value.evaluate(e,n,{},i,void 0,void 0,r,o),l=!ss(t.value.expression)}const c=fl(i);return{filter:s,dynamicFilter:a||void 0,needGeometry:c,needFeature:!!l}}function al(t){if(!ul(t))return t;let e=il(t);return cl(e),e=ll(e),e}function ll(t){if(!Array.isArray(t))return t;const e=pl(t);return!0===e?e:e.map((t=>ll(t)))}function cl(t){let e=!1;const n=[];if("case"===t[0]){for(let i=1;i<t.length-1;i+=2)e=e||ul(t[i]),n.push(t[i+1]);n.push(t[t.length-1])}else if("match"===t[0]){e=e||ul(t[1]);for(let e=2;e<t.length-1;e+=2)n.push(t[e+1]);n.push(t[t.length-1])}else if("step"===t[0]){e=e||ul(t[1]);for(let e=1;e<t.length-1;e+=2)n.push(t[e+1])}e&&(t.length=0,t.push("any",...n));for(let i=1;i<t.length;i++)cl(t[i])}function ul(t){if(!Array.isArray(t))return!1;if(hl(t[0]))return!0;for(let e=1;e<t.length;e++){const n=t[e];if(ul(n))return!0}return!1}function hl(t){return"pitch"===t||"distance-from-center"===t}const dl=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function pl(t){if(dl.has(t[0]))for(let e=1;e<t.length;e++){const n=t[e];if(ul(n))return!0}return t}function gl(t,e){return t<e?-1:t>e?1:0}function fl(t){if(!Array.isArray(t))return!1;if("within"===t[0])return!0;for(let e=1;e<t.length;e++)if(fl(t[e]))return!0;return!1}function ml(t){if(!t)return!0;const e=t[0];if(t.length<=1)return"any"!==e;const n="=="===e?Al(t[1],t[2],"=="):"!="===e?Cl(Al(t[1],t[2],"==")):"<"===e||">"===e||"<="===e||">="===e?Al(t[1],t[2],e):"any"===e?yl(t.slice(1)):"all"===e?["all"].concat(t.slice(1).map(ml)):"none"===e?["all"].concat(t.slice(1).map(ml).map(Cl)):"in"===e?vl(t[1],t.slice(2)):"!in"===e?Cl(vl(t[1],t.slice(2))):"has"===e?_l(t[1]):"!has"===e?Cl(_l(t[1])):"within"!==e||t;return n}function Al(t,e,n){switch(t){case"$type":return[`filter-type-${n}`,e];case"$id":return[`filter-id-${n}`,e];default:return[`filter-${n}`,t,e]}}function yl(t){return["any"].concat(t.map(ml))}function vl(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some((t=>typeof t!==typeof e[0]))?["filter-in-large",t,["literal",e.sort(gl)]]:["filter-in-small",t,["literal",e]]}}function _l(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function Cl(t){return["!",t]}var Il=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function El(t,e){const n={};for(const i in t)"ref"!==i&&(n[i]=t[i]);return Il.forEach((t=>{t in e&&(n[t]=e[t])})),n}function wl(t){t=t.slice();const e=Object.create(null);for(let n=0;n<t.length;n++)e[t[n].id]=t[n];for(let n=0;n<t.length;n++)"ref"in t[n]&&(t[n]=El(t[n],e[t[n].ref]));return t}var bl={thin:100,hairline:100,"ultra-light":100,"extra-light":100,light:200,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,heavy:800,black:800,"extra-bold":800,"ultra-black":900,"extra-black":900,"ultra-bold":900,"heavy-black":900,fat:900,poster:900},xl=" ",Sl=/(italic|oblique)$/i,Pl={},Ml=function(t,e,n){var i=Pl[t];if(!i){Array.isArray(t)||(t=[t]);for(var r,o,s=400,a="normal",l=[],c=0,u=t.length;c<u;++c){var h=t[c],d=h.split(" "),p=d[d.length-1].toLowerCase();for(var g in"normal"==p||"italic"==p||"oblique"==p?(a=o?a:p,d.pop(),p=d[d.length-1].toLowerCase()):Sl.test(p)&&(p=p.replace(Sl,""),a=o?a:d[d.length-1].replace(p,"")),bl){var f=d.length>1?d[d.length-2].toLowerCase():"";if(p==g||p==g.replace("-","")||f+"-"+p==g){s=r?s:bl[g],d.pop(),f&&g.startsWith(f)&&d.pop();break}}r||"number"!=typeof p||(s=p);var m=d.join(xl).replace("Klokantech Noto Sans","Noto Sans");-1!==m.indexOf(xl)&&(m='"'+m+'"'),l.push(m)}i=Pl[t]=[a,s,l]}return i[0]+xl+i[1]+xl+e+"px"+(n?"/"+n:"")+xl+i[2]},Rl=gr(Ml);const Tl="https://api.mapbox.com";function Gl(t){const e="mapbox://";return 0!==t.indexOf(e)?"":t.slice(e.length)}function Ll(t,e,n){const i=Gl(t);if(!i)return decodeURI(new URL(t,n).href);const r="sprites/";if(0!==i.indexOf(r))throw new Error(`unexpected sprites url: ${t}`);const o=i.slice(r.length);return`${Tl}/styles/v1/${o}/sprite?access_token=${e}`}function kl(t,e){const n=Gl(t);if(!n)return decodeURI(new URL(t,location.href).href);const i="styles/";if(0!==n.indexOf(i))throw new Error(`unexpected style url: ${t}`);const r=n.slice(i.length);return`${Tl}/styles/v1/${r}?&access_token=${e}`}function Ol(t,e,n,i){const r=new URL(t,i),o=Gl(t);if(!o)return e?(r.searchParams.has(n)||r.searchParams.set(n,e),decodeURI(r.href)):decodeURI(r.href);if("mapbox.satellite"===o){const t=window.devicePixelRatio>=1.5?"@2x":"";return`https://api.mapbox.com/v4/${o}/{z}/{x}/{y}${t}.webp?access_token=${e}`}return`https://{a-d}.tiles.mapbox.com/v4/${o}/{z}/{x}/{y}.vector.pbf?access_token=${e}`}const Dl={},Nl={};let Fl=0;function Ul(t){return t.id||(t.id=Fl++),t.id}function Bl(t,e){return Ul(t)+"."+(0,m.v6)(e)}function jl(t){let e=Dl[t.id];return e||(e={},Dl[Ul(t)]=e),e}function zl(t){let e=Nl[t.id];return e||(e={},Nl[Ul(t)]=e),e}function Wl(t){return t*Math.PI/180}const Vl=function(){const t=[];for(let e=78271.51696402048;t.length<=24;e/=2)t.push(e);return t}();new Y({extent:(0,Z.Jt)("EPSG:3857").getExtent(),resolutions:Vl});function Yl(t,e){if("undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas)return new OffscreenCanvas(t,e);const n=document.createElement("canvas");return n.width=t,n.height=e,n}function Hl(t,e){let n=0;const i=e.length;for(;n<i;++n){const r=e[n];if(r<t&&n+1<i){const i=e[n]/e[n+1];return n+Math.log(e[n]/t)/Math.log(i)}}return i-1}const ql={};function Xl(t,e,n={},i){if(e in ql)return i&&(i.request=ql[e][0]),ql[e][1];const r=n.transformRequest&&n.transformRequest(e,t)||e,o=(0,Ce.hq)((()=>r)).then((t=>(t instanceof Request||(t=new Request(t)),t.headers.get("Accept")||t.headers.set("Accept","application/json"),i&&(i.request=t),fetch(t).then((function(t){return delete ql[e],t.ok?t.json():Promise.reject(new Error("Error fetching source "+e))})).catch((function(t){return delete ql[e],Promise.reject(new Error("Error fetching source "+e))})))));return ql[e]=[r,o],o}function Zl(t,e){if("string"!==typeof t)return Promise.resolve(t);if(!t.trim().startsWith("{"))return t=kl(t,e.accessToken),Xl("Style",t,e);try{const e=JSON.parse(t);return Promise.resolve(e)}catch(za){return Promise.reject(za)}}const Kl={};function Jl(t,e,n={}){const i=[e,JSON.stringify(t)].toString();let r=Kl[i];if(!r||n.transformRequest){let o;n.transformRequest&&(o=(t,e)=>{const i=n.transformRequest&&n.transformRequest(e,"Tiles")||e;if(t instanceof C)t.setLoader(((e,n,r)=>{(0,Ce.hq)((()=>i)).then((n=>{fetch(n).then((t=>t.arrayBuffer())).then((n=>{const i=t.getFormat(),o=i.readFeatures(n,{extent:e,featureProjection:r});t.setFeatures(o)})).catch((e=>t.setState(f.A.ERROR)))}))}));else{const e=t.getImage();(0,Ce.hq)((()=>i)).then((n=>{n instanceof Request?fetch(n).then((t=>t.blob())).then((t=>{const n=URL.createObjectURL(t);e.addEventListener("load",(()=>URL.revokeObjectURL(n))),e.addEventListener("error",(()=>URL.revokeObjectURL(n))),e.src=n})).catch((e=>t.setState(f.A.ERROR))):e.src=n}))}});const s=t.url;if(s&&!t.tiles){const i=Ol(s,n.accessToken,n.accessTokenParam||"access_token",e||location.href);if(s.startsWith("mapbox://"))r=Promise.resolve({tileJson:Object.assign({},t,{url:void 0,tiles:ct(i)}),tileLoadFunction:o});else{const t={};r=Xl("Source",i,n,t).then((function(e){return e.tiles=e.tiles.map((function(i){return"tms"===e.scheme&&(i=i.replace("{y}","{-y}")),Ol(i,n.accessToken,n.accessTokenParam||"access_token",t.request.url)})),Promise.resolve({tileJson:e,tileLoadFunction:o})}))}}else t=Object.assign({},t,{tiles:t.tiles.map((function(i){return"tms"===t.scheme&&(i=i.replace("{y}","{-y}")),Ol(i,n.accessToken,n.accessTokenParam||"access_token",e||location.href)}))}),r=Promise.resolve({tileJson:Object.assign({},t),tileLoadFunction:o});Kl[i]=r}return r}function Ql(t,e,n,i){const r=document.createElement("canvas"),o=[2*n*e.pixelRatio+e.width,2*n*e.pixelRatio+e.height];r.width=o[0],r.height=o[1];const s=r.getContext("2d");s.drawImage(t,e.x,e.y,e.width,e.height,n*e.pixelRatio,n*e.pixelRatio,e.width,e.height);const a=s.getImageData(0,0,o[0],o[1]);s.globalCompositeOperation="destination-over",s.fillStyle=`rgba(${255*i.r},${255*i.g},${255*i.b},${i.a})`;const l=a.data;for(let c=0,u=a.width;c<u;++c)for(let t=0,i=a.height;t<i;++t){const i=4*(t*u+c),r=l[i+3];r>0&&s.arc(c,t,n*e.pixelRatio,0,2*Math.PI)}return s.fill(),r}function $l(t,e,n){const i=Math.max(0,Math.min(1,(n-t)/(e-t)));return i*i*(3-2*i)}function tc(t,e,n){const i=document.createElement("canvas");i.width=e.width,i.height=e.height;const r=i.getContext("2d");r.drawImage(t,e.x,e.y,e.width,e.height,0,0,e.width,e.height);const o=r.getImageData(0,0,e.width,e.height),s=o.data;for(let a=0,l=o.width;a<l;++a)for(let t=0,e=o.height;t<e;++t){const e=4*(t*l+a),i=s[e+3]/255,r=.75,o=.1,c=$l(r-o,r+o,i);c>0?(s[e+0]=Math.round(255*n.r*c),s[e+1]=Math.round(255*n.g*c),s[e+2]=Math.round(255*n.b*c),s[e+3]=Math.round(255*c)):s[e+3]=0}return r.putImageData(o,0,0),i}const ec=Array(256).join(" ");function nc(t,e){if(e>=.05){let n="";const i=t.split("\n"),r=ec.slice(0,Math.round(e/.1));for(let t=0,e=i.length;t<e;++t)t>0&&(n+="\n"),n+=i[t].split("").join(r);return n}return t}let ic;function rc(){return ic||(ic=Yl(1,1).getContext("2d")),ic}function oc(t,e){return rc().measureText(t).width+(t.length-1)*e}const sc={};function ac(t,e,n,i){if(-1!==t.indexOf("\n")){const r=t.split("\n"),o=[];for(let t=0,s=r.length;t<s;++t)o.push(ac(r[t],e,n,i));return o.join("\n")}const r=n+","+e+","+t+","+i;let o=sc[r];if(!o){const s=t.split(" ");if(s.length>1){const t=rc();t.font=e;const r=t.measureText("M").width,a=r*n;let l="";const c=[];for(let e=0,n=s.length;e<n;++e){const t=s[e],n=l+(l?" ":"")+t;oc(n,i)<=a?l=n:(l&&c.push(l),l=t)}l&&c.push(l);for(let e=0,n=c.length;e<n&&n>1;++e){const t=c[e];if(oc(t,i)<.35*a){const r=e>0?oc(c[e-1],i):1/0,o=e<n-1?oc(c[e+1],i):1/0;c.splice(e,1),n-=1,r<o?(c[e-1]+=" "+t,e-=1):c[e]=t+" "+c[e]}}for(let e=0,n=c.length-1;e<n;++e){const t=c[e],r=c[e+1];if(oc(t,i)>.7*a&&oc(r,i)<.6*a){const o=t.split(" "),s=o.pop();oc(s,i)<.2*a&&(c[e]=o.join(" "),c[e+1]=s+" "+r),n-=1}}o=c.join("\n")}else o=t;o=nc(o,i),sc[r]=o}return o}const lc=/font-family: ?([^;]*);/,cc=/("|')/g;let uc;function hc(t){if(!uc){uc={};const t=document.styleSheets;for(let e=0,n=t.length;e<n;++e){const n=t[e];try{const t=n.rules||n.cssRules;if(t)for(let e=0,n=t.length;e<n;++e){const n=t[e];if(5==n.type){const t=n.cssText.match(lc);uc[t[1].replace(cc,"")]=!0}}}catch(YE){}}}return t in uc}const dc={};function pc(t,e="https://cdn.jsdelivr.net/npm/@fontsource/{font-family}/{fontweight}{-fontstyle}.css"){const n=t.toString();if(n in dc)return dc[n];const i=[];for(let r=0,o=t.length;r<o;++r){t[r]=t[r].replace("Arial Unicode MS","Arial");const e=t[r],n=Rl(e,1);(0,hr.fZ)(n);const o=n.split(" ");i.push([o.slice(3).join(" ").replace(/"/g,""),o[1],o[0]])}for(let r=0,o=i.length;r<o;++r){const t=i[r],n=t[0];if(!hc(n)&&100!==hr.yY.get(`${t[2]}\n${t[1]} \n${n}`)){const i=e.replace("{font-family}",n.replace(/ /g,"-").toLowerCase()).replace("{Font+Family}",n.replace(/ /g,"+")).replace("{fontweight}",t[1]).replace("{-fontstyle}",t[2].replace("normal","").replace(/(.+)/,"-$1")).replace("{fontstyle}",t[2]);if(!document.querySelector('link[href="'+i+'"]')){const t=document.createElement("link");t.href=i,t.rel="stylesheet",document.head.appendChild(t)}}}return dc[n]=t,t}const gc={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},fc={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},mc=function(t,e){const n=Qa(t,e);if("error"===n.result)throw new Error(n.value.map((t=>`${t.key}: ${t.message}`)).join(", "));return n.value},Ac={},yc={zoom:0};let vc,_c;function Cc(t,e,n,i,r,o,s){const a=t.id;o||(o={},console.warn("No functionCache provided to getValue()")),o[a]||(o[a]={});const l=o[a];if(!l[n]){let i=(t[e]||Ac)[n];const r=rl[`${e}_${t.type}`][n];void 0===i&&(i=r.default);let o=Xa(i);if(!o&&Ha(i)&&(i=Sr(i,r),o=!0),o){const t=mc(i,r);l[n]=t.evaluate.bind(t)}else"color"==r.type&&(i=br.parse(i)),l[n]=function(){return i}}return yc.zoom=i,l[n](yc,r,s)}function Ic(t,e,n,i,r){const o=Cc(t,"layout",`${i}-allow-overlap`,e,n,r);if(!o)return"declutter";const s=Cc(t,"layout",`${i}-ignore-placement`,e,n,r);return s?"none":"obstacle"}function Ec(t,e,n,i,r){return r||console.warn("No filterCache provided to evaluateFilter()"),t in r||(r[t]=sl(e).filter),yc.zoom=i,r[t](yc,n)}let wc=!1;function bc(t,e){if(t){if(!wc&&(0===t.a||0===e))return;const n=t.a;return e=void 0===e?1:e,0===n?"transparent":"rgba("+Math.round(255*t.r/n)+","+Math.round(255*t.g/n)+","+Math.round(255*t.b/n)+","+n*e+")"}return t}const xc=/\{[^{}}]*\}/g;function Sc(t,e){return t.replace(xc,(function(t){return e[t.slice(1,-1)]||""}))}let Pc=!1;const Mc={};function Rc(t,e,n,i=Vl,r=void 0,o=void 0,s=void 0,a=void 0){if("string"==typeof e&&(e=JSON.parse(e)),8!=e.version)throw new Error("glStyle version 8 required.");let l,c,u;if(Mc[Bl(e,t)]=Array.from(arguments),o)if("undefined"!==typeof Image){const e=new Image;let n;(0,Ce.hq)((()=>o)).then((t=>{t instanceof Request?fetch(t).then((t=>t.blob())).then((t=>{n=URL.createObjectURL(t),e.src=n})).catch((()=>{})):(e.crossOrigin="anonymous",e.src=t,n&&URL.revokeObjectURL(n))})),e.onload=function(){l=e,c=[e.width,e.height],t.changed(),e.onload=null}}else if("undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){const t=self;t.postMessage({action:"loadImage",src:o}),t.addEventListener("message",(function(t){"imageLoaded"===t.data.action&&t.data.src===o&&(l=t.data.image,c=[l.width,l.height])}))}const h=wl(e.layers),d={},p=[],g={},f={},m=jl(e),A=zl(e);let y;for(let E=0,w=h.length;E<w;++E){const t=h[E],i=t.id;if("string"==typeof n&&t.source==n||Array.isArray(n)&&-1!==n.indexOf(i)){const n=t["source-layer"];if(y){if(t.source!==y)throw new Error(`Layer "${i}" does not use source "${y}`)}else{y=t.source;const n=e.sources[y];if(!n)throw new Error(`Source "${y}" is not defined`);const i=n.type;if("vector"!==i&&"geojson"!==i)throw new Error(`Source "${y}" is not of type "vector" or "geojson", but "${i}"`)}let r=d[n];r||(r=[],d[n]=r),r.push({layer:t,index:E}),p.push(i)}}const v=new Yn.A,_=new Hn.A,C=[],I=function(n,o,h){const p=n.getProperties(),y=d[p.layer];if(!y)return;let I=i.indexOf(o);-1==I&&(I=Hl(o,i));const E=gc[n.getGeometry().getType()],w={id:n.getId(),properties:p,type:E},b=t.get("mapbox-featurestate")[n.getId()];let x,S=-1;for(let i=0,d=y.length;i<d;++i){const d=y[i],P=d.layer,M=P.id;if(void 0!==h&&h!==M)continue;const R=P.layout||Ac,T=P.paint||Ac;if("none"===R.visibility||"minzoom"in P&&I<P.minzoom||"maxzoom"in P&&I>=P.maxzoom)continue;const G=P.filter;if(!G||Ec(M,G,w,I,A)){let i,h,A,y,M,G;x=P;const L=d.index;if(3==E&&("fill"==P.type||"fill-extrusion"==P.type))if(h=Cc(P,"paint",P.type+"-opacity",I,w,m,b),P.type+"-pattern"in T){const t=Cc(P,"paint",P.type+"-pattern",I,w,m,b);if(t){const e="string"===typeof t?Sc(t,p):t.toString();if(l&&r&&r[e]){++S,G=C[S],G&&G.getFill()&&!G.getStroke()&&!G.getText()||(G=new Ie.Ay({fill:new Hn.A}),C[S]=G),A=G.getFill(),G.setZIndex(L);const t=e+"."+h;let n=f[t];if(!n){const i=r[e],o=Yl(i.width,i.height),s=o.getContext("2d");s.globalAlpha=h,s.drawImage(l,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n=s.createPattern(o,"repeat"),f[t]=n}A.setColor(n)}}}else i=bc(Cc(P,"paint",P.type+"-color",I,w,m,b),h),P.type+"-outline-color"in T&&(M=bc(Cc(P,"paint",P.type+"-outline-color",I,w,m,b),h)),M||(M=i),(i||M)&&(++S,G=C[S],(!G||i&&!G.getFill()||!i&&G.getFill()||M&&!G.getStroke()||!M&&G.getStroke()||G.getText())&&(G=new Ie.Ay({fill:i?new Hn.A:void 0,stroke:M?new Yn.A:void 0}),C[S]=G),i&&(A=G.getFill(),A.setColor(i)),M&&(y=G.getStroke(),y.setColor(M),y.setWidth(.5)),G.setZIndex(L));if(1!=E&&"line"==P.type){i="line-pattern"in T?void 0:bc(Cc(P,"paint","line-color",I,w,m,b),Cc(P,"paint","line-opacity",I,w,m,b));const t=Cc(P,"paint","line-width",I,w,m,b);i&&t>0&&(++S,G=C[S],G&&G.getStroke()&&!G.getFill()&&!G.getText()||(G=new Ie.Ay({stroke:new Yn.A}),C[S]=G),y=G.getStroke(),y.setLineCap(Cc(P,"layout","line-cap",I,w,m,b)),y.setLineJoin(Cc(P,"layout","line-join",I,w,m,b)),y.setMiterLimit(Cc(P,"layout","line-miter-limit",I,w,m,b)),y.setColor(i),y.setWidth(t),y.setLineDash(T["line-dasharray"]?Cc(P,"paint","line-dasharray",I,w,m,b).map((function(e){return e*t})):null),G.setZIndex(L))}let k,O,D,N,F,U,B,j,z,W=!1,V=null,Y=0;if((1==E||2==E)&&"icon-image"in R){const e=Cc(P,"layout","icon-image",I,w,m,b);if(e){let i;k="string"===typeof e?Sc(e,p):e.toString();const s=a?a(t,k):void 0;if(l&&r&&r[k]||s){const t=Cc(P,"layout","icon-rotation-alignment",I,w,m,b);if(2==E){const e=n.getGeometry();if(e.getFlatMidpoint||e.getFlatMidpoints){const n=e.getExtent(),r=Math.sqrt(Math.max(Math.pow((n[2]-n[0])/o,2),Math.pow((n[3]-n[1])/o,2)));if(r>150){const n="MultiLineString"===e.getType()?e.getFlatMidpoints():e.getFlatMidpoint();_c||(vc=[NaN,NaN],_c=new er.Ay("Point",vc,[],2,{},void 0)),i=_c,vc[0]=n[0],vc[1]=n[1];const r=Cc(P,"layout","symbol-placement",I,w,m,b);if("line"===r&&"map"===t){const t=e.getStride(),i=e.getFlatCoordinates();for(let e=0,r=i.length-t;e<r;e+=t){const r=i[e],o=i[e+1],s=i[e+t],a=i[e+t+1],l=Math.min(r,s),c=Math.min(o,a),u=Math.max(r,s),h=Math.max(o,a);if(n[0]>=l&&n[0]<=u&&n[1]>=c&&n[1]<=h){Y=Math.atan2(o-a,s-r);break}}}}}}if(2!==E||i){const e=Cc(P,"layout","icon-size",I,w,m,b),n=void 0!==T["icon-color"]?Cc(P,"paint","icon-color",I,w,m,b):null;if(!n||0!==n.a){const i=Cc(P,"paint","icon-halo-color",I,w,m,b),o=Cc(P,"paint","icon-halo-width",I,w,m,b);let a=`${k}.${e}.${o}.${i}`;if(null!==n&&(a+=`.${n}`),O=g[a],!O){const h=Ic(P,I,w,"icon",m);let d;"icon-offset"in R&&(d=Cc(P,"layout","icon-offset",I,w,m,b).slice(0),d[0]*=e,d[1]*=-e);let p=n?[255*n.r,255*n.g,255*n.b,n.a]:void 0;if(s){const n={color:p,rotateWithView:"map"===t,displacement:d,declutterMode:h,scale:e};"string"===typeof s?n.src=s:(n.img=s,n.imgSize=[s.width,s.height]),O=new Vn.A(n)}else{const s=r[k];let a,g,f;o?s.sdf?(a=Ql(tc(l,s,n),{x:0,y:0,width:s.width,height:s.height,pixelRatio:s.pixelRatio},o,i),p=void 0):a=Ql(l,s,o,i):(s.sdf?(u||(u=tc(l,{x:0,y:0,width:c[0],height:c[1]},{r:1,g:1,b:1,a:1})),a=u):a=l,g=[s.width,s.height],f=[s.x,s.y]),O=new Vn.A({color:p,img:a,imgSize:c,size:g,offset:f,rotateWithView:"map"===t,scale:e/s.pixelRatio,displacement:d,declutterMode:h})}g[a]=O}}O&&(++S,G=C[S],G&&G.getImage()&&!G.getFill()&&!G.getStroke()||(G=new Ie.Ay,C[S]=G),G.setGeometry(i),O.setRotation(Y+Wl(Cc(P,"layout","icon-rotate",I,w,m,b))),O.setOpacity(Cc(P,"paint","icon-opacity",I,w,m,b)),O.setAnchor(fc[Cc(P,"layout","icon-anchor",I,w,m,b)]),G.setImage(O),V=G.getText(),G.setText(void 0),G.setZIndex(L),W=!0,D=!1)}else D=!0}}}if(1==E&&"circle"===P.type){++S,G=C[S],G&&G.getImage()&&!G.getFill()&&!G.getStroke()||(G=new Ie.Ay,C[S]=G);const t="circle-radius"in T?Cc(P,"paint","circle-radius",I,w,m,b):5,e=bc(Cc(P,"paint","circle-stroke-color",I,w,m,b),Cc(P,"paint","circle-stroke-opacity",I,w,m,b)),n=Cc(P,"paint","circle-translate",I,w,m,b),i=bc(Cc(P,"paint","circle-color",I,w,m,b),Cc(P,"paint","circle-opacity",I,w,m,b)),r=Cc(P,"paint","circle-stroke-width",I,w,m,b),o=t+"."+e+"."+i+"."+r+"."+n[0]+"."+n[1];O=g[o],O||(O=new Wn.A({radius:t,displacement:[n[0],-n[1]],stroke:e&&r>0?new Yn.A({width:r,color:e}):void 0,fill:i?new Hn.A({color:i}):void 0,declutterMode:"none"}),g[o]=O),G.setImage(O),V=G.getText(),G.setText(void 0),G.setGeometry(void 0),G.setZIndex(L),W=!0}if("text-field"in R){B=Math.round(Cc(P,"layout","text-size",I,w,m,b));const t=Cc(P,"layout","text-font",I,w,m,b);U=Cc(P,"layout","text-line-height",I,w,m,b),F=Rl(s?s(t,e.metadata?e.metadata["ol:webfonts"]:void 0):t,B,U),F.includes("sans-serif")||(F+=",sans-serif"),j=Cc(P,"layout","text-letter-spacing",I,w,m,b),z=Cc(P,"layout","text-max-width",I,w,m,b);const n=Cc(P,"layout","text-field",I,w,m,b);N="object"===typeof n&&n.sections?1===n.sections.length?n.toString():n.sections.reduce(((e,n,i)=>{const r=n.fontStack?n.fontStack.split(","):t,o=Rl(s?s(r):r,B*(n.scale||1),U);let a=n.text;if("\n"===a)return e.push("\n",""),e;if(2!=E){a=ac(a,o,z,j).split("\n");for(let t=0,n=a.length;t<n;++t)t>0&&e.push("\n",""),e.push(a[t],o);return e}e.push(nc(a,j),o)}),[]):Sc(n,p).trim(),h=Cc(P,"paint","text-opacity",I,w,m,b)}if(N&&h&&!D){W||(++S,G=C[S],G&&G.getText()&&!G.getFill()&&!G.getStroke()||(G=new Ie.Ay,C[S]=G),G.setImage(void 0),G.setGeometry(void 0));const t=Ic(P,I,w,"text",m);G.getText()||G.setText(V),V=G.getText(),(!V||"getDeclutterMode"in V&&V.getDeclutterMode()!==t)&&(V=new qn.A({padding:[2,2,2,2],declutterMode:t}),G.setText(V));const e=Cc(P,"layout","text-transform",I,w,m,b);"uppercase"==e?N=Array.isArray(N)?N.map(((t,e)=>e%2?t:t.toUpperCase())):N.toUpperCase():"lowercase"==e&&(N=Array.isArray(N)?N.map(((t,e)=>e%2?t:t.toLowerCase())):N.toLowerCase());const n=Array.isArray(N)?N:2==E?nc(N,j):ac(N,F,z,j);V.setText(n),V.setFont(F),V.setRotation(Wl(Cc(P,"layout","text-rotate",I,w,m,b)));const i=Cc(P,"layout","text-anchor",I,w,m,b),r=W||1==E?"point":Cc(P,"layout","symbol-placement",I,w,m,b);let o;if("line-center"===r?(V.setPlacement("line"),o="center"):V.setPlacement(r),"line"===r&&"function"===typeof V.setRepeat){const t=Cc(P,"layout","symbol-spacing",I,w,m,b);V.setRepeat(2*t)}V.setOverflow("point"===r);let s=Cc(P,"paint","text-halo-width",I,w,m,b);const a=Cc(P,"layout","text-offset",I,w,m,b),l=Cc(P,"paint","text-translate",I,w,m,b);let c=0,u=0;if("point"==r){o="center",-1!==i.indexOf("left")?(o="left",u=s):-1!==i.indexOf("right")&&(o="right",u=-s);const t=Cc(P,"layout","text-rotation-alignment",I,w,m,b);V.setRotateWithView("map"==t)}else V.setMaxAngle(Wl(Cc(P,"layout","text-max-angle",I,w,m,b))*N.length/n.length),V.setRotateWithView(!1);V.setTextAlign(o);let d="middle";0==i.indexOf("bottom")?(d="bottom",c=-s-.5*(U-1)*B):0==i.indexOf("top")&&(d="top",c=s+.5*(U-1)*B),V.setTextBaseline(d);const p=Cc(P,"layout","text-justify",I,w,m,b);V.setJustify("auto"===p?void 0:p),V.setOffsetX(a[0]*B+u+l[0]),V.setOffsetY(a[1]*B+c+l[1]),_.setColor(bc(Cc(P,"paint","text-color",I,w,m,b),h)),V.setFill(_);const g=bc(Cc(P,"paint","text-halo-color",I,w,m,b),h);if(g&&s>0){v.setColor(g),s*=2;const t=.5*B;v.setWidth(s<=t?s:t),V.setStroke(v)}else V.setStroke(void 0);const f=Cc(P,"layout","text-padding",I,w,m,b),A=V.getPadding();f!==A[0]&&(A[0]=f,A[1]=f,A[2]=f,A[3]=f),G.setZIndex(L)}}}return S>-1?(C.length=S+1,Pc&&("set"in n?n.set("mapbox-layer",x):n.getProperties()["mapbox-layer"]=x),C):void 0};return t.setStyle(I),t.set("mapbox-source",y),t.set("mapbox-layers",p),t.set("mapbox-featurestate",t.get("mapbox-featurestate")||{}),I}function Tc(t,e=512){return t.getExtent()?$({extent:t.getExtent(),tileSize:e,maxZoom:22}).getResolutions():Vl}function Gc(t,e){if(!e.accessToken){e=Object.assign({},e);const n=new URL(t).searchParams;n.forEach(((t,n)=>{e.accessToken=t,e.accessTokenParam=n}))}return e}function Lc(t,e,n="",i={},r=void 0){let o,s,a,l,c=!0;return"string"===typeof n||Array.isArray(n)?l=n:(a=n,l=a.source||a.layers,i=a),"string"===typeof i?(o=i,a={}):(o=i.styleUrl,a=i),!1===a.updateSource&&(c=!1),r||(r=a.resolutions),o||"string"!==typeof e||e.trim().startsWith("{")||(o=e),o&&(o=o.startsWith("data:")?location.href:kl(o,a.accessToken),a=Gc(o,a)),new Promise((function(n,i){Zl(e,a).then((function(e){if(8!=e.version)return i(new Error("glStyle version 8 required."));if(!(t instanceof _e.A||t instanceof Xi))return i(new Error("Can only apply to VectorLayer or VectorTileLayer"));const u=t instanceof Xi?"vector":"geojson";if(l?s=Array.isArray(l)?e.layers.find((function(t){return t.id===l[0]})).source:l:(s=Object.keys(e.sources).find((function(t){return e.sources[t].type===u})),l=s),!s)return i(new Error(`No ${u} source found in the glStyle.`));function h(){if(!c)return Promise.resolve();if(t instanceof Xi)return Dc(e.sources[s],o,a).then((function(e){const n=t.getSource();if(n?e!==n&&(n.setTileUrlFunction(e.getTileUrlFunction()),"function"===typeof n.setUrls&&"function"===typeof e.getUrls&&n.setUrls(e.getUrls()),n.format_||(n.format_=e.format_),n.getAttributions()||n.setAttributions(e.getAttributions()),n.getTileLoadFunction()===vt&&n.setTileLoadFunction(e.getTileLoadFunction()),(0,Z.tI)(n.getProjection(),e.getProjection())&&(n.tileGrid=e.getTileGrid())):t.setSource(e),!isFinite(t.getMaxResolution())&&!isFinite(t.getMinZoom())){const e=t.getSource().getTileGrid();t.setMaxResolution(e.getResolution(e.getMinZoom()))}}));const n=e.sources[s];let i=t.getSource();i&&i.get("mapbox-source")===n||(i=Fc(n,o,a));const r=t.getSource();return r?i!==r&&(r.getAttributions()||r.setAttributions(i.getAttributions()),r.format_||(r.format_=i.getFormat()),r.url_=i.getUrl()):t.setSource(i),Promise.resolve()}let d,p,g,f;function m(){if(f||e.sprite&&!p)f?(t.setStyle(f),h().then(n).catch(i)):i(new Error("Something went wrong trying to apply style."));else{if(a.projection&&!r){const t=(0,Z.Jt)(a.projection),e=t.getUnits();"m"!==e&&(r=Vl.map((t=>t/dr.I[e])))}f=Rc(t,e,l,r,p,g,pc,a.getImage),t.getStyle()?h().then(n).catch(i):i(new Error(`Nothing to show for source [${s}]`))}}if(e.sprite){const t=new URL(Ll(e.sprite,a.accessToken,o||location.href));d=window.devicePixelRatio>=1.5?.5:1;const n=.5==d?"@2x":"";let r=t.origin+t.pathname+n+".json"+t.search;new Promise((function(e,n){Xl("Sprite",r,a).then(e).catch((function(i){r=t.origin+t.pathname+".json"+t.search,Xl("Sprite",r,a).then(e).catch(n)}))})).then((function(e){if(void 0===e&&i(new Error("No sprites found.")),p=e,g=t.origin+t.pathname+n+".png"+t.search,a.transformRequest){const t=a.transformRequest(g,"SpriteImage")||g;(t instanceof Request||t instanceof Promise)&&(g=t)}m()})).catch((function(t){i(new Error(`Sprites cannot be loaded: ${r}: ${t.message}`))}))}else m()})).catch(i)}))}function kc(t,e){const n=t.bounds;if(n){const t=(0,Z.Rb)([n[0],n[1]],e),i=(0,Z.Rb)([n[2],n[3]],e);return[t[0],t[1],i[0],i[1]]}return(0,Z.Jt)(e).getExtent()}function Oc(t,e,n){const i=new Ji({tileJSON:e,tileSize:t.tileSize||e.tileSize||512}),r=i.getTileJSON(),o=i.getTileGrid(),s=(0,Z.Jt)(n.projection||"EPSG:3857"),l=kc(r,s),c=s.getExtent(),u=r.minzoom||0,h=r.maxzoom||22,d={attributions:i.getAttributions(),projection:s,tileGrid:new Y({origin:c?(0,a.Py)(c):o.getOrigin(0),extent:l||o.getExtent(),minZoom:u,resolutions:Tc(s,e.tileSize).slice(0,h+1),tileSize:o.getTileSize(0)})};return Array.isArray(r.tiles)?d.urls=r.tiles:d.url=r.tiles,d}function Dc(t,e,n){return new Promise((function(i,r){Jl(t,e,n).then((function({tileJson:e,tileLoadFunction:r}){const o=Oc(t,e,n);o.tileLoadFunction=r,o.format=new cr,i(new yt(o))})).catch(r)}))}function Nc(t){const e=t?t.getCode():"EPSG:3857";return`{bbox-${e.toLowerCase().replace(/[^a-z0-9]/g,"-")}}`}function Fc(t,e,n){const i=n.projection?new li.A({dataProjection:n.projection}):new li.A,r=t.data,o={};if("string"==typeof r){const o=Ol(r,n.accessToken,n.accessTokenParam||"access_token",e||location.href);if(/\{bbox-[0-9a-z-]+\}/.test(o)){const e=(t,e,n)=>{const i=Nc(n);return o.replace(i,`${t.join(",")}`)},r=new _t.A({attributions:t.attribution,format:i,loader:(t,i,o,s,a)=>{const l="function"===typeof e?e(t,i,o):e;Xl("GeoJSON",l,n).then((t=>{const e=r.getFormat().readFeatures(t,{featureProjection:o});r.addFeatures(e),s(e)})).catch((e=>{r.removeLoadedExtent(t),a()}))},strategy:pr.Qk});return r.set("mapbox-source",t),r}const s=new _t.A({attributions:t.attribution,format:i,url:o,loader:(t,e,i,r,a)=>{Xl("GeoJSON",o,n).then((t=>{const e=s.getFormat().readFeatures(t,{featureProjection:i});s.addFeatures(e),r(e)})).catch((e=>{s.removeLoadedExtent(t),a()}))}});return s}o.features=i.readFeatures(r,{featureProjection:(0,Z.Tf)()||"EPSG:3857"});const s=new _t.A(Object.assign({attributions:t.attribution,format:i},o));return s.set("mapbox-source",t),s}q.Ay;var Uc=class extends Xi{constructor(t,e){if(!t.layer)throw new Error("ERROR PARAM_MISSING : layer");if("string"!==typeof t.layer)throw new Error("ERROR WRONG TYPE : layer");"undefined"===typeof t.ssl&&(t.ssl=!0);var n=!1===t.ssl?"http://":"https://";if(!yi.isConfigLoaded())throw new Error("ERROR : contract key configuration has to be loaded to load Geoportal layers.");var i=t.layer+"$GEOPORTAIL:GPP:TMS",r=yi.configuration.getLayerConf(i);if(!r)throw new Error("ERROR : Layer ID not found into the catalogue !?");for(var o=null,s="",a=t.style,l=0;l<r.styles.length;l++){var c=r.styles[l];if(a&&c.name===a){o=c.url,s=c.title;break}if(!a&&c.current){a=c.name,o=c.url,s=c.title;break}}if(!o)throw new Error("ERROR : Style URL not found !?");o.replace(/(http|https):\/\//,n);var u=new yt({state:"loading",format:new cr});u._originators=r.originators,u._legends=r.legends,u._metadata=r.metadata,u._description=r.description,u._title=r.title+" ("+s+")",u._quicklookUrl=r.quicklookUrl;var h={source:u};return Dn.mergeParams(h,e),t.olParams&&!r.originators&&(u._originators=t.olParams.attributions),super(h),this.protocol=n,this.sourceId=t.source,this.styleUrl=o,this.setStyleMapBox(),this}setStyleMapBox(){var t=this;fetch(this.styleUrl,{credentials:"same-origin"}).then((function(e){e.ok&&e.json().then((function(e){t.onStyleMapBoxLoad(e)}))})).catch((function(e){t.onStyleMapBoxError(e)}))}onStyleMapBoxLoad(t){this.sourceId||(this.sourceId=Object.keys(t.sources)[0]);var e=t.sources[this.sourceId];if(e)if("vector"===e.type){var n=this.getSource();if(e.url){e.url.replace(/(http|https):\/\//,this.protocol);var i=new Ji({url:e.url}),r=this,o=i.on("change",(function(){if("ready"===i.getState()){var t=i.getTileJSON();if(!t)return;r.set("mapbox-extensions",t);for(var s=Array.isArray(t.tiles)?t.tiles:[t.tiles],a=0;a<e.tiles.length;a++)s[a].replace(/(http|https):\/\//,this.protocol);n.setUrls(s),(0,ur.e)(o)}}))}if(e.tiles){for(var s=0;s<e.tiles.length;s++)e.tiles[s].replace(/(http|https):\/\//,this.protocol);n.setUrls(e.tiles)}Lc(this,t,this.sourceId).then((()=>{n.setState("ready"),this.set("mapbox-styles",t)})).catch((t=>{this.onStyleMapBoxError(t)}))}else this.onStyleMapBoxError({message:"ERROR : Source TYPE not permitted !"});else this.onStyleMapBoxError({message:"ERROR : Source ID not found !? !"})}onStyleMapBoxError(t){var e=this.getSource();e.setState("error"),console.error(t.message)}};window.ol&&window.ol.layer&&(window.ol.layer.GeoportalMapBox=Uc);var Bc=class extends kn.A{constructor(t){super(t)}setPosition(t){var e=new Wc(this);e.set(t)}},jc=Bc;const zc=["top-left","top-right","bottom-left","bottom-right"];class Wc{constructor(t){return this.caller=t,this.#t("top-left"),this.#t("top-right"),this.#t("bottom-left"),this.#t("bottom-right"),this}#e(t){var e=document.getElementById("position-container-"+t);return!!e}#t(t){if(!this.#e(t)){var e=document.createElement("div");e.id="position-container-"+t,e.className="position-container-"+t;var n=this.caller.getMap().getOverlayContainerStopEvent();n.appendChild(e)}}#n(t){const e=t=>{var e=document.getElementById("position-container-"+t),n=e.offsetWidth;return n},n=t=>{t.style.top="unset",t.style.bottom="unset",t.style.left="unset",t.style.right="unset"};n(this.caller.element),this.caller.element.style.position="unset";var i=Array.from(this.caller.element.getElementsByClassName("GPpanel"));if(0!==i.length){i.forEach((t=>{n(t)}));var r=i[0];switch(t.toLowerCase()){case"top-left":r.style.top="0px",r.style.left=e(t)+"px";break;case"bottom-left":r.style.bottom="0px",r.style.left=e(t)+"px";break;case"top-right":r.style.top="0px",r.style.right=e(t)+"px";break;case"bottom-right":r.style.bottom="0px",r.style.right=e(t)+"px";break;default:break}}}set(t){zc.includes(t.toLowerCase())&&(this.#n(t),document.getElementById("position-container-"+t).appendChild(this.caller.element))}}var Vc={generate:function(){var t=Math.floor(Date.now());return function(){return t++}}(),name:function(t){var e=null,n=t.lastIndexOf("-");return e=-1===n?t:t.substring(0,n),e},index:function(t){var e=null,n=this.name(t),i=n.lastIndexOf("_");return-1!==i&&(e=n.substring(i+1)),e},uuid:function(t){var e=null,n=t.lastIndexOf("-");return-1!==n&&(e=parseInt(t.substring(n+1),10)),e}},Yc=Vc;
/**!
 * Sortable 1.15.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function Hc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function qc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Hc(Object(n),!0).forEach((function(e){Zc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Xc(t){return Xc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(t)}function Zc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kc(){return Kc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Kc.apply(this,arguments)}function Jc(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}function Qc(t,e){if(null==t)return{};var n,i,r=Jc(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var $c="1.15.2";function tu(t){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var eu=tu(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),nu=tu(/Edge/i),iu=tu(/firefox/i),ru=tu(/safari/i)&&!tu(/chrome/i)&&!tu(/android/i),ou=tu(/iP(ad|od|hone)/i),su=tu(/chrome/i)&&tu(/android/i),au={capture:!1,passive:!1};function lu(t,e,n){t.addEventListener(e,n,!eu&&au)}function cu(t,e,n){t.removeEventListener(e,n,!eu&&au)}function uu(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(n){return!1}return!1}}function hu(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function du(t,e,n,i){if(t){n=n||document;do{if(null!=e&&(">"===e[0]?t.parentNode===n&&uu(t,e):uu(t,e))||i&&t===n)return t;if(t===n)break}while(t=hu(t))}return null}var pu,gu=/\s+/g;function fu(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var i=(" "+t.className+" ").replace(gu," ").replace(" "+e+" "," ");t.className=(i+(n?" "+e:"")).replace(gu," ")}}function mu(t,e,n){var i=t&&t.style;if(i){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in i||-1!==e.indexOf("webkit")||(e="-webkit-"+e),i[e]=n+("string"===typeof n?"":"px")}}function Au(t,e){var n="";if("string"===typeof t)n=t;else do{var i=mu(t,"transform");i&&"none"!==i&&(n=i+" "+n)}while(!e&&(t=t.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function yu(t,e,n){if(t){var i=t.getElementsByTagName(e),r=0,o=i.length;if(n)for(;r<o;r++)n(i[r],r);return i}return[]}function vu(){var t=document.scrollingElement;return t||document.documentElement}function _u(t,e,n,i,r){if(t.getBoundingClientRect||t===window){var o,s,a,l,c,u,h;if(t!==window&&t.parentNode&&t!==vu()?(o=t.getBoundingClientRect(),s=o.top,a=o.left,l=o.bottom,c=o.right,u=o.height,h=o.width):(s=0,a=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,h=window.innerWidth),(e||n)&&t!==window&&(r=r||t.parentNode,!eu))do{if(r&&r.getBoundingClientRect&&("none"!==mu(r,"transform")||n&&"static"!==mu(r,"position"))){var d=r.getBoundingClientRect();s-=d.top+parseInt(mu(r,"border-top-width")),a-=d.left+parseInt(mu(r,"border-left-width")),l=s+o.height,c=a+o.width;break}}while(r=r.parentNode);if(i&&t!==window){var p=Au(r||t),g=p&&p.a,f=p&&p.d;p&&(s/=f,a/=g,h/=g,u/=f,l=s+u,c=a+h)}return{top:s,left:a,bottom:l,right:c,width:h,height:u}}}function Cu(t,e,n){var i=Su(t,!0),r=_u(t)[e];while(i){var o=_u(i)[n],s=void 0;if(s="top"===n||"left"===n?r>=o:r<=o,!s)return i;if(i===vu())break;i=Su(i,!1)}return!1}function Iu(t,e,n,i){var r=0,o=0,s=t.children;while(o<s.length){if("none"!==s[o].style.display&&s[o]!==Fh.ghost&&(i||s[o]!==Fh.dragged)&&du(s[o],n.draggable,t,!1)){if(r===e)return s[o];r++}o++}return null}function Eu(t,e){var n=t.lastElementChild;while(n&&(n===Fh.ghost||"none"===mu(n,"display")||e&&!uu(n,e)))n=n.previousElementSibling;return n||null}function wu(t,e){var n=0;if(!t||!t.parentNode)return-1;while(t=t.previousElementSibling)"TEMPLATE"===t.nodeName.toUpperCase()||t===Fh.clone||e&&!uu(t,e)||n++;return n}function bu(t){var e=0,n=0,i=vu();if(t)do{var r=Au(t),o=r.a,s=r.d;e+=t.scrollLeft*o,n+=t.scrollTop*s}while(t!==i&&(t=t.parentNode));return[e,n]}function xu(t,e){for(var n in t)if(t.hasOwnProperty(n))for(var i in e)if(e.hasOwnProperty(i)&&e[i]===t[n][i])return Number(n);return-1}function Su(t,e){if(!t||!t.getBoundingClientRect)return vu();var n=t,i=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=mu(n);if(n.clientWidth<n.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!n.getBoundingClientRect||n===document.body)return vu();if(i||e)return n;i=!0}}}while(n=n.parentNode);return vu()}function Pu(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Mu(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function Ru(t,e){return function(){if(!pu){var n=arguments,i=this;1===n.length?t.call(i,n[0]):t.apply(i,n),pu=setTimeout((function(){pu=void 0}),e)}}}function Tu(){clearTimeout(pu),pu=void 0}function Gu(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function Lu(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function ku(t,e,n){var i={};return Array.from(t.children).forEach((function(r){var o,s,a,l;if(du(r,e.draggable,t,!1)&&!r.animated&&r!==n){var c=_u(r);i.left=Math.min(null!==(o=i.left)&&void 0!==o?o:1/0,c.left),i.top=Math.min(null!==(s=i.top)&&void 0!==s?s:1/0,c.top),i.right=Math.max(null!==(a=i.right)&&void 0!==a?a:-1/0,c.right),i.bottom=Math.max(null!==(l=i.bottom)&&void 0!==l?l:-1/0,c.bottom)}})),i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}var Ou="Sortable"+(new Date).getTime();function Du(){var t,e=[];return{captureAnimationState:function(){if(e=[],this.options.animation){var t=[].slice.call(this.el.children);t.forEach((function(t){if("none"!==mu(t,"display")&&t!==Fh.ghost){e.push({target:t,rect:_u(t)});var n=qc({},e[e.length-1].rect);if(t.thisAnimationDuration){var i=Au(t,!0);i&&(n.top-=i.f,n.left-=i.e)}t.fromRect=n}}))}},addAnimationState:function(t){e.push(t)},removeAnimationState:function(t){e.splice(xu(e,{target:t}),1)},animateAll:function(n){var i=this;if(!this.options.animation)return clearTimeout(t),void("function"===typeof n&&n());var r=!1,o=0;e.forEach((function(t){var e=0,n=t.target,s=n.fromRect,a=_u(n),l=n.prevFromRect,c=n.prevToRect,u=t.rect,h=Au(n,!0);h&&(a.top-=h.f,a.left-=h.e),n.toRect=a,n.thisAnimationDuration&&Mu(l,a)&&!Mu(s,a)&&(u.top-a.top)/(u.left-a.left)===(s.top-a.top)/(s.left-a.left)&&(e=Fu(u,l,c,i.options)),Mu(a,s)||(n.prevFromRect=s,n.prevToRect=a,e||(e=i.options.animation),i.animate(n,u,a,e)),e&&(r=!0,o=Math.max(o,e),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),e),n.thisAnimationDuration=e)})),clearTimeout(t),r?t=setTimeout((function(){"function"===typeof n&&n()}),o):"function"===typeof n&&n(),e=[]},animate:function(t,e,n,i){if(i){mu(t,"transition",""),mu(t,"transform","");var r=Au(this.el),o=r&&r.a,s=r&&r.d,a=(e.left-n.left)/(o||1),l=(e.top-n.top)/(s||1);t.animatingX=!!a,t.animatingY=!!l,mu(t,"transform","translate3d("+a+"px,"+l+"px,0)"),this.forRepaintDummy=Nu(t),mu(t,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),mu(t,"transform","translate3d(0,0,0)"),"number"===typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout((function(){mu(t,"transition",""),mu(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1}),i)}}}}function Nu(t){return t.offsetWidth}function Fu(t,e,n,i){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*i.animation}var Uu=[],Bu={initializeByDefault:!0},ju={mount:function(t){for(var e in Bu)Bu.hasOwnProperty(e)&&!(e in t)&&(t[e]=Bu[e]);Uu.forEach((function(e){if(e.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")})),Uu.push(t)},pluginEvent:function(t,e,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var r=t+"Global";Uu.forEach((function(i){e[i.pluginName]&&(e[i.pluginName][r]&&e[i.pluginName][r](qc({sortable:e},n)),e.options[i.pluginName]&&e[i.pluginName][t]&&e[i.pluginName][t](qc({sortable:e},n)))}))},initializePlugins:function(t,e,n,i){for(var r in Uu.forEach((function(i){var r=i.pluginName;if(t.options[r]||i.initializeByDefault){var o=new i(t,e,t.options);o.sortable=t,o.options=t.options,t[r]=o,Kc(n,o.defaults)}})),t.options)if(t.options.hasOwnProperty(r)){var o=this.modifyOption(t,r,t.options[r]);"undefined"!==typeof o&&(t.options[r]=o)}},getEventProperties:function(t,e){var n={};return Uu.forEach((function(i){"function"===typeof i.eventProperties&&Kc(n,i.eventProperties.call(e[i.pluginName],t))})),n},modifyOption:function(t,e,n){var i;return Uu.forEach((function(r){t[r.pluginName]&&r.optionListeners&&"function"===typeof r.optionListeners[e]&&(i=r.optionListeners[e].call(t[r.pluginName],n))})),i}};function zu(t){var e=t.sortable,n=t.rootEl,i=t.name,r=t.targetEl,o=t.cloneEl,s=t.toEl,a=t.fromEl,l=t.oldIndex,c=t.newIndex,u=t.oldDraggableIndex,h=t.newDraggableIndex,d=t.originalEvent,p=t.putSortable,g=t.extraEventProperties;if(e=e||n&&n[Ou],e){var f,m=e.options,A="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||eu||nu?(f=document.createEvent("Event"),f.initEvent(i,!0,!0)):f=new CustomEvent(i,{bubbles:!0,cancelable:!0}),f.to=s||n,f.from=a||n,f.item=r||n,f.clone=o,f.oldIndex=l,f.newIndex=c,f.oldDraggableIndex=u,f.newDraggableIndex=h,f.originalEvent=d,f.pullMode=p?p.lastPutMode:void 0;var y=qc(qc({},g),ju.getEventProperties(i,e));for(var v in y)f[v]=y[v];n&&n.dispatchEvent(f),m[A]&&m[A].call(e,f)}}var Wu=["evt"],Vu=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.evt,r=Qc(n,Wu);ju.pluginEvent.bind(Fh)(t,e,qc({dragEl:Hu,parentEl:qu,ghostEl:Xu,rootEl:Zu,nextEl:Ku,lastDownEl:Ju,cloneEl:Qu,cloneHidden:$u,dragStarted:dh,putSortable:oh,activeSortable:Fh.active,originalEvent:i,oldIndex:th,oldDraggableIndex:nh,newIndex:eh,newDraggableIndex:ih,hideGhostForTarget:kh,unhideGhostForTarget:Oh,cloneNowHidden:function(){$u=!0},cloneNowShown:function(){$u=!1},dispatchSortableEvent:function(t){Yu({sortable:e,name:t,originalEvent:i})}},r))};function Yu(t){zu(qc({putSortable:oh,cloneEl:Qu,targetEl:Hu,rootEl:Zu,oldIndex:th,oldDraggableIndex:nh,newIndex:eh,newDraggableIndex:ih},t))}var Hu,qu,Xu,Zu,Ku,Ju,Qu,$u,th,eh,nh,ih,rh,oh,sh,ah,lh,ch,uh,hh,dh,ph,gh,fh,mh,Ah=!1,yh=!1,vh=[],_h=!1,Ch=!1,Ih=[],Eh=!1,wh=[],bh="undefined"!==typeof document,xh=ou,Sh=nu||eu?"cssFloat":"float",Ph=bh&&!su&&!ou&&"draggable"in document.createElement("div"),Mh=function(){if(bh){if(eu)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),Rh=function(t,e){var n=mu(t),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=Iu(t,0,e),o=Iu(t,1,e),s=r&&mu(r),a=o&&mu(o),l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+_u(r).width,c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+_u(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&s["float"]&&"none"!==s["float"]){var u="left"===s["float"]?"left":"right";return!o||"both"!==a.clear&&a.clear!==u?"horizontal":"vertical"}return r&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||l>=i&&"none"===n[Sh]||o&&"none"===n[Sh]&&l+c>i)?"vertical":"horizontal"},Th=function(t,e,n){var i=n?t.left:t.top,r=n?t.right:t.bottom,o=n?t.width:t.height,s=n?e.left:e.top,a=n?e.right:e.bottom,l=n?e.width:e.height;return i===s||r===a||i+o/2===s+l/2},Gh=function(t,e){var n;return vh.some((function(i){var r=i[Ou].options.emptyInsertThreshold;if(r&&!Eu(i)){var o=_u(i),s=t>=o.left-r&&t<=o.right+r,a=e>=o.top-r&&e<=o.bottom+r;return s&&a?n=i:void 0}})),n},Lh=function(t){function e(t,n){return function(i,r,o,s){var a=i.options.group.name&&r.options.group.name&&i.options.group.name===r.options.group.name;if(null==t&&(n||a))return!0;if(null==t||!1===t)return!1;if(n&&"clone"===t)return t;if("function"===typeof t)return e(t(i,r,o,s),n)(i,r,o,s);var l=(n?i:r).options.group.name;return!0===t||"string"===typeof t&&t===l||t.join&&t.indexOf(l)>-1}}var n={},i=t.group;i&&"object"==Xc(i)||(i={name:i}),n.name=i.name,n.checkPull=e(i.pull,!0),n.checkPut=e(i.put),n.revertClone=i.revertClone,t.group=n},kh=function(){!Mh&&Xu&&mu(Xu,"display","none")},Oh=function(){!Mh&&Xu&&mu(Xu,"display","")};bh&&!su&&document.addEventListener("click",(function(t){if(yh)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),yh=!1,!1}),!0);var Dh=function(t){if(Hu){t=t.touches?t.touches[0]:t;var e=Gh(t.clientX,t.clientY);if(e){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[Ou]._onDragOver(n)}}},Nh=function(t){Hu&&Hu.parentNode[Ou]._isOutsideThisEl(t.target)};function Fh(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Kc({},e),t[Ou]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Rh(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Fh.supportPointer&&"PointerEvent"in window&&!ru,emptyInsertThreshold:5};for(var i in ju.initializePlugins(this,t,n),n)!(i in e)&&(e[i]=n[i]);for(var r in Lh(e),this)"_"===r.charAt(0)&&"function"===typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!e.forceFallback&&Ph,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?lu(t,"pointerdown",this._onTapStart):(lu(t,"mousedown",this._onTapStart),lu(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(lu(t,"dragover",this),lu(t,"dragenter",this)),vh.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Kc(this,Du())}function Uh(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Bh(t,e,n,i,r,o,s,a){var l,c,u=t[Ou],h=u.options.onMove;return!window.CustomEvent||eu||nu?(l=document.createEvent("Event"),l.initEvent("move",!0,!0)):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=e,l.from=t,l.dragged=n,l.draggedRect=i,l.related=r||e,l.relatedRect=o||_u(e),l.willInsertAfter=a,l.originalEvent=s,t.dispatchEvent(l),h&&(c=h.call(u,l,s)),c}function jh(t){t.draggable=!1}function zh(){Eh=!1}function Wh(t,e,n){var i=_u(Iu(n.el,0,n.options,!0)),r=ku(n.el,n.options,Xu),o=10;return e?t.clientX<r.left-o||t.clientY<i.top&&t.clientX<i.right:t.clientY<r.top-o||t.clientY<i.bottom&&t.clientX<i.left}function Vh(t,e,n){var i=_u(Eu(n.el,n.options.draggable)),r=ku(n.el,n.options,Xu),o=10;return e?t.clientX>r.right+o||t.clientY>i.bottom&&t.clientX>i.left:t.clientY>r.bottom+o||t.clientX>i.right&&t.clientY>i.top}function Yh(t,e,n,i,r,o,s,a){var l=i?t.clientY:t.clientX,c=i?n.height:n.width,u=i?n.top:n.left,h=i?n.bottom:n.right,d=!1;if(!s)if(a&&fh<c*r){if(!_h&&(1===gh?l>u+c*o/2:l<h-c*o/2)&&(_h=!0),_h)d=!0;else if(1===gh?l<u+fh:l>h-fh)return-gh}else if(l>u+c*(1-r)/2&&l<h-c*(1-r)/2)return Hh(e);return d=d||s,d&&(l<u+c*o/2||l>h-c*o/2)?l>u+c/2?1:-1:0}function Hh(t){return wu(Hu)<wu(t)?1:-1}function qh(t){var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,i=0;while(n--)i+=e.charCodeAt(n);return i.toString(36)}function Xh(t){wh.length=0;var e=t.getElementsByTagName("input"),n=e.length;while(n--){var i=e[n];i.checked&&wh.push(i)}}function Zh(t){return setTimeout(t,0)}function Kh(t){return clearTimeout(t)}Fh.prototype={constructor:Fh,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(ph=null)},_getDirection:function(t,e){return"function"===typeof this.options.direction?this.options.direction.call(this,t,e,Hu):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,n=this.el,i=this.options,r=i.preventOnFilter,o=t.type,s=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,a=(s||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||a,c=i.filter;if(Xh(n),!Hu&&!(/mousedown|pointerdown/.test(o)&&0!==t.button||i.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!ru||!a||"SELECT"!==a.tagName.toUpperCase())&&(a=du(a,i.draggable,n,!1),(!a||!a.animated)&&Ju!==a)){if(th=wu(a),nh=wu(a,i.draggable),"function"===typeof c){if(c.call(this,t,a,this))return Yu({sortable:e,rootEl:l,name:"filter",targetEl:a,toEl:n,fromEl:n}),Vu("filter",e,{evt:t}),void(r&&t.cancelable&&t.preventDefault())}else if(c&&(c=c.split(",").some((function(i){if(i=du(l,i.trim(),n,!1),i)return Yu({sortable:e,rootEl:i,name:"filter",targetEl:a,fromEl:n,toEl:n}),Vu("filter",e,{evt:t}),!0})),c))return void(r&&t.cancelable&&t.preventDefault());i.handle&&!du(l,i.handle,n,!1)||this._prepareDragStart(t,s,a)}}},_prepareDragStart:function(t,e,n){var i,r=this,o=r.el,s=r.options,a=o.ownerDocument;if(n&&!Hu&&n.parentNode===o){var l=_u(n);if(Zu=o,Hu=n,qu=Hu.parentNode,Ku=Hu.nextSibling,Ju=n,rh=s.group,Fh.dragged=Hu,sh={target:Hu,clientX:(e||t).clientX,clientY:(e||t).clientY},uh=sh.clientX-l.left,hh=sh.clientY-l.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,Hu.style["will-change"]="all",i=function(){Vu("delayEnded",r,{evt:t}),Fh.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!iu&&r.nativeDraggable&&(Hu.draggable=!0),r._triggerDragStart(t,e),Yu({sortable:r,name:"choose",originalEvent:t}),fu(Hu,s.chosenClass,!0))},s.ignore.split(",").forEach((function(t){yu(Hu,t.trim(),jh)})),lu(a,"dragover",Dh),lu(a,"mousemove",Dh),lu(a,"touchmove",Dh),lu(a,"mouseup",r._onDrop),lu(a,"touchend",r._onDrop),lu(a,"touchcancel",r._onDrop),iu&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Hu.draggable=!0),Vu("delayStart",this,{evt:t}),!s.delay||s.delayOnTouchOnly&&!e||this.nativeDraggable&&(nu||eu))i();else{if(Fh.eventCanceled)return void this._onDrop();lu(a,"mouseup",r._disableDelayedDrag),lu(a,"touchend",r._disableDelayedDrag),lu(a,"touchcancel",r._disableDelayedDrag),lu(a,"mousemove",r._delayedDragTouchMoveHandler),lu(a,"touchmove",r._delayedDragTouchMoveHandler),s.supportPointer&&lu(a,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(i,s.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Hu&&jh(Hu),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;cu(t,"mouseup",this._disableDelayedDrag),cu(t,"touchend",this._disableDelayedDrag),cu(t,"touchcancel",this._disableDelayedDrag),cu(t,"mousemove",this._delayedDragTouchMoveHandler),cu(t,"touchmove",this._delayedDragTouchMoveHandler),cu(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?lu(document,"pointermove",this._onTouchMove):lu(document,e?"touchmove":"mousemove",this._onTouchMove):(lu(Hu,"dragend",this),lu(Zu,"dragstart",this._onDragStart));try{document.selection?Zh((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(t,e){if(Ah=!1,Zu&&Hu){Vu("dragStarted",this,{evt:e}),this.nativeDraggable&&lu(document,"dragover",Nh);var n=this.options;!t&&fu(Hu,n.dragClass,!1),fu(Hu,n.ghostClass,!0),Fh.active=this,t&&this._appendGhost(),Yu({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(ah){this._lastX=ah.clientX,this._lastY=ah.clientY,kh();var t=document.elementFromPoint(ah.clientX,ah.clientY),e=t;while(t&&t.shadowRoot){if(t=t.shadowRoot.elementFromPoint(ah.clientX,ah.clientY),t===e)break;e=t}if(Hu.parentNode[Ou]._isOutsideThisEl(t),e)do{if(e[Ou]){var n=void 0;if(n=e[Ou]._onDragOver({clientX:ah.clientX,clientY:ah.clientY,target:t,rootEl:e}),n&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);Oh()}},_onTouchMove:function(t){if(sh){var e=this.options,n=e.fallbackTolerance,i=e.fallbackOffset,r=t.touches?t.touches[0]:t,o=Xu&&Au(Xu,!0),s=Xu&&o&&o.a,a=Xu&&o&&o.d,l=xh&&mh&&bu(mh),c=(r.clientX-sh.clientX+i.x)/(s||1)+(l?l[0]-Ih[0]:0)/(s||1),u=(r.clientY-sh.clientY+i.y)/(a||1)+(l?l[1]-Ih[1]:0)/(a||1);if(!Fh.active&&!Ah){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(Xu){o?(o.e+=c-(lh||0),o.f+=u-(ch||0)):o={a:1,b:0,c:0,d:1,e:c,f:u};var h="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");mu(Xu,"webkitTransform",h),mu(Xu,"mozTransform",h),mu(Xu,"msTransform",h),mu(Xu,"transform",h),lh=c,ch=u,ah=r}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Xu){var t=this.options.fallbackOnBody?document.body:Zu,e=_u(Hu,!0,xh,!0,t),n=this.options;if(xh){mh=t;while("static"===mu(mh,"position")&&"none"===mu(mh,"transform")&&mh!==document)mh=mh.parentNode;mh!==document.body&&mh!==document.documentElement?(mh===document&&(mh=vu()),e.top+=mh.scrollTop,e.left+=mh.scrollLeft):mh=vu(),Ih=bu(mh)}Xu=Hu.cloneNode(!0),fu(Xu,n.ghostClass,!1),fu(Xu,n.fallbackClass,!0),fu(Xu,n.dragClass,!0),mu(Xu,"transition",""),mu(Xu,"transform",""),mu(Xu,"box-sizing","border-box"),mu(Xu,"margin",0),mu(Xu,"top",e.top),mu(Xu,"left",e.left),mu(Xu,"width",e.width),mu(Xu,"height",e.height),mu(Xu,"opacity","0.8"),mu(Xu,"position",xh?"absolute":"fixed"),mu(Xu,"zIndex","100000"),mu(Xu,"pointerEvents","none"),Fh.ghost=Xu,t.appendChild(Xu),mu(Xu,"transform-origin",uh/parseInt(Xu.style.width)*100+"% "+hh/parseInt(Xu.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,i=t.dataTransfer,r=n.options;Vu("dragStart",this,{evt:t}),Fh.eventCanceled?this._onDrop():(Vu("setupClone",this),Fh.eventCanceled||(Qu=Lu(Hu),Qu.removeAttribute("id"),Qu.draggable=!1,Qu.style["will-change"]="",this._hideClone(),fu(Qu,this.options.chosenClass,!1),Fh.clone=Qu),n.cloneId=Zh((function(){Vu("clone",n),Fh.eventCanceled||(n.options.removeCloneOnHide||Zu.insertBefore(Qu,Hu),n._hideClone(),Yu({sortable:n,name:"clone"}))})),!e&&fu(Hu,r.dragClass,!0),e?(yh=!0,n._loopId=setInterval(n._emulateDragOver,50)):(cu(document,"mouseup",n._onDrop),cu(document,"touchend",n._onDrop),cu(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",r.setData&&r.setData.call(n,i,Hu)),lu(document,"drop",n),mu(Hu,"transform","translateZ(0)")),Ah=!0,n._dragStartId=Zh(n._dragStarted.bind(n,e,t)),lu(document,"selectstart",n),dh=!0,ru&&mu(document.body,"user-select","none"))},_onDragOver:function(t){var e,n,i,r,o=this.el,s=t.target,a=this.options,l=a.group,c=Fh.active,u=rh===l,h=a.sort,d=oh||c,p=this,g=!1;if(!Eh){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),s=du(s,a.draggable,o,!0),M("dragOver"),Fh.eventCanceled)return g;if(Hu.contains(t.target)||s.animated&&s.animatingX&&s.animatingY||p._ignoreWhileAnimating===s)return T(!1);if(yh=!1,c&&!a.disabled&&(u?h||(i=qu!==Zu):oh===this||(this.lastPutMode=rh.checkPull(this,c,Hu,t))&&l.checkPut(this,c,Hu,t))){if(r="vertical"===this._getDirection(t,s),e=_u(Hu),M("dragOverValid"),Fh.eventCanceled)return g;if(i)return qu=Zu,R(),this._hideClone(),M("revert"),Fh.eventCanceled||(Ku?Zu.insertBefore(Hu,Ku):Zu.appendChild(Hu)),T(!0);var f=Eu(o,a.draggable);if(!f||Vh(t,r,this)&&!f.animated){if(f===Hu)return T(!1);if(f&&o===t.target&&(s=f),s&&(n=_u(s)),!1!==Bh(Zu,o,Hu,e,s,n,t,!!s))return R(),f&&f.nextSibling?o.insertBefore(Hu,f.nextSibling):o.appendChild(Hu),qu=o,G(),T(!0)}else if(f&&Wh(t,r,this)){var m=Iu(o,0,a,!0);if(m===Hu)return T(!1);if(s=m,n=_u(s),!1!==Bh(Zu,o,Hu,e,s,n,t,!1))return R(),o.insertBefore(Hu,m),qu=o,G(),T(!0)}else if(s.parentNode===o){n=_u(s);var A,y,v=0,_=Hu.parentNode!==o,C=!Th(Hu.animated&&Hu.toRect||e,s.animated&&s.toRect||n,r),I=r?"top":"left",E=Cu(s,"top","top")||Cu(Hu,"top","top"),w=E?E.scrollTop:void 0;if(ph!==s&&(A=n[I],_h=!1,Ch=!C&&a.invertSwap||_),v=Yh(t,s,n,r,C?1:a.swapThreshold,null==a.invertedSwapThreshold?a.swapThreshold:a.invertedSwapThreshold,Ch,ph===s),0!==v){var b=wu(Hu);do{b-=v,y=qu.children[b]}while(y&&("none"===mu(y,"display")||y===Xu))}if(0===v||y===s)return T(!1);ph=s,gh=v;var x=s.nextElementSibling,S=!1;S=1===v;var P=Bh(Zu,o,Hu,e,s,n,t,S);if(!1!==P)return 1!==P&&-1!==P||(S=1===P),Eh=!0,setTimeout(zh,30),R(),S&&!x?o.appendChild(Hu):s.parentNode.insertBefore(Hu,S?x:s),E&&Gu(E,0,w-E.scrollTop),qu=Hu.parentNode,void 0===A||Ch||(fh=Math.abs(A-_u(s)[I])),G(),T(!0)}if(o.contains(Hu))return T(!1)}return!1}function M(a,l){Vu(a,p,qc({evt:t,isOwner:u,axis:r?"vertical":"horizontal",revert:i,dragRect:e,targetRect:n,canSort:h,fromSortable:d,target:s,completed:T,onMove:function(n,i){return Bh(Zu,o,Hu,e,n,_u(n),t,i)},changed:G},l))}function R(){M("dragOverAnimationCapture"),p.captureAnimationState(),p!==d&&d.captureAnimationState()}function T(e){return M("dragOverCompleted",{insertion:e}),e&&(u?c._hideClone():c._showClone(p),p!==d&&(fu(Hu,oh?oh.options.ghostClass:c.options.ghostClass,!1),fu(Hu,a.ghostClass,!0)),oh!==p&&p!==Fh.active?oh=p:p===Fh.active&&oh&&(oh=null),d===p&&(p._ignoreWhileAnimating=s),p.animateAll((function(){M("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(s===Hu&&!Hu.animated||s===o&&!s.animated)&&(ph=null),a.dragoverBubble||t.rootEl||s===document||(Hu.parentNode[Ou]._isOutsideThisEl(t.target),!e&&Dh(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),g=!0}function G(){eh=wu(Hu),ih=wu(Hu,a.draggable),Yu({sortable:p,name:"change",toEl:o,newIndex:eh,newDraggableIndex:ih,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){cu(document,"mousemove",this._onTouchMove),cu(document,"touchmove",this._onTouchMove),cu(document,"pointermove",this._onTouchMove),cu(document,"dragover",Dh),cu(document,"mousemove",Dh),cu(document,"touchmove",Dh)},_offUpEvents:function(){var t=this.el.ownerDocument;cu(t,"mouseup",this._onDrop),cu(t,"touchend",this._onDrop),cu(t,"pointerup",this._onDrop),cu(t,"touchcancel",this._onDrop),cu(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;eh=wu(Hu),ih=wu(Hu,n.draggable),Vu("drop",this,{evt:t}),qu=Hu&&Hu.parentNode,eh=wu(Hu),ih=wu(Hu,n.draggable),Fh.eventCanceled||(Ah=!1,Ch=!1,_h=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Kh(this.cloneId),Kh(this._dragStartId),this.nativeDraggable&&(cu(document,"drop",this),cu(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ru&&mu(document.body,"user-select",""),mu(Hu,"transform",""),t&&(dh&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),Xu&&Xu.parentNode&&Xu.parentNode.removeChild(Xu),(Zu===qu||oh&&"clone"!==oh.lastPutMode)&&Qu&&Qu.parentNode&&Qu.parentNode.removeChild(Qu),Hu&&(this.nativeDraggable&&cu(Hu,"dragend",this),jh(Hu),Hu.style["will-change"]="",dh&&!Ah&&fu(Hu,oh?oh.options.ghostClass:this.options.ghostClass,!1),fu(Hu,this.options.chosenClass,!1),Yu({sortable:this,name:"unchoose",toEl:qu,newIndex:null,newDraggableIndex:null,originalEvent:t}),Zu!==qu?(eh>=0&&(Yu({rootEl:qu,name:"add",toEl:qu,fromEl:Zu,originalEvent:t}),Yu({sortable:this,name:"remove",toEl:qu,originalEvent:t}),Yu({rootEl:qu,name:"sort",toEl:qu,fromEl:Zu,originalEvent:t}),Yu({sortable:this,name:"sort",toEl:qu,originalEvent:t})),oh&&oh.save()):eh!==th&&eh>=0&&(Yu({sortable:this,name:"update",toEl:qu,originalEvent:t}),Yu({sortable:this,name:"sort",toEl:qu,originalEvent:t})),Fh.active&&(null!=eh&&-1!==eh||(eh=th,ih=nh),Yu({sortable:this,name:"end",toEl:qu,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){Vu("nulling",this),Zu=Hu=qu=Xu=Ku=Qu=Ju=$u=sh=ah=dh=eh=ih=th=nh=ph=gh=oh=rh=Fh.dragged=Fh.ghost=Fh.clone=Fh.active=null,wh.forEach((function(t){t.checked=!0})),wh.length=lh=ch=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":Hu&&(this._onDragOver(t),Uh(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t,e=[],n=this.el.children,i=0,r=n.length,o=this.options;i<r;i++)t=n[i],du(t,o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||qh(t));return e},sort:function(t,e){var n={},i=this.el;this.toArray().forEach((function(t,e){var r=i.children[e];du(r,this.options.draggable,i,!1)&&(n[t]=r)}),this),e&&this.captureAnimationState(),t.forEach((function(t){n[t]&&(i.removeChild(n[t]),i.appendChild(n[t]))})),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return du(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var i=ju.modifyOption(this,t,e);n[t]="undefined"!==typeof i?i:e,"group"===t&&Lh(n)},destroy:function(){Vu("destroy",this);var t=this.el;t[Ou]=null,cu(t,"mousedown",this._onTapStart),cu(t,"touchstart",this._onTapStart),cu(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(cu(t,"dragover",this),cu(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),(function(t){t.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),vh.splice(vh.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!$u){if(Vu("hideClone",this),Fh.eventCanceled)return;mu(Qu,"display","none"),this.options.removeCloneOnHide&&Qu.parentNode&&Qu.parentNode.removeChild(Qu),$u=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if($u){if(Vu("showClone",this),Fh.eventCanceled)return;Hu.parentNode!=Zu||this.options.group.revertClone?Ku?Zu.insertBefore(Qu,Ku):Zu.appendChild(Qu):Zu.insertBefore(Qu,Hu),this.options.group.revertClone&&this.animate(Hu,Qu),mu(Qu,"display",""),$u=!1}}else this._hideClone()}},bh&&lu(document,"touchmove",(function(t){(Fh.active||Ah)&&t.cancelable&&t.preventDefault()})),Fh.utils={on:lu,off:cu,css:mu,find:yu,is:function(t,e){return!!du(t,e,t,!1)},extend:Pu,throttle:Ru,closest:du,toggleClass:fu,clone:Lu,index:wu,nextTick:Zh,cancelNextTick:Kh,detectDirection:Rh,getChild:Iu},Fh.get=function(t){return t[Ou]},Fh.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach((function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(Fh.utils=qc(qc({},Fh.utils),t.utils)),ju.mount(t)}))},Fh.create=function(t,e){return new Fh(t,e)},Fh.version=$c;var Jh,Qh,$h,td,ed,nd,id=[],rd=!1;function od(){function t(){for(var t in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"===typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?lu(document,"dragover",this._handleAutoScroll):this.options.supportPointer?lu(document,"pointermove",this._handleFallbackAutoScroll):e.touches?lu(document,"touchmove",this._handleFallbackAutoScroll):lu(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?cu(document,"dragover",this._handleAutoScroll):(cu(document,"pointermove",this._handleFallbackAutoScroll),cu(document,"touchmove",this._handleFallbackAutoScroll),cu(document,"mousemove",this._handleFallbackAutoScroll)),ad(),sd(),Tu()},nulling:function(){ed=Qh=Jh=rd=nd=$h=td=null,id.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var n=this,i=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,o=document.elementFromPoint(i,r);if(ed=t,e||this.options.forceAutoScrollFallback||nu||eu||ru){ld(t,this.options,o,e);var s=Su(o,!0);!rd||nd&&i===$h&&r===td||(nd&&ad(),nd=setInterval((function(){var o=Su(document.elementFromPoint(i,r),!0);o!==s&&(s=o,sd()),ld(t,n.options,o,e)}),10),$h=i,td=r)}else{if(!this.options.bubbleScroll||Su(o,!0)===vu())return void sd();ld(t,this.options,Su(o,!1),!1)}}},Kc(t,{pluginName:"scroll",initializeByDefault:!0})}function sd(){id.forEach((function(t){clearInterval(t.pid)})),id=[]}function ad(){clearInterval(nd)}var ld=Ru((function(t,e,n,i){if(e.scroll){var r,o=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,l=e.scrollSpeed,c=vu(),u=!1;Qh!==n&&(Qh=n,sd(),Jh=e.scroll,r=e.scrollFn,!0===Jh&&(Jh=Su(n,!0)));var h=0,d=Jh;do{var p=d,g=_u(p),f=g.top,m=g.bottom,A=g.left,y=g.right,v=g.width,_=g.height,C=void 0,I=void 0,E=p.scrollWidth,w=p.scrollHeight,b=mu(p),x=p.scrollLeft,S=p.scrollTop;p===c?(C=v<E&&("auto"===b.overflowX||"scroll"===b.overflowX||"visible"===b.overflowX),I=_<w&&("auto"===b.overflowY||"scroll"===b.overflowY||"visible"===b.overflowY)):(C=v<E&&("auto"===b.overflowX||"scroll"===b.overflowX),I=_<w&&("auto"===b.overflowY||"scroll"===b.overflowY));var P=C&&(Math.abs(y-o)<=a&&x+v<E)-(Math.abs(A-o)<=a&&!!x),M=I&&(Math.abs(m-s)<=a&&S+_<w)-(Math.abs(f-s)<=a&&!!S);if(!id[h])for(var R=0;R<=h;R++)id[R]||(id[R]={});id[h].vx==P&&id[h].vy==M&&id[h].el===p||(id[h].el=p,id[h].vx=P,id[h].vy=M,clearInterval(id[h].pid),0==P&&0==M||(u=!0,id[h].pid=setInterval(function(){i&&0===this.layer&&Fh.active._onTouchMove(ed);var e=id[this.layer].vy?id[this.layer].vy*l:0,n=id[this.layer].vx?id[this.layer].vx*l:0;"function"===typeof r&&"continue"!==r.call(Fh.dragged.parentNode[Ou],n,e,t,ed,id[this.layer].el)||Gu(id[this.layer].el,n,e)}.bind({layer:h}),24))),h++}while(e.bubbleScroll&&d!==c&&(d=Su(d,!1)));rd=u}}),30),cd=function(t){var e=t.originalEvent,n=t.putSortable,i=t.dragEl,r=t.activeSortable,o=t.dispatchSortableEvent,s=t.hideGhostForTarget,a=t.unhideGhostForTarget;if(e){var l=n||r;s();var c=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,u=document.elementFromPoint(c.clientX,c.clientY);a(),l&&!l.el.contains(u)&&(o("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function ud(){}function hd(){}ud.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=Iu(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(e,i):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:cd},Kc(ud,{pluginName:"revertOnSpill"}),hd.prototype={onSpill:function(t){var e=t.dragEl,n=t.putSortable,i=n||this.sortable;i.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),i.animateAll()},drop:cd},Kc(hd,{pluginName:"removeOnSpill"});Fh.mount(new od),Fh.mount(hd,ud);var dd=Fh,pd={_createDraggableElement:function(t,e){navigator.userAgent.match(/chrome|chromium|crios/i)?dd.create(t,{handle:".GPlayerName",draggable:".draggable-layer",ghostClass:"GPghostLayer",animation:200,forceFallback:!0,onEnd:function(t){e._onDragAndDropLayerClick(t)}}):dd.create(t,{handle:".GPlayerName",draggable:".draggable-layer",ghostClass:"GPghostLayer",animation:200,onEnd:function(t){e._onDragAndDropLayerClick(t)}})},_addUID:function(t){var e=this._uid?t+"-"+this._uid:t;return e},_createMainContainerElement:function(){var t=document.createElement("div");return t.id=this._addUID("GPlayerSwitcher"),t.className="GPwidget gpf-widget",t},_createMainLayersShowElement:function(){var t=document.createElement("input");return t.id=this._addUID("GPshowLayersList"),t.type="checkbox",t},_createMainLayersElement:function(){var t=document.createElement("dialog");return t.id=this._addUID("GPlayersList"),t.className="GPpanel gpf-panel fr-modal",t},_createMainLayersDivElement:function(){var t=document.createElement("div");return t.className="gpf-panel__body fr-modal__body",t},_createMainPictoElement:function(){var t=this,e=document.createElement("button");return e.id=this._addUID("GPshowLayersListPicto"),e.className="GPshowOpen GPshowAdvancedToolPicto gpf-btn gpf-btn-icon-layerswitcher fr-btn",e.htmlFor=this._addUID("GPshowLayersList"),e.title="Afficher/masquer le gestionnaire de couches",e.setAttribute("tabindex","0"),e.setAttribute("aria-pressed",!1),e.addEventListener?e.addEventListener("click",(function(e){var n="true"===e.target.ariaPressed;if(e.target.setAttribute("aria-pressed",!n),document.getElementById(t._addUID("GPshowLayersList")).checked=n,document.getElementById(t._addUID("GPshowLayersList")).checked){for(var i=document.getElementsByClassName("GPlayerInfoOpened"),r=0;r<i.length;r++)i[r].className="GPlayerInfo";document.getElementById(t._addUID("GPlayerInfoPanel")).className="GPlayerInfoPanelClosed"}})):e.attachEvent&&e.attachEvent("onclick",(function(e){var n="true"===e.target.ariaPressed;if(e.target.setAttribute("aria-pressed",!n),document.getElementById(t._addUID("GPshowLayersList")).checked){for(var i=document.getElementsByClassName("GPlayerInfoOpened"),r=0;r<i.length;r++)i[r].className="GPlayerInfo";document.getElementById(t._addUID("GPlayerInfoPanel")).className="GPlayerInfoPanelClosed"}})),e},_createMainInfoElement:function(){var t=document.createElement("div");return t.id=this._addUID("GPlayerInfoPanel"),t.className="GPpanel GPlayerInfoPanelClosed gpf-panel fr-modal",t},_createContainerLayerElement:function(t){var e=document.createElement("div");e.id=this._addUID("GPlayerSwitcher_ID_"+t.id),e.className="GPlayerSwitcher_layer gpf-panel__content fr-modal__content draggable-layer",e.appendChild(this._createBasicToolElement(t));for(var n=this._createAdvancedToolShowElement(t),i=0;i<n.length;i++)e.appendChild(n[i]);return e.appendChild(this._createAdvancedToolElement(t)),e},_createBasicToolElement:function(t){var e=document.createElement("div");e.id=this._addUID("GPbasicTools_ID_"+t.id),e.className="GPlayerBasicTools",e.appendChild(this._createBasicToolNameElement(t));for(var n=this._createBasicToolVisibilityElement(t),i=0;i<n.length;i++)e.appendChild(n[i]);return e},_createBasicToolNameElement:function(t){var e=document.createElement("label");return e.id=this._addUID("GPname_ID_"+t.id),e.className="GPlayerName gpf-label fr-label",e.title=t.description||t.title,e.innerHTML=t.title,e},_createBasicToolVisibilityElement:function(t){var e=[],n="undefined"===typeof t.visibility||t.visibility,i=this._addUID("GPvisibility_ID_"+t.id),r=document.createElement("input");r.id=i,r.type="checkbox",r.checked=n;var o=document.createElement("label");o.htmlFor=i,o.id=this._addUID("GPvisibilityPicto_ID_"+t.id),o.className="GPlayerVisibility gpf-label fr-label",o.title="Afficher/masquer la couche";var s=this;return r.addEventListener?r.addEventListener("click",(function(t){s._onVisibilityLayerClick(t)})):r.attachEvent&&r.attachEvent("onclick",(function(t){s._onVisibilityLayerClick(t)})),e.push(r),e.push(o),e},_createAdvancedToolShowElement:function(t){var e=[],n=document.createElement("label");n.id=this._addUID("GPshowAdvancedToolsPicto_ID_"+t.id),n.htmlFor=this._addUID("GPshowAdvancedTools_ID_"+t.id),n.title="Plus d'outils",n.className="GPshowMoreOptions GPshowLayerAdvancedTools gpf-label fr-label";var i=document.createElement("input");return i.type="checkbox",i.id=this._addUID("GPshowAdvancedTools_ID_"+t.id),e.push(i),e.push(n),e},_createAdvancedToolElement:function(t){var e=document.createElement("div");if(e.id=this._addUID("GPadvancedTools_ID_"+t.id),e.className="GPlayerAdvancedTools",e.appendChild(this._createAdvancedToolDeleteElement(t)),t.title&&t.description&&e.appendChild(this._createAdvancedToolInformationElement(t)),"feature"!==t.type)for(var n=this._createAdvancedToolOpacityElement(t),i=0;i<n.length;i++)e.appendChild(n[i]);return e},_createAdvancedToolDeleteElement:function(t){var e=document.createElement("div");e.id=this._addUID("GPremove_ID_"+t.id),e.className="GPlayerRemove",e.title="Supprimer la couche",e.layerId=t.id;var n=this;return e.addEventListener?e.addEventListener("click",(function(t){n._onDropLayerClick(t)})):e.attachEvent&&e.attachEvent("onclick",(function(t){n._onDropLayerClick(t)})),e},_createAdvancedToolInformationElement:function(t){var e=document.createElement("div");e.id=this._addUID("GPinfo_ID_"+t.id),e.className="GPlayerInfo",e.title="Informations/légende",e.layerId=t.id;var n=this;return e.addEventListener?e.addEventListener("click",(function(t){n._onOpenLayerInfoClick(t)})):e.attachEvent&&e.attachEvent("onclick",(function(t){n._onOpenLayerInfoClick(t)})),e},_createAdvancedToolOpacityElement:function(t){var e=[],n=document.createElement("div");n.id=this._addUID("GPopacity_ID_"+t.id),n.className="GPlayerOpacity",n.title="Opacité";var i="undefined"!==typeof t.opacity?t.opacity:1;i=Math.round(100*i);var r=document.createElement("input");r.id=this._addUID("GPopacityValueDiv_ID_"+t.id),r.type="range",r.value=i,r.ariaLabel="Opacité";var o=this;r.addEventListener?r.addEventListener("change",(function(t){o._onChangeLayerOpacity(t)})):r.attachEvent&&r.attachEvent("onchange",(function(t){o._onChangeLayerOpacity(t)})),r.addEventListener?r.addEventListener("input",(function(t){o._onChangeLayerOpacity(t)})):r.attachEvent&&r.attachEvent("oninput",(function(t){o._onChangeLayerOpacity(t)})),n.appendChild(r);var s=document.createElement("div");s.id=this._addUID("GPopacityValueDiv_ID_"+t.id),s.className="GPlayerOpacityValue";var a=document.createElement("span");return a.id=this._addUID("GPopacityValue_ID_"+t.id),a.innerHTML=i+"%",s.appendChild(a),e.push(n),e.push(s),e},_createContainerLayerInfoElement:function(t){var e=document.createElement("div");e.id=this._addUID("GPlayerInfoContent");var n=document.createElement("div");if(n.id=this._addUID("GPlayerInfoTitle"),n.innerHTML=t.title,e.appendChild(n),t.quicklookUrl){var i=document.createElement("div");i.id=this._addUID("GPlayerInfoQuicklook"),i.title="Afficher un aperçu de la couche";var r=document.createElement("a");r.href=t.quicklookUrl,r.appendChild(i),e.appendChild(r)}var o=document.createElement("div");o.id=this._addUID("GPlayerInfoClose"),o.title="Fermer la fenêtre";var s=this,a=function(){document.getElementById(s._addUID("GPlayerInfoPanel")).className="GPlayerInfoPanelClosed";for(var t=document.getElementsByClassName("GPlayerInfoOpened"),e=0;e<t.length;e++)t[e].className="GPlayerInfo"};o.addEventListener?o.addEventListener("click",a):o.attachEvent&&o.attachEvent("onclick",a),e.appendChild(o);var l=document.createElement("div");if(l.id=this._addUID("GPlayerInfoDescription"),l.innerHTML=t.description,e.appendChild(l),t.metadata){var c=document.createElement("div");c.id=this._addUID("GPlayerInfoMetadata");var u=document.createElement("div");u.className="GPlayerInfoSubtitle",u.innerHTML="Métadonnées",c.appendChild(u);for(var h=0;h<t.metadata.length;h++){var d=t.metadata[h].url,p=document.createElement("div");p.className="GPlayerInfoLink";var g=document.createElement("a");g.href=d,g.innerHTML=d,p.appendChild(g),c.appendChild(p)}0!==t.metadata.length&&e.appendChild(c)}if(t.legends){var f=document.createElement("div");f.id=this._addUID("GPlayerInfoLegend");var m=document.createElement("div");m.className="GPlayerInfoSubtitle",m.innerHTML="Légende",f.appendChild(m);for(var A={},y=t.maxScaleDenominator||56e7,v=0;v<t.legends.length;v++){var _=t.legends[v].minScaleDenominator;if(_){var C=_.toString();_=Math.round(parseInt(C.substring(0,3),10)/10)*Math.pow(10,C.length-2)}else _=270;A[_]=t.legends[v]}for(var I in A)if(A.hasOwnProperty(I)){var E=A[I].url;if("string"===typeof E&&-1===E.toLowerCase().indexOf("nolegend.jpg")){var w=document.createElement("div");w.className="GPlayerInfoLink",y=A[I].maxScaleDenominator||y;var b=document.createElement("a");b.href=E,b.innerHTML="Du 1/"+I+" au 1/"+y,w.appendChild(b),f.appendChild(w)}else delete A[I]}0!==Object.keys(A).length&&e.appendChild(f)}return e}},gd=pd,fd=Pn.getLogger("layerswitcher"),md=class t extends jc{constructor(e){e=e||{};var n=e.options||{},i=e.layers||[];if(super({element:n.element,target:n.target,render:n.render}),!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");if(!Array.isArray(i))throw new Error("ERROR WRONG_TYPE : layers should be an array");if("object"!==typeof n)throw new Error("ERROR WRONG_TYPE : options should be an object");return this._initialize(n,i),this.container=this._initContainer(n),this.element?this.element.appendChild(this.container):this.element=this.container,this}setMap(t){if(t)this._addMapLayers(t),this._listeners.onMoveListener=t.on("moveend",(()=>this._onMapMoveEnd(t))),this._listeners.onAddListener=t.getLayers().on("add",(t=>{var e,n=t.element;n.hasOwnProperty("gpLayerId")?e=n.gpLayerId:(e=this._layerId,n.gpLayerId=e,this._layerId++),this._layers[e]||this.addLayer(n)})),this._listeners.onRemoveListener=t.getLayers().on("remove",(t=>{var e=t.element,n=e.gpLayerId;this._layers[n]&&this.removeLayer(e)}));else{(0,ur.e)(this._listeners.onMoveListener),(0,ur.e)(this._listeners.onAddListener),(0,ur.e)(this._listeners.onRemoveListener);for(var e=this._layersOrder.length-1;e>=0;e--)this._layersOrder[e].layer.setZIndex(0)}super.setMap(t),this.options.position&&this.setPosition(this.options.position)}addLayer(t,e){var n=this.getMap();if(e=e||{},t){var i=t.gpLayerId;if("undefined"!==typeof i){var r=!1;if(n.getLayers().forEach((t=>{t.gpLayerId===i&&(r=!0)})),r)if(this._layers[i]){for(var o in e)e.hasOwnProperty(o)&&(this._layers[i][o]=e[o]);if(e.title){var s=document.getElementById(this._addUID("GPname_ID_"+i));s&&(s.innerHTML=e.title,s.title=e.description||e.title)}var a=document.getElementById(this._addUID("GPinfo_ID_"+i));if(!document.getElementById(this._addUID("GPinfo_ID_"+i))&&e.description){var l=document.getElementById(this._addUID("GPadvancedTools_ID_"+i));l&&l.appendChild(this._createAdvancedToolInformationElement({id:i}))}a&&"GPlayerInfoOpened"===a.className&&(document.getElementById(this._addUID("GPlayerInfoPanel")).className="GPlayerInfoPanelClosed",a.className="GPlayerInfo")}else{var c=this.getLayerInfo(t)||{},u=t.getOpacity(),h=t.getVisible(),d=this.isInRange(t,n),p={layer:t,id:i,opacity:null!=u?u:1,visibility:null==h||h,inRange:null==d||d,title:null!=e.title?e.title:c._title||i,description:e.description||c._description||null,legends:e.legends||c._legends||[],metadata:e.metadata||c._metadata||[],quicklookUrl:e.quicklookUrl||c._quicklookUrl||null};this._layers[i]=p;var g=this._createLayerDiv(p);this._layers[i].div=g,t.getZIndex&&0!==t.getZIndex()&&"undefined"!==typeof t.getZIndex()||t._forceNullzIndex?this._updateLayersOrder():(this._layersOrder.unshift(p),this._lastZIndex++,t.setZIndex(this._lastZIndex),this._layerListContainer.insertBefore(g,this._layerListContainer.firstChild)),this._listeners.updateLayerOpacity=t.on("change:opacity",(t=>this._updateLayerOpacity(t))),this._listeners.updateLayerVisibility=t.on("change:visible",(t=>this._updateLayerVisibility(t))),null==this._layers[i].onZIndexChangeEvent&&(this._layers[i].onZIndexChangeEvent=t.on("change:zIndex",(()=>this._updateLayersOrder())))}else fd.log("[ERROR] LayerSwitcher:addLayer - configuration cannot be set for ",t," layer (layer is not in map.getLayers() )")}else fd.trace("[WARN] LayerSwitcher:addLayer - configuration cannot be set for this layer (layer id not found)",t)}else fd.log("[ERROR] LayerSwitcher:addLayer - missing layer parameter")}removeLayer(t){if(t){(0,ur.e)(this._listeners.updateLayerOpacity),(0,ur.e)(this._listeners.updateLayerVisibility),fd.trace(t);var e=t.gpLayerId,n=document.getElementById(this._addUID("GPlayersList")).firstChild,i=document.getElementById(this._addUID("GPinfo_ID_"+e));i&&"GPlayerInfoOpened"===i.className&&(document.getElementById(this._addUID("GPlayerInfoPanel")).className="GPlayerInfoPanelClosed",i.className="GPlayerInfo");var r=document.getElementById(this._addUID("GPlayerSwitcher_ID_"+e));r&&n.removeChild(r);var o=Math.abs(t.getZIndex()-this._lastZIndex);this._layersOrder.splice(o,1),this._lastZIndex--;for(var s=this._layersOrder,a=0;a<s.length;a++)s[a].layer.setZIndex(this._lastZIndex-a);delete this._layers[e]}}setCollapsed(t){if(void 0!==t){var e=!document.getElementById(this._addUID("GPshowLayersList")).checked;if(!(t&&e||!t&&!e)){if(!e){for(var n=document.getElementsByClassName("GPlayerInfoOpened"),i=0;i<n.length;i++)n[i].className="GPlayerInfo";document.getElementById(this._addUID("GPlayerInfoPanel")).className="GPlayerInfoPanelClosed"}document.getElementById(this._addUID("GPshowLayersList")).checked=!t}}else fd.log("[ERROR] LayerSwitcher:setCollapsed - missing collapsed parameter")}getCollapsed(){return this.collapsed}setRemovable(t,e){if(t){var n=t.gpLayerId;if(null!=n){var i=document.getElementById(this._addUID("GPremove_ID_"+n));i&&(!1===e?i.style.display="none":!0===e&&(i.style.display="block"))}else fd.log("[LayerSwitcher:setRemovable] layer should be added to map before calling setRemovable method")}}_initialize(t,e){this._uid=Yc.generate(),this.options=t,this.options.layers=e,this._layers={},this._layersOrder=[],this._layersIndex={},this._lastZIndex=0,this._layerId=0,this.collapsed=void 0===t.collapsed||t.collapsed,this._layerListContainer=null,this._listeners={};for(var n=0;n<e.length;n++){var i=e[n].layer;if(i){var r;i.hasOwnProperty("gpLayerId")?r=i.gpLayerId:(r=this._layerId,i.gpLayerId=r,this._layerId++);var o=e[n].config||{},s=i.getOpacity(),a=i.getVisible(),l={layer:i,id:r,opacity:null!=s?s:1,visibility:null==a||a,title:null!=o.title?o.title:o.id?o.id:r,description:o.description||null,legends:o.legends||[],metadata:o.metadata||[],quicklookUrl:o.quicklookUrl||null};this._layers[r]=l}}}_initContainer(){var t=this._createMainContainerElement(),e=this._createMainLayersShowElement();t.appendChild(e),this.collapsed?this.collapsed=!0:(e.checked="checked",this.collapsed=!1);var n=this,i=function(t){this.collapsed=!t.target.checked,this.dispatchEvent("change:collapsed")};e.addEventListener("click",(function(t){i.call(n,t)}));var r=this._createMainPictoElement();t.appendChild(r);var o=this._createMainLayersElement();t.appendChild(o);var s=this._layerListContainer=this._createMainLayersDivElement();o.appendChild(s),this._createDraggableElement(s,this);var a=this._createMainInfoElement();return t.appendChild(a),t}_addMapLayers(t){for(var e in this._layersIndex={},t.getLayers().forEach((e=>{var n;e.hasOwnProperty("gpLayerId")?n=e.gpLayerId:(n=this._layerId,e.gpLayerId=n,this._layerId++);var i=this.getLayerInfo(e)||{};if(this._layers[n])this._layers[n].opacity=e.getOpacity(),this._layers[n].visibility=e.getVisible(),this._layers[n].inRange=this.isInRange(e,t);else{var r=e.getOpacity(),o=e.getVisible(),s=this.isInRange(e,t),a={layer:e,id:n,opacity:null!=r?r:1,visibility:null==o||o,inRange:null==s||s,title:i._title||n,description:i._description||null,legends:i._legends||[],metadata:i._metadata||[],quicklookUrl:i._quicklookUrl||null};this._layers[n]=a}if(this._listeners.updateLayerOpacity=e.on("change:opacity",(t=>this._updateLayerOpacity(t))),this._listeners._updateLayerVisibility=e.on("change:visible",(t=>this._updateLayerVisibility(t))),void 0!==e.getZIndex){var l=e.getZIndex()||0;this._layersIndex[l]&&Array.isArray(this._layersIndex[l])||(this._layersIndex[l]=[]),this._layersIndex[l].push(this._layers[n])}})),this._layersIndex)if(this._layersIndex.hasOwnProperty(e))for(var n=this._layersIndex[e],i=0;i<n.length;i++)this._layersOrder.unshift(n[i]),this._lastZIndex++,n[i].layer.setZIndex(this._lastZIndex),null==this._layers[n[i].layer.gpLayerId].onZIndexChangeEvent&&(this._layers[n[i].layer.gpLayerId].onZIndexChangeEvent=n[i].layer.on("change:zIndex",(()=>this._updateLayersOrder())));for(var r=0;r<this._layersOrder.length;r++){var o=this._layersOrder[r],s=this._createLayerDiv(o);this._layerListContainer.appendChild(s),this._layers[o.id].div=s}}_createLayerDiv(t){var e=t.legends&&0!==t.legends.length,n=t.metadata&&0!==t.metadata.length,i=t.quicklookUrl;(e||n||i)&&(t.displayInformationElement=!0);var r=this._createContainerLayerElement(t);return t.inRange||r.classList.add("outOfRange"),r}_onChangeLayerOpacity(t){var e=t.target.id,n=Yc.index(e),i=this._layers[n].layer,r=t.target.value,o=document.getElementById(this._addUID("GPopacityValue_ID_"+n));o.innerHTML=r+"%",i.setOpacity(r/100)}_updateLayerOpacity(t){var e=t.target.getOpacity();e>1&&(e=1),e<0&&(e=0);var n=t.target.gpLayerId,i=document.getElementById(this._addUID("GPopacityValueDiv_ID_"+n));i&&(i.value=Math.round(100*e));var r=document.getElementById(this._addUID("GPopacityValue_ID_"+n));r&&(r.innerHTML=Math.round(100*e)+"%")}_onVisibilityLayerClick(t){var e=t.target.id,n=Yc.index(e),i=this._layers[n].layer;i.setVisible(t.target.checked)}_updateLayerVisibility(t){var e=t.target.getVisible(),n=t.target.gpLayerId,i=document.getElementById(this._addUID("GPvisibility_ID_"+n));i&&(i.checked=e)}_updateLayersOrder(){var t=this.getMap();if(t){var e,n;for(var i in this._layersIndex={},t.getLayers().forEach((t=>{n=t.gpLayerId,(0,ur.e)(this._layers[n].onZIndexChangeEvent),this._layers[n].onZIndexChangeEvent=null,e=null,void 0!==t.getZIndex&&(e=t.getZIndex(),this._layersIndex[e]&&Array.isArray(this._layersIndex[e])||(this._layersIndex[e]=[]),this._layersIndex[e].push(this._layers[n]))})),this._lastZIndex=0,this._layersOrder=[],this._layersIndex)if(this._layersIndex.hasOwnProperty(i))for(var r=this._layersIndex[i],o=0;o<r.length;o++)this._layersOrder.unshift(r[o]),this._lastZIndex++,null==this._layers[r[o].layer.gpLayerId].onZIndexChangeEvent&&(this._layers[r[o].layer.gpLayerId].onZIndexChangeEvent=r[o].layer.on("change:zIndex",(()=>this._updateLayersOrder())));if(this._layerListContainer){while(this._layerListContainer.firstChild)this._layerListContainer.removeChild(this._layerListContainer.firstChild);for(var s=0;s<this._layersOrder.length;s++){var a=this._layersOrder[s];this._layerListContainer.appendChild(a.div)}}else fd.log("[ol.control.LayerSwitcher] _updateLayersOrder : layer list container not found to update layers order ?!")}}_onOpenLayerInfoClick(t){var e,n,i=t.target.id,r=Yc.index(i),o=this._layers[r];if(i=document.getElementById(t.target.id),"GPlayerInfoOpened"===i.className)return void 0!==i.classList&&(i.classList.remove("GPlayerInfoOpened"),i.classList.add("GPlayerInfo")),e=document.getElementById(this._addUID("GPlayerInfoPanel")),void 0!==e.classList&&(e.classList.remove("GPpanel"),e.classList.remove("GPlayerInfoPanelOpened"),e.classList.add("GPlayerInfoPanelClosed")),n=document.getElementById(this._addUID("GPlayerInfoContent")),void e.removeChild(n);for(var s=document.getElementsByClassName("GPlayerInfoOpened"),a=0;a<s.length;a++)s[a].className="GPlayerInfo";void 0!==i.classList&&(i.classList.remove("GPlayerInfo"),i.classList.add("GPlayerInfoOpened")),e=document.getElementById(this._addUID("GPlayerInfoPanel")),void 0!==e.classList&&(e.classList.add("GPpanel"),e.classList.remove("GPlayerInfoPanelClosed"),e.classList.add("GPlayerInfoPanelOpened")),n=document.getElementById(this._addUID("GPlayerInfoContent")),n&&e.removeChild(n);var l={title:o.title,description:o.description,quicklookUrl:o.quicklookUrl,metadata:o.metadata,legends:o.legends},c=o.layer.getMaxResolution();l._maxScaleDenominator=c===1/0?56e7:Math.round(c/28e-5);var u=this._createContainerLayerInfoElement(l);e.appendChild(u)}_onDropLayerClick(t){var e=t.target.id,n=Yc.index(e),i=this._layers[n].layer;this.getMap().getLayers().remove(i)}_onDragAndDropLayerClick(){var t=this.getMap(),e=document.querySelectorAll("div.GPlayerSwitcher_layer"),n=e.length;this._layersOrder=[];for(var i=0;i<e.length;i++){var r=e[i].id,o=Yc.index(r),s=this._layers[o].layer;(0,ur.e)(this._layers[o].onZIndexChangeEvent),this._layers[o].onZIndexChangeEvent=null,s.setZIndex&&(s.setZIndex(n),this._layersOrder.push(this._layers[o]),n--),null==this._layers[o].onZIndexChangeEvent&&(this._layers[o].onZIndexChangeEvent=s.on("change:zIndex",(()=>this._updateLayersOrder())))}t.updateSize()}_onMapMoveEnd(t){t.getLayers().forEach((e=>{var n=e.gpLayerId;if(this._layers[n]){var i,r=this._layers[n];this.isInRange(e,t)&&!r.inRange?(r.inRange=!0,i=document.getElementById(this._addUID("GPlayerSwitcher_ID_"+n)),i.classList.remove("outOfRange")):!this.isInRange(e,t)&&r.inRange&&(r.inRange=!1,i=document.getElementById(this._addUID("GPlayerSwitcher_ID_"+n)),i.classList.add("outOfRange"))}}))}getLayerDOMId(t){var e=null;return this.getMap().getLayers().forEach((n=>{n===t&&(e=n.hasOwnProperty("gpLayerId")?n.gpLayerId:null)})),null!==e?this._addUID("GPlayerSwitcher_ID_"+e):null}isInRange(t,e){if(e){var n=e.getView().getResolution();if(n>t.getMaxResolution()||n<t.getMinResolution())return!1;var i=e.getView().calculateExtent(e.getSize()),r=t.getExtent();return!(r&&!(0,a.HY)(i,r))}}getLayerInfo(t){var e={};if(void 0!==t.getProperties&&void 0!==t.getSource){var n=t.getProperties(),i=n.source;i&&(e._title=i._title||n.id||"",e._description=i._description||"",e._quicklookUrl=i._quicklookUrl||"",e._metadata=i._metadata||[],e._legends=i._legends||[])}return e}};Object.assign(md.prototype,gd);var Ad=md;window.ol&&window.ol.control&&(window.ol.control.LayerSwitcher=md);var yd={_addUID:function(t){var e=this._uid?t+"-"+this._uid:t;return e},_createMainContainerElement:function(){var t=document.createElement("div");return t.id=this._addUID("GPgetFeatureInfo"),t.className="GPwidget gpf-widget",t},_createMainPictoElement:function(){var t=this,e=document.createElement("button");return e.id=this._addUID("GPgetFeatureInfoPicto"),e.className="GPshowOpen GPshowAdvancedToolPicto GPgetFeatureInfoPicto gpf-btn gpf-btn-icon-getfeatureinfo fr-btn",e.title="activer/desactiver l'interrogation des couches",e.setAttribute("tabindex","0"),e.setAttribute("aria-pressed",!1),e.addEventListener?e.addEventListener("click",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t.onActivateGetFeatureInfoElementChange(e)})):e.attachEvent&&e.attachEvent("onclick",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t.onActivateGetFeatureInfoElementChange(e)})),e}},vd=yd,_d=Pn.getLogger("getfeatureinfo"),Cd=class t extends jc{constructor(e){e=e||{};var n=e.options||{},i=e.layers||[];if(super({element:n.element,target:n.target,render:n.render}),!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");if(!Array.isArray(i))throw new Error("ERROR WRONG_TYPE : layers should be an array");if("object"!==typeof n)throw new Error("ERROR WRONG_TYPE : options should be an object");return this._initialize(n,i),this._container=this._initContainer(n),this.element?this.element.appendChild(this._container):this.element=this._container,this}_initialize(t,e){if(this._uid=Yc.generate(),this.options=t,this.options.layers=e,this._events={dblclick:!1,singleclick:!1,contextmenu:!1},this._eventsHandler={},"undefined"===typeof t.auto||"boolean"===typeof t.auto)if(this._auto=t.auto||!1,"undefined"===typeof t.active||"boolean"===typeof t.active)if(this._active="undefined"===typeof t.active||t.active,t.defaultEvent&&"string"!==typeof t.defaultEvent)_d.log("[ERROR] GetFeatureInfo:_initialize - defaultEvent parameter should be a string");else if(this._defaultEvent=t.defaultEvent||"singleclick",this._isValidEvent(this._defaultEvent))if(t.defaultInfoFormat&&"string"!==typeof t.defaultInfoFormat)_d.log("[ERROR] GetFeatureInfo:_initialize - defaultInfoFormat parameter should be a string");else if(this._defaultInfoFormat=t.defaultInfoFormat||"text/html",t.cursorStyle&&"string"!==typeof t.cursorStyle)_d.log("[ERROR] GetFeatureInfo:_initialize - cursorStyle parameter should be a string");else{if(this._cursorStyle=t.cursorStyle||"pointer",t.proxyUrl){if("string"!==typeof t.proxyUrl)return void _d.log("[ERROR] GetFeatureInfo:_initialize - proxyUrl parameter should be a string");this._proxyUrl=t.proxyUrl}if(t.noProxyDomains){if(!Array.isArray(t.noProxyDomains))return void _d.log("[ERROR] GetFeatureInfo:_initialize - noProxyDomains parameter should be a array");this._noProxyDomains=t.noProxyDomains}if("undefined"===typeof t.autoPan||"boolean"===typeof t.autoPan){if(this._autoPan="undefined"===typeof t.autoPan||t.autoPan,t.autoPanAnimation){if(t.autoPanAnimation.duration&&"number"!==typeof t.autoPanAnimation.duration)return void _d.log("[ERROR] GetFeatureInfo:_initialize - autoPanAnimation parameter is invalid : duration should be a number.");if(t.autoPanAnimation.easing&&"function"!==typeof t.autoPanAnimation.easing)return void _d.log("[ERROR] GetFeatureInfo:_initialize - autoPanAnimation parameter is invalid : easing should be a ol.easing function or a custom function.");this._autoPanAnimation=t.autoPanAnimation}if(t.autoPanMargin){if("number"!==typeof t.autoPanMargin)return void _d.log("[ERROR] GetFeatureInfo:_initialize - autoPanMargin parameter should be a number");this._autoPanMargin=t.autoPanMargin}Array.isArray(e)?(this._setLayers(e),this._activateGetFeatureInfoButton=null):_d.log("[ERROR] GetFeatureInfo:_initialize - layers parameter should be an array")}else _d.log("[ERROR] GetFeatureInfo:_initialize - autoPan parameter should be a boolean")}else _d.log("[ERROR] GetFeatureInfo:_initialize - _defaultEvent '"+this._defaultEvent+"' is not a valid event");else _d.log("[ERROR] GetFeatureInfo:_initialize - active parameter should be a boolean");else _d.log("[ERROR] GetFeatureInfo:_initialize - auto parameter should be a boolean")}setMap(t){if(t){if(this._updateEvents(t),this._cursorStyle&&this._active&&this._activateCursor(!0,t),t.getLayers().on("remove",(e=>{for(var n=0;n<this._layers.length;++n)if(this._layers[n].obj===e.element){this._layers.splice(n,1);break}this._updateEvents(t)})),this._auto){var e=!1;t.getLayers().forEach((t=>{var n=Ln.getLayerFormat(t);this._hasLayer(t)||"vector"!==n||(this._layers.push({obj:t}),e=!0)})),e&&this._updateEvents(t),t.getLayers().on("add",(e=>{var n=Ln.getLayerFormat(e.element);"vector"===n&&this._layers.push({obj:e.element}),this._updateEvents(t)}))}}else this._clearEvents(),this._activateCursor(!1);super.setMap(t),this.options.position&&this.setPosition(this.options.position)}getLayers(){return this._layers}setDefaultEvent(t){"string"===typeof t?t&&this._isValidEvent(t)?(this._defaultEvent=t,this._updateEvents()):_d.log("[ERROR] GetFeatureInfo:setDefaultEvent - event '"+t+"' is not allowed."):_d.log("[ERROR] GetFeatureInfo:setDefaultEvent - eventName parameter should be a string")}setCursorStyle(t){"string"===typeof t?(this._active&&(!this._cursorStyle&&t?this._activateCursor(!0):this._cursorStyle&&!t&&this._activateCursor(!1)),this._cursorStyle=t):_d.log("[ERROR] GetFeatureInfo:setCursorStyle - cursorStyle parameter should be a string")}setActive(t){this._setActive(t),this._activateGetFeatureInfoButton.setAttribute("aria-pressed",t)}_setActive(t){"boolean"===typeof t?this._active!==t&&(this._active=t,this._cursorStyle&&this._activateCursor(t)):_d.log("[ERROR] GetFeatureInfo:_setActive - active parameter should be a boolean")}isActive(){return this._active}setHidden(t){this.element.style.visibility=t?"hidden":""}isHidden(){return"hidden"===this.element.style.visibility}setLayers(t){this._setLayers(t),this._updateEvents()}_isValidEvent(t){return Object.keys(this._events).indexOf(t)>-1}_activateEvent(t,e){var n=this,i=function(t){Ln.onDisplayFeatureInfo(t,n)};"contextmenu"===t?e.getViewport().addEventListener(t,i):e.on(t,i),this._eventsHandler[t]=i,this._events[t]=!0}_deactivateEvent(t,e){"contextmenu"===t?e.getViewport().removeEventListener(t,this._eventsHandler[t]):e.un(t,this._eventsHandler[t]),delete this._eventsHandler[t],this._events[t]=!1}_updateEvents(t){t||(t=this.getMap());for(var e=[],n=0;n<this._layers.length;++n){var i=this._layers[n].event?this._layers[n].event:this._defaultEvent;e.indexOf(i)<0&&e.push(i)}for(var r in this._events)!this._events[r]&&e.indexOf(r)>=0?this._activateEvent(r,t):this._events[r]&&e.indexOf(r)<0&&this._deactivateEvent(r,t)}_clearEvents(){var t=this.getMap();for(var e in this._events)this._events[e]&&this._deactivateEvent(e,t)}_hasLayer(t){for(var e=0;e<this._layers.length;++e)if(this._layers[e].obj===t)return!0;return!1}_activateCursor(t,e){if(e||(e=this.getMap()),t){if(this._eventsHandler.hasOwnProperty("pointermove"))return void _d.log("[ERROR] _activateCursor - inconsistent state: pointermove event handler already registered");var n=this,i=function(t){var i=e.forEachFeatureAtPixel(t.pixel,((t,e)=>{for(var i=n.getLayers(),r=0;r<i.length;++r)if(i[r].obj===e)return!0}));e.getTargetElement().style.cursor=i?n._cursorStyle:""};this._eventsHandler["pointermove"]=i,e.on("pointermove",i)}else this._eventsHandler.hasOwnProperty("pointermove")&&(e.un("pointermove",this._eventsHandler["pointermove"]),delete this._eventsHandler["pointermove"]),e.getTargetElement().style.cursor=""}_setLayers(t){if(t&&Array.isArray(t)){this._layers=[];for(var e=0;e<t.length;++e){var n=this._layers.push({})-1;t[e].event&&(this._isValidEvent(t[e].event)?this._layers[n].event=t[e].event:_d.log("[ERROR] GetFeatureInfo:setLayers - layer event '"+this._layers[e].event+"' is not allowed.")),t[e].infoFormat&&(this._layers[n].infoFormat=t[e].infoFormat),this._layers[n].obj=t[e].obj}}else _d.log("[ERROR] GetFeatureInfo:setLayers - gfiLayers parameter should be a array")}onActivateGetFeatureInfoElementChange(t){var e=t.target.getAttribute("aria-pressed");this._setActive("true"===e)}_initContainer(t){var e=this._createMainContainerElement(),n=this._createMainPictoElement();if(e.appendChild(n),"undefined"!==typeof t.hidden){if("boolean"!==typeof t.hidden)return void _d.log("[ERROR] GetFeatureInfo:_initContainer - hidden parameter should be a boolean");t.hidden&&(e.style.visibility="hidden")}return e}};Object.assign(Cd.prototype,vd);var Id=Cd;window.ol&&window.ol.control&&(window.ol.control.GetFeatureInfo=Cd);var Ed={advancedSearchFiltersByDefault:{PositionOfInterest:[{name:"category",title:"Type",value:["cimetière","aérodrome","réservoir","administratif","construction linéaire","construction ponctuelle","construction surfacique","cours d'eau","détail hydrographique","détail orographique","équipement de transport","plan d'eau","poste de transformation","terrain de sport","transport par câble","zone d'activité ou d'intérêt","zone d'habitation","lieu-dit non habité"]},{name:"postcode",title:"Code postal"},{name:"citycode",title:"Code INSEE"}],StreetAddress:[{name:"city",title:"Ville"},{name:"postcode",title:"Code postal"},{name:"citycode",title:"Code INSEE"}],CadastralParcel:[{name:"departmentcode",title:"Code département (INSEE)",description:"Code INSEE du département (ex: 01, 94)"},{name:"municipalitycode",title:"Code commune (INSEE)",description:"Code INSEE de la commune : 3 chiffres (ex: 067)"},{name:"city",title:"Nom commune",description:"Nom de la commune"},{name:"oldmunicipalitycode",title:"Commune absorbée",description:"Commune absorbée : 3 chiffres (ex: 000, 001)"},{name:"districtcode",title:"Arrondissement",description:"Arrondissement : 3 chiffres (ex: 004, 012)"},{name:"section",title:"Section",description:"Section Cadastrale : 2 caractères (chiffre et/ou lettre)"},{name:"number",title:"Numéro",description:"Numéro de la parcelle : 4 chiffres (ex: 0041, 0250)"},{name:"sheet",title:"Feuille",description:"Numéro de la feuille cadastrale"}]},zoomToResultsByDefault:function(t){var e=15,n=t.service,i=t.fields,r=t.type,o={1:11,2:12,3:13,4:14,5:15,6:16,7:17,8:17};return"SuggestedLocation"===n&&"PositionOfInterest"===r&&(e=o[i.classification]),"GeocodedLocation"===n&&"PositionOfInterest"===r&&(e=o[i.importance]||14),"StreetAddress"===r&&(e=17),"CadastralParcel"===r&&(e=17),e}},wd=Ed,bd={getGeocodedLocationFreeform:function(t){var e=t.placeAttributes;if(e.label)return e.label;if("PositionOfInterest"===t.type){var n=e.toponym;return e.category&&Array.isArray(e.category)&&e.category.length>=2&&"administratif"===e.category[0]?n=n+", "+e.category[1]:e.postcode&&(n=n+", "+e.postcode[0],e.city&&(n=n+" "+e.city[0])),n}return"StreetAddress"===t.type?(e.housenumber?e.housenumber+" ":"")+e.street+" "+(e.postcode?e.postcode+", ":"")+e.city:"CadastralParcel"===t.type?e.id:"..."},getSuggestedLocationFreeform:function(t){if(t.fullText)return t.fullText;var e=[];return e.push(t.street||""),e.push(t.postalCode||""),e.push(t.commune||""),"PositionOfInterest"===t.type&&(e.push(t.poi||""),e.push(t.kind||"")),e.join(" - ")}},xd=bd,Sd={_addUID:function(t){var e=this._uid?t+"-"+this._uid:t;return e},_createMainContainerElement:function(){var t=document.createElement("div");return t.id=this._addUID("GPsearchEngine"),t.className="GPwidget gpf-widget",t},_createShowSearchEnginePictoElement:function(){var t=this,e=document.createElement("button");return e.id=this._addUID("GPshowSearchEnginePicto"),e.className="GPshowOpen GPshowAdvancedToolPicto gpf-btn gpf-btn-icon-search fr-btn",e.title="Afficher/masquer la recherche par lieux",e.setAttribute("tabindex","0"),e.setAttribute("aria-pressed",!1),e.addEventListener("click",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),document.getElementById(t._addUID("GPautoCompleteList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(t._addUID("GPautoCompleteList")).classList.replace("gpf-visible","gpf-hidden"),document.getElementById(t._addUID("GPgeocodeResultsList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(t._addUID("GPgeocodeResultsList")).classList.replace("gpf-visible","gpf-hidden");var i=document.getElementById(t._addUID("GPshowAdvancedSearch"));i&&(i.style.display=null,document.getElementById(t._addUID("GPadvancedSearchPanel")).style.display="none");var r="#GPsearchInput-"+t._uid;document.querySelector(r+" input").disabled=!1,t.onShowSearchEngineClick()})),e},_createSearchInputElement:function(t){var e=this,n=document.createElement("form");n.id=this._addUID("GPsearchInput"),n.className="gpf-panel__content fr-modal__content",n.addEventListener("submit",(function(t){return t.preventDefault(),""===document.getElementById(e._addUID("GPsearchInputText")).value||(document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("GPelementHidden","GPelementVisible"),document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("gpf-hidden","gpf-visible"),document.getElementById(e._addUID("GPautoCompleteList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPautoCompleteList")).classList.replace("gpf-visible","gpf-hidden"),e.onGeocodingSearchSubmit(t)),!1}));var i=document.createElement("input");return i.id=this._addUID("GPsearchInputText"),i.className="GPsearchInputText gpf-input fr-input",i.type="text",i.placeholder=t,i.autocomplete="off",i.addEventListener("keyup",(function(t){var n=t.which||t.keyCode;13!==n&&10!==n&&38!==n&&40!==n&&(document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("gpf-visible","gpf-hidden"),i.value.length>2?(document.getElementById(e._addUID("GPautoCompleteList")).classList.replace("GPelementHidden","GPelementVisible"),document.getElementById(e._addUID("GPautoCompleteList")).classList.replace("gpf-hidden","gpf-visible")):(document.getElementById(e._addUID("GPautoCompleteList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPautoCompleteList")).classList.replace("gpf-visible","gpf-hidden")),e.onAutoCompleteSearchText(t))})),i.addEventListener("keydown",(function(t){var n=t.which||t.keyCode,i=document.getElementById(e._addUID("GPautocompleteResults"));if(i){var r=i.getElementsByClassName("GPautoCompleteProposal current"),o=i.getElementsByClassName("GPautoCompleteProposal"),s=o.length;if(s){var a=null;if(!r.length)return a=o[0],a.className="GPautoCompleteProposal current",a.style.color="#000000",void(a.style["background-color"]="#CEDBEF");a=r[0];var l=parseInt(Yc.index(a.id),10),c=l===s-1?o[0]:o[l+1],u=0===l?o[s-1]:o[l-1];switch(a.style["background-color"]="",a.style.color="",u.style["background-color"]="",u.style.color="",c.style["background-color"]="",c.style.color="",n){case 38:a.className="GPautoCompleteProposal",u.className="GPautoCompleteProposal current",u.style.color="#000000",u.style["background-color"]="#CEDBEF";break;case 40:a.className="GPautoCompleteProposal",c.className="GPautoCompleteProposal current",c.style.color="#000000",c.style["background-color"]="#CEDBEF";break;case 13:t.preventDefault(),a.click(t);break}a.focus()}}})),n.appendChild(i),n.appendChild(this._createSearchResetElement()),n},_createSearchResetElement:function(){var t=this,e=document.createElement("button");return e.id=this._addUID("GPsearchInputReset"),e.className="GPshowOpen gpf-btn gpf-btn-icon-close fr-btn",e.addEventListener("click",(function(e){document.getElementById(t._addUID("GPsearchInputText")).value="",document.getElementById(t._addUID("GPautoCompleteList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(t._addUID("GPautoCompleteList")).classList.replace("gpf-visible","gpf-hidden"),document.getElementById(t._addUID("GPgeocodeResultsList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(t._addUID("GPgeocodeResultsList")).classList.replace("gpf-visible","gpf-hidden"),t.onSearchResetClick()})),e},_createShowAdvancedSearchElement:function(){var t=this,e=document.createElement("button");return e.id=this._addUID("GPshowAdvancedSearch"),e.className="GPshowOpen GPshowAdvancedToolPicto gpf-btn fr-btn",e.title="Ouvrir la recherche avancée",e.setAttribute("tabindex","0"),e.setAttribute("aria-pressed",!1),e.addEventListener("click",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n);var i="#GPsearchInput-"+t._uid;document.querySelector(i+" input").disabled=!0,document.getElementById(t._addUID("GPautoCompleteList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(t._addUID("GPautoCompleteList")).classList.replace("gpf-visible","gpf-hidden"),document.getElementById(t._addUID("GPgeocodeResultsList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(t._addUID("GPgeocodeResultsList")).classList.replace("gpf-visible","gpf-hidden"),document.getElementById(t._addUID("GPshowAdvancedSearch")).style.display="none",document.getElementById(t._addUID("GPadvancedSearchPanel")).style.display="inline-block"})),e},_createAdvancedSearchPanelElement:function(){var t=document.createElement("div");return t.id=this._addUID("GPadvancedSearchPanel"),t.className="GPpanel gpf-panel fr-modal",t},_createAdvancedSearchPanelDivElement:function(){var t=document.createElement("div");return t.className="gpf-panel__body fr-modal__body",t},_createGeocodeResultsElement:function(){var t=document.createElement("div");return t.id=this._addUID("GPgeocodeResultsList"),t.className="GPpanel GPelementHidden gpf-panel gpf-hidden fr-modal",t.appendChild(this._createGeocodeResultsHeaderElement()),t},_createAutoCompleteElement:function(){var t=document.createElement("div");return t.id=this._addUID("GPautoCompleteList"),t.className="GPautoCompleteList GPelementHidden gpf-panel fr-modal gpf-hidden ",t},_createAutoCompleteListElement:function(){var t=this,e=document.createElement("div");return e.id=this._addUID("GPautocompleteResults"),e.className="gpf-panel__list",e.addEventListener?e.addEventListener("click",(function(e){t.onAutoCompletedResultsItemClick(e),document.getElementById(t._addUID("GPautoCompleteList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(t._addUID("GPautoCompleteList")).classList.replace("gpf-visible","gpf-hidden")}),!1):e.attachEvent&&e.attachEvent("onclick",(function(e){t.onAutoCompletedResultsItemClick(e),document.getElementById(t._addUID("GPautoCompleteList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(t._addUID("GPautoCompleteList")).classList.replace("gpf-visible","gpf-hidden")})),e},_createAutoCompletedLocationElement:function(t,e){var n=document.getElementById(this._addUID("GPautocompleteResults")),i=document.createElement("div");i.id=this._addUID("AutoCompletedLocation_"+e),i.className="GPautoCompleteProposal gpf-panel__items",i.innerHTML=xd.getSuggestedLocationFreeform(t),i.addEventListener?i.addEventListener("click",(function(t){n.click(t)}),!1):i.attachEvent&&i.attachEvent("onclick",(function(t){n.click(t)})),n.appendChild(i)},_createAdvancedSearchPanelHeaderElement:function(){var t=this,e=document.createElement("div");e.className="GPpanelHeader gpf-panel__header fr-modal__header";var n=document.createElement("div");n.className="GPpanelTitle gpf-panel__title fr-modal__title",n.innerHTML="Recherche avancée",e.appendChild(n);var i=document.createElement("button");i.id=this._addUID("GPadvancedSearchClose"),i.className="GPpanelClose gpf-btn gpf-icon-close fr-btn--close fr-btn",i.title="Fermer la recherche avancée",i.addEventListener?i.addEventListener("click",(function(){var e="#GPsearchInput-"+t._uid;document.querySelector(e+" input").disabled=!1,document.getElementById(t._addUID("GPgeocodeResultsList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(t._addUID("GPgeocodeResultsList")).classList.replace("gpf-visible","gpf-hidden"),document.getElementById(t._addUID("GPshowAdvancedSearch")).style.display="inline-block",document.getElementById(t._addUID("GPshowAdvancedSearch")).setAttribute("aria-pressed",!1),document.getElementById(t._addUID("GPadvancedSearchPanel")).style.display="none"}),!1):i.attachEvent&&i.attachEvent("onclick",(function(){var e="#GPsearchInput-"+t._uid;document.querySelector(e+" input").disabled=!1,document.getElementById(t._addUID("GPgeocodeResultsList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(t._addUID("GPgeocodeResultsList")).classList.replace("gpf-visible","gpf-hidden"),document.getElementById(t._addUID("GPshowAdvancedSearch")).style.display="inline-block",document.getElementById(t._addUID("GPshowAdvancedSearch")).setAttribute("aria-pressed",!1),document.getElementById(t._addUID("GPadvancedSearchPanel")).style.display="none"}));var r=document.createElement("span");return r.className="GPelementHidden gpf-visible",r.innerText="Fermer",i.appendChild(r),e.appendChild(i),e},_createAdvancedSearchPanelFormElement:function(t){var e=this,n=document.createElement("form");n.id=this._addUID("GPadvancedSearchForm"),n.className="gpf-panel__content fr-modal__content",n.addEventListener("submit",(function(t){t.preventDefault();for(var n=[],i="#GPadvancedSearchFilters-"+e._uid,r=document.querySelectorAll(i+" > div > div > input"),o=0;o<r.length;o++){var s=r[o];n.push({key:s.name,value:s.value})}return e.onGeocodingAdvancedSearchSubmit(t,n),document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("GPelementHidden","GPelementVisible"),document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("gpf-hidden","gpf-visible"),!1}));var i=document.createElement("div");i.className="GPflexInput gpf-flex";var r=document.createElement("label");r.className="GPadvancedSearchCodeLabel gpf-label fr-label",r.innerHTML="Recherche par",i.appendChild(r);var o=this._createAdvancedSearchFormCodeElement(t);return i.appendChild(o),n.appendChild(i),n},_createAdvancedSearchFormCodeElement:function(t){var e=this,n=document.createElement("select");n.id=this._addUID("GPadvancedSearchCode"),n.className="GPadvancedSearchCode gpf-select fr-select",n.addEventListener("change",(function(t){e.onGeocodingAdvancedSearchCodeChange(t)}),!1),t||(t=[{id:"PositionOfInterest",title:"Lieux/toponymes"},{id:"StreetAddress",title:"Adresses"},{id:"CadastralParcel",title:"Parcelles cadastrales"}]);for(var i=0;i<t.length;i++){var r=document.createElement("option");r.value=t[i].id,r.text=t[i].title,n.appendChild(r)}return n},_createAdvancedSearchFormInputElement:function(){var t=document.createElement("input");return t.type="submit",t.id=this._addUID("GPadvancedSearchSubmit"),t.className="GPsubmit gpf-btn gpf-btn-submit fr-btn",t.value="Chercher",t},_createAdvancedSearchFormFiltersElement:function(){var t=document.createElement("div");return t.id=this._addUID("GPadvancedSearchFilters"),t},_createAdvancedSearchFiltersTableElement:function(t,e){var n=document.createElement("div");return n.id=this._addUID(t),e||(n.style.display="none"),n},_createAdvancedSearchFiltersAttributElement:function(t){var e=null,n=t.name,i=t.title,r=t.description,o=t.code,s=t.value,a=document.createElement("div");a.className="GPflexInput gpf-flex";var l=document.createElement("label");l.className="GPadvancedSearchFilterLabel gpf-label fr-label",l.htmlFor=n,l.title=r||i,l.innerHTML=i,a.appendChild(l);var c=document.createElement("input");if(c.id=n,c.className="GPadvancedSearchFilterInput gpf-input fr-input",c.type="text",c.name=n,s)if(Array.isArray(s)){var u=n+"_list";c.setAttribute("list",u);var h=document.createElement("datalist");h.id=u;for(var d=0;d<s.length;++d){var p=document.createElement("option");p.value=s[d],h.appendChild(p)}a.appendChild(h)}else c.value=s;return a.appendChild(c),e=document.getElementById(this._addUID(o)),e?e.appendChild(a):e=a,e},_createGeocodeResultsHeaderElement:function(){var t=this,e=document.createElement("div");e.className="GPpanelHeader gpf-panel__header fr-modal__header";var n=document.createElement("div");n.className="GPpanelTitle gpf-panel__title fr-modal__title",n.innerHTML="Résultats de la recherche",e.appendChild(n);var i=document.createElement("button");i.id=this._addUID("GPgeocodeResultsClose"),i.className="GPpanelClose gpf-btn gpf-icon-close fr-btn--close fr-btn",i.title="Fermer la fenêtre de résultats",i.addEventListener?i.addEventListener("click",(function(){document.getElementById(t._addUID("GPgeocodeResultsList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(t._addUID("GPgeocodeResultsList")).classList.replace("gpf-visible","gpf-hidden")}),!1):i.attachEvent&&i.attachEvent("onclick",(function(){document.getElementById(t._addUID("GPgeocodeResultsList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(t._addUID("GPgeocodeResultsList")).classList.replace("gpf-visible","gpf-hidden")}));var r=document.createElement("span");return r.className="GPelementHidden gpf-visible",r.innerText="Fermer",i.appendChild(r),e.appendChild(i),e},_createGeocodeResultsListElement:function(){var t=this,e=document.createElement("div");return e.id=this._addUID("GPgeocodeResults"),e.className="gpf-panel__list",e.setAttribute("tabindex","0"),e.addEventListener?e.addEventListener("click",(function(e){e.ctrlKey||(document.getElementById(t._addUID("GPgeocodeResultsList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(t._addUID("GPgeocodeResultsList")).classList.replace("gpf-visible","gpf-hidden")),t.onGeocodedResultsItemClick(e)}),!1):e.attachEvent&&e.attachEvent("onclick",(function(e){e.ctrlKey||(document.getElementById(t._addUID("GPgeocodeResultsList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(t._addUID("GPgeocodeResultsList")).classList.replace("gpf-visible","gpf-hidden")),t.onGeocodedResultsItemClick(e)})),e},_createGeocodedLocationElement:function(t,e){var n=document.getElementById(this._addUID("GPgeocodeResults")),i=document.createElement("div");i.id=this._addUID("GeocodedLocation_"+e),i.className="GPautoCompleteProposal gpf-panel__items",i.innerHTML="string"===typeof t?t:xd.getGeocodedLocationFreeform(t),n.appendChild(i)}},Pd=Sd,Md=Pn.getLogger("searchengine"),Rd=class t extends jc{constructor(e){if(e=e||{},super({element:e.element,target:e.target,render:e.render}),!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return this.initialize(e),this.container=this._initContainer(),this.element?this.element.appendChild(this.container):this.element=this.container,this}setMap(t){t||this._clearResults(),this.collapsed||this._showSearchEngineButton.setAttribute("aria-pressed",!0),super.setMap(t),this.options.position&&this.setPosition(this.options.position)}getCollapsed(){return this.collapsed}setCollapsed(t){void 0!==t?t&&this.collapsed||!t&&!this.collapsed||(this._showSearchEngineButton.click(),this.collapsed=t):Md.log("[ERROR] SearchEngine:setCollapsed - missing collapsed parameter")}getData(){return this._geocodedLocations}initialize(t){this._checkInputOptions(t),this.options={collapsed:!0,zoomTo:"",resources:{geocode:"",autocomplete:[]},displayAdvancedSearch:!0,advancedSearch:{},geocodeOptions:{serviceOptions:{}},autocompleteOptions:{serviceOptions:{},triggerGeocode:!1,triggerDelay:1e3},displayMarker:!0,markerStyle:"lightOrange",placeholder:"Rechercher un lieu, une adresse"},Dn.mergeParams(this.options,t),""===this.options.resources.geocode&&(this.options.resources.geocode="address,poi"),0===this.options.resources.autocomplete.length&&(this.options.resources.autocomplete=["PositionOfInterest","StreetAddress"]),this.collapsed=this.options.collapsed,this._uid=Yc.generate(),this._showSearchEngineButton=null,this._inputSearchContainer=null,this._autocompleteContainer=null,this._suggestedContainer=null,this._suggestedLocations=[],this._geocodedContainer=null,this._geocodedLocations=[],this._filterContainer=null,this._currentGeocodingCode=null,this._currentGeocodingLocation=null,this._advancedSearchFilters={},this._initAdvancedSearchFilters(),this._advancedSearchCodes=[],this._initAdvancedSearchCodes(),this._marker=null;var e=this.options.markerStyle;this._markerUrl=-1===Object.keys(jn).indexOf(e)?jn["lightOrange"]:jn[e],this._displayMarker=this.options.displayMarker,this._popupContent=null,this._popupDiv=this._initPopupDiv(),this._popupOverlay=null,this._triggerHandler=null}_checkInputOptions(t){var e;if(t.resources)if("object"===typeof t.resources){var n=t.resources.geocode;if(n)if(Array.isArray(n)){var i=["StreetAddress","PositionOfInterest","CadastralParcel","Administratif"];for(e=0;e<n.length;e++)-1===i.indexOf(n[e])&&Md.log("[SearchEngine] options.resources.geocode : "+n[e]+" is not a resource for geocode")}else Md.log("[SearchEngine] 'options.resources.geocode' parameter should be an array"),n=null;var r=t.resources.autocomplete;if(r)if(Array.isArray(r)){var o=["StreetAddress","PositionOfInterest"];for(e=0;e<r.length;e++)-1===o.indexOf(r[e])&&Md.log("[SearchEngine] options.resources.autocomplete : "+r[e]+" is not a resource for autocomplete")}else Md.log("[SearchEngine] 'options.resources.autocomplete' parameter should be an array"),r=null}else Md.log("[SearchEngine] 'resources' parameter should be an object"),t.resources=null}_initAdvancedSearchCodes(){var t=this.options.resources.geocode;"location"===t&&(t=["PositionOfInterest","StreetAddress","CadastralParcel"]),Array.isArray(t)||(t=[t]);for(var e=0;e<t.length;e++)switch(t[e]){case"PositionOfInterest":this._advancedSearchCodes.push({id:"PositionOfInterest",title:"Lieux/toponymes"});break;case"StreetAddress":this._advancedSearchCodes.push({id:"StreetAddress",title:"Adresses"});break;case"CadastralParcel":this._advancedSearchCodes.push({id:"CadastralParcel",title:"Parcelles cadastrales"});break;default:break}0===this._advancedSearchCodes.length&&(this._advancedSearchCodes=[{id:"StreetAddress",title:"Adresses"},{id:"PositionOfInterest",title:"Lieux/toponymes"},{id:"CadastralParcel",title:"Cadastre"}]),Md.log("advancedSearchCodes",this._advancedSearchCodes)}_initAdvancedSearchFilters(){this._advancedSearchFilters=wd.advancedSearchFiltersByDefault;var t=this.options.advancedSearch;Dn.assign(this._advancedSearchFilters,t),Md.log("advancedSearchFilters",this._advancedSearchFilters)}_initPopupDiv(){var t=this,e=document.createElement("div");e.className="gp-feature-info-div";var n=document.createElement("input");return n.type="button",n.className="gp-styling-button closer",n.onclick=function(){return null!=t._popupOverlay&&t._popupOverlay.setPosition(void 0),!1},this._popupContent=document.createElement("div"),this._popupContent.className="gp-features-content-div",this._popupContent.style["min-width"]="200px",e.appendChild(this._popupContent),e.appendChild(n),e}_initContainer(){var t=this._createMainContainerElement(),e=this._showSearchEngineButton=this._createShowSearchEnginePictoElement();t.appendChild(e);var n=this._inputSearchContainer=this._createSearchInputElement(this.options.placeholder),i=this;if(n.addEventListener?n.addEventListener("click",(function(){i.onAutoCompleteInputClick()})):n.attachEvent&&n.attachEvent("onclick",(function(){i.onAutoCompleteInputClick()})),t.appendChild(n),this.options.displayAdvancedSearch){var r=this._createShowAdvancedSearchElement();t.appendChild(r);var o=this._createAdvancedSearchPanelElement(),s=this._createAdvancedSearchPanelDivElement(),a=this._createAdvancedSearchPanelHeaderElement(),l=this._createAdvancedSearchPanelFormElement(this._advancedSearchCodes),c=this._filterContainer=this._createAdvancedSearchFormFiltersElement();this._setFilter(this._advancedSearchCodes[0].id);var u=this._createAdvancedSearchFormInputElement();l.appendChild(c),l.appendChild(u),s.appendChild(a),s.appendChild(l),o.appendChild(s),t.appendChild(o)}var h=this._autocompleteContainer=this._createAutoCompleteElement(),d=this._suggestedContainer=this._createAutoCompleteListElement();h.appendChild(d),t.appendChild(h);var p=this._createGeocodeResultsElement(),g=this._geocodedContainer=this._createGeocodeResultsListElement();return p.appendChild(g),t.appendChild(p),t}_setFilter(t){for(var e=this._filterContainer,n=!1,i=0;i<this._advancedSearchCodes.length;i++)if(this._advancedSearchCodes[i].id===t){n=!0;break}if(n){this._currentGeocodingCode=t;while(e.firstChild)e.removeChild(e.firstChild);var r=this._advancedSearchFilters[t];if(r&&0!==r.length){for(var o=this._createAdvancedSearchFiltersTableElement(t,!0),s=0;s<r.length;s++){var a=this._createAdvancedSearchFiltersAttributElement(r[s]);o.appendChild(a)}return e.appendChild(o),e}}else while(e.firstChild)e.removeChild(e.firstChild)}_requestAutoComplete(t){if(t&&("object"!==typeof t||0!==Object.keys(t).length)&&t.text){Md.log(t);var e={};Dn.assign(e,this.options.autocompleteOptions.serviceOptions),Dn.assign(e,t);var n=this.options.resources.autocomplete;n&&Array.isArray(n)&&(e.type||(e.type=n)),e.apiKey=e.apiKey||this.options.apiKey,"boolean"!==typeof e.ssl&&("boolean"===typeof this.options.ssl?e.ssl=this.options.ssl:e.ssl=!0),Md.log(e),bn.Ay.Services.autoComplete(e)}}_fillAutoCompletedLocationListContainer(t){if(t&&0!==t.length){var e=this._suggestedContainer;if(e.childElementCount)while(e.firstChild)e.removeChild(e.firstChild);this._displaySuggestedLocation();for(var n=0;n<t.length;n++)this._createAutoCompletedLocationElement(t[n],n)}}_requestGeocoding(t){if(t&&("object"!==typeof t||0!==Object.keys(t).length)&&null!==t.query){Md.log(t);var e={};Dn.assign(e,this.options.geocodeOptions.serviceOptions),Dn.assign(e,t);var n=this,i=!(null===this.options.geocodeOptions.serviceOptions.onFailure||"function"!==typeof this.options.geocodeOptions.serviceOptions.onFailure),r=!(null===this.options.geocodeOptions.serviceOptions.onSuccess||"function"!==typeof this.options.geocodeOptions.serviceOptions.onSuccess);if(r){var o=function(e){t.onSuccess.call(n,e),n.options.geocodeOptions.serviceOptions.onSuccess.call(n,e)};e.onSuccess=o}if(i){var s=function(e){t.onFailure.call(n,e),n.options.geocodeOptions.serviceOptions.onFailure.call(n,e)};e.onFailure=s}var a=this.options.resources.geocode;a&&(e.index||(e.index=a)),e.apiKey=e.apiKey||this.options.apiKey,"boolean"!==typeof e.ssl&&("boolean"===typeof this.options.ssl?e.ssl=this.options.ssl:e.ssl=!0),Md.log(e),bn.Ay.Services.geocode(e)}}_fillGeocodedLocationListContainer(t){if(t&&0!==t.length){var e=this._geocodedContainer;if(e.childElementCount)while(e.firstChild)e.removeChild(e.firstChild);for(var n=0;n<t.length;n++)Md.log(t[n]),this._createGeocodedLocationElement(t[n],n);this._geocodedLocations=t}else this._clearGeocodedLocation()}_setLabel(t){document.getElementById("GPsearchInputText-"+this._uid).value=t}_setPosition(t,e){var n=this.getMap().getView();n.setCenter(t),n.setZoom(e)}_setMarker(t,e){var n=this.getMap(),i=this;if(null!=this._marker&&(n.removeOverlay(this._marker),this._marker=null),t){var r=document.createElement("img");r.src=this._markerUrl,r.addEventListener?r.addEventListener("click",(function(){i._onResultMarkerSelect(e)})):r.attachEvent&&r.attachEvent("onclick",(function(){i._onResultMarkerSelect(e)})),this._marker=new d({position:t,offset:[-25.5,-38],element:r,stopEvent:!1}),n.addOverlay(this._marker)}}_getZoom(t){var e=this.getMap(),n=this.options.zoomTo,i=null;if("function"===typeof n&&(Md.trace("zoom function"),i=n.call(this,t)),"number"===typeof n&&(Md.trace("zoom level"),i=n),"string"===typeof n)if("auto"===n)Md.trace("zoom auto"),i=wd.zoomToResultsByDefault(t);else{Md.trace("zoom level parsing");var r=parseInt(n,10);isNaN(r)||(Md.trace("zoom parsing"),i=r)}Number.isInteger=Number.isInteger||function(t){return"number"===typeof t&&isFinite(t)&&Math.floor(t)===t},i&&""!==i&&Number.isInteger(i)||(Md.trace("zoom not found, current zoom..."),i=e.getView().getZoom());var o=e.minZoom,s=e.maxZoom;return i<o&&(Md.trace("zoom level min..."),i=o),i>s&&(Md.trace("zoom level max..."),i=s),Md.trace("zoom",i),i}_onResultMarkerSelect(t){var e=this.getMap(),n="";if("string"!==typeof t)if("GeocodedLocation"===t.service){n="<ul>";var i=t.location.placeAttributes;for(var r in i)i.hasOwnProperty(r)&&"trueGeometry"!==r&&"extraFields"!==r&&"houseNumberInfos"!==r&&"_count"!==r&&(n+="<li>",n+='<span class="gp-attname-others-span">'+r.toUpperCase()+" : </span>",n+=i[r],n+=" </li>");n+=" </ul>"}else n="SuggestedLocation"===t.service?xd.getSuggestedLocationFreeform(t.location):"sans informations.";else n=t;this._popupContent.innerHTML=n,this._popupOverlay?this._popupOverlay.setPosition(this._marker.getPosition()):(this._popupOverlay=new d({element:this._popupDiv,positioning:"bottom-center",position:this._marker.getPosition(),offset:[0,-42]}),e.addOverlay(this._popupOverlay))}onShowSearchEngineClick(){var t=this.getMap();Un.unset(t);var e=this._showSearchEngineButton.ariaPressed;this.collapsed=!("true"===e),this.dispatchEvent("change:collapsed")}onSearchResetClick(){this._clearResults()}onAutoCompleteInputClick(){var t=document.getElementById("GPsearchInputText-"+this._uid);t&&!t.disabled&&t.value.length>2&&this._displaySuggestedLocation()}onAutoCompleteSearchText(t){var e=t.target.value;if(e)if(this._currentGeocodingLocation=e,e.length<3)this._clearSuggestedLocation();else{var n=this.options.autocompleteOptions.triggerGeocode,i=this.options.autocompleteOptions.triggerDelay,r=this;this._requestAutoComplete({text:e,onSuccess:function(t){if(Md.log("request from AutoComplete",t),t){r._suggestedLocations=t.suggestedLocations,r._locationsToBeDisplayed=[];for(var e=0;e<r._suggestedLocations.length;e++){var n=r._suggestedLocations[e];n.position&&0===n.position.x&&0===n.position.y&&n.fullText?r._getGeocodeCoordinatesFromFullText(n,e):r._locationsToBeDisplayed.push(n)}r._fillAutoCompletedLocationListContainer(r._locationsToBeDisplayed),r._triggerHandler&&(clearTimeout(r._triggerHandler),r._triggerHandler=null,Md.warn("Cancel a geocode request !"))}},onFailure:function(t){r._clearSuggestedLocation(),Md.log(t.message),"No suggestion matching the search"===t.message&&n&&(r._triggerHandler&&(clearTimeout(r._triggerHandler),Md.warn("Cancel the last geocode request !")),r._triggerHandler=setTimeout((function(){Md.warn("Launch a geocode request (code postal) !"),r._requestGeocoding({location:e,onSuccess:function(t){if(Md.log("request from Geocoding",t),t){r._locationsToBeDisplayed=[];for(var e=t.locations,n=0;n<e.length;n++){var i=e[n];i.fullText=xd.getGeocodedLocationFreeform(i),i.position={x:i.position.lon,y:i.position.lat},r._locationsToBeDisplayed.push(i)}r._fillAutoCompletedLocationListContainer(e)}},onFailure:function(t){Md.log(t.message)}})}),i))}});var o=this.getMap();o.on("click",this._hideSuggestedLocation,this),o.on("pointerdrag",this._hideSuggestedLocation,this)}}_getGeocodeCoordinatesFromFullText(t,e){var n=this;bn.Ay.Services.geocode({apiKey:this.options.apiKey,ssl:this.options.ssl,q:xd.getSuggestedLocationFreeform(t),index:t.type,onSuccess:function(t){Md.log("request from Geocoding (coordinates null)",t),t.locations&&0!==t.locations.length&&t.locations[0].position&&n._suggestedLocations&&n._suggestedLocations[e]&&(n._suggestedLocations[e].position={lon:t.locations[0].position.y,lat:t.locations[0].position.x},n._locationsToBeDisplayed.unshift(n._suggestedLocations[e]),n._fillAutoCompletedLocationListContainer(n._locationsToBeDisplayed))},onFailure:function(){n._suggestedLocations&&n._suggestedLocations[e]&&n._createAutoCompletedLocationElement(n._suggestedLocations[e],e)}})}onAutoCompletedResultsItemClick(t){var e=Yc.index(t.target.id);if(Md.log(e),Md.log(this._locationsToBeDisplayed[e]),e){var n=[this._locationsToBeDisplayed[e].position.x,this._locationsToBeDisplayed[e].position.y],i={service:"SuggestedLocation",location:this._locationsToBeDisplayed[e]},r=xd.getSuggestedLocationFreeform(this._locationsToBeDisplayed[e]);this._setLabel(r),this._currentGeocodingLocation=r;var o=this.getMap().getView(),s=o.getProjection().getCode();"EPSG:4326"!==s&&(n=(0,Z.pd)(n,"EPSG:4326",s));var a=this._getZoom(i);this._setPosition(n,a),this._displayMarker&&this._setMarker(n,i),this.dispatchEvent({type:"searchengine:autocomplete:click",location:this._locationsToBeDisplayed[e]})}}onGeocodingSearchSubmit(t){var e=t.target[0].value;if(e){this._currentGeocodingLocation=e;var n=this;this._requestGeocoding({query:e,onSuccess:function(t){if(Md.log("request from Geocoding",t),t){var e=t.locations;n._fillGeocodedLocationListContainer(e)}},onFailure:function(t){n._clearGeocodedLocation(),Md.log(t.message)}})}}onGeocodedResultsItemClick(t){var e=Yc.index(t.target.id);if(e){var n=[this._geocodedLocations[e].position.lon,this._geocodedLocations[e].position.lat],i={service:"GeocodedLocation",location:this._geocodedLocations[e]},r=xd.getGeocodedLocationFreeform(this._geocodedLocations[e]);this._setLabel(r);var o=this.getMap().getView(),s=o.getProjection().getCode();"EPSG:4326"!==s&&(n=(0,Z.pd)(n,"EPSG:4326",s));var a=this._getZoom(i);this._setPosition(n,a),this._displayMarker&&this._setMarker(n,i),this.dispatchEvent({type:"searchengine:geocode:click",location:this._geocodedLocations[e]})}}onGeocodingAdvancedSearchCodeChange(t){Md.log(t);var e=t.target.selectedIndex,n=t.target.options[e].value;n&&this._setFilter(n)}onGeocodingAdvancedSearchSubmit(t,e){if(Md.log(e),e&&0!==e.length){for(var n,i={},r=0;r<e.length;r++){var o=e[r];o.value&&(i[o.key]=o.value)}var s=document.getElementById("GPsearchInputText-"+this._uid);n=s.value,"CadastralParcel"===this._currentGeocodingCode&&(n="");var a=this;this._requestGeocoding({query:n,index:this._currentGeocodingCode,filters:i,onSuccess:function(t){if(Md.log(t),t){var e=t.locations;a._fillGeocodedLocationListContainer(e)}},onFailure:function(t){a._clearGeocodedLocation(),Md.log(t.message)}})}}_getCadastralParcelRequestParams(t){var e,n="",i=t.department;i?(e=i.length,n=2===e?i:1===e?"0"+i:i.substring(0,2)):n="__";var r=t.commune;r?(e=r.length,n+=3===e?r:2===e?"_"+r:1===e?"__"+r:r.substring(0,3)):n+="___";var o=t.insee;o&&5===o.length&&(n=o);var s=t.absorbedCity;s?(e=s.length,3===e?n+=s:e<3?2===e?n+="_"+s:1===e&&(n+="__"+s):n+=s.substring(0,3)):n+="___";var a=t.section;a?(e=a.length,n+=2===e?a:1===e?"_"+a:a.substring(0,2)):n+="__";var l=t.number;return l?(e=l.length,n+=4===e?l:3===e?"_"+l:2===e?"__"+l:1===e?"___"+l:l.substring(0,4)):n+="___",Md.log("location : "+n),n}_clearResults(){var t=this.getMap();this._currentGeocodingLocation=null,this._clearSuggestedLocation(),this._clearGeocodedLocation(),this._setMarker(),null!=this._popupOverlay&&(t.removeOverlay(this._popupOverlay),this._popupOverlay=null)}_clearSuggestedLocation(){if(this._suggestedLocations=[],this._suggestedContainer)while(this._suggestedContainer.firstChild)this._suggestedContainer.removeChild(this._suggestedContainer.firstChild)}_hideSuggestedLocation(){this._autocompleteContainer&&(this._autocompleteContainer.classList.replace("GPelementVisible","GPelementHidden"),this._autocompleteContainer.classList.replace("gpf-visible","gpf-hidden"))}_displaySuggestedLocation(){this._autocompleteContainer&&(this._autocompleteContainer.classList.replace("GPelementHidden","GPelementVisible"),this._autocompleteContainer.classList.replace("gpf-hidden","gpf-visible"))}_clearGeocodedLocation(){if(this._geocodedLocations=[],this._geocodedContainer)while(this._geocodedContainer.firstChild)this._geocodedContainer.removeChild(this._geocodedContainer.firstChild)}};Object.assign(Rd.prototype,Pd);var Td=Rd;window.ol&&window.ol.control&&(window.ol.control.SearchEngine=Rd);var Gd={modulo:function(t,e){var n=t%e;return n*e<0?n+e:n},decimalToDMS:function(t,e,n){var i=this.modulo(t+180,360)-180,r=Math.abs(3600*i),o=n||0,s=Math.pow(10,o),a=Math.floor(r/3600),l=Math.floor((r-3600*a)/60),c=r-3600*a-60*l;c=Math.ceil(c*s)/s,c>=60&&(c=0,l+=1),l>=60&&(l=0,a+=1);var u=e.charAt(i<0?1:0);return{d:a,m:l,s:c,direction:u}},toInteger:function(t,e){var n=e||10,i=parseInt(t,n);return!isNaN(i)&&isFinite(i)?i:null},isInteger:function(t){if(isNaN(t))return!1;var e=parseFloat(t);return(0|e)===e},toFloat:function(t){var e=parseFloat(t);return!isNaN(e)&&isFinite(e)?e:null}},Ld=Gd,kd=Pn.getLogger("draggable"),Od={dragElement:function(t,e,n){var i,r,o=!1,s={x:0,y:0};function a(e){e=e||window.event,e.preventDefault(),o=!0,e._pageX=e._pageX||e.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),e._pageY=e._pageY||e.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop),s.x=e._pageX-t.offsetLeft,s.y=e._pageY-t.offsetTop,document.addEventListener("mouseup",l,!0),document.addEventListener("mousemove",c,!0)}function l(){o=!1,document.removeEventListener("mouseup",l,!0),document.removeEventListener("mousemove",c,!0)}function c(e){if(e=e||window.event,o){e._pageX=e._pageX||e.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),e._pageY=e._pageY||e.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop);var a=n?n.offsetLeft:t.parentElement.offsetLeft,l=n?n.offsetTop:t.parentElement.parentElement.offsetTop;kd.trace("parent offset",a,l),i=e._pageX-s.x<0-a?0-a:e._pageX-s.x+t.clientWidth>document.body.clientWidth?document.body.clientWidth-t.clientWidth:e._pageX-s.x,kd.trace("left/right constraint",i),r=e._pageY-s.y<0-l?0-l:e._pageY-s.y+t.clientHeight>document.body.clientHeight?document.body.clientHeight-t.clientHeight:e._pageY-s.y,kd.trace("top/bottom constraint",r),t.style.top=r+"px",t.style.bottom="unset",t.style.left=i+"px",t.style.right="unset"}}e?e.addEventListener("mousedown",a,!0):t.addEventListener("mousedown",a,!0)}},Dd=Od;function Nd(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}var Fd=1,Ud=2,Bd=3,jd=4,zd=5,Wd=6378137,Vd=6356752.314,Yd=.0066943799901413165,Hd=484813681109536e-20,qd=Math.PI/2,Xd=.16666666666666666,Zd=.04722222222222222,Kd=.022156084656084655,Jd=1e-10,Qd=.017453292519943295,$d=57.29577951308232,tp=Math.PI/4,ep=2*Math.PI,np=3.14159265359,ip={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},rp={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},op=/[\s_\-\/\(\)]/g;function sp(t,e){if(t[e])return t[e];var n,i,r=Object.keys(t),o=e.toLowerCase().replace(op,""),s=-1;while(++s<r.length)if(n=r[s],i=n.toLowerCase().replace(op,""),i===o)return t[n]}function ap(t){var e,n,i,r={},o=t.split("+").map((function(t){return t.trim()})).filter((function(t){return t})).reduce((function(t,e){var n=e.split("=");return n.push(!0),t[n[0].toLowerCase()]=n[1],t}),{}),s={proj:"projName",datum:"datumCode",rf:function(t){r.rf=parseFloat(t)},lat_0:function(t){r.lat0=t*Qd},lat_1:function(t){r.lat1=t*Qd},lat_2:function(t){r.lat2=t*Qd},lat_ts:function(t){r.lat_ts=t*Qd},lon_0:function(t){r.long0=t*Qd},lon_1:function(t){r.long1=t*Qd},lon_2:function(t){r.long2=t*Qd},alpha:function(t){r.alpha=parseFloat(t)*Qd},gamma:function(t){r.rectified_grid_angle=parseFloat(t)},lonc:function(t){r.longc=t*Qd},x_0:function(t){r.x0=parseFloat(t)},y_0:function(t){r.y0=parseFloat(t)},k_0:function(t){r.k0=parseFloat(t)},k:function(t){r.k0=parseFloat(t)},a:function(t){r.a=parseFloat(t)},b:function(t){r.b=parseFloat(t)},r_a:function(){r.R_A=!0},zone:function(t){r.zone=parseInt(t,10)},south:function(){r.utmSouth=!0},towgs84:function(t){r.datum_params=t.split(",").map((function(t){return parseFloat(t)}))},to_meter:function(t){r.to_meter=parseFloat(t)},units:function(t){r.units=t;var e=sp(rp,t);e&&(r.to_meter=e.to_meter)},from_greenwich:function(t){r.from_greenwich=t*Qd},pm:function(t){var e=sp(ip,t);r.from_greenwich=(e||parseFloat(t))*Qd},nadgrids:function(t){"@null"===t?r.datumCode="none":r.nadgrids=t},axis:function(t){var e="ewnsud";3===t.length&&-1!==e.indexOf(t.substr(0,1))&&-1!==e.indexOf(t.substr(1,1))&&-1!==e.indexOf(t.substr(2,1))&&(r.axis=t)},approx:function(){r.approx=!0}};for(e in o)n=o[e],e in s?(i=s[e],"function"===typeof i?i(n):r[i]=n):r[e]=n;return"string"===typeof r.datumCode&&"WGS84"!==r.datumCode&&(r.datumCode=r.datumCode.toLowerCase()),r}var lp=Cp,cp=1,up=2,hp=3,dp=4,pp=5,gp=-1,fp=/\s/,mp=/[A-Za-z]/,Ap=/[A-Za-z84_]/,yp=/[,\]]/,vp=/[\d\.E\-\+]/;function _p(t){if("string"!==typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=cp}function Cp(t){var e=new _p(t);return e.output()}function Ip(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var i=e?{}:t,r=n.reduce((function(t,e){return Ep(e,t),t}),i);e&&(t[e]=r)}function Ep(t,e){if(Array.isArray(t)){var n=t.shift();if("PARAMETER"===n&&(n=t.shift()),1===t.length)return Array.isArray(t[0])?(e[n]={},void Ep(t[0],e[n])):void(e[n]=t[0]);if(t.length)if("TOWGS84"!==n){if("AXIS"===n)return n in e||(e[n]=[]),void e[n].push(t);var i;switch(Array.isArray(n)||(e[n]={}),n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[n]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&Ep(t[2],e[n]));case"SPHEROID":case"ELLIPSOID":return e[n]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&Ep(t[3],e[n]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void Ip(e,n,t);default:i=-1;while(++i<t.length)if(!Array.isArray(t[i]))return Ep(t,e[n]);return Ip(e,n,t)}}else e[n]=t;else e[n]=!0}else e[t]=!0}_p.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==dp)while(fp.test(t)){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case cp:return this.neutral(t);case up:return this.keyword(t);case dp:return this.quoted(t);case pp:return this.afterquote(t);case hp:return this.number(t);case gp:return}},_p.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=dp);if(yp.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},_p.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=cp)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=cp,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=gp))):void 0},_p.prototype.number=function(t){if(!vp.test(t)){if(yp.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},_p.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=pp},_p.prototype.keyword=function(t){if(Ap.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=cp)}if(!yp.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},_p.prototype.neutral=function(t){if(mp.test(t))return this.word=t,void(this.state=up);if('"'===t)return this.word="",void(this.state=dp);if(vp.test(t))return this.word=t,void(this.state=hp);if(!yp.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},_p.prototype.output=function(){while(this.place<this.text.length)this.readCharicter();if(this.state===gp)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var wp=.017453292519943295;function bp(t,e){var n=e[0],i=e[1];!(n in t)&&i in t&&(t[n]=t[i],3===e.length&&(t[n]=e[2](t[n])))}function xp(t){return t*wp}function Sp(t){if("GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"===typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var e="",n=0,i=t.AXIS.length;n<i;++n){var r=[t.AXIS[n][0].toLowerCase(),t.AXIS[n][1].toLowerCase()];-1!==r[0].indexOf("north")||("y"===r[0]||"lat"===r[0])&&"north"===r[1]?e+="n":-1!==r[0].indexOf("south")||("y"===r[0]||"lat"===r[0])&&"south"===r[1]?e+="s":-1!==r[0].indexOf("east")||("x"===r[0]||"lon"===r[0])&&"east"===r[1]?e+="e":-1===r[0].indexOf("west")&&("x"!==r[0]&&"lon"!==r[0]||"west"!==r[1])||(e+="w")}2===e.length&&(e+="u"),3===e.length&&(t.axis=e)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var o=t.GEOGCS;function s(e){var n=t.to_meter||1;return e*n}"GEOGCS"===t.type&&(o=t),o&&(o.DATUM?t.datumCode=o.DATUM.name.toLowerCase():t.datumCode=o.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"!==t.datumCode&&"world_geodetic_system_1984"!==t.datumCode||("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),o.DATUM&&o.DATUM.SPHEROID&&(t.ellps=o.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=o.DATUM.SPHEROID.a,t.rf=parseFloat(o.DATUM.SPHEROID.rf,10)),o.DATUM&&o.DATUM.TOWGS84&&(t.datum_params=o.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a);var a=function(e){return bp(t,e)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",xp],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",xp],["x0","false_easting",s],["y0","false_northing",s],["long0","central_meridian",xp],["lat0","latitude_of_origin",xp],["lat0","standard_parallel_1",xp],["lat1","standard_parallel_1",xp],["lat2","standard_parallel_2",xp],["azimuth","Azimuth"],["alpha","azimuth",xp],["srsCode","name"]];l.forEach(a),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName?!t.lat_ts&&t.lat0&&"Polar_Stereographic"===t.projName&&(t.lat_ts=t.lat0,t.lat0=xp(t.lat0>0?90:-90)):(t.lat0=xp(t.lat1>0?90:-90),t.lat_ts=t.lat1)}function Pp(t){var e=lp(t),n=e.shift(),i=e.shift();e.unshift(["name",i]),e.unshift(["type",n]);var r={};return Ep(e,r),Sp(r),r}function Mp(t){var e=this;if(2===arguments.length){var n=arguments[1];"string"===typeof n?"+"===n.charAt(0)?Mp[t]=ap(arguments[1]):Mp[t]=Pp(arguments[1]):Mp[t]=n}else if(1===arguments.length){if(Array.isArray(t))return t.map((function(t){Array.isArray(t)?Mp.apply(e,t):Mp(t)}));if("string"===typeof t){if(t in Mp)return Mp[t]}else"EPSG"in t?Mp["EPSG:"+t.EPSG]=t:"ESRI"in t?Mp["ESRI:"+t.ESRI]=t:"IAU2000"in t?Mp["IAU2000:"+t.IAU2000]=t:console.log(t);return}}Nd(Mp);var Rp=Mp;function Tp(t){return"string"===typeof t}function Gp(t){return t in Rp}var Lp=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function kp(t){return Lp.some((function(e){return t.indexOf(e)>-1}))}var Op=["3857","900913","3785","102113"];function Dp(t){var e=sp(t,"authority");if(e){var n=sp(e,"epsg");return n&&Op.indexOf(n)>-1}}function Np(t){var e=sp(t,"extension");if(e)return sp(e,"proj4")}function Fp(t){return"+"===t[0]}function Up(t){if(!Tp(t))return t;if(Gp(t))return Rp[t];if(kp(t)){var e=Pp(t);if(Dp(e))return Rp["EPSG:3857"];var n=Np(e);return n?ap(n):e}return Fp(t)?ap(t):void 0}var Bp=Up;function jp(t,e){var n,i;if(t=t||{},!e)return t;for(i in e)n=e[i],void 0!==n&&(t[i]=n);return t}function zp(t,e,n){var i=t*e;return n/Math.sqrt(1-i*i)}function Wp(t){return t<0?-1:1}function Vp(t){return Math.abs(t)<=np?t:t-Wp(t)*ep}function Yp(t,e,n){var i=t*n,r=.5*t;return i=Math.pow((1-i)/(1+i),r),Math.tan(.5*(qd-e))/i}function Hp(t,e){for(var n,i,r=.5*t,o=qd-2*Math.atan(e),s=0;s<=15;s++)if(n=t*Math.sin(o),i=qd-2*Math.atan(e*Math.pow((1-n)/(1+n),r))-o,o+=i,Math.abs(i)<=1e-10)return o;return-9999}function qp(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=zp(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function Xp(t){var e,n,i=t.x,r=t.y;if(r*$d>90&&r*$d<-90&&i*$d>180&&i*$d<-180)return null;if(Math.abs(Math.abs(r)-qd)<=Jd)return null;if(this.sphere)e=this.x0+this.a*this.k0*Vp(i-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(tp+.5*r));else{var o=Math.sin(r),s=Yp(this.e,r,o);e=this.x0+this.a*this.k0*Vp(i-this.long0),n=this.y0-this.a*this.k0*Math.log(s)}return t.x=e,t.y=n,t}function Zp(t){var e,n,i=t.x-this.x0,r=t.y-this.y0;if(this.sphere)n=qd-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var o=Math.exp(-r/(this.a*this.k0));if(n=Hp(this.e,o),-9999===n)return null}return e=Vp(this.long0+i/(this.a*this.k0)),t.x=e,t.y=n,t}var Kp=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"],Jp={init:qp,forward:Xp,inverse:Zp,names:Kp};function Qp(){}function $p(t){return t}var tg=["longlat","identity"],eg={init:Qp,forward:$p,inverse:$p,names:tg},ng=[Jp,eg],ig={},rg=[];function og(t,e){var n=rg.length;return t.names?(rg[n]=t,t.names.forEach((function(t){ig[t.toLowerCase()]=n})),this):(console.log(e),!0)}function sg(t){if(!t)return!1;var e=t.toLowerCase();return"undefined"!==typeof ig[e]&&rg[ig[e]]?rg[ig[e]]:void 0}function ag(){ng.forEach(og)}var lg={start:ag,add:og,get:sg},cg={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:6378249.2,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},ug=cg.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};function hg(t,e,n,i){var r=t*t,o=e*e,s=(r-o)/r,a=0;i?(t*=1-s*(Xd+s*(Zd+s*Kd)),r=t*t,s=0):a=Math.sqrt(s);var l=(r-o)/o;return{es:s,e:a,ep2:l}}function dg(t,e,n,i,r){if(!t){var o=sp(cg,i);o||(o=ug),t=o.a,e=o.b,n=o.rf}return n&&!e&&(e=(1-1/n)*t),(0===n||Math.abs(t-e)<Jd)&&(r=!0,e=t),{a:t,b:e,rf:n,sphere:r}}cg.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var pg={};function gg(t,e,n,i,r,o,s){var a={};return a.datum_type=void 0===t||"none"===t?zd:jd,e&&(a.datum_params=e.map(parseFloat),0===a.datum_params[0]&&0===a.datum_params[1]&&0===a.datum_params[2]||(a.datum_type=Fd),a.datum_params.length>3&&(0===a.datum_params[3]&&0===a.datum_params[4]&&0===a.datum_params[5]&&0===a.datum_params[6]||(a.datum_type=Ud,a.datum_params[3]*=Hd,a.datum_params[4]*=Hd,a.datum_params[5]*=Hd,a.datum_params[6]=a.datum_params[6]/1e6+1))),s&&(a.datum_type=Bd,a.grids=s),a.a=n,a.b=i,a.es=r,a.ep2=o,a}pg.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},pg.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},pg.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},pg.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},pg.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},pg.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},pg.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},pg.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},pg.militargeographische_institut={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},pg.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},pg.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},pg.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},pg.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},pg.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},pg.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},pg.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},pg.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},pg.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};var fg=gg,mg={};function Ag(t,e){var n=new DataView(e),i=Cg(n),r=Ig(n,i),o=wg(n,r,i),s={header:r,subgrids:o};return mg[t]=s,s}function yg(t){if(void 0===t)return null;var e=t.split(",");return e.map(vg)}function vg(t){if(0===t.length)return null;var e="@"===t[0];return e&&(t=t.slice(1)),"null"===t?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:mg[t]||null,isNull:!1}}function _g(t){return t/3600*Math.PI/180}function Cg(t){var e=t.getInt32(8,!1);return 11!==e&&(e=t.getInt32(8,!0),11!==e&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function Ig(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:Eg(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}function Eg(t,e,n){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,n)))}function wg(t,e,n){for(var i=176,r=[],o=0;o<e.nSubgrids;o++){var s=xg(t,i,n),a=Sg(t,i,s,n),l=Math.round(1+(s.upperLongitude-s.lowerLongitude)/s.longitudeInterval),c=Math.round(1+(s.upperLatitude-s.lowerLatitude)/s.latitudeInterval);r.push({ll:[_g(s.lowerLongitude),_g(s.lowerLatitude)],del:[_g(s.longitudeInterval),_g(s.latitudeInterval)],lim:[l,c],count:s.gridNodeCount,cvs:bg(a)}),i+=176+16*s.gridNodeCount}return r}function bg(t){return t.map((function(t){return[_g(t.longitudeShift),_g(t.latitudeShift)]}))}function xg(t,e,n){return{name:Eg(t,e+8,e+16).trim(),parent:Eg(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,n),upperLatitude:t.getFloat64(e+88,n),lowerLongitude:t.getFloat64(e+104,n),upperLongitude:t.getFloat64(e+120,n),latitudeInterval:t.getFloat64(e+136,n),longitudeInterval:t.getFloat64(e+152,n),gridNodeCount:t.getInt32(e+168,n)}}function Sg(t,e,n,i){for(var r=e+176,o=16,s=[],a=0;a<n.gridNodeCount;a++){var l={latitudeShift:t.getFloat32(r+a*o,i),longitudeShift:t.getFloat32(r+a*o+4,i),latitudeAccuracy:t.getFloat32(r+a*o+8,i),longitudeAccuracy:t.getFloat32(r+a*o+12,i)};s.push(l)}return s}function Pg(t,e){if(!(this instanceof Pg))return new Pg(t);e=e||function(t){if(t)throw t};var n=Bp(t);if("object"===typeof n){var i=Pg.projections.get(n.projName);if(i){if(n.datumCode&&"none"!==n.datumCode){var r=sp(pg,n.datumCode);r&&(n.datum_params=n.datum_params||(r.towgs84?r.towgs84.split(","):null),n.ellps=r.ellipse,n.datumName=r.datumName?r.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var o=dg(n.a,n.b,n.rf,n.ellps,n.sphere),s=hg(o.a,o.b,o.rf,n.R_A),a=yg(n.nadgrids),l=n.datum||fg(n.datumCode,n.datum_params,o.a,o.b,s.es,s.ep2,a);jp(this,n),jp(this,i),this.a=o.a,this.b=o.b,this.rf=o.rf,this.sphere=o.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=l,this.init(),e(null,this)}else e(t)}else e(t)}Pg.projections=lg,Pg.projections.start();var Mg=Pg;function Rg(t,e){return t.datum_type===e.datum_type&&(!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(t.datum_type===Fd?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type!==Ud||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]))}function Tg(t,e,n){var i,r,o,s,a=t.x,l=t.y,c=t.z?t.z:0;if(l<-qd&&l>-1.001*qd)l=-qd;else if(l>qd&&l<1.001*qd)l=qd;else{if(l<-qd)return{x:-1/0,y:-1/0,z:t.z};if(l>qd)return{x:1/0,y:1/0,z:t.z}}return a>Math.PI&&(a-=2*Math.PI),r=Math.sin(l),s=Math.cos(l),o=r*r,i=n/Math.sqrt(1-e*o),{x:(i+c)*s*Math.cos(a),y:(i+c)*s*Math.sin(a),z:(i*(1-e)+c)*r}}function Gg(t,e,n,i){var r,o,s,a,l,c,u,h,d,p,g,f,m,A,y,v,_=1e-12,C=_*_,I=30,E=t.x,w=t.y,b=t.z?t.z:0;if(r=Math.sqrt(E*E+w*w),o=Math.sqrt(E*E+w*w+b*b),r/n<_){if(A=0,o/n<_)return y=qd,v=-i,{x:t.x,y:t.y,z:t.z}}else A=Math.atan2(w,E);s=b/o,a=r/o,l=1/Math.sqrt(1-e*(2-e)*a*a),h=a*(1-e)*l,d=s*l,m=0;do{m++,u=n/Math.sqrt(1-e*d*d),v=r*h+b*d-u*(1-e*d*d),c=e*u/(u+v),l=1/Math.sqrt(1-c*(2-c)*a*a),p=a*(1-c)*l,g=s*l,f=g*h-p*d,h=p,d=g}while(f*f>C&&m<I);return y=Math.atan(g/Math.abs(p)),{x:A,y:y,z:v}}function Lg(t,e,n){if(e===Fd)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===Ud){var i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],l=n[5],c=n[6];return{x:c*(t.x-l*t.y+a*t.z)+i,y:c*(l*t.x+t.y-s*t.z)+r,z:c*(-a*t.x+s*t.y+t.z)+o}}}function kg(t,e,n){if(e===Fd)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===Ud){var i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],l=n[5],c=n[6],u=(t.x-i)/c,h=(t.y-r)/c,d=(t.z-o)/c;return{x:u+l*h-a*d,y:-l*u+h+s*d,z:a*u-s*h+d}}}function Og(t){return t===Fd||t===Ud}function Dg(t,e,n){if(Rg(t,e))return n;if(t.datum_type===zd||e.datum_type===zd)return n;var i=t.a,r=t.es;if(t.datum_type===Bd){var o=Ng(t,!1,n);if(0!==o)return;i=Wd,r=Yd}var s=e.a,a=e.b,l=e.es;if(e.datum_type===Bd&&(s=Wd,a=Vd,l=Yd),r===l&&i===s&&!Og(t.datum_type)&&!Og(e.datum_type))return n;if(n=Tg(n,r,i),Og(t.datum_type)&&(n=Lg(n,t.datum_type,t.datum_params)),Og(e.datum_type)&&(n=kg(n,e.datum_type,e.datum_params)),n=Gg(n,l,s,a),e.datum_type===Bd){var c=Ng(e,!0,n);if(0!==c)return}return n}function Ng(t,e,n){if(null===t.grids||0===t.grids.length)return console.log("Grid shift grids not found"),-1;var i={x:-n.x,y:n.y},r={x:Number.NaN,y:Number.NaN},o=[];t:for(var s=0;s<t.grids.length;s++){var a=t.grids[s];if(o.push(a.name),a.isNull){r=i;break}if(a.mandatory,null!==a.grid)for(var l=a.grid.subgrids,c=0,u=l.length;c<u;c++){var h=l[c],d=(Math.abs(h.del[1])+Math.abs(h.del[0]))/1e4,p=h.ll[0]-d,g=h.ll[1]-d,f=h.ll[0]+(h.lim[0]-1)*h.del[0]+d,m=h.ll[1]+(h.lim[1]-1)*h.del[1]+d;if(!(g>i.y||p>i.x||m<i.y||f<i.x)&&(r=Fg(i,e,h),!isNaN(r.x)))break t}else if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1}return isNaN(r.x)?(console.log("Failed to find a grid shift table for location '"+-i.x*$d+" "+i.y*$d+" tried: '"+o+"'"),-1):(n.x=-r.x,n.y=r.y,0)}function Fg(t,e,n){var i={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return i;var r={x:t.x,y:t.y};r.x-=n.ll[0],r.y-=n.ll[1],r.x=Vp(r.x-Math.PI)+Math.PI;var o=Ug(r,n);if(e){if(isNaN(o.x))return i;o.x=r.x-o.x,o.y=r.y-o.y;var s,a,l=9,c=1e-12;do{if(a=Ug(o,n),isNaN(a.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}s={x:r.x-(a.x+o.x),y:r.y-(a.y+o.y)},o.x+=s.x,o.y+=s.y}while(l--&&Math.abs(s.x)>c&&Math.abs(s.y)>c);if(l<0)return console.log("Inverse grid shift iterator failed to converge."),i;i.x=Vp(o.x+n.ll[0]),i.y=o.y+n.ll[1]}else isNaN(o.x)||(i.x=t.x+o.x,i.y=t.y+o.y);return i}function Ug(t,e){var n,i={x:t.x/e.del[0],y:t.y/e.del[1]},r={x:Math.floor(i.x),y:Math.floor(i.y)},o={x:i.x-1*r.x,y:i.y-1*r.y},s={x:Number.NaN,y:Number.NaN};if(r.x<0||r.x>=e.lim[0])return s;if(r.y<0||r.y>=e.lim[1])return s;n=r.y*e.lim[0]+r.x;var a={x:e.cvs[n][0],y:e.cvs[n][1]};n++;var l={x:e.cvs[n][0],y:e.cvs[n][1]};n+=e.lim[0];var c={x:e.cvs[n][0],y:e.cvs[n][1]};n--;var u={x:e.cvs[n][0],y:e.cvs[n][1]},h=o.x*o.y,d=o.x*(1-o.y),p=(1-o.x)*(1-o.y),g=(1-o.x)*o.y;return s.x=p*a.x+d*l.x+g*u.x+h*c.x,s.y=p*a.y+d*l.y+g*u.y+h*c.y,s}function Bg(t,e,n){var i,r,o,s=n.x,a=n.y,l=n.z||0,c={};for(o=0;o<3;o++)if(!e||2!==o||void 0!==n.z)switch(0===o?(i=s,r=-1!=="ew".indexOf(t.axis[o])?"x":"y"):1===o?(i=a,r=-1!=="ns".indexOf(t.axis[o])?"y":"x"):(i=l,r="z"),t.axis[o]){case"e":c[r]=i;break;case"w":c[r]=-i;break;case"n":c[r]=i;break;case"s":c[r]=-i;break;case"u":void 0!==n[r]&&(c.z=i);break;case"d":void 0!==n[r]&&(c.z=-i);break;default:return null}return c}function jg(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function zg(t){Wg(t.x),Wg(t.y)}function Wg(t){if("function"===typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!==typeof t||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function Vg(t,e){return(t.datum.datum_type===Fd||t.datum.datum_type===Ud||t.datum.datum_type===Bd)&&"WGS84"!==e.datumCode||(e.datum.datum_type===Fd||e.datum.datum_type===Ud||e.datum.datum_type===Bd)&&"WGS84"!==t.datumCode}function Yg(t,e,n,i){var r;n=Array.isArray(n)?jg(n):{x:n.x,y:n.y,z:n.z,m:n.m};var o=void 0!==n.z;if(zg(n),t.datum&&e.datum&&Vg(t,e)&&(r=new Mg("WGS84"),n=Yg(t,r,n,i),t=r),i&&"enu"!==t.axis&&(n=Bg(t,!1,n)),"longlat"===t.projName)n={x:n.x*Qd,y:n.y*Qd,z:n.z||0};else if(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),n=t.inverse(n),!n)return;if(t.from_greenwich&&(n.x+=t.from_greenwich),n=Dg(t.datum,e.datum,n),n)return e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y,z:n.z||0}),"longlat"===e.projName?n={x:n.x*$d,y:n.y*$d,z:n.z||0}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter,z:n.z||0})),i&&"enu"!==e.axis?Bg(e,!0,n):(n&&!o&&delete n.z,n)}var Hg=Mg("WGS84");function qg(t,e,n,i){var r,o,s;return Array.isArray(n)?(r=Yg(t,e,n,i)||{x:NaN,y:NaN},n.length>2?"undefined"!==typeof t.name&&"geocent"===t.name||"undefined"!==typeof e.name&&"geocent"===e.name?"number"===typeof r.z?[r.x,r.y,r.z].concat(n.splice(3)):[r.x,r.y,n[2]].concat(n.splice(3)):[r.x,r.y].concat(n.splice(2)):[r.x,r.y]):(o=Yg(t,e,n,i),s=Object.keys(n),2===s.length||s.forEach((function(i){if("undefined"!==typeof t.name&&"geocent"===t.name||"undefined"!==typeof e.name&&"geocent"===e.name){if("x"===i||"y"===i||"z"===i)return}else if("x"===i||"y"===i)return;o[i]=n[i]})),o)}function Xg(t){return t instanceof Mg?t:t.oProj?t.oProj:Mg(t)}function Zg(t,e,n){t=Xg(t);var i,r=!1;return"undefined"===typeof e?(e=t,t=Hg,r=!0):("undefined"!==typeof e.x||Array.isArray(e))&&(n=e,e=t,t=Hg,r=!0),e=Xg(e),n?qg(t,e,n):(i={forward:function(n,i){return qg(t,e,n,i)},inverse:function(n,i){return qg(e,t,n,i)}},r&&(i.oProj=e),i)}var Kg=Zg,Jg=6,Qg="AJSAJS",$g="AFAFAF",tf=65,ef=73,nf=79,rf=86,of=90,sf={forward:af,inverse:lf,toPoint:cf};function af(t,e){return e=e||5,ff(df({lat:t[1],lon:t[0]}),e)}function lf(t){var e=pf(vf(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function cf(t){var e=pf(vf(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function uf(t){return t*(Math.PI/180)}function hf(t){return t/Math.PI*180}function df(t){var e,n,i,r,o,s,a,l,c,u=t.lat,h=t.lon,d=6378137,p=.00669438,g=.9996,f=uf(u),m=uf(h);c=Math.floor((h+180)/6)+1,180===h&&(c=60),u>=56&&u<64&&h>=3&&h<12&&(c=32),u>=72&&u<84&&(h>=0&&h<9?c=31:h>=9&&h<21?c=33:h>=21&&h<33?c=35:h>=33&&h<42&&(c=37)),e=6*(c-1)-180+3,l=uf(e),n=p/(1-p),i=d/Math.sqrt(1-p*Math.sin(f)*Math.sin(f)),r=Math.tan(f)*Math.tan(f),o=n*Math.cos(f)*Math.cos(f),s=Math.cos(f)*(m-l),a=d*((1-p/4-3*p*p/64-5*p*p*p/256)*f-(3*p/8+3*p*p/32+45*p*p*p/1024)*Math.sin(2*f)+(15*p*p/256+45*p*p*p/1024)*Math.sin(4*f)-35*p*p*p/3072*Math.sin(6*f));var A=g*i*(s+(1-r+o)*s*s*s/6+(5-18*r+r*r+72*o-58*n)*s*s*s*s*s/120)+5e5,y=g*(a+i*Math.tan(f)*(s*s/2+(5-r+9*o+4*o*o)*s*s*s*s/24+(61-58*r+r*r+600*o-330*n)*s*s*s*s*s*s/720));return u<0&&(y+=1e7),{northing:Math.round(y),easting:Math.round(A),zoneNumber:c,zoneLetter:gf(u)}}function pf(t){var e=t.northing,n=t.easting,i=t.zoneLetter,r=t.zoneNumber;if(r<0||r>60)return null;var o,s,a,l,c,u,h,d,p,g,f=.9996,m=6378137,A=.00669438,y=(1-Math.sqrt(1-A))/(1+Math.sqrt(1-A)),v=n-5e5,_=e;i<"N"&&(_-=1e7),d=6*(r-1)-180+3,o=A/(1-A),h=_/f,p=h/(m*(1-A/4-3*A*A/64-5*A*A*A/256)),g=p+(3*y/2-27*y*y*y/32)*Math.sin(2*p)+(21*y*y/16-55*y*y*y*y/32)*Math.sin(4*p)+151*y*y*y/96*Math.sin(6*p),s=m/Math.sqrt(1-A*Math.sin(g)*Math.sin(g)),a=Math.tan(g)*Math.tan(g),l=o*Math.cos(g)*Math.cos(g),c=m*(1-A)/Math.pow(1-A*Math.sin(g)*Math.sin(g),1.5),u=v/(s*f);var C=g-s*Math.tan(g)/c*(u*u/2-(5+3*a+10*l-4*l*l-9*o)*u*u*u*u/24+(61+90*a+298*l+45*a*a-252*o-3*l*l)*u*u*u*u*u*u/720);C=hf(C);var I,E=(u-(1+2*a+l)*u*u*u/6+(5-2*l+28*a-3*l*l+8*o+24*a*a)*u*u*u*u*u/120)/Math.cos(g);if(E=d+hf(E),t.accuracy){var w=pf({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});I={top:w.lat,right:w.lon,bottom:C,left:E}}else I={lat:C,lon:E};return I}function gf(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function ff(t,e){var n="00000"+t.easting,i="00000"+t.northing;return t.zoneNumber+t.zoneLetter+mf(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+i.substr(i.length-5,e)}function mf(t,e,n){var i=Af(n),r=Math.floor(t/1e5),o=Math.floor(e/1e5)%20;return yf(r,o,i)}function Af(t){var e=t%Jg;return 0===e&&(e=Jg),e}function yf(t,e,n){var i=n-1,r=Qg.charCodeAt(i),o=$g.charCodeAt(i),s=r+t-1,a=o+e,l=!1;s>of&&(s=s-of+tf-1,l=!0),(s===ef||r<ef&&s>ef||(s>ef||r<ef)&&l)&&s++,(s===nf||r<nf&&s>nf||(s>nf||r<nf)&&l)&&(s++,s===ef&&s++),s>of&&(s=s-of+tf-1),a>rf?(a=a-rf+tf-1,l=!0):l=!1,(a===ef||o<ef&&a>ef||(a>ef||o<ef)&&l)&&a++,(a===nf||o<nf&&a>nf||(a>nf||o<nf)&&l)&&(a++,a===ef&&a++),a>rf&&(a=a-rf+tf-1);var c=String.fromCharCode(s)+String.fromCharCode(a);return c}function vf(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";var e,n=t.length,i=null,r="",o=0;while(!/[A-Z]/.test(e=t.charAt(o))){if(o>=2)throw"MGRSPoint bad conversion from: "+t;r+=e,o++}var s=parseInt(r,10);if(0===o||o+3>n)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(o++);if(a<="A"||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+t;i=t.substring(o,o+=2);var l=Af(s),c=_f(i.charAt(0),l),u=Cf(i.charAt(1),l);while(u<If(a))u+=2e6;var h=n-o;if(h%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var d,p,g,f,m,A=h/2,y=0,v=0;return A>0&&(d=1e5/Math.pow(10,A),p=t.substring(o,o+A),y=parseFloat(p)*d,g=t.substring(o+A),v=parseFloat(g)*d),f=y+c,m=v+u,{easting:f,northing:m,zoneLetter:a,zoneNumber:s,accuracy:d}}function _f(t,e){var n=Qg.charCodeAt(e-1),i=1e5,r=!1;while(n!==t.charCodeAt(0)){if(n++,n===ef&&n++,n===nf&&n++,n>of){if(r)throw"Bad character: "+t;n=tf,r=!0}i+=1e5}return i}function Cf(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;var n=$g.charCodeAt(e-1),i=0,r=!1;while(n!==t.charCodeAt(0)){if(n++,n===ef&&n++,n===nf&&n++,n>rf){if(r)throw"Bad character: "+t;n=tf,r=!0}i+=1e5}return i}function If(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function Ef(t,e,n){if(!(this instanceof Ef))return new Ef(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"===typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"===typeof t&&"undefined"===typeof e){var i=t.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Ef.fromMGRS=function(t){return new Ef(cf(t))},Ef.prototype.toMGRS=function(t){return af([this.x,this.y],t)};var wf=Ef,bf=1,xf=.25,Sf=.046875,Pf=.01953125,Mf=.01068115234375,Rf=.75,Tf=.46875,Gf=.013020833333333334,Lf=.007120768229166667,kf=.3645833333333333,Of=.005696614583333333,Df=.3076171875;function Nf(t){var e=[];e[0]=bf-t*(xf+t*(Sf+t*(Pf+t*Mf))),e[1]=t*(Rf-t*(Sf+t*(Pf+t*Mf)));var n=t*t;return e[2]=n*(Tf-t*(Gf+t*Lf)),n*=t,e[3]=n*(kf-t*Of),e[4]=n*t*Df,e}function Ff(t,e,n,i){return n*=e,e*=e,i[0]*t-n*(i[1]+e*(i[2]+e*(i[3]+e*i[4])))}var Uf=20;function Bf(t,e,n){for(var i=1/(1-e),r=t,o=Uf;o;--o){var s=Math.sin(r),a=1-e*s*s;if(a=(Ff(r,s,Math.cos(r),n)-t)*(a*Math.sqrt(a))*i,r-=a,Math.abs(a)<Jd)return r}return r}function jf(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Nf(this.es),this.ml0=Ff(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function zf(t){var e,n,i,r=t.x,o=t.y,s=Vp(r-this.long0),a=Math.sin(o),l=Math.cos(o);if(this.es){var c=l*s,u=Math.pow(c,2),h=this.ep2*Math.pow(l,2),d=Math.pow(h,2),p=Math.abs(l)>Jd?Math.tan(o):0,g=Math.pow(p,2),f=Math.pow(g,2);e=1-this.es*Math.pow(a,2),c/=Math.sqrt(e);var m=Ff(o,a,l,this.en);n=this.a*(this.k0*c*(1+u/6*(1-g+h+u/20*(5-18*g+f+14*h-58*g*h+u/42*(61+179*f-f*g-479*g)))))+this.x0,i=this.a*(this.k0*(m-this.ml0+a*s*c/2*(1+u/12*(5-g+9*h+4*d+u/30*(61+f-58*g+270*h-330*g*h+u/56*(1385+543*f-f*g-3111*g))))))+this.y0}else{var A=l*Math.sin(s);if(Math.abs(Math.abs(A)-1)<Jd)return 93;if(n=.5*this.a*this.k0*Math.log((1+A)/(1-A))+this.x0,i=l*Math.cos(s)/Math.sqrt(1-Math.pow(A,2)),A=Math.abs(i),A>=1){if(A-1>Jd)return 93;i=0}else i=Math.acos(i);o<0&&(i=-i),i=this.a*this.k0*(i-this.lat0)+this.y0}return t.x=n,t.y=i,t}function Wf(t){var e,n,i,r,o=(t.x-this.x0)*(1/this.a),s=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+s/this.k0,n=Bf(e,this.es,this.en),Math.abs(n)<qd){var a=Math.sin(n),l=Math.cos(n),c=Math.abs(l)>Jd?Math.tan(n):0,u=this.ep2*Math.pow(l,2),h=Math.pow(u,2),d=Math.pow(c,2),p=Math.pow(d,2);e=1-this.es*Math.pow(a,2);var g=o*Math.sqrt(e)/this.k0,f=Math.pow(g,2);e*=c,i=n-e*f/(1-this.es)*.5*(1-f/12*(5+3*d-9*u*d+u-4*h-f/30*(61+90*d-252*u*d+45*p+46*u-f/56*(1385+3633*d+4095*p+1574*p*d)))),r=Vp(this.long0+g*(1-f/6*(1+2*d+u-f/20*(5+28*d+24*p+8*u*d+6*u-f/42*(61+662*d+1320*p+720*p*d))))/l)}else i=qd*Wp(s),r=0;else{var m=Math.exp(o/this.k0),A=.5*(m-1/m),y=this.lat0+s/this.k0,v=Math.cos(y);e=Math.sqrt((1-Math.pow(v,2))/(1+Math.pow(A,2))),i=Math.asin(e),s<0&&(i=-i),r=0===A&&0===v?0:Vp(Math.atan2(A,v)+this.long0)}return t.x=r,t.y=i,t}var Vf=["Fast_Transverse_Mercator","Fast Transverse Mercator"],Yf={init:jf,forward:zf,inverse:Wf,names:Vf};function Hf(t){var e=Math.exp(t);return e=(e-1/e)/2,e}function qf(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),i=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(i,2))}function Xf(t){var e=1+t,n=e-1;return 0===n?t:t*Math.log(e)/n}function Zf(t){var e=Math.abs(t);return e=Xf(e*(1+e/(qf(1,e)+1))),t<0?-e:e}function Kf(t,e){var n,i=2*Math.cos(2*e),r=t.length-1,o=t[r],s=0;while(--r>=0)n=i*o-s+t[r],s=o,o=n;return e+n*Math.sin(2*e)}function Jf(t,e){var n,i=2*Math.cos(e),r=t.length-1,o=t[r],s=0;while(--r>=0)n=i*o-s+t[r],s=o,o=n;return Math.sin(e)*n}function Qf(t){var e=Math.exp(t);return e=(e+1/e)/2,e}function $f(t,e,n){var i,r,o=Math.sin(e),s=Math.cos(e),a=Hf(n),l=Qf(n),c=2*s*l,u=-2*o*a,h=t.length-1,d=t[h],p=0,g=0,f=0;while(--h>=0)i=g,r=p,g=d,p=f,d=c*g-i-u*p+t[h],f=u*g-r+c*p;return c=o*l,u=s*a,[c*d-u*f,c*f+u*d]}function tm(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Yf.init.apply(this),this.forward=Yf.forward,this.inverse=Yf.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),n*=e,this.cgb[1]=n*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n*=e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),n*=e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(e*(-24832/14175)-2.4)),n*=e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n*=e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),n*=e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n*=e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n*=e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n*=e,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=.6650675310896665*n;var i=Kf(this.cbg,this.lat0);this.Zb=-this.Qn*(i+Jf(this.gtu,2*i))}function em(t){var e=Vp(t.x-this.long0),n=t.y;n=Kf(this.cbg,n);var i=Math.sin(n),r=Math.cos(n),o=Math.sin(e),s=Math.cos(e);n=Math.atan2(i,s*r),e=Math.atan2(o*r,qf(i,r*s)),e=Zf(Math.tan(e));var a,l,c=$f(this.gtu,2*n,2*e);return n+=c[0],e+=c[1],Math.abs(e)<=2.623395162778?(a=this.a*(this.Qn*e)+this.x0,l=this.a*(this.Qn*n+this.Zb)+this.y0):(a=1/0,l=1/0),t.x=a,t.y=l,t}function nm(t){var e,n,i=(t.x-this.x0)*(1/this.a),r=(t.y-this.y0)*(1/this.a);if(r=(r-this.Zb)/this.Qn,i/=this.Qn,Math.abs(i)<=2.623395162778){var o=$f(this.utg,2*r,2*i);r+=o[0],i+=o[1],i=Math.atan(Hf(i));var s=Math.sin(r),a=Math.cos(r),l=Math.sin(i),c=Math.cos(i);r=Math.atan2(s*c,qf(l,c*a)),i=Math.atan2(l,c*a),e=Vp(i+this.long0),n=Kf(this.cgb,r)}else e=1/0,n=1/0;return t.x=e,t.y=n,t}var im=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"],rm={init:tm,forward:em,inverse:nm,names:im};function om(t,e){if(void 0===t){if(t=Math.floor(30*(Vp(e)+Math.PI)/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t}var sm="etmerc";function am(){var t=om(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*Qd,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,rm.init.apply(this),this.forward=rm.forward,this.inverse=rm.inverse}var lm=["Universal Transverse Mercator System","utm"],cm={init:am,names:lm,dependsOn:sm};function um(t,e){return Math.pow((1-t)/(1+t),e)}var hm=20;function dm(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+tp)/(Math.pow(Math.tan(.5*this.lat0+tp),this.C)*um(this.e*t,this.ratexp))}function pm(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+tp),this.C)*um(this.e*Math.sin(n),this.ratexp))-qd,t.x=this.C*e,t}function gm(t){for(var e=1e-14,n=t.x/this.C,i=t.y,r=Math.pow(Math.tan(.5*i+tp)/this.K,1/this.C),o=hm;o>0;--o){if(i=2*Math.atan(r*um(this.e*Math.sin(t.y),-.5*this.e))-qd,Math.abs(i-t.y)<e)break;t.y=i}return o?(t.x=n,t.y=i,t):null}var fm=["gauss"],mm={init:dm,forward:pm,inverse:gm,names:fm};function Am(){mm.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function ym(t){var e,n,i,r;return t.x=Vp(t.x-this.long0),mm.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),i=Math.cos(t.x),r=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*i),t.x=r*n*Math.sin(t.x),t.y=r*(this.cosc0*e-this.sinc0*n*i),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function vm(t){var e,n,i,r,o;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,o=qf(t.x,t.y)){var s=2*Math.atan2(o,this.R2);e=Math.sin(s),n=Math.cos(s),r=Math.asin(n*this.sinc0+t.y*e*this.cosc0/o),i=Math.atan2(t.x*e,o*this.cosc0*n-t.y*this.sinc0*e)}else r=this.phic0,i=0;return t.x=i,t.y=r,mm.inverse.apply(this,[t]),t.x=Vp(t.x+this.long0),t}var _m=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"],Cm={init:Am,forward:ym,inverse:vm,names:_m};function Im(t,e,n){return e*=n,Math.tan(.5*(qd+t))*Math.pow((1-e)/(1+e),.5*n)}function Em(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Jd&&(this.k0=.5*(1+Wp(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=Jd&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Jd&&Math.abs(Math.cos(this.lat_ts))>Jd&&(this.k0=.5*this.cons*zp(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Yp(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=zp(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-qd,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function wm(t){var e,n,i,r,o,s,a=t.x,l=t.y,c=Math.sin(l),u=Math.cos(l),h=Vp(a-this.long0);return Math.abs(Math.abs(a-this.long0)-Math.PI)<=Jd&&Math.abs(l+this.lat0)<=Jd?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*c+this.coslat0*u*Math.cos(h)),t.x=this.a*e*u*Math.sin(h)+this.x0,t.y=this.a*e*(this.coslat0*c-this.sinlat0*u*Math.cos(h))+this.y0,t):(n=2*Math.atan(this.ssfn_(l,c,this.e))-qd,r=Math.cos(n),i=Math.sin(n),Math.abs(this.coslat0)<=Jd?(o=Yp(this.e,l*this.con,this.con*c),s=2*this.a*this.k0*o/this.cons,t.x=this.x0+s*Math.sin(a-this.long0),t.y=this.y0-this.con*s*Math.cos(a-this.long0),t):(Math.abs(this.sinlat0)<Jd?(e=2*this.a*this.k0/(1+r*Math.cos(h)),t.y=e*i):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*i+this.cosX0*r*Math.cos(h))),t.y=e*(this.cosX0*i-this.sinX0*r*Math.cos(h))+this.y0),t.x=e*r*Math.sin(h)+this.x0,t))}function bm(t){var e,n,i,r,o;t.x-=this.x0,t.y-=this.y0;var s=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var a=2*Math.atan(s/(2*this.a*this.k0));return e=this.long0,n=this.lat0,s<=Jd?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(a)*this.sinlat0+t.y*Math.sin(a)*this.coslat0/s),e=Math.abs(this.coslat0)<Jd?this.lat0>0?Vp(this.long0+Math.atan2(t.x,-1*t.y)):Vp(this.long0+Math.atan2(t.x,t.y)):Vp(this.long0+Math.atan2(t.x*Math.sin(a),s*this.coslat0*Math.cos(a)-t.y*this.sinlat0*Math.sin(a))),t.x=e,t.y=n,t)}if(Math.abs(this.coslat0)<=Jd){if(s<=Jd)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,i=s*this.cons/(2*this.a*this.k0),n=this.con*Hp(this.e,i),e=this.con*Vp(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else r=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,s<=Jd?o=this.X0:(o=Math.asin(Math.cos(r)*this.sinX0+t.y*Math.sin(r)*this.cosX0/s),e=Vp(this.long0+Math.atan2(t.x*Math.sin(r),s*this.cosX0*Math.cos(r)-t.y*this.sinX0*Math.sin(r)))),n=-1*Hp(this.e,Math.tan(.5*(qd+o)));return t.x=e,t.y=n,t}var xm=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"],Sm={init:Em,forward:wm,inverse:bm,names:xm,ssfn_:Im};function Pm(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,i=this.rf,r=1/i,o=2*r-Math.pow(r,2),s=this.e=Math.sqrt(o);this.R=this.k0*n*Math.sqrt(1-o)/(1-o*Math.pow(e,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+t/2)),c=Math.log((1+s*e)/(1-s*e));this.K=a-this.alpha*l+this.alpha*s/2*c}function Mm(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),i=-this.alpha*(e+n)+this.K,r=2*(Math.atan(Math.exp(i))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(o))),a=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*s+this.x0,t}function Rm(t){var e=t.x-this.x0,n=t.y-this.y0,i=e/this.R,r=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(i)),s=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(r))),a=this.lambda0+s/this.alpha,l=0,c=o,u=-1e3,h=0;while(Math.abs(c-u)>1e-7){if(++h>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),u=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=a,t.y=c,t}var Tm=["somerc"],Gm={init:Pm,forward:Mm,inverse:Rm,names:Tm},Lm=1e-7;function km(t){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],n="object"===typeof t.PROJECTION?Object.keys(t.PROJECTION)[0]:t.PROJECTION;return"no_uoff"in t||"no_off"in t||-1!==e.indexOf(n)}function Om(){var t,e,n,i,r,o,s,a,l,c,u,h=0,d=0,p=0,g=0,f=0,m=0,A=0;this.no_off=km(this),this.no_rot="no_rot"in this;var y=!1;"alpha"in this&&(y=!0);var v=!1;if("rectified_grid_angle"in this&&(v=!0),y&&(A=this.alpha),v&&(h=this.rectified_grid_angle*Qd),y||v)d=this.longc;else if(p=this.long1,f=this.lat1,g=this.long2,m=this.lat2,Math.abs(f-m)<=Lm||(t=Math.abs(f))<=Lm||Math.abs(t-qd)<=Lm||Math.abs(Math.abs(this.lat0)-qd)<=Lm||Math.abs(Math.abs(m)-qd)<=Lm)throw new Error;var _=1-this.es;e=Math.sqrt(_),Math.abs(this.lat0)>Jd?(a=Math.sin(this.lat0),n=Math.cos(this.lat0),t=1-this.es*a*a,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/_),this.A=this.B*this.k0*e/t,i=this.B*e/(n*Math.sqrt(t)),r=i*i-1,r<=0?r=0:(r=Math.sqrt(r),this.lat0<0&&(r=-r)),this.E=r+=i,this.E*=Math.pow(Yp(this.e,this.lat0,a),this.B)):(this.B=1/e,this.A=this.k0,this.E=i=r=1),y||v?(y?(u=Math.asin(Math.sin(A)/i),v||(h=A)):(u=h,A=Math.asin(i*Math.sin(u))),this.lam0=d-Math.asin(.5*(r-1/r)*Math.tan(u))/this.B):(o=Math.pow(Yp(this.e,f,Math.sin(f)),this.B),s=Math.pow(Yp(this.e,m,Math.sin(m)),this.B),r=this.E/o,l=(s-o)/(s+o),c=this.E*this.E,c=(c-s*o)/(c+s*o),t=p-g,t<-Math.pi?g-=ep:t>Math.pi&&(g+=ep),this.lam0=Vp(.5*(p+g)-Math.atan(c*Math.tan(.5*this.B*(p-g))/l)/this.B),u=Math.atan(2*Math.sin(this.B*Vp(p-this.lam0))/(r-1/r)),h=A=Math.asin(i*Math.sin(u))),this.singam=Math.sin(u),this.cosgam=Math.cos(u),this.sinrot=Math.sin(h),this.cosrot=Math.cos(h),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A,this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(i*i-1)/Math.cos(A))),this.lat0<0&&(this.u_0=-this.u_0)),r=.5*u,this.v_pole_n=this.ArB*Math.log(Math.tan(tp-r)),this.v_pole_s=this.ArB*Math.log(Math.tan(tp+r))}function Dm(t){var e,n,i,r,o,s,a,l,c={};if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-qd)>Jd){if(o=this.E/Math.pow(Yp(this.e,t.y,Math.sin(t.y)),this.B),s=1/o,e=.5*(o-s),n=.5*(o+s),r=Math.sin(this.B*t.x),i=(e*this.singam-r*this.cosgam)/n,Math.abs(Math.abs(i)-1)<Jd)throw new Error;l=.5*this.ArB*Math.log((1-i)/(1+i)),s=Math.cos(this.B*t.x),a=Math.abs(s)<Lm?this.A*t.x:this.ArB*Math.atan2(e*this.cosgam+r*this.singam,s)}else l=t.y>0?this.v_pole_n:this.v_pole_s,a=this.ArB*t.y;return this.no_rot?(c.x=a,c.y=l):(a-=this.u_0,c.x=l*this.cosrot+a*this.sinrot,c.y=a*this.cosrot-l*this.sinrot),c.x=this.a*c.x+this.x0,c.y=this.a*c.y+this.y0,c}function Nm(t){var e,n,i,r,o,s,a,l={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(n=t.y,e=t.x):(n=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),i=Math.exp(-this.BrA*n),r=.5*(i-1/i),o=.5*(i+1/i),s=Math.sin(this.BrA*e),a=(s*this.cosgam+r*this.singam)/o,Math.abs(Math.abs(a)-1)<Jd)l.x=0,l.y=a<0?-qd:qd;else{if(l.y=this.E/Math.sqrt((1+a)/(1-a)),l.y=Hp(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(r*this.cosgam-s*this.singam,Math.cos(this.BrA*e))}return l.x+=this.lam0,l}var Fm=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"],Um={init:Om,forward:Dm,inverse:Nm,names:Fm};function Bm(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<Jd)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),i=zp(this.e,e,n),r=Yp(this.e,this.lat1,e),o=Math.sin(this.lat2),s=Math.cos(this.lat2),a=zp(this.e,o,s),l=Yp(this.e,this.lat2,o),c=Yp(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>Jd?this.ns=Math.log(i/a)/Math.log(r/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=i/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function jm(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=Jd&&(n=Wp(n)*(qd-2*Jd));var i,r,o=Math.abs(Math.abs(n)-qd);if(o>Jd)i=Yp(this.e,n,Math.sin(n)),r=this.a*this.f0*Math.pow(i,this.ns);else{if(o=n*this.ns,o<=0)return null;r=0}var s=this.ns*Vp(e-this.long0);return t.x=this.k0*(r*Math.sin(s))+this.x0,t.y=this.k0*(this.rh-r*Math.cos(s))+this.y0,t}function zm(t){var e,n,i,r,o,s=(t.x-this.x0)/this.k0,a=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(s*s+a*a),n=1):(e=-Math.sqrt(s*s+a*a),n=-1);var l=0;if(0!==e&&(l=Math.atan2(n*s,n*a)),0!==e||this.ns>0){if(n=1/this.ns,i=Math.pow(e/(this.a*this.f0),n),r=Hp(this.e,i),-9999===r)return null}else r=-qd;return o=Vp(l/this.ns+this.long0),t.x=o,t.y=r,t}var Wm=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"],Vm={init:Bm,forward:jm,inverse:zm,names:Wm};function Ym(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function Hm(t){var e,n,i,r,o,s,a,l=t.x,c=t.y,u=Vp(l-this.long0);return e=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/e)-this.s45),i=-u*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),o=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(r)),s=this.n*o,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),t.y=a*Math.cos(s)/1,t.x=a*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t}function qm(t){var e,n,i,r,o,s,a,l,c=t.x;t.x=t.y,t.y=c,this.czech||(t.y*=-1,t.x*=-1),s=Math.sqrt(t.x*t.x+t.y*t.y),o=Math.atan2(t.y,t.x),r=o/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/s,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),n=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(e)),t.x=this.long0-n/this.alfa,a=e,l=0;var u=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-t.y)<1e-10&&(l=1),a=t.y,u+=1}while(0===l&&u<15);return u>=15?null:t}var Xm=["Krovak","krovak"],Zm={init:Ym,forward:Hm,inverse:qm,names:Xm};function Km(t,e,n,i,r){return t*r-e*Math.sin(2*r)+n*Math.sin(4*r)-i*Math.sin(6*r)}function Jm(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function Qm(t){return.375*t*(1+.25*t*(1+.46875*t))}function $m(t){return.05859375*t*t*(1+.75*t)}function tA(t){return t*t*t*(35/3072)}function eA(t,e,n){var i=e*n;return t/Math.sqrt(1-i*i)}function nA(t){return Math.abs(t)<qd?t:t-Wp(t)*Math.PI}function iA(t,e,n,i,r){var o,s;o=t/e;for(var a=0;a<15;a++)if(s=(t-(e*o-n*Math.sin(2*o)+i*Math.sin(4*o)-r*Math.sin(6*o)))/(e-2*n*Math.cos(2*o)+4*i*Math.cos(4*o)-6*r*Math.cos(6*o)),o+=s,Math.abs(s)<=1e-10)return o;return NaN}function rA(){this.sphere||(this.e0=Jm(this.es),this.e1=Qm(this.es),this.e2=$m(this.es),this.e3=tA(this.es),this.ml0=this.a*Km(this.e0,this.e1,this.e2,this.e3,this.lat0))}function oA(t){var e,n,i=t.x,r=t.y;if(i=Vp(i-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(r)*Math.sin(i)),n=this.a*(Math.atan2(Math.tan(r),Math.cos(i))-this.lat0);else{var o=Math.sin(r),s=Math.cos(r),a=eA(this.a,this.e,o),l=Math.tan(r)*Math.tan(r),c=i*Math.cos(r),u=c*c,h=this.es*s*s/(1-this.es),d=this.a*Km(this.e0,this.e1,this.e2,this.e3,r);e=a*c*(1-u*l*(1/6-(8-l+8*h)*u/120)),n=d-this.ml0+a*o/s*u*(.5+(5-l+6*h)*u/24)}return t.x=e+this.x0,t.y=n+this.y0,t}function sA(t){t.x-=this.x0,t.y-=this.y0;var e,n,i=t.x/this.a,r=t.y/this.a;if(this.sphere){var o=r+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(i)),n=Math.atan2(Math.tan(i),Math.cos(o))}else{var s=this.ml0/this.a+r,a=iA(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-qd)<=Jd)return t.x=this.long0,t.y=qd,r<0&&(t.y*=-1),t;var l=eA(this.a,this.e,Math.sin(a)),c=l*l*l/this.a/this.a*(1-this.es),u=Math.pow(Math.tan(a),2),h=i*this.a/l,d=h*h;e=a-l*Math.tan(a)/c*h*h*(.5-(1+3*u)*h*h/24),n=h*(1-d*(u/3+(1+3*u)*u*d/15))/Math.cos(a)}return t.x=Vp(n+this.long0),t.y=nA(e),t}var aA=["Cassini","Cassini_Soldner","cass"],lA={init:rA,forward:oA,inverse:sA,names:aA};function cA(t,e){var n;return t>1e-7?(n=t*e,(1-t*t)*(e/(1-n*n)-.5/t*Math.log((1-n)/(1+n)))):2*e}var uA=1,hA=2,dA=3,pA=4;function gA(){var t,e=Math.abs(this.lat0);if(Math.abs(e-qd)<Jd?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<Jd?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=cA(this.e,1),this.mmf=.5/(1-this.es),this.apa=EA(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=cA(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function fA(t){var e,n,i,r,o,s,a,l,c,u,h=t.x,d=t.y;if(h=Vp(h-this.long0),this.sphere){if(o=Math.sin(d),u=Math.cos(d),i=Math.cos(h),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n=this.mode===this.EQUIT?1+u*i:1+this.sinph0*o+this.cosph0*u*i,n<=Jd)return null;n=Math.sqrt(2/n),e=n*u*Math.sin(h),n*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*u*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(d+this.lat0)<Jd)return null;n=tp-.5*d,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),e=n*Math.sin(h),n*=i}}else{switch(a=0,l=0,c=0,i=Math.cos(h),r=Math.sin(h),o=Math.sin(d),s=cA(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(a=s/this.qp,l=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:c=1+this.sinb1*a+this.cosb1*l*i;break;case this.EQUIT:c=1+l*i;break;case this.N_POLE:c=qd+d,s=this.qp-s;break;case this.S_POLE:c=d-qd,s=this.qp+s;break}if(Math.abs(c)<Jd)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),n=this.mode===this.OBLIQ?this.ymf*c*(this.cosb1*a-this.sinb1*l*i):(c=Math.sqrt(2/(1+l*i)))*a*this.ymf,e=this.xmf*c*l*r;break;case this.N_POLE:case this.S_POLE:s>=0?(e=(c=Math.sqrt(s))*r,n=i*(this.mode===this.S_POLE?c:-c)):e=n=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t}function mA(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,r,o,s,a,l=t.x/this.a,c=t.y/this.a;if(this.sphere){var u,h=0,d=0;if(u=Math.sqrt(l*l+c*c),n=.5*u,n>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(d=Math.sin(n),h=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(u)<=Jd?0:Math.asin(c*d/u),l*=d,c=h*u;break;case this.OBLIQ:n=Math.abs(u)<=Jd?this.lat0:Math.asin(h*this.sinph0+c*d*this.cosph0/u),l*=d*this.cosph0,c=(h-Math.sin(n)*this.sinph0)*u;break;case this.N_POLE:c=-c,n=qd-n;break;case this.S_POLE:n-=qd;break}e=0!==c||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(l,c):0}else{if(a=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(l/=this.dd,c*=this.dd,s=Math.sqrt(l*l+c*c),s<Jd)return t.x=this.long0,t.y=this.lat0,t;r=2*Math.asin(.5*s/this.rq),i=Math.cos(r),l*=r=Math.sin(r),this.mode===this.OBLIQ?(a=i*this.sinb1+c*r*this.cosb1/s,o=this.qp*a,c=s*this.cosb1*i-c*this.sinb1*r):(a=c*r/s,o=this.qp*a,c=s*i)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(c=-c),o=l*l+c*c,!o)return t.x=this.long0,t.y=this.lat0,t;a=1-o/this.qp,this.mode===this.S_POLE&&(a=-a)}e=Math.atan2(l,c),n=wA(Math.asin(a),this.apa)}return t.x=Vp(this.long0+e),t.y=n,t}var AA=.3333333333333333,yA=.17222222222222222,vA=.10257936507936508,_A=.06388888888888888,CA=.0664021164021164,IA=.016415012942191543;function EA(t){var e,n=[];return n[0]=t*AA,e=t*t,n[0]+=e*yA,n[1]=e*_A,e*=t,n[0]+=e*vA,n[1]+=e*CA,n[2]=e*IA,n}function wA(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)}var bA=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],xA={init:gA,forward:fA,inverse:mA,names:bA,S_POLE:uA,N_POLE:hA,EQUIT:dA,OBLIQ:pA};function SA(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function PA(){Math.abs(this.lat1+this.lat2)<Jd||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=zp(this.e3,this.sin_po,this.cos_po),this.qs1=cA(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=zp(this.e3,this.sin_po,this.cos_po),this.qs2=cA(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=cA(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>Jd?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function MA(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var i=cA(this.e3,this.sin_phi),r=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,o=this.ns0*Vp(e-this.long0),s=r*Math.sin(o)+this.x0,a=this.rh-r*Math.cos(o)+this.y0;return t.x=s,t.y=a,t}function RA(t){var e,n,i,r,o,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),i=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),i=-1),r=0,0!==e&&(r=Math.atan2(i*t.x,i*t.y)),i=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-i*i)/(2*this.ns0)):(n=(this.c-i*i)/this.ns0,s=this.phi1z(this.e3,n)),o=Vp(r/this.ns0+this.long0),t.x=o,t.y=s,t}function TA(t,e){var n,i,r,o,s,a=SA(.5*e);if(t<Jd)return a;for(var l=t*t,c=1;c<=25;c++)if(n=Math.sin(a),i=Math.cos(a),r=t*n,o=1-r*r,s=.5*o*o/i*(e/(1-l)-n/o+.5/t*Math.log((1-r)/(1+r))),a+=s,Math.abs(s)<=1e-7)return a;return null}var GA=["Albers_Conic_Equal_Area","Albers","aea"],LA={init:PA,forward:MA,inverse:RA,names:GA,phi1z:TA};function kA(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function OA(t){var e,n,i,r,o,s,a,l,c=t.x,u=t.y;return i=Vp(c-this.long0),e=Math.sin(u),n=Math.cos(u),r=Math.cos(i),s=this.sin_p14*e+this.cos_p14*n*r,o=1,s>0||Math.abs(s)<=Jd?(a=this.x0+this.a*o*n*Math.sin(i)/s,l=this.y0+this.a*o*(this.cos_p14*e-this.sin_p14*n*r)/s):(a=this.x0+this.infinity_dist*n*Math.sin(i),l=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*r)),t.x=a,t.y=l,t}function DA(t){var e,n,i,r,o,s;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(r=Math.atan2(e,this.rc),n=Math.sin(r),i=Math.cos(r),s=SA(i*this.sin_p14+t.y*n*this.cos_p14/e),o=Math.atan2(t.x*n,e*this.cos_p14*i-t.y*this.sin_p14*n),o=Vp(this.long0+o)):(s=this.phic0,o=0),t.x=o,t.y=s,t}var NA=["gnom"],FA={init:kA,forward:OA,inverse:DA,names:NA};function UA(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*qd:qd;for(var i,r,o,s,a=Math.asin(.5*e),l=0;l<30;l++)if(r=Math.sin(a),o=Math.cos(a),s=t*r,i=Math.pow(1-s*s,2)/(2*o)*(e/(1-t*t)-r/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),a+=i,Math.abs(i)<=1e-10)return a;return NaN}function BA(){this.sphere||(this.k0=zp(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function jA(t){var e,n,i=t.x,r=t.y,o=Vp(i-this.long0);if(this.sphere)e=this.x0+this.a*o*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var s=cA(this.e,Math.sin(r));e=this.x0+this.a*this.k0*o,n=this.y0+this.a*s*.5/this.k0}return t.x=e,t.y=n,t}function zA(t){var e,n;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=Vp(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=UA(this.e,2*t.y*this.k0/this.a),e=Vp(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t}var WA=["cea"],VA={init:BA,forward:jA,inverse:zA,names:WA};function YA(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function HA(t){var e=t.x,n=t.y,i=Vp(e-this.long0),r=nA(n-this.lat0);return t.x=this.x0+this.a*i*this.rc,t.y=this.y0+this.a*r,t}function qA(t){var e=t.x,n=t.y;return t.x=Vp(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=nA(this.lat0+(n-this.y0)/this.a),t}var XA=["Equirectangular","Equidistant_Cylindrical","eqc"],ZA={init:YA,forward:HA,inverse:qA,names:XA},KA=20;function JA(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Jm(this.es),this.e1=Qm(this.es),this.e2=$m(this.es),this.e3=tA(this.es),this.ml0=this.a*Km(this.e0,this.e1,this.e2,this.e3,this.lat0)}function QA(t){var e,n,i,r=t.x,o=t.y,s=Vp(r-this.long0);if(i=s*Math.sin(o),this.sphere)Math.abs(o)<=Jd?(e=this.a*s,n=-1*this.a*this.lat0):(e=this.a*Math.sin(i)/Math.tan(o),n=this.a*(nA(o-this.lat0)+(1-Math.cos(i))/Math.tan(o)));else if(Math.abs(o)<=Jd)e=this.a*s,n=-1*this.ml0;else{var a=eA(this.a,this.e,Math.sin(o))/Math.tan(o);e=a*Math.sin(i),n=this.a*Km(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+a*(1-Math.cos(i))}return t.x=e+this.x0,t.y=n+this.y0,t}function $A(t){var e,n,i,r,o,s,a,l,c;if(i=t.x-this.x0,r=t.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=Jd)e=Vp(i/this.a+this.long0),n=0;else{var u;for(s=this.lat0+r/this.a,a=i*i/this.a/this.a+s*s,l=s,o=KA;o;--o)if(u=Math.tan(l),c=-1*(s*(l*u+1)-l-.5*(l*l+a)*u)/((l-s)/u-1),l+=c,Math.abs(c)<=Jd){n=l;break}e=Vp(this.long0+Math.asin(i*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(r+this.ml0)<=Jd)n=0,e=Vp(this.long0+i/this.a);else{var h,d,p,g,f;for(s=(this.ml0+r)/this.a,a=i*i/this.a/this.a+s*s,l=s,o=KA;o;--o)if(f=this.e*Math.sin(l),h=Math.sqrt(1-f*f)*Math.tan(l),d=this.a*Km(this.e0,this.e1,this.e2,this.e3,l),p=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),g=d/this.a,c=(s*(h*g+1)-g-.5*h*(g*g+a))/(this.es*Math.sin(2*l)*(g*g+a-2*s*g)/(4*h)+(s-g)*(h*p-2/Math.sin(2*l))-p),l-=c,Math.abs(c)<=Jd){n=l;break}h=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=Vp(this.long0+Math.asin(i*h/this.a)/Math.sin(n))}return t.x=e,t.y=n,t}var ty=["Polyconic","poly"],ey={init:JA,forward:QA,inverse:$A,names:ty};function ny(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function iy(t){var e,n=t.x,i=t.y,r=i-this.lat0,o=n-this.long0,s=r/Hd*1e-5,a=o,l=1,c=0;for(e=1;e<=10;e++)l*=s,c+=this.A[e]*l;var u,h,d=c,p=a,g=1,f=0,m=0,A=0;for(e=1;e<=6;e++)u=g*d-f*p,h=f*d+g*p,g=u,f=h,m=m+this.B_re[e]*g-this.B_im[e]*f,A=A+this.B_im[e]*g+this.B_re[e]*f;return t.x=A*this.a+this.x0,t.y=m*this.a+this.y0,t}function ry(t){var e,n,i,r=t.x,o=t.y,s=r-this.x0,a=o-this.y0,l=a/this.a,c=s/this.a,u=1,h=0,d=0,p=0;for(e=1;e<=6;e++)n=u*l-h*c,i=h*l+u*c,u=n,h=i,d=d+this.C_re[e]*u-this.C_im[e]*h,p=p+this.C_im[e]*u+this.C_re[e]*h;for(var g=0;g<this.iterations;g++){var f,m,A=d,y=p,v=l,_=c;for(e=2;e<=6;e++)f=A*d-y*p,m=y*d+A*p,A=f,y=m,v+=(e-1)*(this.B_re[e]*A-this.B_im[e]*y),_+=(e-1)*(this.B_im[e]*A+this.B_re[e]*y);A=1,y=0;var C=this.B_re[1],I=this.B_im[1];for(e=2;e<=6;e++)f=A*d-y*p,m=y*d+A*p,A=f,y=m,C+=e*(this.B_re[e]*A-this.B_im[e]*y),I+=e*(this.B_im[e]*A+this.B_re[e]*y);var E=C*C+I*I;d=(v*C+_*I)/E,p=(_*C-v*I)/E}var w=d,b=p,x=1,S=0;for(e=1;e<=9;e++)x*=w,S+=this.D[e]*x;var P=this.lat0+S*Hd*1e5,M=this.long0+b;return t.x=M,t.y=P,t}var oy=["New_Zealand_Map_Grid","nzmg"],sy={init:ny,forward:iy,inverse:ry,names:oy};function ay(){}function ly(t){var e=t.x,n=t.y,i=Vp(e-this.long0),r=this.x0+this.a*i,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=r,t.y=o,t}function cy(t){t.x-=this.x0,t.y-=this.y0;var e=Vp(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t}var uy=["Miller_Cylindrical","mill"],hy={init:ay,forward:ly,inverse:cy,names:uy},dy=20;function py(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Nf(this.es)}function gy(t){var e,n,i=t.x,r=t.y;if(i=Vp(i-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(r),s=dy;s;--s){var a=(this.m*r+Math.sin(r)-o)/(this.m+Math.cos(r));if(r-=a,Math.abs(a)<Jd)break}else r=1!==this.n?Math.asin(this.n*Math.sin(r)):r;e=this.a*this.C_x*i*(this.m+Math.cos(r)),n=this.a*this.C_y*r}else{var l=Math.sin(r),c=Math.cos(r);n=this.a*Ff(r,l,c,this.en),e=this.a*i*c/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=n,t}function fy(t){var e,n,i,r;return t.x-=this.x0,i=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,i/=this.C_x*(this.m+Math.cos(e)),this.m?e=SA((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=SA(Math.sin(e)/this.n)),i=Vp(i+this.long0),e=nA(e)):(e=Bf(t.y/this.a,this.es,this.en),r=Math.abs(e),r<qd?(r=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(e)),i=Vp(n)):r-Jd<qd&&(i=this.long0)),t.x=i,t.y=e,t}var my=["Sinusoidal","sinu"],Ay={init:py,forward:gy,inverse:fy,names:my};function yy(){}function vy(t){var e=t.x,n=t.y,i=Vp(e-this.long0),r=n,o=Math.PI*Math.sin(n);while(1){var s=-(r+Math.sin(r)-o)/(1+Math.cos(r));if(r+=s,Math.abs(s)<Jd)break}r/=2,Math.PI/2-Math.abs(n)<Jd&&(i=0);var a=.900316316158*this.a*i*Math.cos(r)+this.x0,l=1.4142135623731*this.a*Math.sin(r)+this.y0;return t.x=a,t.y=l,t}function _y(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var i=Vp(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var r=Math.asin(n);return t.x=i,t.y=r,t}var Cy=["Mollweide","moll"],Iy={init:yy,forward:vy,inverse:_y,names:Cy};function Ey(){Math.abs(this.lat1+this.lat2)<Jd||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Jm(this.es),this.e1=Qm(this.es),this.e2=$m(this.es),this.e3=tA(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=zp(this.e,this.sinphi,this.cosphi),this.ml1=Km(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<Jd?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=zp(this.e,this.sinphi,this.cosphi),this.ml2=Km(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Km(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function wy(t){var e,n=t.x,i=t.y;if(this.sphere)e=this.a*(this.g-i);else{var r=Km(this.e0,this.e1,this.e2,this.e3,i);e=this.a*(this.g-r)}var o=this.ns*Vp(n-this.long0),s=this.x0+e*Math.sin(o),a=this.y0+this.rh-e*Math.cos(o);return t.x=s,t.y=a,t}function by(t){var e,n,i,r;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;if(0!==n&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere)return r=Vp(this.long0+o/this.ns),i=nA(this.g-n/this.a),t.x=r,t.y=i,t;var s=this.g-n/this.a;return i=iA(s,this.e0,this.e1,this.e2,this.e3),r=Vp(this.long0+o/this.ns),t.x=r,t.y=i,t}var xy=["Equidistant_Conic","eqdc"],Sy={init:Ey,forward:wy,inverse:by,names:xy};function Py(){this.R=this.a}function My(t){var e,n,i=t.x,r=t.y,o=Vp(i-this.long0);Math.abs(r)<=Jd&&(e=this.x0+this.R*o,n=this.y0);var s=SA(2*Math.abs(r/Math.PI));(Math.abs(o)<=Jd||Math.abs(Math.abs(r)-qd)<=Jd)&&(e=this.x0,n=r>=0?this.y0+Math.PI*this.R*Math.tan(.5*s):this.y0+Math.PI*this.R*-Math.tan(.5*s));var a=.5*Math.abs(Math.PI/o-o/Math.PI),l=a*a,c=Math.sin(s),u=Math.cos(s),h=u/(c+u-1),d=h*h,p=h*(2/c-1),g=p*p,f=Math.PI*this.R*(a*(h-g)+Math.sqrt(l*(h-g)*(h-g)-(g+l)*(d-g)))/(g+l);o<0&&(f=-f),e=this.x0+f;var m=l+h;return f=Math.PI*this.R*(p*m-a*Math.sqrt((g+l)*(l+1)-m*m))/(g+l),n=r>=0?this.y0+f:this.y0-f,t.x=e,t.y=n,t}function Ry(t){var e,n,i,r,o,s,a,l,c,u,h,d,p;return t.x-=this.x0,t.y-=this.y0,h=Math.PI*this.R,i=t.x/h,r=t.y/h,o=i*i+r*r,s=-Math.abs(r)*(1+o),a=s-2*r*r+i*i,l=-2*s+1+2*r*r+o*o,p=r*r/l+(2*a*a*a/l/l/l-9*s*a/l/l)/27,c=(s-a*a/3/l)/l,u=2*Math.sqrt(-c/3),h=3*p/c/u,Math.abs(h)>1&&(h=h>=0?1:-1),d=Math.acos(h)/3,n=t.y>=0?(-u*Math.cos(d+Math.PI/3)-a/3/l)*Math.PI:-(-u*Math.cos(d+Math.PI/3)-a/3/l)*Math.PI,e=Math.abs(i)<Jd?this.long0:Vp(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(i*i-r*r)+o*o))/2/i),t.x=e,t.y=n,t}var Ty=["Van_der_Grinten_I","VanDerGrinten","vandg"],Gy={init:Py,forward:My,inverse:Ry,names:Ty};function Ly(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function ky(t){var e,n,i,r,o,s,a,l,c,u,h,d,p,g,f,m,A,y,v,_,C,I,E,w=t.x,b=t.y,x=Math.sin(t.y),S=Math.cos(t.y),P=Vp(w-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=Jd?(t.x=this.x0+this.a*(qd-b)*Math.sin(P),t.y=this.y0-this.a*(qd-b)*Math.cos(P),t):Math.abs(this.sin_p12+1)<=Jd?(t.x=this.x0+this.a*(qd+b)*Math.sin(P),t.y=this.y0+this.a*(qd+b)*Math.cos(P),t):(y=this.sin_p12*x+this.cos_p12*S*Math.cos(P),m=Math.acos(y),A=m?m/Math.sin(m):1,t.x=this.x0+this.a*A*S*Math.sin(P),t.y=this.y0+this.a*A*(this.cos_p12*x-this.sin_p12*S*Math.cos(P)),t):(e=Jm(this.es),n=Qm(this.es),i=$m(this.es),r=tA(this.es),Math.abs(this.sin_p12-1)<=Jd?(o=this.a*Km(e,n,i,r,qd),s=this.a*Km(e,n,i,r,b),t.x=this.x0+(o-s)*Math.sin(P),t.y=this.y0-(o-s)*Math.cos(P),t):Math.abs(this.sin_p12+1)<=Jd?(o=this.a*Km(e,n,i,r,qd),s=this.a*Km(e,n,i,r,b),t.x=this.x0+(o+s)*Math.sin(P),t.y=this.y0+(o+s)*Math.cos(P),t):(a=x/S,l=eA(this.a,this.e,this.sin_p12),c=eA(this.a,this.e,x),u=Math.atan((1-this.es)*a+this.es*l*this.sin_p12/(c*S)),h=Math.atan2(Math.sin(P),this.cos_p12*Math.tan(u)-this.sin_p12*Math.cos(P)),v=0===h?Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):Math.abs(Math.abs(h)-Math.PI)<=Jd?-Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):Math.asin(Math.sin(P)*Math.cos(u)/Math.sin(h)),d=this.e*this.sin_p12/Math.sqrt(1-this.es),p=this.e*this.cos_p12*Math.cos(h)/Math.sqrt(1-this.es),g=d*p,f=p*p,_=v*v,C=_*v,I=C*v,E=I*v,m=l*v*(1-_*f*(1-f)/6+C/8*g*(1-2*f)+I/120*(f*(4-7*f)-3*d*d*(1-7*f))-E/48*g),t.x=this.x0+m*Math.sin(h),t.y=this.y0+m*Math.cos(h),t))}function Oy(t){var e,n,i,r,o,s,a,l,c,u,h,d,p,g,f,m,A,y,v,_,C,I,E,w;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*qd*this.a)return;return n=e/this.a,i=Math.sin(n),r=Math.cos(n),o=this.long0,Math.abs(e)<=Jd?s=this.lat0:(s=SA(r*this.sin_p12+t.y*i*this.cos_p12/e),a=Math.abs(this.lat0)-qd,o=Math.abs(a)<=Jd?this.lat0>=0?Vp(this.long0+Math.atan2(t.x,-t.y)):Vp(this.long0-Math.atan2(-t.x,t.y)):Vp(this.long0+Math.atan2(t.x*i,e*this.cos_p12*r-t.y*this.sin_p12*i))),t.x=o,t.y=s,t}return l=Jm(this.es),c=Qm(this.es),u=$m(this.es),h=tA(this.es),Math.abs(this.sin_p12-1)<=Jd?(d=this.a*Km(l,c,u,h,qd),e=Math.sqrt(t.x*t.x+t.y*t.y),p=d-e,s=iA(p/this.a,l,c,u,h),o=Vp(this.long0+Math.atan2(t.x,-1*t.y)),t.x=o,t.y=s,t):Math.abs(this.sin_p12+1)<=Jd?(d=this.a*Km(l,c,u,h,qd),e=Math.sqrt(t.x*t.x+t.y*t.y),p=e-d,s=iA(p/this.a,l,c,u,h),o=Vp(this.long0+Math.atan2(t.x,t.y)),t.x=o,t.y=s,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),m=Math.atan2(t.x,t.y),g=eA(this.a,this.e,this.sin_p12),A=Math.cos(m),y=this.e*this.cos_p12*A,v=-y*y/(1-this.es),_=3*this.es*(1-v)*this.sin_p12*this.cos_p12*A/(1-this.es),C=e/g,I=C-v*(1+v)*Math.pow(C,3)/6-_*(1+3*v)*Math.pow(C,4)/24,E=1-v*I*I/2-C*I*I*I/6,f=Math.asin(this.sin_p12*Math.cos(I)+this.cos_p12*Math.sin(I)*A),o=Vp(this.long0+Math.asin(Math.sin(m)*Math.sin(I)/Math.cos(f))),w=Math.sin(f),s=Math.atan2((w-this.es*E*this.sin_p12)*Math.tan(f),w*(1-this.es)),t.x=o,t.y=s,t)}var Dy=["Azimuthal_Equidistant","aeqd"],Ny={init:Ly,forward:ky,inverse:Oy,names:Dy};function Fy(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function Uy(t){var e,n,i,r,o,s,a,l,c=t.x,u=t.y;return i=Vp(c-this.long0),e=Math.sin(u),n=Math.cos(u),r=Math.cos(i),s=this.sin_p14*e+this.cos_p14*n*r,o=1,(s>0||Math.abs(s)<=Jd)&&(a=this.a*o*n*Math.sin(i),l=this.y0+this.a*o*(this.cos_p14*e-this.sin_p14*n*r)),t.x=a,t.y=l,t}function By(t){var e,n,i,r,o,s,a;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=SA(e/this.a),i=Math.sin(n),r=Math.cos(n),s=this.long0,Math.abs(e)<=Jd?(a=this.lat0,t.x=s,t.y=a,t):(a=SA(r*this.sin_p14+t.y*i*this.cos_p14/e),o=Math.abs(this.lat0)-qd,Math.abs(o)<=Jd?(s=this.lat0>=0?Vp(this.long0+Math.atan2(t.x,-t.y)):Vp(this.long0-Math.atan2(-t.x,t.y)),t.x=s,t.y=a,t):(s=Vp(this.long0+Math.atan2(t.x*i,e*this.cos_p14*r-t.y*this.sin_p14*i)),t.x=s,t.y=a,t))}var jy=["ortho"],zy={init:Fy,forward:Uy,inverse:By,names:jy},Wy={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Vy={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function Yy(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=qd-tp/2?this.face=Wy.TOP:this.lat0<=-(qd-tp/2)?this.face=Wy.BOTTOM:Math.abs(this.long0)<=tp?this.face=Wy.FRONT:Math.abs(this.long0)<=qd+tp?this.face=this.long0>0?Wy.RIGHT:Wy.LEFT:this.face=Wy.BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function Hy(t){var e,n,i,r,o,s,a={x:0,y:0},l={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,n=t.x,this.face===Wy.TOP)r=qd-e,n>=tp&&n<=qd+tp?(l.value=Vy.AREA_0,i=n-qd):n>qd+tp||n<=-(qd+tp)?(l.value=Vy.AREA_1,i=n>0?n-np:n+np):n>-(qd+tp)&&n<=-tp?(l.value=Vy.AREA_2,i=n+qd):(l.value=Vy.AREA_3,i=n);else if(this.face===Wy.BOTTOM)r=qd+e,n>=tp&&n<=qd+tp?(l.value=Vy.AREA_0,i=-n+qd):n<tp&&n>=-tp?(l.value=Vy.AREA_1,i=-n):n<-tp&&n>=-(qd+tp)?(l.value=Vy.AREA_2,i=-n-qd):(l.value=Vy.AREA_3,i=n>0?-n+np:-n-np);else{var c,u,h,d,p,g,f;this.face===Wy.RIGHT?n=Zy(n,+qd):this.face===Wy.BACK?n=Zy(n,+np):this.face===Wy.LEFT&&(n=Zy(n,-qd)),d=Math.sin(e),p=Math.cos(e),g=Math.sin(n),f=Math.cos(n),c=p*f,u=p*g,h=d,this.face===Wy.FRONT?(r=Math.acos(c),i=Xy(r,h,u,l)):this.face===Wy.RIGHT?(r=Math.acos(u),i=Xy(r,h,-c,l)):this.face===Wy.BACK?(r=Math.acos(-c),i=Xy(r,h,-u,l)):this.face===Wy.LEFT?(r=Math.acos(-u),i=Xy(r,h,c,l)):(r=i=0,l.value=Vy.AREA_0)}return s=Math.atan(12/np*(i+Math.acos(Math.sin(i)*Math.cos(tp))-qd)),o=Math.sqrt((1-Math.cos(r))/(Math.cos(s)*Math.cos(s))/(1-Math.cos(Math.atan(1/Math.cos(i))))),l.value===Vy.AREA_1?s+=qd:l.value===Vy.AREA_2?s+=np:l.value===Vy.AREA_3&&(s+=1.5*np),a.x=o*Math.cos(s),a.y=o*Math.sin(s),a.x=a.x*this.a+this.x0,a.y=a.y*this.a+this.y0,t.x=a.x,t.y=a.y,t}function qy(t){var e,n,i,r,o,s,a,l,c,u,h,d,p={lam:0,phi:0},g={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?g.value=Vy.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(g.value=Vy.AREA_1,e-=qd):t.x<0&&-t.x>=Math.abs(t.y)?(g.value=Vy.AREA_2,e=e<0?e+np:e-np):(g.value=Vy.AREA_3,e+=qd),c=np/12*Math.tan(e),o=Math.sin(c)/(Math.cos(c)-1/Math.sqrt(2)),s=Math.atan(o),i=Math.cos(e),r=Math.tan(n),a=1-i*i*r*r*(1-Math.cos(Math.atan(1/Math.cos(s)))),a<-1?a=-1:a>1&&(a=1),this.face===Wy.TOP)l=Math.acos(a),p.phi=qd-l,g.value===Vy.AREA_0?p.lam=s+qd:g.value===Vy.AREA_1?p.lam=s<0?s+np:s-np:g.value===Vy.AREA_2?p.lam=s-qd:p.lam=s;else if(this.face===Wy.BOTTOM)l=Math.acos(a),p.phi=l-qd,g.value===Vy.AREA_0?p.lam=-s+qd:g.value===Vy.AREA_1?p.lam=-s:g.value===Vy.AREA_2?p.lam=-s-qd:p.lam=s<0?-s-np:-s+np;else{var f,m,A;f=a,c=f*f,A=c>=1?0:Math.sqrt(1-c)*Math.sin(s),c+=A*A,m=c>=1?0:Math.sqrt(1-c),g.value===Vy.AREA_1?(c=m,m=-A,A=c):g.value===Vy.AREA_2?(m=-m,A=-A):g.value===Vy.AREA_3&&(c=m,m=A,A=-c),this.face===Wy.RIGHT?(c=f,f=-m,m=c):this.face===Wy.BACK?(f=-f,m=-m):this.face===Wy.LEFT&&(c=f,f=m,m=-c),p.phi=Math.acos(-A)-qd,p.lam=Math.atan2(m,f),this.face===Wy.RIGHT?p.lam=Zy(p.lam,-qd):this.face===Wy.BACK?p.lam=Zy(p.lam,-np):this.face===Wy.LEFT&&(p.lam=Zy(p.lam,+qd))}0!==this.es&&(u=p.phi<0?1:0,h=Math.tan(p.phi),d=this.b/Math.sqrt(h*h+this.one_minus_f_squared),p.phi=Math.atan(Math.sqrt(this.a*this.a-d*d)/(this.one_minus_f*d)),u&&(p.phi=-p.phi));return p.lam+=this.long0,t.x=p.lam,t.y=p.phi,t}function Xy(t,e,n,i){var r;return t<Jd?(i.value=Vy.AREA_0,r=0):(r=Math.atan2(e,n),Math.abs(r)<=tp?i.value=Vy.AREA_0:r>tp&&r<=qd+tp?(i.value=Vy.AREA_1,r-=qd):r>qd+tp||r<=-(qd+tp)?(i.value=Vy.AREA_2,r=r>=0?r-np:r+np):(i.value=Vy.AREA_3,r+=qd)),r}function Zy(t,e){var n=t+e;return n<-np?n+=ep:n>+np&&(n-=ep),n}var Ky=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"],Jy={init:Yy,forward:Hy,inverse:qy,names:Ky},Qy=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],$y=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],tv=.8487,ev=1.3523,nv=$d/5,iv=1/nv,rv=18,ov=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},sv=function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])};function av(t,e,n,i){for(var r=e;i;--i){var o=t(r);if(r-=o,Math.abs(o)<n)break}return r}function lv(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function cv(t){var e=Vp(t.x-this.long0),n=Math.abs(t.y),i=Math.floor(n*nv);i<0?i=0:i>=rv&&(i=rv-1),n=$d*(n-iv*i);var r={x:ov(Qy[i],n)*e,y:ov($y[i],n)};return t.y<0&&(r.y=-r.y),r.x=r.x*this.a*tv+this.x0,r.y=r.y*this.a*ev+this.y0,r}function uv(t){var e={x:(t.x-this.x0)/(this.a*tv),y:Math.abs(t.y-this.y0)/(this.a*ev)};if(e.y>=1)e.x/=Qy[rv][0],e.y=t.y<0?-qd:qd;else{var n=Math.floor(e.y*rv);for(n<0?n=0:n>=rv&&(n=rv-1);;)if($y[n][0]>e.y)--n;else{if(!($y[n+1][0]<=e.y))break;++n}var i=$y[n],r=5*(e.y-i[0])/($y[n+1][0]-i[0]);r=av((function(t){return(ov(i,t)-e.y)/sv(i,t)}),r,Jd,100),e.x/=ov(Qy[n],r),e.y=(5*n+r)*Qd,t.y<0&&(e.y=-e.y)}return e.x=Vp(e.x+this.long0),e}var hv=["Robinson","robin"],dv={init:lv,forward:cv,inverse:uv,names:hv};function pv(){this.name="geocent"}function gv(t){var e=Tg(t,this.es,this.a);return e}function fv(t){var e=Gg(t,this.es,this.a,this.b);return e}var mv=["Geocentric","geocentric","geocent","Geocent"],Av={init:pv,forward:gv,inverse:fv,names:mv},yv={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},vv={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function _v(){if(Object.keys(vv).forEach(function(t){if("undefined"===typeof this[t])this[t]=vv[t].def;else{if(vv[t].num&&isNaN(this[t]))throw new Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);vv[t].num&&(this[t]=parseFloat(this[t]))}vv[t].degrees&&(this[t]=this[t]*Qd)}.bind(this)),Math.abs(Math.abs(this.lat0)-qd)<Jd?this.mode=this.lat0<0?yv.S_POLE:yv.N_POLE:Math.abs(this.lat0)<Jd?this.mode=yv.EQUIT:(this.mode=yv.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)}function Cv(t){t.x-=this.long0;var e,n,i,r,o=Math.sin(t.y),s=Math.cos(t.y),a=Math.cos(t.x);switch(this.mode){case yv.OBLIQ:n=this.sinph0*o+this.cosph0*s*a;break;case yv.EQUIT:n=s*a;break;case yv.S_POLE:n=-o;break;case yv.N_POLE:n=o;break}switch(n=this.pn1/(this.p-n),e=n*s*Math.sin(t.x),this.mode){case yv.OBLIQ:n*=this.cosph0*o-this.sinph0*s*a;break;case yv.EQUIT:n*=o;break;case yv.N_POLE:n*=-s*a;break;case yv.S_POLE:n*=s*a;break}return i=n*this.cg+e*this.sg,r=1/(i*this.sw*this.h1+this.cw),e=(e*this.cg-n*this.sg)*this.cw*r,n=i*r,t.x=e*this.a,t.y=n*this.a,t}function Iv(t){t.x/=this.a,t.y/=this.a;var e,n,i,r={x:t.x,y:t.y};i=1/(this.pn1-t.y*this.sw),e=this.pn1*t.x*i,n=this.pn1*t.y*this.cw*i,t.x=e*this.cg+n*this.sg,t.y=n*this.cg-e*this.sg;var o=qf(t.x,t.y);if(Math.abs(o)<Jd)r.x=0,r.y=t.y;else{var s,a;switch(a=1-o*o*this.pfact,a=(this.p-Math.sqrt(a))/(this.pn1/o+o/this.pn1),s=Math.sqrt(1-a*a),this.mode){case yv.OBLIQ:r.y=Math.asin(s*this.sinph0+t.y*a*this.cosph0/o),t.y=(s-this.sinph0*Math.sin(r.y))*o,t.x*=a*this.cosph0;break;case yv.EQUIT:r.y=Math.asin(t.y*a/o),t.y=s*o,t.x*=a;break;case yv.N_POLE:r.y=Math.asin(s),t.y=-t.y;break;case yv.S_POLE:r.y=-Math.asin(s);break}r.x=Math.atan2(t.x,t.y)}return t.x=r.x+this.long0,t.y=r.y,t}var Ev=["Tilted_Perspective","tpers"],wv={init:_v,forward:Cv,inverse:Iv,names:Ev};function bv(){if(this.flip_axis="x"===this.sweep?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,0!==this.es){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function xv(t){var e,n,i,r,o=t.x,s=t.y;if(o-=this.long0,"ellipse"===this.shape){s=Math.atan(this.radius_p2*Math.tan(s));var a=this.radius_p/qf(this.radius_p*Math.cos(s),Math.sin(s));if(n=a*Math.cos(o)*Math.cos(s),i=a*Math.sin(o)*Math.cos(s),r=a*Math.sin(s),(this.radius_g-n)*n-i*i-r*r*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;e=this.radius_g-n,this.flip_axis?(t.x=this.radius_g_1*Math.atan(i/qf(r,e)),t.y=this.radius_g_1*Math.atan(r/e)):(t.x=this.radius_g_1*Math.atan(i/e),t.y=this.radius_g_1*Math.atan(r/qf(i,e)))}else"sphere"===this.shape&&(e=Math.cos(s),n=Math.cos(o)*e,i=Math.sin(o)*e,r=Math.sin(s),e=this.radius_g-n,this.flip_axis?(t.x=this.radius_g_1*Math.atan(i/qf(r,e)),t.y=this.radius_g_1*Math.atan(r/e)):(t.x=this.radius_g_1*Math.atan(i/e),t.y=this.radius_g_1*Math.atan(r/qf(i,e))));return t.x=t.x*this.a,t.y=t.y*this.a,t}function Sv(t){var e,n,i,r,o=-1,s=0,a=0;if(t.x=t.x/this.a,t.y=t.y/this.a,"ellipse"===this.shape){this.flip_axis?(a=Math.tan(t.y/this.radius_g_1),s=Math.tan(t.x/this.radius_g_1)*qf(1,a)):(s=Math.tan(t.x/this.radius_g_1),a=Math.tan(t.y/this.radius_g_1)*qf(1,s));var l=a/this.radius_p;if(e=s*s+l*l+o*o,n=2*this.radius_g*o,i=n*n-4*e*this.C,i<0)return t.x=Number.NaN,t.y=Number.NaN,t;r=(-n-Math.sqrt(i))/(2*e),o=this.radius_g+r*o,s*=r,a*=r,t.x=Math.atan2(s,o),t.y=Math.atan(a*Math.cos(t.x)/o),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if("sphere"===this.shape){if(this.flip_axis?(a=Math.tan(t.y/this.radius_g_1),s=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+a*a)):(s=Math.tan(t.x/this.radius_g_1),a=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+s*s)),e=s*s+a*a+o*o,n=2*this.radius_g*o,i=n*n-4*e*this.C,i<0)return t.x=Number.NaN,t.y=Number.NaN,t;r=(-n-Math.sqrt(i))/(2*e),o=this.radius_g+r*o,s*=r,a*=r,t.x=Math.atan2(s,o),t.y=Math.atan(a*Math.cos(t.x)/o)}return t.x=t.x+this.long0,t}var Pv=["Geostationary Satellite View","Geostationary_Satellite","geos"],Mv={init:bv,forward:xv,inverse:Sv,names:Pv};function Rv(t){t.Proj.projections.add(Yf),t.Proj.projections.add(rm),t.Proj.projections.add(cm),t.Proj.projections.add(Cm),t.Proj.projections.add(Sm),t.Proj.projections.add(Gm),t.Proj.projections.add(Um),t.Proj.projections.add(Vm),t.Proj.projections.add(Zm),t.Proj.projections.add(lA),t.Proj.projections.add(xA),t.Proj.projections.add(LA),t.Proj.projections.add(FA),t.Proj.projections.add(VA),t.Proj.projections.add(ZA),t.Proj.projections.add(ey),t.Proj.projections.add(sy),t.Proj.projections.add(hy),t.Proj.projections.add(Ay),t.Proj.projections.add(Iy),t.Proj.projections.add(Sy),t.Proj.projections.add(Gy),t.Proj.projections.add(Ny),t.Proj.projections.add(zy),t.Proj.projections.add(Jy),t.Proj.projections.add(dv),t.Proj.projections.add(Av),t.Proj.projections.add(wv),t.Proj.projections.add(Mv)}Kg.defaultDatum="WGS84",Kg.Proj=Mg,Kg.WGS84=new Kg.Proj("WGS84"),Kg.Point=wf,Kg.toPoint=jg,Kg.defs=Rp,Kg.nadgrid=Ag,Kg.transform=Yg,Kg.mgrs=sf,Kg.version="__VERSION__",Rv(Kg);var Tv=Kg,Gv=n(2899),Lv=Pn.getLogger("CRS");function kv(t){const e=Object.keys(t.defs);Lv.trace("proj. codes :",e);const n=e.length;let i,r;for(i=0;i<n;++i){const n=e[i];if(!(0,Z.Jt)(n)){const e=t.defs(n);(0,Z.bF)(new tr.A({code:n,axisOrientation:e.axis,metersPerUnit:e.to_meter,units:e.units}))}}for(i=0;i<n;++i){const o=e[i],s=(0,Z.Jt)(o);for(r=0;r<n;++r){const n=e[r],i=(0,Z.Jt)(n);if(!(0,Gv.Jt)(o,n))if(t.defs[o]===t.defs[n])(0,Z.O3)([s,i]);else{const e=t(o,n);(0,Z.hB)(s,i,e.forward,e.inverse)}}}}var Ov={isLoaded:!1,get:function(t){if(""!==t&&null!==t&&"undefined"!==typeof t){var e=t.split(":");if(2===e.length){var n=e[0],i=e[1];if(this.hasOwnProperty(n)&&this[n].hasOwnProperty(i))return this[n][i]}}},exist:function(t){if(""===t||null===t||"undefined"===typeof t)return!1;var e=t.split(":");if(2!==e.length)return!1;var n=e[0],i=e[1];return!!this.hasOwnProperty(n)&&!!this[n].hasOwnProperty(i)},load:function(t){if(!this.isLoaded){for(var e=["IGNF","EPSG","CRS"],n=0;n<e.length;n++){var i=e[n],r=this[i];for(var o in r)if(r.hasOwnProperty(o)){var s=i+":"+o;t.defs(s,this.get(s))}}this.isLoaded=!0}},loadByDefault:function(t){var e={EPSG:{2154:Ov["EPSG"]["2154"],27571:Ov["EPSG"]["27571"],27572:Ov["EPSG"]["27572"],27573:Ov["EPSG"]["27573"],27574:Ov["EPSG"]["27574"]},CRS:{84:Ov["CRS"]["84"]},IGNF:{LAMB93:Ov["IGNF"]["LAMB93"],LAMBE:Ov["IGNF"]["LAMBE"],LAMB1:Ov["IGNF"]["LAMB1"],LAMB2:Ov["IGNF"]["LAMB2"],LAMB3:Ov["IGNF"]["LAMB3"],LAMB4:Ov["IGNF"]["LAMB4"],RGF93G:Ov["IGNF"]["RGF93G"],WGS84G:Ov["IGNF"]["WGS84G"]}};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];for(var r in i)if(i.hasOwnProperty(r)){var o=n+":"+r;t.defs(o,i[r])}}},loadByName:function(t,e){if(!this.exist(e))return!1;try{t.defs(e,this.get(e))}catch(YE){return!1}return!0},EPSG:{4978:"+proj=geocent +datum=WGS84 +units=m +no_defs ",3857:"+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs",3785:"+title=WGS 84 / Pseudo-Mercator (deprecated) +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs",4149:"+title=CH1903 +proj=longlat +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +no_defs ",4150:"+title=CH1903plus +proj=longlat +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +no_defs ",4151:"+title=CHTRF95 +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ",4171:"+title=RGF93 +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ",4230:"+title=ED50 +proj=longlat +ellps=intl +no_defs ",4235:"+title=Guyane Francaise +proj=longlat +ellps=intl +no_defs ",4258:"+title=ETRS89 +proj=longlat +ellps=GRS80 +no_defs ",4275:"+title=NTF +proj=longlat +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +no_defs ",4322:"+title=WGS 72 +proj=longlat +ellps=WGS72 +no_defs ",4326:"+title=WGS 84 +proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs ",4467:"+proj=utm +zone=21 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",4470:"+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ",4471:"+proj=utm +zone=38 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",4474:"+proj=utm +zone=38 +south +ellps=intl +towgs84=-382,-59,-262,0,0,0,0 +units=m +no_defs ",4558:"+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ",4559:"+proj=utm +zone=20 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",4621:"+title=Fort Marigot +proj=longlat +ellps=intl +towgs84=137,248,-430,0,0,0,0 +no_defs ",4622:"+title=Guadeloupe 1948 +proj=longlat +ellps=intl +no_defs ",4623:"+title=CSG67 +proj=longlat +ellps=intl +towgs84=-186,230,110,0,0,0,0 +no_defs ",4624:"+title=RGFG95 +proj=longlat +ellps=GRS80 +towgs84=2,2,-2,0,0,0,0 +no_defs ",4625:"+title=Martinique 1938 +proj=longlat +ellps=intl +no_defs ",4626:"+title=Reunion 1947 +proj=longlat +ellps=intl +no_defs ",4627:"+title=RGR92 +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ",4628:"+title=Tahiti 52 +proj=longlat +ellps=intl +towgs84=162,117,154,0,0,0,0 +no_defs ",4629:"+title=Tahaa 54 +proj=longlat +ellps=intl +no_defs ",4630:"+title=IGN72 Nuku Hiva +proj=longlat +ellps=intl +no_defs ",4632:"+title=Combani 1950 +proj=longlat +ellps=intl +towgs84=-382,-59,-262,0,0,0,0 +no_defs ",4633:"+title=IGN56 Lifou +proj=longlat +ellps=intl +no_defs ",4634:"+title=IGN72 Grand Terre +proj=longlat +ellps=intl +no_defs ",4637:"+title=Perroud 1950 +proj=longlat +ellps=intl +towgs84=325,154,172,0,0,0,0 +no_defs ",4638:"+title=Saint Pierre et Miquelon 1950 +proj=longlat +ellps=clrk66 +towgs84=30,430,368,0,0,0,0 +no_defs ",4640:"+title=RRAF 1991 +proj=longlat +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +no_defs ",4641:"+title=IGN53 Mare +proj=longlat +ellps=intl +no_defs ",4645:"+title=RGNC 1991 +proj=longlat +ellps=intl +towgs84=0,0,0,0,0,0,0 +no_defs ",4687:"+proj=longlat +ellps=GRS80 +no_defs ",4662:"+title=IGN72 Grande Terre +proj=longlat +ellps=intl +no_defs ",4689:"+title=IGN63 Hiva Oa +proj=longlat +ellps=intl +no_defs ",4690:"+title=Tahiti 79 +proj=longlat +ellps=intl +no_defs ",4691:"+title=Moorea 87 +proj=longlat +ellps=intl +towgs84=215.525,149.593,176.229,-3.2624,-1.692,-1.1571,10.4773 +no_defs ",4692:"+title=Maupiti 83 +proj=longlat +ellps=intl +towgs84=217.037,86.959,23.956,0,0,0,0 +no_defs ",4698:"+title=IGN 1962 Kerguelen +proj=longlat +ellps=intl +towgs84=145,-187,103,0,0,0,0 +no_defs ",4749:"+title=RGNC91-93 +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ",4750:"+title=ST87 Ouvea +proj=longlat +ellps=WGS84 +towgs84=-56.263,16.136,-22.856,0,0,0,0 +no_defs ",4807:"+title=NTF (Paris) +proj=longlat +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +no_defs ",2056:"+title=CH1903+ / LV95 +proj=somerc +lat_0=46.95240555555556 +lon_0=7.439583333333333 +x_0=2600000 +y_0=1200000 +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +units=m +no_defs ",2154:"+title=RGF93 / Lambert-93 +proj=lcc +lat_1=49 +lat_2=44 +lat_0=46.5 +lon_0=3 +x_0=700000 +y_0=6600000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",2213:"+title=ETRS89 / TM 30 NE +proj=tmerc +lat_0=0 +lon_0=30 +k=0.9996 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ",2969:"+title=Fort Marigot / UTM zone 20N +proj=utm +zone=20 +ellps=intl +towgs84=137,248,-430,0,0,0,0 +units=m +no_defs ",2970:"+title=Guadeloupe 1948 / UTM zone 20N +proj=utm +zone=20 +ellps=intl +units=m +no_defs ",2971:"+title=CSG67 / UTM zone 22N +proj=utm +zone=22 +ellps=intl +towgs84=-186,230,110,0,0,0,0 +units=m +no_defs ",2972:"+title=RGFG95 / UTM zone 22N +proj=utm +zone=22 +ellps=GRS80 +towgs84=2,2,-2,0,0,0,0 +units=m +no_defs ",2973:"+title=Martinique 1938 / UTM zone 20N +proj=utm +zone=20 +ellps=intl +units=m +no_defs ",2975:"+title=RGR92 / UTM zone 40S +proj=utm +zone=40 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",2976:"+title=Tahiti 52 / UTM zone 6S +proj=utm +zone=6 +south +ellps=intl +towgs84=162,117,154,0,0,0,0 +units=m +no_defs ",2977:"+title=Tahaa 54 / UTM zone 5S +proj=utm +zone=5 +south +ellps=intl +units=m +no_defs ",2978:"+title=IGN72 Nuku Hiva / UTM zone 7S +proj=utm +zone=7 +south +ellps=intl +units=m +no_defs ",2980:"+title=Combani 1950 / UTM zone 38S +proj=utm +zone=38 +south +ellps=intl +towgs84=-382,-59,-262,0,0,0,0 +units=m +no_defs ",2981:"+title=IGN56 Lifou / UTM zone 58S +proj=utm +zone=58 +south +ellps=intl +units=m +no_defs ",2982:"+title=IGN72 Grand Terre / UTM zone 58S (deprecated) +proj=utm +zone=58 +south +ellps=intl +units=m +no_defs ",2984:"+title=RGNC 1991 / Lambert New Caledonia (deprecated) +proj=lcc +lat_1=-20.66666666666667 +lat_2=-22.33333333333333 +lat_0=-21.5 +lon_0=166 +x_0=400000 +y_0=300000 +ellps=intl +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",2986:"+title=Terre Adelie 1950 +proj=stere +towgs84=324.9120,153.2820,172.0260 +a=6378388.0000 +rf=297.0000000000000 +lat_0=-90.000000000 +lon_0=140.000000000 +lat_ts=-67.000000000 +k=0.96027295 +x_0=300000.000 +y_0=-2299363.482 +units=m +no_defs",2987:"+title=Saint Pierre et Miquelon 1950 / UTM zone 21N +proj=utm +zone=21 +ellps=clrk66 +towgs84=30,430,368,0,0,0,0 +units=m +no_defs ",2989:"+title=RRAF 1991 / UTM zone 20N +proj=utm +zone=20 +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",2990:"+title=Reunion 1947 / TM Reunion (deprecated) +proj=tmerc +lat_0=-21.11666666666667 +lon_0=55.53333333333333 +k=1 +x_0=50000 +y_0=160000 +ellps=intl +units=m +no_defs ",2995:"+title=IGN53 Mare / UTM zone 58S +proj=utm +zone=58 +south +ellps=intl +units=m +no_defs ",3038:"+proj=utm +zone=26 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3039:"+proj=utm +zone=27 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3040:"+proj=utm +zone=28 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3041:"+proj=utm +zone=29 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3045:"+proj=utm +zone=33 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3046:"+proj=utm +zone=34 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3047:"+proj=utm +zone=35 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3048:"+proj=utm +zone=36 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3049:"+proj=utm +zone=37 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3050:"+proj=utm +zone=38 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3051:"+proj=utm +zone=39 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3034:"+title=ETRS89 / ETRS-LCC +proj=lcc +lat_1=35 +lat_2=65 +lat_0=52 +lon_0=10 +x_0=4000000 +y_0=2800000 +ellps=GRS80 +units=m +no_defs ",3035:"+title=ETRS89 / ETRS-LAEA +proj=laea +lat_0=52 +lon_0=10 +x_0=4321000 +y_0=3210000 +ellps=GRS80 +units=m +no_defs ",3042:"+title=ETRS89 / ETRS-TM30 +proj=utm +zone=30 +ellps=GRS80 +units=m +no_defs ",3043:"+title=ETRS89 / ETRS-TM31 +proj=utm +zone=31 +ellps=GRS80 +units=m +no_defs ",3044:"+title=ETRS89 / ETRS-TM32 +proj=utm +zone=32 +ellps=GRS80 +units=m +no_defs ",25828:"+proj=utm +zone=28 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",25829:"+proj=utm +zone=29 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",25833:"+proj=utm +zone=33 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",25834:"+proj=utm +zone=34 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",25835:"+proj=utm +zone=35 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",25836:"+proj=utm +zone=36 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",25837:"+proj=utm +zone=37 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",25838:"+proj=utm +zone=38 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3060:"+title=IGN72 Grande Terre / UTM zone 58S +proj=utm +zone=58 +south +ellps=intl +units=m +no_defs ",3163:"+title=RGNC91-93 / Lambert New Caledonia +proj=lcc +lat_1=-20.66666666666667 +lat_2=-22.33333333333333 +lat_0=-21.5 +lon_0=166 +x_0=400000 +y_0=300000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3164:"+title=ST87 Ouvea / UTM zone 58S +proj=utm +zone=58 +south +ellps=WGS84 +towgs84=-56.263,16.136,-22.856,0,0,0,0 +units=m +no_defs ",3165:"+title=NEA74 Noumea / Noumea Lambert +proj=lcc +lat_1=-22.24469175 +lat_2=-22.29469175 +lat_0=-22.26969175 +lon_0=166.44242575 +x_0=0.66 +y_0=1.02 +ellps=intl +units=m +no_defs ",3166:"+title=NEA74 Noumea / Noumea Lambert 2 +proj=lcc +lat_1=-22.24472222222222 +lat_2=-22.29472222222222 +lat_0=-22.26972222222222 +lon_0=166.4425 +x_0=8.313000000000001 +y_0=-2.354 +ellps=intl +units=m +no_defs ",3169:"+title=RGNC91-93 / UTM zone 57S +proj=utm +zone=57 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3170:"+title=RGNC91-93 / UTM zone 58S +proj=utm +zone=58 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3171:"+title=RGNC91-93 / UTM zone 59S +proj=utm +zone=59 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3172:"+title=IGN53 Mare / UTM zone 59S +proj=utm +zone=59 +south +ellps=intl +units=m +no_defs ",3296:"+title=RGPF / UTM zone 5S +proj=utm +zone=5 +south +ellps=GRS80 +units=m +no_defs ",3297:"+title=RGPF / UTM zone 6S +proj=utm +zone=6 +south +ellps=GRS80 +units=m +no_defs ",3298:"+title=RGPF / UTM zone 7S +proj=utm +zone=7 +south +ellps=GRS80 +units=m +no_defs ",3299:"+title=RGPF / UTM zone 8S +proj=utm +zone=8 +south +ellps=GRS80 +units=m +no_defs ",3302:"+title=IGN63 Hiva Oa / UTM zone 7S +proj=utm +zone=7 +south +ellps=intl +units=m +no_defs ",3303:"+title=Fatu Iva 72 / UTM zone 7S +proj=utm +zone=7 +south +ellps=intl +towgs84=347.103,1078.12,2623.92,-33.8875,70.6773,-9.3943,186.074 +units=m +no_defs ",3304:"+title=Tahiti 79 / UTM zone 6S +proj=utm +zone=6 +south +ellps=intl +units=m +no_defs ",3305:"+title=Moorea 87 / UTM zone 6S +proj=utm +zone=6 +south +ellps=intl +towgs84=215.525,149.593,176.229,-3.2624,-1.692,-1.1571,10.4773 +units=m +no_defs ",3306:"+title=Maupiti 83 / UTM zone 5S +proj=utm +zone=5 +south +ellps=intl +towgs84=217.037,86.959,23.956,0,0,0,0 +units=m +no_defs ",3312:"+title=CSG67 / UTM zone 21N +proj=utm +zone=21 +ellps=intl +towgs84=-186,230,110,0,0,0,0 +units=m +no_defs ",3313:"+title=RGFG95 / UTM zone 21N +proj=utm +zone=21 +ellps=GRS80 +towgs84=2,2,-2,0,0,0,0 +units=m +no_defs ",3336:"+title=IGN 1962 Kerguelen / UTM zone 42S +proj=utm +zone=42 +south +ellps=intl +towgs84=145,-187,103,0,0,0,0 +units=m +no_defs ",3395:"+title=WGS 84 / World Mercator +proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",3727:"+title=Reunion 1947 / TM Reunion +proj=tmerc +lat_0=-21.11666666666667 +lon_0=55.53333333333333 +k=1 +x_0=160000 +y_0=50000 +ellps=intl +units=m +no_defs ",21781:"+title=CH1903 / LV03 +proj=somerc +lat_0=46.95240555555556 +lon_0=7.439583333333333 +x_0=600000 +y_0=200000 +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +units=m +no_defs ",25830:"+title=ETRS89 / UTM zone 30N +proj=utm +zone=30 +ellps=GRS80 +units=m +no_defs ",25831:"+title=ETRS89 / UTM zone 31N +proj=utm +zone=31 +ellps=GRS80 +units=m +no_defs ",25832:"+title=ETRS89 / UTM zone 32N +proj=utm +zone=32 +ellps=GRS80 +units=m +no_defs ",27561:"+title=NTF (Paris) / Lambert Nord France +proj=lcc +lat_1=49.50000000000001 +lat_0=49.50000000000001 +lon_0=0 +k_0=0.999877341 +x_0=600000 +y_0=200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27562:"+title=NTF (Paris) / Lambert Centre France +proj=lcc +lat_1=46.8 +lat_0=46.8 +lon_0=0 +k_0=0.99987742 +x_0=600000 +y_0=200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27563:"+title=NTF (Paris) / Lambert Sud France +proj=lcc +lat_1=44.10000000000001 +lat_0=44.10000000000001 +lon_0=0 +k_0=0.9998774990000001 +x_0=600000 +y_0=200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27564:"+title=NTF (Paris) / Lambert Corse +proj=lcc +lat_1=42.16500000000001 +lat_0=42.16500000000001 +lon_0=0 +k_0=0.9999447100000001 +x_0=234.358 +y_0=185861.369 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27571:"+title=NTF (Paris) / Lambert zone I +proj=lcc +lat_1=49.50000000000001 +lat_0=49.50000000000001 +lon_0=0 +k_0=0.999877341 +x_0=600000 +y_0=1200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27572:"+title=NTF (Paris) / Lambert zone II +proj=lcc +lat_1=46.8 +lat_0=46.8 +lon_0=0 +k_0=0.99987742 +x_0=600000 +y_0=2200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27573:"+title=NTF (Paris) / Lambert zone III +proj=lcc +lat_1=44.10000000000001 +lat_0=44.10000000000001 +lon_0=0 +k_0=0.9998774990000001 +x_0=600000 +y_0=3200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27574:"+title=NTF (Paris) / Lambert zone IV +proj=lcc +lat_1=42.16500000000001 +lat_0=42.16500000000001 +lon_0=0 +k_0=0.9999447100000001 +x_0=234.358 +y_0=4185861.369 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27581:"+title=NTF (Paris) / France I (deprecated) +proj=lcc +lat_1=49.50000000000001 +lat_0=49.50000000000001 +lon_0=0 +k_0=0.999877341 +x_0=600000 +y_0=1200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27582:"+title=NTF (Paris) / France II (deprecated) +proj=lcc +lat_1=46.8 +lat_0=46.8 +lon_0=0 +k_0=0.99987742 +x_0=600000 +y_0=2200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27583:"+title=NTF (Paris) / France III (deprecated) +proj=lcc +lat_1=44.10000000000001 +lat_0=44.10000000000001 +lon_0=0 +k_0=0.9998774990000001 +x_0=600000 +y_0=3200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27584:"+title=NTF (Paris) / France IV (deprecated) +proj=lcc +lat_1=42.16500000000001 +lat_0=42.16500000000001 +lon_0=0 +k_0=0.9999447100000001 +x_0=234.358 +y_0=4185861.369 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27591:"+title=NTF (Paris) / Nord France (deprecated) +proj=lcc +lat_1=49.50000000000001 +lat_0=49.50000000000001 +lon_0=0 +k_0=0.999877341 +x_0=600000 +y_0=200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27592:"+title=NTF (Paris) / Centre France (deprecated) +proj=lcc +lat_1=46.8 +lat_0=46.8 +lon_0=0 +k_0=0.99987742 +x_0=600000 +y_0=200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27593:"+title=NTF (Paris) / Sud France (deprecated) +proj=lcc +lat_1=44.10000000000001 +lat_0=44.10000000000001 +lon_0=0 +k_0=0.9998774990000001 +x_0=600000 +y_0=200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27594:"+title=NTF (Paris) / Corse (deprecated) +proj=lcc +lat_1=42.16500000000001 +lat_0=42.16500000000001 +lon_0=0 +k_0=0.9999447100000001 +x_0=234.358 +y_0=185861.369 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",32601:"+proj=utm +zone=1 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32602:"+proj=utm +zone=2 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32603:"+proj=utm +zone=3 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32604:"+proj=utm +zone=4 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32605:"+proj=utm +zone=5 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32606:"+proj=utm +zone=6 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32607:"+proj=utm +zone=7 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32608:"+proj=utm +zone=8 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32609:"+proj=utm +zone=9 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32610:"+proj=utm +zone=10 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32611:"+proj=utm +zone=11 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32612:"+proj=utm +zone=12 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32613:"+proj=utm +zone=13 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32614:"+proj=utm +zone=14 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32615:"+proj=utm +zone=15 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32616:"+proj=utm +zone=16 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32617:"+proj=utm +zone=17 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32618:"+proj=utm +zone=18 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32619:"+proj=utm +zone=19 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32620:"+proj=utm +zone=20 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32621:"+proj=utm +zone=21 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32622:"+proj=utm +zone=22 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32623:"+proj=utm +zone=23 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32624:"+proj=utm +zone=24 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32625:"+proj=utm +zone=25 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32626:"+proj=utm +zone=26 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32627:"+proj=utm +zone=27 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32628:"+proj=utm +zone=28 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32629:"+proj=utm +zone=29 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32630:"+proj=utm +zone=30 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32631:"+proj=utm +zone=31 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32632:"+proj=utm +zone=32 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32633:"+proj=utm +zone=33 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32634:"+proj=utm +zone=34 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32635:"+proj=utm +zone=35 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32636:"+proj=utm +zone=36 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32637:"+proj=utm +zone=37 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32638:"+proj=utm +zone=38 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32639:"+proj=utm +zone=39 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32640:"+proj=utm +zone=40 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32641:"+proj=utm +zone=41 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32642:"+proj=utm +zone=42 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32643:"+proj=utm +zone=43 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32644:"+proj=utm +zone=44 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32645:"+proj=utm +zone=45 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32646:"+proj=utm +zone=46 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32647:"+proj=utm +zone=47 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32648:"+proj=utm +zone=48 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32649:"+proj=utm +zone=49 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32650:"+proj=utm +zone=50 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32651:"+proj=utm +zone=51 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32652:"+proj=utm +zone=52 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32653:"+proj=utm +zone=53 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32654:"+proj=utm +zone=54 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32655:"+proj=utm +zone=55 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32656:"+proj=utm +zone=56 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32657:"+proj=utm +zone=57 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32658:"+proj=utm +zone=58 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32659:"+proj=utm +zone=59 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32660:"+proj=utm +zone=60 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32661:"+proj=stere +lat_0=90 +lat_ts=90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32662:"+title=WGS 84 / Plate Carree +proj=eqc +lat_ts=0 +lon_0=0 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32701:"+proj=utm +zone=1 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32702:"+proj=utm +zone=2 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32703:"+proj=utm +zone=3 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32704:"+proj=utm +zone=4 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32705:"+proj=utm +zone=5 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32706:"+proj=utm +zone=6 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32707:"+proj=utm +zone=7 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32708:"+proj=utm +zone=8 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32709:"+proj=utm +zone=9 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32710:"+proj=utm +zone=10 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32711:"+proj=utm +zone=11 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32712:"+proj=utm +zone=12 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32713:"+proj=utm +zone=13 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32714:"+proj=utm +zone=14 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32715:"+proj=utm +zone=15 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32716:"+proj=utm +zone=16 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32717:"+proj=utm +zone=17 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32718:"+proj=utm +zone=18 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32719:"+proj=utm +zone=19 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32720:"+proj=utm +zone=20 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32721:"+proj=utm +zone=21 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32722:"+proj=utm +zone=22 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32723:"+proj=utm +zone=23 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32724:"+proj=utm +zone=24 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32725:"+proj=utm +zone=25 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32726:"+proj=utm +zone=26 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32727:"+proj=utm +zone=27 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32728:"+proj=utm +zone=28 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32729:"+proj=utm +zone=29 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32730:"+proj=utm +zone=30 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32731:"+proj=utm +zone=31 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32732:"+proj=utm +zone=32 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32733:"+proj=utm +zone=33 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32734:"+proj=utm +zone=34 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32735:"+proj=utm +zone=35 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32736:"+proj=utm +zone=36 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32737:"+proj=utm +zone=37 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32738:"+proj=utm +zone=38 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32739:"+proj=utm +zone=39 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32740:"+proj=utm +zone=40 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32741:"+proj=utm +zone=41 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32742:"+proj=utm +zone=42 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32743:"+proj=utm +zone=43 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32744:"+proj=utm +zone=44 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32745:"+proj=utm +zone=45 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32746:"+proj=utm +zone=46 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32747:"+proj=utm +zone=47 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32748:"+proj=utm +zone=48 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32749:"+proj=utm +zone=49 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32750:"+proj=utm +zone=50 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32751:"+proj=utm +zone=51 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32752:"+proj=utm +zone=52 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32753:"+proj=utm +zone=53 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32754:"+proj=utm +zone=54 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32755:"+proj=utm +zone=55 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32756:"+proj=utm +zone=56 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32757:"+proj=utm +zone=57 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32758:"+proj=utm +zone=58 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32759:"+proj=utm +zone=59 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32760:"+proj=utm +zone=60 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32761:"+proj=stere +lat_0=-90 +lat_ts=-90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",310024802:"+title=Geoportail - France metropolitaine +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=46.500000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310915814:"+title=Geoportail - Antilles francaises +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=15.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310486805:"+title=Geoportail - Guyane +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=4.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310700806:"+title=Geoportail - Reunion et dependances +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-21.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310702807:"+title=Geoportail - Mayotte +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-12.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310706808:"+title=Geoportail - Saint-Pierre et Miquelon +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=47.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310547809:"+title=Geoportail - Nouvelle-Caledonie +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-22.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310642810:"+title=Geoportail - Wallis et Futuna +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.000000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-14.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310032811:"+title=Geoportail - Polynesie francaise +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-15.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310642812:"+title=Geoportail - Kerguelen +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-49.500000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310642801:"+title=Geoportail - Crozet +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-46.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310642813:"+title=Geoportail - Amsterdam et Saint-Paul +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-38.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310642901:"+title=Geoportail - Monde +proj=mill +towgs84=0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.000000 +a=6378137.0000 +rf=298.2572221010000 +lon_0=0.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",5489:"+title=RGAF09 geographiques (dms) +proj=longlat +nadgrids=@null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137 +rf=298.257222101 +units=m +no_defs",5490:"+title=RGAF09 UTM Nord Fuseau 20 +proj=tmerc +nadgrids=@null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137 +rf=298.257222101 +lat_0=0.000000000 +lon_0=-63.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs"},CRS:{84:"+title=WGS 84 longitude-latitude +proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs "},IGNF:{AMST63:"+title=Amsterdam 1963 +proj=geocent +towgs84=109.753,-528.133,-362.244,0,0,0,0 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",CROZ63:"+title=Crozet 1963 +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",CSG67:"+title=Guyane CSG67 +proj=geocent +towgs84=-193.0660,236.9930,105.4470,0.4814,-0.8074,0.1276,1.564900 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",ED50:"+title=ED50 +proj=geocent +towgs84=-84.0000,-97.0000,-117.0000 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",ETRS89:"+title=Systeme de reference terrestre Europeen (1989) +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",GUAD48:"+title=Guadeloupe Ste Anne +proj=geocent +towgs84=-472.2900,-5.6300,-304.1200,0.4362,-0.8374,0.2563,1.898400 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",GUADFM49:"+title=Guadeloupe Fort Marigot +proj=geocent +towgs84=136.5960,248.1480,-429.7890 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",IGN63:"+title=IGN 1963 (Hiva Oa, Tahuata, Mohotani) +proj=geocent +towgs84=410.7210,55.0490,80.7460,-2.5779,-2.3514,-0.6664,17.331100 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",IGN72:"+title=IGN 1972 Grande-Terre / Ile des Pins +proj=geocent +towgs84=-11.6400,-348.6000,291.6800 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",KERG62CAR:"+title=Kerguelen - K0 +proj=geocent +towgs84=144.8990,-186.7700,100.9230 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",MART38:"+title=Martinique Fort-Desaix +proj=geocent +towgs84=126.9260,547.9390,130.4090,-2.7867,5.1612,-0.8584,13.822650 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",MAYO50:"+title=Mayotte Combani +proj=geocent +towgs84=-599.9280,-275.5520,-195.6650,-0.0835,-0.4715,0.0602,49.281400 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",MOOREA87:"+title=Moorea 1987 +proj=geocent +towgs84=215.9820,149.5930,176.2290,3.2624,1.6920,1.1571,10.477300 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",NTF:"+title=Nouvelle Triangulation Francaise +proj=geocent +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +units=m +no_defs",NUKU72:"+title=IGN 1972 Nuku Hiva +proj=geocent +towgs84=165.7320,216.7200,180.5050,-0.6434,-0.4512,-0.0791,7.420400 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",REUN47:"+title=Reunion 1947 +proj=geocent +towgs84=789.5240,-626.4860,-89.9040,0.6006,76.7946,-10.5788,-32.324100 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",RGF93:"+title=Reseau geodesique francais 1993 +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGFG95:"+title=Reseau geodesique francais de Guyane 1995 +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGM04:"+title=RGM04 (Reseau Geodesique de Mayotte 2004) +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGNC:"+title=Reseau Geodesique de Nouvelle-Caledonie +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGPF:"+title=RGPF (Reseau Geodesique de Polynesie Francaise) +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGR92:"+title=Reseau geodesique Reunion 1992 +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGSPM06:"+title=Reseau Geodesique Saint-Pierre-et-Miquelon (2006) +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGTAAF07:"+title=Reseau Geodesique des TAAF (2007) +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RRAF91:"+title=RRAF 1991 (Reseau de Reference des Antilles Francaises) +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",STPL69:"+title=Saint-Paul 1969 +proj=geocent +towgs84=225.571,-346.608,-46.567,0,0,0,0 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",STPM50:"+title=St Pierre et Miquelon 1950 +proj=geocent +towgs84=-95.5930,573.7630,173.4420,-0.9602,1.2510,-1.3918,42.626500 +a=6378206.4000 +rf=294.9786982000000 +units=m +no_defs",TAHAA:"+title=Raiatea - Tahaa 51-54 (Tahaa, Base Terme Est) +proj=geocent +towgs84=72.4380,345.9180,79.4860,-1.6045,-0.8823,-0.5565,1.374600 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",TAHI79:"+title=IGN79 (Tahiti) Iles de la Societe +proj=geocent +towgs84=221.5250,152.9480,176.7680,2.3847,1.3896,0.8770,11.474100 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",TERA50:"+title=Pointe Geologie - Perroud 1950 +proj=geocent +towgs84=324.9120,153.2820,172.0260 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",WALL78:"+title=Wallis-Uvea 1978 (MOP78) +proj=geocent +towgs84=253.0000,-133.0000,-127.0000 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",WGS72:"+title=World Geodetic System 1972 +proj=geocent +towgs84=0.0000,12.0000,6.0000 +a=6378135.0000 +rf=298.2600000000000 +units=m +no_defs",WGS84:"+title=World Geodetic System 1984 +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",AMST63GEO:"+title=Amsterdam 1963 +proj=longlat +towgs84=109.753,-528.133,-362.244,0,0,0,0 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",CROZ63GEO:"+title=Crozet 1963 +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",CSG67GEO:"+title=Guyane CSG67 +proj=longlat +towgs84=-193.0660,236.9930,105.4470,0.4814,-0.8074,0.1276,1.564900 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",ED50G:"+title=ED50 +proj=longlat +towgs84=-84.0000,-97.0000,-117.0000 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",GUAD48GEO:"+title=Guadeloupe Ste Anne +proj=longlat +towgs84=-472.2900,-5.6300,-304.1200,0.4362,-0.8374,0.2563,1.898400 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",GUADFM49GEO:"+title=Guadeloupe Fort Marigot +proj=longlat +towgs84=136.5960,248.1480,-429.7890 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",IGN63GEO:"+title=IGN 1963 (Hiva Oa, Tahuata, Mohotani) +proj=longlat +towgs84=410.7210,55.0490,80.7460,-2.5779,-2.3514,-0.6664,17.331100 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",IGN72GEO:"+title=IGN 1972 Grande-Terre / Ile des Pins +proj=longlat +towgs84=-11.6400,-348.6000,291.6800 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",KERG62GEO:"+title=Kerguelen - K0 +proj=longlat +towgs84=144.8990,-186.7700,100.9230 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",MART38GEO:"+title=Martinique Fort-Desaix +proj=longlat +towgs84=126.9260,547.9390,130.4090,-2.7867,5.1612,-0.8584,13.822650 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",MAYO50GEO:"+title=Mayotte Combani +proj=longlat +towgs84=-599.9280,-275.5520,-195.6650,-0.0835,-0.4715,0.0602,49.281400 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",MOOREA87GEO:"+title=Moorea 1987 +proj=longlat +towgs84=215.9820,149.5930,176.2290,3.2624,1.6920,1.1571,10.477300 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",NTFG:"+title=Nouvelle Triangulation Francaise Greenwich degres sexagesimaux +proj=longlat +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +units=m +no_defs",NTFP:"+title=Nouvelle Triangulation Francaise Paris grades +proj=longlat +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +units=m +no_defs",NUKU72GEO:"+title=IGN 1972 Nuku Hiva +proj=longlat +towgs84=165.7320,216.7200,180.5050,-0.6434,-0.4512,-0.0791,7.420400 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",REUN47GEO:"+title=Reunion 1947 +proj=longlat +towgs84=789.5240,-626.4860,-89.9040,0.6006,76.7946,-10.5788,-32.324100 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",RGF93G:"+title=Reseau geodesique francais 1993 +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGFG95GEO:"+title=Reseau geodesique francais de Guyane 1995 +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGM04GEO:"+title=RGM04 (Reseau Geodesique de Mayotte 2004) +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGNCGEO:"+title=Reseau Geodesique de Nouvelle-Caledonie +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGPFGEO:"+title=RGPF (Reseau Geodesique de Polynesie Francaise) +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGR92GEO:"+title=Reseau geodesique de la Reunion 1992 +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGSPM06GEO:"+title=Saint-Pierre-et-Miquelon (2006) +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGTAAF07G:"+title=Reseau Geodesique des TAAF (2007) (dms) +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",STPL69GEO:"+title=Saint-Paul 1969 +proj=longlat +towgs84=225.571,-346.608,-46.567,0,0,0,0 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",STPM50GEO:"+title=St Pierre et Miquelon 1950  +proj=longlat +towgs84=-95.5930,573.7630,173.4420,-0.9602,1.2510,-1.3918,42.626500 +a=6378206.4000 +rf=294.9786982000000 +units=m +no_defs",TAHAAGEO:"+title=Raiatea - Tahaa 51-54 (Tahaa, Base Terme Est) +proj=longlat +towgs84=72.4380,345.9180,79.4860,-1.6045,-0.8823,-0.5565,1.374600 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",TAHI79GEO:"+title=IGN79 (Tahiti) Iles de la Societe +proj=longlat +towgs84=221.5250,152.9480,176.7680,2.3847,1.3896,0.8770,11.474100 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",TERA50G:"+title=Pointe Geologie - Perroud 1950 +proj=longlat +towgs84=324.9120,153.2820,172.0260 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",WALL78GEO:"+title=Wallis - Uvea 1978 (MOP78) +proj=longlat +towgs84=253.0000,-133.0000,-127.0000 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",WGS72G:"+title=WGS72 +proj=longlat +towgs84=0.0000,12.0000,6.0000 +a=6378135.0000 +rf=298.2600000000000 +units=m +no_defs",WGS84G:"+title=World Geodetic System 1984 +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",WGS84RRAFGEO:"+title=Reseau de reference des Antilles francaises (1988-1991) +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",XGEO:"+title=Systeme CIO-BIH +proj=longlat +towgs84=0.0000,0.0000,0.5000,0.0000,0.0000,0.0140,-0.100000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",AMST63UTM43S:"+title=Amsterdam 1963 UTM fuseau 43 Sud +proj=tmerc +towgs84=109.753,-528.133,-362.244,0,0,0,0 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=75.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",CROZ63UTM39S:"+title=Crozet 1963 +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=51.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",CSG67UTM21:"+title=Guyane CSG67 UTM fuseau 21 +proj=tmerc +towgs84=-193.0660,236.9930,105.4470,0.4814,-0.8074,0.1276,1.564900 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-57.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",CSG67UTM22:"+title=Guyane CSG67 UTM fuseau 22 +proj=tmerc +towgs84=-193.0660,236.9930,105.4470,0.4814,-0.8074,0.1276,1.564900 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-51.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",GEOPORTALANF:"+title=Geoportail - Antilles francaises +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=15.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALASP:"+title=Geoportail - Amsterdam et Saint-Paul +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-38.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALCRZ:"+title=Geoportail - Crozet +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-46.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALFXX:"+title=Geoportail - France metropolitaine +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=46.500000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALGUF:"+title=Geoportail - Guyane +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=4.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALKER:"+title=Geoportail - Kerguelen +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-49.500000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALMYT:"+title=Geoportail - Mayotte +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-12.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALNCL:"+title=Geoportail - Nouvelle-Caledonie +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-22.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALPYF:"+title=Geoportail - Polynesie francaise +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-15.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALREU:"+title=Geoportail - Reunion et dependances +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-21.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALSPM:"+title=Geoportail - Saint-Pierre et Miquelon +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=47.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALWLF:"+title=Geoportail - Wallis et Futuna +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-14.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GUAD48UTM20:"+title=Guadeloupe Ste Anne +proj=tmerc +towgs84=-472.2900,-5.6300,-304.1200,0.4362,-0.8374,0.2563,1.898400 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-63.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",GUADFM49U20:"+title=Guadeloupe Fort Marigot  +proj=tmerc +towgs84=136.5960,248.1480,-429.7890 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-63.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",IGN63UTM7S:"+title=IGN 1963 - Hiva Oa, Tahuata, Mohotani - UTM fuseau 7 Sud +proj=tmerc +towgs84=410.7210,55.0490,80.7460,-2.5779,-2.3514,-0.6664,17.331100 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-141.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",IGN72UTM58S:"+title=IGN 1972 - UTM fuseau 58 Sud +proj=tmerc +towgs84=-11.6400,-348.6000,291.6800 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=165.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",KERG62UTM42S:"+title=Kerguelen 1962 +proj=tmerc +towgs84=144.8990,-186.7700,100.9230 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=69.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",LAMB1:"+title=Lambert I +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=49.500000000 +lon_0=0.000000000 +k_0=0.99987734 +lat_1=49.500000000 +x_0=600000.000 +y_0=200000.000 +units=m +no_defs",LAMB1C:"+title=Lambert I Carto +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=49.500000000 +lon_0=0.000000000 +k_0=0.99987734 +lat_1=49.500000000 +x_0=600000.000 +y_0=1200000.000 +units=m +no_defs",LAMB2:"+title=Lambert II +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=46.800000000 +lon_0=0.000000000 +k_0=0.99987742 +lat_1=46.800000000 +x_0=600000.000 +y_0=200000.000 +units=m +no_defs",LAMB2C:"+title=Lambert II Carto +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=46.800000000 +lon_0=0.000000000 +k_0=0.99987742 +lat_1=46.800000000 +x_0=600000.000 +y_0=2200000.000 +units=m +no_defs",LAMB3:"+title=Lambert III +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=44.100000000 +lon_0=0.000000000 +k_0=0.99987750 +lat_1=44.100000000 +x_0=600000.000 +y_0=200000.000 +units=m +no_defs",LAMB3C:"+title=Lambert III Carto +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=44.100000000 +lon_0=0.000000000 +k_0=0.99987750 +lat_1=44.100000000 +x_0=600000.000 +y_0=3200000.000 +units=m +no_defs",LAMB4:"+title=Lambert IV +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=42.165000000 +lon_0=0.000000000 +k_0=0.99994471 +lat_1=42.165000000 +x_0=234.358 +y_0=185861.369 +units=m +no_defs",LAMB4C:"+title=Lambert IV Carto +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=42.165000000 +lon_0=0.000000000 +k_0=0.99994471 +lat_1=42.165000000 +x_0=234.358 +y_0=4185861.369 +units=m +no_defs",LAMB93:"+title=Lambert 93 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=46.500000000 +lon_0=3.000000000 +lat_1=44.000000000 +lat_2=49.000000000 +x_0=700000.000 +y_0=6600000.000 +units=m +no_defs",RGF93CC42:"+title=Lambert conique conforme Zone 1 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=42.000000000 +lon_0=3.000000000 +lat_1=41.200000000 +lat_2=42.800000000 +x_0=1700000.000 +y_0=1200000.000 +units=m +no_defs",RGF93CC43:"+title=Lambert conique conforme Zone 2 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=43.000000000 +lon_0=3.000000000 +lat_1=42.200000000 +lat_2=43.800000000 +x_0=1700000.000 +y_0=2200000.000 +units=m +no_defs",RGF93CC44:"+title=Lambert conique conforme Zone 3 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=44.000000000 +lon_0=3.000000000 +lat_1=43.200000000 +lat_2=44.800000000 +x_0=1700000.000 +y_0=3200000.000 +units=m +no_defs",RGF93CC45:"+title=Lambert conique conforme Zone 4 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=45.000000000 +lon_0=3.000000000 +lat_1=44.200000000 +lat_2=45.800000000 +x_0=1700000.000 +y_0=4200000.000 +units=m +no_defs",RGF93CC46:"+title=Lambert conique conforme Zone 5 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=46.000000000 +lon_0=3.000000000 +lat_1=45.200000000 +lat_2=46.800000000 +x_0=1700000.000 +y_0=5200000.000 +units=m +no_defs",RGF93CC47:"+title=Lambert conique conforme Zone 6 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=47.000000000 +lon_0=3.000000000 +lat_1=46.200000000 +lat_2=47.800000000 +x_0=1700000.000 +y_0=6200000.000 +units=m +no_defs",RGF93CC48:"+title=Lambert conique conforme Zone 7 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=48.000000000 +lon_0=3.000000000 +lat_1=47.200000000 +lat_2=48.800000000 +x_0=1700000.000 +y_0=7200000.000 +units=m +no_defs",RGF93CC49:"+title=Lambert conique conforme Zone 8 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=49.000000000 +lon_0=3.000000000 +lat_1=48.200000000 +lat_2=49.800000000 +x_0=1700000.000 +y_0=8200000.000 +units=m +no_defs",RGF93CC50:"+title=Lambert conique conforme Zone 9 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=50.000000000 +lon_0=3.000000000 +lat_1=49.200000000 +lat_2=50.800000000 +x_0=1700000.000 +y_0=9200000.000 +units=m +no_defs",LAMBE:"+title=Lambert II etendu +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=46.800000000 +lon_0=0.000000000 +k_0=0.99987742 +lat_1=46.800000000 +x_0=600000.000 +y_0=2200000.000 +units=m +no_defs",MART38UTM20:"+title=Martinique Fort-Desaix +proj=tmerc +towgs84=126.9260,547.9390,130.4090,-2.7867,5.1612,-0.8584,13.822650 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-63.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",MAYO50UTM38S:"+title=Mayotte Combani +proj=tmerc +towgs84=-599.9280,-275.5520,-195.6650,-0.0835,-0.4715,0.0602,49.281400 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=45.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",MILLER:"+title=Geoportail - Monde +proj=mill +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lon_0=0.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",MOOREA87U6S:"+title=Moorea 1987 - UTM fuseau 6 Sud +proj=tmerc +towgs84=215.9820,149.5930,176.2290,3.2624,1.6920,1.1571,10.477300 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-147.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",NUKU72U7S:"+title=IGN 1972 Nuku Hiva - UTM fuseau 7 Sud +proj=tmerc +towgs84=165.7320,216.7200,180.5050,-0.6434,-0.4512,-0.0791,7.420400 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-141.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGM04UTM38S:"+title=UTM fuseau 38 Sud (Reseau Geodesique de Mayotte 2004) +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=45.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGNCUTM57S:"+title=Reseau Geodesique de Nouvelle-Caledonie - UTM fuseau 57 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=159.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGNCUTM58S:"+title=Reseau Geodesique de Nouvelle-Caledonie - UTM fuseau 58 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=165.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGNCUTM59S:"+title=Reseau Geodesique de Nouvelle-Caledonie - UTM fuseau 59 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=171.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGPFUTM5S:"+title=RGPF - UTM fuseau 5 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-153.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGPFUTM6S:"+title=RGPF - UTM fuseau 6 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-147.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGPFUTM7S:"+title=RGPF - UTM fuseau 7 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-141.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGR92UTM40S:"+title=RGR92 UTM fuseau 40 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=57.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGSPM06U21:"+title=Saint-Pierre-et-Miquelon (2006) UTM Fuseau 21 Nord +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-57.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",STPL69UTM43S:"+title=Saint-Paul 1969 UTM fuseau 43 Sud +proj=tmerc +towgs84=225.571,-346.608,-46.567,0,0,0,0 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=75.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",STPM50UTM21:"+title=St Pierre et Miquelon 1950 +proj=tmerc +towgs84=-95.5930,573.7630,173.4420,-0.9602,1.2510,-1.3918,42.626500 +a=6378206.4000 +rf=294.9786982000000 +lat_0=0.000000000 +lon_0=-57.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",TAHAAUTM05S:"+title=Tahaa 1951 +proj=tmerc +towgs84=72.4380,345.9180,79.4860,-1.6045,-0.8823,-0.5565,1.374600 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-153.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",TAHI51UTM06S:"+title=Tahiti-Terme Nord UTM fuseau 6 Sud +proj=tmerc +towgs84=162.0000,117.0000,154.0000 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-147.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",TAHI79UTM6S:"+title=Tahiti 1979 +proj=tmerc +towgs84=221.5250,152.9480,176.7680,2.3847,1.3896,0.8770,11.474100 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-147.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",TERA50STEREO:"+title=Terre Adelie 1950 +proj=stere +towgs84=324.9120,153.2820,172.0260 +a=6378388.0000 +rf=297.0000000000000 +lat_0=-90.000000000 +lon_0=140.000000000 +lat_ts=-67 +k=0.96027295 +x_0=300000.000 +y_0=-2299363.482 +units=m +no_defs",UTM01SW84:"+title=World Geodetic System 1984 UTM fuseau 01 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-177.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",UTM20W84GUAD:"+title=World Geodetic System 1984 UTM fuseau 20 Nord-Guadeloupe +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-63.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM20W84MART:"+title=World Geodetic System 1984 UTM fuseau 20 Nord-Martinique +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-63.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM22RGFG95:"+title=RGFG95 UTM fuseau 22 Nord-Guyane +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-51.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM39SW84:"+title=World Geodetic System 1984 UTM fuseau 39 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=51.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",UTM42SW84:"+title=World Geodetic System 1984 UTM fuseau 42 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=69.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",UTM43SW84:"+title=World Geodetic System 1984 UTM fuseau 43 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=75.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",WALL78UTM1S:"+title=Wallis-Uvea 1978 (MOP78) UTM 1 SUD +proj=tmerc +towgs84=253.0000,-133.0000,-127.0000 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-177.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",ETRS89GEO:"+title=ETRS89 geographiques (dms) +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",ETRS89LAEA:"+title=ETRS89 Lambert Azimutal Equal Area +proj=laea +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=52.000000000 +lon_0=10.000000000 +x_0=4321000.000 +y_0=3210000.000 +units=m +no_defs",ETRS89LCC:"+title=ETRS89 Lambert Conformal Conic +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=52.000000000 +lon_0=9.999999995 +lat_1=35.000000000 +lat_2=65.000000000 +x_0=4000000.000 +y_0=2800000.000 +units=m +no_defs",UTM26ETRS89:"+title=Europe - de 30d a 24d Ouest +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-27.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM27ETRS89:"+title=Europe - de 24d a 18d Ouest +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-21.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM28ETRS89:"+title=Europe - de 18d a 12d Ouest +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-15.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM29ETRS89:"+title=Europe - de 12d a 6d Ouest +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-9.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM30ETRS89:"+title=Europe - de -6d a 0d Ouest +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-3.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM31ETRS89:"+title=Europe - de 0d a 6d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=3.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM32ETRS89:"+title=Europe - de 6d a 12d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=9.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM33ETRS89:"+title=Europe - de 12d a 18d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=15.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM34ETRS89:"+title=Europe - de 18d a 24d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=21.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM35ETRS89:"+title=Europe - de 24d a 30d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=27.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM36ETRS89:"+title=Europe - de 30d a 36d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=33.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM37ETRS89:"+title=Europe - de 36d a 42d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=39.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM38ETRS89:"+title=Europe - de 42d a 48d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=45.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs"}},Dv=Ov,Nv=Pn.getLogger("CRS"),Fv={projectionsExtent:{"EPSG:2154":{left:-9.62,bottom:41.18,right:10.3,top:51.54},"EPSG:27572":{left:-4.87,bottom:42.33,right:8.23,top:51.14}},load:function(){if(Nv.trace("Loading custom definitions projections"),!Dv.isLoaded){Dv.load(Tv);try{kv(Tv),window.ol&&window.ol.proj&&window.ol.proj.proj4&&(window.ol.proj.proj4.register=kv,window.ol.proj.proj4.register(Tv))}catch(YE){Nv.error(YE)}}},loadByDefault:function(){if(Nv.trace("Loading custom definitions projections by default"),!Dv.isLoaded){Dv.loadByDefault(Tv);try{kv(Tv),window.ol&&window.ol.proj&&window.ol.proj.proj4&&(window.ol.proj.proj4.register=kv,window.ol.proj.proj4.register(Tv))}catch(YE){Nv.error(YE)}}},loadByName:function(t){if(Nv.trace("Loading a custom definition projection : ",t),!Dv.isLoaded){Dv.loadByName(Tv,t);try{kv(Tv),window.ol&&window.ol.proj&&window.ol.proj.proj4&&(window.ol.proj.proj4.register=kv,window.ol.proj.proj4.register(Tv))}catch(YE){Nv.error(YE)}}},overload:function(){for(var t in Nv.trace("Loading projections aera (extent)"),this.projectionsExtent)if(this.projectionsExtent.hasOwnProperty(t)){var e=this.projectionsExtent[t],n=(0,Z.Jt)(t),i=(0,Z.RG)("EPSG:4326",n),r=(0,a.NW)([e.bottom,e.right,e.top,e.left],i);n.setExtent(r),(0,Z.bF)(n),window.ol&&window.ol.proj&&window.ol.proj.addProjection&&window.ol.proj.addProjection(n)}}},Uv=Fv;window.ol&&window.ol.proj&&window.ol.proj.proj4&&(window.ol.proj.proj4.register=kv);var Bv={_addUID:function(t){var e=this._uid?t+"-"+this._uid:t;return e},_createMainContainerElement:function(){var t=document.createElement("div");return t.id=this._addUID("GPmousePosition"),t.className="GPwidget gpf-widget",t},_createShowMousePositionPictoElement:function(t){var e=this,n=document.createElement("button");return n.id=this._addUID("GPshowMousePositionPicto"),n.className="GPshowOpen GPshowAdvancedToolPicto gpf-btn fr-btn",n.title="Afficher les coordonnées du curseur",n.setAttribute("tabindex","0"),n.setAttribute("aria-pressed",!1),n.addEventListener?n.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowMousePositionClick()})):n.attachEvent&&n.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowMousePositionClick()})),n},_createMousePositionPanelElement:function(){var t=document.createElement("dialog");return t.id=this._addUID("GPmousePositionPanel"),t.className="GPpanel gpf-panel fr-modal",this._panelMousePositionContainer=t,t},_createMousePositionPanelDivElement:function(){var t=document.createElement("div");return t.className="gpf-panel__body fr-modal__body",t},_createMapCenter:function(){var t=document.createElement("div");return t.id="GPmapCenter",t.className="",t},_createMousePositionPanelTitleElement:function(){var t=document.createElement("div");return t.className="GPpanelTitle gpf-panel__title fr-modal__title",t.id=this._addUID("GPmousePositionHeaderTitle"),t.innerHTML="Coordonnées",t},_createMousePositionPanelHeaderElement:function(){var t=document.createElement("div");return t.className="GPpanelHeader gpf-panel__header fr-modal__header",t},_createMousePositionPanelCloseElement:function(){var t=this,e=document.createElement("button");e.id=this._addUID("GPmousePositionPanelClose"),e.className="GPpanelClose gpf-btn gpf-btn-close fr-btn--close fr-btn",e.title="Fermer le panneau",e.addEventListener?(e.addEventListener("click",(function(){document.getElementById(t._addUID("GPshowMousePositionPicto")).click()}),!1),e.addEventListener("keydown",(function(e){13===e.keyCode&&document.getElementById(t._addUID("GPshowMousePositionPicto")).click()}),!1)):e.attachEvent&&(e.attachEvent("onclick",(function(){document.getElementById(t._addUID("GPshowMousePositionPicto")).click()})),e.attachEvent("onkeydown",(function(e){13===e.keyCode&&document.getElementById(t._addUID("GPshowMousePositionPicto")).click()})));var n=document.createElement("span");return n.className="GPelementHidden gpf-visible",n.innerText="Fermer",e.appendChild(n),e},_createMousePositionPanelBasicElement:function(t,e,n,i){t="undefined"===typeof t||t,e="undefined"===typeof e||e,n="undefined"!==typeof n&&n;var r=document.createElement("div");return r.id=this._addUID("GPmousePositionBasicPanel"),r.appendChild(this._createMousePositionPanelBasicCoordinateElement(e,n,i)),r.appendChild(this._createMousePositionPanelEditToolsElement(n)),r.appendChild(this._createMousePositionPanelBasicAltitudeElement(t)),r},_createCoordinateElement:function(t,e){var n=this;if(-1===["Lon","Lat"].indexOf(t))return[];var i=[],r=document.createElement("input");r.id=this._addUID("GPmousePosition"+t),r.title=!0===e?"Cliquer pour saisir des coordonnées":"",r.readOnly=!0,e&&(r.addEventListener("click",(function(){n.onMousePositionEditModeClick(!0)})),r.addEventListener("change",(function(e){this.classList.remove("error");var i=n.validateExtentCoordinate(t,this.value,e);i?this.classList.remove("error"):this.classList.add("error")}))),i.push(r);var o=document.createElement("span");return o.className="GPmousePositionUnits",i.push(o),i},_createDMSCoordinateElement:function(t,e){if(-1===["Lon","Lat"].indexOf(t))return[];var n=this,i=[],r=document.createElement("input");r.id=this._addUID("GPmousePosition"+t+"Degrees"),r.className="GPSexagesimal",r.setAttribute("name","degrees"),r.title=!0===e?"Cliquer pour saisir des coordonnées":"",r.readOnly=!0,r.dataset.min=0,r.dataset.max="Lon"===t?180:90,e&&(r.addEventListener("click",(function(){n.onMousePositionEditModeClick(!0)})),r.addEventListener("change",(function(){this.classList.remove("error");var e=n._checkDMSDegrees(t,this);e?this.classList.remove("error"):this.classList.add("error")}))),i.push(r);var o=document.createElement("span");o.className="GPmousePositionSexagesimalLabel",o.innerHTML="°",i.push(o);var s=document.createElement("input");s.id=this._addUID("GPmousePosition"+t+"Minutes"),s.className="GPSexagesimal",s.setAttribute("name","minutes"),s.title=!0===e?"Cliquer pour saisir des coordonnées":"",s.readOnly=!0,s.dataset.min=0,s.dataset.max=59,e&&(s.addEventListener("click",(function(){n.onMousePositionEditModeClick(!0)})),s.addEventListener("change",(function(){this.classList.remove("error");var t=n._checkDMSElement(this);t?this.classList.remove("error"):this.classList.add("error")}))),i.push(s);var a=document.createElement("span");a.className="GPmousePositionSexagesimalLabel",a.innerHTML="'",i.push(a);var l=document.createElement("input");l.id=this._addUID("GPmousePosition"+t+"Seconds"),l.className="GPSexagesimalsec",l.setAttribute("name","seconds"),l.title=!0===e?"Cliquer pour saisir des coordonnées":"",l.readOnly=!0,l.dataset.min=0,l.dataset.max=59,e&&(l.addEventListener("click",(function(){n.onMousePositionEditModeClick(!0)})),l.addEventListener("change",(function(){this.classList.remove("error");var t=n._checkDMSElement(this,!0);t?this.classList.remove("error"):this.classList.add("error")}))),i.push(l);var c=document.createElement("span");c.className="GPmousePositionSexagesimalLabel",c.innerHTML="''",i.push(c);var u=document.createElement("select");u.id=this._addUID("GPmousePosition"+t+"Direction"),u.className="GPmousePositionDirection",u.setAttribute("name","direction"),u.disabled=!0;var h=document.createElement("option");h.value="Lon"===t?"E":"N",h.innerHTML="Lon"===t?"E":"N",u.appendChild(h);var d=document.createElement("option");return d.value="Lon"===t?"O":"S",d.innerHTML="Lon"===t?"O":"S",u.appendChild(d),i.push(u),i},_createMousePositionPanelBasicCoordinateElement:function(t,e,n){var i=document.createElement("div");i.id=this._addUID("GPmousePositionCoordinate"),i.style.display=t?"block":"none";var r=document.createElement("div"),o=document.createElement("span");o.className="GPmousePositionLabel",o.id=this._addUID("GPmousePositionLatLabel"),o.innerHTML="Latitude : ",r.appendChild(o);var s,a=document.createElement("span");a.id=this._addUID("GPmousePositionLatCoordinate"),s="DMS"===n?this._createDMSCoordinateElement("Lat",e):this._createCoordinateElement("Lat",e);for(var l=0;l<s.length;l++)a.appendChild(s[l]);r.appendChild(a),i.appendChild(r);var c=document.createElement("div"),u=document.createElement("span");u.className="GPmousePositionLabel",u.id=this._addUID("GPmousePositionLonLabel"),u.innerHTML="Longitude : ",c.appendChild(u);var h,d=document.createElement("span");d.id=this._addUID("GPmousePositionLonCoordinate"),h="DMS"===n?this._createDMSCoordinateElement("Lon",e):this._createCoordinateElement("Lon",e);for(var p=0;p<h.length;p++)d.appendChild(h[p]);return c.appendChild(d),i.appendChild(c),i},_createMousePositionPanelBasicAltitudeElement:function(t){var e=document.createElement("div");e.id=this._addUID("GPmousePositionAltitude"),e.style.display=t?"block":"none";var n=document.createElement("span");n.className="GPmousePositionLabel",n.innerHTML="Altitude : ",e.appendChild(n);var i=document.createElement("span");i.className="GPmousePositionCoords",i.id=this._addUID("GPmousePositionAlt"),i.innerHTML="...",e.appendChild(i);var r=document.createElement("span");return r.className="GPmousePositionAltitudeUnits",r.innerHTML="m",e.appendChild(r),e},_createMousePositionPanelEditToolsElement:function(t){var e=this,n=document.createElement("div");n.className="GPmousePositionPanelEditTools",n.id=this._addUID("GPmousePositionPanelEditTools"),t||(n.style.display="none");var i=document.createElement("span");i.className="GPmousePositionEditTool",i.id=this._addUID("GPmousePositionLocate"),i.title=!0===t?"Cliquer pour saisir des coordonnées":"",t&&i.addEventListener("click",(function(){e.onMousePositionEditModeLocateClick()})),n.appendChild(i);var r=document.createElement("span");return r.className="GPmousePositionEditTool",r.id=this._addUID("GPmousePositionCloseEdit"),r.title="Quitter la saisie des coordonnées",r.style.display="none",t&&r.addEventListener("click",(function(){e.onMousePositionEditModeClick(!1)})),n.appendChild(r),n},_createShowMousePositionSettingsElement:function(t){var e=this,n=document.createElement("button");return n.id=this._addUID("GPshowMousePositionSettings"),n.className="GPshowAdvancedToolPicto GPshowMoreOptionsImage GPshowMoreOptions GPshowMousePositionSettingsPicto gpf-btn fr-btn--sm fr-icon-arrow-down-fill",n.title="Réglages",n.setAttribute("tabindex","0"),n.setAttribute("aria-pressed",!1),n.addEventListener?n.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowMousePositionSettingsClick(t)})):n.attachEvent&&n.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowMousePositionSettingsClick(t)})),n},_createMousePositionSettingsElement:function(t){var e=document.createElement("div");e.id=this._addUID("GPmousePositionSettings"),e.style.display=void 0===t||t?"block":"none";var n=document.createElement("span");return n.className="GPmousePositionSettingsLabel",n.innerHTML="Système de référence",e.appendChild(n),e},_createMousePositionSettingsSystemsElement:function(t){var e=this,n=document.createElement("select");n.id=this._addUID("GPmousePositionProjectionSystem"),n.className="GPselect GPmousePositionSettingsSelect gpf-select fr-select",n.addEventListener("change",(function(t){e.onMousePositionProjectionSystemChange(t)})),n.addEventListener("mouseover",(function(t){"OPTION"!==t.target.nodeName&&e.onMousePositionProjectionSystemMouseOver(t)}));for(var i=0;i<t.length;i++){var r=t[i],o=document.createElement("option");o.value=r.code,o.text=r.label||i,n.appendChild(o)}return n},_createMousePositionSettingsUnitsElement:function(t){var e=this,n=document.createElement("select");n.id=this._addUID("GPmousePositionProjectionUnits"),n.className="GPselect GPmousePositionSettingsSelect gpf-select fr-select",n.addEventListener("change",(function(t){e.onMousePositionProjectionUnitsChange(t)}));for(var i=0;i<t.length;i++){var r=t[i],o=document.createElement("option");o.value=r.code?r.code:i,o.text=r.label||i,n.appendChild(o)}return n},_resetLabelElements:function(t){var e=document.getElementById(this._addUID("GPmousePositionLatLabel"));e.innerHTML="Geographical"===t?"Latitude :":"X :";var n=document.getElementById(this._addUID("GPmousePositionLonLabel"));n.innerHTML="Geographical"===t?"Longitude :":"Y :"},_resetUnitElements:function(t){var e="";"M"!==t&&"KM"!==t||(e=t.toLowerCase());for(var n=document.getElementsByClassName("GPmousePositionUnits"),i=0;i<n.length;i++)n[i].innerHTML=e},_resetCoordinateElements:function(t,e,n){var i,r=document.getElementById(this._addUID("GPmousePositionLatCoordinate"));while(r.firstChild)r.removeChild(r.firstChild);i="DMS"===n?this._createDMSCoordinateElement("Lat",t):this._createCoordinateElement("Lat",t);for(var o=0;o<i.length;o++)r.appendChild(i[o]);var s,a=document.getElementById(this._addUID("GPmousePositionLonCoordinate"));while(a.firstChild)a.removeChild(a.firstChild);s="DMS"===n?this._createDMSCoordinateElement("Lon",t):this._createCoordinateElement("Lon",t);for(var l=0;l<s.length;l++)a.appendChild(s[l])},_setEditMode:function(t){var e=document.getElementById(this._addUID("GPmousePositionLocate"));e.title=t?"Aller à la position ...":"Cliquer pour saisir des coordonnées";var n=document.getElementById(this._addUID("GPmousePositionCloseEdit"));n.style.display=t?"inline-block":"none";for(var i="div[id^="+this._addUID("GPmousePositionCoordinate")+"]",r=document.querySelectorAll(i+" input"),o=0;o<r.length;o++)r[o].readOnly=!t,t&&(r[o].value="",r[o].classList.remove("error"));for(var s=document.querySelectorAll(i+" select"),a=0;a<s.length;a++)s[a].disabled=!t},_checkDMSElement:function(t,e){var n=void 0!==e,i=t.value;if(n&&(i=i.replace(",",".")),isNaN(i))return!1;var r=parseFloat(i);if(!n&&(0|r)!==r)return!1;var o=Number(t.dataset.min),s=Number(t.dataset.max);return r>=o&&r<=s},_checkDMSDegrees:function(t,e){if(isNaN(e.value))return!1;var n=parseFloat(e.value);if((0|n)!==n)return!1;var i=Number(e.dataset.min),r=Number(e.dataset.max);if(n<i||n>r)return!1;var o=document.getElementById(this._addUID("GPmousePosition"+t+"Minutes")),s=document.getElementById(this._addUID("GPmousePosition"+t+"Seconds"));return n>=r?(o.dataset.max=0,s.dataset.max=0):(o.dataset.max=59,s.dataset.max=59.9999),!0},GPdisplayCoords:function(t){if(t){var e=document.getElementById(this._addUID("GPmousePositionLonLabel")),n=document.getElementById(this._addUID("GPmousePositionLatLabel"));if(t.x||t.y?(n.innerHTML="X : ",e.innerHTML="Y : "):t.e||t.n?(n.innerHTML="E : ",e.innerHTML="N : "):(n.innerHTML="Latitude : ",e.innerHTML="Longitude : "),"object"===typeof t.lat&&"object"===typeof t.lng){var i={lng:"Lon",lat:"Lat"},r=["Degrees","Minutes","Seconds"];for(var o in i)for(var s=0;s<r.length;++s){var a="GPmousePosition"+i[o]+r[s],l=document.getElementById(this._addUID(a)),c=r[s].charAt(0).toLowerCase();l.value=t[o][c]}document.getElementById(this._addUID("GPmousePositionLonDirection")).value=t.lng.direction,document.getElementById(this._addUID("GPmousePositionLatDirection")).value=t.lat.direction}else{var u=document.getElementById(this._addUID("GPmousePositionLat")),h=document.getElementById(this._addUID("GPmousePositionLon"));u.value=t.x||t.lat||t.e||"0",h.value=t.y||t.lng||t.lon||t.n||"0";for(var d=void 0===t.unit?"":t.unit,p=document.getElementsByClassName("GPmousePositionUnits"),g=0;g<p.length;++g)p[g].innerHTML=d}}},GPdisplayElevation:function(t,e,n,i){var r,o=this;e||(e=500),clearTimeout(r),document.getElementById(this._addUID("GPmousePositionAlt")).innerHTML="...",null==n&&(n=-99999),null==i&&(i=99980);var s=n+i,a=n-i;t&&document.getElementById(this._addUID("GPmousePositionAltitude"))&&(r=setTimeout((function(){o.onRequestAltitude(t,(function(t){a<t&&t<s?o.GPresetElevation():document.getElementById(o._addUID("GPmousePositionAlt")).innerHTML=t}))}),e))},GPresetElevation:function(){document.getElementById(this._addUID("GPmousePositionAltitude"))&&(document.getElementById(this._addUID("GPmousePositionAlt")).innerHTML="---")}},jv=Bv,zv=Pn.getLogger("GeoportalMousePosition"),Wv=class t extends jc{constructor(e){if(e=e||{},super({element:e.element,target:e.target,render:e.render}),!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(e);var n=this._initContainer(this.options);return this.element?this.element.appendChild(n):this.element=n,this}setMap(t){var e=this;if(t){var n=this._createMapCenter();if(t.getViewport().appendChild(n),this.collapsed||this._isDesktop||(n.className="GPmapCenterVisible"),this.draggable&&Dd.dragElement(this._panelMousePositionContainer,this._panelHeaderMousePositionContainer,this.options.position?null:t.getTargetElement()),this.collapsed||(this._isDesktop?this.listenerKey=t.on("pointermove",(t=>{this.onMouseMove(t)})):this.listenerKey=t.on("moveend",(t=>this.onMapMove(t))),this._showMousePositionButton.setAttribute("aria-pressed",!0)),this.options.editCoordinates){var i=document.createElement("img");i.id=this._addUID("GPmousePositionMarker"),i.src=this._markerUrl,i.title="Cliquer pour supprimer",i.addEventListener("click",(function(){e._markerOverlay.setPosition(void 0)})),this._markerOverlay=new d({offset:this._markerOffset,element:i,stopEvent:!1}),t.addOverlay(this._markerOverlay)}}else(0,ur.e)(this.listenerKey);if(super.setMap(t),null!==t&&(this.options.position&&this.setPosition(this.options.position),!this.collapsed)){var r=document.getElementById("GPshowMousePosition-"+this._uid);r.checked="checked",this._setElevationPanel(this.options.displayAltitude),this._setCoordinatesPanel(this.options.displayCoordinates),this.options.displayCoordinates||this._setSettingsPanel(!1)}}addSystem(t){if("object"===typeof t)if(t.crs)if(t.label||(zv.warn("crs label not defined, use crs code by default."),t.label=t.crs),t.type||(zv.warn("type srs not defined, use 'Metric' by default."),t.type="Metric"),Uv.loadByName(t.crs),(0,Z.Jt)(t.crs)){for(var e=0;e<this._projectionSystems.length;e++){var n=this._projectionSystems[e];t.crs===n.crs&&zv.info("crs '{}' already configured",n.crs)}t.code=this._projectionSystems.length,this._projectionSystems.push(t);var i=document.getElementById("GPmousePositionProjectionSystem-"+this._uid);if(i){var r=document.createElement("option");r.value=t.code,r.text=t.label,i.appendChild(r)}}else zv.error("crs '{}' not available into proj4 definitions !",t.crs);else zv.error("crs not defined !");else zv.log("[ERROR] MousePosition:addSystem - system parameter should be an object")}addSystems(t){if(t)if(Array.isArray(t))for(var e=0;e<t.length;e++)this.addSystem(t[e]);else zv.log("[ERROR] MousePosition:addSystems - systems parameter should be an array")}removeSystem(t){if(t&&"string"===typeof t){for(var e=document.getElementById("GPmousePositionProjectionSystem-"+this._uid),n=null,i=0;i<this._projectionSystems.length;i++){var r=this._projectionSystems[i];if(t===r.crs){n=r.code,this._projectionSystems.splice(i,1);break}}if(null!=n){for(var o=[],s=0;s<this._projectionSystems.length;s++)o[Number(this._projectionSystems[s].code)]=s,this._projectionSystems[s].code=s;for(var a=null,l=0;l<e.childNodes.length;l++)n!==e.childNodes[s].value?e.childNodes[s].value=o[Number(e.childNodes[s].value)]:a=l;null!=a&&e.removeChild(e.childNodes[a]),this._currentProjectionSystems.code===Number(n)&&(e.childNodes[0].setAttribute("selected","selected"),this._setCurrentSystem(e.childNodes[0].value))}else zv.log("[WARN] MousePosition:removeSystem - system not found")}else zv.log("[ERROR] MousePosition:removeSystem - systemCode parameter should be a string")}setUnits(t){t&&Array.isArray(t)&&(this.options.units=t,this._projectionUnits=[],this._initProjectionUnits(),this._currentProjectionType&&this._setTypeUnitsPanel(this._currentProjectionType))}setAltitudeOptions(t){if(t&&"object"===typeof t&&(this.options.altitude.triggerDelay=t.triggerDelay,this.options.altitude.responseDelay=t.responseDelay,t.serviceOptions))for(var e in t.serviceOptions)t.serviceOptions.hasOwnProperty(e)&&(this.options.altitude.serviceOptions[e]=t.serviceOptions[e])}displayAltitude(t){void 0!==t&&(this.options.displayAltitude=t,this._setElevationPanel(t))}displayCoordinates(t){void 0!==t&&(this.options.displayCoordinates=t,this._setCoordinatesPanel(t),this._setSettingsPanel(t))}setCollapsed(t){void 0!==t?t&&this.collapsed||!t&&!this.collapsed||(this._isDesktop||(document.getElementById("GPmapCenter").className=t?"":"GPmapCenterVisible"),this.onShowMousePositionClick(),this._showMousePositionContainer.checked=!t):zv.log("[ERROR] MousePosition:setCollapsed - missing collapsed parameter")}_initialize(t){if(t=t||{},this.options=t,this.options.collapsed=void 0===t.collapsed||t.collapsed,this.collapsed=this.options.collapsed,this.options.draggable=void 0!==t.draggable&&t.draggable,this.draggable=this.options.draggable,this._markerOverlay=null,this._markerUrl=null,this._markerOffset=[0,0],this._hideMarker=!1,this._initMarker(t.positionMarker),this.options.units=t.units||[],this.options.displayAltitude=void 0===t.displayAltitude||t.displayAltitude,this.options.displayCoordinates=void 0===t.displayCoordinates||t.displayCoordinates,this.options.displayCoordinates?this.options.editCoordinates=void 0!==t.editCoordinates&&t.editCoordinates:this.options.editCoordinates=!1,this.editing=!1,this.options.systems=t.systems||[],t.altitude){var e=t.altitude;this.options.altitude={triggerDelay:void 0!==e.triggerDelay?e.triggerDelay:200,responseDelay:void 0!==e.responseDelay?e.responseDelay:500,serviceOptions:e.serviceOptions||{},noDataValue:void 0!==e.noDataValue?e.noDataValue:-99999,noDataValueTolerance:void 0!==e.noDataValueTolerance?e.noDataValueTolerance:9e4}}else this.options.altitude={triggerDelay:200,responseDelay:500,serviceOptions:{}};this._uid=Yc.generate(),this._projectionSystems=[],this._initProjectionSystems(),this._projectionUnits={},this._initProjectionUnits(),this._isDesktop=Dn.detectSupport(),this.options.altitude.triggerDelay<100&&(this.options.altitude.triggerDelay=100),this._timer=this.options.altitude.triggerDelay,this._currentProjectionSystems=this._projectionSystems[0],this._currentProjectionType=this._projectionSystems[0].type,this._currentProjectionUnits=this._projectionUnits[this._currentProjectionType][0].code,this._projectionUnitsContainer=null,this._showMousePositionContainer=null,this._panelMousePositionContainer=null,this._panelHeaderMousePositionContainer=null,this.options.displayAltitude||this.options.displayCoordinates||(this.options.displayCoordinates=!0),this.listenerKey=null}_initMarker(t){if(this.options.editCoordinates){if(!t)return this._markerUrl=jn["lightOrange"],void(this._markerOffset=jn.defaultOffset);this._hideMarker=void 0!==t.hide&&t.hide,t.offset?Array.isArray(t.offset)&&2===t.offset.length?this._markerOffset=t.offset:(zv.log("positionMarker.offset should be an array. e.g. : [0,0]"),this._markerOffset=jn.defaultOffset):this._markerOffset=jn.defaultOffset;var e=t.url;e?e.match(/^[a-zA-Z]+$/)?this._markerUrl=void 0!==jn[e]?jn[e]:jn["lightOrange"]:this._markerUrl=e:this._markerUrl=jn["lightOrange"]}}_initProjectionSystems(){for(var t=[{label:"Géographique",crs:(0,Z.Jt)("EPSG:4326").getCode(),type:"Geographical"},{label:"Web Mercator",crs:(0,Z.Jt)("EPSG:3857").getCode(),type:"Metric"},{label:"Lambert 93",crs:(0,Z.Jt)("EPSG:2154").getCode(),type:"Metric",geoBBox:{left:-9.86,bottom:41.15,right:10.38,top:51.56}},{label:"Lambert II étendu",crs:(0,Z.Jt)("EPSG:27572").getCode(),type:"Metric",geoBBox:{left:-4.87,bottom:42.33,right:8.23,top:51.14}}],e=this.options.systems,n=0;n<e.length;n++){var i=e[n];this.addSystem(i)}if(0===this._projectionSystems.length)for(var r=0;r<t.length;r++)this.addSystem(t[r])}_initProjectionUnits(){var t={Geographical:[{code:"DEC",label:"degrés décimaux",format:this._displayDEC},{code:"DMS",label:"degrés sexagésimaux",format:this._displayDMS},{code:"RAD",label:"radians",format:this._displayRAD},{code:"GON",label:"grades",format:this._displayGON}],Metric:[{code:"M",label:"mètres",format:this._displayMeter},{code:"KM",label:"kilomètres",format:this._displayKMeter}]},e=this.options.units;for(var n in t)if(t.hasOwnProperty(n)){for(var i=!1,r=0;r<t[n].length;r++)for(var o=t[n][r],s=0;s<e.length;s++){var a=e[s];o.code===a&&(i=!0,this._projectionUnits[n]||(this._projectionUnits[n]=[]),this._projectionUnits[n].push(o))}i||(this._projectionUnits[n]=t[n])}"object"===typeof this._projectionUnits&&0===Object.keys(this._projectionUnits).length&&(this._projectionUnits=t)}_getCurrentProjectionInformation(){for(var t=[this._currentProjectionSystems.label,"en"],e=this._projectionUnits[this._currentProjectionType],n=0;n<e.length;++n)if(e[n].code===this._currentProjectionUnits){t.push(e[n].label);break}return t.join(" ")}_initContainer(){var t=this._createMainContainerElement(),e=this._showMousePositionButton=this._createShowMousePositionPictoElement();t.appendChild(e);var n=this._panelContainer=this._createMousePositionPanelElement(),i=this._createMousePositionPanelDivElement();n.appendChild(i);var r=this._panelHeaderContainer=this._createMousePositionPanelHeaderElement(),o=this._panelTitleContainer=this._createMousePositionPanelTitleElement();r.appendChild(o);var s=this._panelCloseButton=this._createMousePositionPanelCloseElement();r.appendChild(s),i.appendChild(r);var a=this._createMousePositionPanelBasicElement(this.options.displayAltitude,this.options.displayCoordinates,this.options.editCoordinates,this._currentProjectionUnits);i.appendChild(a);var l=this._createShowMousePositionSettingsElement(this.options.displayCoordinates);i.appendChild(l);var c=this._createMousePositionSettingsElement(),u=this._projectionSystemsContainer=this._createMousePositionSettingsSystemsElement(this._projectionSystems),h=this._projectionUnitsContainer=this._createMousePositionSettingsUnitsElement(this._projectionUnits[this._currentProjectionType]);return c.appendChild(u),c.appendChild(h),i.appendChild(c),t.appendChild(n),t}_setElevationPanel(t){var e=null;t?(e=document.getElementById("GPmousePositionAltitude-"+this._uid),e.style.display=""):(e=document.getElementById("GPmousePositionAltitude-"+this._uid),e.style.display="none")}_setCoordinatesPanel(t){var e=document.getElementById("GPmousePositionCoordinate-"+this._uid);e.style.display=t?"":"none"}_setSettingsPanel(t){var e=document.getElementById("GPshowMousePositionSettingsPicto-"+this._uid),n=document.getElementById("GPmousePositionSettings-"+this._uid);t?(e.style.display="",n.style.display=""):(e.style.display="none",n.style.display="none")}_setTypeUnitsPanel(t){var e=this._projectionUnitsContainer;while(e.firstChild)e.removeChild(e.firstChild);for(var n=this._projectionUnits[t],i=0;i<n.length;i++){var r=n[i],o=document.createElement("option");o.value=r.code?r.code:i,o.text=r.label||i,e.appendChild(o)}var s=this._projectionUnits[t][0].code;"DMS"!==this._currentProjectionUnits&&"DMS"!==s||(this._resetCoordinateElements(this.options.editCoordinates,t,s),this._setEditMode(this.editing)),this._currentProjectionType=t,this._resetLabelElements(t),this._resetUnitElements(s),this._currentProjectionUnits=s}_displayDEC(t){var e={};return e.lat=t[1].toFixed(6),e.lng=t[0].toFixed(6),e.unit="°",e}_displayDMS(t){return{lng:Ld.decimalToDMS(t[0],"EO",2),lat:Ld.decimalToDMS(t[1],"NS",2),unit:"DMS"}}_displayRAD(t){var e={},n=.017453292519943295;return e.lng=t[0]*n,e.lng=e.lng.toFixed(8),e.lat=t[1]*n,e.lat=e.lat.toFixed(8),e.unit="rad",e}_displayGON(t){var e={},n=1.1111111111111112;return e.lng=t[0]*n,e.lng=e.lng.toFixed(8),e.lat=t[1]*n,e.lat=e.lat.toFixed(8),e.unit="gon",e}_displayMeter(t){var e={};return e.x=t[0].toFixed(2),e.y=t[1].toFixed(2),e.unit="m",e}_displayKMeter(t){var e={};return e.x=(t[0]/1e3).toFixed(2),e.y=(t[1]/1e3).toFixed(2),e.unit="km",e}_setCoordinate(t,e){var n={},i=this._currentProjectionSystems.crs;if(i){t=(0,Z.pd)(t,e,i);for(var r=this._currentProjectionSystems.type,o=null,s=this._projectionUnits[r],a=0;a<s.length;a++)if(s[a].code===this._currentProjectionUnits){o=s[a].format;break}o&&"function"===typeof o?(n=o(t),n&&0!==Object.keys(n).length&&this.GPdisplayCoords(n)):zv.log("WARNING : coordinates format function not found")}else zv.log("ERROR : system crs not found")}_setElevation(t){var e=this.options.altitude.responseDelay,n=this.options.altitude.noDataValue,i=this.options.altitude.noDataValueTolerance;this.GPdisplayElevation(t,e,n,i)}onMoveStopped(t,e){var n=(0,Z.pd)(t,e,"EPSG:4326");this._setElevation(n)}onMouseMove(t){var e=this,n=t.coordinate;if(t.map&&t.map.getView()){var i=t.map.getView().getProjection();this._setCoordinate(n,i),clearTimeout(this._timer),this._timer=setTimeout((function(){e.onMoveStopped(n,i)}),this.options.altitude.triggerDelay)}}onMapMove(){var t=this,e=this.getMap();if(e&&e.getView()){var n=e.getView(),i=n.getCenter(),r=n.getProjection();this._setCoordinate(i,r),clearTimeout(this._timer),this._timer=setTimeout((function(){t.onMoveStopped(i,r)}),this.options.altitude.triggerDelay)}}onRequestAltitude(t,e){if(t&&0!==Object.keys(t).length&&this.options.displayAltitude){var n=this.options.altitude.serviceOptions||{},i=n.protocol||"XHR",r=n.timeOut||0;"JSONP"===i&&0===r&&(r=15e3);var o=n.outputFormat||"json",s=!0;s=!1!==n.zonly||n.zonly;var a=n.measures||!1,l=[{lon:t[0],lat:t[1]}],c=n.resource,u=this,h=n.rawResponse||!1,d=n.onSuccess||null,p=null,g=null;p=h?function(t){d&&d.call(this,t),zv.log("alti service raw response : ",t)}:function(t){t&&Object.keys(t).length&&(d&&d.call(this,t),e.call(this,t.elevations[0].z))},g=function(t){zv.log("[getAltitude] ERROR : "+t.message)};var f=n.apiKey||this.options.apiKey;"boolean"!==typeof n.ssl&&("boolean"===typeof this.options.ssl?n.ssl=this.options.ssl:n.ssl=!0);var m=n.ssl;bn.Ay.Services.getAltitude({apiKey:f,protocol:i,ssl:m,timeOut:r,scope:u,outputFormat:o,rawResponse:h,onSuccess:p,onFailure:g,zonly:s,measures:a,resource:c,positions:l})}}onShowMousePositionClick(){var t=this.getMap();Un.unset(t);var e=this._showMousePositionButton.ariaPressed;this.collapsed=!("true"===e),this.dispatchEvent("change:collapsed"),"false"===e?(0,ur.e)(this.listenerKey):this.editing||(this._isDesktop?this.listenerKey=t.on("pointermove",(t=>{this.onMouseMove(t)})):(this.listenerKey=t.on("moveend",(t=>this.onMapMove(t))),this.onMapMove())),this._setElevationPanel(this.options.displayAltitude),this._setCoordinatesPanel(this.options.displayCoordinates),this.options.displayCoordinates||this._setSettingsPanel(!1)}onShowMousePositionSettingsClick(t){if(!this.draggable)t.target.ariaPressed}onMousePositionEditModeClick(t){if(this.options.editCoordinates&&this.editing!==t){this.editing=t,this._setEditMode(this.editing);var e=this.getMap();this._isDesktop?this.editing?(0,ur.e)(this.listenerKey):(this.listenerKey=e.on("pointermove",(t=>{this.onMouseMove(t)})),this.onMapMove()):this.editing?(0,ur.e)(this.listenerKey):(this.listenerKey=e.on("moveend",(t=>this.onMapMove(t))),this.onMapMove()),!this.editing&&this._markerOverlay&&this._markerOverlay.setPosition(void 0)}}getCoordinate(t){var e=document.getElementById(this._addUID("GPmousePosition"+t+"Degrees")),n=e.value;if(!n)return null;if(n=n.replace(",","."),!Ld.isInteger(n))return null;var i=Ld.toInteger(n);if(i<Number(e.dataset.min)||i>Number(e.dataset.max))return null;var r=document.getElementById(this._addUID("GPmousePosition"+t+"Direction")).value,o=document.getElementById(this._addUID("GPmousePosition"+t+"Minutes")),s=o.value;if(s&&(s=s.replace(",","."),Ld.isInteger(s))){var a=Ld.toInteger(s);a>=Number(o.dataset.min)&&a<=Number(o.dataset.max)&&(i+=a/60)}var l=document.getElementById(this._addUID("GPmousePosition"+t+"Seconds")),c=l.value;if(c){c=c.replace(",",".");var u=Ld.toFloat(c);u&&u>=Number(l.dataset.min)&&u<=Number(l.dataset.max)&&(i+=u/3600)}return"O"!==r&&"S"!==r||(i=-i),i}locateDMSCoordinates(){var t=[this.getCoordinate("Lon"),this.getCoordinate("Lat")];if(null!==t[0]&&null!==t[1]){var e=this._currentProjectionSystems.crs;if(e){var n=this.getMap().getView(),i=(0,Z.pd)(t,e,n.getProjection());n.setCenter(i),this._markerOverlay&&!this._hideMarker&&this._markerOverlay.setPosition(i)}else zv.log("ERROR : system crs not found")}}locateCoordinates(){var t=document.getElementById(this._addUID("GPmousePositionLon")).value;if(t=t.replace(",","."),t=Ld.toFloat(t),null!==t){var e=document.getElementById(this._addUID("GPmousePositionLat")).value;if(e=e.replace(",","."),e=Ld.toFloat(e),null!==e){var n=this._currentProjectionSystems.crs;if(n){var i;i="Geographical"===this._currentProjectionSystems.type?[this.convert(t),this.convert(e)]:[this.convert(e),this.convert(t)];var r=(0,Z.pd)(i,this._currentProjectionSystems.crs,"EPSG:4326"),o=this._currentProjectionSystems.geoBBox;if(o){var s=[o.left,o.bottom,o.right,o.top];if(r[0]<s[0]||r[0]>s[2])return;if(r[1]<s[1]||r[1]>s[3])return}var a=this.getMap().getView(),l=(0,Z.pd)(i,n,a.getProjection());a.setCenter(l),this._markerOverlay&&!this._hideMarker&&this._markerOverlay.setPosition(l)}else zv.log("ERROR : system crs not found")}}}onMousePositionEditModeLocateClick(){if(this.options.editCoordinates)if(this.editing){"DMS"===this._currentProjectionUnits?this.locateDMSCoordinates():this.locateCoordinates();var t=this.options.mapCenterCallback;if("function"===typeof t){var e=this.getMap().getView(),n=e.getCenter();t.call(this,n)}}else this.onMousePositionEditModeClick(!0)}onMousePositionProjectionSystemChange(t){var e=t.target.selectedIndex,n=t.target.options[e].value;this._setCurrentSystem(n)}_setCurrentSystem(t){for(var e=null,n=0;n<this._projectionSystems.length;++n)if(this._projectionSystems[n].code===Number(t)){e=this._projectionSystems[n].type;break}e?(this._currentProjectionSystems=this._projectionSystems[Number(t)],e!==this._currentProjectionType&&this._setTypeUnitsPanel(e),this._isDesktop||this.onMapMove()):zv.log("system not found in projection systems container")}onMousePositionProjectionSystemMouseOver(t){zv.trace(t);var e=this.getMap();if(e&&e.getView()){var n=e.getView(),i=n.getProjection(),r=n.calculateExtent(e.getSize());r=(0,Z.DI)(r,i,"EPSG:4326");var o=document.getElementById(this._addUID("GPmousePositionProjectionSystem"));o.innerHTML="";for(var s=0;s<this._projectionSystems.length;s++){var a=this._projectionSystems[s],l=null;if(a.geoBBox&&(r[0]>a.geoBBox.right||r[1]>a.geoBBox.top||r[2]<a.geoBBox.left||r[3]<a.geoBBox.bottom))a===this._currentProjectionSystems&&(l=document.createElement("option"),l.value=a.code,l.text=a.label||s,l.setAttribute("selected","selected"),l.setAttribute("disabled","disabled"),o.appendChild(l));else{var c=document.createElement("option");c.value=a.code,c.text=a.label||s,a===this._currentProjectionSystems&&c.setAttribute("selected","selected"),o.appendChild(c)}}}}onMousePositionProjectionUnitsChange(t){var e=t.target.selectedIndex,n=t.target.options[e].value,i=this._currentProjectionUnits;this._currentProjectionUnits=n,this._resetLabelElements(this._currentProjectionType),this._resetUnitElements(this._currentProjectionUnits),"DMS"!==i&&"DMS"!==this._currentProjectionUnits||(this._resetCoordinateElements(this.options.editCoordinates,this._currentProjectionType,this._currentProjectionUnits),this._setEditMode(this.editing)),this._isDesktop||this.onMapMove()}convert(t){var e;if("M"===this._currentProjectionUnits||"DEC"===this._currentProjectionUnits)e=t;else if("KM"===this._currentProjectionUnits)e=1e3*t;else if("RAD"===this._currentProjectionUnits){var n=(180/Math.PI).toFixed(20);e=(t*n).toFixed(20)}else if("GON"===this._currentProjectionUnits){var i=.9.toFixed(20);e=(t*i).toFixed(20)}return e}validateExtentCoordinate(t,e){if(-1===["Lon","Lat"].indexOf(t))return!1;var n=e.replace(",",".");if(n=Ld.toFloat(n),null===n)return!1;n=this.convert(n);var i=this._currentProjectionSystems.geoBBox;if(void 0===i)return!0;var r=[i.left,i.bottom,i.right,i.top];return r=(0,Z.DI)(r,"EPSG:4326",this._currentProjectionSystems.crs),("Lat"!==t||!(n<r[0]||n>r[2]))&&("Lon"!==t||!(n<r[1]||n>r[3]))}};Object.assign(Wv.prototype,jv);var Vv=Wv;window.ol&&window.ol.control&&(window.ol.control.GeoportalMousePosition=Wv);var Yv=n(5940),Hv=n(3277),qv={drawing_portail:[{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAClFBMVEUAAAD//////////////////////////////////////////////////////////fv/+fL//////////////////////////////////////////////////////////////////////////////////////v7//////fr/////+vL//////////////////Pj//////////////////////////////////////////////////////////////////////////v7//////////////////////////////////////v7//////////////////////////////////////////////////////////////////////////////v7/////////////9+v/9ej/9+z/7tT/3q3/y3//v2D/uU//+O7/5L3/xW//piH/mQH/mAD//v7/79f/yXj/oxr/lwD/mQD//fv/58T/tkr/mQL//v3/58P/sTz/79b/tUf/x3X/mQP/5Lv/oRX/ng3/s0H/w2n/u1b/4rf/8Nr/9eb/7tX/pBv/x3P/8d7/3av/79j///7/zH//mgX/2qP//vz/9+3/wGH/qyz/6Mb/vFj/sj//7NH/wGL/rTP/6sr/+fH/yXf/oBP/37H/2aH/6sz/nw//oBT/0pD/+vT/9OX/uE7/pB3/y33/7ND//Pj/26b/mwj/nAn/sT7/w2r/zYL/8+P/ulT/mwb/5Lz/qCj/+/b/1JT/nQz/nQ3/9uj/w2j/mAH/9un/6sv/skH/lwH/3Kf/pB7/pR7/3Kj/nAj/y37/+/f/8t//mQT/rDD/rDH/1JX/7tb/4LT/pR//z4j/z4n/vFn/7dP/4rn//fq31ydlAAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKnVAysoAAAMmSURBVDjLY2AAA0ZGJmYWVjZ2juRkDnY2VhZmJkZGBiTAyMnFzcPLxy+QkpqaIsDPx8vDzcWJpIJRUEhYRDQtPSMzKzs7KzMjPU1URFhIEK6CUUxcIjknNy+/oBAMCvLzcnOSJcTFGGHyklJFxSWlZYWF5WBQWFhWWlJcJCUJUcEoLSNbUVlVDZWFqqmuqqyQlZEGqZCTV6iprStDkQeqKKurrVGQlwMawMWTXN+ALg9S0VCfzMPFyCAorpjW2ASzvQwIYOymxjRFcUEGLqWa5pZCqONa27Ky2lqhji1saa5R4mJQVklpL4M6rKOzq7u7q7MD6uCy9hQVZQZVtZ5eML+woK+/KBkIivr7CiAivT1qqgzqGhPA3MKy7ImTksFg0sRssEMKCyZoqDNoak2GKJ8ydVoyFEybOgUiNllLk0F7+gwwp2zmrGQ4mDUT7KzCGdO1GZJTZkMUzJmLUDB3DkTB7JRkBp3p8yAK5i9AKFgwH6Jg3nQdBt2FiyD2LV5SBJMvWrIYIrZooS6Dnv5SCKesPQ2mIK0dEpyFS/X1GAwMly2H8FasXAWRX7VyBURk+TJDAwYj49VroAG3dt16oC1F69ethQbtmtXGRgwmphs2boKq2Lxl67ZtW7dshspv2rjB1ITBzFxn+44yeGTu3AmPzrId23XMzRg4LSwrdu2GJQdQkoQxd++qsLTgZGC0MrLes3cfZoLZv3ePtZEVMM0x2tjqHDh4CD3JHdp62M7eBpxqOR0cnY4cPYaaaI8dPeLk7MAJSfZyLq4Vx08UIqkoLDx5qsLNRQ6WMQTdPfasO42sYPOZsx6eiKzF6eXtc27HebiKwvM7zvl4e3EiZU5fv+TcC4icdTFX1M8XNXv7yyZfaoEpaLmULBuAIs/AEGivsrAd4ozCze0LVYICUeUZGIND+C63gTJQYVNbMV9oMJoBQBVh4clXroKC+uqV5PAIDHmgCsnIimv7Cgv3Xa+IlMQiDwzyqOiUG1Om3EiJjrLBpgDojBi7mxcu3LSLCcYqD1QRGzft1q1pcbE45IExH59w+3ZCvBUuBUBnJCYlJaI6AABB269xUXFElwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NDM6MjIrMDA6MDB1WI3HAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACplBMVEUAAAD//////////////////////////////////////////////////////////fz/9/P//////////////////////////////////////////////////////////////////////////////////////v7//////Pr/////////////////////+/n//////////////////////////////////////////////////////////////////////////v7//////////////////////////////////////v7//////////////////////////////////////////////////////////////////////////////v7/////////////8+3/8er/9O7/5dj/zrX/s4z/oHH/lmL/9fD/2MT/qX7/ejj/Zxz/Zhn/Zhr//v7/59z/rof/djL/ZBf/Zxv//fz/3Mr/k13/aBz/ZRn//f3/i1D/5tr/kVr/ZRj/rIP//v3/1sL/cy3/byf/jVX/pnn/aB3/mmf/077/6d7/8On/5tn/dzT/q4H/6+H/zbP/lmH/s43/ah//yK3/9O//oXL/gUP/3cz/m2n/jVT/5Nb/onP/hkn/4ND/9vL/rob/cSv/0Ln/x6r/Zxr/Yxb/pXn/8+7/4NH/cCj/ciz/vZz/+PX/7+f/lWH/eDT/sov/49X/+/n/ya//ayH/bCP/jFL/pnr/tJD/7ub/mWb/ZBb/aiD/18P/fj3/+vf/vp//bSX/bib/v5//pXj/8uv/yrD/eDX/eTb/y7H/bCL/soz/7OL/18T/g0b/hEb/v6D/cy7/wKH/9vP/5tv/jlX/59v/0rz/ejf/uJX/nGr/aR//nGv/g0X/1cD//PvyoJNrAAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAA0JJREFUOMtjYAADRkYmZhZWNnaOpCQOdjZWFmYmRkYGJMDIycXNw8vHL5CckpIswM/Hy8PNxYmkglFQSFhENDUtPSMzKyszIz0tVVREWEgQroJRTFwiKTsnNy+/oBAICvLzcnOykyTExRhh8pJSRcUlpWWFheVgUFhYVlpSXCQlCVHBKC0jW1FZVV1TjgRqqqsqK2RlpEEq5OQVaivrygrLUUBhWV1lrYK8HNAALp6k+oZGNHmgisaG+iQeLkYGQXHF1KZ8mO2NZWUwtYX5TamK4oIMXErNLa0FEKGatvbMzPa2GoiSgtaWZiUuBmWV5I5GiHxnV3dPb29Pd1cnREVjR7KKMoOqWl9/IcTICROLkoCgaOIEiJWF/X1qqgzqGpPA3MKyycVgeaCK4slgTxXmT9JQZ9AUmAJRPnVaRRIUVEybChGbIqDJoDV9BpjTOHNWEhzMmgl2VuGM6VoMScmzwQrK5sxFKJg7pwysYHZyEoP29HkQE+YvQChYMB9iwrzp2gw6CxeBFRQsXlIEky9ashgcMoWLFuow6OotBXOWLV+xEqZg5Yrly8CalurpMugbrFoNMWLN2nUQ+XVr10AMWL3KQJ/B0Gj9BkhINm7ctBkkv3nTRqjAhvVGhgzGJlu2boMG7fYdO3ft2rljOzTot23dYmLMYGqmvXvPXmgE7i3bt69sLzQ69+7ZrW1mysBpblGx/0AjLLGBAITdeGB/hYU5JwOjpaHVwUOHMRPMkaMHrQwtgWmO0dpGO+VYAXqSK+g4bmtnDU61nPYOjgvaURNdYWP7Kkcne05Ispdzdqk4cbIGSUVhzanTFa7OcrCMIejmfnDTmQKEgoIzZw+6eyCyFqenl/e5PeVwIwrL95zz9vLkRMqcPr5J5y/AHFpYcPG8qK8Pavb2k026dBkaGo2XryTJ+qPIMzAE2KlcXbEN7IyCbR1XVQIDUOUZGIOC+a61VwMtKay+foMvJAjNAKCK0LCkm7dAIX3rZlJYOIY8UIVkRMXtI4WFR25XREhikQcGeWRU8p27d+8lR0VaY1MAdEa0bdr9+2m20UFY5YEqYmJrHzyojY3BIQ+M+bj4hw/j4yxxKQA6IyExMQHVAQBpWLIaKI0lIgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NDQ6MDYrMDA6MDAh7rXQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACbVBMVEUAAAD/////////////////////////////////////////////////////////+/v/8vL//////////////////////////////////////////////////////////////////////////////////////v7/////+vr/////////////////////+Pj//////////////////////////////////////////////////////////////////////////v7//////////////////////////////////////v7//////////////////////////////////////////////////////////////////////////////v7/////////////6+v/6Oj/7Oz/1NT/ra3/f3//YGD/T0//7u7/vb3/b2//ISH/AQH/AAD//v7/19f/eHj/Ghr/+/v/xMT/Skr/AgL//f3/w8P/PDz/1tb/R0f/dXX/AwP/u7v/FRX/DQ3/QUH/aWn/Vlb/t7f/2tr/5ub/1dX/Gxv/c3P/3t7/q6v/2Nj/BQX/o6P//Pz/7e3/YWH/LCz/xsb/WFj/Pz//0dH/YmL/MzP/ysr/8fH/d3f/ExP/sbH/oaH/zMz/Dw//FBT/kJD/9PT/5eX/Tk7/HR3/fX3/0ND/+Pj/pqb/CAj/CQn/Pj7/amr/goL/4+P/VFT/Bgb/vLz/KCj/9vb/lJT/DAz/aGj/6en/y8v/p6f/Hh7/qKj/fn7/9/f/39//BAT/MDD/MTH/lZX/tLT/Hx//iIj/iYn/WVn/09P/ubn/+vpgzcAPAAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAAu1JREFUOMtjYAADRkYmZhZWNnaOpCQOdjZWFmYmRkYGJMDIycXNw8vHL5CckpIswM/Hy8PNxYmkglFQSFhENDUtPSMzKyszIz0tVVREWEgQroJRTFwiKTsnNy+/AAzy83JzspMkxMUYYfKSUoVFxSUFSKCkuKhQShKiglFaRra0rLyiAAVUlJeVyspIg1TIyStUVlUXYIDqqkoFeTmgAVw8STW1BVhAbU0SDxcjg6C4YmpdPTYF9XWpiuKCDFxKlQ2NMLGm5szM5iYYr7GhUomLQVkluQXmsNa29o6O9rZWmINbklWUGVTVOrug3u/uKUwCgsKebmiAdHWqqTKoa/RCuVl9YHmgir4sqJZeDXUGTYEMCK9/wsQkKJg4oR8iliGgyaA1aTKEM2VqEhxMnQIRmzxJiyEpeRqEM30GQsGM6RCxaclJDNqTZkI4s2YjFMyeBRGbOUmbQWfOXAhn3vxCmHzh/HkQsblzdBh09RbAfJ0KU5AKC5kFeroM+gYLF0F4i5cshcgvXbIYIrJooYE+g6HRsuVQ9StWrgLaUrhq5QqowPJlRoYMxiar16yFCqxbv2Hjxg3r10G5a9esNjFmMDXT3rQZEYVbtiDYmzdpm5kycJpblG7dhi26t20ttTDnZGC0NLTavmMnpnzTju1WhpbANMdobaOdsisfXT5/w25bO2twquW0d3Dc04ymIr95j6OTPSck2cs5u5Tu3YeqYN/+UldnOVjGEHRz375yLbL8ugMH3T0QWYvT08v70ObDCPnDmw95e3lyImVOH9+knCMIBUdzRH19ULO3n2zSMXjibjyWJOuPIs/AEGCnMqcF6ox1LXNUAgNQ5RkYg4L5aprBGai+uYgvJAjNAKCK0LCk4ydACk4cTwoLx5AHqpCMKD0JDPKdp0ojJLHIA4M8Mir5dH//6eSoSGtsCoDOiLY9c+TIGdvoIKzyQBUxsRPPnp0YG4NDHhjzcfHnzsXHWeJSAHRGQmJiAqoDAOgCnVLAYqeOAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI5OjM3KzAwOjAwSlqgvwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMjo0NDoxOSswMDowMBsMxacAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACf1BMVEUAAAD//////////////////////////////////////////////////////////P3/9Pn//////////////////////////////////////////////////////////////////////////////////////v7/////+/3/////9fr/////////////////+vz//////////////////////////////////////////////////////////////////////////v7//////////////////////////////////////v7//////////////////////////////////////////////////////////////////////////////v7/////////////7/f/7PX/8Pf/3O7/vd7/mcv/gL//c7n/8fj/yuT/jMX/Tab/NJn/MZj/Mpj//v7/3+//k8n/R6P/L5f/M5n//P3/0Of/brb//f7/z+f/Y7H/MJf/bLX/kcf/yeT/Q6H/PZ7/ZrP/h8P/d7v/xeL/4fD/6/X/3e7/SaT/j8f/5PH/u93/crn//v//mMz/N5r/tdr/gcD/Vqv/0ej/ebz/ZrL/2uz/gsD/XK3/1er/8/n/ksn/QaD/wN//tNn/1ur/P5//QqD/ptL/9vr/6vT/cbj/l8v/+vz/t9v/OJv/Opz/ZLH/iMP/m83/6fP/d7r/N5v/Uqj/Mpn/+Pv/qdT/PJ3/7fb/Z7L/uNz/SqT/S6X/udz/OZz/mMv/5fL/drr/Waz/Wqz/qtT/RKH/q9T/9Pn/3u7/Z7P/w+D/TKX/oM//PZ3/erz/Npr/3O3/x+L/+/0F2pMDAAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAAM4SURBVDjLdZNnWxNBFIVnEZGEGpBeROkSuoIUwS4KFkTFQp+wFEWzk+AmEFhEDBZQlA5ioxcRsCDYELADSvlBbnY2kACeTztz3r1znztnAOBEEAYbDDcabTKG0HiT0UbDDQYEAXRECIQmpmbmFpaS7GyJpYW5mamJUKBDECIr6802ZE5uXv6lS/l5uTmkzWZrK9EyQdja2cPLBVeuSinEipJevVJwGdrb2RJa38FRJi+8RiOk4IQQfa1QLnN0wATh5OyiLCqWUgodUdLiIqWLs5OGcN3ipiopZZBCT4gpLVG5bXFlCwhNobxsta8hyuTQVEgAkd1W8rpUezrDSvstvU5utRMB4TZV+Q18PqIqbubn36ygMELdKFdtEwJ3D4ma4X+pvHX7zp3btyr5goxa4uEOPL3uViHsV9+TQVaye9WYQFV3vTyBt899bomYGvkDyOmBvIZrBEnv+3gD3+0PMV5bp4K8VHW1eO/hdl/gR9ZzC6ahES6rsYFrC9WTfgBKmjiAbm5ZAVqaaQ5okkAgJltxhUdtK0DbI1yhlRQD/8dPOIB6+kym9WXPnnKTQU8e+4OAwOe4IVpNagFSTeO954EBICi4vQOvOru6sd/d1Yl3OtqDg0BIaE8vnjRT1dfCniJr6avCo6V6e0JDwI6d/QMv+NEOvhwaHh56OciP/sVA/84dICxcPPKK5i+Qpl+/pmn+OulXI+LwMCDYFaEsf8PH6a0mk2/5UL0pV0bsEgAiMiRq9N3Y2sCMvRuNColkM0dE7xaPq6nVkaPU4zGx0VxqBXv27mtr1g8dYt637du/R4Bj73rgoPLDR90aiPr0WXnogKv2YYgOx432Tejknhr8Mhp3ZOVpCY7GJ0xOKZZLIMXUZEL8UYHO4zx2HBZMaw9B1NcCm+PH9J/3CRf47Tt/CPX9B3Q5qecDkBjr8VON26Amhn56nErU9wGRdNr8129NfJH0t9z8TNKqAixxNhnOzGpGPTsDk8+t8VnC4bxybgyhP3PK8w7r+OzIL1yU/J2f/yu5eCF6PYBtIyVmYXp6ISYlaV2fJVLTVIuLqrTU//jszadnLC1lpEf+D2DbyMzKytRv4B+n7ayGbXJj1gAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NDQ6MjkrMDA6MDCVg8JEAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACslBMVEUAAAD////////////////////////////////////////////////////////+/fz79/T////////////////////////////////////////////////////////////////////////////////////+/v7////9/Pv////79/X////////////////9+/r////////////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////58+/48ez69PDz5dzpzr3cspnUoIDQlXP69PHt18rYqIzDeU27ZjS6ZTG6ZTL+/v7059/brpPCdUe6Yy+7ZjP+/fzv29DOkm67ZzS6ZDH+/f3v28/LiWO6YzD05t/OkGy6ZDDarJH+/v3t1snAckO+bj3MjWbUn4DXpYfRmXfr08X16eH48Ovz5t3CdknZqo/26+TozLvQlXL//v7dspi8aTfmyLXUoIHGgFbv3NHSm3m5Yy/LjGby49rVoYLIhVzx39X79vPbrZK/cEHq0MDmxrS6ZjK5Yi/58/Dx4Na+bz/AcULhvab8+Pb47+rPlHHCd0ncsZf9+/rnybe9aji9azrLi2TXpojdtJv37unt18nFfVK7ZTL8+vjivqm+bTziv6n58e3WpIfWpYfx4NXMjWfnyrjCd0rDeEvoyrm9azncsZj27OXRmHbHg1nIg1rt2Mriv6rAckTjwKv79vS8ajm9ajnXpYj05t7r0sPDeUzfuKC+bT3Sm3q8aTbIglns1cf9/Pua7OXrAAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAANISURBVDjLY2AAA0ZGJmYWVjZ2juRkDnY2VhZmJkZGBiTAyMnFzcPLxy+QkpqaIsDPx8vDzcWJpIJRUEhYRDQtPSMzKzs7KzMjPU1URFhIEK6CUUxcIjknNy+/oLAICAoL8vNyc5IlxMUYYfKSUsUlpWXlRUUVYFBUVF5WWlIsJQlRwSgtI1tZVV1TW4EEamuqqyplZaRBKuTkFerqGxqLKlBAUWNDfZ2CvBzQAC6e5KbmFjR5oIqW5qZkHi5GBkFxxbTWApjtLY2NMLVFBa1piuKCDFxKbe0dhRCh2s6u7u6uzlqIksKO9jYlLgZllZSeFoh8TW9f/4QJ/X29NRAVLT0pKsoMqmoTJxVBjJw8pTgZCIqnTIZYWTRpopoqg7rGVDC3qHFayfRkMJheMg3sqaKCqRrqDJpaMyDKZ86qS4aCulkzIWIztDQZtNNmgzktc+Ymw8HcOWBnFc1O02ZITpkHVjB/wUKEgoUL5oMVzEtJZtBJWwQxYfEShIIliyEmLErTYdBdugysoHD5imKYfPGK5eCQKVq2VJdBT38lWMGq1T1rYArW9KxeBVawUl+PwcBw7TqIk9dv2AiR37hhPURk3VpDAwYj402bITHdsmXrQqAtxQu3boEEbe3mTcZGDCam27bvgAbtzl279+zZvWsnNOh3bN9masJgZq6zt3c+NALnz585c/58aHTO792rY27GwGlhWblvPzQ5HQClyQPQRLV/X6WlBScDo5WR9cFDhzETzOEjB62NrIBpjtHGVufosUL0JFd4/KidvQ041XI6ODqd6EJNdEUtJ084OTtwQpK9nItr5anTtUgqimrPnK10c5GDZQxBd4+DW88VIhQU7jx/0MMTkbU4vbx9LlysgBtRVHHxgo+3FydS5vT1S869BHNoUeHlK6J+vqjZ2182+eo1aGjUXrueLBuAIs/AEGivcqPnJtgZhbdu31AJCkSVZ2AMDuG7cxKU3otqTpbwhQajGQBUERaefPceKKjv3U0Oj8CQB6qQjKy8f7io6MH9ykhJLPLAII+KTnn46NHDlOgoG2wKgM6IsUt//DjdLiYYqzxQRWxc3ZMndXGxOOSBMR+f8PRpQrwVLgVAZyQmJSWiOgAArqa4BP2YBKMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjQ0OjQ2KzAwOjAwpaS7KgAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAChVBMVEUAAAD//////////////////////////////////////////////////////////vv//fL//////////////////////////////////////////////////////////////////////////////////////v7//////vr//////////////////////vj//////v///////////////////////////////////////////////////////////////////v7//////////////////////////////////////v7//////////////////////////////////////////////////////////////////////////////v7//////////////Ov/++j//Oz/+dT/863/7X//6mD/50///O7/9r3/62//4SH/3QH/3AD//v7/+df/7Xj/4Br/3QD//vv/98T/5kr/3QL//v3/98P/5Tz/+db/5kf/7HX/3QP/9rv/4BX/3g3/5UH/6WD/62n/6Fb/9bf/+tr/++b/+dX/4Bv/7HP/+t7///7/86v/+dj/3QX/8qP//vz//O3/6mH/4iz/98b/6Fj/5T//+dH/6mL/4zP/+Mr//fH/7Hf/3xP/9LH/8qH/6mn/+Mz/3g//3xT/8JD//fT/++X/507/4B3/7X3/+ND//vj/86b/3Qj/3gn/5T7/62r/7oL/++P/6FT/3Qb/9rz/4ij//fb/8ZT/3gz//Oj/62j/3AH//On/+Mv/86f/4R7/86j/7n7//vf/+t//3QT/4zD/4zH/8JX/3xX/3gj/9bT/4R//74j/74n/6Fn/+dP/9bn//vrsMn7uAAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAAxZJREFUOMtjYAADRkYmZhZWNnaOpCQOdjZWFmYmRkYGJMDIycXNw8vHL5CckpIswM/Hy8PNxYmkglFQSFhENDUtPSMzKyszIz0tVVREWEgQroJRTFwiKTsnNy+/AAzy83JzspMkxMUYYfKSUoVFxSVAqVIwADJKiosKpSQhKhilZWTLyisqobJQNZUV5WWyMtIgFXLyClXVNQUo8iBTaqqrFOTlgAZw8STV1qHLg1TU1SbxcDEyCIorptY3IGxHuKShPlVRXJCBS6mqsakAKt3c0tra0gxVUtDUWKXExaCsktwGFahs7+js6ursaIc6uKAtWUWZQVWtuwfML8jv7etPAoL+vt58iEhPt5oqg7rGBDC3oCBrYmESGBROzALbUpA/QUOdQVMgA6J80uQpSVAwZfIkiFiGgCaD1tRpEM70GUlwMGM6RGzaVC2GpOSZEM6s2QgFs2dBxGYmJzFoT50D4cydh1Awby5EbM5UbQad+QsgnIWLCmHyhYsWQsQWzNdh0NVbDPX1klSYgtQlUKHFeroM+gZLl0GUL1+xEiK/csVyiMiypQb6DIZGq1ZD1a9Zuw5oS+G6tWugAqtXGRkyGJus37ARKrBp85atW7ds3gTlbtyw3sSYwdRMe9t2RGTu2IGIzu3btM1MGTjNLcp27oIlB0Rslxbs2llmYc7JwGhpaLV7z17MBNO8Z7eVoSUwzTFa22jv238APckd2HLQ1s4anGo57R0cD7Wgqig40HLI0cmeE5Ls5Zxdyg4fQVZQUHDkaJmrsxwsYwi6ue9euxFJRcGmY8fdPRBZi9PTy/vE9pNwFQUnt5/w9vLkRMqcPr5JOacQOet0jqivD2r29pNNOnMWpuDsmSRZfxR5BoYAO5X5becgcbSpbb5KYACqPANjUDBfbQsoAxU0tBTxhQShGQBUERqWdP4CKKgvnE8KC8eQB6qQjCi7uLegYO+lsghJLPLAII+MSr48adLl5KhIa2wKgM6Itr1y6tQV2+ggrPJAFTGxU65enRIbg0MeGPNx8deuxcdZ4lIAdEZCYmICqgMA6f6os3UKuXAAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjQ0OjU4KzAwOjAwOTHA6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACr1BMVEUAAAD////////////////////////////////////////////////////////7/v3y+/n////////////////////////////////////////////////////////////////////////////////////+/v7////6/f3////y+/r////////////////4/fz//////v/////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////r+ffo+PXs+ffU8+2t591/28tg0r5Pzbju+vi97ORv1sQhwKUBt5gAtpf+/v7X9O942ckavqIAtZYAt5j7/v3E7udKy7UCt5j9/v7D7uY8x7DW8+5Hy7QAtpZ118cDt5i77OQVvKANup1BybJg0b5p1cJWz7q36uLa9PDm9/XV8u4bvqNz18be9fGr59zY8+9/2ssFuJmj5dr8/v7t+fdh0r8sw6rG7+hYz7s/ybHR8uxi0r8zxazK8Onx+/l32MgTvJ+x6N+h5Nlp1MLM8OoPu54UvJ+Q39L0/Prl9/ROzbcdv6N92srQ8ez4/fym5tsIuJoJuZs+yLBq1cOC28zj9/NUz7oGuJq87OMowaf2/PuU4NQMupwNupyU4dTo+PZo1MIBtpdq1cLp+fbL8OoBtpan5tsev6Mev6So5twIuZt+2sv3/Pvf9fJUzroEt5gwxKsxxKuV4NQVvaCV4dTW8+/X8++06eEfv6T7/f2I3c6J3c9Zz7wFuJrT8u256+L6/f3ow7cxAAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAAMvSURBVDjLY2AAA0ZGJmYWVjZ2juRkDnY2VhZmJkZGBiTAyMnFzcPLxy+QkpqaIsDPx8vDzcWJpIJRUEhYRDQtPSMzKzs7KzMjPU1URFhIEK6CUUxcIjknNy+/oBAMCvLzcnOSJcTFGGHyklJFxSWlZYWF5WBQWFhWWlJcJCUJUcEoLSNbUVlVDZWFqqmuqqyQlZEGqZCTV6iprStDkQeqKKurrVGQlwMawMWTXN/QiCYPVNHYUJ/Mw8XIICiumNbUDLO9sawMprawuSlNUVyQgUuppqW1EOq4tvaOjvY2qGMLW1tqlLgYlFVSOhuhDuvq7unt7enugjq4sTNFRZlBVa2vH8wvLJgwsSgZCIomTiiAiPT3qakyqGtMAnMLG7Mng+WBKiZngx1SWDBJQ51BU2sKRPnUadOToWD6tKkQsSlamgzaM2aCOY2zZifDwexZYGcVzpyhzZCcMgesoGzuPISCeXPLwArmpCQz6MyYDzFhwUKEgoULICbMn6HDoLtoMcS+JUuLYPJFS5dAxBYv0mXQ018G4ZQtT4MpSFsOiZrCZfp6DAaGK1ZCeKtWr4HIr1m9CiKycoWhAYOR8dp10IBbv2Ej0JaijRvWQ4N23VpjIwYT002bt0BVbN22fceO7du2QuW3bN5kasJgZq6zc1cZLBGU7d5dBksaZbt26pibMXBaWFbs2QtLDqAkCWPu3VNhacHJwGhlZL1v/wHMBHPw0D5rIytgmmO0sdU5fOQoepI7euy4nb0NONVyOjg6nWg/iZpoT7afcHJ24IQkezkX14pTpwuRVBQWnjlb4eYiB8sYgu4e+zacQ1aw9fwFD09E1uL08va5eOkyXEXh5UsXfby9OJEyp69fcu4VRM66mivq54uavf1lk6+1whRcv5EsG4Aiz8AQaK+yaDnEGYVbly9SCQpElWdgDA7hu9kOykCFze23+EKD0QwAqggLT759BxTUd24nh0dgyANVSEbevXegsPDA/buRkljkgUEeFZ3y4OHDBynRUTbYFACdEWP36MqVR3YxwVjlgSpi46Y/fjw9LhaHPDDm4xOePEmIt8KlAOiMxKSkRFQHAAAsgrQ2sknLAAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NDU6MTIrMDA6MDD2yfpjAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACfFBMVEUAAAD////////////////////////////////////////////////////////8/vz0/fT////////////////////////////////////////////////////////////////////////////////////+/v7////7/vv////1/fX////////////////6/vr//////v/////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////v/O/s++zw/PDc+dy9872Z7ZmA6oBz53Px/PHK9sqM64xN4U003TQx3DEy3DL+/v7f+d+T7ZNH4Ecv3C8z3TP8/vzQ99Bu5m79/v3P989j5WMw3DBs5myR7JHJ9slD4EM93j1m5WaA6YCH64d36HfF9cXh+uHr++vd+d1J4EmP7I/k+uT+//6787ty53KY7Zg33Te18rWB6oFW4lbR99F56Hna+dqC6oJc41zV+NXz/fOS7JJB30HA9MC08rQy3TKH6ofW+NY/3j9C30Km8Kb2/fbq++px53GX7Zfa+Nr6/vq387c43Tg63jpk5WSI64ib7pvp++lS4lL4/fip8ak83jzt/O1n5We487hK4UpL4Uu587k53TmY7pj4/vjl+uV26HZZ41la41qq8KpE30Sr8Kv0/fQ53jne+d7D9cNM4Uyg76B66Ho23TbH9cf7/vts+qXUAAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAAM8SURBVDjLdZP3X9NQFMVfFIUWLJRpVcoeYlVEQEUExIUyFFFRcfJqqiyb12paDQQKpQXZorJXARcbFRC3oohb/yHTJIUW8fyU5Hxz7/3cdx4ArDBs2XK7FSvtHSB0sF+5wm75MgwDVsIEQkenVSJnF/mlS3IXZ9EqJ0ehwIrAxK5u7h644vKVnNzcnCuXFbiHu5ureJ7APL1Ww7z8gqtKAjEilFcL8vPgai9PzOJL1qjU166TCGlYIURev6ZWrZFwBLZ2nbf2xk0lobESobx5Q+u9bq2ZkPr4UoVFNNLYCNFFhZSvj5QpIHSC6uLFvpkoVkMnIQbEXn54idLSnWZkeVaW4H5eYiD0p3SlXH9ElOnLy/VlBIcQpTrKXwgCAuUGmv/FWFF561ZlhZEvSBvkgQEgKLiqGnF+TW0dZFRXW8MRqLoqOAiEhNazr4huUKsgK5W6gR0EKetDQ8D6sNsc3niHgryoO43ct9th68EG/C77Qt9rgvNquseOhe7iGwCUN7MAqW9ZAFr0JAs0yyGQ4a1chbb2BaC9javQisvAxo5OFiC6ulUWX9XdxW4GdXZsBJs297CAiezFLQDeS5pYoGfzJhC+pa+fG/n+g4ec//DBfe5Lf9+WcBCx9dFjbtN09cAg00U1OFDNrZZ4/GhrBIiMGhoe4Vc7Ojb+5Mn42Ci/+pHhoahIEL1N9tRI8gdIko2NJMkfJ2l8KtsWDQTbd2h1z/g4mcyZNPGheqbT7tguAFhMxM6Jyal/AzM1ObEzIobJHBa7S/bcQCyOHGF4Hhcfy6ZWkLA7sV1vGzpET7cn7kkQcLGX7t2nffGSMFn//+q1dv9eqeViiA8kTQy8sco9Mfr2XdLBhaslOJSc8v6DZr4J0nx4n5J8SGB1OVPTYP6MZVBEfMz3SEu1vd6HveGnWb4JMfsZeh+x8QFIjw+cM3xhCeLL+Fzg0XRbH2AZx0Rfp83xRcppteh4xqICDHEiE377bl71928w8+Q/PkNITml/TCFU9kN7SrKEz6z8dJb8569fP+VZp2OXApgxzsQpZmYUcWcylvQZ4uw56vdv6tzZ//jMyZ+/8OfPhfMx/wOYMS5mZ1+0HeAvs9msMpv5tz0AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjQ1OjQxKzAwOjAwj8HumgAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACr1BMVEUAAAD////////////////////////////////////////////////////////9/vv5+/L////////////////////////////////////////////////////////////////////////////////////+/v7////9/fr////5+/P////////////////8/fn////////////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////3+uz1+en3+u3t9Nbd6rHK34W912i20lj4+u/j7sDD23ajxyyWvw6VvguVvgz+/v7u9drH3X+gxSWUvgmWvw39/vvm8Me00VP+/v3m8MauzkXu9Nmz0FDG3HyUvgrj7r+exCCbwhqwz0rB2XGWvw+51F7h7Lrv9dz0+Oft9NehxifF3Hrx9t/c6a+201j+//7K3oaYwBHZ56j+/vy+12moyjfn8Mn2+uy61WCwzkns89P3+u6+12qryz7p8c35+/HH3X6dwx7e67XY56aVvg2UvQjq8s6cwhuexB/R45b6/PT0+Oa20leVvgqhxijJ3oT8/fna6KqYwBOZwRavzkfB2XLL34nz+OS41F2UvQmYwBKmyDGWvwz7/PfS5JmawRebwhjT5JrB2XD1+erp8s79/vzb6ayiximixir7/PbJ3oOZwRXK3oTx9+Cpyzuqyzvj7sGexCH5+/KZwBSwz0vu9dng7LijxivO4Y6awRjO4Y+61WGXwBHt89Wpyzri7bz9/frM0I39AAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAANESURBVDjLY2AAA0ZGJmYWVjZ2juRkDnY2VhZmJkZGBiTAyMnFzcPLxy+QkpqaIsDPx8vDzcWJpIJRUEhYRDQtPSMzKzs7KzMjPU1URFhIEK6CUUxcIjknNy+/oLAICAoL8vNyc5IlxMUYYfKSUsUlpWXlhUUVYFBUWF5WWlIsJQlRwSgtI1tZVV1QWIEECguqqyplZaRBKuTkFWpq68qLKlBAUXldbY2CvBzQAC6e5PoGdHmQiob6ZB4uRgZBccW0xgKY7U3l5U0wdkFjmqK4IAOXUk1zSyHUca1tWVltrVDHFrY01yhxMSirpLQ3QeQ7Oru6e3q6uzo7ICqa2lNUlBlU1Xr7iiBG9k8oTgaC4gn9ECuL+nrVVBnUNSaCuUXlk0omJ4PB5JJJYEcXFUzUUGfQ1JoCUT512vRkKJg+bSpEbIqWJoN22gwwp2nmrGQ4mDUT7KyiGWnaDMmz54AVlM+dh1Awb245WMGc2ckMOvMXQBQsXIRQsGghRMGC+ToMuouXgBUULl1WDJMvXrYUHDJFSxbrMujpLwdzVqxsT4MpSGtfuQKsabm+HoOB4arVECPWrF0HkV+3dg3EgNWrDA0YjIzXb9gICbhNm+cBbSmet3kTJGg3blhvbMRgYrpl6zZo0G7fsXPXrp07tkODftvWLaYmDGbmOrv3rIQmk5V79+3buxKadFbu2a1jbsbAaWFZ2bwfYknFAVCaPABhb9zfXGlpwcnAaGVkffDQYcwEc+ToQWsjK2CaY7Sx1Uk9Voie5Ap3HreztwGnWk4HR6cTbU0oKoqa2k44OTtwQpK9nIvryVOnNyKpKNp45tRJNxc5WMYQdPc4e+48UrovPH/hoIcnImtxenn7XNxTATeiqGLPRR9vL06kzOnrl5x7CZGzLl8R9fNFzd7+sslHr0JDY+PVo8myASjyDAyB9irX2q+DnVF4vf2aSlAgqjwDY3AIX30bKPkWFdy4yRcajGYAUEVYePKt26Cgvn0rOTwCQx6oQjKy8s7doqK79yojJbHIA4M8Knr2/QcP7s+OjrLBpgDojBi7h48ePbSLCcYqD1QRGzf98ePpcbE45IExH5/w5ElCvBUuBUBnJCYlJaI6AADXv7i4Kd/lawAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NDk6NDUrMDA6MDBhsioHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACnVBMVEUAAAD////////////////////////////////////////////////////////7/fvy+fL////////////////////////////////////////////////////////////////////////////////////+/v7////6/Pr////////////////////4/Pj////////////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////r9uvo9Ojs9uzU69St2K1/w39gtWBPrU/u9+694L1vu28hlyEBiAEAhwD+/v7X7Nd4wHgalBoAhgAAiAD7/fvE48RKqkoCiAL9/v3D48M8pDzW7NZHqUd1vnUDiAO737sVkRUNjg1BpkFgtGBpuWkCiQJWsFa33bfa7drm8+bV69UblBtzvXPe796r16vY7Nj+//4FigWj1KP8/fzt9u1htWEsnCzG5Mbr9etYsVg/pT/R6dFitmIzoDPK5srx+PF3wHcTkBOx2rGh06EAhQDM58wPjg8UkRSQy5D0+vTl8uVOrE4dlR19wn3Q6dD4/Pim1aYIiwgJjAk+pD5qumqCxYLj8uNUr1QGiga837womij2+/aUzZQMjQwNjQ1ouGgBhwFquWrp9OnL5ssBhgGn1qcelR4elh6o1qj2+vZ+w373+/ff8N8EiAQwnjAxnjGVzZUVkhUJiwm03LQflh+IyIiJyIlZsVnT6tP8/vy53rn6/Pq97PRtAAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAAzFJREFUOMtjYAADRkYmZhZWNnaOpCQOdjZWFmYmRkYGJMDIycXNw8vHL5CckpIswM/Hy8PNxYmkglFQSFhENDUtPSMzKyszIz0tVVREWEgQroJRTFwiKTsnNy+/AAzy83JzspMkxMUYYfKSUoVFxSWlBQVlYFBQUFpSXFQoJQlRwSgtI1teUVkFlYWqqaqsKJeVkQapkJNXqK6pLUWRB6oora2pVpCXAxrAxZNUV48uD1JRX5fEw8XIICiumNrQCLO9FAhg7MaGVEVxQQYupeqm5gKo41pa29paW6COLWhuqlbiYlBWSW4vhQh0dHZ19/R0d3V2QFSUtierKDOoqvX2gfkF+f0TCpOAoHBCfz5EpK9XTZVBXWMimFtQmjVpchIYTJ6UBXZIQf5EDXUGTYEMiPIpU6clQcG0qVMgYhkCmgxa02eAOaUzZyXBwayZYGcVzJiuxZA0ew5Ewdx5CAXz5kIUzJmdxKA9fT5EwYKFCAULF0AUzJ+uzaCzaDHEviVLC2HyhUuXQMQWL9Jh0NVbBuEsb0+FKUhtXw4RW6any6BvsGIlhLdq9RqI/JrVqyAiK1cY6DMYGq1dBwnJ0vUbNgJDYvLGDeuhAuvWGhkyGJts2rwFGrRbt23fsWP7tq3QoN+yeZOJMYOpmfbOXcuhEbi8dPfu0uXQ6Fy+a6e2mSkDp7lF+Z69pbBUUABLd2Wle/eUW5hzMjBaGlrt238AM8Ec3L/PytASmOYYrW20Uw4dRk9yh48ctbWzBqdaTnsHx2Otx1ET7fHWY45O9pyQZC/n7FJ+4mQBkoqCglOny12d5WAZQ9DN/cyGLcgKtp495+6ByFqcnl7e53ddgKsouLDrvLeXJydS5vTxTcq5iMhZl3JEfX1Qs7efbNLlK9DQKL1yOUnWH0WegSHATmVRO8QZBVfbF6kEBqDKMzAGBfPVtYIyUEFjaxFfSBCaAUAVoWFJ166Dgvr6taSwcAx5oArJiPIbBwoKDtwsj5DEIg8M8sio2bemTLk1OyrSGpsCoDOibW9fvHjbNjoIqzxQRUzsnbt378TG4JAHxnxc/L178XGWuBQAnZGQmJiA6gAAFLyvxAL3bxQAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjQ5OjU2KzAwOjAwnPAwBAAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAClFBMVEUAAAD////////////////////////////////////////////////////////7//3y//n////////////////////////////////////////////////////////////////////////////////////+//7////6//3////y//r////////////////4//z////////////////////////////////////////////////////////////////////////+//7////////////////////////////////////+//7////////////////////////////////////////////////////////////////////////////+//7////////////r//fo//Xs//fU/+6t/95//8tg/79P/7nu//i9/+Rv/8Uh/6YB/5kA/5j+//7X/+94/8ka/6MA/5cA/5n7//3E/+dK/7YC/5n9//7D/+c8/7HW/+9H/7V1/8cD/5m7/+QV/6EN/55B/7Np/8NW/7u3/+La//Dm//XV/+4b/6Rz/8fe//Gr/93Y/+/+//9//8wF/5qj/9r8//7t//dh/8As/6vG/+hY/7w//7LR/+xi/8Az/63K/+rx//l3/8kT/6Cx/9+h/9nM/+oP/58U/6CQ/9L0//rl//RO/7gd/6R9/8vQ/+z4//ym/9sI/5sJ/5w+/7Fq/8OC/83j//NU/7oG/5u8/+Qo/6j2//uU/9QM/50N/53o//Zo/8MB/5jp//bL/+pB/7IB/5en/9we/6Qe/6Wo/9wI/5x+/8v3//vf//IE/5kw/6wx/6yV/9TW/+60/+Af/6WI/8+J/89Z/7zT/+25/+L6//2DMMmrAAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAAMmSURBVDjLY2AAA0ZGJmYWVjZ2juRkDnY2VhZmJkZGBiTAyMnFzcPLxy+QkpqaIsDPx8vDzcWJpIJRUEhYRDQtPSMzKzs7KzMjPU1URFhIEK6CUUxcIjknNy+/oBAMCvLzcnOSJcTFGGHyklJFxSWlZYWF5WBQWFhWWlJcJCUJUcEoLSNbUVlVDZWFqqmuqqyQlZEGqZCTV6iprStDkQeqKKurrVGQlwMawMWTXN+ALg9S0VCfzMPFyCAorpjW2ASzvQwIYOymxjRFcUEGLqWa5pZCqONa27Ky2lqhji1saa5R4mJQVklpL4M6rKOzq7u7q7MD6uCy9hQVZQZVtZ5eML+woK+/KBkIivr7CiAivT1qqgzqGhPA3MKy7ImTksFg0sRssEMKCyZoqDNoak2GKJ8ydVoyFEybOgUiNllLk0F7+gwwp2zmrGQ4mDUT7KzCGdO1GZJTZkMUzJmLUDB3DkTB7JRkBp3p8yAK5i9AKFgwH6Jg3nQdBt2FiyD2LV5SBJMvWrIYIrZooS6Dnv5SCKesPQ2mIK0dEpyFS/X1GAwMly2H8FasXAWRX7VyBURk+TJDAwYj49VroAG3dt16oC1F69ethQbtmtXGRgwmphs2boKq2Lxl67ZtW7dshspv2rjB1ITBzFxn+44yeGTu3AmPzrId23XMzRg4LSwrdu2GJQdQkoQxd++qsLTgZGC0MrLes3cfZoLZv3ePtZEVMM0x2tjqHDh4CD3JHdp62M7eBpxqOR0cnY4cPYaaaI8dPeLk7MAJSfZyLq4Vx08UIqkoLDx5qsLNRQ6WMQTdPfasO42sYPOZsx6eiKzF6eXtc27HebiKwvM7zvl4e3EiZU5fv+TcC4icdTFX1M8XNXv7yyZfaoEpaLmULBuAIs/AEGivsrAd4ozCze0LVYICUeUZGIND+C63gTJQYVNbMV9oMJoBQBVh4clXroKC+uqV5PAIDHmgCsnIimv7Cgv3Xa+IlMQiDwzyqOiUG1Om3EiJjrLBpgDojBi7mxcu3LSLCcYqD1QRGzft1q1pcbE45IExH59w+3ZCvBUuBUBnJCYlJaI6AABB269xUXFElwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NTA6MDYrMDA6MDDpi8pqAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACbVBMVEUAAAD////////////////////////////////////////////////////////7///y///////////////////////////////////////////////////////////////////////////////////////+///////6///////////////////////4///////////////////////////////////////////////////////////////////////////+///////////////////////////////////////+///////////////////////////////////////////////////////////////////////////////+///////////////r///o///s///U//+t//9///9g//9P///u//+9//9v//8h//8B//8A///+///X//94//8a///7///E//9K//8C///9///D//88///W//9H//91//8D//+7//8V//8N//9B//9p//9W//+3///a///m///V//8b//9z///e//+r///Y//8F//+j///8///t//9h//8s///G//9Y//8////R//9i//8z///K///x//93//8T//+x//+h///M//8P//8U//+Q///0///l//9O//8d//99///Q///4//+m//8I//8J//8+//9q//+C///j//9U//8G//+8//8o///2//+U//8M//9o///p///L//+n//8e//+o//9+///3///f//8E//8w//8x//+V//+0//8f//+I//+J//9Z///T//+5///6//8Ngdu6AAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAAu1JREFUOMtjYAADRkYmZhZWNnaOpCQOdjZWFmYmRkYGJMDIycXNw8vHL5CckpIswM/Hy8PNxYmkglFQSFhENDUtPSMzKyszIz0tVVREWEgQroJRTFwiKTsnNy+/AAzy83JzspMkxMUYYfKSUoVFxSUFSKCkuKhQShKiglFaRra0rLyiAAVUlJeVyspIg1TIyStUVlUXYIDqqkoFeTmgAVw8STW1BVhAbU0SDxcjg6C4YmpdPTYF9XWpiuKCDFxKlQ2NMLGm5szM5iYYr7GhUomLQVkluQXmsNa29o6O9rZWmINbklWUGVTVOrug3u/uKUwCgsKebmiAdHWqqTKoa/RCuVl9YHmgir4sqJZeDXUGTYEMCK9/wsQkKJg4oR8iliGgyaA1aTKEM2VqEhxMnQIRmzxJiyEpeRqEM30GQsGM6RCxaclJDNqTZkI4s2YjFMyeBRGbOUmbQWfOXAhn3vxCmHzh/HkQsblzdBh09RbAfJ0KU5AKC5kFeroM+gYLF0F4i5cshcgvXbIYIrJooYE+g6HRsuVQ9StWrgLaUrhq5QqowPJlRoYMxiar16yFCqxbv2Hjxg3r10G5a9esNjFmMDXT3rQZEYVbtiDYmzdpm5kycJpblG7dhi26t20ttTDnZGC0NLTavmMnpnzTju1WhpbANMdobaOdsisfXT5/w25bO2twquW0d3Dc04ymIr95j6OTPSck2cs5u5Tu3YeqYN/+UldnOVjGEHRz375yLbL8ugMH3T0QWYvT08v70ObDCPnDmw95e3lyImVOH9+knCMIBUdzRH19ULO3n2zSMXjibjyWJOuPIs/AEGCnMqcF6ox1LXNUAgNQ5RkYg4L5aprBGai+uYgvJAjNAKCK0LCk4ydACk4cTwoLx5AHqpCMKD0JDPKdp0ojJLHIA4M8Mir5dH//6eSoSGtsCoDOiLY9c+TIGdvoIKzyQBUxsRPPnp0YG4NDHhjzcfHnzsXHWeJSAHRGQmJiAqoDAOgCnVLAYqeOAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI5OjM3KzAwOjAwSlqgvwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMjo1MDoyMSswMDowMG4J85kAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACu1BMVEUAAAD////////////////////////////////////////////////////////8/f3y9/r////////////////////////////////////////////////////////////////////////////////////+/v7////6/P3////z9/r////////////////5+/z//////v/////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////s8/jp8fft9PjW5vCwz+KEtdJno8hXmcLu9fnA2Oh1q80qfrIMa6cJaqYKaqb+/v7Z6PF+sdAkea8HaKULa6f8/f3G3epRlcAJaab9/f7G3OpEjrsHaaXY5/FOlL97rs8Iaab9/v6+2Ocfdq0Yc6tJkb1no8dvqMsIaaUNbKhdncS61ebb6fLn8PbX5vAle7B5rs7f7POuzuGFtdMPbainyt/8/f5oo8g1hbbI3utfnsVHkLzT5O/u9PhppMk8ibjM4Ozx9/p9sNAcda200eSlyN4La6YGaKVwqMvO4e0Zc6wddq2Vv9j0+Pvm8PZWmMIme7GDs9LS5O/+/v/5+/ypy98Rb6kTcKpGj7xxqcyIt9Pk7/VcnMQQbqj7/f0wgbQKaqf3+vyYwdkVcaoWcquZwdpvp8vq8vfN4e1JkL2rzOAnfLEofLGszOH2+vyCs9ITb6mDtNLg7PNbnMQ5h7c5h7jA2egfd66awtry9/pvqMoSb6kMbKe30+UpfbGNutaOutZgn8XV5vC81ub7/P0PF+8/AAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAANLSURBVDjLY2AAA0ZGJmYWVjZ2juRkDnY2VhZmJkZGBiTAyMnFzcPLxy+QkpqaIsDPx8vDzcWJpIJRUEhYRDQtPSMzKzs7KzMjPU1URFhIEK6CUUxcIjknNy+/oLAICAoL8vNyc5IlxMUYYfKSUsUlpWXlhUUVYFBUWF5WWlIsJQlRwSgtI1tZVV1QU4EEagqqqyplZaRBKuTkFWrr6huKKlBAUUN9Xa2CvBzQAC6e5MYmdHmQiqbGZB4uRgZBccW05gKY7S3l5S0wdkFzmqK4IAOXUmtbeyFEqKajs6urs6MGoqSwva1ViYtBWSWluwci39vXP2HixAn9fb0QFT3dKSrKDKpqkyYXQYycMrU4GQiKp06BWFk0eZKaKoO6xjQwt6ghuwQsD1RRkg12dFHBNA11Bk2t6RDlM2bOSoaCWTNnQMSma2kyaKfNBnNa5sxNhoO5c1rACmanaTMkp8wDKyifvwChYMH8crCCeSnJDDoLF4EVNCxeglCwZHEDWMGihToMukuXgRUULl9RDJMvXrEcHDJFy5bqMujprwRzVq1ekwZTkLZm9SqwppX6egwGhmvXQYxYv2EjRH7jhvUQA9atNTRgMDLetBns5IqWLVu3bU9O3r5t6xaowOZNxkYMJqY7du6CBG3L7j179+3bu2c3RL5o184dpiYMZuY6+w+shkRg4erygwfLV0OirmL1gf065mYMnBaWh9oOQ/RUHAGlySMQdsvhtkOWFpwMjFZG1kePHcdMMCdOHrU2sgKmOUYbW53UU4XoSa5wzWk7extwquV0cHQ6c7YFRUVRy9kzTs4OnJBkL+fiWnnuPLKKopYLFyvdXORgGUPQ3ePS5SuFCAWFu68e9fBEZC1OL2+fa9cr4EYUVRy45uPtxYmUOX39knNvIHLWzVuifr6o2dtfNvnkbWhotNy+kywbgCLPwBBor3L33n2wMwrvr7mrEhSIKs/AGBzC13j2AdCSogdnS/hCg9EMAKoIC09++AgU1I8eJodHYMgDVUhGHnp8oqjoxJNDkZJY5IFBHhWd8nTGjKcp0VE22BQAnRFj9+zGjWd2McFY5YEqYuNmPX8+Ky4Whzww5uMTXrxIiLfCpQDojMSkpERUBwAAPAa7YJpbYIgAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjUwOjM0KzAwOjAw8JvcoAAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACzVBMVEUAAAD////////////////////////////////////////////////////////7/Pzy9Pb////////////////////////////////////////////////////////////////////////////////////+/v7////6+/v////////////////////4+fr////////////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////r7/Ho7O/s7/LU2+GtusZ/lKdge5JPbIfu8fO9yNFvh5whRWYBK1AAKE8AKU/+/v7X3uR4j6IaP2EAJk0AKlD7/PzEztZKZ4ICK1EAKE79/f3DzdY8XHkAJ03W3eNHZYB1jKADK1EAJ067xtAVO14NNVlBYHxgepHr7vFpgpgCLFFWcou3ws3a4OXm6u3V2+IbQWMBK1Fzip7e4+iruMVPbIbY3uQFLlOjssD8/f3t8PJhe5IsT27Gz9hYc4w/X3vR2d9ifJMzVXPK09vx8/V3jqITOVyxvcmhsL4AKVAAJUzM1NwPNloUOl2QorP09vfl6e1Oa4UdQmN9k6bQ2N/4+fqmtMIIL1QJMVY+XXpqg5mCl6nj6OxUcYoAJkwGL1S8x9EoSmr2+PmUpbUMM1cNNFiUprVogZgBKE5qgpjp7PDL1NsBJ06ntcIeQmQeQ2WotsP29/l9kqUIMVV+k6b3+Pnf5OlUcIoEKlAwUnExUnG9yNKVprYVPF4IMFUJMFVBYH3X3uO0wMwfRGWInK0MNFiJnK5ZdI3T2uEwUnC5xM/6+/yAxxLtAAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAA0hJREFUOMtjYAADRkYmZhZWNnaOpCQOdjZWFmYmRkYGJMDIycXNw8vHL5CckpIswM/Hy8PNxYmkglFQSFhENDUtPSMzKyszIz0tVVREWEgQroJRTFwiKTsnNy+/oBAICvLzcnOykyTExRhh8pJSRcUlpWWFheVgUFhYVlpSXCQlCVHBKC0jW1FZVV1TjgRqqqsqK2RlpEEq5OQVauvqGwrLUUBhQ31drYK8HNAALp6kxiZ0eZCKpsYkHi5GBkFxxdTmFpjtrWVlrTB2S3OqorggA5dSbVs7xP7Cmo7Orq7OjhqIkpr2tlolLgZlle6eBoh8b1//hIkTJ/T39UJUNPR0qygzqKpNmgzmF06ZOq0oCQiKpk2dAhGZPElNlUFdY3p+IdhRM2aC5YEqZs4AO7owf7qGOoOmQAZE+azZc5KgYM7sWRCxDAFNBq2588Cc1vkLkuBgwfxWsIJ5c7UYkroXghWULVqMULB4URlYwcLuJAbtuUvAChqWLkMoWLYU7LHCJXO1GXSWrwArKFi5qggmX7RqZQFYwYrlOgy6eqvBCtas7UmFKUjtWbsGrGC1ni6DvsG69RAnb9i4CSK/aeMGiMj6dQb6DIZGm7dAQrp167btQFuKtm/b2goJ6y2bjQwZjE127NwFCdrW3Xv27tu3d89uiHzhrp07TIwZTM209x84CI3AgwcPHTp4EBqdBw/s1zYzZeA0t6g4fKQGlthAAJqojhyusDDnZGC0NLQ6euw4ZoI5cfKolaElMM0xWttop5w6jZ7kTp85a2tnDU61nPYOjuc6z6OoKDzfec7RyZ4TkuzlnF0qLlysQVJRWHPpcoWrsxwsYwi6uV+5eg0p3dfsvn7D3QORtTg9vbxv3roNN6Lw9q2b3l6enEiZ08c3KecOzJLCmrv3RH19ULO3n2zSfWjiLq95cD9J1h9FnoEhwE5lec9DcCQXPOpZrhIYgCrPwBgUzNfYCcpAhS2Pn/CFBKEZAFQRGpb09BkopJ89TQoLx5AHqpCMqHj+orDwxcuKCEks8sAgj4zqfjVr1qvuqEhrbAqAzoi2ff3mzWvb6CCs8kAVMbFz3r6dExuDQx4Y83Hx797Fx1niUgB0RkJiYgKqAwC8prs7Sn3FCAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NTA6NDMrMDA6MDA/+es3AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACfFBMVEUAAAD////////////////////////////////////////////////////////8/P709P3////////////////////////////////////////////////////////////////////////////////////+/v7////7+/7////19f3////////////////6+v7///////7////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////v7/zs7Pvw8Pzc3Pm9vfOZme2AgOpzc+fx8fzKyvaMjOtNTeE0NN0xMdwyMtz+/v7f3/mTk+1HR+AvL9wzM938/P7Q0Pdubub9/f7Pz/djY+UwMNxsbOaRkezJyfZDQ+A9Pd5mZuWAgOmHh+t3d+jFxfXh4frr6/vd3flJSeCPj+zk5Pr+/v+7u/NycueYmO03N921tfKBgepWVuLR0fd5eeja2vmCgupcXOPV1fjz8/2SkuxBQd/AwPS0tPIyMt2Hh+rW1vg/P95CQt+mpvD29v3q6vtxceeXl+3a2vj6+v63t/M4ON06Ot5kZOWIiOubm+7p6ftSUuL4+P2pqfE8PN7t7fxnZ+W4uPNKSuFLS+G5ufM5Od2YmO74+P7l5fp2duhZWeNaWuOqqvBERN+rq/D09P05Od7e3vnDw/VMTOGgoO96eug2Nt3Hx/X7+/4Nm4E+AAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAAM8SURBVDjLdZP3X9NQFMVfFIUWLJRpVcoeYlVEQEUExIUyFFFRcfJqqiyb12paDQQKpQXZorJXARcbFRC3oohb/yHTJIUW8fyU5Hxz7/3cdx4ArDBs2XK7FSvtHSB0sF+5wm75MgwDVsIEQkenVSJnF/mlS3IXZ9EqJ0ehwIrAxK5u7h644vKVnNzcnCuXFbiHu5ureJ7APL1Ww7z8gqtKAjEilFcL8vPgai9PzOJL1qjU166TCGlYIURev6ZWrZFwBLZ2nbf2xk0lobESobx5Q+u9bq2ZkPr4UoVFNNLYCNFFhZSvj5QpIHSC6uLFvpkoVkMnIQbEXn54idLSnWZkeVaW4H5eYiD0p3SlXH9ElOnLy/VlBIcQpTrKXwgCAuUGmv/FWFF561ZlhZEvSBvkgQEgKLiqGnF+TW0dZFRXW8MRqLoqOAiEhNazr4huUKsgK5W6gR0EKetDQ8D6sNsc3niHgryoO43ct9th68EG/C77Qt9rgvNquseOhe7iGwCUN7MAqW9ZAFr0JAs0yyGQ4a1chbb2BaC9javQisvAxo5OFiC6ulUWX9XdxW4GdXZsBJs297CAiezFLQDeS5pYoGfzJhC+pa+fG/n+g4ec//DBfe5Lf9+WcBCx9dFjbtN09cAg00U1OFDNrZZ4/GhrBIiMGhoe4Vc7Ojb+5Mn42Ci/+pHhoahIEL1N9tRI8gdIko2NJMkfJ2l8KtsWDQTbd2h1z/g4mcyZNPGheqbT7tguAFhMxM6Jyal/AzM1ObEzIobJHBa7S/bcQCyOHGF4Hhcfy6ZWkLA7sV1vGzpET7cn7kkQcLGX7t2nffGSMFn//+q1dv9eqeViiA8kTQy8sco9Mfr2XdLBhaslOJSc8v6DZr4J0nx4n5J8SGB1OVPTYP6MZVBEfMz3SEu1vd6HveGnWb4JMfsZeh+x8QFIjw+cM3xhCeLL+Fzg0XRbH2AZx0Rfp83xRcppteh4xqICDHEiE377bl71928w8+Q/PkNITml/TCFU9kN7SrKEz6z8dJb8569fP+VZp2OXApgxzsQpZmYUcWcylvQZ4uw56vdv6tzZ//jMyZ+/8OfPhfMx/wOYMS5mZ1+0HeAvs9msMpv5tz0AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjUwOjU2KzAwOjAwoWvEDgAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACTFBMVEUAAAD////////////////////////////////////////////////////////9/v/5+v/////////////////////////////////////////////////////////////////////////////////////+/v/////8/f/////////////////////8/P///////v/////////////////////////////////////////////////////////////////+/v/////////////////////////////////////+/v/////////////////////////////////////////////////////////////////////////////+/v/////////////2+P/09//r8P/Y5P/D1P+1yv+txP/3+f/g6f+7z/+Xtf+Iqv+Hqf/+/v/s8f/A0v+Usv+GqP/9/f/j6/+qwv+kvv+pwf++0f+Gqf/f6P+RsP+Orv+mv/+0yv+5zf+Jq/+wxv/d5//t8v/z9v+Us/+90P/v9P/X4/+Kq//U4P/9/v/2+f+cuP/k7P/1+P+xx/+lv//p7/+2yv+gu//m7f/4+v+Qr//a5P/T3/+FqP/n7f/L2v/6+//y9v+sxP+Vs//C1P/8/P/V4f+LrP+Mrf+6zf/F1f/y9f+vxv+KrP+atv/7/P/N2/+Nrf+Nrv+4zP/W4v+VtP+WtP/6/P/C0/+MrP/D0//w9P+euv+SsP+Ssf/N3P/c5v/I1//q8P/e5//8/f/tCMxjAAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAAyFJREFUOMt1k+db01AUxm+U1QKllT0KAlXUInsjoOICRREVFZGRMMrKTSFlBVoKKGgZUqZShiJDUUARFyrrHzPkJrRlnE855/09J+9z7jkAcIFhx47b2NrZO+C4g72drc3xYxgGLAITiR2dnCUuUqKkhJC6SJydHMUiCwKTnXB1cydKy8pVFRWq8rJSwt3N9YRsj8A8PL3wyqrqGhJyQdZUV1XiXp4emKB7+1Dq2jqalbiAkK6rVVM+3ojAfP3kmvoGkld5hmyo18j9fHcJ/4CTVH0jbaWzBN1YT50M8GcbiJ1wddN+fZdoUuNOYgzIPAOJZqE/ZGiaEb7JZiLQUwbEQVRLK+TNaXVtbTotbxa2tlBBYhCsIPQ0KrR3dD57/vxZZ0c7Img9oQgGp06XdkHUsvsFhbNBvehGv4RdpadPgZAzL7kU0hVqnA91BWcaki/PhICz0nKEG3p6BaC3x4Bq5dKz4FyfikuY/lf4XrzqZzhA1XcO4ANGDqAHh8zA0CDnGxoHcKDsG0bAyKgZGB1BwHCfEoSO1aL/vX5DCTr15jWq1Y6FgvNh4ygx6QkBIPQmVBsPOw/CIya0KGudnEL61CQaLdRORISDyKjpt5xlknk3w/kcmnnHF95OR0WC6Jj3s3NotMx848KHDwuN80iHc7PvY6JBbJzy46KJf0AT/ekTbeKf07T4URkXC0TxCZqWz4ywBVDYO5L53KJJiBcBLDEyaWl55eDCfFleSopMZHcOS76gLPkK968c1JekpCZzWytKu3hpVMdYLy2jG710OU2E1t4//Ypm9ZtlDwjXVjVX0/2Fw5Bdu/79x5wl8PPX0vUb5tMSZWTe/L1ovgxILv6+mZkhsjjOW1l41br5star3LNuWZ/3bTm+/IefBvP3Hy6/Y6UDkJ2qGNMjG3BOP6a4m22tAyznnkSt27UBSZ1acj9nXwOWeJCLb6ztjnptA899eEBnCe9Hms0VCFc2NY+8D9HZkT/OGzAaDMaBvMfJhwGsjScpW+vrWylPcg7VWSL/KbW9TT3NP0JnX76gcGensCDxKIC1UVRcXGRt4D+SPpTGEJHXggAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NTE6MDYrMDA6MDAGSaFUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAClFBMVEUAAAD////////////////////////////////////////////////////////9+//58v/////////////////////////////////////////////////////////////////////////////////////+/v/////9+v/////68v/////////////////8+P/////////////////////////////////////////////////////////////////////////+/v/////////////////////////////////////+/v/////////////////////////////////////////////////////////////////////////////+/v/////////////36//16P/37P/u1P/erf/Lf/+/YP+5T//47v/kvf/Fb/+mIf+ZAf+YAP/+/v/v1//JeP+jGv+XAP+ZAP/9+//nxP+2Sv+ZAv/+/f/nw/+xPP/v1v+1R//Hdf+ZA//ku/+hFf+eDf+zQf/Daf+7Vv/it//w2v/15v/u1f+kG//Hc//x3v/dq//v2P///v/Mf/+aBf/ao//+/P/37f/AYf+rLP/oxv+8WP+yP//s0f/AYv+tM//qyv/58f/Jd/+gE//fsf/Zof/qzP+fD/+gFP/SkP/69P/05f+4Tv+kHf/Lff/s0P/8+P/bpv+bCP+cCf+xPv/Dav/Ngv/z4/+6VP+bBv/kvP+oKP/79v/UlP+dDP+dDf/26P/DaP+YAf/26f/qy/+yQf+XAf/cp/+kHv+lHv/cqP+cCP/Lfv/79//y3/+ZBP+sMP+sMf/Ulf/u1v/gtP+lH//PiP/Pif+8Wf/t0//iuf/9+v/1rAt3AAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAAMmSURBVDjLY2AAA0ZGJmYWVjZ2juRkDnY2VhZmJkZGBiTAyMnFzcPLxy+QkpqaIsDPx8vDzcWJpIJRUEhYRDQtPSMzKzs7KzMjPU1URFhIEK6CUUxcIjknNy+/oBAMCvLzcnOSJcTFGGHyklJFxSWlZYWF5WBQWFhWWlJcJCUJUcEoLSNbUVlVDZWFqqmuqqyQlZEGqZCTV6iprStDkQeqKKurrVGQlwMawMWTXN+ALg9S0VCfzMPFyCAorpjW2ASzvQwIYOymxjRFcUEGLqWa5pZCqONa27Ky2lqhji1saa5R4mJQVklpL4M6rKOzq7u7q7MD6uCy9hQVZQZVtZ5eML+woK+/KBkIivr7CiAivT1qqgzqGhPA3MKy7ImTksFg0sRssEMKCyZoqDNoak2GKJ8ydVoyFEybOgUiNllLk0F7+gwwp2zmrGQ4mDUT7KzCGdO1GZJTZkMUzJmLUDB3DkTB7JRkBp3p8yAK5i9AKFgwH6Jg3nQdBt2FiyD2LV5SBJMvWrIYIrZooS6Dnv5SCKesPQ2mIK0dEpyFS/X1GAwMly2H8FasXAWRX7VyBURk+TJDAwYj49VroAG3dt16oC1F69ethQbtmtXGRgwmphs2boKq2Lxl67ZtW7dshspv2rjB1ITBzFxn+44yeGTu3AmPzrId23XMzRg4LSwrdu2GJQdQkoQxd++qsLTgZGC0MrLes3cfZoLZv3ePtZEVMM0x2tjqHDh4CD3JHdp62M7eBpxqOR0cnY4cPYaaaI8dPeLk7MAJSfZyLq4Vx08UIqkoLDx5qsLNRQ6WMQTdPfasO42sYPOZsx6eiKzF6eXtc27HebiKwvM7zvl4e3EiZU5fv+TcC4icdTFX1M8XNXv7yyZfaoEpaLmULBuAIs/AEGivsrAd4ozCze0LVYICUeUZGIND+C63gTJQYVNbMV9oMJoBQBVh4clXroKC+uqV5PAIDHmgCsnIimv7Cgv3Xa+IlMQiDwzyqOiUG1Om3EiJjrLBpgDojBi7mxcu3LSLCcYqD1QRGzft1q1pcbE45IExH59w+3ZCvBUuBUBnJCYlJaI6AABB269xUXFElwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NTE6MjArMDA6MDAnvJMTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACbVBMVEUAAAD/////////////////////////////////////////////////////////+///8v///////////////////////////////////////////////////////////////////////////////////////v//////+v//////////////////////+P///////////////////////////////////////////////////////////////////////////v///////////////////////////////////////v///////////////////////////////////////////////////////////////////////////////v//////////////6///6P//7P//1P//rf//f///YP//T///7v//vf//b///If//Af//AP///v//1///eP//Gv//+///xP//Sv//Av///f//w///PP//1v//R///df//A///u///Ff//Df//Qf//af//Vv//t///2v//5v//1f//G///c///3v//q///2P//Bf//o////P//7f//Yf//LP//xv//WP//P///0f//Yv//M///yv//8f//d///E///sf//of//zP//D///FP//kP//9P//5f//Tv//Hf//ff//0P//+P//pv//CP//Cf//Pv//av//gv//4///VP//Bv//vP//KP//9v//lP//DP//aP//6f//y///p///Hv//qP//fv//9///3///BP//MP//Mf//lf//tP//H///iP//if//Wf//0///uf//+v8BRUUXAAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAAu1JREFUOMtjYAADRkYmZhZWNnaOpCQOdjZWFmYmRkYGJMDIycXNw8vHL5CckpIswM/Hy8PNxYmkglFQSFhENDUtPSMzKyszIz0tVVREWEgQroJRTFwiKTsnNy+/AAzy83JzspMkxMUYYfKSUoVFxSUFSKCkuKhQShKiglFaRra0rLyiAAVUlJeVyspIg1TIyStUVlUXYIDqqkoFeTmgAVw8STW1BVhAbU0SDxcjg6C4YmpdPTYF9XWpiuKCDFxKlQ2NMLGm5szM5iYYr7GhUomLQVkluQXmsNa29o6O9rZWmINbklWUGVTVOrug3u/uKUwCgsKebmiAdHWqqTKoa/RCuVl9YHmgir4sqJZeDXUGTYEMCK9/wsQkKJg4oR8iliGgyaA1aTKEM2VqEhxMnQIRmzxJiyEpeRqEM30GQsGM6RCxaclJDNqTZkI4s2YjFMyeBRGbOUmbQWfOXAhn3vxCmHzh/HkQsblzdBh09RbAfJ0KU5AKC5kFeroM+gYLF0F4i5cshcgvXbIYIrJooYE+g6HRsuVQ9StWrgLaUrhq5QqowPJlRoYMxiar16yFCqxbv2Hjxg3r10G5a9esNjFmMDXT3rQZEYVbtiDYmzdpm5kycJpblG7dhi26t20ttTDnZGC0NLTavmMnpnzTju1WhpbANMdobaOdsisfXT5/w25bO2twquW0d3Dc04ymIr95j6OTPSck2cs5u5Tu3YeqYN/+UldnOVjGEHRz375yLbL8ugMH3T0QWYvT08v70ObDCPnDmw95e3lyImVOH9+knCMIBUdzRH19ULO3n2zSMXjibjyWJOuPIs/AEGCnMqcF6ox1LXNUAgNQ5RkYg4L5aprBGai+uYgvJAjNAKCK0LCk4ydACk4cTwoLx5AHqpCMKD0JDPKdp0ojJLHIA4M8Mir5dH//6eSoSGtsCoDOiLY9c+TIGdvoIKzyQBUxsRPPnp0YG4NDHhjzcfHnzsXHWeJSAHRGQmJiAqoDAOgCnVLAYqeOAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI5OjM3KzAwOjAwSlqgvwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMjo1MTo0MiswMDowMHZMi70AAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAQAAAD+fOO3AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfnBRkAISsCR/pcAAADj0lEQVRIx5WWO2xURxSGvzN7H7a0AdFRkFSQBovKqcCyBF0kmlDS0SHRpkJKEYmGEBeENImFRJMoLlLk4caJrCguEDSguMEijYMQAu+uwfZ672v+FHe93nu9fnCmO3P+f87jn7nXGDIBNPiAD5limgk+oglsssoyf/E3/7FBAcZIEzKd0CXd1yslPve+ULm897kSvdJ9XdIJmfaBhzqnu1qTL5QrUVeb2tCGNtVVolyF5LWmuzqnUCPg47qsJalQqi2tq63W0GprXVtKVUjSki5rfIfC+rWP8xlf6GNPSoLf3RruDo6YCIet8CU/s21llCDiU77S6YJtMvZtEgJCxmlgz/mceVLDAY4Jbh4OL3cytinQaW4ygQMnOM4NJv2h8GEKD5Pc4LhwhFzgiifZA9fQqlMkeLjCBUJHk2s6VpBW4EIYITExIVYhMSClQMe4RjPgDNMixVfgJdhhgCjz0yDC8KQ0sGnOBFxUU2S1XsfENAaeBg5Hb4gCMsZQ0y46pnBFZQuiCrykiIkqnRAFOKYcZ0uC4fQj3J7+OyKsEleA46zjpMzXTnMjhmm4WlYeGScd8d7Q0VoY6Y8dvu6rzv0Qv3e0rFaxx48IFb52lsOg5XiGH67N8GQjCbKKVqABnmeOR+YdrgLJSGsUIq1pxeEwzyPHApkjqOWQ0KMYeAp6JLXzAxxkLDie8NRqMzYKenTpss02Xbr0KGpSjzB4yhNHh1nzAWFtZCKj119ZTakQEmCeWTqOlAUWjZhG7draYHRWu+YNYgwWWSB1iJfcsdcBcaWMHZK6fIQjJsBec4eXyBnkLDFjPiKCfUS0C4eICCv4miVyw4HBFj8xZ4oJD6QoH9UIE3PMsWXQF6FY5RtbbhCPuIdV9cU0sH+4x2p5kitrxfOYGVsPR3RieHgxIbbODI/xxoAADHJ+Y5Zk5w0cBQ+JIWGW38ltkNNOx8UaD2zR9V+jupTLV8nJFnnA2u73dahkg2W+5XkwshPl8PiXeyxbxV+ZO3/wvXWiWhll+hHW4Tv+tBpx1Xr8wK+WjhEMKIQRMIal/MKP9DjYhD7RQylRRy211VZLHSWS9FCT4ggmdFUvvLr9f4S2uvLSC109EhyEmrqtd4U21FZbGyqkd7qt5hEJQOiU5pXnequ3yqVc8zp1ZHif4rxWvFKl8tKKzr8XHIQCXfdvvLz8G11X8J4E/U7cUkst3Tqo+v8BGqkQrMMFpyAAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjUyOjAxKzAwOjAwKNkk2QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAQAAAD+fOO3AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfnBRkAISsCR/pcAAAD/0lEQVRIx5WVP2wcRRTGf29u9/44a5/Pd2cHEagIEgoFRYSQHMtSQkVJOsoICUVKi+gokFIgghubArAipTHCBVL448ZBFiI0caQ4whGKFRoTx3aS89k+fL7b3ZtHcb7zzdkOyWyzOzPf99773jezQsdQgAS9vMIIo7zJqwTAvyyzyG/8zj9UaIBw6FBUNKfn9Kquad3GsY001FAjja2Nta5relXPaU5FO1DSEd3nDT7kAwZiiaixS0gMeCTJkMbHUzaYYpK/iMQlUMjwLp8wHFNli01C3DhJ+snSgwd/8Dk32JV9AoUM7/Opvl6nRInQTa6lDkny5EkhS3zGD00KAYUk7/GFvrbDKtvoUSKhCH28xDHkAR8zQygIqOEtvtbTO6xQ4UiN25n08jLHkNt8xIJYo5DlEqdrrP4vvLlaYZUanOYSWcXgc4bzMSW2D9S9/7gU25SI4Txn8A0BF7SvSsmpXVES9FGgQB8Jh0RQSlTRPi4QeJxktEGZyIELOfKkSAAN6pQodwQQIsr04I1y0uOsBhFbXVoPUSS5B/BJkSbJupPjFoMkAjlrGMHUiBydsxTa8JaNCmTbfgCIqIFhxHDKml2HW8iR6uqGkCLn7FF2sYZThuMqobM5cwDeosg4MyEqHDekwDoLCcyhHjAknG8LkDJYugDW6XunuLaLELCGkuA7C3WiQyiUiLoz4yNQMtwXm3ZqjdiicYCgwZbjFUgjlvuGW8am8RynldnoomiwQdmxmkcaY7llmCXyCZwcYtZYp9qeqbLOGrETP8CHiFmPBe567wywje2wasgaFTL4QMQuOx2roBgG8OAuCx5lJs3bgclSdrKwVKhgWu3qckaWAGOZpGwImWXOp0i669gKYLHt9/34aYr4MMcsoUF5xBV5HDBIoqt9sve47UwwSIA85gqPUCMQc5MxY3MMwBEm2odDnhymwZfcJBYMCOzwPdOeFuh9JkXzRszjKdNMsyMtP6IsMy6LPRRJHkmhQJIiPcifTLDc3Gb2FLbMMyab/RSOOErNzQX6kU3GmMcKbQIQiPmZSannySKHngWhnzxSZ5JfiKVN2lJceco1mUtRJHOgDAUyFEmpzHGNp/v/1458BRb5igd9FLrOJ4BPgV74mwkWOxvrFCxwg28p5+nHdOSgGPrJQ5lv+NX1RbdiNab4KREOEbSVUISAIRIhP/IdNZ5FIPCQCe6kGdxraLN5g6ThDhM87L4tD/RMYJ5xVrIU9+7ABEWysMI4tw9etoc3/TpTUimQxWDIUkAqTHGd5x2KntAZjat6T+9pVTXWGT2hz41vUgzrktVN3VSruqTDLwQHRT29aJ9YtWqf6EX1XpAAFA30spa0pJc1OBr+H/Nbm042akI7AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI5OjM3KzAwOjAwSlqgvwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMjo1MjoyOCswMDowMP9kZncAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAQAAAD+fOO3AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfnBRkAISsCR/pcAAAEJklEQVRIx5XVT2xc1RUG8N+9M2M79tgxJDLR1MHYjosQrdRFVFUKUSToqsuy6xJVqpDYVuy6qMSiKmSTdNHWQmKTqllUon+yIFRRVbohSAQRgRxRJXWwSQzGjpzYnsnMOyzsOPPGNoX7Nk9P9/vO+b7z5yVdJ6Bi2FEnnfI9j6vjrnlX/cu/3bSmQ7LnCZHikXguXo9b0SzarWIzNmIjNqNVFO1oxq14PZ6LRyJFFyp1Ra95ys/9zKPNtOmuVeta6DNoVN2A/vClc2Z97H4qEwQH/NjLTrSsWrTonnKcIQ0No/r4j99420Z6SBAc8FO/iu+u+Z8b1iVlpYEw6AkThqVrfu0vWxSJoM9P/LY49qWP3RL7mSQkRzzlUfkTv3RBK0lE9gO/j+PLPrQk7QvfNtqY7zskvecXrqQiBwe95Piaj/4vnCRZ8pE1jnvJwZDVPOP5phtu98BDKBSix87kthuaPO8ZtazuhRhZdb2kPYSaMVOmjKmVSJJw3aoY8YJ61YxTLQs25S549h2ThlTRds91CwoPa79pwaj+U2aqno36psVS9GTGMYM73+qGDbrWlWOyaFpfPT2bnYy8ZqOUfMOkoS7KZMikRknIhjWRncye7uQ7Jf0V44Z3+T9sXKXkwx2d7OnsSKT1nqv1PYqZ1Hto10VyJOsPnVLx+rsidZ+K/lJBO4L+rEg9gLZiT4JCu4cwUWTLyUAp1bs2SpEeZLbhbknagMRyNpeLsram21q7CFpua/Z4lQtz2bu5GFHbiZkkN833pNs272ZXq4eaEbnwbnYx3T9grCSiac6c1Z0vq+bMaZYEjDkg3Xex6ooP+n501C2drj5bN2fJQQPYdMeKdqlXK47q4wNXqlbMVn54ODfMl3qvbcnS9izYNacNh1UKs1aylosuDZgy0jO2WdLR2X7rho+YMsAlF7WysOjVvHTYjGpP+dL2Uy5nzYzD8pJXLYqcaHvH6UoxboI9OqAMZ8K4Ssdr3tFOMol7/ux8f0wa+1qKwJgn9IfzzruX2N4iYd6ZdHXUtKF9KQJDpo1KHzprfuta3tKqcNnpvNowsc8oQcWEhrzqtMuKLW/yA7u0/d1sbk5qSHvOQtIwKTfN+of2A2t3FmEKX3gjXdpKsldGYNS0oUiXvOGLh//Xh5tU4qrf+WTMpP5dGQyYMsZ/nXW1u7C5+1LibX+0MuGoSlcOoWLc46z4g3+W+yL3BNp0zt9qrWMO7TgRkkOOqbX81Z9s+jqCxKfOen/EkwbZ3sODnjTC+876tHdb9mYgcdkZC4+ZVgVV0x5jwRnv7V62uwjAm87ltUkNWd4q3ppz3vRNT4jxuBDt1Xgr3orViHZciPH4xvgtihNxrYjP4rMoIq7FiW8FJ0Q1Xiw+70Qnis/jxah+SwJC1OOVWI7leCXq+8O/AuFKp/3c1qOQAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI5OjM3KzAwOjAwSlqgvwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMjo1Mjo0MiswMDowMJ17ML4AAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAQAAAD+fOO3AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfnBRkAISsCR/pcAAAER0lEQVRIx5XVS2xV1xXG8d/evrbxC7CpMbVSECGg2qlRU5tXDEVNOmmHzazDqFIVKdOqsw4qZVA1RZGgg7ZWpEyoyqBS+qADgpxSOglYkIQE2aFCIuGNMcEOhsu9Z3WAgXts0yb7zI7O919nfevbeycNK6BJl2/YY69vWa8Tcy4445/+5VOz6iTLrhApuuPFeDOuxL167W4xF7fjdszF3aJei3txJd6MF6M7UjSoUkP1ZgN+4sd67qRZ110xYx5tuq3Tq0t7uOmgMWfdT2VA0Ob7fm503iUf+9iMcp1ugwb1a+PffuUd8+kxIGjzI7+ILTdMmHBLVu40UFht2LCvSVN+6c8PEImgxQ/9unjmgnFT6vLyJik02eJ71svn/Mxh1SQR2bf9rhi54B/OS0/y+KHRNvqB9fJJP3U6FTlY5VUjNxz9v3KS5LyjbjDiVatC1my3l+446ZNF8lAsPLEI8YmT7vCS3ZqzTi/HyosmRIM8FFbYbJttNltRgiRhwkWx0ss6Kzbbe8dHZhusC9mQYWu0oGrahA8VHs9+1kf6dey1ueKF6JxztlQ9222X7kfv1ui1yvES4qxd2jvTC9meIl/zecnnAdsb5A9itN2AaGjkc9cU2Z7s2Vq+Wuq/YsiaRdNI1hhSKflwVS17NltXTzMl73v1LBOlrEdvaR4z6sm6rDXUSoB2LctmoEV7CVATtGZF0lz62ar6soC6aqmxZokim846SoCbbpcqPfyz226WAB0y09lkpVhbAsyZMr8EMG/KXAmwVqUwmb3XVPRpa6iZfeCUakledcoHpai16dNUeC87ku6v9HQpqnOOedflhXfhsncdK9UPT1sp3Xek4rT323duNan26INsxjHn9enCrKs+VS3Vb7ZVO+87XTFjrLJ9Yx50WlNDG/edc25hL5BLySgM2qhSGDOTVR0x3mWHPkXJzCZZTU3WVDKv0GeHLsYdUc3CJa/naxs8r3XR+NLCUx7nCqM2yNe87pLIiZrj9jUXWw2zTALKcr5jSHPdbxxXSzKJL/zJoY4Ysam045bKwyYjOsIhh3yRWPAmXLA/nem3Q88TESH02KFf+tABFx58lh/0qnDCvnxr0PATthK0GDYo37LPCUXyCECi5m/GKveGfVNadi8kA4ZV7hnzd7XHmXnoeLjhrTTeY6evLzEz0G+nnkjj3nLj8f3akI/EGb917hnbdS4BdNpmE/9xwJnGwZaOnsQ7/mDmOUNaGhChxZDnmPF7R8u5WHx23XXQX1dUn7f+kRMh2WDUiqq/+KO7/hcg8ZkDTq31XasXRsdqe/RyygGfLb76lpyeiRP2u7jFTq2g1S5buGi/k0tvzuVv8rcdzLPbDGjSZMCIPOugt33ZFeKpOBy1y/FGvBGXI2pxOJ6KL61/gBiNqXpMxmTUI6Zi9CvJCVGJV4rrtahFcT1eicpXBBCiM16L6ZiO16LzyfL/AjzmtojnBFLlAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI5OjM3KzAwOjAwSlqgvwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMjo1Mjo1NCswMDowMDIBBRoAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAQAAAD+fOO3AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfnBRkAISsCR/pcAAAEXklEQVRIx5XVS2xdxR3H8c/MuX5g/CBGTQzkATIggQt1K7fNgzgI5YVDWmjaRdsdrRQhsa2666ISi6o0m6SLtu6CRYIS1Er0EdGYEKV1GwlbTaxGRYkCgWAiYuKH4kaxfX3PdOHg3HPttDBnNXPm9x39/vObmaCqJci0WGOzLb5orWb8xyVnnfQ3H5pWIVRpQkEe3OUrvq/Piko2G8shR1SXGvKsYtJRB/3TlBSWAhJ1HvFD39N+LUz40EVjptFipQes0a41mXBIv3eUQxGQuMNWP7Zp2rtO+YcrKov0JLPKRht0auHvfuZNN8ItQOIO3/KT9PCoYwaMiUV3EnIrbbPdauG8n/r9AiKQqNfn55UH3/GqIRXR8i2X+arvekR2wY8cNRcEUtTtV3nPv/3WiFhYubYluS/5gUfFYXudCXlMtHlRz6iD/1dOEI04aJQeL2pLojpP2HPNG4Zr5EmuoiJfyEcVYtgbrrHHE+pKmj2ft15wTF7lPUnu9LBVuOK864JbG5c7pkd3a3zeYMlDtkwbNCGrkke9drhXI2Zc9hd/lS8iogmDOrVt8VDJU6l5yqnC6tEe39CxKLjXal/wuwLilG9qbQ5PRZsr8QNXC8436KuSE3Tos6FQjas+UIk2R11z8X2panq9XvfV7EZwn171Vf3kfXNRV9QxH8YKYVnrnmWiFN1jrbxqZMx80BE1JLOFqS0al81Ao5ZCf1aiIcpDjeCG8rKAshs1wEAejWfaCm4/Nl6IzqfFHfdxoTJtMsajc/X5uoLXScOmlwCmDZss1Gad+ty56O26fJ3mqjUzJx03U5DPOO5kIWrN1qnLvR0NKN/t8SpAMOU1h723OPKew14zVWUgedzdlA2UnDHSuv5JQ8pVObviiBEPaMeEi86ZKWS13pNaGXGmZFJ/3dceixu9pVRViVmnnb55FsgK7iu2eExdrt9kNGfAiXa73F+ISZDJlJVlskL1c/fbpZ0TBsxFyWUvZ2NdntVUc/JvfdXbeafndMnGvOyyFAPzBu1ryHttY5kEFNPANr0aKn5h0HwQCVx32JG70k7d0v9AJEm3HdqSI464HrhZm+SS/eFsp11W3RaRJB2e0Sn8ywGXFqbFBbdyQ/ZlUxtt13hbQKPtNsqm7DMkDxYBBOb9SX/97E5fF5c9C9F6O9TN6vdn87cy82nNk6teCSc67Na5xEaSPGi3jhROeMXVsPi7Kh+Bs37pwpf1WbEEsMLTunnXAWert7Vw9QTe9BuTW/VqqEIkDXptZdKvHS9edrV314xD/tg096xHFyuRRF2e0zTnD16tOaa1gMCoA06v9R0rb3pnpW9bw2kHjNY+fUtuz8CQ/T7q8Ywm0GS3Hj6y3/DSl3P5l/x1h7Lpp61XUrLeTtm0Q173WVuSVqejaf5i2pv2pospzaejaXX6zPoFxKZ0vpKG0lCqpHQ+bfpccpJUSi/kn5RTOeWfpBdS6XMCSFJzeimNp/H0Umq+vfy/0JikOgfvvUIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjUzOjA1KzAwOjAwM1Rr9AAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAQAAAD+fOO3AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfnBRkAISsCR/pcAAADzElEQVRIx5WVTUxUVxiG33tnhmF0iJ0iCVF+NJpghTSUVNOoTTMrCS1qm4mJZVFSu+h048Jg2dCdSatb3TWkTaw2ISkbBY2waGBBJGmsoggkasEfyDhDsQjM33m6YGjnzgw4fmd1v++8z7nnnPecYykrkCSXylStD/WRGlQjv6RFTWtMv2tIM/pHacnK0lgOuaW31KQ2tSiQci3bcSstySUvPuNOa159+kV/6G9h5QOQPHpHX+lzvR21ZjWhO/pL85ICqtW7qlOlylFMl/WjxpXM/gtJCB+tDEOMQU6xEwtlNYudnGKQGMAwrfjIk7cxYRink20OaXbbRifjGJigLQuBKOEYU0mGacFeVy6ETQvDJGGKY5RkENg0MZpmiEMbitfaIYZIwyhN2KvjB+iG+xwuSi7EYe4DdBNAwkMrCy/owFU0wEUHL2CBVjwiQG+am1TkdSsjSDvtBCnLq1VwkzT0EhD7iUUI5y3WcfqZ5BnPmKSf43mLGyYCMfaLTpO4x/acXT/NQwxrYXjI6RxnbOceJkGnuJZI9eQUj/IgS76KeMDRnEF6SKS4Zqt+xR5Ttq88Cmm3nFa1tFsheRzmG9OKrXpblUlr2tG5TrvkUm64tEt1jsy0kpYqbXmNlh2Fcm1Wodiscsf3sozktWVsbXIUFhUvCIhr0fG9SbZkbEXdqnAUHuu5Y03W5vxcjx2ZCrmlqK0Jr9nrKER1XbE8QEzXFXVk9sprNGHrltfUa4uj1KNLeuXIvNIl9TgyW1Qvr9Et0czSU47k+KyaLm5nvGC4TRfVOT2O8BSWaLaoVG/8g9/0pVYcI/i0Tw2qlDSrMY3m7FSpuvWZvCP6VHg5SXqGUMFzV0JJwXyIGUhzEq+wqGEgyQB7ij7OexggCQPUYAnhppm5JS7gL0pexgWWYI5m3KzuMH6+JT3L1zmHqlCz+IY5SHEG///XqsUOrhgzSvA1CIsgoxjDZXZkvS4ImwPcSXKFmg0BNfxKEv7kAHbuy+ChnfkluihdV+7jO5Zhni/w5Jkdi62cNyuPCOEuKHcT4hFmhfNsxVJ+IBroh0EaCwLeYxAM/TSgdQLxCVNwscAdXcFFgCk+XlcuSZRyhtgC4ZyV8BFmAWJ0UKoNAaKKn4nfJ5j10LgIMg5xfqJqw/EziH2MwFVq/wPUchVghPdfK88g2niS5PuMtf38QBKe0FaUPGPtc7yMcAIPHk4QgZecy7JuEYgq+kjdpZFG7kKKviJmn4M4yGSKG9wgBZMcfCO5Vo0XNpEECUyEcObgviHCz1miRDm70ez/BYYI/lv2W3BZAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI5OjM3KzAwOjAwSlqgvwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMjo1MzoxNiswMDowMM4WcfcAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",anchor:[.5,1]}],drawing_api:[{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAgCAYAAACLmoEDAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH5wUZACIosGP4JQAABmJJREFUWMO1l1tsXFcVhr9/7zPjGY/jSy6NXVHVScsttCBVqElBFU0FFYiXqkitVPEQBA8ERBFPqCIUIZAQApSHFgchSEorAuoTUJJSNalTUNNQLs0FO0qcOE6d+D6ecXwbe+bsxcPYpYknyvE0LOloP5yz1/r22v9Ze21Rpz3zxlrcYgULMes2NCk/Prte0AJkDEWCCkbJsOKVcnu+OT1sFfNMqYGnto/XFTOqF1bzC6Q2NKuSn9kyOT53H3A/8DGgHWgCZoAR4ERzeuSvoGP/mr21d2tu0OqOWc+krldzBNEuuUdlPA62FRP2bqfLng2QYXAMtN9CeMF7Rnc+MPv/hX2mO4cHmfFBQ99GPApqvKETq0YybE7wgmQ/DsYZ55zt/NR04virk0GIZfJ3gn4APCxTlGjJqgILNSL7opkaZXzHOzu/tJRE5pJ+2HV4Dbio1aQnEA9LilAC0HcDCwxFZjwCPFGJ1dp1eE3iXCWGNTMv9CCwg+WM1mFVZkWgL2E8iJm/qbBdR3I479pkfF2mplrZNDPMYuKwSBwWiMMiZjFmNXZZgKzJsK+ad217DucSwSbNkDPCRxH31tp3MwNht6z5+Ejnus/6dNTaulgpFgcmXorHZo63m5mklfME92HhbuAICbSbDNbkDD4jaLgOaOhc//nJT97xI1qym3KAB3Lv3/jYldfPPZkfmDi4biWwABqQfdqkvwGVG2YsKaxMW0Ar9GUEWjKbp7Z27ppuyW7aCLwD25LdvPHeTbumW7KbikZY6Ra8obsMJeJIBiuEaKeGBswCzdnbs2tzH1lXw59bl7tr7ZpsZ9Ys1PYMG1GymrKavzpznbQjRVFNUQKSGpwiX0uSSxOySSttosxa9ZmqDeMolfMzC+XiRK33pXJholTOz6rWTlcdF28qrCAI+oB45TvP5OzpTO/w3mAWrjo7zcJ0z9Bem5ztzYqV5dREbOKsiUACSyQDCwTEUeBxXRNVEpV4LvPvt3dvXKhMDW7p2FFM+TUbyvH0eM/QvsXeob23VeL5dK3MCsrAMW4mbEDBQTeEIUybr/0dJMdCuZg+Pvh0Z8/lXyN5bxbfWg5zhFD215OAiSEz92okSwSbVAaG4mGJ/chCLY1JEELZL1SmfKk8yUJlyldBax13gCwIfisXRixhM5O4RezqzoHcBzB+g7Gtvk74KntDnh37v9d89lJ/hAsQB4f3geCqtayxVOL+kRH2rBYWoOtQcwofHgF2Y+qoF9jMhuem3ZP7nmr9U7moVAUiF3BxcM77EAenIFjMlkpzH566Ujq54RY6UmGV/awoI3uR4O4x8S1BKjkgSIYFhYu96TMv/bKpbb7oHvPOIgcOh7wzAHNVWYRSQ6by1oZMwUHPcKy+Veem60gOC64T+IXgoaSnz7IsJ4ei/pf35f586Uyq6L3JrnKwfKWwpUFQLZvzAXslcT+7bF97YJYguwi227ALq5k7P+OKJ7ozRy+fTRWcw0BBEHjnUXWUAihIFiRkWCNmrauGBfjG9hmb0vwhoZ9jzCXJaohV6T+R+ufJ7oYLUrV63NgkzGTSkDnXVxcswIVMHDvTs8AfanfYS5hW3c7RAX/62B8b36pUFBKACnAGJeCEg4Muk7lc9/Vk63Qb026+kFbqJ6APYdxTC0IyZgp+9M0DjUeLo36uRt8mEEvLNUTAbA44h3QGGCxkszMt5XLyO9i19pWHCjQoZZI7GSrstsA02HLQpdGoLGqh5/WGo+ePp0b53/ZXt9dwZgKzCjALDBgc9lH0vMFfPjcwcBqYua1YpP/cufde2ru6mymOubbG5vj7qTQ75SwyU7VMmeKBk6l/vPJs7rUrk77k3NLtywxJi8CsGQVhFyXXF8O4icp8Ph/n2trAe87391+ljfdsu361Vpmm+O5cc9iTzvAJaalMDfsLh5/PHRw4lZ5w3jzVxqUgaQwYljToo+gyRjmECnE5Nos8jU1N/OfUqZWSuhmwAD/8fQtRxBdyLeFpH1lHadZN//3FzME3DzT2uIiCYBizSwYjjZnM6PzCQkkSPpXifdu2cei5524Y46bBAnzzp+sz7beXv5ttCl8e7E2/9vLepv3zM+6CZHkvFQfT6dmOUomGdJrevr5V+6+7GtSyXHMoFcf8z1Jp+93Y26lCYawhz/jFUrazAzNj+8QEB/L5uv3/F2k1+QZ70J2JAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI4OjU5KzAwOjAwM8i5WwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMzowODowMiswMDowMKLS20oAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAgCAYAAACLmoEDAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH5wUZACIpx2TIswAABhBJREFUWMO1l0tsXGcVx3//e+94xmPHzsSxPXm4NK/adRKKQISUKjz6QIBKFIQUpMCiwIoFSF3RDQsELCIWCLEosKiggiyyQKWQSFV5pJRHUKpaVbDj2HnUedmOPR57xmOPPfd+h8Wk1JbH9Z1p+kmf7uK795zfd87/nu98otHxkScgbAYLYM4XbdFWsHZQCiNAhIgy2CwtTTmKy0YgaHfwj5cbchk0DLvcCh23xcyOftqiRzGOIB4BskArMI8xAbzFfOXv4J1nb2KIkWVr1KUa+qr/GMhlMR0HToA+gRlohbm1SOcRp/B0GucmGfrDBwy7/yg4T4he4HtgxzGl41kyQAvAabCTOF0GZwzHl4RfF2zXPoH2gn4MHMeURHG3LDASyA5gZIEBQsszM/IBwO4/CngZ4DlMXwcLVqU9Ji/IA/UifHzO0/VwmanhWJ97dbjyMR4HnkHUD7oaOgC+gfQ4ZrEDFu/F/i8DdAA/AXpr5t2sOsMIogicvftarY1JTaAtyDtDV99CnOjGLV0epg8jDtVcNQOwjx3cN/Glz3zcz7S1bM4XSrMvn7sQvTl4JYuZ1snEo2AHwc5Rq340Bmse4imM5JqgmiFwT3/20MxPn/sme3qyLVQz1vK1pz9VePbkC7k//e1CxzrASeBJ0OtAuHHE4sJi/aiGbJyx+4Hs3I++e6K4pyfbDfwfdu8D27p/+J0Txd092VlcjcAZPsYBXDyOmLASKEstsTrHgzu6mw8+9KGOGva8R3of3LJrZ3czztU0DNYNFutvree4Ta23kAj8QKotSknJRODX/pGrpaw5LkA9pWuutkMxnS/O5wvz07WWZ+aK01P5Quk9St3s/YU1c5iNAtGaNd9j6MpY6penX3GRc8WVS5FzxV+cfsUujd5oxq/pKsIYwXDEGPHqbGefgA7E50GrpSNRqYTBG0NXmwvFhfFdO7OlyLnkxHR+/OQLvy/87Ldnts+XFpN4tWBtGfgVaIDp4Q1LV7xjqO+o8LxdwKvA7nWiTxAEUbo5SeB7fhi5aGGxTBhG/voSsGvIniTy3mb4pQ1h42rWEONgp9ZPmQjD0C8US/7MbJFCseS/J2jVzu8wTRDjQIgfWYD9x8DcQ6DfYDrcYCe8kvbfwDM9iyMjgVvAcxA5D99397pQSJfLHJmY4Pl7X8TvuqaGoau3AJoDPYbY1DinjXsWntxZHhpIuaU2B+0y2s202fOs1aRWQTIIQ9KRi8LtO3Rga5vqvdZUMP0R+CjwLJBogNSlXfFy19JYJrDwqwaBBx4e8r1qj+FVZeHKyVQ40JnKezA4Hmm0vuZ76jJ09VUQV4D9wB4M1SOJhCtf31q583rSLQmpzaQWSenqtOrTrEWiFdSG2IrYHcF8fbBQlUN3/xzmpoDHQJm4sJ6Fs5lw6i+bwtk7AEimahTvTVWfkoFMMpMkwxKYTdYPC3D3EuzreZtyk4d0hDhyMAtbo7l/dVQmLgqzeM27hJlMumPSf+o5blePlrkI6dfAS2xUesxIuYVLWyoTAzLnYoAK8AzKwFsenPVSqduNRRag9RBAGeMqZocQ29arhL5VJjsq4682u1L+nYCt2IlAqrbFgHCYlYBBpH8K3syn09PJMIx//1kzJoehsw+Mu2Al0FNIyRUQgJC5pbYo99f2KHdN74JW01u9PCIsBC0Ct028EQTBOefc4BfHxiaubN683FkqcenGjfdf2uk/hh8uZZwf/MDkfbvaO1RBMYvSUfFC1/KN1wKrlKm2kTIzJC0DJTPywsYkbzSCKRPhYi4XtWQy4PtcvXZtlTbe90js/ZxI+AdDgucN75PvpDnhytc7l26dTbvCtCEfqAB5SXeBcUk3/SC4jVFxLiSqRGaBT7q1lf9evLjGz32BBUj0fwHn+ErkNf0ctM2zsJipTJ7NVCYHkZcHxjG7ZTCRTqUmF5eWypLwEwl2Hj7Mn198cUMf9w0WYNPDn04tkv5+RPCtdDT/Wnfl5inPwutAzpdmbzY1lbaVyySbmhgaHa3b/n2Fbe57AnO2peI3b2+v5PJZG89Vbtwq244ePGBfsciZXK5h+/8DFYWTIIiuQPwAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjg6NTkrMDA6MDAzyLlbAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIzOjA5OjIzKzAwOjAwqUK8vQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAgCAYAAACLmoEDAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH5wUZACIpx2TIswAABh5JREFUWMO1mF9sW3cVxz/nd23Xf26bhFGaNEyNKrTB0lFpD9Ah7QEESPRpAimVKA9DvIAmTdoTQoiHiidUsWpCZTxVMESJHG3lb4VEl64gteWPuiZjTZrUdqZQ203sxk7s1H/u/R0e7FTpZqfXXvlK1pX98zm/zz3n/H6/c6/Qp86cOUM0GsUYw+joqOTz+Y+r6oCqRkUkBHhADSipalFE1HEcYrEYR48e7WvOUL+wruuSyWRkbGzsqVwu9yzwHHAYGAZcoALkgRkR+RtwdXx8/Mbs7Kz2O6f0Y5RMJlHVYWAC+Cbw+fsOpavLq8BZEUlaa+8cO3bs/wubTCYREVHVJ1X1+yIyAcSD2KoqIrKpqkngJ8aYm6qqExMTgefvqQystWKM+RTwY+D5XuzbEY8D3xKRuKr+UERSQOCyML1E1RgzCLwEPN9eRD2rbfd14CVr7eDk5GRg28CwquoAXwJe6CWiXRRS1W+3/TmPFHZqagpjzBDwIq2V3ulmUFWstfi+j7X2/m9d5ALfFZGhoNENGiEDfBb4XDdQEdGhoaH8yMiIE4lEBhuNRimXy/l3794dVlX54C4hIqjqs8DTwNsEqN3AsKr6FWBXJ1DA7t+//+7hw4dxXTdBK7WJAwcOrF+/fr2YzWYf6wTc9vdl4O+0DpGHRuyhUlUDPEWX+nJdtzw+Pr7huu4+4D6s67r7Dh06tOG6bqmLawc4JCKBOILCSvsQkA5jJBKJ2MDAwGMd/JmBgYGPJRKJWKfalZb2yQ4nyXYFKoO2r2jXOzYm1G1CEdlljNlpxceCMASObFvlbgP1er3SaDQKncYajUahXq9Xu9mqammHHaMvWAssAn6HyFEul6PpdNqq6sYHQDZSqZSWy+VYl8D7IrIgIjYIRNDdwAKXaTUtD6RURPB9Pzo/P7+v0WgsHzx4sBQOh/c2m83VdDrdSKfTj/u+H+kC26TV4Dw6WBGxqnpRVbMicrBTdBuNRmRhYWEslUphjHGstfvbh4PTbf2oalZVp4NGNmgZqLU2B5xV1Y6ORQRrrdNsNp16vU6z2XR2Am1H8zcikheRQEUbuEWcnJxERJ4AfiUiR4La7aArIvLCz199dWFpeRljwbcGx7FYIwgQr9V4Lp/ntV5hAZLJZJhWx3QKGOmXUlVzlUrlB6deeeUP9Uol7EHIWIxvjXEc61sjVqARq9U2P1Ner83u/QQjYdtz99QE/gg8A7wMhHsA3OoH7OLCws2pycmh6vr6MceYkAGDQRyjAGpafYKt7Yp67+yNrhl4L+fLYs+PNclkEmBMVX8BfDXo6bOllZWV9JtTU3/KpNMlx3FE2Z7e9jfV9kUArMA9i/61l0MBgPZjyPu0SiHTi+1mtVr655Url5cymTVjjLZBLPc/0rqKWBArolYEUTSO6mDPsG1gHRwcvACcVtXNIDa+73vzc3P//sfVqxkRIVhCRFAVFcmqMYt9wQKMjo76qvpL4Hfs0ItuNeDZ27fn3rpw4R3P82wAUAGMtt47zBg4b6LR230/nszMzBCLxdY8zzupqp8GnukEISKsl8t3Ll28eLlYKGx++D8qILTbA0WwtLJ1C5GbwPJaLFYZaDZ7amQe0PHjx/E8T4FZz/NOWWs3tiK5/dpsNuvXrl27PHfjxp1t6W+lVzGqAqoeUAWWFN5yQqFfK/zla0tLc0Dl8VKJ9K1b/b3k2K5kMkmhUBjavXv3iXA4/D1jTGjbNuUvzM//69wbb1wqlUo1Y4wA0h5vAFVV1gR9X8Qs+rCqgnevWPQTQ0PgOKTS6Qdq4yPr5MmTEo/Hn96zZ89rkUjkC1upXl1dzfz+3Lnzi/PzBeM4Dq19ek1EVoCciCw7odBtlKa1Hn7TVw05xF2X/7z77odL6lHAApw+fZpIJPIN13V/5jjOyL3NzY2L09Pn356efs8JhdYEcqj+VyEfj0bv3KvXayKCEw7zySNHuPD66w+d45HBApw4cSI6PDz8o3g8/p3UrdSlN6eSZyvVasaIFB2R0nIkUh2p1dgViXBjcbFn/x/1ZcUDSiQStWKx+NNQKPTbbDa7tlooFGVlpRYfG0NV+WKhwJ+Lxb79/w9bQvQtKYEySwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyODo1OSswMDowMDPIuVsAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjM6MTA6NTArMDA6MDCv9FszAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]}]},Xv=qv,Zv=Pn.getLogger("DrawingDOM"),Kv={_addUID:function(t){var e=this._uid?t+"-"+this._uid:t;return e},_createMainContainerElement:function(){var t=document.createElement("div");return t.id=this._addUID("GPdrawing"),t.className="GPwidget",t},_createShowDrawingPictoElement:function(){var t=this,e=document.createElement("button");return e.id=this._addUID("GPshowDrawingPicto"),e.className="GPshowOpen GPshowAdvancedToolPicto",e.title=this.options.labels.control,e.setAttribute("tabindex","0"),e.setAttribute("aria-pressed",!1),e.addEventListener?e.addEventListener("click",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t.onShowDrawingClick(e)})):e.attachEvent&&e.attachEvent("onclick",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t.onShowDrawingClick(e)})),e},_createDrawingPanelElement:function(){var t=document.createElement("dialog");return t.id=this._addUID("GPdrawingPanel"),t.className="GPpanel",t},_createDrawingPanelDivElement:function(){var t=document.createElement("div");return t.className="gpf-panel__body fr-modal__body",t},_createDrawingPanelHeaderElement:function(){var t=document.createElement("div");t.className="GPpanelHeader";var e=document.createElement("div");e.className="GPpanelTitle",e.innerHTML=this.options.controlLabel||"Annoter la carte",t.appendChild(e);var n=document.createElement("div");n.id=this._addUID("GPdrawingPanelClose"),n.className="GPpanelClose",n.title="Fermer le panneau";var i=this;return n.addEventListener?n.addEventListener("click",(function(){document.getElementById(i._addUID("GPshowDrawingPicto")).click()}),!1):n.attachEvent&&n.attachEvent("onclick",(function(){document.getElementById(i._addUID("GPshowDrawingPicto")).click()})),t.appendChild(n),t},_createDrawingToolsSections:function(){var t=[];return this.dtOptions={},this.options.tools.points&&(this.dtOptions.points={label:this.options.labels.points,active:!1,panel:"draw",id:"point"}),this.options.tools.lines&&(this.dtOptions.lines={label:this.options.labels.lines,active:!1,panel:"draw",id:"line"}),this.options.tools.polygons&&(this.dtOptions.polygons={label:this.options.labels.polygons,active:!1,panel:"draw",id:"polygon"}),this.options.tools.holes&&(this.dtOptions.holes={label:this.options.labels.holes,active:!1,panel:"draw",id:"holes"}),this.options.tools.text&&(this.dtOptions.text={label:this.options.labels.text,active:!1,panel:"draw",id:"text"}),this.options.tools.edit&&(this.dtOptions.edit={label:this.options.labels.edit,active:!1,panel:"edit",id:"edit"}),this.options.tools.display&&(this.dtOptions.display={label:this.options.labels.display,active:!1,panel:"edit",id:"display"}),this.options.tools.tooltip&&(this.dtOptions.tooltip={label:this.options.labels.tooltip,active:!1,panel:"edit",id:"tooltip"}),this.options.tools.remove&&(this.dtOptions.remove={label:this.options.labels.remove,active:!1,panel:"edit",id:"remove"}),(this.dtOptions.points||this.dtOptions.lines||this.dtOptions.polygons||this.dtOptions.text)&&t.push(this._createDrawingToolSection(this.options.labels.creatingTools,"draw")),(this.dtOptions.edit||this.dtOptions.display||this.dtOptions.tooltip||this.dtOptions.remove)&&t.push(this._createDrawingToolSection(this.options.labels.editingTools,"edit")),this.options.tools.export&&t.push(this._createSavingSection(this.options.labels.export,this.options.labels.exportTitle)),t},_createDrawingToolSection:function(t,e){var n=document.createElement("div");n.className="drawing-tool-section";var i=document.createElement("p");i.className="drawing-tool-section-title",i.innerHTML=t,n.appendChild(i);var r=document.createElement("ul");r.className="drawing-tools-flex-display";var o=this;function s(t){o._handleDOMToolClick(t,this.id,o),o._handleToolClick(t,this.id,o)}for(var a in this.dtOptions)if(this.dtOptions[a].panel===e){var l=document.createElement("li");l.className="drawing-tool",l.id=this._addUID("drawing-tool-"+this.dtOptions[a].id),l.title=this.dtOptions[a].label,l.addEventListener("click",s),r.appendChild(l)}return n.appendChild(r),n},_createSavingSection:function(t,e){var n=document.createElement("div");n.className="drawing-tool-section drawing-tools-flex-display";var i=document.createElement("button");i.title=e,i.className="tool-form-submit drawing-button",i.id=this._addUID("drawing-export"),i.type="button",i.textContent=t;var r=this;return i.onclick=function(){r.onExportFeatureClick()},n.appendChild(i),n},_createMarkersChooser:function(t){var e=document.createElement("li");e.className=t.className;for(var n=0;n<this.options.markersList.length;n++){var i=document.createElement("input");i.type="radio",i.name="marker",i.id=this._addUID("marker-"+n),i.value=this.options.markersList[n].src,i.className="marker-input-radio",t.defaultValue===i.value&&(i.checked=!0),e.appendChild(i);var r=document.createElement("label");r.className="marker-label",r.setAttribute("for",i.id);var o=document.createElement("img");o.src=i.value,r.appendChild(o),e.appendChild(r)}return e},_createStylingElement:function(t){var e=document.createElement("li");e.className=t.className;var n=document.createTextNode(t.label);e.appendChild(n);var i=document.createElement("input");try{i.type=t.type}catch(YE){i.type="text"}return i.id=t.id,i.value=t.defaultValue,t.title&&(i.title=t.title),void 0!==t.checked&&(i.checked=t.checked),void 0!==t.min&&(i.min=t.min),void 0!==t.max&&(i.max=t.max),void 0!==t.step&&(i.step=t.step),e.appendChild(i),e},_createStylingDiv:function(t){var e=document.createElement("div");e.className="gp-styling-div";var n=document.createElement("ul"),i=null,r=t.geomType.toLowerCase();switch(r){case"point&text":case"point":i=this._createMarkersChooser({className:"gp-styling-option",defaultValue:t.initValues.markerSrc}),n.appendChild(i),i=this._createStylingElement({type:"range",className:"gp-styling-option",label:this.options.labels.markerSize,title:"petit, moyen ou grand",id:this._addUID("markerSize"),min:5,max:15,step:5,defaultValue:10*t.initValues.markerSize}),n.appendChild(i),t.initValues.markerCustom,"point&text"===r&&(i=this._createStylingElement({type:"checkbox",className:"gp-styling-option",label:this.options.labels.labelDisplay,id:this._addUID("labelDisplay"),checked:t.initValues.labelDisplay,defaultValue:t.initValues.labelDisplay}),n.appendChild(i));break;case"text":i=this._createStylingElement({type:"color",className:"gp-styling-option",label:this.options.labels.fillColor,id:this._addUID("fillColor"),defaultValue:t.initValues.fillColor}),n.appendChild(i),i=this._createStylingElement({type:"color",className:"gp-styling-option",label:this.options.labels.strokeColor,id:this._addUID("strokeColor"),defaultValue:t.initValues.strokeColor}),n.appendChild(i),i=this._createStylingElement({type:"range",className:"gp-styling-option",label:this.options.labels.strokeWidth,title:"1 à 10 pixels",id:this._addUID("strokeWidth"),min:1,max:10,step:1,defaultValue:t.initValues.strokeWidth}),n.appendChild(i);break;case"line":i=this._createStylingElement({type:"color",className:"gp-styling-option",label:this.options.labels.strokeColor,id:this._addUID("strokeColor"),defaultValue:t.initValues.strokeColor}),n.appendChild(i),i=this._createStylingElement({type:"range",className:"gp-styling-option",label:this.options.labels.strokeWidth,title:"1 à 10 pixels",id:this._addUID("strokeWidth"),min:1,max:10,step:1,defaultValue:t.initValues.strokeWidth}),n.appendChild(i);break;case"polygon":i=this._createStylingElement({type:"color",className:"gp-styling-option",label:this.options.labels.strokeColor,id:this._addUID("strokeColor"),defaultValue:t.initValues.strokeColor}),n.appendChild(i),i=this._createStylingElement({type:"range",className:"gp-styling-option",label:this.options.labels.strokeWidth,title:"1 à 10 pixels",id:this._addUID("strokeWidth"),min:1,max:10,step:1,defaultValue:t.initValues.strokeWidth}),n.appendChild(i),i=this._createStylingElement({type:"color",className:"gp-styling-option",label:this.options.labels.fillColor,id:this._addUID("fillColor"),defaultValue:t.initValues.fillColor}),n.appendChild(i),i=this._createStylingElement({type:"range",className:"gp-styling-option",label:this.options.labels.fillOpacity,title:"0 (transparent) à 100% (opaque)",id:this._addUID("fillOpacity"),min:0,max:10,step:1,defaultValue:10*t.initValues.fillOpacity}),n.appendChild(i);break;default:Zv.log("Unhandled geometry type for styling.")}e.appendChild(n);var o=document.createElement("input");o.type="button",o.className="gp-styling-button",o.value=this.options.labels.applyToObject,o.onclick=function(){t.applyFunc.call(this,"apply")},e.appendChild(o);var s=document.createElement("input");s.type="button",s.value=this.options.labels.setAsDefault,s.className="gp-styling-button",s.onclick=function(){t.applyFunc.call(this,"default")},e.appendChild(s);var a=document.createElement("input");return a.type="button",a.className="gp-styling-button closer",a.onclick=function(){t.applyFunc.call(this,"cancel")},e.appendChild(a),e},_createLabelDiv:function(t){var e=document.createElement("div");e.className="gp-label-div";var n=null;if("Text"===t.geomType?(n=document.createElement("input"),n.type="text",n.className="gp-input-label-style"):(n=document.createElement("textArea"),n.rows=2,n.cols=40,n.className="gp-textarea-att-label-style"),t.text&&(n.value=t.text),n.autocomplete="off",n.placeholder=t.placeholder,n.id=t.inputId,e.appendChild(n),n.onblur=function(){t.applyFunc.call(this,t.key,n.value,!0)},n.onkeyup=function(e){"Text"===t.geomType&&13===e.keyCode&&t.applyFunc.call(this,t.key,n.value,!0),27===e.keyCode&&t.applyFunc.call(this,t.key,n.value,!1)},t.measure&&"Text"!==t.geomType){var i=document.createElement("input");i.type="text",i.readonly=!0,i.className="gp-input-measure-style",i.value=t.measure,e.appendChild(i)}if("Text"!==t.geomType){var r=document.createElement("input");r.type="button",r.className="gp-styling-button",r.value=this.options.labels.saveDescription,r.onclick=function(){t.applyFunc.call(this,t.key,n.value,!0)},e.appendChild(r);var o=document.createElement("input");o.type="button",o.className="gp-styling-button closer",o.onclick=function(){t.applyFunc.call(this,t.key,n.value,!1)},e.appendChild(o)}return e},_handleDOMToolClick:function(t,e,n){for(var i in n.dtOptions){var r=n._addUID("drawing-tool-"+n.dtOptions[i].id),o=document.getElementById(r);r===e?(n.dtOptions[i].active?o.className="drawing-tool":o.className="drawing-tool drawing-tool-active",n.dtOptions[i].active=!n.dtOptions[i].active):(o.className="drawing-tool",n.dtOptions[i].active=!1)}}},Jv=Kv,Qv=Pn.getLogger("Drawing"),$v=class t extends jc{constructor(e){if(e=e||{},super({element:e.element,target:e.target,render:e.render}),!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return this._initialize(e),this._container=this._initContainer(),this.element?this.element.appendChild(this._container):this.element=this._container,this}static DefaultTools={points:!0,lines:!0,polygons:!0,holes:!1,text:!0,remove:!0,display:!0,tooltip:!0,edit:!0,export:!0,measure:!1};static DefaultLabels={control:"Annoter la carte",creatingTools:"Outils de création",points:"Placer des points",lines:"Dessiner des lignes",polygons:"Dessiner des polygones",holes:"Créer des trous sur un polygone",text:"Ecrire sur la carte",editingTools:"Outils d'édition",edit:"Editer les tracés",display:"Modifier l'apparence des objets",tooltip:"Modifier les textes / infos-bulles",remove:"Supprimer des objets",export:"Exporter",exportTitle:"Exporter en KML",applyToObject:"Appliquer à l'objet",saveDescription:"Enregistrer",setAsDefault:"Définir par défaut",strokeColor:"Couleur du trait : ",strokeWidth:"Epaisseur du trait : ",fillColor:"Couleur de remplissage : ",fillOpacity:"Opacité du remplissage : ",markerSize:"Taille du pictogramme : ",markerColor:"Couleur du pictogramme : ",labelDisplay:"Afficher le label : "};static DefaultStyles={textFillColor:"#000000",textStrokeColor:"#FFFFFF",textStrokeWidth:6,textIcon1x1:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGNiYAAAAAkAAxkR2eQAAAAASUVORK5CYII=",anchor:[0,0]},polyFillColor:"#ffffff",polyFillOpacity:.4,polyStrokeColor:"#ffcc33",polyStrokeWidth:4,strokeColor:"#ffcc33",strokeWidth:4,markerSize:1,markerColor:"#ffcc33",labelDisplay:!0};static DefaultCursorStyle={radius:6,strokeColor:"#FFF",strokeWidth:1,fillColor:"rgba(0, 153, 255, 1)"};setMap(t){super.setMap(t),this.getMap()&&this.eventKey&&(0,ur.e)(this.eventKey),null!=t&&(this.options.position&&this.setPosition(this.options.position),this.draggable&&Dd.dragElement(this._drawingPanel,this._drawingPanelHeader,this.options.position?null:t.getTargetElement()),this.collapsed||this._showDrawingButton.setAttribute("aria-pressed",!0),this.layer&&this.setLayer(this.layer),this.eventKey=this.getMap().getLayers().on("remove",(t=>{t.element===this.layer&&(this.layer=null,this.interactionCurrent&&(this.getMap().removeInteraction(this.interactionCurrent),this.interactionCurrent=null))})))}exportFeatures(){var t=null;if(null==jc.prototype.getMap.call(this))return Qv.log("Impossible to export : control isn't attached to any map."),t;if(!this.layer)return Qv.log("Impossible to export : no layer is hosting features."),t;if(!this.layer.getSource()||!this.layer.getSource().getFeatures()||!this.layer.getSource().getFeatures().length)return Qv.log("Impossible to export : no features found."),t;this.featuresCollectionSelected&&this.featuresCollectionSelected.clear();var e=null;switch(this.getExportFormat()){case"KML":e=new ri({writeStyles:!0});break;case"GPX":e=new ai({});break;case"GEOJSON":e=new ui({});break;default:break}if(!e)return Qv.log("Impossible to export : format unknown !?"),t;var n=this.layer.getSource().getProjection();return n=n||this.getMap().getView().getProjection(),t=e.writeFeatures(this.layer.getSource().getFeatures(),{dataProjection:"EPSG:4326",featureProjection:n}),t}setCollapsed(t){void 0!==t?t&&this.collapsed||!t&&!this.collapsed||(this.onShowDrawingClick(),this._showDrawingButton.click()):Qv.error("[ERROR] Drawing:setCollapsed - missing collapsed parameter")}setExportName(t){this._exportName=t}getExportName(){return this._exportName}setExportFormat(t){switch(this._exportFormat=t?t.toUpperCase():"KML",t.toUpperCase()){case"KML":this._exportExt=".kml",this._exportMimeType="application/vnd.google-earth.kml+xml";break;case"GPX":this._exportExt=".gpx",this._exportMimeType="application/gpx+xml";break;case"GEOJSON":this._exportExt=".geojson",this._exportMimeType="application/geo+json";break;default:this._exportFormat="KML";break}}getExportFormat(){return this._exportFormat}setLayer(t){if(t)if(t instanceof _e.A){var e=this.getMap().getLayers();if(e){var n=!1;e.forEach((e=>{e===t&&(Qv.trace("layer already in map. Not adding."),n=!0)})),n||this.getMap().addLayer(t),t.getSource().getFeatures().forEach((t=>{var e=t.getStyle();if("function"===typeof e){var n=t.getStyleFunction();if(n){var i=n.call(this,t,0);i&&0!==i.length&&t.setStyle(Array.isArray(i)?i[0]:i)}}})),this.layer=t,this.getMap().getControls().forEach((t=>{if(t instanceof Ad){var e=this.layer.gpLayerId;t._layers[e].title===e&&t.addLayer(this.layer,{title:this.options.layerDescription.title,description:this.options.layerDescription.description})}}))}}else Qv.log("no valid layer given for hosting drawn features.");else this.layer=null}getLayer(){return this.layer}getContainer(){return this._container}_getsMarkersOptionsFromSrc(t){for(var e=null,n=0;n<this.options.markersList.length;n++)if(t&&this.options.markersList[n].src===t)return e=this.options.markersList[n],e;return e}_getIconStyleOptions(t){var e={};return Object.keys(t).forEach((n=>{switch(n){case"src":case"size":case"scale":case"color":case"anchor":case"anchorOrigin":case"anchorXUnits":case"anchorYUnits":e[n]=t[n];break}})),e}_initialize(e){this._uid=Yc.generate(),this._exportName="Croquis",this._exportFormat="KML",this._exportMimeType="application/vnd.google-earth.kml+xml",this._exportExt=".kml",e=e||{},this.options=e,this.options.layerDescription||(this.options.layerDescription={title:"Croquis",description:"Mon croquis"}),this.options.tools||(this.options.tools={}),Object.keys(t.DefaultTools).forEach((e=>{this.options.tools.hasOwnProperty(e)||(this.options.tools[e]=t.DefaultTools[e])})),this.options.cursorStyle||(this.options.cursorStyle={}),Object.keys(t.DefaultCursorStyle).forEach((e=>{this.options.cursorStyle.hasOwnProperty(e)||(this.options.cursorStyle[e]=t.DefaultCursorStyle[e])})),this.options.collapsed=void 0===e.collapsed||e.collapsed,this.collapsed=this.options.collapsed,this.options.draggable=void 0!==e.draggable&&e.draggable,this.draggable=this.options.draggable,this.options.markersList=e.markersList||Xv["drawing_api"],this.options.labels||(this.options.labels={}),Object.keys(t.DefaultLabels).forEach((e=>{this.options.labels.hasOwnProperty(e)||(this.options.labels[e]=t.DefaultLabels[e])})),this.options.defaultStyles||(this.options.defaultStyles={}),Object.keys(t.DefaultStyles).forEach((n=>{if(e.defaultStyles.hasOwnProperty(n)){if("polyFillOpacity"===n&&(e.defaultStyles[n]<0||e.defaultStyles[n]>1))return Qv.log("Wrong value ("+e.defaultStyles[n]+") for defaultStyles.polyFillOpactity. Must be between 0 and 1"),void(this.options.defaultStyles[n]=t.DefaultStyles[n]);if("strokeWidth"===n||"polyStrokeWidth"===n){var i=parseInt(e.defaultStyles[n],10);if(isNaN(i)||i<0)return Qv.log("Wrong value ("+e.defaultStyles[n]+") for defaultStyles.strokeWidth. Must be a positive interger value."),void(this.options.defaultStyles[n]=t.DefaultStyles[n]);this.options.defaultStyles[n]=i}if("markerSize"===n){var r=parseFloat(e.defaultStyles[n]);if(isNaN(r)||r<0)return Qv.log("Wrong value ("+e.defaultStyles[n]+") for defaultStyles.markerSize. Must be a positive value."),void(this.options.defaultStyles[n]=t.DefaultStyles[n]);this.options.defaultStyles[n]=r}}else this.options.defaultStyles[n]=t.DefaultStyles[n]})),this.interactionCurrent=null,this.interactionSelectEdit=null,this.featuresCollectionSelected=null,this.stylingOvl=null,this.popupOvl=null,this.layer=null,this.options.layer&&this.options.layer instanceof _e.A&&(this.layer=this.options.layer),this._isDesktop=this._detectSupport(),this.options.popup||(this.options.popup={display:!0,apply:null})}_createEmptyLayer(){var t=new me.A,e=new _e.A({source:new _t.A({features:t})});e.gpResultLayerId="drawing",this.setLayer(e)}_detectSupport(){var t=!0,e=window.navigator.userAgent.toLowerCase();return-1===e.indexOf("iphone")&&-1===e.indexOf("ipod")&&-1===e.indexOf("ipad")&&-1===e.indexOf("android")&&-1===e.indexOf("mobile")&&-1===e.indexOf("blackberry")&&-1===e.indexOf("tablet")&&-1===e.indexOf("phone")&&-1===e.indexOf("touch")||(t=!1),-1===e.indexOf("msie")&&-1===e.indexOf("trident")||(t=!0),t}_initContainer(){var t=this._createMainContainerElement(),e=this._showDrawingButton=this._createShowDrawingPictoElement();t.appendChild(e);var n=this._drawingPanel=this._createDrawingPanelElement(),i=this._createDrawingPanelDivElement();n.appendChild(i);var r=this._drawingPanelHeader=this._createDrawingPanelHeaderElement();i.appendChild(r);for(var o=this._createDrawingToolsSections(),s=0;s<o.length;s++)i.appendChild(o[s]);return t.appendChild(n),t}_drawEndFeature(t,e){var n=null;switch(e){case"Point":n=new Ie.Ay({image:new Vn.A(this._getIconStyleOptions(this.options.markersList[0]))});break;case"LineString":n=new Ie.Ay({stroke:new Yn.A({color:this.options.defaultStyles.strokeColor,width:this.options.defaultStyles.strokeWidth})});break;case"Polygon":n=new Ie.Ay({fill:new Hn.A({color:Zn.hexToRgba(this.options.defaultStyles.polyFillColor,this.options.defaultStyles.polyFillOpacity)}),stroke:new Yn.A({color:this.options.defaultStyles.polyStrokeColor,width:this.options.defaultStyles.polyStrokeWidth})});break}if(t.setStyle(n),this._updateMeasure(t,e),this.options.popup.display){var i=this,r=function(e,n,r){if(i.getMap().removeOverlay(i.popupOvl),i.popupOvl=null,r&&n&&n.trim().length>0){var o={};o[e]=n.replace(/\n/g,"<br>"),t.setProperties(o)}},o=null,s=!0,a=this.options.popup.function;a&&"function"===typeof a&&(o=a.call(i,{feature:t,geomType:e,closeFunc:function(){r(null,!1)},saveFunc:function(t){r(t,!0)}}),o&&(s=!1,o.tabIndex=-1,o.onblur=function(){i.getMap().removeOverlay(i.popupOvl),i.popupOvl=null})),s&&(o=this._createLabelDiv({applyFunc:r,inputId:this._addUID("att-input"),placeholder:"Saisir une description...",measure:this.options.tools.measure?t.getProperties().measure:null,geomType:e,key:"description"})),this.popupOvl&&(this.getMap().removeOverlay(this.popupOvl),this.popupOvl=null),this.popupOvl=new d({element:o,positioning:"top-center"}),this.getMap().addOverlay(this.popupOvl);var l=t.getGeometry().getExtent();this.popupOvl.setPosition([(l[0]+l[2])/2,(l[1]+l[3])/2]),document.getElementById(this._addUID("att-input"))&&document.getElementById(this._addUID("att-input")).focus()}}_createRemoveInteraction(){var t=new Me({layers:[this.layer],style:!1});return t.on("select",(t=>{t&&t.selected&&0!==t.selected.length&&(this.layer.getSource().removeFeature(t.selected[0]),this.getMap().removeInteraction(this.interactionCurrent),this.interactionCurrent=this._createRemoveInteraction(),this.getMap().addInteraction(this.interactionCurrent))})),t}_createStylingInteraction(){var t=new Me({layers:[this.layer],style:!1});return t.on("select",(t=>{if(this.stylingOvl&&this.getMap().removeOverlay(this.stylingOvl),t&&t.selected&&0!==t.selected.length){var e=null,n=null,i=null,r=null,o={},s=t.selected[0].getGeometry(),a=t.selected[0].getStyle();if(s instanceof Te.A||s instanceof sn.A){if(a&&a.getImage()&&"function"===typeof a.getImage().getSrc&&a.getImage().getSrc()!==this.options.defaultStyles.textIcon1x1.src&&(r="Point","function"===typeof a.getImage().getSrc?(o.markerSrc=a.getImage().getSrc(),o.markerSize=a.getImage().getScale()||1,o.markerAnchor=a.getImage().getAnchor(),a.getImage().getColor()?(e=a.getImage().getColor(),Array.isArray(e)?e="rgba("+e.join()+")":o.markerColor=e,n=Zn.isRGB(e)?Zn.rgbaToHex(e):{hex:e,opacity:1},o.markerColor=n.hex,o.markerOpacity=n.opacity):o.markerColor=this.options.markersList[0].color||"#ffffff"):(o.markerSrc=this.options.markersList[0].src,o.markerSize=this.options.markersList[0].scale||1,o.markerColor=this.options.markersList[0].color||"#ffffff",o.markerAnchor=this.options.markersList[0].anchor),o.markerCustom=!this._getsMarkersOptionsFromSrc(o.markerSrc)),a&&a.getText()){var l=t.selected[0].getProperties().name;if(l&&(r="Point"===r?"Point&Text":"Text",a.getText().getStroke()&&a.getText().getStroke().getColor()&&(e=a.getText().getStroke().getColor(),Array.isArray(e)?e="rgba("+e.join()+")":o.strokeColor=e,n=Zn.isRGB(e)?Zn.rgbaToHex(e):{hex:e,opacity:1},o.strokeColor=n.hex,o.strokeOpacity=n.opacity),a.getText().getStroke()&&a.getText().getStroke().getWidth()&&(o.strokeWidth=a.getText().getStroke().getWidth()),a.getText().getFill()&&a.getText().getFill().getColor()&&(e=a.getText().getFill().getColor(),Array.isArray(e)?e="rgba("+e.join()+")":o.fillColor=e,n=Zn.isRGB(e)?Zn.rgbaToHex(e):{hex:e,opacity:1},o.fillColor=n.hex,o.fillOpacity=n.opacity),o.strokeColor=o.hasOwnProperty("strokeColor")?o.strokeColor:this.options.defaultStyles.textStrokeColor,o.strokeWidth=o.hasOwnProperty("strokeWidth")?o.strokeWidth:this.options.defaultStyles.textStrokeWidth,o.fillColor=o.hasOwnProperty("fillColor")?o.fillColor:this.options.defaultStyles.textFillColor,"Point&Text"===r)){var c=a.getText().getText();c||a.getText().setText(l);var u=t.selected[0].get("checked");o.labelDisplay=void 0===u?this.options.defaultStyles.labelDisplay:u}}}else s instanceof nn.A||s instanceof on.A?(r="Line",a&&a.getStroke()&&(a.getStroke().getWidth()&&(o.strokeWidth=a.getStroke().getWidth()),a.getStroke().getColor()&&(e=a.getStroke().getColor(),Array.isArray(e)?e="rgba("+e.join()+")":o.strokeColor=e,n=Zn.isRGB(e)?Zn.rgbaToHex(e):{hex:e,opacity:1},o.strokeColor=n.hex,o.strokeOpacity=n.opacity)),o.strokeWidth=o.hasOwnProperty("strokeWidth")?o.strokeWidth:this.options.defaultStyles.strokeWidth,o.strokeColor=o.hasOwnProperty("strokeColor")?o.strokeColor:this.options.defaultStyles.strokeColor):(s instanceof De.Ay||s instanceof an.A)&&(r="Polygon",a&&a.getStroke()&&(a.getStroke().getWidth()&&(o.strokeWidth=a.getStroke().getWidth()),a.getStroke().getColor()&&(e=a.getStroke().getColor(),Array.isArray(e)?e="rgba("+e.join()+")":o.strokeColor=e,n=Zn.isRGB(e)?Zn.rgbaToHex(e):{hex:e,opacity:1},o.strokeColor=n.hex,o.strokeOpacity=n.opacity)),a&&a.getFill()&&a.getFill().getColor()&&(e=a.getFill().getColor(),Array.isArray(e)?e="rgba("+e.join()+")":o.fillColor=e,n=Zn.isRGB(e)?Zn.rgbaToHex(e):{hex:e,opacity:1},o.fillColor=n.hex,o.fillOpacity=n.opacity),o.strokeWidth=o.hasOwnProperty("strokeWidth")?o.strokeWidth:this.options.defaultStyles.polyStrokeWidth,o.strokeColor=o.hasOwnProperty("strokeColor")?o.strokeColor:this.options.defaultStyles.polyStrokeColor,o.fillColor=o.hasOwnProperty("fillColor")?o.fillColor:this.options.defaultStyles.polyFillColor,o.fillOpacity=o.hasOwnProperty("fillOpacity")?o.fillOpacity:this.options.defaultStyles.polyFillOpacity);if(r){var h=this,p=function(e){if("cancel"!==e){var n="apply"!==e,s=document.getElementById(h._addUID("fillColor")),l=document.getElementById(h._addUID("fillOpacity")),c=document.getElementById(h._addUID("strokeColor")),u=document.getElementById(h._addUID("strokeWidth")),d=document.getElementById(h._addUID("markerSize"));switch(r.toLowerCase()){case"text":n?(h.options.defaultStyles.textStrokeColor=c.value,h.options.defaultStyles.textStrokeWidth=u.value,h.options.defaultStyles.textFillColor=s.value):t.selected[0].setStyle(new Ie.Ay({text:new qn.A({font:"16px sans",textAlign:"left",text:a.getText().getText(),fill:new Hn.A({color:s.value}),stroke:new Yn.A({color:c.value,width:parseInt(u.value,10)})})}));break;case"point&text":case"point":var p=document.querySelector("input[type='checkbox']"),g=null,f=parseInt(d.value,10)/10,m=document.querySelector("input[name='marker']:checked");if(m&&(g=h._getsMarkersOptionsFromSrc(m.value),g.scale=f),n){if(h.options.defaultStyles.markerSize=f,h.options.markersList.length>1){var A=h.options.markersList.findIndex((function(t){return t===g}));A>0&&(h.options.markersList.splice(A,1),h.options.markersList.splice(0,0,g))}"point&text"===r.toLowerCase()&&(h.options.defaultStyles.textStrokeColor=o.strokeColor,h.options.defaultStyles.textStrokeWidth=o.strokeWidth,h.options.defaultStyles.textFillColor=o.fillColor,h.options.defaultStyles.labelDisplay=o.labelDisplay)}else{var y={};"point&text"===r.toLowerCase()&&(t.selected[0].set("checked",p.checked),y={text:new qn.A({font:"16px sans",textAlign:"left",text:p.checked?t.selected[0].get("name"):"",fill:new Hn.A({color:o.fillColor}),stroke:new Yn.A({color:o.strokeColor,width:parseInt(o.strokeWidth,10)})})}),g?t.selected[0].setStyle(new Ie.Ay(Object.assign({image:new Vn.A(h._getIconStyleOptions(g))},y))):t.selected[0].setStyle(new Ie.Ay(Object.assign({image:new Vn.A({src:o.markerSrc,anchor:o.markerAnchor,anchorOrigin:"top-left",anchorXUnits:"pixels",anchorYUnits:"pixels",scale:f})},y)))}break;case"line":n?(h.options.defaultStyles.strokeColor=c.value,h.options.defaultStyles.strokeWidth=parseInt(u.value,10)):t.selected[0].setStyle(new Ie.Ay({stroke:new Yn.A({width:parseInt(u.value,10),color:c.value})}));break;case"polygon":var v=parseInt(l.value,10)/10;n?(h.options.defaultStyles.polyStrokeColor=c.value,h.options.defaultStyles.polyFillColor=s.value,h.options.defaultStyles.polyFillOpacity=v,h.options.defaultStyles.polyStrokeWidth=parseInt(u.value,10)):t.selected[0].setStyle(new Ie.Ay({stroke:new Yn.A({width:parseInt(u.value,10),color:c.value}),fill:new Hn.A({color:Zn.hexToRgba(s.value,v)})}));break}n||h.getMap().removeOverlay(i)}else h.getMap().removeOverlay(i)},g=this._createStylingDiv({geomType:r,initValues:o,applyFunc:p});i=new d({element:g,positioning:"top-center"}),this.getMap().addOverlay(i),i.setPosition(t.mapBrowserEvent.coordinate),this.stylingOvl=i,this.getMap().removeInteraction(this.interactionCurrent),this.interactionCurrent=this._createStylingInteraction(),this.getMap().addInteraction(this.interactionCurrent)}else Qv.log("Unhandled geometry type for styling.")}})),t}_createLabelInteraction(){var t=new Me({layers:[this.layer],style:!1});return t.on("select",(t=>{if(this.labelOvl&&this.getMap().removeOverlay(this.labelOvl),t&&t.selected&&0!==t.selected.length){var e=null,n=null,i=null,r=null,o=t.selected[0].getGeometry(),s=t.selected[0].getStyle();if(o instanceof Te.A||o instanceof sn.A){var a=t.selected[0].getProperties().name;s&&s.getText()&&a?n="Text":s&&s.getImage()&&(n="Point")}else if(o instanceof nn.A||o instanceof on.A)n="Line";else{if(!(o instanceof De.Ay||o instanceof an.A))return void Qv.log("Geometry type for styling not supported .");n="Polygon"}if(n){if("Text"===n)i=s.getText().getText();else{var l=t.selected[0].getProperties();l&&(l.hasOwnProperty("description")||l.hasOwnProperty("desc"))&&(i=l["description"]||l["desc"]),l&&l.hasOwnProperty("measure")&&(r=l["measure"])}var c=this,u=function(i,r,o){if(c.getMap().removeOverlay(e),o){var s=t.selected[0];if("Text"===n){var a=s.getStyle();return a.getText().setText(r),s.setProperties({name:r}),void s.setStyle(a)}var l={};l[i]=r.replace(/\n/g,"<br>"),s.setProperties(l)}},h=this._createLabelDiv({applyFunc:u,inputId:this._addUID("label-input"),placeholder:"Text"===n?"Saisir un label...":"Saisir une description...",text:i,key:"description",measure:this.options.tools.measure?r:null,geomType:n});e=new d({element:h,positioning:"top-center"}),this.getMap().addOverlay(e),e.setPosition(t.mapBrowserEvent.coordinate),document.getElementById(this._addUID("label-input")).focus(),this.labelOvl=e,this.getMap().removeInteraction(this.interactionCurrent),this.interactionCurrent=this._createLabelInteraction(),this.getMap().addInteraction(this.interactionCurrent)}else Qv.log("Unhandled geometry type for styling.")}})),t}_updateMeasure(t,e){Qv.log(t);var n=null,i=this.getMap().getView().getProjection();function r(t,e){e=e||2;var n=Math.pow(10,e);return Math.round(t*n)/n}var o=e||t.getProperties().type;switch(o){case"Point":var s=t.getGeometry().getCoordinates(),a=(0,Z.pd)(s,i,"EPSG:4326");n="lon : ",n+=r(a[0],4)+"°",n+=" / ",n+="lat : ",n+=r(a[1],4)+"°";break;case"LineString":for(var l=0,c=t.getGeometry().getCoordinates(),u=0,h=c.length-1;u<h;++u){var d=(0,Z.pd)(c[u],i,"EPSG:4326"),p=(0,Z.pd)(c[u+1],i,"EPSG:4326");l+=(0,Hv.Yf)(d,p)}n=l>1e3?r(l/1e3,3)+" km":r(l,3)+" m";break;case"Polygon":var g=0,f=t.getGeometry().clone(),m=f.getLinearRing(0).getCoordinates();g=Math.abs((0,Hv.UG)(new De.Ay([m])));var A=f.getLinearRings();if(A.length>1)for(var y=1;y<A.length;y++){var v=A[y].getCoordinates();g-=Math.abs((0,Hv.UG)(new De.Ay([v])))}n=g>1e6?r(g/1e6,3)+" km^2":r(g,2)+" m^2";break}t.setProperties({measure:n,type:o})}_handleToolClick(t,e,n){var i=n.getMap();if(i){switch(Un.unset(i,{current:"Drawing"}),n.interactionCurrent&&(i.removeInteraction(n.interactionCurrent),n.interactionCurrent=null),n.interactionSelectEdit&&(i.removeInteraction(n.interactionSelectEdit),n.interactionSelectEdit=null),n.popupOvl&&(n.getMap().removeOverlay(n.popupOvl),n.popupOvl=null),this.layer||this._createEmptyLayer(),e){case this._addUID("drawing-tool-point"):n.dtOptions["points"].active&&(n.interactionCurrent=new wn({stopClick:!0,source:n.layer.getSource(),style:new Ie.Ay({image:new Vn.A(this._getIconStyleOptions(this.options.markersList[0]))}),type:"Point"}),n.interactionCurrent.on("drawend",(function(t){n._drawEndFeature(t.feature,"Point")}),n));break;case this._addUID("drawing-tool-line"):n.dtOptions["lines"].active&&(n.interactionCurrent=new wn({stopClick:!0,source:n.layer.getSource(),style:new Ie.Ay({image:new Wn.A({radius:this.options.cursorStyle.radius,stroke:new Yn.A({color:this.options.cursorStyle.strokeColor,width:this.options.cursorStyle.strokeWidth}),fill:new Hn.A({color:this.options.cursorStyle.fillColor})}),stroke:new Yn.A({color:this.options.defaultStyles.strokeColor,width:this.options.defaultStyles.strokeWidth})}),type:"LineString"}),n.interactionCurrent.on("drawend",(function(t){n._drawEndFeature(t.feature,"LineString")}),n));break;case this._addUID("drawing-tool-polygon"):n.dtOptions["polygons"].active&&(n.interactionCurrent=new wn({stopClick:!0,source:n.layer.getSource(),style:new Ie.Ay({image:new Wn.A({radius:this.options.cursorStyle.radius,stroke:new Yn.A({color:this.options.cursorStyle.strokeColor,width:this.options.cursorStyle.strokeWidth}),fill:new Hn.A({color:this.options.cursorStyle.fillColor})}),stroke:new Yn.A({color:this.options.defaultStyles.polyStrokeColor,width:this.options.defaultStyles.polyStrokeWidth}),fill:new Hn.A({color:Zn.hexToRgba(this.options.defaultStyles.polyFillColor,this.options.defaultStyles.polyFillOpacity)})}),type:"Polygon"}),n.interactionCurrent.on("drawend",(function(t){n._drawEndFeature(t.feature,"Polygon")}),n));break;case this._addUID("drawing-tool-holes"):n.dtOptions["holes"].active&&(n.interactionSelectEdit=new Me({stopClick:!0,condition:Ee.N1,layers:[this.layer]}),n.interactionSelectEdit.setProperties({name:"Drawing",source:n}),i.addInteraction(n.interactionSelectEdit),n.interactionCurrent=new wn({stopClick:!0,features:this.interactionSelectEdit.getFeatures(),style:new Ie.Ay({image:new Wn.A({radius:this.options.cursorStyle.radius,stroke:new Yn.A({color:this.options.cursorStyle.strokeColor,width:this.options.cursorStyle.strokeWidth}),fill:new Hn.A({color:this.options.cursorStyle.fillColor})}),stroke:new Yn.A({color:this.options.defaultStyles.polyStrokeColor,width:this.options.defaultStyles.polyStrokeWidth}),fill:new Hn.A({color:Zn.hexToRgba(this.options.defaultStyles.polyFillColor,this.options.defaultStyles.polyFillOpacity)})}),type:"Polygon"}),n.interactionCurrent.on("drawstart",(function(t){}),n),n.interactionCurrent.on("drawend",(function(t){var e=n.interactionSelectEdit.getFeatures();if(e.getLength()){for(var i=e.item(0),r=t.feature.getGeometry().getCoordinates()[0],o=!0,s=0;s<r.length;s++)if(!i.getGeometry().intersectsCoordinate(r[s])){o=!1;break}if(!o)return;i.getGeometry().appendLinearRing(new Yv.A(r)),t.feature=i,n._drawEndFeature(t.feature,"Polygon")}}),n));break;case this._addUID("drawing-tool-text"):n.dtOptions["text"].active&&(n.interactionCurrent=new wn({stopClick:!0,source:n.layer.getSource(),style:new Ie.Ay({image:new Wn.A({radius:this.options.cursorStyle.radius,stroke:new Yn.A({color:this.options.cursorStyle.strokeColor,width:this.options.cursorStyle.strokeWidth}),fill:new Hn.A({color:this.options.cursorStyle.fillColor})})}),type:"Point"}),n.interactionCurrent.on("drawend",(t=>{var e=null,i=function(i,r,o){if(n.getMap().removeOverlay(e),o){var s={};s[i]=r,t.feature.setProperties(s),t.feature.setStyle(new Ie.Ay({image:new Vn.A(n._getIconStyleOptions(n.options.defaultStyles.textIcon1x1)),text:new qn.A({textAlign:"left",font:"16px sans",text:r,fill:new Hn.A({color:n.options.defaultStyles.textFillColor}),stroke:new Yn.A({color:n.options.defaultStyles.textStrokeColor,width:3})})}))}else n.layer.getSource().removeFeature(t.feature)},r=this._createLabelDiv({applyFunc:i,inputId:n._addUID("label-input"),geomType:"Text",key:"name",placeholder:"Saisir un label..."});e=new d({element:r,positioning:"top-center"}),n.getMap().addOverlay(e),e.setPosition(t.feature.getGeometry().getCoordinates()),document.getElementById(this._addUID("label-input")).focus()})));break;case this._addUID("drawing-tool-edit"):n.dtOptions["edit"].active&&(this.featuresCollectionSelected=new me.A,n.interactionSelectEdit=new Me({condition:Ee.t5,layers:[this.layer],features:this.featuresCollectionSelected}),n.interactionSelectEdit.on("select",(t=>{})),n.interactionSelectEdit.setProperties({name:"Drawing",source:n}),i.addInteraction(n.interactionSelectEdit),n.interactionCurrent=new Xe({stopClick:!0,features:this.interactionSelectEdit.getFeatures(),style:new Ie.Ay({image:new Wn.A({radius:this.options.cursorStyle.radius,stroke:new Yn.A({color:this.options.cursorStyle.strokeColor,width:this.options.cursorStyle.strokeWidth}),fill:new Hn.A({color:this.options.cursorStyle.fillColor})})})}),n.interactionCurrent.on("modifyend",(t=>{var e=t.features.item(0);n._updateMeasure(e)})));break;case this._addUID("drawing-tool-display"):n.dtOptions["display"].active&&(n.interactionCurrent=this._createStylingInteraction());break;case this._addUID("drawing-tool-tooltip"):n.dtOptions["tooltip"].active&&(n.interactionCurrent=this._createLabelInteraction());break;case this._addUID("drawing-tool-remove"):n.dtOptions["remove"].active&&(n.interactionCurrent=n._createRemoveInteraction());break;default:Qv.trace("unhandled tool type")}n.interactionCurrent&&(n.interactionCurrent.setProperties({name:"Drawing",source:this}),i.addInteraction(n.interactionCurrent)),Qv.log("interactions",i.getInteractions())}else Qv.trace("Drawing control not attached to any map.")}onShowDrawingClick(){var t=this.getMap();Un.unset(t);var e=this._showDrawingButton.ariaPressed;for(var n in this.collapsed=!("true"===e),this.dispatchEvent("change:collapsed"),this.dtOptions)if(this.dtOptions.hasOwnProperty(n)&&this.dtOptions[n].active){var i=this._addUID("drawing-tool-"+this.dtOptions[n].id);document.getElementById(i).className="drawing-tool",this.dtOptions[n].active=!1}}onExportFeatureClick(){var t=this.exportFeatures();if(t){var e=document.createElement("a"),n="utf-8";if(e.setAttribute("href","data:"+this._exportMimeType+";charset="+n+","+encodeURIComponent(t)),e.setAttribute("download",this.getExportName()+this._exportExt),document.createEvent){var i=document.createEvent("MouseEvents");i.initEvent("click",!0,!0),e.dispatchEvent(i)}else e.click()}}};Object.assign($v.prototype,Jv);var t_=$v;window.ol&&window.ol.control&&(window.ol.control.Drawing=$v);var e_=Pn.getLogger("LocationSelectorDOM"),n_={_addUID:function(t){var e=this._uid?t+"-"+this._uid:t;return e},_createMainContainerElement:function(){var t=document.createElement("div");return t.className=this._addUID("GPlocationPoint"),t.className+=" GPwidget gpf-widget",t},_createLocationPointElement:function(t,e){var n=document.createElement("div");return n.id=this._addUID("GPlocationPoint_"+t),n.className=e?"GPflexInput GPlocationStageFlexInput gpf-flex":"GPflexInput GPelementHidden gpf-flex gpf-hidden",n.style.cssText="",n},_createLocationPointLabelElement:function(t,e){var n=this,i=document.createElement("button");return i.id=this._addUID("GPlocationOriginLabel_"+t),i.innerHTML=e,i.className="GPlocationOriginLabel gpf-btn gpf-btn-icon-label fr-btn",i.addEventListener("click",(function(t){for(var e=Yc.index(this.id),i=document.getElementsByClassName(n._addUID("GPlocationPoint")),r=0;r<i.length;r++){var o=i[r].childNodes[0].id,s=Yc.index(o);document.getElementById(n._addUID("GPlocationPoint_"+s)).style.cssText=""}document.getElementById(n._addUID("GPlocationOriginCoords_"+e)).value="",document.getElementById(n._addUID("GPlocationOrigin_"+e)).value="",document.getElementById(n._addUID("GPlocationPoint_"+e)).style.cssText="",document.getElementById(n._addUID("GPlocationOriginPointer_"+e)).checked=!1,document.getElementById(n._addUID("GPlocationOrigin_"+e)).className="GPelementShow gpf-show  gpf-input fr-input",document.getElementById(n._addUID("GPlocationOriginCoords_"+e)).className="GPelementHidden gpf-hidden",document.getElementById(n._addUID("GPlocationStageRemove_"+e))&&(document.getElementById(n._addUID("GPlocationStageRemove_"+e)).className="GPlocationStageRemove gpf-btn gpf-btn-icon-remove fr-btn--sm"),document.getElementById(n._addUID("GPlocationStageAdd"))&&(document.getElementById(n._addUID("GPlocationStageAdd")).className="GPlocationStageAdd gpf-btn gpf-btn-icon-add fr-btn--sm"),n.onLocationClearPointClick(t)})),i},_createLocationAutoCompleteteInputElement:function(t){var e=this,n=document.createElement("input");return n.id=this._addUID("GPlocationOrigin_"+t),n.className="GPelementShow gpf-show gpf-input fr-input",n.type="text",n.placeholder="Saisir une adresse",n.autocomplete="off",n.addEventListener("keyup",(function(t){var n=t.which||t.keyCode;if(13!==n&&10!==n&&38!==n&&40!==n){var i=Yc.index(this.id);document.getElementById(e._addUID("GPlocationOrigin_"+i)).value.length>2?(document.getElementById(e._addUID("GPlocationAutoCompleteList_"+i)).classList.replace("GPelementHidden","GPelementVisible"),document.getElementById(e._addUID("GPlocationAutoCompleteList_"+i)).classList.replace("gpf-hidden","gpf-visible")):(document.getElementById(e._addUID("GPlocationAutoCompleteList_"+i)).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPlocationAutoCompleteList_"+i)).classList.replace("gpf-visible","gpf-hidden")),e.onAutoCompleteSearchText(t)}})),n.addEventListener("keydown",(function(n){var i=n.which||n.keyCode,r=document.getElementById(e._addUID("GPlocationAutoCompleteResult_"+t));if(r){var o=r.getElementsByClassName("GPautoCompleteProposal current"),s=r.getElementsByClassName("GPautoCompleteProposal"),a=s.length;if(a){var l=null;if(!o.length)return l=s[0],l.className="GPautoCompleteProposal current",l.style.color="#000000",void(l.style["background-color"]="#CEDBEF");l=o[0];var c=parseInt(Yc.index(l.id),10),u=c===a-1?s[0]:s[c+1],h=0===c?s[a-1]:s[c-1];switch(l.style["background-color"]="",l.style.color="",h.style["background-color"]="",h.style.color="",u.style["background-color"]="",u.style.color="",i){case 38:e_.log("arrow up"),l.className="GPautoCompleteProposal",h.className="GPautoCompleteProposal current",h.style.color="#000000",h.style["background-color"]="#CEDBEF";break;case 40:e_.log("arrow down"),l.className="GPautoCompleteProposal",u.className="GPautoCompleteProposal current",u.style.color="#000000",u.style["background-color"]="#CEDBEF";break;case 13:e_.log("enter"),l.click(n);break}l.focus()}}})),n},_createLocationCoordinateInputElement:function(t){var e=this,n=document.createElement("input");return n.id=this._addUID("GPlocationOriginCoords_"+t),n.className="GPelementHidden gpf-input gpf-hidden fr-input",n.type="text",n.disabled=!1,n.addEventListener("click",(function(){var t=Yc.index(this.id);document.getElementById(e._addUID("GPlocationOriginLabel_"+t)).click()})),n},_createLocationPointerShowInputElement:function(t){var e=document.createElement("input");return e.id=this._addUID("GPlocationOriginPointer_"+t),e.className="GPelementHidden gpf-hidden",e.type="checkbox",e},_createLocationPointerInputElement:function(t){var e=this,n=document.createElement("button");return n.id=this._addUID("GPlocationOriginPointerImg_"+t),n.htmlFor=this._addUID("GPlocationOriginPointer_"+t),n.className="GPlocationOriginPointerImg gpf-btn gpf-btn-icon-pointer fr-btn",n.title="Pointer un lieu sur la carte",n.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation();var n,i,r,o=Yc.index(this.id),s=document.getElementsByClassName(e._addUID("GPlocationPoint"));for(n=0;n<s.length;n++)i=s[n].childNodes[0].id,r=Yc.index(i),o!==r&&(document.getElementById(e._addUID("GPlocationOriginPointer_"+r)).checked=!1,"Pointer un lieu sur la carte"===document.getElementById(e._addUID("GPlocationOriginCoords_"+r)).value&&(document.getElementById(e._addUID("GPlocationOriginCoords_"+r)).value="",document.getElementById(e._addUID("GPlocationOrigin_"+r)).className="GPelementShow gpf-show  gpf-input fr-input",document.getElementById(e._addUID("GPlocationOriginCoords_"+r)).className="GPelementHidden gpf-hidden"));if(document.getElementById(e._addUID("GPlocationOriginPointer_"+o)).checked){for(document.getElementById(e._addUID("GPlocationOriginCoords_"+o)).value="",n=0;n<s.length;n++)i=s[n].childNodes[0].id,r=Yc.index(i),document.getElementById(e._addUID("GPlocationPoint_"+r)).style.cssText="";document.getElementById(e._addUID("GPlocationStageRemove_"+o))&&(document.getElementById(e._addUID("GPlocationStageRemove_"+o)).className="GPlocationStageRemove  gpf-btn gpf-btn-icon-remove fr-btn--sm"),document.getElementById(e._addUID("GPlocationStageAdd"))&&(document.getElementById(e._addUID("GPlocationStageAdd")).className="GPlocationStageAdd gpf-btn gpf-btn-icon-add fr-btn--sm"),document.getElementById(e._addUID("GPlocationOriginPointer_"+o)).checked=!1,document.getElementById(e._addUID("GPlocationOrigin_"+o)).className="GPelementShow gpf-show  gpf-input fr-input",document.getElementById(e._addUID("GPlocationOriginCoords_"+o)).className="GPelementHidden gpf-hidden"}else{for(document.getElementById(e._addUID("GPlocationOriginCoords_"+o)).value="Pointer un lieu sur la carte",n=0;n<s.length;n++)i=s[n].childNodes[0].id,r=Yc.index(i),o===r?document.getElementById(e._addUID("GPlocationPoint_"+r)).style.cssText="":document.getElementById(e._addUID("GPlocationPoint_"+r)).style.display="none";document.getElementById(e._addUID("GPlocationStageRemove_"+o))&&(document.getElementById(e._addUID("GPlocationStageRemove_"+o)).className="GPelementHidden gpf-hidden"),document.getElementById(e._addUID("GPlocationStageAdd"))&&(document.getElementById(e._addUID("GPlocationStageAdd")).className="GPelementHidden gpf-hidden"),document.getElementById(e._addUID("GPlocationOriginPointer_"+o)).checked=!0,document.getElementById(e._addUID("GPlocationOrigin_"+o)).className="GPelementHidden gpf-hidden",document.getElementById(e._addUID("GPlocationOriginCoords_"+o)).className="GPelementShow gpf-show gpf-input fr-input",document.getElementById(e._addUID("GPlocationOriginCoords_"+o)).disabled=!0}e.onActivateMapPointClick(t)})),n},_createLocationRemovePointElement:function(t){var e=this,n=document.createElement("button");return n.id=this._addUID("GPlocationStageRemove_"+t),n.className="GPlocationOpen GPlocationStageRemove gpf-btn gpf-btn-icon-remove fr-btn--sm",n.title="Supprimer l'étape",n.setAttribute("tabindex","0"),n.setAttribute("aria-pressed",!1),n.addEventListener("click",(function(n){var i="true"===n.target.ariaPressed;n.target.setAttribute("aria-pressed",!i);var r=document.getElementsByClassName(e._addUID("GPlocationPoint")),o=r.length-1,s=r[0].childNodes[0].id,a=r[o].childNodes[0].id,l=Yc.index(s),c=Yc.index(a);if(t!==l&&t!==c){var u=Yc.index(this.id);document.getElementById(e._addUID("GPlocationPoint_"+u)).className="GPflexInput GPelementHidden gpf-flex gpf-hidden",document.getElementById(e._addUID("GPlocationOrigin_"+u)).value="",document.getElementById(e._addUID("GPlocationOrigin_"+u)).className="GPelementShow gpf-show gpf-input fr-input",document.getElementById(e._addUID("GPlocationOriginCoords_"+u)).value="",document.getElementById(e._addUID("GPlocationOriginCoords_"+u)).className="GPelementHidden gpf-hidden",document.getElementById(e._addUID("GPlocationStageAdd")).style.display="",e.onLocationRemovePointClick(n)}})),n},_createLocationAddPointElement:function(){var t=this,e=document.createElement("button");return e.id=this._addUID("GPlocationStageAdd"),e.className="GPlocationOpen GPlocationStageAdd gpf-btn gpf-btn-icon-add fr-btn--sm",e.title="Ajouter une étape",e.setAttribute("tabindex","0"),e.setAttribute("aria-pressed",!1),e.addEventListener("click",(function(e){for(var n=1,i=0,r=document.getElementsByClassName(t._addUID("GPlocationPoint")),o=1;o<r.length-1;o++){var s=r[o].childNodes[0].id,a=Yc.index(s);document.getElementById(t._addUID("GPlocationPoint_"+a))&&("GPflexInput GPelementHidden gpf-flex gpf-hidden"===document.getElementById(t._addUID("GPlocationPoint_"+a)).className?1===n&&(n=a):i++)}n<r.length&&(document.getElementById(t._addUID("GPlocationPoint_"+n)).className="GPflexInput GPlocationStageFlexInput gpf-flex"),4===i&&(document.getElementById(t._addUID("GPlocationStageAdd")).style.display="none");var l="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!l),t.onLocationAddPointClick(e)})),e},_createLocationAutoCompleteElement:function(t){var e=document.createElement("div");return e.id=this._addUID("GPlocationAutoCompleteList_"+t),e.className="GPlocationAutoCompleteList GPelementHidden gpf-panel gpf-hidden fr-modal",e},_createLocationAutoCompleteResultElement:function(t){var e=this,n=document.createElement("div");return n.id=this._addUID("GPlocationAutoCompleteResult_"+t),n.className="GPadvancedAutoCompleteResult gpf-panel__list",n.addEventListener?n.addEventListener("click",(function(n){e.onAutoCompletedResultsItemClick(n),document.getElementById(e._addUID("GPlocationAutoCompleteList_"+t)).classList.replace("GPelementHidden","GPelementVisible"),document.getElementById(e._addUID("GPlocationAutoCompleteList_"+t)).classList.replace("gpf-hidden","gpf-visible")}),!1):n.attachEvent&&n.attachEvent("onclick",(function(n){e.onAutoCompletedResultsItemClick(n),document.getElementById(e._addUID("GPlocationAutoCompleteList_"+t)).classList.replace("GPelementHidden","GPelementVisible"),document.getElementById(e._addUID("GPlocationAutoCompleteList_"+t)).classList.replace("gpf-hidden","gpf-visible")})),n},_createLocationAutoCompletedLocationElement:function(t,e,n){var i=document.getElementById(this._addUID("GPlocationAutoCompleteResult_"+t)),r=document.createElement("div");r.id=this._addUID("AutoCompletedLocation_"+n),r.className="GPautoCompleteProposal gpf-panel__items",r.innerHTML=xd.getSuggestedLocationFreeform(e),i.appendChild(r)},GPdisplayCoordinate:function(t){for(var e=document.getElementsByClassName(this._addUID("GPlocationPoint")),n=0;n<e.length;n++){var i=e[n].childNodes[0].id,r=Yc.index(i);if(document.getElementById(this._addUID("GPlocationOriginPointer_"+r)).checked){document.getElementById(this._addUID("GPlocationOriginCoords_"+r)).value=t,document.getElementById(this._addUID("GPlocationOriginCoords_"+r)).disabled=!1;for(var o=0;o<e.length;o++){i=e[o].childNodes[0].id;var s=Yc.index(i);document.getElementById(this._addUID("GPlocationPoint_"+s)).style.cssText="",document.getElementById(this._addUID("GPlocationStageRemove_"+s))&&(document.getElementById(this._addUID("GPlocationStageRemove_"+s)).className="GPlocationStageRemove gpf-btn gpf-btn-icon-remove fr-btn--sm")}return document.getElementById(this._addUID("GPlocationOriginPointer_"+r)).checked=!1,void(document.getElementById(this._addUID("GPlocationStageAdd"))&&(document.getElementById(this._addUID("GPlocationStageAdd")).className="GPlocationStageAdd gpf-btn gpf-btn-icon-add fr-btn--sm"))}}}},i_=n_,r_=Pn.getLogger("locationselector"),o_=class t extends kn.A{constructor(e){if(e=e||{},super({element:e.element||document.createElement("div"),render:e.render,target:e.target}),!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return this.initialize(e),this._container=this._initContainer(),this.element?this.element.appendChild(this._container):this.element=this._container,this}initialize(t){this.options={tag:{id:1,groupId:null,label:">",display:!0,addOption:!1,removeOption:!1},displayInfo:!0,autocompleteOptions:{}},Dn.mergeParams(this.options,t),this._uid=this.options.tag.groupId||Yc.generate(),this._map=null,this._inputsContainer=null,this._buttonLabel=null,this._inputAutoComplete=null,this._inputShowPointerContainer=null,this._inputShowPointer=null,this._inputCoordinateContainer=null,this._addPointElement=null,this._removePointElement=null,this._coordinate=null,this._suggestedContainer=null,this._suggestedList=null,this._suggestedLocations=[],this._currentLocation=null,this._initMarker(),this._resources={},this.listenerKey=null}_initMarker(){if(this._marker=null,this._markerUrl="",this._markerOffset=[0,0],this.options.tag.markerOpts&&this.options.tag.markerOpts.url){this._markerUrl=this.options.tag.markerOpts.url;var t=this.options.tag.markerOpts.offset;t&&(Array.isArray(t)&&2===t.length?this._markerOffset=t:r_.log("markerOpts.offset should be an array. e.g. : [0,0]"))}else this._markerUrl=jn["lightOrange"],this._markerOffset=jn.defaultOffset}getCoordinate(){return this._coordinate}setCoordinate(t,e){var n=this.getMap(),i=n.getView().getProjection().getCode();e||(e=i),this._setCoordinate(t,e),t=(0,Z.pd)(t,e,i),this._setMarker([t[0],t[1]],null,!1)}clear(){this.clearResults(),this._buttonLabel.click()}clearResults(){this._currentLocation=null,this._coordinate=null,this._hideSuggestedLocation(),this._clearSuggestedLocation(),this._setMarker(),(0,ur.e)(this.listenerKey)}_initContainer(){var t=this.options.tag.id,e=this._createMainContainerElement(),n=this._inputsContainer=this._createLocationPointElement(t,this.options.tag.display);e.appendChild(n);var i=this._buttonLabel=this._createLocationPointLabelElement(t,this.options.tag.label);n.appendChild(i);var r=this._inputAutoComplete=this._createLocationAutoCompleteteInputElement(t);r.addEventListener?r.addEventListener("click",(()=>this.onAutoCompleteInputClick())):r.attachEvent&&r.attachEvent("onclick",(()=>this.onAutoCompleteInputClick())),n.appendChild(r);var o=this._inputCoordinateContainer=this._createLocationCoordinateInputElement(t);n.appendChild(o);var s=this._inputShowPointerContainer=this._createLocationPointerShowInputElement(t);n.appendChild(s);var a=this._inputShowPointer=this._createLocationPointerInputElement(t);if(n.appendChild(a),this.options.tag.addOption){var l=this._addPointElement=this._createLocationAddPointElement();n.appendChild(l)}if(this.options.tag.removeOption){var c=this._removePointElement=this._createLocationRemovePointElement(t);n.appendChild(c)}var u=this._suggestedContainer=this._createLocationAutoCompleteElement(t),h=this._suggestedList=this._createLocationAutoCompleteResultElement(t);return u.appendChild(h),e.appendChild(u),e}onAutoCompleteInputClick(){this._inputAutoComplete&&this._inputAutoComplete.value.length>2&&this._displaySuggestedLocation()}onAutoCompleteSearchText(t){var e=t.target.value;if(e){var n=this.options.autocompleteOptions||{},i=n.onSuccess||null,r=n.onFailure||null;if(this._currentLocation=e,e.length<3)this._clearSuggestedLocation();else{var o=this;this._requestAutoComplete({text:e,maximumResponses:5,onSuccess:function(t){if(t){var e=t.suggestedLocations;o._fillAutoCompletedLocationListContainer(e),i&&i.call(this,t)}},onFailure:function(t){o._clearSuggestedLocation(),r_.log(t.message),r&&r.call(this,t)}});var s=this.getMap();s.on("click",(()=>this._hideSuggestedLocation())),s.on("pointerdrag",(()=>this._hideSuggestedLocation()))}}}onAutoCompletedResultsItemClick(t){var e=Yc.index(t.target.id);if(e){var n=[this._suggestedLocations[e].position.x,this._suggestedLocations[e].position.y];this._coordinate=n;var i={type:this._suggestedLocations[e].type,fields:this._suggestedLocations[e]},r=xd.getSuggestedLocationFreeform(this._suggestedLocations[e]);this._setLabel(r);var o=this.getMap().getView(),s=o.getProjection().getCode();"EPSG:4326"!==s&&(n=(0,Z.pd)(n,"EPSG:4326",s)),this._setPosition(n),this._setMarker(n,i,this.options.displayInfo)}}onActivateMapPointClick(){var t=this.getMap();this._inputShowPointerContainer.checked?(this.clearResults(),this.listenerKey=t.on("click",(t=>this.onMouseMapClick(t))),this._setCursor("crosshair")):((0,ur.e)(this.listenerKey),this._setCursor())}onLocationClearPointClick(){this._setCursor(),this.clearResults()}onLocationRemovePointClick(){this._setCursor(),this.clearResults()}onLocationAddPointClick(t){r_.log("onRouteAddPointClick",t)}onMouseMapClick(t){var e=t.coordinate;if(t.map&&t.map.getView()){var n=t.map.getView().getProjection();this._setCoordinate(e,n),this._setMarker([e[0],e[1]],null,!1),this.onActivateMapPointClick(t)}}_setLabel(t){this._inputAutoComplete.value=t}_setCursor(t){var e=this.getMap(),n=e.getTargetElement();n.style.cursor=t||null}_setCoordinate(t,e){this._coordinate=(0,Z.pd)(t,e,"EPSG:4326");var n=this._coordinate[0].toFixed(4),i=this._coordinate[1].toFixed(4),r=i+" / "+n;this.GPdisplayCoordinate(r)}_setPosition(t){var e=this.getMap().getView();e.setCenter(t)}_setMarker(t,e,n){var i=this.getMap();if(null!=this._marker&&(i.removeOverlay(this._marker),this._marker=null),t){var r=document.createElement("img");r.src=this._markerUrl,this._marker=new d({position:t,offset:this._markerOffset,element:r,stopEvent:!1}),i.addOverlay(this._marker),n&&r_.log("marker information : ",e)}}_clearSuggestedLocation(){if(this._suggestedLocations=[],this._suggestedList)while(this._suggestedList.firstChild)this._suggestedList.removeChild(this._suggestedList.firstChild)}_hideSuggestedLocation(){this._suggestedContainer&&(this._suggestedContainer.classList.replace("GPelementVisible","GPelementHidden"),this._suggestedContainer.classList.replace("gpf-visible","gpf-hidden"))}_displaySuggestedLocation(){this._suggestedContainer&&(this._suggestedContainer.classList.replace("GPelementHidden","GPelementVisible"),this._suggestedContainer.classList.replace("gpf-hidden","gpf-visible"))}_requestAutoComplete(t){if(r_.log("_requestAutoComplete()",t),t&&0!==Object.keys(t).length&&t.text){r_.log(t);var e={};Dn.assign(e,this.options.autocompleteOptions),Dn.assign(e,t);var n=this._resources["AutoCompletion"]||null;n&&Array.isArray(n)&&(e.filterOptions||(e.filterOptions={}),e.filterOptions.type=n),e.apiKey=e.apiKey||this.options.apiKey,"boolean"!==typeof e.ssl&&("boolean"===typeof this.options.ssl?e.ssl=this.options.ssl:e.ssl=!0),r_.log(e),bn.Ay.Services.autoComplete(e)}}_fillAutoCompletedLocationListContainer(t){if(t&&0!==t.length){var e=this._suggestedList;if(e.childElementCount)while(e.firstChild)e.removeChild(e.firstChild);for(var n=0;n<t.length;n++)this._createLocationAutoCompletedLocationElement(this.options.tag.id,t[n],n);this._suggestedLocations=t}}};Object.assign(o_.prototype,i_);var s_=o_;window.ol&&window.ol.control&&(window.ol.control.LocationSelector=o_);var a_={_addUID:function(t){var e=this.uid?t+"-"+this.uid:t;return e}},l_=a_,c_=Pn.getLogger("export");class u_ extends kn.A{constructor(t){if(t=t||{control:null,target:null,format:"geojson",name:"export",title:"Exporter",menu:!1,onExport:null},c_.trace("[constructor] Export",t),super({element:document.createElement("div"),render:t.render,target:t.target}),!(this instanceof u_))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this.EXPORT_ROUTE={},this.EXPORT_ISOCHRON={},this.EXPORT_PROFILE={},this.uid=t.id||Yc.generate(),this.extension=null,this.mimeType=null,this.container=null,this.button=null,this.menu=null,this.icon="☰ ",this.menuClassHidden="GPexportMenuHidden",this.initOptions(t),this.initContainer()}render(){if(!this.options.target&&this.options.control){var t=this.options.control.getContainer();this.options.target=t.lastChild}this.container&&this.options.target.appendChild(this.container)}initOptions(t){this.options=t,this.options.control,this.options.target;var e=this.options.format;e?this.setFormat(e):this.setFormat(""),this.options.name||this.setName("export"),this.options.title||this.setTitle("Exporter"),void 0===this.options.menu&&this.setMenu(!1)}initContainer(){var t=this.options.title;this.options.menu&&(t=this.icon+this.options.title);var e=document.createElement("div");e.id=this._addUID("GPexportContainer"),e.className="GPexportMenuContainer";var n=this.stringToHTML(`\n            <input type="button"\n                id="${this._addUID("GPexportButton")}" \n                class="GPsubmit"\n                value="${t}">\n        `);this.button=n.firstChild,this.button&&this.button.addEventListener("click",(t=>this.onClickButtonExport(t))),e.appendChild(n.firstChild);var i=this.stringToHTML(`\n            <div class="GPexportMenuContent ${this.menuClassHidden}">\n                <label class="container">GeoJSON\n                    <input type="radio" \n                        id="GPmenuFormatGeojson-${this.uid}"\n                        name="format" \n                        value="geojson">\n                    <span class="checkmark"></span>\n                </label>\n                <label class="container">KML\n                    <input type="radio" \n                        id="GPmenuFormatKml-${this.uid}"\n                        name="format" \n                        value="kml">\n                    <span class="checkmark"></span>\n                </label>\n                <label class="container">GPX\n                    <input type="radio" \n                        id="GPmenuFormatGpx-${this.uid}"\n                        name="format" \n                        value="gpx">\n                    <span class="checkmark"></span>\n                </label>\n            </div>\n        `);if(this.menu=i.firstChild,this.menu){if(this.options.menu){var r=this.menu.className;this.menu.className=r.replace(this.menuClassHidden,"")}var o=this.menu.querySelectorAll('input[type=radio][name="format"]');o.forEach((t=>{t.id.toUpperCase().includes(this.options.format.toUpperCase())&&(t.checked=!0),t.addEventListener("change",(t=>{this.setFormat(t.target.value)}))}))}e.appendChild(i.firstChild),this.container=e}stringToHTML(t){var e=function(){if(!window.DOMParser)return!1;var t=new DOMParser;try{t.parseFromString("x","text/html")}catch(e){return!1}return!0};if(e()){var n=new DOMParser,i=n.parseFromString(t,"text/html");return i.body}var r=document.createElement("div");return r.innerHTML=t,r}isPluggableControl(){return!(!this.options.control||"function"!==typeof this.options.control.getContainer||"function"!==typeof this.options.control.getLayer)}exportFeatures(t,e,n){var i=null;if(!t)return c_.warn("Impossible to export : no layer is hosting features."),i;if(!t.getSource()||!t.getSource().getFeatures()||!t.getSource().getFeatures().length)return c_.warn("Impossible to export : no features found."),i;t.getSource().getFeatures().forEach((t=>{var e=t.getStyle();e||"function"!==typeof this.options.control.getStyle||t.setStyle(this.options.control.getStyle())}));var r={defaultStyle:n};e&&(r.extensions={"geoportail:compute":e});var o=null;switch(this.options.format.toUpperCase()){case"KML":r.writeStyles=!0,r.showPointNames=!0,o=new ri(r);break;case"GPX":o=new ai(r);break;case"GEOJSON":o=new ui(r);break;default:break}if(!o)return c_.warn("Impossible to export : format unknown !?"),i;var s=t.getSource().getProjection(),a=this.getMap();a&&(s=s||a.getView().getProjection());var l=t.getSource().getFeatures();return i=o.writeFeatures(l,{dataProjection:"EPSG:4326",featureProjection:s||"EPSG:3857"}),i}onClickButtonExport(t){if(this.isPluggableControl()){var e=this.options.control.getLayer(),n=void 0!==this.options.control.getData?this.options.control.getData():{},i=void 0!==this.options.control.getStyle?this.options.control.getStyle():{},r=this.exportFeatures(e,n,i);if(r&&"null"!==r)if(this.dispatchEvent({type:"export:compute",content:r}),this.options.onExport&&"function"===typeof this.options.onExport)this.options.onExport(r);else{var o=document.createElement("a"),s="utf-8";if(o.setAttribute("href","data:"+this.mimeType+";charset="+s+","+encodeURIComponent(r)),o.setAttribute("download",this.options.name+this.extension),document.createEvent){var a=document.createEvent("MouseEvents");a.initEvent("click",!0,!0),o.dispatchEvent(a)}else o.click()}}else c_.warn("Componant not pluggable with the control !")}setControl(t){this.options.control=t}setTarget(t){this.options.target=t}setFormat(t){switch(this.options.format=t.toUpperCase(),this.options.format){case"KML":this.extension=".kml",this.mimeType="application/vnd.google-earth.kml+xml";break;case"GPX":this.extension=".gpx",this.mimeType="application/gpx+xml";break;case"GEOJSON":this.extension=".geojson",this.mimeType="application/geo+json";break;default:this.options.format="GEOJSON",this.extension=".geojson",this.mimeType="application/geo+json";break}}setName(t){this.options.name=t}setTitle(t){this.options.title=t,this.button&&(this.button.value=this.options.menu?this.icon+t:t)}setMenu(t){if(this.options.menu=t,this.button&&(this.button.value=this.options.menu?this.icon+this.options.title:this.options.title),this.menu&&this.options.menu){var e=this.menu.className;this.menu.className=e.replace(this.menuClassHidden,"");var n=this.menu.querySelectorAll('input[type=radio][name="format"]');n.forEach((t=>{t.id.toUpperCase().includes(this.options.format.toUpperCase())&&(t.checked=!0)}))}}}Object.assign(u_.prototype,l_);var h_=u_;window.ol&&window.ol.control&&(window.ol.control.Export=u_);var d_=Pn.getLogger("RouteDOM"),p_={_addUID:function(t){var e=this._uid?t+"-"+this._uid:t;return e},_createMainContainerElement:function(){var t=document.createElement("div");return t.id=this._addUID("GProute"),t.className="GPwidget gpf-widget",t},_createShowRoutePictoElement:function(){var t=this,e=document.createElement("button");return e.id=this._addUID("GPshowRoutePicto"),e.className="GPshowOpen GPshowAdvancedToolPicto GPshowRoutePicto gpf-btn gpf-btn-icon-route fr-btn",e.title="Ouvrir le calcul d'itinéraire",e.setAttribute("tabindex","0"),e.setAttribute("aria-pressed",!1),e.addEventListener?e.addEventListener("click",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t.onShowRoutePanelClick(e)})):e.attachEvent&&e.attachEvent("onclick",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t.onShowRoutePanelClick(e)})),e},_createRoutePanelElement:function(){var t=document.createElement("dialog");return t.id=this._addUID("GProutePanel"),t.className="GPpanel gpf-panel fr-modal",t},_createRoutePanelDivElement:function(){var t=document.createElement("div");return t.className="gpf-panel__body fr-modal__body",t},_createRoutePanelHeaderElement:function(){var t=this,e=document.createElement("div");e.className="GPpanelHeader gpf-panel__header fr-modal__header";var n=document.createElement("div");n.className="GPpanelTitle gpf-panel__title fr-modal__title",n.innerHTML="Calcul d'itinéraire",e.appendChild(n);var i=document.createElement("button");i.id=this._addUID("GProutePanelClose"),i.className="GPpanelClose GProutePanelClose gpf-btn gpf-btn-icon-close fr-btn--close fr-btn",i.title="Masquer le panneau",i.addEventListener?i.addEventListener("click",(function(){document.getElementById(t._addUID("GPshowRoutePicto")).click()}),!1):i.attachEvent&&i.attachEvent("onclick",(function(){document.getElementById(t._addUID("GPshowRoutePicto")).click()}));var r=document.createElement("span");return r.className="GPelementHidden gpf-visible",r.innerText="Fermer",i.appendChild(r),e.appendChild(i),e},_createRoutePanelFooterElement:function(){var t=document.createElement("div");return t.className="GPpanelFooter gpf-panel__footer fr-modal__footer",t},_createRoutePanelFormElement:function(){var t=this,e=document.createElement("form");return e.id=this._addUID("GProuteForm"),e.className="gpf-panel__content fr-modal__content",e.setAttribute("onkeypress","return event.keyCode != 13;"),e.addEventListener("submit",(function(e){d_.log(e),e.preventDefault();var n=document.getElementsByClassName(t._addUID("GPlocationPoint")),i=n[0].childNodes[0].id,r=n[n.length-1].childNodes[0].id,o=Yc.index(i),s=Yc.index(r);if(""===document.getElementById(t._addUID("GPlocationOrigin_"+o)).value&&""===document.getElementById(t._addUID("GPlocationOriginCoords_"+o)).value||""===document.getElementById(t._addUID("GPlocationOrigin_"+s)).value&&""===document.getElementById(t._addUID("GPlocationOriginCoords_"+s)).value)return!1;t._addRouteResultsStagesValuesElement(n);var a=null;if(document.getElementById(t._addUID("GProuteComputationSelect"))){var l=document.getElementById(t._addUID("GProuteResultsComputationSelect"));l.selectedIndex=document.getElementById(t._addUID("GProuteComputationSelect")).selectedIndex,a=l.options[l.selectedIndex].value}var c=null;document.getElementById(t._addUID("GProuteTransportCar"))&&document.getElementById(t._addUID("GProuteTransportCar")).checked&&(c=document.getElementById(t._addUID("GProuteTransportCar")).value),document.getElementById(t._addUID("GProuteTransportPedestrian"))&&document.getElementById(t._addUID("GProuteTransportPedestrian")).checked&&(c=document.getElementById(t._addUID("GProuteTransportPedestrian")).value);for(var u=[],h=document.getElementsByClassName("GProuteExclusionsOption"),d=0;d<h.length;d++){var p=h[d].htmlFor,g=document.getElementById(p);g.checked||u.push(g.value)}return t.onRouteComputationSubmit({computation:a,transport:c,exclusions:u}),!1})),e},_createRoutePanelResultsElement:function(){var t=document.createElement("div");t.id=this._addUID("GProuteResultsPanel"),t.className="GPelementHidden gpf-hidden",t.appendChild(this._createRouteResultsStagesElement()),t.appendChild(this._createRouteResultsElement());var e=document.createElement("div");e.className="GPfakeBorder GPfakeBorderLeft",t.appendChild(e),t.appendChild(this._createRouteShowResultsDetailsElement());var n=document.createElement("label");n.htmlFor=this._addUID("GProuteResultsShowDetails"),n.innerHTML="Afficher le détail",t.appendChild(n);var i=document.createElement("label");i.htmlFor=this._addUID("GProuteResultsShowDetails"),i.innerHTML="Masquer le détail",t.appendChild(i);var r=document.createElement("div");return r.className="GPfakeBorder",t.appendChild(r),t.appendChild(this._createRouteResultsDetailsElement()),t},_createRouteWaitingElement:function(){var t=document.createElement("div");t.id=this._addUID("GProuteCalcWaitingContainer"),t.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden";var e=document.createElement("p");return e.className="GPwaitingContainerInfo gpf-waiting_info",e.innerHTML="Recherche en cours...",t.appendChild(e),t},_createRouteResultsStagesElement:function(){var t=document.createElement("div");return t.id=this._addUID("GProuteResultsStages"),t},_addRouteResultsStagesValuesElement:function(t){document.getElementById(this._addUID("GProuteResultsStages")).innerHTML="";for(var e=0;e<t.length;e++){var n=t[e].childNodes[0].id,i=Yc.index(n);if("GPflexInput GPlocationStageFlexInput gpf-flex"===document.getElementById(this._addUID("GPlocationPoint_"+i)).className){var r=document.createElement("div");r.className="GProuteResultsStages";var o=document.createElement("div");o.className="GProuteResultStageLabel",o.innerHTML=document.getElementById(this._addUID("GPlocationOriginLabel_"+i)).innerHTML+" :",r.appendChild(o);var s=document.createElement("div");s.className="GProuteResultStageValue";var a=document.getElementById(this._addUID("GPlocationOriginCoords_"+i)),l=a.value,c="GPelementVisible gpf-visible"===a.className;s.innerHTML=null!==l&&""!==l&&c?l:document.getElementById(this._addUID("GPlocationOrigin_"+i)).value,r.appendChild(s),""!==s.innerHTML&&document.getElementById(this._addUID("GProuteResultsStages")).appendChild(r)}}},_createRouteResultsElement:function(){var t=this,e=document.createElement("div");e.id=this._addUID("GProuteResults");var n=document.createElement("div");n.id=this._addUID("GProuteResultsValues"),e.appendChild(n);var i=document.createElement("div");i.id=this._addUID("GProuteResultsMode");var r=document.createElement("select");r.id=this._addUID("GProuteResultsComputationSelect"),r.className="GPselect",r.addEventListener("change",(function(e){t.onRouteModeComputationChangeAndRun(e)}));for(var o=[{code:"fastest",label:"Plus rapide"},{code:"shortest",label:"Plus court"}],s=0;s<o.length;s++){var a=document.createElement("option");a.value=o[s].code,a.text=o[s].label,r.appendChild(a)}i.appendChild(r),e.appendChild(i);var l=document.createElement("div");return l.id=this._addUID("GProuteResultsNew"),l.title="Modifier le calcul",l.addEventListener("click",(function(e){document.getElementById(t._addUID("GProuteResultsPanel")).className="GPelementHidden gpf-hidden",document.getElementById(t._addUID("GProuteForm")).className="gpf-panel__content fr-modal__content",t.onShowRouteResultsNewClick(e)})),e.appendChild(l),e},_addRouteResultsValuesElement:function(t,e,n){var i=document.getElementById(this._addUID("GProuteResultsValues"));if(i.childElementCount)while(i.firstChild)i.removeChild(i.firstChild);var r=document.createElement("div");r.className="GProuteResultsValue";var o=document.createElement("label");o.className="GProuteResultsValueLabel",o.innerHTML="Distance :",r.appendChild(o);var s=0,a=parseInt(t/1e3,10);if(a){var l=Math.round(t);l/=1e3,s=l+" km"}else s=Math.round(t)+" m";var c=document.createElement("div");c.id=this._addUID("GProuteResultsValueDist"),c.innerHTML=s,r.appendChild(c),i.appendChild(r);var u=document.createElement("div");u.className="GProuteResultsValue";var h=document.createElement("label");h.className="GProuteResultsValueLabel",h.innerHTML="Durée :",u.appendChild(h);var d=document.createElement("div");return d.id=this._addUID("GProuteResultsValueDist"),d.innerHTML=n(e),u.appendChild(d),i.appendChild(u),i},_createRouteShowResultsDetailsElement:function(){var t=document.createElement("input");return t.id=this._addUID("GProuteResultsShowDetails"),t.type="checkbox",t},_createRouteResultsDetailsElement:function(){var t=document.createElement("div");return t.id=this._addUID("GProuteResultsDetails"),t},_addRouteResultsDetailsElement:function(t,e){var n=this,i=document.getElementById(this._addUID("GProuteResultsDetails"));if(i.childElementCount)while(i.firstChild)i.removeChild(i.firstChild);for(var r=0,o=0,s=0;s<t.length;s++){var a=s+1,l=t[s],c=document.createElement("div");c.className="GProuteResultsDetailsNumber",c.innerHTML=a+".",i.appendChild(c),o+=parseFloat(l.duration),r+=parseFloat(l.distance);var u=0,h=parseInt(r/1e3,10);if(h){var d=Math.round(r);d/=1e3,u=d+" km"}else u=Math.round(r)+" m";var p=document.createElement("div");p.className="GProuteResultsDetailsInstruction",p.id=this._addUID("GProuteResultsDetailsInstruction_"+a),p.title="distance : "+u+" / temps : "+e(o),p.innerHTML=l.instruction,p.addEventListener("mouseover",(function(t){n.onRouteResultsDetailsMouseOver(t)})),p.addEventListener("mouseout",(function(t){n.onRouteResultsDetailsMouseOut(t)})),p.addEventListener("click",(function(t){"function"===typeof n.onRouteResultsDetailsClick&&n.onRouteResultsDetailsClick(t)})),i.appendChild(p)}return i},_createRoutePanelFormPointElement:function(t,e,n){var i=this,r=document.createElement("div");r.id="GProutePoint"+t,r.className=n?"GPflexInput GProuteStageFlexInput":"GPflexInput GProuteStageFlexInputHidden";var o=document.createElement("label");o.id="GProuteOriginLabel"+t,o.htmlFor="GProuteOrigin"+t,o.innerHTML=e,o.addEventListener("click",(function(){var t=this.id.charAt(this.id.length-1);document.getElementById("GProuteOriginCoords"+t).value="";for(var e=1;e<8;e++)document.getElementById("GProutePoint"+e).style.display="flex";document.getElementById("GProuteForm").className="gpf-panel__content fr-modal__content",document.getElementById("GProuteOriginPointer"+t).checked=!1,document.getElementById("GProuteOrigin"+t).className="GPelementVisible gpf-visible",document.getElementById("GProuteOriginCoords"+t).className="GPelementHidden gpf-hidden"})),r.appendChild(o);var s=document.createElement("input");s.id="GProuteOrigin"+t,s.className="GPelementVisible gpf-visible",s.type="text",s.placeholder="Saisir une adresse",s.addEventListener("keyup",(function(t){var e=t.which||t.keyCode;if(13!==e&&10!==e){var n=this.id.charAt(this.id.length-1);document.getElementById("GProuteOrigin"+n).value.length>2?document.getElementById("GProuteAutoCompleteList"+n).style.display="block":document.getElementById("GProuteAutoCompleteList"+n).style.display="none",i.onAutoCompleteSearchText(t)}})),s.addEventListener("blur",(function(){var t=this.id.charAt(this.id.length-1);document.getElementById("GProuteAutoCompleteList"+t).style.display="none"})),r.appendChild(s);var a=document.createElement("input");a.id="GProuteOriginCoords"+t,a.className="GPelementHidden gpf-hidden",a.type="text",a.disabled=!0,r.appendChild(a);var l=document.createElement("input");l.id="GProuteOriginPointer"+t,l.type="checkbox",r.appendChild(l);var c=document.createElement("label");return c.id="GProuteOriginPointerImg"+t,c.htmlFor="GProuteOriginPointer"+t,c.className="GProuteOriginPointerImg",c.title="Pointer un lieu sur la carte",c.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation();var e,n=this.id.charAt(this.id.length-1);for(e=1;e<8;e++)n!==e&&(document.getElementById("GProuteOriginPointer"+e).checked=!1,"Pointer un lieu sur la carte"===document.getElementById("GProuteOriginCoords"+e).value&&(document.getElementById("GProuteOriginCoords"+e).value="",document.getElementById("GProuteOrigin"+e).className="GPelementVisible gpf-visible",document.getElementById("GProuteOriginCoords"+e).className="GPelementHidden gpf-hidden"));if(document.getElementById("GProuteOriginPointer"+n).checked){for(document.getElementById("GProuteOriginCoords"+n).value="",e=1;e<8;e++)document.getElementById("GProutePoint"+e).style.display="flex";document.getElementById("GProuteForm").className="gpf-panel__content fr-modal__content",document.getElementById("GProuteOriginPointer"+n).checked=!1,document.getElementById("GProuteOrigin"+n).className="GPelementVisible gpf-visible",document.getElementById("GProuteOriginCoords"+n).className="GPelementHidden gpf-hidden"}else{for(document.getElementById("GProuteOriginCoords"+n).value="Pointer un lieu sur la carte",e=1;e<8;e++)document.getElementById("GProutePoint"+e).style.display=n===e?"flex":"none";document.getElementById("GProuteForm").className="GProuteFormMini gpf-panel__content fr-modal__content",document.getElementById("GProuteOriginPointer"+n).checked=!0,document.getElementById("GProuteOrigin"+n).className="GPelementHidden gpf-hidden",document.getElementById("GProuteOriginCoords"+n).className="GPelementVisible gpf-visible"}i.onRouteMapPointClick(t)})),r.appendChild(c),r},_createRoutePanelFormRemoveStageElement:function(t){var e=this,n=document.createElement("div");return n.id="GProuteStageRemove"+t,n.className="GProuteStageRemove",n.title="Supprimer l'étape",1!==t&&7!==t&&n.addEventListener("click",(function(t){var n=this.id.charAt(this.id.length-1);document.getElementById("GProutePoint"+n).className="GPflexInput GProuteStageFlexInputHidden",document.getElementById("GProuteOrigin"+n).value="",document.getElementById("GProuteOrigin"+n).className="GPelementVisible gpf-visible",document.getElementById("GProuteOriginCoords"+n).value="",document.getElementById("GProuteOriginCoords"+n).className="GPelementHidden gpf-hidden",document.getElementById("GProuteStageAdd").style.display="",e.onRouteRemovePointClick(t)})),n},_createRoutePanelFormAddStageElement:function(){var t=this,e=document.createElement("div");return e.id="GProuteStageAdd",e.title="Ajouter une étape",e.addEventListener("click",(function(e){for(var n=1,i=0,r=2;r<7;r++)"GPflexInput GProuteStageFlexInputHidden"===document.getElementById("GProutePoint"+r).className?1===n&&(n=r):i++;n<7&&(document.getElementById("GProutePoint"+n).className="GPflexInput GProuteStageFlexInput"),4===i&&(document.getElementById("GProuteStageAdd").style.display="none"),t.onRouteAddPointClick(e)})),e},_createRoutePanelFormAutoCompleteListElement:function(t){var e=this,n=document.createElement("div");return n.id="GProuteAutoCompleteList"+t,n.className="GPadvancedAutoCompleteList",n.addEventListener?n.addEventListener("click",(function(n){e.onAutoCompletedResultsItemClick(n),document.getElementById("GProuteAutoCompleteList"+t).style.display="none"}),!1):n.attachEvent&&n.attachEvent("onclick",(function(n){e.onAutoCompletedResultsItemClick(n),document.getElementById("GProuteAutoCompleteList"+t).style.display="none"})),n},_createRouteAutoCompletedLocationElement:function(t,e,n){var i=document.getElementById("GProuteAutoCompleteList"+e),r=document.createElement("div");r.id="AutoCompletedLocation"+n,r.className="GPautoCompleteProposal",r.innerHTML=xd.getSuggestedLocationFreeform(t),i.appendChild(r)},_createRoutePanelFormModeChoiceElement:function(){var t=document.createElement("div");return t.id=this._addUID("GProuteModeChoice"),t},_createRoutePanelFormModeChoiceTransportElement:function(t){var e=this,n=document.createElement("div");n.id=this._addUID("GProuteTransportChoice");var i=document.createElement("label");i.className="GProuteModeLabel gpf-label fr-label",i.innerHTML="Mode de transport",n.appendChild(i);for(var r=0;r<t.length;r++){var o=t[r],s=document.createElement("div");if(s.className="GProuteTransportChoice gpf-flex gpf-radio-group fr-radio-group","Voiture"===o){var a=document.createElement("input");a.id=this._addUID("GProuteTransportCar"),a.type="radio",a.name="GProuteTransport",a.value="Voiture",0===r&&(a.checked=!0),a.addEventListener?a.addEventListener("change",(function(t){e.onRouteModeTransportChange(t)})):a.attachEvent&&a.attachEvent("onchange",(function(t){e.onRouteModeTransportChange(t)})),s.appendChild(a);var l=document.createElement("label");l.className="GProuteTransportImg gpf-label fr-label",l.htmlFor=this._addUID("GProuteTransportCar"),l.title="Voiture",l.innerHTML="Voiture",s.appendChild(l)}if("Pieton"===o){var c=document.createElement("input");c.id=this._addUID("GProuteTransportPedestrian"),c.type="radio",c.name="GProuteTransport",c.value="Pieton",0===r&&(c.checked=!0),c.addEventListener?c.addEventListener("change",(function(t){e.onRouteModeTransportChange(t)})):c.attachEvent&&c.attachEvent("onchange",(function(t){e.onRouteModeTransportChange(t)})),s.appendChild(c);var u=document.createElement("label");u.className="GProuteTransportImg gpf-label fr-label",u.htmlFor=this._addUID("GProuteTransportPedestrian"),u.title="Piéton",u.innerHTML="Piéton",s.appendChild(u)}n.appendChild(s)}return n},_createRoutePanelFormModeChoiceComputeElement:function(){var t=this,e=document.createElement("div");e.id=this._addUID("GProuteComputationChoice");var n=document.createElement("label");n.htmlFor=this._addUID("GProuteComputationSelect"),n.innerHTML="Mode de calcul";var i=document.createElement("span");i.className="GProuteModeLabel",i.appendChild(n),e.appendChild(i);var r=document.createElement("select");r.id=this._addUID("GProuteComputationSelect"),r.className="GPselect gpf-select fr-select",r.addEventListener("change",(function(e){t.onRouteModeComputationChange(e)}));for(var o=[{code:"fastest",label:"Plus rapide"},{code:"shortest",label:"Plus court"}],s=0;s<o.length;s++){var a=document.createElement("option");a.value=o[s].code,a.text=o[s].label,r.appendChild(a)}return e.appendChild(r),e},_createShowRouteExclusionsPictoElement:function(){var t=this,e=document.createElement("button");return e.id=this._addUID("GPshowRouteExclusionsPicto"),e.className="GPshowAdvancedToolPicto GPshowMoreOptionsImage GPshowMoreOptions GPshowRouteExclusionsPicto gpf-btn fr-btn--sm fr-icon-arrow-down-fill",e.title="Exclusions",e.setAttribute("tabindex","0"),e.setAttribute("aria-pressed",!1),e.addEventListener?e.addEventListener("click",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t.onShowRouteExclusionsClick(e)})):e.attachEvent&&e.attachEvent("onclick",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t.onShowRouteExclusionsClick(e)})),e},_createRoutePanelFormExclusionsElement:function(){var t=document.createElement("div");t.id=this._addUID("GProuteExclusions");var e=document.createElement("span");return e.className="GProuteExclusionsLabel",e.innerHTML="Passages autorisés",t.appendChild(e),t},_createRoutePanelFormExclusionOptionsElement:function(t){var e=this,n=document.createElement("div");for(var i in n.className="GProuteExclusionsOptions gpf-flex",t)if(t.hasOwnProperty(i)){var r=t[i];switch(i){case"toll":var o=document.createElement("input");o.id=this._addUID("GProuteExclusionsToll"),o.type="checkbox",o.value="Toll",o.checked=!r,o.addEventListener?o.addEventListener("change",(function(t){e.onRouteExclusionsChange(t)})):o.attachEvent&&o.attachEvent("onchange",(function(t){e.onRouteExclusionsChange(t)})),n.appendChild(o);var s=document.createElement("label");s.className="GProuteExclusionsOption",s.htmlFor=this._addUID("GProuteExclusionsToll"),s.innerHTML="Péages",n.appendChild(s);break;case"tunnel":var a=document.createElement("input");a.id=this._addUID("GProuteExclusionsTunnel"),a.type="checkbox",a.value="Tunnel",a.checked=!r,a.addEventListener?a.addEventListener("change",(function(t){e.onRouteExclusionsChange(t)})):a.attachEvent&&a.attachEvent("onchange",(function(t){e.onRouteExclusionsChange(t)})),n.appendChild(a);var l=document.createElement("label");l.className="GProuteExclusionsOption",l.htmlFor=this._addUID("GProuteExclusionsTunnel"),l.innerHTML="Tunnels",n.appendChild(l);break;case"bridge":var c=document.createElement("input");c.id=this._addUID("GProuteExclusionsBridge"),c.type="checkbox",c.value="Bridge",c.checked=!r,c.addEventListener?c.addEventListener("change",(function(t){e.onRouteExclusionsChange(t)})):c.attachEvent&&c.attachEvent("onchange",(function(t){e.onRouteExclusionsChange(t)})),n.appendChild(c);var u=document.createElement("label");u.className="GProuteExclusionsOption",u.htmlFor=this._addUID("GProuteExclusionsBridge"),u.innerHTML="Ponts",n.appendChild(u);break}}return n},_createRouteSubmitFormElement:function(){var t=document.createElement("input");return t.id=this._addUID("GProuteSubmit"),t.className="GPsubmit gpf-btn gpf-btn-submit fr-btn",t.type="submit",t.value="Calculer",t},_createRouteFormResetElement:function(){var t=this,e=document.createElement("button");return e.id=this._addUID("GProuteReset"),e.title="Réinitialiser les paramètres",e.className="GPresetPicto gpf-btn gpf-icon-return fr-btn",e.title="Réinitialiser les paramètres",e.setAttribute("tabindex","0"),e.setAttribute("aria-pressed",!1),e.addEventListener("click",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t.onRouteResetClick(e)})),e}},g_=p_,f_=Pn.getLogger("route"),m_=class t extends jc{constructor(e){if(e=e||{},super({element:e.element,target:e.target,render:e.render}),!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return this.initialize(e),this._container=this._createMainContainerElement(),this.element?this.element.appendChild(this._container):this.element=this._container,this}setMap(t){if(t){if(this._container=this._initContainer(t),this.element=this._container,this.options.export){var e=Dn.assign({control:this},this.options.export);this.export=new h_(e),this.export.render();var n=this;this.export.on("export:compute",(t=>{n.dispatchEvent({type:"export:compute",content:t.content})}))}this.draggable&&Dd.dragElement(this._panelRouteContainer,this._panelHeaderRouteContainer,this.options.position?null:t.getTargetElement()),this.collapsed||this._showRouteButton.setAttribute("aria-pressed",!0)}super.setMap(t),this.options.position&&this.setPosition(this.options.position)}getCollapsed(){return this.collapsed}setCollapsed(t){void 0!==t?t&&this.collapsed||!t&&!this.collapsed||(t?document.getElementById("GProutePanelClose-"+this._uid).click():this._showRouteButton.click(),this.collapsed=t):f_.log("[ERROR] Route:setCollapsed - missing collapsed parameter")}getLayer(){return this._geojsonSections}setLayer(t){t?t instanceof _e.A?(t.setStyle(this._defaultFeatureStyle),this._geojsonSections=t):f_.log("no valid layer given for hosting drawn features."):this._geojsonSections=null}getGeoJSON(){return JSON.stringify(this._geojsonObject)}setGeoJSON(t){try{this._geojsonObject=JSON.parse(t)}catch(YE){f_.log("no valid geojson given :"+YE.message)}}getData(){var t=[];for(let n=0;n<this._currentPoints.length;n++){const e=this._currentPoints[n];t.push(e.getCoordinate())}var e={type:"route",points:t,transport:this._currentTransport,exclusions:this._currentExclusions,computation:this._currentComputation,results:{}};return Dn.assign(e.results,this._currentRouteInformations),e}setData(t){this._currentTransport=t.transport,this._currentComputation=t.computation,this._currentExclusions=t.exclusions;for(var e=0;e<this._currentPoints.length;e++){var n=this._currentPoints[e];if(n.getCoordinate()){n.clearResults();var i=e+1+"-"+this._uid;document.getElementById("GPlocationOriginCoords_"+i).value="",document.getElementById("GPlocationOrigin_"+i).value="",document.getElementById("GPlocationPoint_"+i).style.cssText="",e>0&&e<6&&(document.getElementById("GPlocationPoint_"+i).className="GPflexInput GPelementHidden gpf-flex gpf-hidden "),document.getElementById("GPlocationOriginPointer_"+i).checked=!1,document.getElementById("GPlocationOrigin_"+i).className="GPelementVisible gpf-visible",document.getElementById("GPlocationOriginCoords_"+i).className="GPelementHidden gpf-hidden"}}for(var r=0;r<t.points.length;r++){const e=t.points[r];e&&this._currentPoints[r].setCoordinate(e,"EPSG:4326")}this._currentRouteInformations=t.results}getContainer(){return this._container}getStyle(){return this._defaultFeatureStyle}init(){for(let d=0;d<this._currentPoints.length;d++){const i=this._currentPoints[d];var t=d+1,e=i.getCoordinate();if(e){var n=document.getElementById("GPlocationOrigin_"+t+"-"+this._uid);n.value=e[1].toFixed(4)+" / "+e[0].toFixed(4),d>0&&d<6&&(document.getElementById("GPlocationPoint_"+t+"-"+this._uid).className="GPflexInput GPlocationStageFlexInput gpf-flex")}}var i,r=document.getElementsByClassName("GPlocationPoint-"+this._uid);this._addRouteResultsStagesValuesElement(r),"Pieton"===this._currentTransport?(i=document.getElementById("GProuteTransportPedestrian-"+this._uid),i&&(i.checked="true")):(i=document.getElementById("GProuteTransportCar-"+this._uid),i&&(i.checked="true"));var o=document.getElementById("GProuteComputationSelect-"+this._uid);o&&(o.value=this._currentComputation);var s=document.getElementById("GProuteExclusionsToll-"+this._uid);s&&(-1!==this._currentExclusions.indexOf("toll")?s.checked=!1:s.checked=!0);var a=document.getElementById("GProuteExclusionsTunnel-"+this._uid);a&&(-1!==this._currentExclusions.indexOf("tunnel")?a.checked=!1:a.checked=!0);var l=document.getElementById("GProuteExclusionsBridge-"+this._uid);l&&(-1!==this._currentExclusions.indexOf("bridge")?l.checked=!1:l.checked=!0);var c=this._currentRouteInformations.totalDistance,u=this._currentRouteInformations.totalTime,h=this._simplifiedInstructions(this._currentRouteInformations.routeInstructions);h&&this._fillRouteResultsDetailsContainer(c,u,h),this._formRouteContainer.className="GPelementHidden gpf-hidden gpf-panel__content fr-modal__content",this._hideWaitingContainer(),this._resultsRouteContainer.className=""}clean(){this._currentTransport=null,this._currentExclusions=[],this._currentComputation=null;for(var t=0;t<this._currentPoints.length;t++)this._currentPoints[t].clear();this._removeRouteStepLocations(),this._clearRouteInputOptions(),this._clearRouteResultsDetails(),this.setLayer(),this._formRouteContainer.className="gpf-panel__content fr-modal__content",this._resultsRouteContainer.className="GPelementHidden gpf-hidden"}initialize(t){this._checkInputOptions(t),this.options={collapsed:!0,draggable:!1,export:!1,graphs:["Voiture","Pieton"],exclusions:{toll:!1,tunnel:!1,bridge:!1},routeOptions:{},autocompleteOptions:{},layerDescription:{title:"Itinéraire",description:"Itinéraire basé sur un graphe"}},Dn.assign(this.options,t);var e={departure:{url:jn["red"],offset:jn.defaultOffset},stages:{url:jn["lightOrange"],offset:jn.defaultOffset},arrival:{url:jn["darkOrange"],offset:jn.defaultOffset}};this.options.markersOpts=Dn.assign(e,t.markersOpts),this.collapsed=this.options.collapsed,this.draggable=this.options.draggable,this._uid=Yc.generate(),this._showRouteButton=null,this._panelRouteContainer=null,this._panelHeaderRouteContainer=null,this._waitingContainer=null,this._formRouteContainer=null,this._resultsRouteContainer=null,this._showRouteExclusionsElement=null,this._currentPoints=[],this._currentTransport=null,this._initTransport(),this._currentComputation=null,this._initComputation(),this._currentExclusions=[],this._initExclusions(),this._waiting=!1,this._timer=null,this._geojsonRoute=null,this._geojsonSections=null,this._geojsonObject=null,this.export=null,this._popupContent=null,this._popupDiv=this._initPopupDiv(),this._popupOverlay=null,this._resultsSelectInteraction=null,this._resultsHoverInteraction=null,this._defaultFeatureStyle=new Ie.Ay({stroke:new Yn.A({color:"rgba(0,183,152,0.9)",width:12})}),this._selectedFeatureStyle=new Ie.Ay({stroke:new Yn.A({color:"rgba(255,102,0,0.9)",width:12})}),this._currentRouteInformations=null,this._resources={},this.listenerKey=null}_checkInputOptions(t){if(t.graphs)if(Array.isArray(t.graphs)&&t.graphs.length)for(var e=0;e<t.graphs.length;e++)"string"===typeof t.graphs[e]?("pieton"===t.graphs[e].toLowerCase()&&(t.graphs[e]="Pieton"),"voiture"===t.graphs[e].toLowerCase()&&(t.graphs[e]="Voiture")):(f_.log("[ol.control.Route] ERROR : parameter 'graphs' elements should be of type 'string'"),t.graphs[e]=null);else f_.warn("'graphs' parameter should be an array"),t.graphs=null;"true"===t.collapsed&&(t.collapsed=!0),"false"===t.collapsed&&(t.collapsed=!1)}_initContainer(t){var e=this._container,n=this._showRouteButton=this._createShowRoutePictoElement();e.appendChild(n);var i=this._panelRouteContainer=this._createRoutePanelElement(),r=this._createRoutePanelDivElement();i.appendChild(r);var o=this._panelHeaderRouteContainer=this._createRoutePanelHeaderElement();r.appendChild(o);for(var s=this._formRouteContainer=this._createRoutePanelFormElement(),a=this._createRoutePanelFormPointsElement(t),l=0;l<a.length;l++)s.appendChild(a[l]);var c=this._createRoutePanelFormModeChoiceElement();c.appendChild(this._createRoutePanelFormModeChoiceTransportElement(this.options.graphs)),c.appendChild(this._createRoutePanelFormModeChoiceComputeElement()),s.appendChild(c),this._showRouteExclusionsElement=this._createShowRouteExclusionsPictoElement(),s.appendChild(this._showRouteExclusionsElement);var u=this._createRoutePanelFormExclusionsElement();u.appendChild(this._createRoutePanelFormExclusionOptionsElement(this.options.exclusions)),s.appendChild(u);var h=this._createRoutePanelFooterElement();s.appendChild(h);var d=this._createRouteFormResetElement();h.appendChild(d);var p=this._createRouteSubmitFormElement();h.appendChild(p),r.appendChild(s);var g=this._resultsRouteContainer=this._createRoutePanelResultsElement();r.appendChild(g);var f=this._waitingContainer=this._createRouteWaitingElement();return r.appendChild(f),e.appendChild(i),e.addEventListener&&e.addEventListener("click",(t=>this._hideRouteSuggestedLocations(t))),e}_initTransport(){this._currentTransport="Voiture";var t=this.options.graphs;t&&0!==t.length||(this.options.graphs=["Voiture","Pieton"]),Array.isArray(t)&&t.length&&("Voiture"!==t[0]&&"Pieton"!==t[0]||(this._currentTransport=t[0]));var e=this.options.routeOptions;e.graph&&(this._currentTransport=e.graph)}_initComputation(){this._currentComputation="fastest";var t=this.options.routeOptions;t.routePreference&&(this._currentComputation=t.routePreference)}_initExclusions(){this._currentExclusions=[];var t=this.options.exclusions;if((!t||"object"===typeof t&&0===Object.keys(t).length)&&(this.options.exclusions={toll:!1,tunnel:!1,bridge:!1}),t&&"object"===typeof t&&Object.keys(t).length)for(var e in t)t.hasOwnProperty(e)&&t[e]&&this._currentExclusions.push(e);var n=this.options.routeOptions;Array.isArray(n.exclusions)&&(this._currentExclusions=n.exclusions)}_initPopupDiv(){var t=this,e=document.createElement("div");e.className="gp-feature-info-div";var n=document.createElement("input");return n.type="button",n.className="gp-styling-button closer",n.onclick=function(){return null!=t._popupOverlay&&t._popupOverlay.setPosition(void 0),!1},this._popupContent=document.createElement("div"),this._popupContent.className="gp-features-content-div",e.appendChild(this._popupContent),e.appendChild(n),e}_createRoutePanelFormPointsElement(t){var e=[],n=1,i=new s_({apiKey:this.options.apiKey||null,tag:{id:n,groupId:this._uid,markerOpts:this.options.markersOpts["departure"],label:"Départ",display:!0},autocompleteOptions:this.options.autocompleteOptions||null});for(i.setMap(t),this._addFormPointsEventListeners(i),e.push(i._container),this._currentPoints.push(i),n=2;n<7;n++){var r=new s_({apiKey:this.options.apiKey||null,tag:{id:n,groupId:this._uid,label:"Etape",markerOpts:this.options.markersOpts["stages"],display:!1,removeOption:!0},autocompleteOptions:this.options.autocompleteOptions||null});r.setMap(t),this._addFormPointsEventListeners(r),e.push(r._container),this._currentPoints.push(r)}var o=new s_({apiKey:this.options.apiKey||null,tag:{id:n,groupId:this._uid,markerOpts:this.options.markersOpts["arrival"],label:"Arrivée",display:!0,addOption:!0},autocompleteOptions:this.options.autocompleteOptions||null});return o.setMap(t),this._addFormPointsEventListeners(o),e.push(o._container),this._currentPoints.push(o),e}_addFormPointsEventListeners(t){t&&(t._buttonLabel.addEventListener?(t._buttonLabel.addEventListener("click",(t=>this.onRouteOriginLabelClick(t))),t._inputShowPointer.addEventListener("click",(e=>this.onRouteOriginPointerClick(e,t))),t._removePointElement&&t._removePointElement.addEventListener("click",(t=>{f_.trace("click on _removePointElement",t)})),t._addPointElement&&t._addPointElement.addEventListener("click",(t=>{f_.trace("click on _addPointElement",t)}))):t._buttonLabel.attachEvent&&(t._buttonLabel.attachEvent("onclick",(t=>this.onRouteOriginLabelClick(t))),t._inputShowPointer.attachEvent("onclick",(e=>this.onRouteOriginPointerClick(e,t))),t._removePointElement&&t._removePointElement.attachEvent("onclick",(t=>{})),t._addPointElement&&t._addPointElement.attachEvent("onclick",(t=>{}))))}onRouteComputationSubmit(t){f_.log("onRouteComputationSubmit",t);var e,n,i=this._currentPoints;if(i[0]&&i[0].getCoordinate){var r=i[0].getCoordinate();e={x:r[0],y:r[1]},f_.log("start",e)}var o=i[i.length-1];if(o&&o.getCoordinate){var s=o.getCoordinate();n={x:s[0],y:s[1]},f_.log("end",n)}for(var a=[],l=1;l<i.length-1;l++)if(i[l]&&i[l].getCoordinate){var c=i[l].getCoordinate();if(c){var u={x:c[0],y:c[1]};f_.log("step",u),a.push(u)}}this._currentTransport=t.transport,this._currentComputation=t.computation,this._currentExclusions=t.exclusions;var h,d=this.options.routeOptions;d.resource?h=d.resource:"fastest"===this._currentComputation&&"Pieton"===this._currentTransport&&(h="bdtopo-valhalla");var p=d.protocol||"XHR",g=d.timeOut||0;"JSONP"===p&&0===g&&(g=15e3);var f=!(null===d.onFailure||"function"!==typeof d.onFailure),m=!(null===d.onSuccess||"function"!==typeof d.onSuccess),A=this;this._requestRouting({startPoint:e,endPoint:n,viaPoints:a,graph:d.graph||this._currentTransport,routePreference:d.routePreference||this._currentComputation,exclusions:d.exclusions||this._currentExclusions,geometryInInstructions:!0,distanceUnit:"m",timeOut:g,protocol:p,resource:h,onSuccess:function(t){f_.log(t),t&&A._fillRouteResultsDetails(t),m&&d.onSuccess.call(A,t)},onFailure:function(t){A._hideWaitingContainer(),A._clearRouteResultsDetails(),f_.log(t.message),f&&d.onFailure.call(A,t)}})}onRouteOriginLabelClick(){this._formRouteContainer.className="gpf-panel__content fr-modal__content",(0,ur.e)(this.listenerKey),this.dispatchEvent("route:drawend")}onRouteOriginPointerClick(t,e){var n=this.getMap();e._inputShowPointerContainer.checked?(this._formRouteContainer.className="GProuteFormMini gpf-panel__content fr-modal__content",this.listenerKey=n.on("click",(()=>{"GProuteFormMini gpf-panel__content fr-modal__content"===this._formRouteContainer.className&&(this._formRouteContainer.className="gpf-panel__content fr-modal__content"),(0,ur.e)(this.listenerKey),this.dispatchEvent("route:drawend")})),this.dispatchEvent("route:drawstart")):(this._formRouteContainer.className="",(0,ur.e)(this.listenerKey),this.dispatchEvent("route:drawend"))}onShowRoutePanelClick(t){var e=this.getMap();Un.unset(e),this._geojsonSections||this._waiting||this._clear();var n=this._showRouteButton.ariaPressed;this.collapsed=!("true"===n),this.dispatchEvent("change:collapsed")}onRouteModeComputationChange(t){var e=t.target.selectedIndex,n=t.target.options[e].value;n&&(f_.log(n),this._currentComputation=n)}onRouteModeComputationChangeAndRun(t){this.onRouteModeComputationChange(t),this._clearRouteResultsDetails(),this._clearRouteResultsGeometry(),this._clearRouteResultsFeatureGeometry(),this.onRouteComputationSubmit({computation:this._currentComputation,transport:this._currentTransport,exclusions:this._currentExclusions})}onRouteModeTransportChange(t){var e=t.target.value;e&&(this._currentTransport=e)}onShowRouteExclusionsClick(t){f_.log("onShowRouteExclusionsClick",t)}onRouteExclusionsChange(t){var e=t.target.value,n=t.target.checked;if(e&&"string"===typeof e){e=e.toLowerCase();for(var i=!1,r=null,o=0;o<this._currentExclusions.length;o++)this._currentExclusions[o]===e&&(r=o,i=!0);i||n||this._currentExclusions.push(e),i&&n&&this._currentExclusions.splice(r,1)}}onRouteResetClick(){for(var t=this._currentPoints,e=0;e<t.length;e++)t[e].clear();this._clear(),this._clearRouteInputOptions()}onShowRouteResultsNewClick(){this._clearRouteResultsDetails(),this._clearRouteResultsGeometry(),this._clearRouteResultsFeatureGeometry()}onRouteResultsDetailsMouseOver(t){var e=t.target.id,n=e.substring(e.indexOf("_")+1);if(t.target.classList&&t.target.classList.add("GProuteResultsDetailsInstructionHighlight"),this._geojsonSections){var i=this._geojsonSections.getSource().getFeatureById(parseInt(n,10));i.setStyle(this._selectedFeatureStyle)}}onRouteResultsDetailsMouseOut(t){var e=t.target.id,n=e.substring(e.indexOf("_")+1);if(t.target.classList&&t.target.classList.remove("GProuteResultsDetailsInstructionHighlight"),this._geojsonSections){var i=this._geojsonSections.getSource().getFeatureById(parseInt(n,10));i.setStyle(null)}}_requestRouting(t){!t||"object"===typeof t&&0===Object.keys(t).length||t.startPoint&&t.endPoint&&(t.apiKey=this.options.routeOptions.apiKey||this.options.apiKey,"boolean"!==typeof t.ssl&&("boolean"===typeof this.options.ssl?t.ssl=this.options.ssl:t.ssl=!0),f_.log(t),this._displayWaitingContainer(),bn.Ay.Services.route(t))}_fillRouteResultsDetails(t){var e=t.totalDistance,n=t.totalTime,i=this._simplifiedInstructions(t.routeInstructions);i&&this._fillRouteResultsDetailsContainer(e,n,i);var r=t.routeGeometry;r&&this._fillRouteResultsDetailsGeometry(r,this._defaultFeatureStyle),i&&i[0].geometry&&this._fillRouteResultsDetailsFeatureGeometry(i,this._defaultFeatureStyle);var o=t.bbox;if(o){var s=this.getMap(),a=[o.left,o.bottom,o.right,o.top],l=s.getView().getProjection().getCode();"EPSG:4326"!==l&&(a=(0,Z.DI)(a,"EPSG:4326",l)),s.getView().fit(a,s.getSize())}this._currentRouteInformations=t,this.dispatchEvent({type:"route:compute"}),this._formRouteContainer.className="GPelementHidden gpf-hidden gpf-panel__content fr-modal__content",this._hideWaitingContainer(),this._resultsRouteContainer.className=""}_fillRouteResultsDetailsContainer(t,e,n){this._resultsRouteValuesContainer=this._addRouteResultsValuesElement(t,e,this._convertSecondsToTime),this._resultsRouteDetailsContainer=this._addRouteResultsDetailsElement(n,this._convertSecondsToTime)}_fillRouteResultsDetailsGeometry(t,e){this._clearRouteResultsGeometry();var n=this.getMap();if(t){var i={type:"FeatureCollection",features:[{type:"Feature",crs:{type:"name",properties:{name:"EPSG:4326"}},geometry:t}]},r=new ui({defaultDataProjection:"EPSG:4326",defaultStyle:e}),o=r.readFeatures(i,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"});this._geojsonRoute=new _e.A({source:new _t.A({features:o}),style:e}),n.addLayer(this._geojsonRoute)}}_fillRouteResultsDetailsFeatureGeometry(t,e){this._clearRouteResultsFeatureGeometry();var n=this.getMap();this._geojsonObject={type:"FeatureCollection",crs:{type:"name",properties:{name:"EPSG:4326"}},features:[]};for(var i=0;i<t.length;i++){for(var r=t[i],o=i+1,s=r.geometry.coordinates,a=0;a<s.length;a++)"string"===typeof s[a][0]&&(s[a][0]=parseFloat(s[a][0]),s[a][1]=parseFloat(s[a][1]));this._geojsonObject.features.push({type:"Feature",geometry:r.geometry,properties:{popupContent:"("+o+") distance : "+this._convertDistance(r.distance)+" / temps : "+this._convertSecondsToTime(r.duration)},id:o})}this._geojsonObject.features.push({type:"Feature",geometry:{type:"Point",coordinates:this._currentPoints[0].getCoordinate()},properties:{description:"Point de départ","marker-symbol":this.options.markersOpts.departure.url}});for(var l=1;l<this._currentPoints.length-1;l++)if(this._currentPoints[l]&&this._currentPoints[l].getCoordinate){var c=this._currentPoints[l].getCoordinate();c&&this._geojsonObject.features.push({type:"Feature",geometry:{type:"Point",coordinates:c},properties:{description:"Point d'étape","marker-symbol":this.options.markersOpts.stages.url}})}this._geojsonObject.features.push({type:"Feature",geometry:{type:"Point",coordinates:this._currentPoints[this._currentPoints.length-1].getCoordinate()},properties:{description:"Point d'arrivée","marker-symbol":this.options.markersOpts.arrival.url}});var u,h=new ui({defaultDataProjection:"EPSG:4326",defaultStyle:e}),d=this.getMap().getView().getProjection().getCode(),p=h.readFeatures(this._geojsonObject,{dataProjection:"EPSG:4326",featureProjection:d});this._geojsonSections=new _e.A({source:new _t.A({features:p}),style:e,opacity:.9}),"Pieton"===this._currentTransport?(u="piéton",this._geojsonSections.gpResultLayerId="Pieton$OGC:OPENLS;Itineraire"):(u="voiture",this._geojsonSections.gpResultLayerId="Voiture$OGC:OPENLS;Itineraire"),n.addLayer(this._geojsonSections),n.getControls().forEach((t=>{if(t instanceof Ad){var e=this._geojsonSections.gpLayerId;t._layers[e].title===e&&t.addLayer(this._geojsonSections,{title:this.options.layerDescription.title+" ("+u+")",description:this.options.layerDescription.description})}}),this),this._resultsHoverInteraction=new Me({condition:Ee.N1,layers:[this._geojsonSections],style:this._selectedFeatureStyle}),this._resultsHoverInteraction.on("select",(t=>this._onResultsFeatureMouseOver(t))),n.addInteraction(this._resultsHoverInteraction),this._resultsSelectInteraction=new Me({layers:[this._geojsonSections],style:this._selectedFeatureStyle}),this._resultsSelectInteraction.on("select",(t=>this._onResultsFeatureSelect(t))),n.addInteraction(this._resultsSelectInteraction)}_onResultsFeatureMouseOver(t){if(0!==t.selected.length){var e=t.selected[0],n=document.getElementById("GProuteResultsDetailsInstruction_"+e.getId()+"-"+this._uid);n&&n.classList&&n.classList.add("GProuteResultsDetailsInstructionHighlight")}if(0!==t.deselected.length){var i=t.deselected[0],r=document.getElementById("GProuteResultsDetailsInstruction_"+i.getId()+"-"+this._uid);r&&r.classList&&r.classList.remove("GProuteResultsDetailsInstructionHighlight")}}_onResultsFeatureSelect(t){var e=this.getMap();if(0!==t.selected.length){var n=t.selected[0];this._popupContent.innerHTML=n.getProperties().popupContent,this._popupOverlay?this._popupOverlay.setPosition(t.mapBrowserEvent.coordinate):(this._popupOverlay=new d({element:this._popupDiv,positioning:"bottom-center",position:t.mapBrowserEvent.coordinate}),e.addOverlay(this._popupOverlay))}else null!=this._popupOverlay&&this._popupOverlay.setPosition(void 0)}_clear(){this._currentTransport=null,this._currentExclusions=[],this._currentComputation=null,this._clearRouteResultsDetails(),this._clearRouteResultsGeometry(),this._clearRouteResultsFeatureGeometry();for(var t=0;t<this._currentPoints.length;t++)this._currentPoints[t].clear();this._removeRouteStepLocations()}_clearRouteInputOptions(){var t;this._initTransport(),this._initComputation(),this._initExclusions(),"Pieton"===this._currentTransport?(t=document.getElementById("GProuteTransportPedestrian-"+this._uid),t&&(t.checked="true")):(t=document.getElementById("GProuteTransportCar-"+this._uid),t&&(t.checked="true"));var e=document.getElementById("GProuteComputationSelect-"+this._uid);e&&(e.value=this._currentComputation);var n=document.getElementById("GProuteExclusionsToll-"+this._uid);n&&(-1!==this._currentExclusions.indexOf("toll")?n.checked=!1:n.checked=!0);var i=document.getElementById("GProuteExclusionsTunnel-"+this._uid);i&&(-1!==this._currentExclusions.indexOf("tunnel")?i.checked=!1:i.checked=!0);var r=document.getElementById("GProuteExclusionsBridge-"+this._uid);r&&(-1!==this._currentExclusions.indexOf("bridge")?r.checked=!1:r.checked=!0)}_removeRouteStepLocations(){var t=document.querySelectorAll('div[id^="GPlocationPoint"]');if(0!==t.length){for(var e=[],n=0;n<t.length;n++)-1!==t[n].id.indexOf(this._uid)&&e.push(t[n]);for(var i=1;i<e.length-1;i++){var r=e[i].classList;if(0!==r.length)for(var o=0;o<r.length;o++)"GPlocationStageFlexInput"===r[o]&&document.getElementById(this._addUID("GPlocationStageRemove_"+(i+1))).click()}}}_clearRouteResultsDetails(){if(this._currentRouteInformations=null,this._resultsRouteDetailsContainer){var t=this._resultsRouteDetailsContainer;if(t.childElementCount)while(t.firstChild)t.removeChild(t.firstChild)}if(this._resultsRouteValuesContainer){var e=this._resultsRouteValuesContainer;if(e.childElementCount)while(e.firstChild)e.removeChild(e.firstChild)}}_clearRouteResultsGeometry(){var t=this.getMap();null!=this._geojsonRoute&&(t.removeLayer(this._geojsonRoute),this._geojsonRoute=null)}_clearRouteResultsFeatureGeometry(){var t=this.getMap();null!=this._geojsonSections&&(t.removeLayer(this._geojsonSections),this._geojsonSections=null,this._geojsonObject=null),null!=this._popupOverlay&&(t.removeOverlay(this._popupOverlay),this._popupOverlay=null),null!=this._resultsSelectInteraction&&(t.removeInteraction(this._resultsSelectInteraction),this._resultsSelectInteraction=null),null!=this._resultsHoverInteraction&&(t.removeInteraction(this._resultsHoverInteraction),this._resultsHoverInteraction=null)}_hideRouteSuggestedLocations(t){if(t.target&&t.target.id&&-1!==t.target.id.indexOf("GPlocationOrigin_"))for(var e=parseInt(t.target.id.split("_")[1][0],10)-1,n=0;n<this._currentPoints.length;n++)n!==parseInt(e,10)&&this._currentPoints[n]._hideSuggestedLocation();else for(var i=0;i<this._currentPoints.length;i++)this._currentPoints[i]._hideSuggestedLocation()}_displayWaitingContainer(){this._waitingContainer.className="GPwaitingContainer GPwaitingContainerVisible gpf-waiting gpf-waiting--visible",this._waiting=!0;var t=this.options.routeOptions;if(t&&t.timeOut){this._timer&&(clearTimeout(this._timer),this._timer=null);var e=this;this._timer=setTimeout((function(){!0===e._waiting?e._hideWaitingContainer():e._timer&&clearTimeout(e._timer)}),16e3)}}_hideWaitingContainer(){if(this._waiting){this._waitingContainer.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden",this._waiting=!1;var t=this.options.routeOptions;t&&t.timeOut&&(clearTimeout(this._timer),this._timer=null)}}_simplifiedInstructions(t){var e=[],n=t[0];1===t.length&&e.push(n);for(var i=1;i<t.length;i++){var r=t[i];if(r.instruction===n.instruction){n.distance=(parseFloat(r.distance)+parseFloat(n.distance)).toString(),n.duration=(parseFloat(r.duration)+parseFloat(n.duration)).toString();for(var o=1;o<r.geometry.coordinates.length;o++)n.geometry.coordinates.push(r.geometry.coordinates[o])}else e.push(n),n=r,i===t.length-1&&(e.push(r),n=null)}return f_.log(e),e}_convertSecondsToTime(t){var e="";t=Math.round(t);var n=Math.floor(t/3600),i=t%3600,r=Math.floor(i/60);return n&&(e=n+"h "),e+=r+" min",e}_convertDistance(t){var e="",n=parseInt(t/1e3,10);return e=n?n+" km":parseInt(t,10)+" m",e}};Object.assign(m_.prototype,g_);var A_=m_;window.ol&&window.ol.control&&(window.ol.control.Route=m_);var y_={_addUID:function(t){var e=this._uid?t+"-"+this._uid:t;return e},_createMainContainerElement:function(){var t=document.createElement("div");return t.id=this._addUID("GPisochron"),t.className="GPwidget gpf-widget",t},_createShowIsoPictoElement:function(){var t=this,e=document.createElement("button");return e.id=this._addUID("GPshowIsochronPicto"),e.className="GPshowOpen GPshowAdvancedToolPicto GPshowIsochronPicto gpf-btn gpf-btn-icon-isocurve fr-btn",e.title="Calculer une isochrone",e.setAttribute("tabindex","0"),e.setAttribute("aria-pressed",!1),e.addEventListener?e.addEventListener("click",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t.onShowIsoPanelClick(e)})):e.attachEvent&&e.attachEvent("onclick",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t.onShowIsoPanelClick(e)})),e},_createIsoPanelElement:function(){var t=document.createElement("dialog");return t.id=this._addUID("GPisochronPanel"),t.className="GPpanel gpf-panel fr-modal",t},_createIsoPanelDivElement:function(){var t=document.createElement("div");return t.className="gpf-panel__body fr-modal__body",t},_createIsoPanelHeaderElement:function(){var t=this,e=document.createElement("div");e.className="GPpanelHeader gpf-panel__header fr-modal__header";var n=document.createElement("div");n.className="GPpanelTitle gpf-panel__title fr-modal__title",n.innerHTML="Calcul d'isochrone",e.appendChild(n);var i=document.createElement("button");i.id=this._addUID("GPisochronPanelClose"),i.className="GPpanelClose GPisochronPanelClose gpf-btn gpf-btn-icon-close fr-btn--close fr-btn",i.title="Fermer le panneau",i.addEventListener?i.addEventListener("click",(function(){document.getElementById(t._addUID("GPshowIsochronPicto")).click()}),!1):i.attachEvent&&i.attachEvent("onclick",(function(){document.getElementById(t._addUID("GPshowIsochronPicto")).click()}));var r=document.createElement("span");return r.className="GPelementHidden gpf-visible",r.innerText="Fermer",i.appendChild(r),e.appendChild(i),e},_createIsoPanelFormElement:function(){var t=this,e=document.createElement("form");return e.id=this._addUID("GPisochronForm"),e.className="GPform gpf-panel__content fr-modal__content",e.addEventListener("submit",(function(e){return e.preventDefault(),t.onIsoComputationSubmit(e),!1})),e},_createIsoWaitingElement:function(){var t=document.createElement("div");t.id=this._addUID("GPisochronCalcWaitingContainer"),t.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden";var e=document.createElement("p");return e.className="GPwaitingContainerInfo gpf-waiting_info",e.innerHTML="Recherche en cours...",t.appendChild(e),t},_createIsoPanelFooterElement:function(){var t=document.createElement("div");return t.className="GPpanelFooter gpf-panel__footer fr-modal__footer",t},_createIsoPanelFormTypeChoiceElement:function(){var t=document.createElement("div");return t.id=this._addUID("GPisochronChoice"),t},_createIsoPanelFormTypeChoiceChronElement:function(t){var e=this,n=document.createElement("div");n.className="GPisochronChoiceAlt gpf-flex gpf-flex-isocurve gpf-radio-group fr-radio-group";var i=document.createElement("input");i.id=this._addUID("GPisochronChoiceAltChron"),i.name="GPisochronChoiceMode",i.type="radio",i.checked=!!t,i.addEventListener?i.addEventListener("change",(function(t){document.getElementById(e._addUID("GPisochronValueChron")).className="GPflexInput gpf-flex",document.getElementById(e._addUID("GPisochronValueDist")).className="GPelementHidden gpf-hidden",e.onIsoTypeChoiceChange(t)}),!1):i.attachEvent&&i.attachEvent("onchange",(function(){document.getElementById(e._addUID("GPisochronValueChron")).className="GPflexInput gpf-flex",document.getElementById(e._addUID("GPisochronValueDist")).className="GPelementHidden gpf-hidden",e.onIsoTypeChoiceChange()})),i.value="isochron",n.appendChild(i);var r=document.createElement("label");r.className="GPisochronChoiceAltImg gpf-label fr-label",r.htmlFor=this._addUID("GPisochronChoiceAltChron"),r.innerHTML="isochrone",n.appendChild(r);var o=document.createElement("span");return o.id=this._addUID("GPisochronChoiceAltChronTxt"),o.className="gpf-hidden",o.innerHTML="isochrone",o.addEventListener?o.addEventListener("click",(function(){document.getElementById(e._addUID("GPisochronChoiceAltChron")).click()}),!1):o.attachEvent&&o.attachEvent("onclick",(function(){document.getElementById(e._addUID("GPisochronChoiceAltChron")).click()})),n.appendChild(o),n},_createIsoPanelFormTypeChoiceDistElement:function(t){var e=this,n=document.createElement("div");n.className="GPisochronChoiceAlt gpf-flex gpf-flex-isocurve gpf-radio-group fr-radio-group";var i=document.createElement("input");i.id=this._addUID("GPisochronChoiceAltDist"),i.name="GPisochronChoiceMode",i.type="radio",i.checked=!!t,i.addEventListener?i.addEventListener("change",(function(t){document.getElementById(e._addUID("GPisochronValueDist")).className="GPflexInput gpf-flex",document.getElementById(e._addUID("GPisochronValueChron")).className="GPelementHidden gpf-hidden",e.onIsoTypeChoiceChange(t)}),!1):i.attachEvent&&i.attachEvent("onchange",(function(){document.getElementById(e._addUID("GPisochronValueDist")).className="GPflexInput gpf-flex",document.getElementById(e._addUID("GPisochronValueChron")).className="GPelementHidden gpf-hidden",e.onIsoTypeChoiceChange()})),i.value="isodistance",n.appendChild(i);var r=document.createElement("label");r.className="GPisochronChoiceAltImg gpf-label fr-label",r.htmlFor=this._addUID("GPisochronChoiceAltDist"),r.innerHTML="isodistance",n.appendChild(r);var o=document.createElement("span");return o.id=this._addUID("GPisochronChoiceAltDistTxt"),o.className="gpf-hidden",o.innerHTML="isodistance",o.addEventListener?o.addEventListener("click",(function(){document.getElementById(e._addUID("GPisochronChoiceAltDist")).click()}),!1):o.attachEvent&&o.attachEvent("onclick",(function(){document.getElementById(e._addUID("GPisochronChoiceAltDist")).click()})),n.appendChild(o),n},_createIsoPanelFormValueIsochronElement:function(t){var e=this,n=document.createElement("div");n.id=this._addUID("GPisochronValueChron"),n.className=t?"GPflexInput gpf-flex":"GPelementHidden gpf-hidden";var i=document.createElement("label");i.id=this._addUID("GPisochronValueChronLabel"),i.className="gpf-label fr-label",i.htmlFor=this._addUID("GPisochronValueChronInput"),i.innerHTML="Temps",n.appendChild(i);var r=document.createElement("input");r.id=this._addUID("GPisochronValueChronInput1"),r.className="gpf-input fr-input",r.min="0",r.step="1",r.value="0",r.type="number",r.addEventListener?r.addEventListener("change",(function(t){"function"===typeof e.onIsoValueChronTimeMinuteChange&&e.onIsoValueChronTimeHourChange(t)})):r.attachEvent&&r.attachEvent("onchange",(function(t){"function"===typeof e.onIsoValueChronTimeMinuteChange&&e.onIsoValueChronTimeHourChange(t)})),n.appendChild(r);var o=document.createElement("label");o.innerHTML="h",o.className="gpf-label fr-label",n.appendChild(o);var s=document.createElement("input");s.id=this._addUID("GPisochronValueChronInput2"),s.className="gpf-input fr-input",s.min="0",s.max="59",s.step="1",s.value="0",s.type="number",s.addEventListener?s.addEventListener("change",(function(t){"function"===typeof e.onIsoValueChronTimeMinuteChange&&e.onIsoValueChronTimeMinuteChange(t)})):s.attachEvent&&s.attachEvent("onchange",(function(t){"function"===typeof e.onIsoValueChronTimeMinuteChange&&e.onIsoValueChronTimeMinuteChange(t)})),n.appendChild(s);var a=document.createElement("label");return a.innerHTML="min",a.className="gpf-label fr-label",n.appendChild(a),n},_createIsoPanelFormValueIsodistanceElement:function(t){var e=this,n=document.createElement("div");n.id=this._addUID("GPisochronValueDist"),n.className=t?"GPflexInput gpf-flex":"GPelementHidden gpf-hidden";var i=document.createElement("label");i.id=this._addUID("GPisochronValueDistLabel"),i.className="gpf-label fr-label",i.htmlFor=this._addUID("GPisochronValueDistInput"),i.innerHTML="Distance",n.appendChild(i);var r=document.createElement("input");r.id=this._addUID("GPisochronValueDistInput"),r.className="gpf-input fr-input",r.min="0",r.step="any",r.value="0",r.type="number",r.addEventListener?r.addEventListener("change",(function(t){"function"===typeof e.onIsoValueDistChange&&e.onIsoValueDistChange(t)})):r.attachEvent&&r.attachEvent("onchange",(function(t){"function"===typeof e.onIsoValueDistChange&&e.onIsoValueDistChange(t)})),n.appendChild(r);var o=document.createElement("label");return o.innerHTML="km",i.className="gpf-label fr-label",n.appendChild(o),n},_createIsoPanelFormModeChoiceElement:function(){var t=document.createElement("div");return t.id=this._addUID("GPisochronModeChoice"),t},_createIsoPanelFormModeChoiceTransportElement:function(t){var e=this,n=document.createElement("div");n.id=this._addUID("GPisochronTransportChoice");var i=document.createElement("label");i.className="GPisochronModeLabel gpf-label fr-label",i.innerHTML="Mode de transport",n.appendChild(i);for(var r=0;r<t.length;r++){var o=t[r],s=document.createElement("div");if(s.className="GPisochronTransportChoice gpf-flex gpf-radio-group fr-radio-group","Voiture"===o){var a=document.createElement("input");a.id=this._addUID("GPisochronTransportCar"),a.type="radio",a.name="GPisochronTransport",0===r&&(a.checked=!0),a.addEventListener?a.addEventListener("change",(function(t){e.onIsoModeTransportChange(t)})):a.attachEvent&&a.attachEvent("onchange",(function(t){e.onIsoModeTransportChange(t)})),a.value="Voiture",s.appendChild(a);var l=document.createElement("label");l.className="GPisochronTransportImg gpf-label fr-label",l.htmlFor=this._addUID("GPisochronTransportCar"),l.title="Voiture",l.innerHTML="Voiture",s.appendChild(l)}if("Pieton"===o){var c=document.createElement("input");c.id=this._addUID("GPisochronTransportPedestrian"),c.type="radio",c.name="GPisochronTransport",0===r&&(c.checked=!0),c.addEventListener?c.addEventListener("change",(function(t){e.onIsoModeTransportChange(t)})):c.attachEvent&&c.attachEvent("onchange",(function(t){e.onIsoModeTransportChange(t)})),c.value="Pieton",s.appendChild(c);var u=document.createElement("label");u.className="GPisochronTransportImg gpf-label fr-label",u.htmlFor=this._addUID("GPisochronTransportPedestrian"),u.title="Piéton",u.innerHTML="Piéton",s.appendChild(u)}n.appendChild(s)}return n},_createIsoPanelFormModeChoiceDirectionElement:function(t){var e=this,n=document.createElement("div");n.id=this._addUID("GPisochronDirectionChoice");var i=document.createElement("label");i.className="GPisochronModeLabel gpf-label fr-label",i.innerHTML="Sens de parcours",n.appendChild(i);var r=document.createElement("select");r.id=this._addUID("GPisochronDirectionSelect"),r.className="GPselect gpf-select fr-select",r.addEventListener("change",(function(t){e.onIsoModeDirectionChange(t)}));for(var o=0;o<t.length;o++){var s=t[o];if("departure"===s.toLowerCase()){var a=document.createElement("option");0===o&&(a.selected="selected"),a.value="departure",a.text="Départ",r.appendChild(a)}if("arrival"===s.toLowerCase()){var l=document.createElement("option");0===o&&(l.selected="selected"),l.value="arrival",l.text="Arrivée",r.appendChild(l)}}return n.appendChild(r),n},_createShowIsoExclusionsPictoElement:function(){var t=this,e=document.createElement("button");return e.id=this._addUID("GPshowIsoExclusionsPicto"),e.className="GPshowAdvancedToolPicto GPshowMoreOptionsImage GPshowMoreOptions GPshowIsoExclusionsPicto gpf-btn fr-btn--sm fr-icon-arrow-down-fill",e.title="Exclusions",e.setAttribute("tabindex","0"),e.setAttribute("aria-pressed",!1),e.addEventListener?e.addEventListener("click",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t.onShowIsoSettingsClick(e)})):e.attachEvent&&e.attachEvent("onclick",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t.onShowIsoSettingsClick(e)})),e},_createIsoPanelFormExclusionsElement:function(){var t=document.createElement("div");t.id=this._addUID("GPisoExclusions");var e=document.createElement("label");return e.className="GPisoExclusionsLabel gpf-label fr-label",e.innerHTML="Passages autorisés",t.appendChild(e),t},_createIsoPanelFormExclusionOptionsElement:function(t){var e=this,n=document.createElement("div");for(var i in n.className="GPisoExclusionsOptions gpf-flex",t)if(t.hasOwnProperty(i)){var r=t[i];switch(i){case"toll":var o=document.createElement("input");o.id=this._addUID("GPisoExclusionsToll"),o.type="checkbox",o.checked=!r,o.addEventListener?o.addEventListener("change",(function(t){e.onIsoExclusionsChange(t)})):o.attachEvent&&o.attachEvent("onchange",(function(t){e.onIsoExclusionsChange(t)})),o.value="Toll",n.appendChild(o);var s=document.createElement("label");s.className="GPisoExclusionsOption",s.htmlFor=this._addUID("GPisoExclusionsToll"),s.innerHTML="Péages",n.appendChild(s);break;case"tunnel":var a=document.createElement("input");a.id=this._addUID("GPisoExclusionsTunnel"),a.type="checkbox",a.checked=!r,a.addEventListener?a.addEventListener("change",(function(t){e.onIsoExclusionsChange(t)})):a.attachEvent&&a.attachEvent("onchange",(function(t){e.onIsoExclusionsChange(t)})),a.value="Tunnel",n.appendChild(a);var l=document.createElement("label");l.className="GPisoExclusionsOption",l.htmlFor=this._addUID("GPisoExclusionsTunnel"),l.innerHTML="Tunnels",n.appendChild(l);break;case"bridge":var c=document.createElement("input");c.id=this._addUID("GPisoExclusionsBridge"),c.type="checkbox",c.checked=!r,c.addEventListener?c.addEventListener("change",(function(t){e.onIsoExclusionsChange(t)})):c.attachEvent&&c.attachEvent("onchange",(function(t){e.onIsoExclusionsChange(t)})),c.value="Bridge",n.appendChild(c);var u=document.createElement("label");u.className="GPisoExclusionsOption",u.htmlFor=this._addUID("GPisoExclusionsBridge"),u.innerHTML="Ponts",n.appendChild(u);break}}return n},_createIsoSubmitFormElement:function(){var t=document.createElement("input");return t.id=this._addUID("GPisochronSubmit"),t.className="GPsubmit gpf-btn fr-btn",t.type="submit",t.value="Calculer",t},_createIsoFormResetElement:function(){var t=this,e=document.createElement("button");return e.id=this._addUID("GPisochronReset"),e.className="GPresetPicto GPisochronReset gpf-btn gpf-btn-icon-reset fr-btn",e.title="Réinitialiser les paramètres",e.setAttribute("tabindex","0"),e.setAttribute("aria-pressed",!1),e.addEventListener("click",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t.onIsoResetClick(e)})),e}},v_=y_,__=Pn.getLogger("isocurve"),C_=class t extends jc{constructor(e){if(e=e||{},super({element:e.element,target:e.target,render:e.render}),!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return this.initialize(e),this._container=this._createMainContainerElement(),this.element?this.element.appendChild(this._container):this.element=this._container,this}setMap(t){if(t){if(this._container=this._initContainer(t),this.options.export){var e=Dn.assign({control:this},this.options.export);this.export=new h_(e),this.export.render();var n=this;this.export.on("export:compute",(t=>{n.dispatchEvent({type:"export:compute",content:t.content})}))}this.draggable&&Dd.dragElement(this._IsoPanelContainer,this._IsoPanelHeaderContainer,this.options.position?null:t.getTargetElement()),this.collapsed||this._pictoIsoButton.setAttribute("aria-pressed",!0)}super.setMap(t),this.options.position&&this.setPosition(this.options.position)}getCollapsed(){return this.collapsed}setCollapsed(t){void 0!==t?t&&this.collapsed||!t&&!this.collapsed||(t?document.getElementById("GPisochronPanelClose-"+this._uid).click():this._pictoIsoButton.click(),this.collapsed=t):__.log("[ERROR] Isocurve:setCollapsed - missing collapsed parameter")}getLayer(){return this._geojsonLayer}setLayer(t){t?t instanceof _e.A?(t.setStyle(this._defaultFeatureStyle),this._geojsonLayer=t):__.log("no valid layer given for hosting drawn features."):this._geojsonLayer=null}getGeoJSON(){return JSON.stringify(this._geojsonObject)}setGeoJSON(t){try{this._geojsonObject=JSON.parse(t)}catch(YE){__.log("no valid geojson given :"+YE.message)}}getData(){var t={type:"isocurve",transport:this._currentTransport,computation:this._currentComputation,exclusions:this._currentExclusions,direction:this._currentDirection,point:this._originPoint.getCoordinate(),results:{}};return Dn.assign(t.results,this._currentIsoResults),t}setData(t){this._currentTransport=t.transport,this._currentComputation=t.computation,this._currentExclusions=t.exclusions,this._currentDirection=t.direction;var e=document.getElementById("GPlocationOriginPointer_1-"+this._uid);e.checked=!0;var n=document.getElementById("GPlocationOriginCoords_1-"+this._uid);n.value="",this._originPoint.setCoordinate(t.point,"EPSG:4326"),this._currentIsoResults=t.results}getContainer(){return this._container}getStyle(){return this._defaultFeatureStyle}compute(t,e,n){this._clear();var i=this._pictoIsoButton.ariaPressed;"true"!==i&&this._pictoIsoButton.click();var r=this.getMap();if(r){var o={direction:"departure",method:"time",transport:"Voiture",exclusions:[]};Dn.assign(o,n),this._originPoint.setCoordinate(t);var s=this._originPoint.getCoordinate(),a=document.getElementById("GPlocationOrigin_1-"+this._uid);if(a.value=s[0].toFixed(4)+" / "+s[1].toFixed(4),this._currentTransport=o.transport,"Voiture"===o.transport?document.getElementById("GPisochronTransportCar-"+this._uid).checked=!0:document.getElementById("GPisochronTransportPedestrian-"+this._uid).checked=!0,this._currentExclusions=o.exclusions,this._currentComputation=o.method,"time"===o.method){var l=e.split(".");this._currentTimeHour=l[0]||0,document.getElementById("GPisochronValueChronInput1-"+this._uid).value=this._currentTimeHour,this._currentTimeMinute=l[1]||0,document.getElementById("GPisochronValueChronInput2-"+this._uid).value=this._currentTimeMinute,document.getElementById("GPisochronChoiceAltChron-"+this._uid).click()}else this._currentDistance=e,document.getElementById("GPisochronValueDistInput-"+this._uid).value=this._currentDistance,document.getElementById("GPisochronChoiceAltDist-"+this._uid).click();this._currentDirection=o.direction,"departure"===o.direction?document.getElementById("GPisochronDirectionSelect-"+this._uid).selectedIndex=0:document.getElementById("GPisochronDirectionSelect-"+this._uid).selectedIndex=1,this.onIsoComputationSubmit()}}init(){var t=this._originPoint.getCoordinate(),e=document.getElementById("GPlocationOrigin_1-"+this._uid);if(e.value=t[1].toFixed(4)+" / "+t[0].toFixed(4),"Voiture"===this._currentTransport?document.getElementById("GPisochronTransportCar-"+this._uid).checked=!0:document.getElementById("GPisochronTransportPedestrian-"+this._uid).checked=!0,"time"===this._currentComputation){var n=this._currentIsoResults.time/60;this._currentTimeHour=Math.floor(n/60),document.getElementById("GPisochronValueChronInput1-"+this._uid).value=this._currentTimeHour,this._currentTimeMinute=Math.round(60*(n/60-this._currentTimeHour)),document.getElementById("GPisochronValueChronInput2-"+this._uid).value=this._currentTimeMinute,document.getElementById("GPisochronChoiceAltChron-"+this._uid).click()}else this._currentDistance=this._currentIsoResults.distance/1e3,document.getElementById("GPisochronValueDistInput-"+this._uid).value=this._currentDistance,document.getElementById("GPisochronChoiceAltDist-"+this._uid).click();"departure"===this._currentDirection?document.getElementById("GPisochronDirectionSelect-"+this._uid).selectedIndex=0:document.getElementById("GPisochronDirectionSelect-"+this._uid).selectedIndex=1}clean(){this._clearIsoInputs(),this._originPoint.clearResults(),document.getElementById("GPlocationPoint_1-"+this._uid).style.cssText="",document.getElementById("GPlocationOriginCoords_1-"+this._uid).value="",document.getElementById("GPlocationOrigin_1-"+this._uid).value="",document.getElementById("GPlocationPoint_1-"+this._uid).style.cssText="",document.getElementById("GPlocationOriginPointer_1-"+this._uid).checked=!1,document.getElementById("GPlocationOrigin_1-"+this._uid).className="GPlocationOriginVisible gpf-visible",document.getElementById("GPlocationOriginCoords_1-"+this._uid).className="GPlocationOriginHidden gpf-hidden",this._currentIsoResults=null,this.setLayer()}initialize(t){this._checkInputOptions(t),this.options={collapsed:!0,draggable:!1,export:!1,methods:["time","distance"],graphs:["Voiture","Pieton"],exclusions:{toll:!1,tunnel:!1,bridge:!1},directions:["departure","arrival"],markerOpts:{url:jn["lightOrange"],offset:jn.defaultOffset},isocurveOptions:{},autocompleteOptions:{},layerDescription:{title:"Isochrone/Isodistance",description:"isochrone/isodistance basé sur un graphe"}},Dn.assign(this.options,t),this.collapsed=this.options.collapsed,this.draggable=this.options.draggable,this._uid=Yc.generate(),this._currentTransport=null,this._initTransport(),this._currentComputation=null,this._initComputation(),this._currentExclusions=[],this._initExclusions(),this._currentDirection=null,this._initDirection(),this._originPoint=null,this._pictoIsoButton=null,this._waitingContainer=null,this._formContainer=null,this._IsoPanelContainer=null,this._IsoPanelHeaderContainer=null,this._currentIsoResults=null,this._geojsonLayer=null,this._geojsonObject=null,this.export=null,this._waiting=!1,this._timer=null,this._defaultFeatureStyle=new Ie.Ay({fill:new Hn.A({color:"rgba(0, 183, 152, 0.7)"}),stroke:new Yn.A({color:"rgba(0, 183, 152, 0)",width:1})}),this._resources={},this.listenerKey=null}_checkInputOptions(t){var e;if(t.methods)if(Array.isArray(t.methods))if(0===t.methods.length)t.methods=null;else for(e=0;e<t.methods.length;e++)"string"!==typeof t.methods[e]&&__.log("[ol.control.Isocurve] ERROR : parameter 'methods' elements should be of type 'string'");else __.warn("'methods' parameter should be an array"),t.methods=null;if(t.graphs)if(Array.isArray(t.graphs))if(0===t.graphs.length)t.graphs=null;else for(e=0;e<t.graphs.length;e++)"string"!==typeof t.graphs[e]?__.log("[ol.control.Isocurve] ERROR : parameter 'graphs' elements should be of type 'string'"):("pieton"===t.graphs[e].toLowerCase()&&(t.graphs[e]="Pieton"),"voiture"===t.graphs[e].toLowerCase()&&(t.graphs[e]="Voiture"));else __.warn("'graphs' parameter should be an array"),t.graphs=null;if(t.directions)if(Array.isArray(t.directions))if(0===t.directions.length)t.directions=null;else for(e=0;e<t.directions.length;e++)"string"!==typeof t.directions[e]&&__.log("[ol.control.Isocurve] ERROR : parameter 'directions' elements should be of type 'string'");else __.warn("'directions' parameter should be an array"),t.directions=null;"true"===t.collapsed&&(t.collapsed=!0),"false"===t.collapsed&&(t.collapsed=!1)}_initTransport(){this._currentTransport="Voiture";var t=this.options.graphs;t&&0!==t.length||(this.options.graphs=["Voiture","Pieton"]),Array.isArray(t)&&t.length&&("Voiture"!==t[0]&&"Pieton"!==t[0]||(this._currentTransport=t[0]));var e=this.options.isocurveOptions;e.graph&&(this._currentTransport=e.graph)}_initComputation(){this._currentComputation="time";var t=this.options.methods;t&&0!==t.length||(this.options.methods=["time","distance"]),Array.isArray(t)&&t.length&&("time"!==t[0]&&"distance"!==t[0]||(this._currentComputation=t[0]));var e=this.options.isocurveOptions;e.method&&(this._currentComputation=e.method),e.time&&(this._currentComputation="time"),e.distance&&(this._currentComputation="distance")}_initDirection(){this._currentDirection="departure";var t=this.options.directions;t&&0!==t.length||(this.options.directions=["departure","arrival"]),Array.isArray(t)&&t.length&&("departure"!==t[0]&&"arrival"!==t[0]||(this._currentDirection=t[0]));var e=this.options.isocurveOptions;e.reverse||(this._currentDirection="departure"),!0===e.reverse&&(this._currentDirection="arrival",this.options.directions=["arrival","departure"])}_initExclusions(){this._currentExclusions=[];var t=this.options.exclusions;if((!t||"object"===typeof t&&0===Object.keys(t).length)&&(this.options.exclusions={toll:!1,tunnel:!1,bridge:!1}),t&&"object"===typeof t&&Object.keys(t).length)for(var e in t)t.hasOwnProperty(e)&&t.k&&this._currentExclusions.push(e);var n=this.options.isocurveOptions;Array.isArray(n.exclusions)&&(this._currentExclusions=n.exclusions)}_initContainer(t){var e=this._container,n=this._pictoIsoButton=this._createShowIsoPictoElement();e.appendChild(n);var i=this._IsoPanelContainer=this._createIsoPanelElement(),r=this._createIsoPanelDivElement();i.appendChild(r);var o=this._IsoPanelHeaderContainer=this._createIsoPanelHeaderElement();r.appendChild(o);var s=this._formContainer=this._createIsoPanelFormElement(),a=this._createIsoPanelFormPointElement(t);s.appendChild(a);for(var l=!1,c=!1,u=this._createIsoPanelFormTypeChoiceElement(),h=0;h<this.options.methods.length;h++)"time"===this.options.methods[h]&&(l=0===h,u.appendChild(this._createIsoPanelFormTypeChoiceChronElement(l))),"distance"===this.options.methods[h]&&(c=0===h,u.appendChild(this._createIsoPanelFormTypeChoiceDistElement(c)));s.appendChild(u),s.appendChild(this._createIsoPanelFormValueIsochronElement(l)),s.appendChild(this._createIsoPanelFormValueIsodistanceElement(c));var d=this._createIsoPanelFormModeChoiceElement();if(d.appendChild(this._createIsoPanelFormModeChoiceTransportElement(this.options.graphs)),d.appendChild(this._createIsoPanelFormModeChoiceDirectionElement(this.options.directions)),s.appendChild(d),this.options.exclusions&&"object"===typeof this.options.exclusions&&0!==Object.keys(this.options.exclusions).length){s.appendChild(this._createShowIsoExclusionsPictoElement());var p=this._createIsoPanelFormExclusionsElement();p.appendChild(this._createIsoPanelFormExclusionOptionsElement(this.options.exclusions)),s.appendChild(p)}var g=this._createIsoPanelFooterElement();s.appendChild(g);var f=this._createIsoFormResetElement();g.appendChild(f);var m=this._submitContainer=this._createIsoSubmitFormElement();g.appendChild(m),r.appendChild(s);var A=this._waitingContainer=this._createIsoWaitingElement();return i.appendChild(A),e.appendChild(i),e.addEventListener&&e.addEventListener("click",(t=>this._hideIsoSuggestedLocations(t))),e}_createIsoPanelFormPointElement(t){this._originPoint=new s_({apiKey:this.options.apiKey||null,tag:{id:1,groupId:this._uid,markerOpts:this.options.markerOpts,label:"Départ",display:!0},autocompleteOptions:this.options.autocompleteOptions||null}),this._originPoint.setMap(t);var e=this;return document.getElementById("GPlocationOriginPointerImg_1-"+this._uid).onclick=function(){e._clearGeojsonLayer();var t=e.getMap();e._originPoint._inputShowPointerContainer.checked?(e._formContainer.className="GPisochronFormMini gpf-panel__content fr-modal__content",this.listenerKey=t.on("click",(()=>{e._formContainer.className="gpf-panel__content fr-modal__content",e.dispatchEvent("isocurve:drawend")}))):(e._formContainer.className="gpf-panel__content fr-modal__content",(0,ur.e)(this.listenerKey)),e.dispatchEvent("isocurve:drawstart")},document.getElementById("GPlocationOriginLabel_1-"+this._uid).onclick=function(){e._clearGeojsonLayer(),e._formContainer.className="gpf-panel__content fr-modal__content",t.un("click",(()=>{e._formContainer.className="gpf-panel__content fr-modal__content"})),e.dispatchEvent("isocurve:drawend")},document.getElementById("GPlocationOrigin_1-"+this._uid).onclick=function(){e._clearGeojsonLayer(),e.dispatchEvent("isocurve:drawend")},this._originPoint._container}onIsoComputationSubmit(){if(this._originPoint&&this._originPoint.getCoordinate&&this._originPoint.getCoordinate()){var t,e,n=this._originPoint.getCoordinate(),i={x:n[0],y:n[1]};if(__.log("origin : ",i),"time"===this._currentComputation.toLowerCase()){var r=document.getElementById("GPisochronValueChronInput1-"+this._uid),o=parseInt(r.value,10);isNaN&&isNaN(o)&&(o=0);var s=document.getElementById("GPisochronValueChronInput2-"+this._uid),a=parseInt(s.value,10);isNaN&&isNaN(a)&&(a=0),t=3600*o+60*a,__.log("time : "+t)}if("distance"===this._currentComputation.toLowerCase()){var l=document.getElementById("GPisochronValueDistInput-"+this._uid);e=1e3*parseFloat(l.value),__.log("distance : "+e)}if(t||e){var c=this.options.isocurveOptions||{},u=c.protocol||"XHR",h=c.timeOut||0;"JSONP"===u&&0===h&&(h=15e3);var d=!(null===c.onFailure||"function"!==typeof c.onFailure),p=!(null===c.onSuccess||"function"!==typeof c.onSuccess),g=this,f={position:i,graph:c.graph||this._currentTransport,exclusions:c.exclusions||this._currentExclusions,method:c.method||this._currentComputation,smoothing:c.smoothing||!0,timeOut:h,protocol:u,resource:c.resource,onSuccess:function(t){__.log(t),t&&g._drawIsoResults(t),p&&c.onSuccess.call(g,t)},onFailure:function(t){g._hideWaitingContainer(),__.log(t.message),d&&c.onFailure.call(g,t)}};("arrival"===this._currentDirection.toLowerCase()||c.reverse)&&(f.reverse=!0),t&&(f.time=t),e&&(f.distance=e),this._requestIsoCurve(f)}else __.log("[Isocurve] Missing time or distance parameter to submit isocurve request")}else __.log("[Isocurve] Missing position parameter to submit isocurve request")}onShowIsoPanelClick(){var t=this.getMap();Un.unset(t);var e=this._pictoIsoButton.ariaPressed;this.collapsed=!("true"===e),this.dispatchEvent("change:collapsed")}onIsoTypeChoiceChange(t){var e=t.target.value;e&&("isodistance"===e&&(this._currentComputation="distance"),"isochron"===e&&(this._currentComputation="time"))}onIsoModeTransportChange(t){var e=t.target.value;e&&(this._currentTransport=e)}onIsoModeDirectionChange(t){var e=t.target.value;e&&("arrival"===e.toLowerCase()?this._originPoint._buttonLabel.innerHTML="Arrivée":this._originPoint._buttonLabel.innerHTML="Départ",this._currentDirection=e)}onIsoExclusionsChange(t){var e=t.target.value,n=t.target.checked;if(e){for(var i=!1,r=null,o=0;o<this._currentExclusions.length;o++)E_(this._currentExclusions[o],e.toLowerCase())&&(r=o,i=!0);i||n||this._currentExclusions.push(e.toLowerCase()),i&&n&&(this._currentExclusions[r]=null)}}onIsoResetClick(){this._clear()}onShowIsoSettingsClick(){}_requestIsoCurve(t){!t||"object"===typeof t&&0===Object.keys(t).length||t.position&&("boolean"!==typeof t.ssl&&("boolean"===typeof this.options.ssl?t.ssl=this.options.ssl:t.ssl=!0),__.log(t),this._clearGeojsonLayer(),this._displayWaitingContainer(),bn.Ay.Services.isoCurve(t))}_drawIsoResults(t){if(this._currentIsoResults=t,this._hideWaitingContainer(),t.geometry){var e=this.getMap();this._geojsonObject={type:"FeatureCollection",crs:{type:"name",properties:{name:"EPSG:4326"}},features:[{type:"Feature",crs:{type:"name",properties:{name:"EPSG:4326"}},geometry:t.geometry}]},this._geojsonObject.features.push({type:"Feature",geometry:{type:"Point",coordinates:this._originPoint.getCoordinate()},properties:{description:"Point d'origine","marker-symbol":this.options.markerOpts.url}});var n,i=new ui({defaultDataProjection:"EPSG:4326",defaultStyle:this._defaultFeatureStyle}),r=e.getView().getProjection().getCode(),o=i.readFeatures(this._geojsonObject,{dataProjection:"EPSG:4326",featureProjection:r});if(this._geojsonLayer=new _e.A({source:new _t.A({features:o}),style:this._defaultFeatureStyle,opacity:.9}),"Pieton"===this._currentTransport?(n="piéton",this._geojsonLayer.gpResultLayerId="Pieton$GEOPORTAIL:GPP:Isocurve"):(n="voiture",this._geojsonLayer.gpResultLayerId="Voiture$GEOPORTAIL:GPP:Isocurve"),e.addLayer(this._geojsonLayer),this.dispatchEvent({type:"isocurve:compute"}),o[0]&&o[0].getGeometry()&&o[0].getGeometry().getExtent()){var s=o[0].getGeometry().getExtent();e.getView().fit(s,e.getSize())}var a="time"===this._currentComputation?"Isochrone":"Isodistance";e.getControls().forEach((t=>{if(t instanceof Ad){var e=this._geojsonLayer.gpLayerId;t._layers[e].title===e&&t.addLayer(this._geojsonLayer,{title:this.options.layerDescription.title+" ("+a+"/"+n+")",description:this.options.layerDescription.description})}}))}}_clear(){this._clearIsoInputs(),this._originPoint.clear(),this._clearGeojsonLayer(),this._currentIsoResults=null}_clearIsoInputs(){var t=document.getElementById("GPisochronValueChronInput1-"+this._uid);t&&(t.value="0");var e=document.getElementById("GPisochronValueChronInput2-"+this._uid);e&&(e.value="0");var n,i,r=document.getElementById("GPisochronValueDistInput-"+this._uid);r&&(r.value="0"),this._initTransport(),this._initComputation(),this._initDirection(),this._initExclusions(),"Pieton"===this._currentTransport?(n=document.getElementById("GPisochronTransportPedestrian-"+this._uid),n&&(n.checked="true")):(n=document.getElementById("GPisochronTransportCar-"+this._uid),n&&(n.checked="true")),"distance"===this._currentComputation.toLowerCase()?(i=document.getElementById("GPisochronChoiceAltDist-"+this._uid),i&&(i.checked="true"),document.getElementById("GPisochronValueDist-"+this._uid)&&(document.getElementById("GPisochronValueDist-"+this._uid).className="GPflexInput gpf-flex"),document.getElementById("GPisochronValueChron-"+this._uid)&&(document.getElementById("GPisochronValueChron-"+this._uid).className="GPelementHidden gpf-hidden")):(i=document.getElementById("GPisochronChoiceAltChron-"+this._uid),i&&(i.checked="true"),document.getElementById("GPisochronValueChron-"+this._uid)&&(document.getElementById("GPisochronValueChron-"+this._uid).className="GPflexInput gpf-flex"),document.getElementById("GPisochronValueDist-"+this._uid)&&(document.getElementById("GPisochronValueDist-"+this._uid).className="GPelementHidden gpf-hidden"));var o=document.getElementById("GPisochronDirectionSelect-"+this._uid);o&&(o.value=this._currentDirection),"arrival"===this._currentDirection?this._originPoint._buttonLabel.innerHTML="Arrivée":this._originPoint._buttonLabel.innerHTML="Départ";var s=document.getElementById("GPisoExclusionsToll-"+this._uid);s&&(-1!==this._currentExclusions.indexOf("toll")?s.checked=!1:s.checked=!0);var a=document.getElementById("GPisoExclusionsTunnel-"+this._uid);a&&(-1!==this._currentExclusions.indexOf("tunnel")?a.checked=!1:a.checked=!0);var l=document.getElementById("GPisoExclusionsBridge-"+this._uid);l&&(-1!==this._currentExclusions.indexOf("bridge")?l.checked=!1:l.checked=!0)}_clearGeojsonLayer(){var t=this.getMap();this._geojsonLayer&&(t.removeLayer(this._geojsonLayer),this._geojsonLayer=null),this._geojsonObject=null}_hideIsoSuggestedLocations(t){t.target&&t.target.id&&-1!==t.target.id.indexOf("GPlocationOrigin_")||this._originPoint._hideSuggestedLocation()}_displayWaitingContainer(){this._waitingContainer.className="GPwaitingContainer GPwaitingContainerVisible gpf-waiting gpf-waiting--visible",this._waiting=!0;var t=this.options.isocurveOptions;if(t&&t.timeOut){this._timer&&(clearTimeout(this._timer),this._timer=null);var e=this;this._timer=setTimeout((function(){!0===e._waiting?e._hideWaitingContainer():e._timer&&clearTimeout(e._timer)}),16e3)}}_hideWaitingContainer(){if(this._waiting){this._waitingContainer.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden",this._waiting=!1;var t=this.options.isocurveOptions;t&&t.timeOut&&(clearTimeout(this._timer),this._timer=null)}}};Object.assign(C_.prototype,v_);var I_=C_;window.ol&&window.ol.control&&(window.ol.control.Isocurve=C_);const E_=function(t,e){if(t===e)return!0;if("object"===typeof t&&null!=t&&"object"===typeof e&&null!=e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t){if(!e.hasOwnProperty(n))return!1;if(!E_(t[n],e[n]))return!1}return!0}return!1};var w_={_addUID:function(t){var e=this._uid?t+"-"+this._uid:t;return e},_createMainContainerElement:function(){var t=document.createElement("div");return t.id=this._addUID("GPreverseGeocoding"),t.className="GPwidget gpf-widget",t},_createShowReverseGeocodingPictoElement:function(){var t=this,e=document.createElement("button");return e.id=this._addUID("GPshowReverseGeocodingPicto"),e.className="GPshowOpen GPshowAdvancedToolPicto GPshowReverseGeocodingPicto gpf-btn gpf-btn-icon-reverse fr-btn",e.title="Ouvrir la recherche inverse",e.setAttribute("tabindex","0"),e.setAttribute("aria-pressed",!1),e.addEventListener?e.addEventListener("click",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t.onShowReverseGeocodingClick()})):e.attachEvent&&e.attachEvent("onclick",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t.onShowReverseGeocodingClick()})),e},_createReverseGeocodingWaitingElement:function(){var t=document.createElement("div");t.id=this._addUID("GPreverseGeocodingCalcWaitingContainer"),t.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden";var e=document.createElement("p");return e.className="GPwaitingContainerInfo gpf-waiting_info",e.innerHTML="Recherche en cours...",t.appendChild(e),t},_createReverseGeocodingResultsPanelElement:function(){var t=document.createElement("div");return t.id=this._addUID("GPreverseGeocodingResultsPanel"),t.className="GPpanel GPelementHidden gpf-panel gpf-panel-reverse gpf-panel--hidden",t},_createReverseGeocodingResultsListElement:function(){var t=document.createElement("div");return t.id=this._addUID("GPreverseGeocodingResultsList"),t.className="gpf-panel__list",t.setAttribute("tabindex","0"),t},_createReverseGeocodingResultElement:function(t,e){var n=this,i=document.getElementById(this._addUID("GPreverseGeocodingResultsList")),r=document.createElement("div");r.id=this._addUID("GPreverseGeocodedLocation_"+e),r.setAttribute("tabindex","0"),r.className="GPautoCompleteProposal gpf-panel__items",r.innerHTML=t,r.title=t,r.addEventListener?(r.addEventListener("mouseover",(function(t){n.onReverseGeocodingResultMouseOver(t)})),r.addEventListener("focus",(function(t){n.onReverseGeocodingResultMouseOver(t)})),r.addEventListener("mouseout",(function(t){n.onReverseGeocodingResultMouseOut(t)})),r.addEventListener("blur",(function(t){n.onReverseGeocodingResultMouseOut(t)})),r.addEventListener("click",(function(t){"function"===typeof n.onReverseGeocodingResultClick&&n.onReverseGeocodingResultClick(t)}))):r.attachEvent&&(r.attachEvent("onmouseover",(function(t){n.onReverseGeocodingResultMouseOver(t)})),r.attachEvent("onmouseout",(function(t){n.onReverseGeocodingResultMouseOut(t)})),r.attachEvent("onclick",(function(t){"function"===typeof n.onReverseGeocodingResultClick&&n.onReverseGeocodingResultClick(t)}))),i.appendChild(r)},_createReverseGeocodingPanelElement:function(){var t=document.createElement("dialog");return t.id=this._addUID("GPreverseGeocodingPanel"),t.className="GPpanel gpf-panel fr-modal",t},_createReverseGeocodingPanelDivElement:function(){var t=document.createElement("div");return t.className="gpf-panel__body fr-modal__body",t},_createReverseGeocodingPanelHeaderElement:function(){var t=document.createElement("div");return t.className="GPpanelHeader gpf-panel__header fr-modal__header",t},_createReverseGeocodingPanelReturnPictoElement:function(){var t=this,e=document.createElement("button");return e.id=this._addUID("GPreverseGeocodingReturnPicto"),e.title="Nouvelle recherche",e.className="GPreturnPicto GPreverseGeocodingReturnPicto gpf-btn gpf-btn-icon-return fr-btn",e.classList.add("GPelementHidden"),e.classList.add("gpf-hidden"),e.addEventListener?e.addEventListener("click",(function(e){document.getElementById(t._addUID("GPreverseGeocodingResultsPanel")).className="GPelementHidden gpf-panel--hidden",document.getElementById(t._addUID("GPreverseGeocodingForm")).className="GPform gpf-panel__content fr-modal__content",document.getElementById(t._addUID("GPreverseGeocodingHeaderTitle")).innerHTML="Recherche inverse",document.getElementById(t._addUID("GPreverseGeocodingReturnPicto")).classList.add("GPelementHidden"),document.getElementById(t._addUID("GPreverseGeocodingReturnPicto")).classList.add("gpf-hidden"),t.onGPreverseGeocodingReturnPictoClick(e)})):e.attachEvent&&e.attachEvent("onclick",(function(e){document.getElementById(t._addUID("GPreverseGeocodingResultsPanel")).className="GPelementHidden gpf-panel--hidden",document.getElementById(t._addUID("GPreverseGeocodingForm")).className="GPform gpf-panel__content fr-modal__content",document.getElementById(t._addUID("GPreverseGeocodingHeaderTitle")).innerHTML="Recherche inverse",document.getElementById(t._addUID("GPreverseGeocodingReturnPicto")).classList.add("GPelementHidden"),document.getElementById(t._addUID("GPreverseGeocodingReturnPicto")).classList.add("gpf-hidden"),t.onGPreverseGeocodingReturnPictoClick(e)})),e},_createReverseGeocodingPanelTitleElement:function(){var t=document.createElement("div");return t.className="GPpanelTitle gpf-panel__title fr-modal__title",t.id=this._addUID("GPreverseGeocodingHeaderTitle"),t.innerHTML="Recherche inverse",t},_createReverseGeocodingPanelCloseElement:function(){var t=this,e=document.createElement("button");e.id=this._addUID("GPreverseGeocodingPanelClose"),e.className="GPpanelClose GPreverseGeocodingPanelClose gpf-btn gpf-btn-icon-close fr-btn--close fr-btn",e.title="Fermer le panneau",e.addEventListener?(e.addEventListener("click",(function(){document.getElementById(t._addUID("GPshowReverseGeocodingPicto")).click()}),!1),e.addEventListener("keydown",(function(e){13===e.keyCode&&document.getElementById(t._addUID("GPshowReverseGeocodingPicto")).click()}),!1)):e.attachEvent&&(e.attachEvent("onclick",(function(){document.getElementById(t._addUID("GPshowReverseGeocodingPicto")).click()})),e.attachEvent("onkeydown",(function(e){13===e.keyCode&&document.getElementById(t._addUID("GPshowReverseGeocodingPicto")).click()})));var n=document.createElement("span");return n.className="GPelementHidden gpf-visible",n.innerText="Fermer",e.appendChild(n),e},_createReverseGeocodingPanelFormElement:function(){var t=this,e=document.createElement("form");return e.id=this._addUID("GPreverseGeocodingForm"),e.className="GPform gpf-panel__content fr-modal__content",e.addEventListener?e.addEventListener("submit",(function(e){e.preventDefault(),t.onReverseGeocodingSubmit()})):e.attachEvent&&e.attachEvent("onsubmit",(function(e){e.preventDefault(),t.onReverseGeocodingSubmit()})),e},_createReverseGeocodingFormModeChoiceGeocodingTypeElement:function(t){var e=this,n=document.createElement("div");n.className="GPflexInput gpf-flex gpf-flex-reverse";var i=document.createElement("label");i.id="label-recherche-par",i.className="GPlabel gpf-label fr-label",i.innerHTML="Recherche par",i.title="Recherche par",n.appendChild(i);var r=document.createElement("select");r.setAttribute("aria-labelledby","label-recherche-par"),r.className="GPselect gpf-select fr-select",r.addEventListener?r.addEventListener("change",(function(t){e.onReverseGeocodingTypeChange(t)})):r.attachEvent&&r.attachEvent("onchange",(function(t){e.onReverseGeocodingTypeChange(t)})),t&&Array.isArray(t)||(t=["StreetAddress","PositionOfInterest","CadastralParcel"]);for(var o=0;o<t.length;o++)switch(t[o]){case"PositionOfInterest":var s=document.createElement("option");s.value="PositionOfInterest",s.text="Lieux/toponymes",r.appendChild(s);break;case"StreetAddress":var a=document.createElement("option");a.value="StreetAddress",a.text="Adresses",r.appendChild(a);break;case"CadastralParcel":var l=document.createElement("option");l.value="CadastralParcel",l.text="Parcelles cadastrales",r.appendChild(l);break;default:break}return n.appendChild(r),n},_createReverseGeocodingFormModeChoiceGeocodingDelimitationElement:function(t){var e=this,n=document.createElement("div");n.className="GPflexInput gpf-flex gpf-flex-reverse";var i=document.createElement("label");i.id="label-delimitation",i.className="GPlabel gpf-label fr-label",i.innerHTML="Délimitation",i.title="Délimitation",n.appendChild(i);var r=document.createElement("select");r.setAttribute("aria-labelledby","label-delimitation"),r.className="GPselect gpf-select fr-select",r.addEventListener?r.addEventListener("change",(function(t){e.onReverseGeocodingDelimitationChange(t)})):r.attachEvent&&r.attachEvent("onchange",(function(t){e.onReverseGeocodingDelimitationChange(t)})),t&&Array.isArray(t)||(t=["Point","Circle","Extent"]);for(var o=0;o<t.length;o++)switch(t[o].toLowerCase()){case"point":var s=document.createElement("option");s.value="point",s.text="Pointer un lieu",r.appendChild(s);break;case"circle":var a=document.createElement("option");a.value="circle",a.text="Dessiner un cercle",r.appendChild(a);break;case"extent":var l=document.createElement("option");l.value="extent",l.text="Dessiner une emprise",r.appendChild(l);break;default:break}return n.appendChild(r),n},_createReverseGeocodingSubmitFormElement:function(){var t=document.createElement("input");return t.id=this._addUID("GPreverseGeocodingSubmit"),t.className="GPsubmit gpf-btn fr-btn",t.type="submit",t.value="Rechercher",t}},b_=w_,x_=Pn.getLogger("reversegeocoding"),S_=class t extends jc{constructor(e){if(e=e||{},super({element:e.element,target:e.target,render:e.render}),!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return this.initialize(e),this.container=this._initContainer(),this.element?this.element.appendChild(this.container):this.element=this.container,this}getCollapsed(){return this.collapsed}setCollapsed(t){void 0!==t?t&&this.collapsed||!t&&!this.collapsed||(t?this._panelCloseButton.click():this._showReverseGeocodingButton.click(),this.collapsed=t):x_.log("[ERROR] ReverseGeocode:setCollapsed - missing collapsed parameter")}setMap(t){if(t)this._activateMapInteraction(t),this.draggable&&Dd.dragElement(this._panelContainer,this._panelHeaderContainer,this.options.position?null:t.getTargetElement()),this.collapsed||this._showReverseGeocodingButton.setAttribute("aria-pressed",!0);else{var e=this.getMap();this._clearResults(),this._clearInputFeatures(),this._removeMapInteraction(e),null!=this._inputFeaturesLayer&&(e.removeLayer(this._inputFeaturesLayer),this._inputFeaturesLayer=null,this._inputFeaturesSources=null,this._inputFeatures=null)}super.setMap(t),this.options.position&&this.setPosition(this.options.position)}getData(){return this._reverseGeocodingLocations}initialize(t){this._checkInputOptions(t),this.options={collapsed:!0,draggable:!1,resources:["StreetAddress","PositionOfInterest","CadastralParcel"],delimitations:["Point","Circle","Extent"],reverseGeocodeOptions:{},layerDescription:{title:"Saisie (recherche inverse)",description:"Couche de saisie d'une zone de recherche pour la recherche inverse"}},Dn.assign(this.options,t),this.collapsed=this.options.collapsed,this.draggable=this.options.draggable,this._uid=Yc.generate(),this._currentGeocodingType=null,this._initGeocodingType(),this._currentGeocodingDelimitation=null,this._initGeocodingDelimitation(),this._showReverseGeocodingButton=null,this._panelContainer=null,this._panelHeaderContainer=null,this._panelTitleContainer=null,this._returnPictoContainer=null,this._panelCloseButton=null,this._formContainer=null,this._resultsContainer=null,this._resultsListContainer=null,this._waitingContainer=null,this._inputFeatures=null,this._inputFeaturesSource=null,this._inputFeaturesLayer=null,this._mapInteraction=null,this._requestOptions=null,this._requestGeom=null,this._requestPosition=null,this._waiting=!1,this._timer=null,this._reverseGeocodingLocations=[],this._reverseGeocodingLocationsMarkers=[],this._resultsDefaultStyle=new Ie.Ay({image:new Vn.A({src:jn["lightOrange"],anchor:[.5,1]})}),this._resultsSelectedStyle=new Ie.Ay({image:new Vn.A({src:jn["red"],anchor:[.5,1]})}),this._resultsHoverInteraction=null,this._resultsSelectInteraction=null,this._popupContent=null,this._popupDiv=this._initPopupDiv(),this._popupOverlay=null}_checkInputOptions(t){var e,n;if(t.resources){var i=t.resources;if(Array.isArray(i)){var r=["StreetAddress","PositionOfInterest","CadastralParcel"],o=[];for(e=0;e<i.length;e++)-1===r.indexOf(i[e])&&(o.push(e),x_.log("[ReverseGeocode] options.resources : "+i[e]+" is not a resource for reverse geocode"));if(0!==o.length)for(n=0;n<o.length;n++)i.splice(o[n],1)}else x_.log("[ReverseGeocode] 'options.resources' parameter should be an array"),i=null}if(t.delimitations){var s=t.delimitations;if(Array.isArray(s)){var a=["Circle","Point","Extent"],l=[];for(e=0;e<s.length;e++)-1===a.indexOf(s[e])&&(l.push(e),x_.log("[ReverseGeocode] options.delimitations : "+s[e]+" is not a delimitation for reverse geocode"));if(0!==l.length)for(n=0;n<l.length;n++)s.splice(l[n],1)}else x_.log("[ReverseGeocode] 'options.delimitations' parameter should be an array"),s=null}}_initGeocodingType(){this._currentGeocodingType="StreetAddress";var t=this.options.resources;t&&0!==t.length||(this.options.resources=["StreetAddress","PositionOfInterest","CadastralParcel"]),Array.isArray(t)&&t.length&&("StreetAddress"!==t[0]&&"PositionOfInterest"!==t[0]&&"CadastralParcel"!==t[0]||(this._currentGeocodingType=t[0]));var e=this.options.reverseGeocodeOptions;e.filterOptions&&Array.isArray(e.filterOptions.type)&&0!==e.filterOptions.type.length&&(this._currentGeocodingType=e.filterOptions.type[0])}_initGeocodingDelimitation(){this._currentGeocodingDelimitation="Point";var t=this.options.delimitations;if(t&&0!==t.length||(this.options.delimitations=["Point","Circle","Extent"]),Array.isArray(t)&&t.length){var e=t[0].toLowerCase();"point"!==e&&"circle"!==e&&"extent"!==e||(this._currentGeocodingDelimitation=t[0])}}_initPopupDiv(){var t=this,e=document.createElement("div");e.className="gp-feature-info-div";var n=document.createElement("input");return n.type="button",n.className="gp-styling-button closer",n.onclick=function(){return null!=t._popupOverlay&&t._popupOverlay.setPosition(void 0),!1},this._popupContent=document.createElement("div"),this._popupContent.className="gp-features-content-div",e.appendChild(this._popupContent),e.appendChild(n),e}_initContainer(){var t=this._createMainContainerElement(),e=this._showReverseGeocodingButton=this._createShowReverseGeocodingPictoElement();t.appendChild(e);var n=this._panelContainer=this._createReverseGeocodingPanelElement(),i=this._createReverseGeocodingPanelDivElement();n.appendChild(i);var r=this._panelHeaderContainer=this._createReverseGeocodingPanelHeaderElement(),o=this._returnPictoContainer=this._createReverseGeocodingPanelReturnPictoElement();r.appendChild(o);var s=this._panelTitleContainer=this._createReverseGeocodingPanelTitleElement();r.appendChild(s);var a=this._panelCloseButton=this._createReverseGeocodingPanelCloseElement();r.appendChild(a),i.appendChild(r);var l=this._formContainer=this._createReverseGeocodingPanelFormElement();l.appendChild(this._createReverseGeocodingFormModeChoiceGeocodingTypeElement(this.options.resources)),l.appendChild(this._createReverseGeocodingFormModeChoiceGeocodingDelimitationElement(this.options.delimitations));var c=this._createReverseGeocodingSubmitFormElement();l.appendChild(c),i.appendChild(l);var u=this._waitingContainer=this._createReverseGeocodingWaitingElement();i.appendChild(u);var h=this._resultsContainer=this._createReverseGeocodingResultsPanelElement(),d=this._resultsListContainer=this._createReverseGeocodingResultsListElement();return h.appendChild(d),i.appendChild(h),t.appendChild(n),x_.log(t),t}_activateMapInteraction(t){if(!this.collapsed){null==this._inputFeaturesLayer&&(this._inputFeatures=new me.A,this._inputFeaturesSource=new _t.A({features:this._inputFeatures}),this._inputFeaturesLayer=new _e.A({source:this._inputFeaturesSource,style:new Ie.Ay({fill:new Hn.A({color:"rgba(0, 183, 152, 0.3)"}),stroke:new Yn.A({color:"rgba(0, 183, 152, 0.8)",width:3}),image:new Vn.A({src:jn["turquoiseBlue"],anchor:[.5,1]})})}),this._inputFeaturesLayer.gpResultLayerId="reverseGeocoding",t.addLayer(this._inputFeaturesLayer));var e=this._currentGeocodingDelimitation.toLowerCase();switch(e){case"point":this._activatePointInteraction(t);break;case"circle":this._activateCircleInteraction(t);break;case"extent":this._activateBoxInteraction(t);break;default:break}t.getControls().forEach((t=>{if(t instanceof Ad){var e=this._inputFeaturesLayer.gpLayerId;t._layers[e].title===e&&(t.addLayer(this._inputFeaturesLayer,{title:this.options.layerDescription.title,description:this.options.layerDescription.description}),t.setRemovable(this._inputFeaturesLayer,!1))}}))}}_activatePointInteraction(t){this._mapInteraction=new wn({style:new Ie.Ay({image:new Wn.A({radius:0,fill:new Hn.A({color:"rgba(0, 183, 152, 0.8)"})})}),type:"Point",source:this._inputFeaturesSource}),this._mapInteraction.on("drawstart",(t=>{x_.log("on drawstart ",t),this._inputFeatures.clear(),this._onDrawStart(t,"point")})),this._mapInteraction.on("drawend",(t=>{x_.log("on drawend",t),t.feature&&t.feature.getGeometry&&(this._requestGeom={type:"Point",coordinates:[this._requestPosition.lon,this._requestPosition.lat]})})),t.addInteraction(this._mapInteraction),this._setCursor("crosshair",t)}_activateCircleInteraction(t){this._mapInteraction=new wn({style:new Ie.Ay({fill:new Hn.A({color:"rgba(0, 183, 152, 0.3)"}),stroke:new Yn.A({color:"rgba(0, 183, 152, 0.8)",width:3}),image:new Wn.A({radius:4,fill:new Hn.A({color:"rgba(0, 183, 152, 0.8)"})})}),type:"Circle",source:this._inputFeaturesSource}),this._mapInteraction.on("drawstart",(t=>{x_.log("on drawstart ",t),this._inputFeatures.clear(),this._onDrawStart(t,"circle")})),this._mapInteraction.on("drawend",(t=>{if(x_.log("on drawend",t),t.feature&&t.feature.getGeometry){var e=t.feature.getGeometry().getRadius();this._requestGeom={},this._requestGeom.type="Circle",this._requestGeom.radius=e,this._requestPosition&&(this._requestGeom.coordinates=[this._requestPosition.lon,this._requestPosition.lat]),x_.log("circle radius : ",e)}})),t.addInteraction(this._mapInteraction)}_activateBoxInteraction(t){var e=function(t,e){e||(e=new De.Ay([]));var n=t[0],i=t[1];return e.setCoordinates([[n,[n[0],i[1]],i,[i[0],n[1]],n]]),e};this._mapInteraction=new wn({style:new Ie.Ay({fill:new Hn.A({color:"rgba(0, 183, 152, 0.3)"}),stroke:new Yn.A({color:"rgba(0, 183, 152, 0.8)",width:3}),image:new Wn.A({radius:4,fill:new Hn.A({color:"rgba(0, 183, 152, 0.8)"})})}),type:"LineString",source:this._inputFeaturesSource,maxPoints:2,geometryFunction:e}),this._mapInteraction.on("drawstart",(t=>{x_.log("on drawstart",t),this._inputFeatures.clear(),this._onDrawStart(t,"polygon")})),this._mapInteraction.on("drawend",(t=>{x_.log("on drawend",t),this._onBoxDrawEnd(t)})),t.addInteraction(this._mapInteraction)}_removeMapInteraction(t){null!=this._mapInteraction&&(t.removeInteraction(this._mapInteraction),this._mapInteraction=null),this._setCursor()}_onDrawStart(t,e){var n;if(t.feature&&t.feature.getGeometry){var i=t.feature.getGeometry();"point"===e&&(n=i.getCoordinates()),"circle"===e&&(n=i.getCenter()),"polygon"===e&&(n=i.getFirstCoordinate())}if(n){var r;if(this.options.reverseGeocodeOptions&&this.options.reverseGeocodeOptions.srs)r=this.options.reverseGeocodeOptions.srs;else{var o=this.getMap();if(!o||!o.getView())return;r=o.getView().getProjection()}var s=(0,Z.pd)(n,r,"EPSG:4326");this._requestPosition={lon:s[0],lat:s[1]},x_.log("position coordinates : ",this._requestPosition)}}_onBoxDrawEnd(t){if(t.feature&&t.feature.getGeometry){var e,n=t.feature.getGeometry().getCoordinates()[0],i=n[0],r=n[2];if(this.options.reverseGeocodeOptions&&this.options.reverseGeocodeOptions.srs)e=this.options.reverseGeocodeOptions.srs;else{var o=this.getMap();if(!o||!o.getView())return;e=o.getView().getProjection()}var s=(0,Z.pd)(i,e,"EPSG:4326"),a=(0,Z.pd)(r,e,"EPSG:4326"),l={};s[0]<a[0]?(l.left=s[0],l.right=a[0]):(l.left=a[0],l.right=s[0]),s[1]<a[1]?(l.bottom=s[1],l.top=a[1]):(l.bottom=a[1],l.top=s[1]),this._requestGeom={type:"Polygon",coordinates:[[[l.left,l.top],[l.left,l.bottom],[l.right,l.bottom],[l.right,l.top],[l.left,l.top]]]},x_.log("searchGeometry filter : ",this._requestGeom)}}_setCursor(t,e){if(e=e||this.getMap(),e){var n=e.getTargetElement();n.style.cursor=t||null}}_reverseGeocodingRequest(){var t=this.getMap();this._requestOptions=this._getReverseGeocodingRequestOptions(),this._removeMapInteraction(t),this._displayWaitingContainer(),bn.Ay.Services.reverseGeocode(this._requestOptions)}_getReverseGeocodingRequestOptions(){var t=this.getMap(),e=this.options.reverseGeocodeOptions,n=this;"boolean"!==typeof this.options.ssl&&(this.options.ssl=!0);var i=!(null===e.onFailure||"function"!==typeof e.onFailure),r=!(null===e.onSuccess||"function"!==typeof e.onSuccess),o={apiKey:e.apiKey||this.options.apiKey,ssl:this.options.ssl,position:this._requestPosition,filterOptions:{type:[this._currentGeocodingType]},srs:"CRS:84",returnFreeForm:!1,maximumResponses:e.maximumResponses||18,timeOut:e.timeOut||3e4,onSuccess:function(t){t.locations&&(x_.log("reverseGeocode results : ",t.locations),n._displayGeocodedLocations(t.locations)),r&&e.onSuccess.call(n,t.locations)},onFailure:function(r){n._hideWaitingContainer(),n._clearResults(),n._clearInputFeatures(),n._activateMapInteraction(t),x_.log(r.message),i&&e.onFailure.call(n,r)}};return"circle"===this._requestGeom.type.toLowerCase()?(this._requestGeom.radius>500&&(x_.log("INFO : initial circle radius ("+this._requestGeom.radius+") limited to 1000m."),this._requestGeom.radius=500),o.searchGeometry=this._requestGeom):"polygon"===this._requestGeom.type.toLowerCase()?o.searchGeometry=this._requestGeom:"point"===this._requestGeom.type.toLowerCase()&&("StreetAddress"===this._currentGeocodingType?(o.searchGeometry={type:"Circle",radius:50,coordinates:this._requestGeom.coordinates},o.maximumResponses=1):o.searchGeometry=this._requestGeom),x_.log("reverseGeocode request options : ",o),o}_displayGeocodedLocations(t){this._clearResults(),this._reverseGeocodingLocations=t,this.dispatchEvent({type:"reversegeocode:compute"}),this._formContainer.className="GPelementHidden gpf-hidden",this._hideWaitingContainer(),this._panelTitleContainer.innerHTML="Résultats de la recherche",this._returnPictoContainer.classList.remove("GPelementHidden"),this._returnPictoContainer.classList.remove("gpf-hidden"),this._resultsContainer.className="GPpanel gpf-panel gpf-panel-reverse",this._fillGeocodedLocationListContainer(t),this._displayGeocodedLocationsOnMap(t)}_fillGeocodedLocationListContainer(t){for(var e=0;e<t.length;e++){var n=t[e];x_.log(n);var i=this._fillGeocodedLocationDescription(n);0!==i.length&&this._createReverseGeocodingResultElement(i,e)}}_fillGeocodedLocationDescription(t){if(t&&t.placeAttributes){var e=t.placeAttributes,n="";switch(t.type){case"StreetAddress":e.street&&(n+=e.housenumber?e.housenumber+" ":"",n+=e.street+", "),n+=e.postcode+" "+e.city;break;case"PositionOfInterest":n+=e.toponym,1===e.postcode.length&&(n+=", "+e.postcode[0]),n+=" ("+e.category.join(",")+")";break;case"CadastralParcel":n+=e.id,n+=e.city?" ("+e.city+")":"";break;default:n+=e.city?e.city:"";break}return n}}_displayGeocodedLocationsOnMap(t){if(0!==this._reverseGeocodingLocations.length){var e=this.getMap();this._createResultsLayer();for(var n=0;n<t.length;n++)this._addResultFeature(t[n],n);if(this._resultsFeatures.getLength()>1){if(this._resultsFeaturesSource&&this._resultsFeaturesSource.getExtent){var i=this._resultsFeaturesSource.getExtent();e.getView().fit(i,e.getSize())}}else{var r=this._resultsFeatures.item(0),o=r.getGeometry().getCoordinates();e.getView().setCenter(o),e.getView().setZoom(17)}this._resultsHoverInteraction=new Me({condition:Ee.N1,layers:[this._resultsFeaturesLayer]}),this._resultsHoverInteraction.on("select",(t=>this._onResultsFeatureMouseOver(t))),e.addInteraction(this._resultsHoverInteraction),this._resultsSelectInteraction=new Me({layers:[this._resultsFeaturesLayer]}),this._resultsSelectInteraction.on("select",(t=>this._onResultsFeatureSelect(t))),e.addInteraction(this._resultsSelectInteraction);var s="";switch(this._currentGeocodingType){case"StreetAddress":s="adresses";break;case"PositionOfInterest":s="toponymes";break;case"CadastralParcel":s="parcelles cadastrales";break;default:break}e.getControls().forEach((t=>{if(t instanceof Ad){var e=this._resultsFeaturesLayer.gpLayerId;t._layers[e].title===e&&(t.addLayer(this._resultsFeaturesLayer,{title:"Résultats de la recherche inverse",description:"Résultats de la recherche inverse sur les "+s}),t.setRemovable(this._resultsFeaturesLayer,!1))}}))}}_createResultsLayer(){var t=this.getMap();this._resultsFeatures=new me.A,this._resultsFeaturesSource=new _t.A({features:this._resultsFeatures}),this._resultsFeaturesLayer=new _e.A({source:this._resultsFeaturesSource}),this._resultsFeaturesLayer.gpResultLayerId="reverseGeocodingResults",t.addLayer(this._resultsFeaturesLayer)}_addResultFeature(t,e){var n=this.getMap(),i=[t.position.lon,t.position.lat];if(0!==i.length){var r=n.getView(),o=r.getProjection().getCode();"EPSG:4326"!==o&&(i=(0,Z.pd)(i,"EPSG:4326",o));var s=new ye.A({geometry:new Te.A(i)});s.setStyle(this._resultsDefaultStyle),s.setId(e),s.setProperties({location:t,popupContent:this._fillPopupContent(t)}),this._resultsFeatures.push(s)}}_fillPopupContent(t){var e="<ul>",n=t.placeAttributes;for(var i in n)n.hasOwnProperty(i)&&"trueGeometry"!==i&&"extraFields"!==i&&"houseNumberInfos"!==i&&"_count"!==i&&(e+="<li>",e+='<span class="gp-attname-others-span">'+i.toUpperCase()+" : </span>",e+=n[i],e+=" </li>");return e+=" </ul>",e}_onResultsFeatureMouseOver(t){var e;if(0!==t.selected.length){if(e=t.selected[0],e.setStyle(this._resultsSelectedStyle),null!=e.getId()){var n=document.getElementById("GPreverseGeocodedLocation_"+e.getId()+"-"+this._uid);n&&n.classList&&n.classList.add("GPlocationHighlight")}document.getElementById("GPreverseGeocodedLocation_"+e.getId()+"-"+this._uid)}if(0!==t.deselected.length){e=t.deselected[0],e.setStyle(this._resultsDefaultStyle);var i=document.getElementById("GPreverseGeocodedLocation_"+e.getId()+"-"+this._uid);i&&i.classList&&i.classList.remove("GPlocationHighlight")}}_onResultsFeatureSelect(t){var e=this.getMap();if(0!==t.selected.length){var n=t.selected[0];this._popupContent.innerHTML=n.getProperties().popupContent,this._popupOverlay?this._popupOverlay.setPosition(t.mapBrowserEvent.coordinate):(this._popupOverlay=new d({element:this._popupDiv,positioning:"bottom-center",position:t.mapBrowserEvent.coordinate}),e.addOverlay(this._popupOverlay)),this.dispatchEvent({type:"reversegeocode:onclickresult",location:n.getProperties().location})}else null!=this._popupOverlay&&this._popupOverlay.setPosition(void 0)}onShowReverseGeocodingClick(){var t=this.getMap();if(t){Un.unset(t);var e=this._showReverseGeocodingButton.ariaPressed;this.collapsed=!("true"===e),this.dispatchEvent("change:collapsed"),this._waiting||this._reverseGeocodingLocations.length||(this.collapsed?(this._clearResults(),this._clearInputFeatures(),this._removeMapInteraction(t),null!=this._inputFeaturesLayer&&(t.removeLayer(this._inputFeaturesLayer),this._inputFeaturesLayer=null,this._inputFeaturesSources=null,this._inputFeatures=null)):this._activateMapInteraction(t))}}onReverseGeocodingTypeChange(t){var e=t.target.selectedIndex,n=t.target.options[e].value;n&&(x_.log(n),this._currentGeocodingType=n)}onReverseGeocodingDelimitationChange(t){var e=t.target.selectedIndex,n=t.target.options[e].value;if(n){x_.log(n),this._currentGeocodingDelimitation=n;var i=this.getMap();this._clearInputFeatures(),this._removeMapInteraction(i),this._activateMapInteraction(i)}}onGPreverseGeocodingReturnPictoClick(){this._clearResults(),this._clearInputFeatures(),this._activateMapInteraction(this.getMap())}onReverseGeocodingSubmit(){this._requestPosition?this._reverseGeocodingRequest():x_.log("missing position")}onReverseGeocodingResultClick(t){var e=t.target.id,n=e.substring(e.indexOf("_")+1),i=this._resultsFeaturesSource.getFeatureById(parseInt(n,10));this.dispatchEvent({type:"reversegeocode:onclickresult",location:i.getProperties().location})}onReverseGeocodingResultMouseOver(t){var e=t.target.id,n=e.substring(e.indexOf("_")+1);if(t.target.classList&&t.target.classList.add("GPlocationHighlight"),this._resultsFeaturesSource){var i=this._resultsFeaturesSource.getFeatureById(parseInt(n,10));i.setStyle(this._resultsSelectedStyle)}}onReverseGeocodingResultMouseOut(t){var e=t.target.id,n=e.substring(e.indexOf("_")+1);if(t.target.classList&&t.target.classList.remove("GPlocationHighlight"),this._resultsFeaturesSource){var i=this._resultsFeaturesSource.getFeatureById(parseInt(n,10));i.setStyle(this._resultsDefaultStyle)}}_clearResults(){var t=this.getMap();if(this._reverseGeocodingLocations=[],this._resultsListContainer)while(this._resultsListContainer.firstChild)this._resultsListContainer.removeChild(this._resultsListContainer.firstChild);this._resultsFeaturesLayer&&(t.removeLayer(this._resultsFeaturesLayer),this._resultsFeaturesLayer=null),null!=this._popupOverlay&&(t.removeOverlay(this._popupOverlay),this._popupOverlay=null),null!=this._resultsSelectInteraction&&(t.removeInteraction(this._resultsSelectInteraction),this._resultsSelectInteraction=null),null!=this._resultsHoverInteraction&&(t.removeInteraction(this._resultsHoverInteraction),this._resultsHoverInteraction=null)}_clearInputFeatures(){this._inputFeatures&&this._inputFeatures.clear(),this._requestGeom=null,this._requestPosition=null}_displayWaitingContainer(){this._waitingContainer.className="GPwaitingContainer GPwaitingContainerVisible gpf-waiting gpf-waiting--visible",this._waiting=!0,this._timer&&(clearTimeout(this._timer),this._timer=null);var t=this;this._timer=setTimeout((function(){!0===t._waiting?t._hideWaitingContainer():t._timer&&clearTimeout(t._timer)}),16e3)}_hideWaitingContainer(){this._waiting&&(this._waitingContainer.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden",this._waiting=!1,clearTimeout(this._timer),this._timer=null)}};Object.assign(S_.prototype,b_);var P_=S_;window.ol&&window.ol.control&&(window.ol.control.ReverseGeocode=S_);var M_=n(3387);class R_{read(t){if(!t)return null;if("string"===typeof t){const e=(0,M_.qg)(t);return this.readFromDocument(e)}return(0,M_.wz)(t)?this.readFromDocument(t):this.readFromNode(t)}readFromDocument(t){for(let e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFromNode(e);return null}readFromNode(t){(0,m.b0)()}}var T_=R_,G_=n(3895);const L_="http://www.w3.org/1999/xlink";function k_(t){return t.getAttributeNS(L_,"href")}const O_=[null,"http://www.opengis.net/wms"],D_=(0,M_.Dm)(O_,{Service:(0,M_.kW)(rC),Capability:(0,M_.kW)(iC)}),N_=(0,M_.Dm)(O_,{Request:(0,M_.kW)(pC),Exception:(0,M_.kW)(lC),Layer:(0,M_.kW)(cC)});class F_ extends T_{constructor(){super(),this.version=void 0}readFromNode(t){this.version=t.getAttribute("version").trim();const e=(0,M_.eY)({version:this.version},D_,t,[]);return e||null}}const U_=(0,M_.Dm)(O_,{Name:(0,M_.kW)(G_.E3),Title:(0,M_.kW)(G_.E3),Abstract:(0,M_.kW)(G_.E3),KeywordList:(0,M_.kW)(CC),OnlineResource:(0,M_.kW)(k_),ContactInformation:(0,M_.kW)(oC),Fees:(0,M_.kW)(G_.E3),AccessConstraints:(0,M_.kW)(G_.E3),LayerLimit:(0,M_.kW)(G_.yg),MaxWidth:(0,M_.kW)(G_.yg),MaxHeight:(0,M_.kW)(G_.yg)}),B_=(0,M_.Dm)(O_,{ContactPersonPrimary:(0,M_.kW)(sC),ContactPosition:(0,M_.kW)(G_.E3),ContactAddress:(0,M_.kW)(aC),ContactVoiceTelephone:(0,M_.kW)(G_.E3),ContactFacsimileTelephone:(0,M_.kW)(G_.E3),ContactElectronicMailAddress:(0,M_.kW)(G_.E3)}),j_=(0,M_.Dm)(O_,{ContactPerson:(0,M_.kW)(G_.E3),ContactOrganization:(0,M_.kW)(G_.E3)}),z_=(0,M_.Dm)(O_,{AddressType:(0,M_.kW)(G_.E3),Address:(0,M_.kW)(G_.E3),City:(0,M_.kW)(G_.E3),StateOrProvince:(0,M_.kW)(G_.E3),PostCode:(0,M_.kW)(G_.E3),Country:(0,M_.kW)(G_.E3)}),W_=(0,M_.Dm)(O_,{Format:(0,M_.VT)(G_.E3)}),V_=(0,M_.Dm)(O_,{Name:(0,M_.kW)(G_.E3),Title:(0,M_.kW)(G_.E3),Abstract:(0,M_.kW)(G_.E3),KeywordList:(0,M_.kW)(CC),CRS:(0,M_.c4)(G_.E3),EX_GeographicBoundingBox:(0,M_.kW)(nC),BoundingBox:(0,M_.c4)(eC),Dimension:(0,M_.c4)(hC),Attribution:(0,M_.kW)(tC),AuthorityURL:(0,M_.c4)(yC),Identifier:(0,M_.c4)(G_.E3),MetadataURL:(0,M_.c4)(vC),DataURL:(0,M_.c4)(dC),FeatureListURL:(0,M_.c4)(dC),Style:(0,M_.c4)(_C),MinScaleDenominator:(0,M_.kW)(G_.e4),MaxScaleDenominator:(0,M_.kW)(G_.e4),Layer:(0,M_.c4)(uC)}),Y_=(0,M_.Dm)(O_,{Title:(0,M_.kW)(G_.E3),OnlineResource:(0,M_.kW)(k_),LogoURL:(0,M_.kW)(AC)}),H_=(0,M_.Dm)(O_,{westBoundLongitude:(0,M_.kW)(G_.e4),eastBoundLongitude:(0,M_.kW)(G_.e4),southBoundLatitude:(0,M_.kW)(G_.e4),northBoundLatitude:(0,M_.kW)(G_.e4)}),q_=(0,M_.Dm)(O_,{GetCapabilities:(0,M_.kW)(mC),GetMap:(0,M_.kW)(mC),GetFeatureInfo:(0,M_.kW)(mC)}),X_=(0,M_.Dm)(O_,{Format:(0,M_.c4)(G_.E3),DCPType:(0,M_.c4)(gC)}),Z_=(0,M_.Dm)(O_,{HTTP:(0,M_.kW)(fC)}),K_=(0,M_.Dm)(O_,{Get:(0,M_.kW)(dC),Post:(0,M_.kW)(dC)}),J_=(0,M_.Dm)(O_,{Name:(0,M_.kW)(G_.E3),Title:(0,M_.kW)(G_.E3),Abstract:(0,M_.kW)(G_.E3),LegendURL:(0,M_.c4)(AC),StyleSheetURL:(0,M_.kW)(dC),StyleURL:(0,M_.kW)(dC)}),Q_=(0,M_.Dm)(O_,{Format:(0,M_.kW)(G_.E3),OnlineResource:(0,M_.kW)(k_)}),$_=(0,M_.Dm)(O_,{Keyword:(0,M_.VT)(G_.E3)});function tC(t,e){return(0,M_.eY)({},Y_,t,e)}function eC(t,e){const n=[(0,G_.P9)(t.getAttribute("minx")),(0,G_.P9)(t.getAttribute("miny")),(0,G_.P9)(t.getAttribute("maxx")),(0,G_.P9)(t.getAttribute("maxy"))],i=[(0,G_.P9)(t.getAttribute("resx")),(0,G_.P9)(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS"),extent:n,res:i}}function nC(t,e){const n=(0,M_.eY)({},H_,t,e);if(!n)return;const i=n["westBoundLongitude"],r=n["southBoundLatitude"],o=n["eastBoundLongitude"],s=n["northBoundLatitude"];return void 0!==i&&void 0!==r&&void 0!==o&&void 0!==s?[i,r,o,s]:void 0}function iC(t,e){return(0,M_.eY)({},N_,t,e)}function rC(t,e){return(0,M_.eY)({},U_,t,e)}function oC(t,e){return(0,M_.eY)({},B_,t,e)}function sC(t,e){return(0,M_.eY)({},j_,t,e)}function aC(t,e){return(0,M_.eY)({},z_,t,e)}function lC(t,e){return(0,M_.eY)([],W_,t,e)}function cC(t,e){const n=(0,M_.eY)({},V_,t,e);return void 0===n["Layer"]?Object.assign(n,uC(t,e)):n}function uC(t,e){const n=e[e.length-1],i=(0,M_.eY)({},V_,t,e);if(!i)return;let r=(0,G_.gC)(t.getAttribute("queryable"));void 0===r&&(r=n["queryable"]),i["queryable"]=void 0!==r&&r;let o=(0,G_._X)(t.getAttribute("cascaded"));void 0===o&&(o=n["cascaded"]),i["cascaded"]=o;let s=(0,G_.gC)(t.getAttribute("opaque"));void 0===s&&(s=n["opaque"]),i["opaque"]=void 0!==s&&s;let a=(0,G_.gC)(t.getAttribute("noSubsets"));void 0===a&&(a=n["noSubsets"]),i["noSubsets"]=void 0!==a&&a;let l=(0,G_.P9)(t.getAttribute("fixedWidth"));l||(l=n["fixedWidth"]),i["fixedWidth"]=l;let c=(0,G_.P9)(t.getAttribute("fixedHeight"));c||(c=n["fixedHeight"]),i["fixedHeight"]=c;const u=["Style","CRS","AuthorityURL"];u.forEach((function(t){if(t in n){const e=i[t]||[];i[t]=e.concat(n[t])}}));const h=["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"];return h.forEach((function(t){if(!(t in i)){const e=n[t];i[t]=e}})),i}function hC(t,e){const n={name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:(0,G_.gC)(t.getAttribute("multipleValues")),nearestValue:(0,G_.gC)(t.getAttribute("nearestValue")),current:(0,G_.gC)(t.getAttribute("current")),values:(0,G_.E3)(t)};return n}function dC(t,e){return(0,M_.eY)({},Q_,t,e)}function pC(t,e){return(0,M_.eY)({},q_,t,e)}function gC(t,e){return(0,M_.eY)({},Z_,t,e)}function fC(t,e){return(0,M_.eY)({},K_,t,e)}function mC(t,e){return(0,M_.eY)({},X_,t,e)}function AC(t,e){const n=dC(t,e);if(n){const e=[(0,G_._X)(t.getAttribute("width")),(0,G_._X)(t.getAttribute("height"))];return n["size"]=e,n}}function yC(t,e){const n=dC(t,e);if(n)return n["name"]=t.getAttribute("name"),n}function vC(t,e){const n=dC(t,e);if(n)return n["type"]=t.getAttribute("type"),n}function _C(t,e){return(0,M_.eY)({},J_,t,e)}function CC(t,e){return(0,M_.eY)([],$_,t,e)}var IC=F_;const EC=[null,"http://www.opengis.net/ows/1.1"],wC=(0,M_.Dm)(EC,{ServiceIdentification:(0,M_.kW)(ZC),ServiceProvider:(0,M_.kW)(JC),OperationsMetadata:(0,M_.kW)(qC)});class bC extends T_{constructor(){super()}readFromNode(t){const e=(0,M_.eY)({},wC,t,[]);return e||null}}const xC=(0,M_.Dm)(EC,{DeliveryPoint:(0,M_.kW)(G_.E3),City:(0,M_.kW)(G_.E3),AdministrativeArea:(0,M_.kW)(G_.E3),PostalCode:(0,M_.kW)(G_.E3),Country:(0,M_.kW)(G_.E3),ElectronicMailAddress:(0,M_.kW)(G_.E3)}),SC=(0,M_.Dm)(EC,{Value:(0,M_.c4)(QC)}),PC=(0,M_.Dm)(EC,{AllowedValues:(0,M_.kW)(BC)}),MC=(0,M_.Dm)(EC,{Phone:(0,M_.kW)(XC),Address:(0,M_.kW)(UC)}),RC=(0,M_.Dm)(EC,{HTTP:(0,M_.kW)(YC)}),TC=(0,M_.Dm)(EC,{Get:(0,M_.c4)(VC),Post:void 0}),GC=(0,M_.Dm)(EC,{DCP:(0,M_.kW)(WC)}),LC=(0,M_.Dm)(EC,{Operation:HC}),kC=(0,M_.Dm)(EC,{Voice:(0,M_.kW)(G_.E3),Facsimile:(0,M_.kW)(G_.E3)}),OC=(0,M_.Dm)(EC,{Constraint:(0,M_.c4)(jC)}),DC=(0,M_.Dm)(EC,{IndividualName:(0,M_.kW)(G_.E3),PositionName:(0,M_.kW)(G_.E3),ContactInfo:(0,M_.kW)(zC)}),NC=(0,M_.Dm)(EC,{Abstract:(0,M_.kW)(G_.E3),AccessConstraints:(0,M_.kW)(G_.E3),Fees:(0,M_.kW)(G_.E3),Title:(0,M_.kW)(G_.E3),ServiceTypeVersion:(0,M_.kW)(G_.E3),ServiceType:(0,M_.kW)(G_.E3)}),FC=(0,M_.Dm)(EC,{ProviderName:(0,M_.kW)(G_.E3),ProviderSite:(0,M_.kW)(k_),ServiceContact:(0,M_.kW)(KC)});function UC(t,e){return(0,M_.eY)({},xC,t,e)}function BC(t,e){return(0,M_.eY)({},SC,t,e)}function jC(t,e){const n=t.getAttribute("name");if(n)return(0,M_.eY)({name:n},PC,t,e)}function zC(t,e){return(0,M_.eY)({},MC,t,e)}function WC(t,e){return(0,M_.eY)({},RC,t,e)}function VC(t,e){const n=k_(t);if(n)return(0,M_.eY)({href:n},OC,t,e)}function YC(t,e){return(0,M_.eY)({},TC,t,e)}function HC(t,e){const n=t.getAttribute("name"),i=(0,M_.eY)({},GC,t,e);if(!i)return;const r=e[e.length-1];r[n]=i}function qC(t,e){return(0,M_.eY)({},LC,t,e)}function XC(t,e){return(0,M_.eY)({},kC,t,e)}function ZC(t,e){return(0,M_.eY)({},NC,t,e)}function KC(t,e){return(0,M_.eY)({},DC,t,e)}function JC(t,e){return(0,M_.eY)({},FC,t,e)}function QC(t,e){return(0,G_.E3)(t)}var $C=bC;const tI=[null,"http://www.opengis.net/wmts/1.0"],eI=[null,"http://www.opengis.net/ows/1.1"],nI=(0,M_.Dm)(tI,{Contents:(0,M_.kW)(gI)});class iI extends T_{constructor(){super(),this.owsParser_=new $C}readFromNode(t){let e=t.getAttribute("version");e&&(e=e.trim());let n=this.owsParser_.readFromNode(t);return n?(n["version"]=e,n=(0,M_.eY)(n,nI,t,[]),n||null):null}}const rI=(0,M_.Dm)(tI,{Layer:(0,M_.c4)(fI),TileMatrixSet:(0,M_.c4)(mI)}),oI=(0,M_.Dm)(tI,{Style:(0,M_.c4)(AI),Format:(0,M_.c4)(G_.E3),TileMatrixSetLink:(0,M_.c4)(yI),Dimension:(0,M_.c4)(vI),ResourceURL:(0,M_.c4)(_I)},(0,M_.Dm)(eI,{Title:(0,M_.kW)(G_.E3),Abstract:(0,M_.kW)(G_.E3),WGS84BoundingBox:(0,M_.kW)(CI),Identifier:(0,M_.kW)(G_.E3)})),sI=(0,M_.Dm)(tI,{LegendURL:(0,M_.c4)(II)},(0,M_.Dm)(eI,{Title:(0,M_.kW)(G_.E3),Identifier:(0,M_.kW)(G_.E3)})),aI=(0,M_.Dm)(tI,{TileMatrixSet:(0,M_.kW)(G_.E3),TileMatrixSetLimits:(0,M_.kW)(bI)}),lI=(0,M_.Dm)(tI,{TileMatrixLimits:(0,M_.VT)(xI)}),cI=(0,M_.Dm)(tI,{TileMatrix:(0,M_.kW)(G_.E3),MinTileRow:(0,M_.kW)(G_.yg),MaxTileRow:(0,M_.kW)(G_.yg),MinTileCol:(0,M_.kW)(G_.yg),MaxTileCol:(0,M_.kW)(G_.yg)}),uI=(0,M_.Dm)(tI,{Default:(0,M_.kW)(G_.E3),Value:(0,M_.c4)(G_.E3)},(0,M_.Dm)(eI,{Identifier:(0,M_.kW)(G_.E3)})),hI=(0,M_.Dm)(eI,{LowerCorner:(0,M_.VT)(EI),UpperCorner:(0,M_.VT)(EI)}),dI=(0,M_.Dm)(tI,{WellKnownScaleSet:(0,M_.kW)(G_.E3),TileMatrix:(0,M_.c4)(wI)},(0,M_.Dm)(eI,{SupportedCRS:(0,M_.kW)(G_.E3),Identifier:(0,M_.kW)(G_.E3),BoundingBox:(0,M_.kW)(CI)})),pI=(0,M_.Dm)(tI,{TopLeftCorner:(0,M_.kW)(EI),ScaleDenominator:(0,M_.kW)(G_.e4),TileWidth:(0,M_.kW)(G_.yg),TileHeight:(0,M_.kW)(G_.yg),MatrixWidth:(0,M_.kW)(G_.yg),MatrixHeight:(0,M_.kW)(G_.yg)},(0,M_.Dm)(eI,{Identifier:(0,M_.kW)(G_.E3)}));function gI(t,e){return(0,M_.eY)({},rI,t,e)}function fI(t,e){return(0,M_.eY)({},oI,t,e)}function mI(t,e){return(0,M_.eY)({},dI,t,e)}function AI(t,e){const n=(0,M_.eY)({},sI,t,e);if(!n)return;const i="true"===t.getAttribute("isDefault");return n["isDefault"]=i,n}function yI(t,e){return(0,M_.eY)({},aI,t,e)}function vI(t,e){return(0,M_.eY)({},uI,t,e)}function _I(t,e){const n=t.getAttribute("format"),i=t.getAttribute("template"),r=t.getAttribute("resourceType"),o={};return n&&(o["format"]=n),i&&(o["template"]=i),r&&(o["resourceType"]=r),o}function CI(t,e){const n=(0,M_.eY)([],hI,t,e);if(2==n.length)return(0,a.Tr)(n)}function II(t,e){const n={};return n["format"]=t.getAttribute("format"),n["href"]=k_(t),n}function EI(t,e){const n=(0,G_.E3)(t).split(/\s+/);if(!n||2!=n.length)return;const i=+n[0],r=+n[1];return isNaN(i)||isNaN(r)?void 0:[i,r]}function wI(t,e){return(0,M_.eY)({},pI,t,e)}function bI(t,e){return(0,M_.eY)([],lI,t,e)}function xI(t,e){return(0,M_.eY)({},cI,t,e)}var SI=iI,PI=n(3110),MI={onloaded:"editor:onloaded",layer:{onclickvisibility:"editor:layer:onclickvisibility",onclickclone:"editor:layer:onclickclone",onclickremove:"editor:layer:onclickremove"},legend:{onclickedition:"editor:legend:onclickedition",onchangevalue:"editor:legend:onchangevalue"},group:{oncollapse:"editor:group:oncollapse"},style:{oneditjson:"editor:style:oneditjson",scale:{onchangemin:"editor:style:scale:onchangemin",onchangemax:"editor:style:scale:onchangemax"}},filter:{oneditjson:"editor:filter:oneditjson"},themes:{onclickimage:"editor:themes:onclickimage",onclicktitle:"editor:themes:onclicktitle"},search:{onsubmit:"editor:search:onsubmit",onautocomplete:"editor:search:onautocomplete"}},RI=MI,TI=Pn.getLogger("editor-style");class GI{constructor(t){if(TI.trace("[constructor] Style",t),this.options=t||{target:null,position:0,tools:null,title:null,obj:null},!(this instanceof GI))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()}_initialize(){this.id=this.options.id||null,this.options.target,this.options.position||(this.options.position=0);var t={scale:!0,edition:!1};this.options.tools||(this.options.tools=t),Dn.mergeParams(this.options.tools,t,!1),this.options.obj||(this.options.obj={paint:{},layout:{}}),this.options.title||(this.options.title="JSON Styles :"),this.container=null,this.name={target:"GPEditorMapBoxStyleTarget",container:"GPEditorMapBoxStyleContainer",containerjson:"GPEditorMapBoxStyleJsonContainer",jsonlabel:"GPEditorMapBoxStyleJsonTitle",jsondisplay:"GPEditorMapBoxStyleJsonDisplay",containertoolsscale:"GPEditorMapBoxStyleToolsScaleContainer",scaletitle:"GPEditorMapBoxStyleScaleTitle",containertoolsminscale:"GPEditorMapBoxStyleToolsScaleMinContainer",scalelabelmin:"GPEditorMapBoxStyleScaleLabelMin",scaleinputmin:"GPEditorMapBoxStyleScaleInputMin",containertoolsmaxscale:"GPEditorMapBoxStyleToolsScaleMaxContainer",scalelabelmax:"GPEditorMapBoxStyleScaleLabelMax",scaleinputmax:"GPEditorMapBoxStyleScaleInputMax",containertoolsedit:"GPEditorMapBoxStyleToolsEditionContainer"}}_initContainer(){var t=this,e=!1,n=JSON.parse(JSON.stringify(this.options.obj)),i={};n.paint&&(e=!0,i.paint=n.paint,0===Object.keys(n.paint).length&&TI.info("tag 'paint' is empty !")),n.layout&&(e=!0,i.layout=n.layout,n.layout.visibility&&delete i.visibility,0===Object.keys(n.layout).length&&TI.info("tag 'layout' is empty !"));var r=document.createElement("div");r.className=this.name.container;var o=null;if(e){var s=JSON.stringify(i,null,4);o=this._syntaxHighlight(s)}var a=document.createElement("div");a.className=this.name.containerjson;var l=document.createElement("label");l.className=this.name.jsonlabel,l.innerHTML=this.options.title,a.appendChild(l);var c=document.createElement("pre");c.className=this.name.jsondisplay,c.innerHTML=o,c.addEventListener?c.addEventListener("click",(function(e){t.options.tools.edition&&t.onEditJsonStyleMapBox(e)})):c.attachEvent&&c.attachEvent("onclick",(function(e){t.options.tools.edition&&t.onEditJsonStyleMapBox(e)})),a.appendChild(c),r.appendChild(a),this.options.tools.scale&&r.appendChild(this._createElementToolsScale({min:i.layout?i.layout.minzoom:0,max:i.layout?i.layout.maxzoom:21})),this.options.tools.edition&&r.appendChild(this._createElementToolsEdition()),this.container=r}_createElementToolsScale(t){TI.trace("_createElementToolsScale");var e=this,n=this.options.obj,i=document.createElement("div");i.className=this.name.containertoolsscale;var r=document.createElement("div");r.className=this.name.containertoolsminscale;var o=document.createElement("label");o.className=this.name.scalelabelmin,o.innerHTML="min :",r.appendChild(o);var s=document.createElement("input");s.className=this.name.scaleinputmin,s.type="range",s.value=t.min||0,s.title=t.min||0,s.disabled=!1,s.min=0,s.max=21,s.data=n,s.addEventListener?s.addEventListener("change",(function(t){e.onChangeStyleScaleMinMapBox(t)})):s.appendChild&&s.appendChild("onchange",(function(t){e.onChangeStyleScaleMinMapBox(t)})),r.appendChild(s),i.appendChild(r);var a=document.createElement("div");a.className=this.name.containertoolsmaxscale;var l=document.createElement("label");l.className=this.name.scalelabelmax,l.innerHTML="max :",a.appendChild(l);var c=document.createElement("input");return c.className=this.name.scaleinputmin,c.type="range",c.value=t.max||21,c.title=t.max||21,c.disabled=!1,c.min=0,c.max=21,c.data=n,c.addEventListener?c.addEventListener("change",(function(t){e.onChangeStyleScaleMaxMapBox(t)})):c.appendChild&&c.appendChild("onchange",(function(t){e.onChangeStyleScaleMaxMapBox(t)})),a.appendChild(c),i.appendChild(a),i}_createElementToolsEdition(){TI.warn("_createElementToolsEdition, it's not yet implemented !");var t=document.createElement("div");return t.className=this.name.containertoolsedit,t}_syntaxHighlight(t){return t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),t.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?)/g,(function(t){var e="gp-json-number";return/^"/.test(t)?e=/:$/.test(t)?"gp-json-key":"gp-json-string":/true|false/.test(t)?e="gp-json-boolean":/null/.test(t)&&(e="gp-json-null"),"<span class='"+e+"'>"+t+"</span>"}))}add(){if(!this.options.target){if(!document.getElementById(this.name.target)){var t=document.createElement("div");t.id=this.name.target;var e=document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0];e.appendChild(t)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this}display(t){return TI.trace("display()",t),"undefined"!==typeof t&&(this.container.style.display=t?"flex":"none"),"flex"===this.container.style.display}getContainer(){return this.container}onEditJsonStyleMapBox(t){TI.trace("onEditJsonStyleMapBox",t),t.editorID=this.id,t.data=this.options,PI.dispatch(RI.style.oneditjson,t)}onChangeStyleScaleMinMapBox(t){TI.trace("onChangeStyleScaleMinMapBox",t),t.editorID=this.id,t.data=this.options,PI.dispatch(RI.style.scale.onchangemin,t)}onChangeStyleScaleMaxMapBox(t){TI.trace("onChangeStyleScaleMaxMapBox",t),t.editorID=this.id,t.data=this.options,PI.dispatch(RI.style.scale.onchangemax,t)}}var LI=GI,kI=Pn.getLogger("editor-themes");class OI{constructor(t){if(kI.trace("[constructor] Themes",t),this.options=t||{},!(this instanceof OI))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()}_initialize(){this.id=this.options.id||null,this.options.target;var t={thumbnails:!0,button:{visible:!0,type:"radio"}};this.options.tools&&0!==Object.keys(this.options.tools).length||(this.options.tools=t),Dn.mergeParams(this.options.tools,t,!1),"undefined"!==typeof this.options.obj&&null!==this.options.obj&&this.options.obj||(this.options.obj={themesSummary:"",themes:[]}),this.container=null,this.name={target:"GPEditorMapBoxThemeTarget",container:"GPEditorMapBoxThemesContainer",containertheme:"GPEditorMapBoxThemeContainer",containerthemeID:"GPEditorMapBoxThemeContainer_ID_",input:"GPEditorMapBoxThemeInput",inputID:"GPEditorMapBoxThemeInput_ID_",label:"GPEditorMapBoxThemeTitle",labelID:"GPEditorMapBoxThemeTitle_ID_",image:"GPEditorMapBoxThemeImage",imageID:"GPEditorMapBoxThemeImage_ID_",message:"GPEditorMapBoxThemeMessage"}}_initContainer(){var t=this,e=this.options.obj,n=this.id||Yc.generate(),i=document.createElement("div");i.className=this.name.container,i.title=e.themesSummary||"";var r=e.themes;if(r)for(var o=0;o<r.length;o++){var s=r[o],a=document.createElement("div");a.id=this.name.containerthemeID+o+"_"+n,a.className=this.name.containertheme,a.tabIndex=o;var l=s.url,c=s.selected||!1;if(l){var u=this.options.tools.button;if(u.visible){var h="checkbox"===u.type?"checkbox":"radio",d=document.createElement("input");d.type=h,d.id=this.name.inputID+o+"_"+n,d.className=this.name.input,d.name=n,d.checked=c,d.data=l,d.addEventListener?d.addEventListener("click",(function(e){t.onClickThemeTitleMapBox(e)})):d.attachEvent&&d.attachEvent("onclick",(function(e){t.onClickThemeTitleMapBox(e)})),a.appendChild(d)}if(this.options.tools.thumbnails&&s.thumbnail){var p=document.createElement("img");p.id=this.name.imageID+o+"_"+n,p.className=this.name.image,p.src=s.thumbnail,p.alt=s.thumbnail,p.title=s.description||"",p.data=l,p.addEventListener?p.addEventListener("click",(function(e){t.onClickThemeImageMapBox(e);var n=e.target.parentElement.childNodes;if(n){var i=n[0];"input"===i.tagName.toLowerCase()&&(i.checked=!i.checked)}})):p.attachEvent&&p.attachEvent("onclick",(function(e){t.onClickThemeImageMapBox(e);var n=e.target.parentElement.childNodes;if(n){var i=n[0];"input"===i.tagName.toLowerCase()&&(i.checked=!i.checked)}})),a.appendChild(p)}if(s.name){var g=document.createElement("label");g.id=this.name.labelID+o+"_"+n,this.options.tools.button.visible&&(g.htmlFor=d.id),g.className=this.name.label,g.innerHTML=s.name,g.title=s.description||"",g.data=l,this.options.tools.button.visible||(g.addEventListener?g.addEventListener("click",(function(e){t.onClickThemeTitleMapBox(e)})):g.attachEvent&&g.attachEvent("onclick",(function(e){t.onClickThemeTitleMapBox(e)}))),a.appendChild(g)}}else{var f=document.createElement("label");f.className=this.name.message,f.innerHTML="Thème non disponible...",a.appendChild(f)}i.appendChild(a)}this.container=i}add(){if(!this.options.target){if(!document.getElementById(this.name.target)){var t=document.createElement("div");t.id=this.name.target;var e=document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0];e.appendChild(t)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this}display(t){return kI.trace("display()",t),"undefined"!==typeof t&&(this.container.style.display=t?"flex":"none"),"flex"===this.container.style.display}getContainer(){return this.container}onClickThemeImageMapBox(t){if(kI.trace("onClickThemeImageMapBox",t),t.editorID=this.id,t.data=this.options,"checkbox"===this.options.tools.button.type)for(var e=t.target.previousSibling.id.substring(t.target.previousSibling.id.lastIndexOf("_")+1),n=document.getElementsByClassName(this.name.input),i=0;i<n.length;i++){var r=n[i];if(r.id!==t.target.previousSibling.id){var o=r.id.substring(r.id.lastIndexOf("_")+1);o===e&&(r.checked=!1)}}PI.dispatch(RI.themes.onclickimage,t)}onClickThemeTitleMapBox(t){if(kI.trace("onClickThemeTitleMapBox",t),t.editorID=this.id,t.data=this.options,"checkbox"===this.options.tools.button.type)for(var e=t.target.id.substring(t.target.id.lastIndexOf("_")+1),n=document.getElementsByClassName(this.name.input),i=0;i<n.length;i++){var r=n[i];if(r.id!==t.target.id){var o=r.id.substring(r.id.lastIndexOf("_")+1);o===e&&(r.checked=!1)}}PI.dispatch(RI.themes.onclicktitle,t)}}var DI=OI,NI=Pn.getLogger("editor-filter");class FI{constructor(t){if(NI.trace("[constructor] Filter",t),this.options=t||{target:null,position:0,tools:null,title:null,obj:null},!(this instanceof FI))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()}_initialize(){this.id=this.options.id||null,this.options.target,this.options.position||(this.options.position=0);var t={edition:!1};this.options.tools||(this.options.tools=t),Dn.mergeParams(this.options.tools,t,!1),this.options.obj||(this.options.obj={filter:[]}),this.options.title||(this.options.title="JSON Filtres :"),this.container=null,this.name={target:"GPEditorMapBoxFilterTarget",container:"GPEditorMapBoxFilterContainer",containerjson:"GPEditorMapBoxFilterJsonContainer",jsonlabel:"GPEditorMapBoxFilterTitleJson",jsondisplay:"GPEditorMapBoxFilterDisplayJson",containertoolsedit:"GPEditorMapBoxFilterToolsEditionContainer"}}_initContainer(){var t=this,e=!1,n=JSON.parse(JSON.stringify(this.options.obj));n.filter&&(e=!0,0===n.filter.length&&NI.info("tag 'filter' is empty !"));var i=document.createElement("div");i.className=this.name.container;var r=null;e&&(r=JSON.stringify(n.filter,null,4));var o=document.createElement("div");o.className=this.name.containerjson;var s=document.createElement("label");s.className=this.name.jsonlabel,s.innerHTML=this.options.title,o.appendChild(s);var a=document.createElement("pre");if(a.className=this.name.jsondisplay,a.innerHTML=r,a.addEventListener?a.addEventListener("click",(function(e){t.options.tools.edition&&t.onEditJsonFilterMapBox(e)})):a.attachEvent&&a.attachEvent("onclick",(function(e){t.options.tools.edition&&t.onEditJsonFilterMapBox(e)})),o.appendChild(a),i.appendChild(o),this.options.tools.edition){var l=document.createElement("div");l.className=this.name.containertoolsedit,i.appendChild(l)}this.container=i}add(){if(!this.options.target){if(!document.getElementById(this.name.target)){var t=document.createElement("div");t.id=this.name.target;var e=document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0];e.appendChild(t)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this}display(t){return NI.trace("display()",t),"undefined"!==typeof t&&(this.container.style.display=t?"flex":"none"),"flex"===this.container.style.display}getContainer(){return this.container}onEditJsonFilterMapBox(t){NI.trace("onEditJsonFilterMapBox",t),t.editorID=this.id,t.data=this.options,PI.dispatch(RI.filter.oneditjson,t)}}var UI=FI,BI=Pn.getLogger("editor-legend");class jI{constructor(t){if(BI.trace("[constructor] Legend",t),this.options=t||{target:null,position:0,sprites:null,obj:null},!(this instanceof jI))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()}_initialize(){this.id=this.options.id||null,this.options.target,this.options.position||(this.options.position=0),this.options.obj||(this.options.obj={title:"vide...",editable:!0,paint:{"fill-color":"#FFFFFF"}});var t=this.options.obj.editable;this.editable="undefined"!==typeof t&&t,this.legendRender={type:"fill",values:{width:1,stroke:"#FFFFFF",color:"#000000",opacity:1}},this.container=null,this.rendercontainer=null,this.toolscontainer=null,this.name={target:"GPEditorMapBoxLegendTarget",container:"GPEditorMapBoxLegendContainer",containerlegendrender:"GPEditorMapBoxLegendRenderContainer",legendrender:"GPEditorMapBoxLegendRender",legendeditable:"GPEditorMapBoxLegendEditable",legendtitle:"GPEditorMapBoxLegendTitle",containerlegendtools:"GPEditorMapBoxLegendToolsContainer"},this.labels={"line-color":"Couleur du trait","line-width":"Epaisseur du trait","line-opacity":"Opacité du trait","fill-color":"Couleur de remplissage","fill-opacity":"Opacité du remplissage"}}_initContainer(){var t=this.options.obj,e=document.createElement("div");e.className=this.name.container;var n=Object.assign({},t.paint,t.layout),i=Object.keys(n);if(0!==i.length){for(var r={},o=!1,s=0;s<i.length;s++){var a=i[s];if(/fill-/.test(a)||/line-/.test(a)||/circle-/.test(a)||/background-/.test(a)||/text-/.test(a)||/icon-/.test(a)){o=!0;var l=t.title||"",c=a.split("-")[0];"text"!==c&&"icon"!==c||(c="symbol"),this.legendRender=this._getProperties(c,n),r={edit:this.editable,title:l,type:this.legendRender.type,values:this.legendRender.values},e.appendChild(this._createElementIconLegend(r));break}}o||(r={edit:this.editable,title:"",type:this.legendRender.type,values:this.legendRender.values},e.appendChild(this._createElementIconLegend(r)),BI.warn("legend type unknown, default legend used...")),this.toolscontainer=this._createElementEditionLegend(r),e.appendChild(this.toolscontainer),this.container=e}else BI.info("tag 'paint' or 'layout' is empty !")}_getProperties(t,e){if("symbol"===t){var n=e["text-field"],i=e["icon-image"];if(t=n&&i?"icon":n?"text":i?"icon":"unknow","unknow"===t)return void BI.warn("type unknow !?")}var r={};for(const l in e)if(Object.hasOwnProperty.call(e,l)){const n=e[l];if(jI.PROPERTIES[t].includes(l)){var o=l.replace(t,"").slice(1),s=this._getValue(n);if(s){if(("pattern"===o||"image"===o)&&(!this.options.sprites||!this.options.sprites.json||!this.options.sprites.json[s])){var a=t+":"+o;BI.warn("sprites mandatory for key ",a);break}r[o]=s}}else BI.warn("property not supported : ",l)}return{type:t,values:r}}_renderThumbnail(t,e){var n=this.rendercontainer;if(!n)return!1;var i=null,r=3;switch(e.color||(e.color="#FFFFFF"),t){case"text":var o="font-size: 5em;font-weight: bold;";i="url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' viewBox='0 0 100 100'><text x='50' y='50' fill='%color%' fill-opacity='%opacity%'  text-anchor='middle' dominant-baseline='central' style='%style%'> T </text></svg>\")",n.style["background"]=i.replace("%color%",0===e.color.indexOf("rgb")?e.color:Zn.hexToRgba(e.color,1)).replace("%opacity%",e.opacity||1).replace("%style%",o);break;case"icon":if(e.image)i="<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' width='27px' height='27px' x='0' y='0' viewBox='%x% %y% %w% %h%'><image width='%W%px' height='%H%px' href='%URL%'/></svg>".replace("%x%",this.options.sprites.json[e.image].x).replace("%y%",this.options.sprites.json[e.image].y).replace(/%w%/g,this.options.sprites.json[e.image].width).replace(/%h%/g,this.options.sprites.json[e.image].height).replace("%W%",this.options.sprites.size.w).replace("%H%",this.options.sprites.size.h).replace("%URL%",this.options.sprites.url),n.innerHTML=i;else{var s="fill: transparent;stroke-width: 10;";i="url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' viewBox='0 0 100 100'><path d='M 50,20 80,82.5 20,82.5 z' stroke='%color%' style='%style%'/></svg>\")",n.style["background"]=i.replace("%color%",0===e.color.indexOf("rgb")?e.color:Zn.hexToRgba(e.color,1)).replace("%style%",s)}break;case"line":var a=Array.isArray(e["dasharray"])?e["dasharray"].join(" "):0;i="url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' viewBox='0 0 100 100'><line x1='0' y1='100' x2='100' y2='0' stroke='%color%' stroke-width='%stroke-width%' stroke-opacity='%stroke-opacity%' stroke-dasharray='%stroke-dasharray%' /></svg>\")",n.style["background"]=i.replace("%color%",0===e.color.indexOf("rgb")?e.color:Zn.hexToRgba(e.color,1)).replace("%stroke-opacity%",e.opacity||1).replace("%stroke-dasharray%",a).replace("%stroke-width%",(e.width||0)*r);break;case"circle":var l=e["stroke-color"]||"#FFFFFF";i="url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' viewBox='0 0 100 100'><circle cx='50' cy='50' r='40' stroke='%stroke-color%' stroke-width='%stroke-width%' stroke-opacity='%strock-opacity%' fill='%color%' fill-opacity='%opacity%' /></svg>\")",n.style["background"]=i.replace("%color%",0===e.color.indexOf("rgb")?e.color:Zn.hexToRgba(e.color,1)).replace("%opacity%",e.opacity||1).replace("%stroke-color%",0===l.indexOf("rgb")?l:Zn.hexToRgba(l,1)).replace("%stroke-opacity%",e["stroke-opacity"]||1).replace("%stroke-width%",(e["stroke-width"]||0)*r);break;case"background":case"fill":if(e.pattern)i="<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' width='27px' height='27px' x='0' y='0' viewBox='%x% %y% %w% %h%'><image width='%W%px' height='%H%px' href='%URL%'/></svg>".replace("%x%",this.options.sprites.json[e.pattern].x).replace("%y%",this.options.sprites.json[e.pattern].y).replace(/%w%/g,this.options.sprites.json[e.pattern].width).replace(/%h%/g,this.options.sprites.json[e.pattern].height).replace("%W%",this.options.sprites.size.w).replace("%H%",this.options.sprites.size.h).replace("%URL%",this.options.sprites.url),n.innerHTML=i;else{var c=e["outline-color"]||"#FFFFFF";i="url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' viewBox='0 0 100 100'><rect x='0' y='0' width='100' height='100' rx='5' ry='5' stroke='%stroke-color%' stroke-width='3' fill='%color%' fill-opacity='%opacity%' /></svg>\")",n.style["background"]=i.replace("%color%",0===e.color.indexOf("rgb")?e.color:Zn.hexToRgba(e.color,1)).replace("%opacity%",e.opacity||1).replace("%stroke-color%",0===c.indexOf("rgb")?c:Zn.hexToRgba(c,1))}break;default:return BI.warn("type not found, no thumbnail..."),!1}return!0}_getValue(t){var e=null;if("string"===typeof t)e=t;else if("number"===typeof t)e=t;else if(Array.isArray(t)){var n=!0;t.forEach((t=>{"number"!==typeof t&&(n=!1)})),n&&(e=t)}else if("object"===typeof t){if(e=null,"stops"in t){t.stops.sort(((t,e)=>{var n=t[0],i=e[0];return n>i?-1:n<i?1:0}));var i=t.stops.slice(-1);e=i[0][1]}}else BI.warn("value not supported !");return e}_createElementIconLegend(t){var e=this,n=document.createElement("div");n.className=this.name.containerlegendrender;var i=this.rendercontainer=document.createElement("div");i.className=this.name.legendrender,t.edit&&(i.className+=" ",i.className+=this.name.legendeditable,i.addEventListener?i.addEventListener("click",(function(t){e.onEditionLegendMapBox(t)})):i.attachEvent&&i.attachEvent("onclick",(function(t){e.onEditionLegendMapBox(t)})));var r=t.type;this._renderThumbnail(r,t.values)?i.className+=t.edit?" legend-"+r:" legend-"+r+"-not-editable":i.className+=" legend-unknow",n.appendChild(i);var o=document.createElement("span");return o.className=this.name.legendtitle,o.innerHTML=t.title||"",n.appendChild(o),n}_createElementEditionLegend(t){var e=this,n=document.createElement("div");if(n.className=this.name.containerlegendtools,!t.edit)return n;switch(t.type){case"line":i.call(e),r.call(e),o.call(e);break;case"background":case"fill":s.call(e),a.call(e);break;default:break}function i(){var i=document.createElement("div");i.className="legend-styling-div";var r=document.createElement("label");r.className="legend-line",r.htmlFor=this.id?"line-color-"+this.id:"line-color",r.innerHTML=this.labels["line-color"];var o=document.createElement("input");o.className="legend-styling",o.id=this.id?"line-color-"+this.id:"line-color",o.title="Selectionner une couleur de trait",o.type="color",o.value=t.values.color,o.setAttribute("data-id","line-color"),o.addEventListener?o.addEventListener("change",(function(n){e._renderThumbnail(t.type,Object.assign(t.values,{color:n.target.value})),e.onChangeValueLegendMapBox(n)})):o.attachEvent&&o.attachEvent("onchange",(function(n){e._renderThumbnail(t.type,Object.assign(t.values,{color:n.target.value})),e.onChangeValueLegendMapBox(n)})),i.appendChild(r),i.appendChild(o),n.appendChild(i)}function r(){var i=document.createElement("div");i.className="legend-styling-div";var r=document.createElement("label");r.className="legend-line",r.htmlFor=this.id?"line-width-"+this.id:"line-width",r.innerHTML=this.labels["line-width"];var o=document.createElement("input");o.className="legend-styling",o.id=this.id?"line-width-"+this.id:"line-width",o.title=t.values.width,o.type="range",o.min="0",o.max="10",o.step="1",o.defaultValue=t.values.width,o.setAttribute("data-id","line-width"),o.addEventListener?o.addEventListener("change",(function(n){BI.trace(n),n.target.title=n.target.value,e._renderThumbnail(t.type,Object.assign(t.values,{width:n.target.value})),e.onChangeValueLegendMapBox(n)})):o.attachEvent&&o.attachEvent("onchange",(function(n){BI.trace(n),n.target.title=n.target.value,e._renderThumbnail(t.type,Object.assign(t.values,{width:n.target.value})),e.onChangeValueLegendMapBox(n)})),i.appendChild(r),i.appendChild(o),n.appendChild(i)}function o(){var i=document.createElement("div");i.className="legend-styling-div";var r=document.createElement("label");r.className="legend-line",r.htmlFor=this.id?"line-opacity-"+this.id:"line-opacity",r.innerHTML=this.labels["line-opacity"];var o=document.createElement("input");o.className="legend-styling",o.id=this.id?"line-opacity-"+this.id:"line-opacity",o.title=t.values.opacity,o.type="range",o.min="0",o.max="1",o.step="0.1",o.defaultValue=t.values.opacity,o.setAttribute("data-id","line-opacity"),o.addEventListener?o.addEventListener("change",(function(n){BI.trace(n),n.target.title=n.target.value,e._renderThumbnail(t.type,Object.assign(t.values,{opacity:n.target.value})),e.onChangeValueLegendMapBox(n)})):o.attachEvent&&o.attachEvent("onchange",(function(n){BI.trace(n),n.target.title=n.target.value,e._renderThumbnail(t.type,Object.assign(t.values,{opacity:n.target.value})),e.onChangeValueLegendMapBox(n)})),i.appendChild(r),i.appendChild(o),n.appendChild(i)}function s(){var i=document.createElement("div");i.className="legend-styling-div";var r=document.createElement("label");r.className="legend-fill",r.htmlFor=this.id?"fill-color-"+this.id:"fill-color",r.innerHTML=this.labels["fill-color"];var o=document.createElement("input");o.className="legend-styling",o.id=this.id?"fill-color-"+this.id:"fill-color",o.title="Selectionner une couleur de remplissage",o.type="color",o.value=t.values.color,o.setAttribute("data-id","fill-color"),o.addEventListener?o.addEventListener("change",(function(n){e._renderThumbnail(t.type,Object.assign(t.values,{color:n.target.value})),e.onChangeValueLegendMapBox(n)})):o.attachEvent&&o.attachEvent("onchange",(function(n){e._renderThumbnail(t.type,Object.assign(t.values,{color:n.target.value})),e.onChangeValueLegendMapBox(n)})),i.appendChild(r),i.appendChild(o),n.appendChild(i)}function a(){var i=document.createElement("div");i.className="legend-styling-div";var r=document.createElement("label");r.className="legend-fill",r.htmlFor=this.id?"fill-opacity-"+this.id:"fill-opacity",r.innerHTML=this.labels["fill-opacity"];var o=document.createElement("input");o.className="legend-styling",o.id=this.id?"fill-opacity-"+this.id:"fill-opacity",o.title=t.values.opacity,o.type="range",o.min="0",o.max="1",o.step="0.1",o.defaultValue=t.values.opacity,o.setAttribute("data-id","fill-opacity"),o.addEventListener?o.addEventListener("change",(function(n){n.target.title=n.target.value,e._renderThumbnail(t.type,Object.assign(t.values,{opacity:n.target.value})),e.onChangeValueLegendMapBox(n)})):o.attachEvent&&o.attachEvent("onchange",(function(n){n.target.title=n.target.value,e._renderThumbnail(t.type,Object.assign(t.values,{opacity:n.target.value})),e.onChangeValueLegendMapBox(n)})),i.appendChild(r),i.appendChild(o),n.appendChild(i)}return n}add(){if(!this.options.target){if(!document.getElementById(this.name.target)){var t=document.createElement("div");t.id=this.name.target;var e=document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0];e.appendChild(t)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this}display(t){return BI.trace("display()",t),"undefined"!==typeof t&&(this.container.style.display=t?"flex":"none"),"flex"===this.container.style.display}isEditable(){return this.editable}getRenderContainer(){return this.rendercontainer}getToolsContainer(){return this.toolscontainer}getContainer(){return this.container}onEditionLegendMapBox(t){BI.trace("onEditionLegendMapBox",t),t.editorID=this.id,t.data=this.options,PI.dispatch(RI.legend.onclickedition,t)}onChangeValueLegendMapBox(t){BI.trace("onChangeValueLegendMapBox",t),t.editorID=this.id,t.data=this.options,PI.dispatch(RI.legend.onchangevalue,t)}}jI.PROPERTIES={line:["line-color","line-dasharray","line-opacity","line-width"],fill:["fill-color","fill-opacity","fill-outline-color","fill-pattern"],background:["background-color","background-opacity","background-pattern"],circle:["circle-color","circle-opacity","circle-stroke-color","circle-stroke-opacity","circle-stroke-width"],icon:["icon-color","icon-image","icon-opacity","__icon-size"],text:["__text-anchor","text-color","text-field","__text-font","__text-opacity","__text-size"]};var zI=jI,WI=Pn.getLogger("editor-layer");class VI{constructor(t){if(WI.trace("[constructor] Layer",t),this.options=t||{},!(this instanceof VI))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()}_initialize(){this.id=this.options.id||null,this.options.target,this.options.position||(this.options.position=0);var t={visibility:!0,icon:{image:!0,anchor:"end"},type:!0,pin:!0,remove:!1,clone:!1};this.options.tools||(this.options.tools=t),Dn.mergeParams(this.options.tools,t,!1);var e={id:"",type:"",source:"","source-layer":""};this.options.obj||(this.options.obj=e),Dn.mergeParams(this.options.obj,e,!1),this.bSlotLegend=!1,this.oFilter=null,this.oStyle=null,this.oLegend=null,this.container=null,this.DomVisibility=null,this.DomToggle=null,this.name={target:"GPEditorMapBoxLayerTarget",container:"GPEditorMapBoxLayerContainer",containerlegend:"GPEditorMapBoxLayerLegendContainer",containertitle:"GPEditorMapBoxLayerTitleContainer",imagelabelinput:"GPEditorMapBoxLayerImageInput",imagelabel:"GPEditorMapBoxLayerImageLabel",typeimg:"GPEditorMapBoxLayerTypeImage",titleinput:"GPEditorMapBoxLayerTitleInput",titlelabel:"GPEditorMapBoxLayerTitleLabel",containertools:"GPEditorMapBoxToolsContainer",visibilityinput:"GPEditorMapBoxToolsVisibilityInput",visibilitylabel:"GPEditorMapBoxToolsVisibilityLabel",visibilityinputdisable:"GPEditorMapBoxToolsVisibilityInputDisable",visibilitylabeldisable:"GPEditorMapBoxToolsVisibilityLabelDisable"}}_initContainer(){var t=this,e=this.options.obj,n=document.createElement("div");n.className=this.name.container;var i=document.createElement("div");if(i.id=this.name.containertitle+"-"+this.options.position,i.className=this.name.containertitle,this.options.tools.pin){var r=document.createElement("input");r.id=this.name.imagelabelinput+"-"+this.options.position,r.className=this.name.imagelabelinput,r.type="checkbox",i.appendChild(r);var o=document.createElement("label");o.className=this.name.imagelabel,o.htmlFor=r.id,o.addEventListener?o.addEventListener("click",(function(e){t.onClickLayerMapBox(e)})):o.attachEvent&&o.attachEvent("onclick",(function(e){t.onClickLayerMapBox(e)})),i.appendChild(o)}var s=function(){var e=document.createElement("div");if(e.id=this.name.containertools+"-"+this.options.position,e.className=this.name.containertools,this.options.tools.visibility){var i=document.createElement("input");i.id=this.name.visibilityinput+"-"+this.options.position,i.className=this.options.tools.icon.image?this.name.visibilityinput:this.name.visibilityinputdisable,i.type="checkbox",i.checked="checked",i.addEventListener?i.addEventListener("click",(function(e){t.onVisibilityLayerMapBox(e)})):i.attachEvent&&i.attachEvent("onclick",(function(e){t.onVisibilityLayerMapBox(e)})),e.appendChild(i),this.DomVisibility=i;var r=document.createElement("label");r.htmlFor=this.name.visibilityinput+"-"+this.options.position,r.id=this.name.visibilitylabel+"-"+this.options.position,r.className=this.options.tools.icon.image?this.name.visibilitylabel:this.name.visibilitylabeldisable,r.title="Afficher/masquer la couche",e.appendChild(r),n.appendChild(e)}this.options.tools.clone&&WI.warn("Dom for tools clone, it's not yet implemented !"),this.options.tools.remove&&WI.warn("Dom for tools remove, it's not yet implemented !")};if("start"===this.options.tools.icon.anchor&&s.apply(this),this.options.tools.type&&e.type){var a=document.createElement("img");switch(a.className=this.name.typeimg,e.type.toUpperCase()){case"SYMBOL-ICON":a.style["background-position"]="0px 0";break;case"SYMBOL-TEXT":a.style["background-position"]="-194px 0";break;case"SYMBOL":a.style["background-position"]="-84px 0";break;case"LINE":a.style["background-position"]="-28px 0";break;case"FILL":a.style["background-position"]="-56px 0";break;case"BACKGROUND":a.style["background-position"]="-140px 0";break;case"CIRCLE":a.style["background-position"]="-168px 0";break;default:a.style["background-position"]="-112px 0"}i.appendChild(a)}var l=document.createElement("div");l.id=this.name.containerlegend+"-"+this.options.position,l.className=this.name.containerlegend,i.appendChild(l);var c=document.createElement("input");c.id=this.name.titleinput+"-"+this.options.position,c.className=this.name.titleinput,c.type="checkbox",i.appendChild(c);var u=document.createElement("label");u.className=this.name.titlelabel,u.htmlFor=c.id,u.innerHTML=e["id"]||e["source-layer"]||e["source"],u.title=e["source-layer"]||e["source"]||e["id"],u.addEventListener?u.addEventListener("click",(function(e){t.onClickLayerMapBox(e)})):u.attachEvent&&u.attachEvent("onclick",(function(e){t.onClickLayerMapBox(e)})),i.appendChild(u),this.DomToggle=u,n.appendChild(i),"end"===this.options.tools.icon.anchor&&s.apply(this),this.container=n}add(){if(WI.trace("add()"),!this.options.target){if(!document.getElementById(this.name.target)){var t=document.createElement("div");t.id=this.name.target;var e=document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0];e.appendChild(t)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this}addStyle(t){WI.trace("addStyle()",t),t&&"object"===typeof t&&t instanceof LI&&(this.oStyle=t,this.oStyle.display(!1))}addFilter(t){WI.trace("addFilter()",t),t&&"object"===typeof t&&t instanceof UI&&(this.oFilter=t,this.oFilter.display(!1))}addLegend(t){WI.trace("addLegend()",t),t&&"object"===typeof t&&t instanceof zI&&(this.oLegend=t,this.oLegend.display(!1))}slotLegend(){var t=this.oLegend;if(t){var e=null,n=this.container.childNodes;if(n.length)for(var i="start"===this.options.tools.icon.anchor?1:0,r=n[i].childNodes,o=0;o<r.length;o++){var s=r[o];-1!==s.id.indexOf(this.name.containerlegend)&&(e=s)}if(e){var a=t.getRenderContainer();a&&(e.appendChild(a),this.bSlotLegend=!0)}}}visibility(t){if(WI.trace("visibility()",t),this.options.tools.visibility)return"undefined"!==typeof t&&(this.DomVisibility.checked=t?"checked":""),this.DomVisibility.checked}collapse(){WI.trace("collapse()"),this.DomToggle.click()}visible(){WI.trace("visible()"),this.options.tools.visibility&&this.DomVisibility.click()}display(t){WI.trace("display()",t);var e=document.getElementById(this.DomToggle.htmlFor).checked;return"undefined"!==typeof t&&(this.container.style.display=t?"inline-flex":"none",this.oStyle&&this.oStyle.display(t&&e),this.oFilter&&this.oFilter.display(t&&e),this.oLegend&&this.oLegend.display(t&&e)),e}active(t){return WI.trace("active()",t),"undefined"!==typeof t&&(this.container.className=t?this.name.container:this.name.container+" disabled"),this.container.className===this.name.container}getContainer(){return this.container}onClickLayerMapBox(t){WI.trace("onClickLayerMapBox",t);var e=t.target.htmlFor.substring(t.target.htmlFor.indexOf("-")),n=document.getElementById(t.target.htmlFor).checked;t.target.htmlFor===this.name.imagelabelinput+e&&(document.getElementById(this.name.titleinput+e).checked=!n),t.target.htmlFor===this.name.titleinput+e&&document.getElementById(this.name.imagelabelinput+e)&&(document.getElementById(this.name.imagelabelinput+e).checked=!n),this.oStyle&&this.oStyle.display(!n),this.oFilter&&this.oFilter.display(!n),this.oLegend&&this.oLegend.isEditable()&&this.oLegend.display(!n)}onVisibilityLayerMapBox(t){WI.trace("onVisibilityLayerMapBox",t),t.editorID=this.id,t.data=this.options,PI.dispatch(RI.layer.onclickvisibility,t)}onCloneLayerMapBox(t){WI.trace("onCloneLayerMapBox",t),t.editorID=this.id,t.data=this.options,PI.dispatch(RI.layer.onclickclone,t)}onRemoveLayerMapBox(t){WI.trace("onRemoveLayerMapBox",t),t.editorID=this.id,t.data=this.options,PI.dispatch(RI.layer.onclickremove,t)}}var YI=VI,HI=Pn.getLogger("editor-group");class qI{constructor(t){if(HI.trace("[constructor] Group",t),this.options=t||{},!(this instanceof qI))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()}_initialize(){this.id=this.options.id||null,this.options.target,this.options.title||(this.options.title="Détails du groupe..."),"undefined"===typeof this.options.collapse&&(this.options.collapse=!0),this.container=null,this.name={target:"GPEditorMapBoxGroupTarget",container:"GPEditorMapBoxGroupContainer",details:"GPEditorMapBoxGroupDetails",summary:"GPEditorMapBoxGroupSummary"}}_initContainer(){var t=document.createElement("div");t.className=this.name.container;var e=document.createElement("details");e.className=this.name.details,e.open=!this.options.collapse,t.appendChild(e);var n=document.createElement("summary");n.className=this.name.summary,n.innerHTML=this.options.title,e.appendChild(n),this.container=t}add(){if(!this.options.target){if(!document.getElementById(this.name.target)){var t=document.createElement("div");t.id=this.name.target;var e=document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0];e.appendChild(t)}this.options.target=document.getElementById(this.name.target)}this.container&&this.options.target.appendChild(this.container)}display(t){this.container.style.display=t?"flex":"none"}getContainer(){var t=this.container.childNodes;return t.length?t[0]:this.container}onCollapseGroupMapBox(t){HI.trace("onCollapseGroupMapBox",t),t.editorID=this.id,t.data=this.options,PI.dispatch(RI.group.oncollapse,t)}}var XI=qI,ZI=Pn.getLogger("editor-search");class KI{constructor(t){if(ZI.trace("[constructor] Search",t),this.options=t||{target:null,tools:null,title:null,obj:null},!(this instanceof KI))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()}_initialize(){this.id=this.options.id||null,this.options.target;var t={};this.options.tools||(this.options.tools=t),Dn.mergeParams(this.options.tools,t,!1),this.options.obj||(this.options.obj={}),this.options.title||(this.options.title="Recherche de couches :"),this.container=null,this.name={target:"GPEditorMapBoxSearchTarget",container:"GPEditorMapBoxSearchContainer"}}_initContainer(){var t=JSON.parse(JSON.stringify(this.options.obj));t.layers&&0===t.layers.length&&ZI.info("tag 'layers' is empty !");var e=document.createElement("div");e.className=this.name.container,this.container=e}add(){if(!this.options.target){if(!document.getElementById(this.name.target)){var t=document.createElement("div");t.id=this.name.target;var e=document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0];e.appendChild(t)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this}display(t){return ZI.trace("display()",t),"undefined"!==typeof t&&(this.container.style.display=t?"flex":"none"),"flex"===this.container.style.display}getContainer(){return this.container}onSubmitSearchLayersMapBox(t){ZI.trace("onSubmitSearchLayersMapBox",t),t.editorID=this.id,t.data=this.options,PI.dispatch(RI.search.onsubmit,t)}onAutocompleteSearchLayersMapBox(t){ZI.trace("onAutocompleteSearchLayersMapBox",t),t.editorID=this.id,t.data=this.options,PI.dispatch(RI.search.onautocomplete,t)}}var JI=KI,QI={_addUID:function(t){var e=this._uid?t+"-"+this._uid:t;return e}},$I=QI,tE=Pn.getLogger("editor");class eE{constructor(t){if(tE.trace("[constructor] Editor",t),this.options=t||{},!(this instanceof eE))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize()}_initialize(){if(this.options.target||tE.info("La 'target' n'est pas renseignée (options.target)."),this.options.style){this.options.events?this._initEvents():tE.warn("Les 'handlers' ne sont pas renseignés (options.events) !"),this.options.themes||tE.info("Les 'themes' MapBox ne sont pas renseignés (options.themes).");var t={themes:!1,layers:!0,search:!1,style:!1,filter:!1,legend:!1,group:!1,groupAuto:!1,sort:!0,sortBy:"id",sortOrder:"asc",title:!0,collapse:void 0,type:!0,pin:!0,visibility:!0,icon:{image:!0,anchor:"end"},editable:!0};this.options.tools||(tE.trace("Utilisation des outils MapBox par défaut (options.tools)."),this.options.tools=t),Dn.mergeParams(this.options.tools,t,!1),this.id=this.options.id||Yc.generate(),this.context={},this.layers=[],this.container=null,this.name={target:"GPEditorMapBoxTarget",container:"GPEditorMapBoxContainer",containerID:"GPEditorMapBoxContainer_ID_",containerLayers:"GPEditorMapBoxLayersContainer",titleLayers:"GPEditorMapBoxLayersTitle",titleLayersID:"GPEditorMapBoxLayersTitle_ID_",titleThemes:"GPEditorMapBoxThemesTitle",titleThemesID:"GPEditorMapBoxThemesTitle_ID_",sep:"GPEditorMapBoxSep"},this.mapbox={},this.sprites={}}else tE.error("Le 'style' MapBox n'est pas renseigné (options.style) !")}_initEvents(){var t=this.options.scope||this,e=this.options.events;if(e)for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];i&&(PI.hasEventListener(n,i,t)||PI.addEventListener(n,i,t))}}_initContainer(){tE.trace(this.mapbox);var t=document.createElement("div");t.id=this.name.containerID+this.id,t.className=this.name.container;var e=this.options.tools.themes;if(e&&this.options.themes){if(this.options.tools.title){var n=document.createElement("div");n.id=this.name.titleThemesID+this.id,n.className=this.name.titleThemes,n.innerHTML="Liste des 'thèmes'",t.appendChild(n)}var i=new DI({id:this.id,target:t,tools:"object"===typeof e?e:{},obj:this.options.themes});i.add()}if(this.options.tools.search){var r=new JI({id:this.id,target:t,tools:{},obj:this.mapbox.layers});r.add()}for(var o in this.mapbox.sources)if(this.mapbox.sources.hasOwnProperty(o)){if(this.options.tools.layers){var s=Object.keys(this.mapbox.sources).length>1?1:0;if(s){var a=document.createElement("hr");a.className=this.name.sep,t.appendChild(a)}if(this.options.tools.title){var l=document.createElement("div");l.id=this.name.titleLayersID+this.id,l.className=this.name.titleLayers,l.innerHTML=s?"Liste des 'couches' ("+o+")":"Liste des 'couches'",t.appendChild(l)}}var c=this.mapbox.layers.slice();if(c.forEach((function(t,e){var n=t["metadata"];n?n["geoportail:order"]=e:t["metadata"]={"geoportail:order":e}})),this.options.tools.sort){var u=this.options.tools.sortBy,h=this.options.tools.sortOrder,d=function(t,e){var n=0;if(t["metadata"]&&t["metadata"]["geoportail:group"]&&e["metadata"]&&e["metadata"]["geoportail:group"]){var i=null,r=null;i=t["metadata"]["geoportail:group"],r=e["metadata"]["geoportail:group"],n=i.localeCompare(r)}else switch(u){case"geom":n="asc"===h?t.type.localeCompare(e.type)||t.id.localeCompare(e.id):e.type.localeCompare(t.type)||e.id.localeCompare(t.id);break;case"class":n="asc"===h?t["source-layer"].localeCompare(e["source-layer"])||t.id.localeCompare(e.id):e["source-layer"].localeCompare(t["source-layer"])||e.id.localeCompare(t.id);break;case"id":default:n="asc"===h?t.id.localeCompare(e.id):e.id.localeCompare(t.id);break}return n};c.sort(d)}tE.trace("Layers : ",c);var p=this.options.tools.sortBy,g=this.options.tools.groupAuto,f={};c.forEach((function(t){var e=t["metadata"];if(e&&e["geoportail:group"]){var n=e["geoportail:group"];f[n]=f[n]?f[n]+1:1}else{var i=null;switch(p){case"class":i=t["source-layer"];break;case"geom":i=t.type;break;case"id":default:i=t.id;break}var r=i;if(g){var o=/_|-|:|=/,s=i.search(o);r=-1!==s?i.substring(0,s).trim():i}f[r]=f[r]?f[r]+1:1,e?e["geoportail:group"]=r:t["metadata"]={"geoportail:group":r}}})),tE.trace("Groups : ",f);var m,A=document.createElement("div");if(A.className=this.name.containerLayers,t.appendChild(A),void 0!==this.options.tools.collapse){m=document.createElement("details"),m.className="",m.open=!this.options.tools.collapse,A.appendChild(m);var y=document.createElement("summary");y.className="",y.innerHTML="",m.appendChild(y)}for(var v=void 0!==this.options.tools.collapse?m:A,_=-1,C=0;C<c.length;C++){var I=c[C];if(_++,I.source===o){if(this.options.tools.group&&this.options.tools.sort){var E=I.metadata;if(E){var w=I.metadata["geoportail:group"];if(w)if(f[w]>1){f[w]=-1;var b=new XI({id:this.id,target:void 0!==this.options.tools.collapse?m:A,title:w,collapse:!0});b.add(),v=b.getContainer()}else 1===f[w]&&(v=void 0!==this.options.tools.collapse?m:A);else v=void 0!==this.options.tools.collapse?m:A}else v=void 0!==this.options.tools.collapse?m:A}if(this.options.tools.layers){var x=new YI({id:this.id,target:v,position:_+"_"+this.id,tools:{visibility:this.options.tools.visibility,icon:this.options.tools.icon,type:this.options.tools.type,pin:this.options.tools.pin},obj:{id:I.id,type:I.type,source:I.source,"source-layer":I["source-layer"]}});x.add(),I.layout&&I.layout.visibility&&"none"===I.layout.visibility&&x.visibility(!1),this.layers.push(x)}if(this.options.tools.legend){var S=this.options.tools.editable;"undefined"===typeof S&&(S=I.editable);var P=new zI({id:this.id,target:v,sprites:this.sprites,obj:{id:I.id,source:I.source,title:I.id,editable:"undefined"!==typeof S&&S,paint:I.paint,layout:I.layout}});P.add(),P.display(!1),x&&(x.addLegend(P),x.slotLegend())}if(this.options.tools.style){var M=new LI({id:this.id,target:v,position:_+"_"+this.id,obj:{id:I.id,source:I.source,layout:I.layout,paint:I.paint}});M.add(),M.display(!1),x&&x.addStyle(M),I.layout&&I.layout.visibility&&"none"===I.layout.visibility&&x.visibility(!1)}if(this.options.tools.filter){var R=new UI({id:this.id,target:v,position:_+"_"+this.id,obj:{id:I.id,source:I.source,filter:I.Filter}});R.add(),R.display(!1),x&&x.addFilter(R)}}else _>=0&&_--}}if(this.container=t,!this.options.target){if(!document.getElementById(this.name.target)){var T=document.createElement("div");T.id=this.name.target;var G=document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]||document.documentElement;G.appendChild(T)}this.options.target=document.getElementById(this.name.target)}this.container&&this.options.target.appendChild(this.container),PI.dispatch(RI.onloaded,this)}_getSprites(t){var e=this;if(t&&t.startsWith("mapbox://"))return new Promise(((t,n)=>{tE.error("Protocole mapbox:// non géré !"),t(e)}));if(!t)return new Promise(((t,n)=>{tE.error("Auncun sprites disponibles !"),t(e)}));var n=function(){var n=t+".png";return fetch(n,{credentials:"same-origin"}).then((function(t){if(t.ok)return t.blob().then((function(t){e.sprites.url=n;var i=new Image;return i.src=n,i.decode().then((function(){e.sprites.size={},e.sprites.size.h=i.height,e.sprites.size.w=i.width}))})).catch((t=>{tE.warn("fetch image sprites exception :",t)}));var i=new Error("HTTP status code: "+t.status);throw i})).catch((t=>new Promise(((e,n)=>{tE.error("fetch image sprites exception :",t),n(t)}))))},i=function(){var n=t+".json";return fetch(n,{credentials:"same-origin"}).then((function(t){if(t.ok)return t.json().then((function(t){e.sprites.json=t})).catch((t=>{tE.warn("fetch json sprites exception :",t)}));var n=new Error("HTTP status code: "+t.status);throw n})).catch((t=>new Promise(((e,n)=>{tE.error("fetch json sprites exception :",t),n(t)}))))};return Promise.all([n(),i()])}createElement(){var t=this;return"object"===typeof this.options.style?(this.mapbox=this.options.style,this.options.tools.legend?this._getSprites(this.mapbox.sprite).then((function(){return t._initContainer(),t})).catch((t=>{tE.warn("fetch sprites exception :",t)})):new Promise(((e,n)=>{t._initContainer(),e(t)}))):"string"===typeof this.options.style?fetch(this.options.style,{credentials:"same-origin"}).then((e=>e.json().then((e=>{t.mapbox=e})).then((function(){return t.options.tools.legend?t._getSprites(t.mapbox.sprite).then((function(){return t._initContainer(),t})).catch((t=>{tE.warn("fetch sprites exception :",t)})):new Promise(((e,n)=>{t._initContainer(),e(t)}))})).catch((t=>{tE.error("json exception :",t)})))).catch((t=>{tE.error("fetch exception :",t)})):void 0}display(t){this.container.style.display=t?"block":"none"}setContext(t,e){this.context[t]=e}getContext(t){return this.context[t]}getID(){return this.id}getContainer(){return this.container}getStyle(){return this.mapbox}getStyleLayer(t){for(var e=null,n=this.getLayer(t),i=n.options.obj.id,r=0;r<this.mapbox.layers.length;r++){var o=this.mapbox.layers[r];if(o.id===i){e=o;break}}return e}getLayerFromStyle(t){for(var e=null,n=this.mapbox.layers[t],i=0;i<this.getLayers().length;i++){var r=this.getLayer(i);if(n.id===r.options.obj.id){e=r;break}}return e}getLayers(){return this.layers}getLayer(t){return this.layers[t]}}Dn.assign(eE.prototype,$I);var nE=eE;window.ol&&window.ol.style&&(window.ol.style.Editor=eE);var iE={_addUID:function(t){var e=this._uid?t+"-"+this._uid:t;return e},_createLoadingElement:function(){var t=document.createElement("div");return t.id="GPmapLoading",t.className="",t},_createMainContainerElement:function(){var t=document.createElement("div");return t.id=this._addUID("GPimport"),t.className="GPwidget gpf-widget",t},_createShowImportPictoElement:function(){var t=this,e=document.createElement("button");return e.id=this._addUID("GPshowImportPicto"),e.className="GPshowOpen GPshowAdvancedToolPicto GPshowImportPicto gpf-btn gpf-btn-icon-import fr-btn",e.title="Ouvrir l'import de couches",e.setAttribute("tabindex","0"),e.setAttribute("aria-pressed",!1),e.addEventListener?e.addEventListener("click",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t._onShowImportClick()})):e.attachEvent&&e.attachEvent("onclick",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t._onShowImportClick()})),e},_createImportPanelElement:function(){var t=document.createElement("dialog");return t.id=this._addUID("GPimportPanel"),t.className="GPpanel gpf-panel fr-modal",t},_createImportPanelDivElement:function(){var t=document.createElement("div");return t.className="gpf-panel__body fr-modal__body",t},_createImportPanelHeaderElement:function(){var t=document.createElement("div");return t.className="GPpanelHeader gpf-panel__header fr-modal__header",t},_createImportPanelTitleElement:function(){var t=document.createElement("div");return t.id=this._addUID("GPimportHeaderTitle"),t.className="GPpanelTitle gpf-panel__title fr-modal__title",t.innerHTML="Import de données",t},_createImportPanelCloseElement:function(){var t=this,e=document.createElement("button");e.id=this._addUID("GPimportPanelClose"),e.className="GPpanelClose GPimportPanelClose gpf-btn gpf-btn-icon-close fr-btn--close fr-btn",e.title="Fermer le panneau",e.addEventListener?e.addEventListener("click",(function(){document.getElementById(t._addUID("GPshowImportPicto")).click()}),!1):e.attachEvent&&e.attachEvent("onclick",(function(){document.getElementById(t._addUID("GPshowImportPicto")).click()}));var n=document.createElement("span");return n.className="GPelementHidden gpf-visible",n.innerText="Fermer",e.appendChild(n),e},_createImportPanelFormElement:function(){var t=this,e=document.createElement("form");return e.id=this._addUID("GPimportForm"),e.className="GPform gpf-panel__content fr-modal__content",e.addEventListener?e.addEventListener("submit",(function(e){e.preventDefault(),t._onImportSubmit()})):e.attachEvent&&e.attachEvent("onsubmit",(function(e){e.preventDefault(),t._onImportSubmit()})),e},_createImportTypeLineElement:function(t){var e=this,n=document.createElement("div");n.id=this._addUID("GPimportTypeLine"),n.className="GPimportInputLine";var i=document.createElement("label");i.id=this._addUID("GPimportTypeLabel"),i.className="GPlabel gpf-label fr-label",i.innerHTML="Type de donnée",i.title="Type de donnée",n.appendChild(i);var r,o=document.createElement("select");o.setAttribute("aria-labelledby",this._addUID("GPimportTypeLabel")),o.className="GPselect gpf-select fr-select",o.addEventListener?o.addEventListener("change",(function(t){"KML"===this.value||"GPX"===this.value||"GeoJSON"===this.value||"MAPBOX"===this.value?(document.getElementById(e._addUID("GPimportStaticParams")).className="GPelementVisible gpf-visible",document.getElementById(e._addUID("GPimportServiceParams")).className="GPelementHidden gpf-hidden"):"WMS"!==this.value&&"WMTS"!==this.value&&"WFS"!==this.value||(document.getElementById(e._addUID("GPimportServiceParams")).className="GPelementVisible gpf-visible",document.getElementById(e._addUID("GPimportStaticParams")).className="GPelementHidden gpf-hidden"),e._onImportTypeChange(t)})):o.attachEvent&&o.attachEvent("onchange",(function(){"KML"===this.value||"GPX"===this.value||"GeoJSON"===this.value||"MAPBOX"===this.value?(document.getElementById(e._addUID("GPimportStaticParams")).className="GPelementVisible gpf-visible",document.getElementById(e._addUID("GPimportServiceParams")).className="GPelementHidden gpf-hidden"):"WMS"!==this.value&&"WMTS"!==this.value&&"WFS"!==this.value||(document.getElementById(e._addUID("GPimportServiceParams")).className="GPelementVisible gpf-visible",document.getElementById(e._addUID("GPimportStaticParams")).className="GPelementHidden gpf-hidden"),e._onImportTypeChange()})),o.id=this._addUID("GPimportTypeSelect"),t&&Array.isArray(t)||(t=["KML","GPX","GeoJSON","MAPBOX","WMS","WMTS","WFS"]);for(var s=0;s<t.length;s++)r=document.createElement("option"),r.value=t[s],r.text="MAPBOX"===t[s]?"Tuiles vectorielles":t[s],o.appendChild(r);return n.appendChild(o),n},_createImportWaitingElement:function(){var t=document.createElement("div");t.id=this._addUID("GPimportWaitingContainer"),t.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden";var e=document.createElement("p");return e.className="GPwaitingContainerInfo gpf-waiting_info",e.innerHTML="Recherche en cours...",t.appendChild(e),t},_createImportStaticParamsContainer:function(t){var e=document.createElement("div");return e.id=this._addUID("GPimportStaticParams"),e.className="KML"===t||"GPX"===t||"GeoJSON"===t||"MAPBOX"===t?"GPelementVisible gpf-visible":"GPelementHidden gpf-hidden",e},_createStaticNameLabel:function(){var t=document.createElement("div");t.className="GPimportInputLine";var e=document.createElement("label");e.className="GPlabel gpf-label fr-label",e.htmlFor=this._addUID("GPimportName"),e.innerHTML="Nom",e.title="Nom",t.appendChild(e);var n=document.createElement("input");return n.type="text",n.id=this._addUID("GPimportName"),n.className="GPinput gpf-input fr-input",t.appendChild(n),t},_createStaticModeChoiceDiv:function(){var t=document.createElement("div");return t.id=this._addUID("GPimportChoice"),t},_createStaticLocalChoiceDiv:function(){var t=this,e=document.createElement("div");e.className="GPimportChoiceAlt gpf-radio-group fr-radio-group";var n=document.createElement("input");n.type="radio",n.addEventListener?n.addEventListener("change",(function(e){document.getElementById(t._addUID("GPimportValueLocal")).className="GPimportInputLine",document.getElementById(t._addUID("GPimportValueUrl")).className="GPelementHidden gpf-hidden",t._onStaticImportTypeChange(e)})):n.appendChild&&n.appendChild("onchange",(function(){document.getElementById(t._addUID("GPimportValueLocal")).className="GPimportInputLine",document.getElementById(t._addUID("GPimportValueUrl")).className="GPelementHidden gpf-hidden",t._onStaticImportTypeChange()})),n.name="GPimportChoiceMode",n.value="local",n.checked=!0,n.id=this._addUID("GPimportChoiceAltLocal"),e.appendChild(n);var i=document.createElement("label");return i.className="GPimportChoiceAltTxt gpf-label fr-label",i.htmlFor=this._addUID("GPimportChoiceAltLocal"),i.innerHTML="par fichier local",i.title="par fichier local",e.appendChild(i),e},_createStaticUrlChoiceDiv:function(){var t=this,e=document.createElement("div");e.className="GPimportChoiceAlt gpf-radio-group fr-radio-group";var n=document.createElement("input");n.type="radio",n.addEventListener?n.addEventListener("change",(function(e){document.getElementById(t._addUID("GPimportValueUrl")).className="GPimportInputLine",document.getElementById(t._addUID("GPimportValueLocal")).className="GPelementHidden gpf-hidden",t._onStaticImportTypeChange(e)})):n.appendChild&&n.appendChild("onchange",(function(){document.getElementById(t._addUID("GPimportValueUrl")).className="GPimportInputLine",document.getElementById(t._addUID("GPimportValueLocal")).className="GPelementHidden gpf-hidden",t._onStaticImportTypeChange()})),n.id=this._addUID("GPimportChoiceAltUrl"),n.name="GPimportChoiceMode",n.value="url",n.checked=!1,e.appendChild(n);var i=document.createElement("label");return i.className="GPimportChoiceAltTxt gpf-label fr-label",i.htmlFor=this._addUID("GPimportChoiceAltUrl"),i.innerHTML="par URL",i.title="par URL",e.appendChild(i),e},_createStaticLocalInputDiv:function(){var t=document.createElement("div");return t.id=this._addUID("GPimportValueLocal"),t.className="GPimportInputLine",t},_createStaticLocalInputLabel:function(){var t=document.createElement("label");return t.className="GPlabel gpf-label fr-label",t.htmlFor=this._addUID("GPimportFile"),t.innerHTML="Fichier local",t.title="Fichier local",t},_createStaticLocalInput:function(){var t=document.createElement("input");return t.type="file",t.id=this._addUID("GPimportFile"),t.className="GPimportInputFile gpf-upload fr-upload",t},_createStaticUrlInputDiv:function(){var t=document.createElement("div");return t.id=this._addUID("GPimportValueUrl"),t.className="GPelementHidden gpf-hidden",t},_createStaticUrlInputLabel:function(){var t=document.createElement("label");return t.className="GPlabel gpf-label fr-label",t.htmlFor=this._addUID("GPimportUrl"),t.innerHTML="URL",t.title="URL",t},_createStaticUrlInput:function(){var t=document.createElement("input");return t.type="text",t.id=this._addUID("GPimportUrl"),t.className="GPinput gpf-input fr-input",t},_createServiceParamsContainer:function(t){var e=document.createElement("div");return e.id=this._addUID("GPimportServiceParams"),e.className="WMS"===t||"WMTS"===t||"WFS"===t?"GPelementVisible gpf-visible":"GPelementHidden gpf-hidden",e},_createServiceUrlDiv:function(){var t=document.createElement("div");return t.className="GPimportInputLine",t},_createServiceUrlInputLabel:function(){var t=document.createElement("label");return t.className="GPlabel gpf-label fr-label",t.htmlFor=this._addUID("GPimportServiceUrl"),t.innerHTML="URL du service",t.title="URL du service",t},_createServiceUrlInput:function(){var t=document.createElement("input");return t.type="text",t.id=this._addUID("GPimportServiceUrl"),t.className="GPinput gpf-input fr-input",t},_createImportSubmitFormElement:function(){var t=document.createElement("input");return t.id=this._addUID("GPimportSubmit"),t.className="GPsubmit gpf-btn fr-btn",t.type="submit",t.value="Importer",t},_createImportGetCapPanelElement:function(){var t=document.createElement("div");return t.id=this._addUID("GPimportGetCapPanel"),t.className="GPpanel gpf-panel fr-modal",t},_createImportGetCapPanelHeaderElement:function(){var t=this,e=document.createElement("div");e.className="GPpanelHeader gpf-panel__header fr-modal__header";var n=document.createElement("div");n.className="GPpanelTitle gpf-panel__title fr-modal__title",n.innerHTML="Couches accessibles",n.title="Couches accessibles",e.appendChild(n);var i=document.createElement("button");return i.className="GPpanelClose GPimportGetCapPanelClose gpf-btn gpf-btn-icon-close fr-btn--close fr-btn",i.title="Fermer le panneau",i.id=this._addUID("GPimportGetCapPanelClose"),i.addEventListener?i.addEventListener("click",(function(){document.getElementById(t._addUID("GPshowImportPicto")).click(),document.getElementById(t._addUID("GPimportGetCapPanel")).style.display="none",t._onGetCapPanelClose()})):i.attachEvent&&i.attachEvent("click",(function(){document.getElementById(t._addUID("GPshowImportPicto")).click(),document.getElementById(t._addUID("GPimportGetCapPanel")).style.display="none",t._onGetCapPanelClose()})),e.appendChild(i),e},_createImportGetCapResultsContainer:function(){var t=document.createElement("div");return t.className="GPimportGetCapRoot gpf-panel__list",t.id=this._addUID("GPimportGetCapResults"),t},_addImportGetCapResultListRubrique:function(t,e){var n=document.createElement("ul");return n.className="GPimportGetCapListRubrique",n.title=t,e.appendChild(n),e},_addImportGetCapResultRubrique:function(t,e){var n=document.createElement("li");n.className="GPimportGetCapRubrique gpf-panel__items";var i=document.createElement("input");i.id="GPimportGetCapRubrique-"+Yc.generate(),i.className="GPimportGetCapRubrique",i.type="checkbox",n.appendChild(i);var r=document.createElement("label");return r.className="GPimportGetCapRubriqueTitle gpf-label fr-btn",r.htmlFor=i.id,r.innerHTML=t,r.title=t,n.appendChild(r),e.appendChild(n),e},_addImportGetCapResultListLayer:function(t){var e=document.createElement("ul");return e.className="GPimportGetCapListLayer",t.appendChild(e),t},_addImportGetCapResultLayer:function(t,e,n){var i=document.createElement("li");i.className="GPimportGetCapProposal gpf-panel__items",i.innerHTML=t.content,i.title=t.title,i.id="GPimportGetCapProposal_"+e;var r=this;return i.addEventListener?i.addEventListener("click",(function(t){r._onGetCapResponseLayerClick(t)})):i.attachEvent&&i.attachEvent("onclick",(function(){r._onGetCapResponseLayerClick()})),n.appendChild(i),n},_createImportMapBoxPanelElement:function(){var t=document.createElement("div");return t.id=this._addUID("GPimportMapBoxPanel"),t.className="GPpanel gpf-panel fr-modal",t},_createImportMapBoxPanelHeaderElement:function(){var t=this,e=document.createElement("div");e.className="GPpanelHeader gpf-panel__header fr-modal__header";var n=document.createElement("button");n.id=this._addUID("GPimportMapBoxPanelReturnPicto"),n.title="Masquer le panneau",n.className="GPreturnPicto GPimportMapBoxPanelReturnPicto gpf-btn gpf-btn-icon-return fr-btn",n.addEventListener?n.addEventListener("click",(function(e){document.getElementById(t._addUID("GPshowImportPicto")).click(),t._onMapBoxReturnPictoClick(e)})):n.attachEvent&&n.attachEvent("onclick",(function(e){document.getElementById(t._addUID("GPshowImportPicto")).click(),t._onMapBoxReturnPictoClick(e)})),e.appendChild(n);var i=document.createElement("div");i.className="GPpanelTitle gpf-panel__title fr-modal__title",i.innerHTML="Edition des styles",i.title="Edition des styles",e.appendChild(i);var r=document.createElement("button");return r.className="GPpanelClose GPimportMapBoxPanelClose gpf-btn gpf-btn-icon-close fr-btn--close fr-btn",r.title="Fermer le panneau",r.id=this._addUID("GPimportMapBoxPanelClose"),r.addEventListener?r.addEventListener("click",(function(){document.getElementById(t._addUID("GPshowImportPicto")).click(),document.getElementById(t._addUID("GPimportMapBoxPanel")).style.display="none",t._onMapBoxPanelClose()})):r.attachEvent&&r.attachEvent("click",(function(){document.getElementById(t._addUID("GPshowImportPicto")).click(),document.getElementById(t._addUID("GPimportMapBoxPanel")).style.display="none",t._onMapBoxPanelClose()})),e.appendChild(r),e},_createImportMapBoxResultsContainer:function(){var t=document.createElement("div");return t.className="GPimportMapBoxpRoot",t.id=this._addUID("GPimportMapBoxResults"),t}},rE=iE,oE=n(7749),sE={_toolboxId:"GPtoolbox-measure-main",_buttonId:"GPtoolbox-measure-button",_widgetId:"GPtoolbox-measure-widget",getToolBoxID:function(t){return t?this._toolboxId+"-"+t:this._toolboxId},getButtonID:function(t){return t?this._buttonId+"-"+t:this._buttonId},getWidgetID:function(t){return t?this._widgetId+"-"+t:this._widgetId},_createToolBoxContainerElement:function(t){var e=document.createElement("div");e.id=this.getToolBoxID(t),e.className="GPshowAdvancedToolPicto";var n=document.createElement("button");n.id=this.getButtonID(t),n.className="GPshowOpen GPshowAdvancedToolPicto",n.setAttribute("tabindex","0"),n.setAttribute("aria-pressed",!1);var i=this;n.addEventListener("click",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),this.blur();var r=document.getElementById(i.getWidgetID(t));"block"===r.style.display?r.style.display="none":r.style.display="block"})),e.appendChild(n);var r=document.createElement("div");return r.id=this.getWidgetID(t),r.addEventListener("click",(function(){}),!1),e.appendChild(r),e}},aE=sE,lE=Pn.getLogger("toolbox"),cE={_toolbox:{},add:function(t,e){if(lE.trace("ToolBox.add()",e),t){var n="undefined"!==typeof window?window:"undefined"!==typeof self?self:null;n&&(this._toolbox=n.gpShareMeasureToolBox||{});var i=t.getTargetElement(),r=i.ownerDocument,o=i.id;this._toolbox&&0!==Object.keys(this._toolbox).length?this._toolbox[o]||(this._toolbox[o]=Yc.generate()):(this._toolbox={},this._toolbox[o]=Yc.generate());var s=this._toolbox[o];if(!r.getElementById(this.getToolBoxID(s))){lE.trace("create toolbox !");var a=this._createToolBoxContainerElement(s);a.style.pointerEvents="auto";var l=i.getElementsByClassName("ol-overlaycontainer-stopevent");l[0].appendChild(a)}var c=r.getElementById(this.getWidgetID(s));e.setTarget(c),n&&(n.gpShareMeasureToolBox=this._toolbox),lE.trace("add control to toolbox !")}else lE.trace("map doesn't exist !?")}};Dn.assign(cE,aE);var uE=cE,hE=Pn.getLogger("measures"),dE={DEFAULT_POINTER_STYLE:new Wn.A({radius:5,stroke:new Yn.A({color:"#002A50",width:2}),fill:new Hn.A({color:"rgba(255, 155, 0, 0.7)"})}),DEFAULT_DRAW_START_STYLE:new Ie.Ay({fill:new Hn.A({color:"rgba(0, 183, 152, 0.2)"}),stroke:new Yn.A({color:"#002A50",lineDash:[10,10],width:2})}),DEFAULT_DRAW_FINISH_STYLE:new Ie.Ay({fill:new Hn.A({color:"rgba(0, 183, 152, 0.3)"}),stroke:new Yn.A({color:"#002A50",width:3})}),tools:{MeasureLength:[],MeasureArea:[],MeasureAzimuth:[]},measureDraw:null,measureSource:null,measureVector:null,sketch:null,measureTooltipElement:null,measureTooltip:null,helpTooltipElement:null,helpTooltip:null,clean:function(){var t=this.CLASSNAME;hE.trace("["+t+"] deactived tool !"),this.clearMeasure(),this.clearMeasureToolTip(),this.removeMeasureEvents(),this._pictoContainer.setAttribute("aria-pressed",!1)},onPointerMoveHandler:function(t){if(!t.dragging){var e=t.coordinate;if(this.sketch){var n,i=this.sketch.getGeometry();if(n=this.format(i),"LineString"===i.getType())e=i.getLastCoordinate();else{if("Polygon"!==i.getType())return;e=i.getInteriorPoint().getCoordinates()}this.measureTooltipElement.innerHTML=n,this.measureTooltip.setPosition(e)}}},onShowMeasureClick:function(t,e){var n=this.getMap(),i=n.getTargetElement().id,r="undefined"!==typeof window?window:"undefined"!==typeof self?self:null;r&&(this.tools=r.gpShareMeasures||{});var o=this.CLASSNAME;for(var s in this.tools)if(this.tools.hasOwnProperty(s))for(var a=this.tools[s],l=0;l<a.length;l++){var c=a[l];c&&c.active&&s!==o&&c.map===i&&(c.active=!1,null!==c.instance&&c.instance.clean())}Un.unset(n,{current:"Measures"});var u=this._pictoContainer.ariaPressed;if("true"===u){this.addMeasureEvents(),this.initMeasureInteraction(),this.addMeasureInteraction(e);for(var h=0;h<this.tools[o].length;h++)this.tools[o][h].map===i&&(this.tools[o][h].active=!0)}else{this.clearMeasure(),this.clearMeasureToolTip(),this.removeMeasureEvents();for(var d=0;d<this.tools[o].length;d++)this.tools[o][d].map===i&&(this.tools[o][d].active=!1)}},clearMeasureToolTip:function(){var t=this.getMap();if(t)for(var e=t.getTargetElement(),n=e.getElementsByClassName("ol-overlaycontainer"),i=0;i<n.length;i++){for(var r=n[i],o=r.children.length,s=[],a=0;a<o;a++){var l=r.children[a];if(0!==l.children.length){var c=l.children[0];"GPmeasureTooltip GPmeasureTooltip-static"!==c.className&&"GPmeasureTooltip GPmeasureTooltip-measure"!==c.className||s.push(l)}}for(var u=0;u<s.length;u++)r.removeChild(s[u])}},clearMeasure:function(){var t=this.getMap();this.measureVector&&(t.removeLayer(this.measureVector),this.measureVector=null),this.measureDraw&&(t.removeInteraction(this.measureDraw),this.measureDraw=null)},createMeasureTooltip:function(t){this.measureTooltipElement&&this.measureTooltipElement.parentNode.removeChild(this.measureTooltipElement),this.measureTooltipElement=document.createElement("div"),this.measureTooltipElement.className="GPmeasureTooltip GPmeasureTooltip-measure",this.measureTooltip=new d({element:this.measureTooltipElement,stopEvent:!1,offset:[0,-15],positioning:"bottom-center"}),t.addOverlay(this.measureTooltip)},createHelpTooltip:function(t){this.helpTooltipElement&&this.helpTooltipElement.parentNode.removeChild(this.helpTooltipElement),this.helpTooltipElement=document.createElement("div"),this.helpTooltipElement.className="tooltip hidden",this.helpTooltip=new d({element:this.helpTooltipElement,stopEvent:!1,offset:[15,0],positioning:"center-left"}),t.addOverlay(this.helpTooltip)},createStylingMeasureInteraction:function(t){this.options.styles=t||{},hE.trace("style start",this.options.styles.start);var e={image:dE.DEFAULT_POINTER_STYLE,fill:dE.DEFAULT_DRAW_START_STYLE.getFill(),stroke:dE.DEFAULT_DRAW_START_STYLE.getStroke()};this.options.styles.hasOwnProperty("pointer")&&this.options.styles.pointer instanceof Image&&(e.image=this.options.styles.pointer),this.options.styles.hasOwnProperty("start")&&this.options.styles.start instanceof Ie.Ay&&(null!=this.options.styles.start.getFill()&&(e.fill=this.options.styles.start.getFill()),null!=this.options.styles.start.getStroke()&&(e.stroke=this.options.styles.start.getStroke())),this.options.styles.start=new Ie.Ay(e),hE.trace("style finish",this.options.styles.finish);var n={fill:dE.DEFAULT_DRAW_FINISH_STYLE.getFill(),stroke:dE.DEFAULT_DRAW_FINISH_STYLE.getStroke()};this.options.styles.hasOwnProperty("finish")&&this.options.styles.finish instanceof Ie.Ay&&(null!=this.options.styles.finish.getFill()&&(n.fill=this.options.styles.finish.getFill()),null!=this.options.styles.finish.getStroke()&&(n.stroke=this.options.styles.finish.getStroke())),this.options.styles.finish=new Ie.Ay(n)},addMeasureInteraction:function(t){var e=this.getMap(),n=this;this.measureDraw=new wn({source:this.measureSource,condition:function(t){return!t.originalEvent.ctrlKey||(n.sketch&&this.removeLastPoint(),!1)},type:t,style:this.options.styles.start||dE.DEFAULT_DRAW_START_STYLE}),this.measureDraw.setProperties({name:"Measures",source:this}),e.addInteraction(this.measureDraw),this.createMeasureTooltip(e),this.measureDraw.on("drawstart",(t=>{n.sketch=t.feature})),this.measureDraw.on("drawend",(()=>{if(n.sketch){var t,i,r=n.sketch.getGeometry();if(t=n.format(r),"LineString"===r.getType())i=r.getLastCoordinate();else{if("Polygon"!==r.getType())return;i=r.getInteriorPoint().getCoordinates()}n.measureTooltipElement.innerHTML=t,n.measureTooltip.setPosition(i)}n.measureTooltipElement.className="GPmeasureTooltip GPmeasureTooltip-static",n.measureTooltip.setOffset([0,-7]),n.sketch=null,n.measureTooltipElement=null,n.createMeasureTooltip(e)}))},initMeasureInteraction:function(){var t=this.getMap();this.measureSource=new _t.A,this.measureVector=new _e.A({source:this.measureSource,style:this.options.styles.finish||dE.DEFAULT_DRAW_FINISH_STYLE}),this.measureVector.gpResultLayerId="measure",t.addLayer(this.measureVector),t.getControls().forEach((t=>{if(t instanceof Ad){var e=this.measureVector.gpLayerId;t._layers[e].title===e&&t.addLayer(this.measureVector,{title:this.options.layerDescription.title,description:this.options.layerDescription.description})}}))}},pE=dE,gE={_addUID:function(t){var e=this._uid?t+"-"+this._uid:t;return e},_createMainContainerElement:function(){var t=document.createElement("div");return t.id=this._addUID("GPelevationPath"),t.className="GPwidget gpf-widget",t},_createShowElevationPathPictoElement:function(){var t=this,e=document.createElement("button");return e.id=this._addUID("GPshowElevationPathPicto"),e.className="GPshowOpen GPshowAdvancedToolPicto gpf-btn gpf-icon-elevation fr-btn",e.title="Calculer un profil",e.setAttribute("tabindex","0"),e.setAttribute("aria-pressed",!1),e.addEventListener?e.addEventListener("click",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t.onShowElevationPathClick(e)})):e.attachEvent&&e.attachEvent("onclick",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t.onShowElevationPathClick(e)})),e},_createElevationPathPanelElement:function(){var t=document.createElement("dialog");return t.id=this._addUID("GPelevationPathPanel"),t.className="GPpanel gpf-panel fr-modal",t},_createElevationPathPanelDivElement:function(){var t=document.createElement("div");return t.className="gpf-panel__body fr-modal__body",t},_createElevationPathPanelHeaderElement:function(){var t=this,e=document.createElement("div");e.className="GPpanelHeader gpf-panel__header fr-modal__header";var n=document.createElement("button");n.id=this._addUID("GPelevationPathPanelInfo"),n.className="GPpanelInfo gpf-btn gpf-btn-icon-info fr-btn",n.title="Informations",n.addEventListener?n.addEventListener("click",(function(){t.onOpenElevationPathInfoClick()})):n.attachEvent&&n.attachEvent("onclick",(function(){t.onOpenElevationPathInfoClick()})),e.appendChild(n);var i=document.createElement("div");i.className="GPpanelTitle gpf-panel__title fr-modal__title",i.innerHTML="Profil Altimétrique",e.appendChild(i);var r=document.createElement("button");r.id=this._addUID("GPelevationPathPanelReduce"),r.className="GPpanelReduce gpf-btn gpf-btn-icon-reduce fr-btn",r.title="Masquer le panneau",r.addEventListener?r.addEventListener("click",(function(e){"function"===typeof t.onReduceElevationPathPanelClick&&t.onReduceElevationPathPanelClick()}),!1):r.attachEvent&&r.attachEvent("onclick",(function(e){"function"===typeof t.onReduceElevationPathPanelClick&&t.onReduceElevationPathPanelClick()})),e.appendChild(r);var o=document.createElement("button");o.id=this._addUID("GPelevationPathPanelClose"),o.className="GPpanelClose gpf-btn gpf-btn-icon-close fr-btn--close fr-btn",o.title="Fermer le panneau",o.addEventListener?o.addEventListener("click",(function(){document.getElementById(t._addUID("GPshowElevationPathPicto")).click()}),!1):o.attachEvent&&o.attachEvent("onclick",(function(){document.getElementById(t._addUID("GPshowElevationPathPicto")).click()}));var s=document.createElement("span");return s.className="GPelementHidden gpf-visible",s.innerText="Fermer",o.appendChild(s),e.appendChild(o),e},_createElevationPathPanelProfilElement:function(){var t=document.createElement("div");return t.id="GPelevationPathProfil",t},_createElevationPathWaitingElement:function(){var t=document.createElement("div");t.id=this._addUID("GPelevationPathCalcWaitingContainer"),t.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden";var e=document.createElement("p");return e.className="GPwaitingContainerInfo gpf-waiting_info",e.innerHTML="Recherche en cours...",t.appendChild(e),t},_createElevationPathInformationsElement:function(){var t=document.createElement("div");t.id=this._addUID("GPelevationPathInformationsContainer"),t.className="GPelementHidden gpf-hidden";var e=document.createElement("p");return e.className="GPelevationPathInformations",e.innerHTML="Aucune information...",t.appendChild(e),t},_addElevationPathInformationsItem:function(t){var e=document.getElementById(this._addUID("GPelevationPathInformationsContainer"));if(e){var n=document.createElement("p");n.className="GPelevationPathInformations",n.innerHTML=t,e.appendChild(n)}return e}},fE=gE,mE={_getCssProperty:function(t,e){return window.getComputedStyle(t,null).getPropertyValue(e)},_getTextWidth:function(t,e,n=null){var i=this.canvas||(this.canvas=document.createElement("canvas")),r=i.getContext("2d");r.font=null===n?`${this._getCssProperty(e,"font-weight")} ${this._getCssProperty(e,"font-size")} ${this._getCssProperty(e,"font-family")}`:n;var o=r.measureText(t);return o.width},_dataZToSvgY:function(t,e,n,i){return e-(t-n)*i-.5},_dataDistToSvgX:function(t,e,n,i){return e-n+t*i},_svgXToDataDist:function(t,e,n,i){return(t+n-e)/i},_arrayBisect:function(t,e){let n;if(0===t.length)return 0;for(n=0;n<t.length;n++)if(e<t[n].dist)return n;return n-1},displayProfileByDefault:function(t,e,n,i){var r=n;if(!e)return;if(!t)return;while(e.firstChild)e.removeChild(e.firstChild);const o={top:25,right:15,bottom:10,left:10};var s=r.options.displayProfileOptions,a=t.points,l=JSON.parse(JSON.stringify(a));l.sort((function(t,e){return t.z-e.z}));var c=l[0].z,u=l[l.length-1].z,h=t.distance;let d="m";const p=document.createElement("div");p.id="profileElevationByDefault",e.appendChild(p);var g=window.getComputedStyle(e).getPropertyValue("width").replace(/px/,""),f=window.getComputedStyle(e).getPropertyValue("height").replace(/px/,"");const m=f-o.top-o.bottom,A=g-o.left-o.right,y=17,v=this._getTextWidth(Math.round(u).toLocaleString()+",88",e,"400 10 Verdana"),_=17,C=15,I=15,E=this._getTextWidth(Math.round(h).toLocaleString()+",5",e),w=1,b=m-_-C,x=A-y-v,S=document.createElementNS("http://www.w3.org/2000/svg","svg");S.id="profileElevationByDefaultSvg",S.setAttribute("style","display: block; margin: auto; overflow: visible; position: absolute; left: 10px;"),S.setAttribute("viewBox",`0 0 ${g} ${f}`),S.setAttribute("width","100%"),S.setAttribute("height","100%");const P=Math.floor(b/I);let M;M=u===c?.1:Math.pow(10,Math.ceil(Math.log((u-c)/P)/Math.log(10)))/2;let R=Math.floor(c/M)*M,T=Math.ceil(u/M)*M;T===u&&(T+=M),R=Math.round(100*R)/100,T=Math.round(100*T)/100;let G=Math.round((T-R)/M);G+1>P&&(M=Math.pow(10,Math.ceil(Math.log((u-c)/P)/Math.log(10))),R=Math.floor(c/M)*M,T=Math.ceil(u/M)*M,T===u&&(T+=M),R=Math.round(100*R)/100,T=Math.round(100*T)/100,G=Math.floor((T-R)/M)),G=Math.max(Math.round(G),1);const L=document.createElementNS("http://www.w3.org/2000/svg","g");L.setAttribute("class","profile-z-vertical");const k=document.createElementNS("http://www.w3.org/2000/svg","g"),O=b/G;let D,N,F,U,B,j,z;D=u===c?b/.2:b/(T-R);for(let Rt=0;Rt<=G;Rt++)N=document.createElementNS("http://www.w3.org/2000/svg","text"),N.setAttribute("class","profile-z-graduation"),N.setAttribute("font-family","Verdana"),N.setAttribute("font-size","10px"),N.setAttribute("fill","#5E5E5E"),N.textContent=(Math.round(100*(R+Rt*M))/100).toLocaleString(),F=b-Rt*O,N.setAttribute("transform",`translate(${y+v-8}, ${F+5})`),N.setAttribute("text-anchor","end"),L.appendChild(N),U=Math.round(F)-.5,B=document.createElementNS("http://www.w3.org/2000/svg","g"),j=document.createElementNS("http://www.w3.org/2000/svg","path"),j.setAttribute("cs","100,100"),j.setAttribute("stroke-width","1"),0!==Rt?j.setAttribute("stroke-opacity","0.2"):j.setAttribute("stroke-opacity","1"),j.setAttribute("stroke","#000000"),j.setAttribute("fill","none"),j.setAttribute("d",`M${y+v},${U} L${x+y+v},${U}`),z=document.createElementNS("http://www.w3.org/2000/svg","path"),z.setAttribute("cs","100,100"),z.setAttribute("stroke-width","1"),z.setAttribute("stroke-opacity","1"),z.setAttribute("stroke","#000000"),z.setAttribute("fill","none"),z.setAttribute("d",`M${y+v},${U} L${y+v+5},${U}`),z.setAttribute("transform","translate(-5, 0)"),B.appendChild(z),B.appendChild(j),k.appendChild(B);var W=document.createElementNS("http://www.w3.org/2000/svg","text");W.setAttribute("class","profile-z-legend"),W.setAttribute("font-family","Verdana"),W.setAttribute("font-size","11px"),W.setAttribute("fill","#5E5E5E"),W.textContent="Altitude (m)",W.setAttribute("transform",`translate(${y-8}, ${Math.round(b/2)}) rotate(-90)`),W.setAttribute("text-anchor","middle"),L.appendChild(W),S.appendChild(L),S.appendChild(k),h>2e3&&(h/=1e3,d="km");const V=Math.floor(x/E);let Y=Math.pow(10,Math.ceil(Math.log(h/V)/Math.log(10)))/2;const H=h;let q=Math.floor(H/Y);q>V?(Y=Math.pow(10,Math.ceil(Math.log(h/V)/Math.log(10))),q=Math.floor(H/Y)):q<w&&(Y=Math.pow(10,Math.ceil(Math.log(h/V)/Math.log(10))-1),q=Math.floor(H/Y)),q=Math.max(q,1);const X=Y*q,Z=document.createElementNS("http://www.w3.org/2000/svg","g");Z.setAttribute("class","profile-x-vertical");const K=document.createElementNS("http://www.w3.org/2000/svg","g"),J=x/H,Q=(H-X)*J,$=Math.round((x-Q)/q);let tt,et,nt,it,rt,ot;for(let Rt=0;Rt<=q+1;Rt++)tt=document.createElementNS("http://www.w3.org/2000/svg","text"),tt.setAttribute("class","profile-x-graduation"),tt.setAttribute("font-family","Verdana"),tt.setAttribute("font-size","10px"),tt.setAttribute("fill","#5E5E5E"),Rt!==q+1&&(tt.textContent=(Math.round(100*Rt*Y)/100).toLocaleString()),et=y+v+Rt*$,Rt===q+1&&(et=y+v+x),tt.setAttribute("transform",`translate(${et}, ${b+C+5})`),tt.setAttribute("text-anchor","middle"),Z.appendChild(tt),nt=et-.5,it=document.createElementNS("http://www.w3.org/2000/svg","g"),rt=document.createElementNS("http://www.w3.org/2000/svg","path"),rt.setAttribute("cs","100,100"),rt.setAttribute("stroke-width","1"),0!==Rt?rt.setAttribute("stroke-opacity","0.2"):rt.setAttribute("stroke-opacity","1"),rt.setAttribute("stroke","#000000"),rt.setAttribute("fill","none"),rt.setAttribute("d",`M${nt},${b} L${nt},0`),ot=document.createElementNS("http://www.w3.org/2000/svg","path"),ot.setAttribute("cs","100,100"),ot.setAttribute("stroke-width","1"),ot.setAttribute("stroke-opacity","1"),ot.setAttribute("stroke","#000000"),ot.setAttribute("fill","none"),ot.setAttribute("d",`M${nt},${b} L${nt},${b-5}`),ot.setAttribute("transform","translate(0, 5)"),it.appendChild(ot),it.appendChild(rt),K.appendChild(it);var st=document.createElementNS("http://www.w3.org/2000/svg","text");st.setAttribute("class","profile-x-legend"),st.setAttribute("font-family","Verdana"),st.setAttribute("font-size","11px"),st.setAttribute("fill","#5E5E5E"),st.textContent=`Distance (${d})`,st.setAttribute("transform",`translate(${y+v+x/2}, ${b+C+_+3})`),st.setAttribute("text-anchor","middle"),Z.appendChild(st),S.appendChild(Z),S.appendChild(K);const at=document.createElementNS("http://www.w3.org/2000/svg","g");let lt=1;"km"===d&&(lt=1e3);let ct=this._dataDistToSvgX(a[0].dist/lt,A,x,J),ut=this._dataZToSvgY(a[0].z,b,R,D),ht=`M${ct},${ut}`;for(let Rt=1;Rt<a.length;Rt++)ct=this._dataDistToSvgX(a[Rt].dist/lt,A,x,J),ut=this._dataZToSvgY(a[Rt].z,b,R,D),ht+=` L${ct},${ut}`;const dt=document.createElementNS("http://www.w3.org/2000/svg","path");dt.setAttribute("cs","100,100"),dt.setAttribute("stroke-width","1"),dt.setAttribute("stroke-opacity","1"),dt.setAttribute("stroke","#0B6BA7"),dt.setAttribute("fill","none"),dt.setAttribute("d",ht),ht+=` L${ct},${b}`,ht+=` L${A-x},${b}`;const pt=document.createElementNS("http://www.w3.org/2000/svg","path");pt.setAttribute("cs","100,100"),pt.setAttribute("stroke-width","1"),pt.setAttribute("stroke-opacity","0"),pt.setAttribute("stroke","#000000"),pt.setAttribute("fill","#00B798"),pt.setAttribute("fill-opacity","0.4"),pt.setAttribute("d",ht),at.appendChild(dt),at.appendChild(pt),S.appendChild(at);const gt=document.createElementNS("http://www.w3.org/2000/svg","g"),ft=document.createElementNS("http://www.w3.org/2000/svg","rect");ft.setAttribute("width",x),ft.setAttribute("height",b),ft.setAttribute("transform",`translate(${A-x},0)`),ft.setAttribute("visibility","hidden"),ft.setAttribute("pointer-events","all");const mt=JSON.parse(JSON.stringify(a));mt.sort((function(t,e){return t.dist-e.dist}));const At=document.createElementNS("http://www.w3.org/2000/svg","line");At.setAttribute("id","focusLineX"),At.setAttribute("class","focusLine-default"),At.setAttribute("fill","none"),At.setAttribute("stroke","#F90"),At.setAttribute("stroke-width","0.5px"),At.setAttribute("visibility","hidden");const yt=document.createElementNS("http://www.w3.org/2000/svg","line");yt.setAttribute("id","focusLineY"),yt.setAttribute("class","focusLine-default"),yt.setAttribute("fill","none"),yt.setAttribute("stroke","#F90"),yt.setAttribute("stroke-width","0.5px"),yt.setAttribute("visibility","hidden");const vt=document.createElementNS("http://www.w3.org/2000/svg","circle");vt.setAttribute("id","focusCircle"),vt.setAttribute("r",4),vt.setAttribute("class","circle-default focusCircle-default"),vt.setAttribute("fill","#F90"),vt.setAttribute("visibility","hidden"),gt.appendChild(vt),gt.appendChild(At),gt.appendChild(yt);const _t=document.createElementNS("http://www.w3.org/2000/svg","text"),Ct=document.createElementNS("http://www.w3.org/2000/svg","tspan"),It=document.createElementNS("http://www.w3.org/2000/svg","tspan"),Et=document.createElementNS("http://www.w3.org/2000/svg","tspan");_t.setAttribute("style","text-align:center; max-width:220px; font-size:10px; color:#000000; font-family:Verdana; z-index:50;"),_t.style.pointerEvents="none",_t.style.position="fixed",_t.setAttribute("class","tooltipInit"),_t.setAttribute("text-anchor","middle"),p.appendChild(_t),Ct.setAttribute("class","altiPathValue"),Ct.setAttribute("x","0"),Ct.setAttribute("dy","-.7em"),It.setAttribute("class","altiPathValue"),It.setAttribute("x","0"),It.setAttribute("dy","1em"),Et.setAttribute("class","altiPathCoords"),Et.setAttribute("x","0"),Et.setAttribute("dy","1em"),_t.appendChild(Ct),s.currentSlope&&_t.appendChild(It),_t.appendChild(Et);const wt=document.createElementNS("http://www.w3.org/2000/svg","g");gt.appendChild(wt);const bt=document.createElementNS("http://www.w3.org/2000/svg","path");bt.setAttribute("cs","100,100"),bt.setAttribute("fill","#FFFFFF"),bt.setAttribute("stroke","#CCCCCC"),bt.setAttribute("fill-opacity","0.8"),bt.setAttribute("stroke-width","1"),bt.setAttribute("stroke-opacity","1");const xt=document.createElementNS("http://www.w3.org/2000/svg","path");function St(){At.setAttribute("visibility","visible"),yt.setAttribute("visibility","visible"),vt.setAttribute("visibility","visible"),i.__createProfileMarker(r,a[0]),_t.setAttribute("class","tooltipFadeIn"),wt.setAttribute("class","tooltipFadeIn")}function Pt(){At.setAttribute("visibility","hidden"),yt.setAttribute("visibility","hidden"),vt.setAttribute("visibility","hidden"),i.__removeProfileMarker(r),_t.setAttribute("class","tooltipFadeOut"),wt.setAttribute("class","tooltipFadeOut")}function Mt(t){const e=S.createSVGPoint();e.x=t.clientX,e.y=t.clientY;const n=e.matrixTransform(S.getScreenCTM().inverse()),o=this._svgXToDataDist(n.x,A,x,J)*lt,s=Math.max(1,this._arrayBisect(mt,o)),l=a[s-1],c=a[s];let u=l;o-l.dist>c.dist-o&&(u=c);const d=this._dataDistToSvgX(u.dist/lt,A,x,J),p=this._dataZToSvgY(u.z,b,R,D);vt.setAttribute("cx",d),vt.setAttribute("cy",p),At.setAttribute("x1",d),At.setAttribute("y1",b),At.setAttribute("x2",d),At.setAttribute("y2",0),yt.setAttribute("x1",y+v),yt.setAttribute("y1",p),yt.setAttribute("x2",x+y+v),yt.setAttribute("y2",p),i.__updateProfileMarker(r,u);const g=`Altitude : ${u.z.toLocaleString()} m`,f=`Pente : ${u.slope} %`,m=`(lat : ${u.lat.toLocaleString()} / lon : ${u.lon.toLocaleString()})`;Ct.innerHTML=g,It.innerHTML=f,Et.innerHTML=m;const _=Math.max(this._getTextWidth(m,Et),this._getTextWidth(g,Ct));let C;u.dist>h*lt/2?(C=`M -0.5 -0.5 l -6 6 l 0 16 l -${_+10} 0 l 0 -44 l ${_+10} 0 l 0 16 l 6 6`,_t.setAttribute("transform",`translate(${-(_/2+12)},0)`)):u.dist<=h*lt/2&&(C=`M -0.5 -0.5 l 6 6 l 0 16 l ${_+10} 0 l 0 -44 l -${_+10} 0 l 0 16 l -6 6`,_t.setAttribute("transform",`translate(${_/2+12},0)`)),bt.setAttribute("d",C),xt.setAttribute("d",C),wt.setAttribute("transform",`translate(${d},${p})`),wt.style.transform=`translate(${d}px,${p}px)`}return xt.setAttribute("cs","100,100"),xt.setAttribute("fill","#FFFFFF"),xt.setAttribute("stroke","#000000"),xt.setAttribute("fill-opacity","0"),xt.setAttribute("stroke-width","1"),xt.setAttribute("stroke-opacity","0.4"),xt.setAttribute("transform","translate(1,1)"),wt.appendChild(xt),wt.appendChild(bt),wt.appendChild(_t),wt.setAttribute("class","tooltipInit"),wt.style.pointerEvents="none",ft.addEventListener("pointerover",St),ft.addEventListener("pointerout",Pt),ft.addEventListener("pointermove",Mt.bind(this)),gt.appendChild(ft),S.appendChild(gt),p.appendChild(S),e},displayProfileRaw:function(t,e,n,i){if(e){while(e.firstChild)e.removeChild(e.firstChild);var r=t&&t.points?t.points:{},o=document.createElement("textarea");return o.id="profilElevationResults",o.rows=10,o.cols=50,o.style.width="100%",o.innerHTML=JSON.stringify(r,void 0,4),o.addEventListener("mouseover",(function(t){i.__customRawProfileMouseOverEvent(n,t)})),e.appendChild(o),e}},displayProfileLibD3:function(t,e,n,i){var r=n;if(e&&t){while(e.firstChild)e.removeChild(e.firstChild);var o=t.points;if(t.distance>2e3){t.unit="km";for(let t=0;t<o.length;t++)o[t].dist/=1e3}var s=r.options.displayProfileOptions,a={top:20,right:20,bottom:30,left:40},l=window.getComputedStyle(e).getPropertyValue("width"),c=window.getComputedStyle(e).getPropertyValue("height"),u=l.replace(/px/,"")-a.left-a.right,h=c.replace(/px/,"")-a.top-a.bottom,d=d3.scale.linear().range([0,u]),p=d3.scale.linear().range([h,0]),g=d3.svg.axis().scale(d).orient("bottom").ticks(5),f=d3.svg.axis().scale(p).orient("left").ticks(5),m=d3.svg.line().interpolate("basis").x((function(t){return d(t.dist)})).y((function(t){return p(t.z)})),A=d3.svg.area().interpolate("basis").x((function(t){return d(t.dist)})).y0(h).y1((function(t){return p(t.z)})),y=d3.select(e).append("svg").attr("width",u+a.left+a.right).attr("height",h+a.top+a.bottom).append("g").attr("transform","translate("+a.left+","+a.top+")"),v=d3.extent(o,(function(t){return t.dist}));d.domain(v);var _=[0,d3.max(o,(function(t){return t.z}))];p.domain(_),y.append("path").datum(o).attr("class","area-d3").attr("d",A),y.append("g").attr("class","x axis-d3").attr("transform","translate(0,"+h+")").call(g).append("text").attr("y",-15).attr("dy",".71em").attr("x",u).text("Distance ("+t.unit+")"),y.append("g").attr("class","y axis-d3").call(f).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").text("Altitude (m)"),y.append("g").attr("class","grid-d3 vertical").attr("transform","translate(0,"+h+")").call(g.orient("bottom").tickSize(-h,0,0).tickFormat("")),y.append("g").attr("class","grid-d3 horizontal").call(f.orient("left").tickSize(-u,0,0).tickFormat("")),y.append("path").datum(o).attr("class","line-d3").attr("d",m),y.selectAll("circle").data(o).enter().append("circle").attr("cx",(function(t){return d(t.dist)})).attr("cy",(function(t){return p(t.z)})).attr("r",0).attr("class","circle-d3");var C=y.append("g").style("display","none");C.append("line").attr("id","focusLineX").attr("class","focusLine-d3"),C.append("line").attr("id","focusLineY").attr("class","focusLine-d3"),C.append("circle").attr("id","focusCircle").attr("r",4).attr("class","circle-d3 focusCircle-d3");var I=d3.select(e).append("div").attr("class","tooltip-d3").style("opacity",0),E=d3.bisector((function(t){return t.dist})).left;return y.append("rect").attr("class","overlay-d3").attr("width",u).attr("height",h).on("mouseover",(function(){C.style("display",null),i.__createProfileMarker(r,o[0])})).on("mouseout",(function(){C.style("display","none"),i.__removeProfileMarker(r),I.transition().duration(500).style("opacity",0)})).on("mousemove",(function(){var t=d3.mouse(this),e=d.invert(t[0]),n=Math.max(1,E(o,e)),a=o[n-1],l=o[n],c=e-a[0]>l[0]-e?l:a,u=d(c.dist),h=p(c.z);C.select("#focusCircle").attr("cx",u).attr("cy",h),C.select("#focusLineX").attr("x1",u).attr("y1",p(_[0])).attr("x2",u).attr("y2",p(_[1])),C.select("#focusLineY").attr("x1",d(v[0])).attr("y1",h).attr("x2",d(v[1])).attr("y2",h),i.__updateProfileMarker(r,c),I.transition().duration(200).style("opacity",.9);var g="";g+=" Altitude : "+c.z+" m",s.currentSlope&&(g+="<br/> Pente : "+c.slope+" %"),g+="<br/> (Lat : "+c.lat+"/ Lon : "+c.lon+")",I.html(g).style("left",d3.event.pageX+"px").style("top",d3.event.pageY-28+"px")})),y}},displayProfileLibAmCharts:function(t,e,n,i){var r=n;if(e&&t){var o=t.points,s="<span class='altiPathValue'>[[title]] : [[value]]m</span><br/>",a=r.options.displayProfileOptions.currentSlope;if(a&&(s+="<span class='altiPathValue'>Pente : [[slope]] %</span><br/>"),s+="<span class='altiPathCoords'>(Lat: [[lat]] / Lon:[[lon]])</span>",AmCharts.addInitHandler((function(){})),t.distance>2e3){t.unit="km";for(let t=0;t<o.length;t++)o[t].dist/=1e3}for(let t=0;t<o.length;t++){var l=o[t].dist,c=100;l>100?c=1:l>10&&(c=10),l=Math.round(l*c)/c,o[t].dist=l}var u={type:"serial",pathToImages:"http://cdn.amcharts.com/lib/3/images/",categoryField:"dist",autoMarginOffset:0,marginRight:10,marginTop:10,startDuration:0,color:"#5E5E5E",fontSize:8,theme:"light",thousandsSeparator:"",numberFormatter:{precision:-1,decimalSeparator:",",thousandsSeparator:" "},categoryAxis:{color:"#5E5E5E",gridPosition:"start",minHorizontalGap:40,tickPosition:"start",title:"Distance ("+t.unit+")",titleColor:"#5E5E5E",labelOffset:0,startOnAxis:!0},chartCursor:{animationDuration:0,bulletsEnabled:!0,bulletSize:10,categoryBalloonEnabled:!1,cursorColor:"#F90",graphBulletAlpha:1,graphBulletSize:1,zoomable:!1},trendLines:[],graphs:[{balloonColor:"#CCCCCC",balloonText:s,bullet:"round",bulletAlpha:0,bulletBorderColor:"#FFF",bulletBorderThickness:2,bulletColor:"#F90",bulletSize:6,hidden:!1,id:"AmGraph-1",fillAlphas:.4,fillColors:"#C77A04",lineAlpha:1,lineColor:"#C77A04",lineThickness:1,title:"Altitude",valueField:"z"}],guides:[],valueAxes:[{id:"ValueAxis-1",minVerticalGap:20,title:"Altitude (m)"}],balloon:{borderColor:"#CCCCCC",borderThickness:1,fillColor:"#FFFFFF",showBullet:!0},titles:[],allLabels:[],dataProvider:o},h=AmCharts.makeChart(e,u);return h.addListener("changed",(function(t){var e=t.chart.dataProvider[t.index];i.__updateProfileMarker(r,e)})),h}}},AE=mE,yE=Pn.getLogger("elevationpath"),vE=class t extends jc{constructor(e){if(yE.trace("ElevationPath()"),e=e||{},super({element:e.element,target:e.target,render:e.render}),!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return this.CLASSNAME="ElevationPath",this._uid=Yc.generate(),this._showContainer=null,this._pictoButton=null,this._panelContainer=null,this._profileContainer=null,this._waitingContainer=null,this._infoContainer=null,this._timerHdlr=null,this._drawStyleStart=null,this._drawStyleFinish=null,this._markerStyle=null,this._profile=null,this._data={},this._measureSource=null,this._measureVector=null,this._measureDraw=null,this._lastSketch=null,this._currentSketch=null,this._marker=null,this._initialize(e),this._container=this._initializeContainer(),this.element?this.element.appendChild(this._container):this.element=this._container,this}static DEFAULT_STYLES={MARKER:new Vn.A({src:jn["lightOrange"],anchor:[.5,1],snapToPixel:!0}),RESULTS:{imageRadius:5,imageFillColor:"rgba(128, 128, 128, 0.2)",imageStrokeColor:"rgba(0, 0, 0, 0.7)",imageStrokeWidth:2}};static __removeProfileMarker(t){var e=t;e._marker&&(e._measureSource.removeFeature(e._marker),e._marker=null)}static __createProfileMarker(t,e){var n=t;n._marker&&(n._measureSource.removeFeature(n._marker),n._marker=null);var i=n.getMap(),r=i.getView().getProjection(),o=(0,Z.pd)([e.lon,e.lat],"EPSG:4326",r),s=n._measureSource.getFeatures()[0].getGeometry().getClosestPoint(o),a=new Te.A(s);n._marker=new ye.A({geometry:a}),yE.trace(a),n._marker.setStyle(n._markerStyle),n._measureSource.addFeature(n._marker)}static __updateProfileMarker(e,n){var i=e;t.__removeProfileMarker(i),t.__createProfileMarker(i,n)}static __customRawProfileOperation(e,n){yE.log("__customRawProfileOperation");for(var i=e,r=n.points,o=i.getMap().getView().getProjection(),s=0;s<r.length;s++){var a=r[s],l=(0,Z.pd)([a.lon,a.lat],"EPSG:4326",o),c=new Te.A(l);i._marker=new ye.A({geometry:c}),yE.trace(c);var u=t.DEFAULT_STYLES.RESULTS,h=new Wn.A({radius:u.imageRadius,stroke:new Yn.A({color:u.imageStrokeColor,width:u.imageStrokeWidth}),fill:new Hn.A({color:u.imageFillColor})});i._marker.setStyle(new Ie.Ay({image:h})),i._measureSource.addFeature(i._marker)}}static __customRawProfileMouseOverEvent(t,e){yE.log("__customRawProfileMouseOverEvent",t,e)}static DISPLAY_PROFILE_LIB_AMCHARTS(e,n,i){if(yE.trace("ElevationPath.DISPLAY_PROFILE_LIB_AMCHARTS"),"undefined"!==typeof AmCharts){var r=AE.displayProfileLibAmCharts(e,n,i,t);r&&(this._profile=r)}else yE.log("Lib. AmCharts is not loaded !")}static DISPLAY_PROFILE_LIB_D3(e,n,i){if(yE.trace("ElevationPath.DISPLAY_PROFILE_LIB_D3"),"undefined"!==typeof d3){var r=AE.displayProfileLibD3(e,n,i,t);r&&(this._profile=r)}else yE.log("Lib. D3 is not loaded !")}static DISPLAY_PROFILE_RAW(e,n,i){yE.trace("ElevationPath.DISPLAY_PROFILE_RAW");var r=AE.displayProfileRaw(e,n,i,t);r&&(this._profile=r)}static DISPLAY_PROFILE_BY_DEFAULT(e,n,i){yE.trace("ElevationPath.DISPLAY_PROFILE_BY_DEFAULT");var r=AE.displayProfileByDefault(e,n,i,t);r&&(this._profile=r)}setMap(t){if(yE.trace("ElevationPath::setMap"),t&&(this.options.active&&(null===this._profile&&(this._panelContainer.style.display="none"),this._initMeasureInteraction(t),this._addMeasureInteraction(t)),this.options.target||this.options.position||uE.add(t,this),this.options.export)){var e=Dn.assign({control:this},this.options.export);this.export=new h_(e),this.export.render();var n=this;this.export.on("export:compute",(t=>{n.dispatchEvent({type:"export:compute",content:t.content})}))}super.setMap(t),this.options.position&&this.setPosition(this.options.position)}getActive(){return yE.trace("ElevationPath::getActive"),this.options.active}setActive(t){yE.trace("ElevationPath::setActive"),this.options.active=t}getData(){return Dn.assign({type:"elevationpath"},this._data)}setData(t){this._data=t}getContainer(){return this._container}getLayer(){return this._measureVector}setLayer(t){t?t instanceof _e.A?(t.setStyle(this._drawStyleFinish),this._measureVector=t,this._measureSource=t.getSource()):yE.log("no valid layer given for hosting drawn features."):this._measureVector=null}getGeoJSON(){var t=this._measureVector.getSource().getFeatures(),e=new ui({defaultStyle:this._drawStyleFinish}),n=e.writeFeatures(t,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"});return n}getStyle(){return this._drawStyleFinish}clean(t){yE.trace("ElevationPath::clean");var e=this.getMap();this._panelContainer.style.display="none",this._pictoButton.setAttribute("aria-pressed",!1),this._removeProfile(),this._removeMeasureInteraction(e,"undefined"!==typeof t&&t),this.setLayer()}init(){this._pictoButton.setAttribute("aria-pressed",!0),this._panelContainer.style.display="block",this._displayProfile(this._data),this._waitingContainer.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden"}_initialize(e){yE.trace("ElevationPath::_initialize : ",e),this.options={target:null,render:null,active:!1,apiKey:null,export:!1,elevationOptions:{outputFormat:"json"},layerDescription:{title:"Profil altimétrique",description:"Mon profil altimétrique"},displayProfileOptions:{totalDistance:!0,greaterSlope:!0,meanSlope:!0,ascendingElevation:!0,descendingElevation:!0,currentSlope:!0,apply:null,target:null},stylesOptions:{profile:null,draw:null,marker:null}},Dn.mergeParams(this.options,e),this.options.target=e.target||null,this.options.apiKey=e.apiKey;var n=e.displayProfileOptions||{};this.export=null;var i=n.apply;this.options.displayProfileOptions.apply="function"===typeof i?i:t.DISPLAY_PROFILE_BY_DEFAULT;var r=n.target;this.options.displayProfileOptions.target="undefined"!==typeof r?r:null;var o=e.stylesOptions||{};this.options.stylesOptions.draw=o.draw||{},this._createStylingDraw(),this.options.stylesOptions.marker=o.marker||{},this._createStylingMarker()}_initializeContainer(){yE.trace("ElevationPath::_initializeContainer : ",this._uid);var t=this._createMainContainerElement(),e=this._pictoButton=this._createShowElevationPathPictoElement();t.appendChild(e),this.options.active&&this._pictoButton.click();var n=this._panelContainer=this._createElevationPathPanelElement(),i=this._createElevationPathPanelDivElement();n.appendChild(i);var r=this._createElevationPathPanelHeaderElement();i.appendChild(r);var o=this._profileContainer=this._createElevationPathPanelProfilElement();i.appendChild(o);var s=this._waitingContainer=this._createElevationPathWaitingElement();i.appendChild(s);var a=this._infoContainer=this._createElevationPathInformationsElement();return i.appendChild(a),null===this.options.displayProfileOptions.target&&t.appendChild(n),t}_createStylingMarker(){yE.trace("ElevationPath::_createStylingMarker ");var e=t.DEFAULT_STYLES.MARKER;yE.trace("style marker",e),this.options.stylesOptions.marker instanceof oE.A&&(e=this.options.stylesOptions.marker),this._markerStyle=new Ie.Ay({image:e})}_createStylingDraw(){yE.trace("ElevationPath::_createStylingDraw");var t=this.options.stylesOptions.draw;yE.trace("style start",t.start);var e={image:pE.DEFAULT_POINTER_STYLE,stroke:pE.DEFAULT_DRAW_START_STYLE.getStroke()};t.hasOwnProperty("pointer")&&t.pointer instanceof oE.A&&(e.image=t.pointer),t.hasOwnProperty("start")&&t.start instanceof Yn.A&&(e.stroke=t.start),this._drawStyleStart=new Ie.Ay(e),yE.trace("style finish",t.finish);var n={stroke:pE.DEFAULT_DRAW_FINISH_STYLE.getStroke()};t.hasOwnProperty("finish")&&t.finish instanceof Yn.A&&(n.stroke=t.finish),this._drawStyleFinish=new Ie.Ay(n)}_createStylingProfile(){yE.trace("ElevationPath::_createStylingProfile");var e=this.options.stylesOptions.profile;yE.trace("style profile",e);var n=t.DEFAULT_STYLES.PROFILE;Object.keys(n).forEach((t=>{if(e.hasOwnProperty(t)){var i=n[t];"object"===typeof i&&(Dn.mergeParams(i,e[t]),e[t]=i)}else e[t]=n[t]}))}_initMeasureInteraction(t){yE.trace("ElevationPath::_initMeasureInteraction()"),t&&(this._measureSource=new _t.A,this._measureVector=new _e.A({source:this._measureSource,style:this._drawStyleFinish}),this._measureVector.gpResultLayerId="measure:profil",t.addLayer(this._measureVector),t.getControls().forEach((t=>{if(t instanceof Ad){var e=this._measureVector.gpLayerId;t._layers[e].title===e&&t.addLayer(this._measureVector,{title:this.options.layerDescription.title,description:this.options.layerDescription.description})}})))}_addMeasureInteraction(t){yE.trace("ElevationPath::_addMeasureInteraction()"),t&&(this._measureDraw=new wn({source:this._measureSource,type:"LineString",style:this._drawStyleStart,stopClick:!0}),this._measureDraw.setProperties({name:"ElevationPath",source:this}),t.addInteraction(this._measureDraw),this._measureDraw.on("drawstart",(t=>{yE.trace("drawstart",t),null!==this._marker&&(this._measureSource.removeFeature(this._marker),this._marker=null),null!==this._lastSketch&&(this._measureSource.removeFeature(this._lastSketch),this._lastSketch=null),this._currentSketch=t.feature;for(var e=this._measureSource.getFeatures(),n=0;n<e.length;n++)this._measureSource.removeFeature(e[n]);this.dispatchEvent("elevationpath:drawstart")})),this._measureDraw.on("drawend",(t=>{yE.trace("drawend",t),this.dispatchEvent("elevationpath:drawend"),this._lastSketch=this._currentSketch,"undefined"===typeof this.options.elevationOptions.onSuccess&&null===this.options.displayProfileOptions.target&&(this._panelContainer.style.display="block"),this._measureDraw.setActive(!1),this._requestService()})))}_removeMeasureInteraction(t,e){yE.trace("ElevationPath::_removeMeasureInteraction()"),t&&(e&&this._measureVector&&(t.removeLayer(this._measureVector),this._measureVector=null),this._measureDraw&&(t.removeInteraction(this._measureDraw),this._measureDraw=null))}_getGeometry(){if(null!==this._currentSketch){for(var t=[],e=this.getMap(),n=e.getView().getProjection(),i="EPSG:4326",r=this._currentSketch.getGeometry().getCoordinates(),o=0;o<r.length;o++){var s=r[o],a=s;n!==i&&(a=(0,Z.pd)(s,n,i)),t.push({lon:Math.round(1e8*a[0])/1e8,lat:Math.round(1e8*a[1])/1e8})}return t}yE.warn("Current Feature undefined !?")}_getLength(){if(null!==this._currentSketch){for(var t=0,e=this.getMap(),n=e.getView().getProjection(),i="EPSG:4326",r=this._currentSketch.getGeometry().getCoordinates(),o=0,s=r.length-1;o<s;++o){var a=(0,Z.pd)(r[o],n,i),l=(0,Z.pd)(r[o+1],n,i);a[0]=Math.round(1e8*a[0])/1e8,a[1]=Math.round(1e8*a[1])/1e8,l[0]=Math.round(1e8*l[0])/1e8,l[1]=Math.round(1e8*l[1])/1e8,t+=(0,Hv.Yf)(a,l)}return t}yE.warn("Current Feature undefined !?")}_getSketchCoords(){if(null!==this._currentSketch){for(var t=this.getMap(),e=t.getView().getProjection(),n="EPSG:4326",i=[],r=this._currentSketch.getGeometry().getCoordinates(),o=0;o<r.length;o++){var s=(0,Z.pd)(r[o],e,n);s[0]=Math.round(1e8*s[0])/1e8,s[1]=Math.round(1e8*s[1])/1e8,i.push(s)}return i}yE.warn("Current Feature undefined !?")}_requestService(){yE.trace("ElevationPath::_requestService");var t=this._getGeometry();if(yE.trace("geometry",t),t){var e={};Dn.mergeParams(e,this.options.elevationOptions),Dn.mergeParams(e,{apiKey:e.apiKey||this.options.apiKey}),"boolean"!==typeof e.ssl&&("boolean"===typeof this.options.ssl?e.ssl=this.options.ssl:e.ssl=!0),Dn.mergeParams(e,{ssl:e.ssl});var n=this,i=!(null===this.options.elevationOptions.onFailure||"function"!==typeof this.options.elevationOptions.onFailure),r=!(null===this.options.elevationOptions.onSuccess||"function"!==typeof this.options.elevationOptions.onSuccess),o=function(t){yE.trace(t),t&&(n._panelContainer.style.display="block",n._data&&(n._data={}),n._data=n._computeElevationMeasure(t.elevations),n._displayProfile(n._data),n._waitingContainer.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden",n._waiting=!1,n._measureDraw.setActive(!0)),r&&n.options.elevationOptions.onSuccess.call(n,n.getData())},s=function(t){n._panelContainer.style.display="none",yE.error(t.message),n._waitingContainer.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden",n._waiting=!1,n._measureDraw.setActive(!0),i&&n.options.elevationOptions.onFailure.call(n,t)};Dn.mergeParams(e,{onSuccess:o,onFailure:s});var a=e.sampling;if(!a){var l,c=this._getLength();yE.trace("length",c);var u=Math.max(50,Math.floor(c)/5);l=u>200?200:Math.floor(u);var h=this._getSketchCoords().length;h>100&&(l=0)}l>0&&Dn.mergeParams(e,{sampling:l}),Dn.mergeParams(e,{positions:t}),yE.trace("options du service",e),this._waitingContainer.className="GPwaitingContainer GPwaitingContainerVisible gpf-waiting gpf-waiting--visible",bn.Ay.Services.getAltitude(e)}else yE.warn("missing geometry !?")}_computeElevationMeasure(t){yE.trace("ElevationPath::_computeElevationMeasure",t);var e=t,n="m",i=this._getSketchCoords();if(i){var r=0,o=0,s=i[1];e[0].dist=0,e[0].slope=0,e[0].lat=Math.round(1e4*e[0].lat)/1e4,e[0].lon=Math.round(1e4*e[0].lon)/1e4;for(var a=0,l=0,c=0,u=0,h=0,d=0,p=[],g=1;g<e.length;g++){var f=[e[g].lon,e[g].lat],m=o+(0,Hv.Yf)(f,i[r]),A=m-h;f[0]===s[0]&&f[1]===s[1]&&(r++,o=m,g!==e.length-1&&(s=i[r+1]));var y=e[g].z,v=e[g-1].z;y<0&&(y=0),v<0&&(v=0);var _=y-v;_<0?(a+=A,u+=_):_>0&&(l+=A,c+=_),h=m,e[g].dist=m,p.push(m),d+=_?Math.abs(Math.round(_/A*100)):0,e[g].slope=_?Math.abs(Math.round(_/A*100)):0;var C=e[g].slope;e[g].color=C>15&&C<30?"#005b4c":C>30&&C<45?"#00362d":C>45?"#00120f":"#00B798",e[g].lat=Math.round(1e4*e[g].lat)/1e4,e[g].lon=Math.round(1e4*e[g].lon)/1e4}yE.trace("List Distances",p);for(var I=e[0].z,E=e[0].z,w=e[0].slope,b=0;b<e.length;b++){var x=e[b];x.z<-100&&(x.z=0),x.z>E&&(E=x.z),x.z<I&&(I=x.z),x.slope>w&&(w=x.slope)}return{greaterSlope:w,meanSlope:Math.round(d/e.length),distancePlus:l,distanceMinus:a,ascendingElevation:c,descendingElevation:u,altMin:I.toLocaleString(),altMax:E.toLocaleString(),distance:this._getLength(),unit:n,points:e}}}_displayProfile(t){yE.trace("ElevationPath::_displayProfile",t),this._updateInfoContainer();var e=this.options.displayProfileOptions.target;e&&e.appendChild(this._panelContainer),e=this._profileContainer;var n=this,i=this.options.displayProfileOptions.apply;i.call(this,t,e,n);var r=this.options.displayProfileOptions,o=document.getElementById("GPelevationPathPanelInfo-"+this._uid);o&&(r.totalDistance||r.greaterSlope||r.meanSlope||r.ascendingElevation||r.descendingElevation)&&(o.style.display="block"),this.dispatchEvent({type:"elevationpath:compute"})}_updateInfoContainer(){yE.trace("ElevationPath::_updateInfoContainer");var t=this.options.displayProfileOptions.totalDistance,e=this.options.displayProfileOptions.meanSlope,n=this.options.displayProfileOptions.greaterSlope,i=this.options.displayProfileOptions.ascendingElevation,r=this.options.displayProfileOptions.descendingElevation,o=this._infoContainer;if(o.childElementCount)while(o.firstChild)o.removeChild(o.firstChild);t&&this._addElevationPathInformationsItem("Distance totale : "+Math.round(this._data.distance).toLocaleString()+" m"),i&&this._addElevationPathInformationsItem("Dénivelé positif : "+this._data.ascendingElevation.toLocaleString()+" m"),r&&this._addElevationPathInformationsItem("Dénivelé négatif : "+this._data.descendingElevation.toLocaleString()+" m"),e&&this._addElevationPathInformationsItem("Pente moyenne : "+this._data.meanSlope.toLocaleString()+" %"),n&&this._addElevationPathInformationsItem("Plus forte pente : "+this._data.greaterSlope.toLocaleString()+" %")}_removeMeasure(){if(this._lastSketch=null,this._currentSketch=null,this._measureSource){this._marker&&(this._measureSource.removeFeature(this._marker),this._marker=null);for(var t=this._measureSource.getFeatures(),e=0;e<t.length;e++)this._measureSource.removeFeature(t[e])}}_removeProfile(){if(this._profile=null,this._profileContainer)while(this._profileContainer.firstChild)this._profileContainer.removeChild(this._profileContainer.firstChild)}onShowElevationPathClick(t){var e=this.getMap();Un.unset(e,{current:"ElevationPath"});var n=this._pictoButton.ariaPressed;"true"===n?(null===this._profile&&(this._panelContainer.style.display="none"),this._initMeasureInteraction(e),this._addMeasureInteraction(e)):(this._panelContainer.style.display="none",t&&t.target.dataset&&t.target.dataset.removeMeasure?"true"===t.target.dataset.removeMeasure?this._removeMeasure():(this._lastSketch=null,this._currentSketch=null):this._removeMeasure(),this._removeProfile(),t&&t.target.dataset&&t.target.dataset.removeLayer?this._removeMeasureInteraction(e,"true"===t.target.dataset.removeLayer):this._removeMeasureInteraction(e,!0))}onOpenElevationPathInfoClick(){var t=this._infoContainer;"GPelementVisible gpf-visible"===t.className?(clearTimeout(this._timerHdlr),t.className="GPelementHidden gpf-hidden"):t.className="GPelevationPathInformationsContainerVisible",this._timerHdlr=setTimeout((function(){t.className="GPelementHidden gpf-hidden"}),4e3)}};Object.assign(vE.prototype,fE);var _E=vE;window.ol&&window.ol.control&&(window.ol.control.ElevationPath=vE);var CE=Pn.getLogger("layerimport"),IE=class t extends jc{constructor(e){if(e=e||{},super({element:e.element,target:e.target,render:e.render}),!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return this._initialize(e),this._container=this._initContainer(e),this.element?this.element.appendChild(this._container):this.element=this._container,this}static DefaultStyles={image:new Vn.A({src:jn["lightOrange"],anchor:[25.5,38],anchorOrigin:"top-left",anchorXUnits:"pixels",anchorYUnits:"pixels"}),stroke:new Yn.A({color:"rgba(0,42,80,0.8)",width:4}),fill:new Hn.A({color:"rgba(0, 183, 152, 0.5)"}),text:new qn.A({font:"16px Sans",textAlign:"left",fill:new Hn.A({color:"rgba(255, 255, 255, 1)"}),stroke:new Yn.A({color:"rgba(0, 0, 0, 1)",width:2})})};setMap(t){if(t){var e=this;t.getLayers().on("remove",(function(t){"layerimport:MAPBOX"===t.element.gpResultLayerId&&t.element.gpEditorId&&e._mapBoxPanel&&e._importPanel&&(e.cleanMapBoxResults(t.element.gpEditorId),e._mapBoxPanel.style.display="none",e._importPanel.style.display="")}),e),this.draggable&&(Dd.dragElement(this._importPanel,this._importPanelHeader,this.options.position?null:t.getTargetElement()),Dd.dragElement(this._getCapPanel,this._getCapPanelHeader,t.getTargetElement()),Dd.dragElement(this._mapBoxPanel,this._mapBoxPanelHeader,t.getTargetElement())),this.collapsed||this._showImportButton.setAttribute("aria-pressed",!0)}super.setMap(t),this.options.position&&this.setPosition(this.options.position)}getCollapsed(){return this.collapsed}setCollapsed(t){void 0!==t?t&&this.collapsed||!t&&!this.collapsed||(t?this._panelCloseButton.click():this._showImportButton.click(),this.collapsed=t):CE.error("[ERROR] LayerImport:setCollapsed - missing collapsed parameter")}getStaticImportContent(){return this.contentStatic}getServiceImportContent(){return this.contentService}getName(){return this._name}_initialize(e){if(this._checkInputOptions(e),this.options={collapsed:!0,draggable:!1,layerTypes:["KML","GPX","GeoJSON","WMS","WMTS","MAPBOX"],webServicesOptions:{},vectorStyleOptions:{KML:{extractStyles:!0,showPointNames:!0,defaultStyle:{}},GPX:{defaultStyle:{}},GeoJSON:{defaultStyle:{}},MapBox:{defaultStyle:{},editor:{}}}},e.vectorStyleOptions&&e.vectorStyleOptions.KML&&e.vectorStyleOptions.KML.extractStyles&&(this.options.vectorStyleOptions.KML.extractStyles=e.vectorStyleOptions.KML.extractStyles),e.vectorStyleOptions&&e.vectorStyleOptions.KML&&e.vectorStyleOptions.KML.showPointNames&&(this.options.vectorStyleOptions.KML.showPointNames=e.vectorStyleOptions.KML.showPointNames),e.vectorStyleOptions&&e.vectorStyleOptions.KML&&e.vectorStyleOptions.KML.defaultStyle?this.options.vectorStyleOptions.KML.defaultStyle=e.vectorStyleOptions.KML.defaultStyle:this.options.vectorStyleOptions.KML.defaultStyle=new Ie.Ay({image:t.DefaultStyles.image,stroke:t.DefaultStyles.stroke,fill:t.DefaultStyles.fill,text:t.DefaultStyles.text}),e.vectorStyleOptions&&e.vectorStyleOptions.GPX&&e.vectorStyleOptions.GPX.defaultStyle?this.options.vectorStyleOptions.GPX.defaultStyle=e.vectorStyleOptions.GPX.defaultStyle:this.options.vectorStyleOptions.GPX.defaultStyle=new Ie.Ay({image:t.DefaultStyles.image,stroke:t.DefaultStyles.stroke,fill:t.DefaultStyles.fill,text:t.DefaultStyles.text}),e.vectorStyleOptions&&e.vectorStyleOptions.GeoJSON&&e.vectorStyleOptions.GeoJSON.defaultStyle?this.options.vectorStyleOptions.GeoJSON.defaultStyle=e.vectorStyleOptions.GeoJSON.defaultStyle:this.options.vectorStyleOptions.GeoJSON.defaultStyle=new Ie.Ay({image:t.DefaultStyles.image,stroke:t.DefaultStyles.stroke,fill:t.DefaultStyles.fill,text:t.DefaultStyles.text}),e.vectorStyleOptions&&e.vectorStyleOptions.MapBox&&e.vectorStyleOptions.MapBox.defaultStyle?this.options.vectorStyleOptions.MapBox.defaultStyle=e.vectorStyleOptions.MapBox.defaultStyle:this.options.vectorStyleOptions.MapBox.defaultStyle=new Ie.Ay({image:t.DefaultStyles.image,stroke:t.DefaultStyles.stroke,fill:t.DefaultStyles.fill,text:t.DefaultStyles.text}),e.vectorStyleOptions&&e.vectorStyleOptions.MapBox&&e.vectorStyleOptions.MapBox.editor?this.options.vectorStyleOptions.MapBox.editor=e.vectorStyleOptions.MapBox.editor:this.options.vectorStyleOptions.MapBox.editor={title:!0,collapse:!1,themes:!1,layers:!0,style:!0,filter:!1,legend:!0,group:!1},e.vectorStyleOptions&&e.vectorStyleOptions.MapBox&&e.vectorStyleOptions.MapBox.hasOwnProperty("display")?this.options.vectorStyleOptions.MapBox.display=e.vectorStyleOptions.MapBox.display:this.options.vectorStyleOptions.MapBox.display=!0,Array.isArray(e.layerTypes)){for(var n=[],i=0;i<e.layerTypes.length;i++)n.push(e.layerTypes[i]);this.options.layerTypes=n}Dn.mergeParams(this.options,e),this.collapsed=this.options.collapsed,this.draggable=this.options.draggable,this._uid=Yc.generate(),this._waiting=!1,this._timer=null,this._initImportTypes(),this._initDefaultStyles(),this._showImportButton=null,this._importPanel=null,this._panelCloseButton=null,this._importPanelHeader=null,this._formContainer=null,this._staticLocalImportInput=null,this._staticUrlImportInput=null,this._serviceUrlImportInput=null,this._getCapPanel=null,this._getCapPanelHeader=null,this._getCapResultsListContainer=null,this._mapBoxPanel=null,this._mapBoxPanelHeader=null,this._mapBoxResultsListContainer=null,this._waitingContainer=null,this._loadingContainer=null,this._getCapRequestUrl=null,this._getCapResponseWMS=null,this._getCapResponseWMSLayers=[],this._getCapResponseWMTS=null,this._getCapResponseWMTSLayers=[],this._hasMapBoxResults=!1,this.contentStatic=null,this._url=null,this._file=null,this._name=null}_checkInputOptions(t){if(t.layerTypes){var e=t.layerTypes;if(Array.isArray(e)){for(var n=["KML","GPX","GEOJSON","WMS","WMTS","WFS","MAPBOX"],i=[],r=0;r<e.length;r++)"string"!==typeof e[r]?(i.push(r),CE.warn("[ol.control.LayerImport] 'options.layerTypes' elements should be of type string ("+e[r]+")")):(e[r]=e[r].toUpperCase(),-1===n.indexOf(e[r])&&(i.push(r),CE.log("[ol.control.LayerImport] options.layerTypes : "+e[r]+" is not a supported type")),"GEOJSON"===e[r]&&(e[r]="GeoJSON"),"MAPBOX"===e[r]&&(e[r]="MAPBOX"));if(0!==i.length)for(var o=i.length-1;o>=0;o--)e.splice(i[o],1)}else CE.warn('[ol.control.LayerImport] \'options.layerTypes\' parameter should be an array. Set default values ["KML", "GPX", "GeoJSON", "WMS", "WMTS"]'),t.layerTypes=["KML","GPX","GeoJSON","WMS","WMTS","MAPBOX"]}}_initDefaultStyles(){var t=this.options.vectorStyleOptions.KML.defaultStyle;this._defaultKMLStyle=new Ie.Ay({image:t.image,stroke:t.stroke,fill:t.fill,text:t.text});var e=this.options.vectorStyleOptions.GPX.defaultStyle;this._defaultGPXStyle=new Ie.Ay({image:e.image,stroke:e.stroke,fill:e.fill,text:e.text});var n=this.options.vectorStyleOptions.GeoJSON.defaultStyle;this._defaultGeoJSONStyle=new Ie.Ay({image:n.image,stroke:n.stroke,fill:n.fill,text:n.text});var i=this.options.vectorStyleOptions.MapBox.defaultStyle;this._defaultMapBoxStyle=new Ie.Ay({image:i.image,stroke:i.stroke,fill:i.fill,text:i.text})}_initImportTypes(){this._currentImportType=this.options.layerTypes[0]||"KML","KML"===this._currentImportType||"GPX"===this._currentImportType||"GeoJSON"===this._currentImportType||"MAPBOX"===this._currentImportType?this._isCurrentImportTypeStatic=!0:"WMS"!==this._currentImportType&&"WMTS"!==this._currentImportType&&"WFS"!==this._currentImportType||(this._isCurrentImportTypeStatic=!1),this._currentStaticImportType="local"}_initContainer(){var t=this._createMainContainerElement(),e=this._showImportButton=this._createShowImportPictoElement();t.appendChild(e);var n=this._importPanel=this._createImportPanelElement(),i=this._createImportPanelDivElement();n.appendChild(i);var r=this._importPanelHeader=this._createImportPanelHeaderElement(),o=this._createImportPanelTitleElement();r.appendChild(o);var s=this._panelCloseButton=this._createImportPanelCloseElement();r.appendChild(s),i.appendChild(r);var a=this._formContainer=this._initInputFormElement();i.appendChild(a);var l=this._getCapPanel=this._createImportGetCapPanelElement(),c=this._getCapPanelHeader=this._createImportGetCapPanelHeaderElement();l.appendChild(c);var u=this._getCapResultsListContainer=this._createImportGetCapResultsContainer();l.appendChild(u),i.appendChild(l);var h=this._mapBoxPanel=this._createImportMapBoxPanelElement(),d=this._mapBoxPanelHeader=this._createImportMapBoxPanelHeaderElement();h.appendChild(d);var p=this._mapBoxResultsListContainer=this._createImportMapBoxResultsContainer();h.appendChild(p);var g=this._loadingContainer=this._createLoadingElement();h.appendChild(g),i.appendChild(h);var f=this._waitingContainer=this._createImportWaitingElement();return i.appendChild(f),t.appendChild(n),t}_initInputFormElement(){var t=this._createImportPanelFormElement(),e=this._createImportTypeLineElement(this.options.layerTypes);t.appendChild(e);var n=this._createImportStaticParamsContainer(this.options.layerTypes[0]),i=this._createStaticNameLabel();n.appendChild(i);var r=this._createStaticModeChoiceDiv(),o=this._createStaticLocalChoiceDiv();r.appendChild(o);var s=this._createStaticUrlChoiceDiv();r.appendChild(s),n.appendChild(r);var a=this._createStaticLocalInputDiv();a.appendChild(this._createStaticLocalInputLabel()),this._staticLocalImportInput=this._createStaticLocalInput(),a.appendChild(this._staticLocalImportInput),n.appendChild(a);var l=this._createStaticUrlInputDiv();l.appendChild(this._createStaticUrlInputLabel()),this._staticUrlImportInput=this._createStaticUrlInput(),l.appendChild(this._staticUrlImportInput),n.appendChild(l),t.appendChild(n);var c=this._createServiceParamsContainer(this.options.layerTypes[0]),u=this._createServiceUrlDiv();u.appendChild(this._createServiceUrlInputLabel()),this._serviceUrlImportInput=this._createServiceUrlInput(),u.appendChild(this._serviceUrlImportInput),c.appendChild(u),t.appendChild(c);var h=this._createImportSubmitFormElement();return t.appendChild(h),t}_onShowImportClick(){var t=this.getMap();Un.unset(t);var e=this._showImportButton.ariaPressed;this.collapsed=!("true"===e),this.dispatchEvent("change:collapsed"),this._hasMapBoxResults?this._mapBoxPanel.style.display="block":(this._formContainer.style.display="block",this._importPanelHeader.style.display="")}_onImportTypeChange(t){this._currentImportType=t.target.value,"KML"===this._currentImportType||"GPX"===this._currentImportType||"GeoJSON"===this._currentImportType||"MAPBOX"===this._currentImportType?this._isCurrentImportTypeStatic=!0:"WMS"!==this._currentImportType&&"WMTS"!==this._currentImportType&&"WFS"!==this._currentImportType||(this._isCurrentImportTypeStatic=!1)}_onStaticImportTypeChange(t){this._currentStaticImportType=t.target.value}_onGetCapPanelClose(){"WMS"!==this._currentImportType&&"WMTS"!==this._currentImportType&&"WFS"!==this._currentImportType||this.cleanGetCapResultsList()}_onMapBoxPanelClose(){this.cleanMapBoxResultsList(),this._loadingContainer.className=""}_onMapBoxReturnPictoClick(t){this._mapBoxPanel.style.display="none",this._loadingContainer.className=""}_onImportSubmit(){CE.log("import d'une couche de type : "+this._currentImportType),this.contentStatic=null,this.contentService=null,this._isCurrentImportTypeStatic?this._importStaticLayer():this._importServiceLayers()}_importStaticLayer(){var t,e=document.getElementById(this._addUID("GPimportName"));e&&(t=e.value||"",CE.log("import layer name : "+t)),"local"===this._currentStaticImportType?(CE.log("import static layer from local file"),this._importStaticLayerFromLocalFile(t)):"url"===this._currentStaticImportType&&(CE.log("import static layer from url"),this._importStaticLayerFromUrl(t))}_importStaticLayerFromUrl(t){var e=this._staticUrlImportInput.value;if(CE.log("url : ",e),0!==e.length){e.trim&&(e=e.trim()),this._url=e,t||(t=this._url.substring(this._url.lastIndexOf("/")+1,this._url.lastIndexOf("."))),this._name=t,this.options.webServicesOptions&&this.options.webServicesOptions.proxyUrl&&(e=Rn.proxifyUrl(e,this.options.webServicesOptions));var n=this;bn.Ay.Protocols.XHR.call({url:e,method:"GET",timeOut:15e3,onResponse:function(e){n._hideWaitingContainer(),n._addFeaturesFromImportStaticLayer(e,t)},onFailure:function(t){n._hideWaitingContainer(),CE.error("[ol.control.LayerImport] KML/GPX/GeoJSON/MapBox request failed : ",t)}})}else CE.error("[ol.control.LayerImport] url parameter is mandatory")}_importStaticLayerFromLocalFile(t){var e=this._staticLocalImportInput.files[0];if(e){this._file=e,t||(t=this._file.name.substring(this._file.name.lastIndexOf("/")+1,this._file.name.lastIndexOf("."))),this._name=t;var n=new FileReader,i=this;n.onerror=t=>{i._hideWaitingContainer(),CE.error("error fileReader : ",t)},n.onprogress=()=>{CE.log("onprogress")},n.onloadstart=()=>{i._displayWaitingContainer(),CE.log("onloadstart")},n.onabort=()=>{i._hideWaitingContainer(),CE.log("onabort")},n.onloadend=t=>{CE.log("onloadend : ",t)},n.onload=e=>{CE.log("fileReader onload - file content : ",e.target.result),i._hideWaitingContainer(),i._addFeaturesFromImportStaticLayer(e.target.result,t)},n.readAsText(e)}else CE.warn("[ol.control.LayerImport] missing file")}_addFeaturesFromImportStaticLayer(t,e){var n=this.getMap();if(n&&t){var i=null,r=null,o=null,s=null;if(this.contentStatic=t,"MAPBOX"===this._currentImportType){this._hasMapBoxResults=!0;var a=this,l=JSON.parse(t),c=l.sources,u=Object.keys(c).length>1?1:0;for(var h in c)if(c.hasOwnProperty(h)){var d="",p="",g=null,f=null,m=null,A=null;if(l.metadata)for(var y in l.metadata)if(l.metadata.hasOwnProperty(y)){var v=y.split(":");if("geoportail"===v[0]){var _=v[1];if("title"===_){d=l.metadata[y];continue}if("description"===_){p=l.metadata[y];continue}if("quicklookUrl"===_){g=l.metadata[y];continue}if("legends"===_){f=l.metadata[y];continue}if("metadata"===_){m=l.metadata[y];continue}if("originators"===_){A=l.metadata[y];continue}}}d||(d="Couche MapBox"),p||(p="Couche MapBox"),d=u?d+"("+h+")":d;var C=c[h],I=C.type;if("vector"===I){var E=C.url,w=C.tiles,b=l.sprite;if(E&&0===E.indexOf("mapbox://")){var x=this._url;if(x){if(w=["a","b","c","d"].map((function(t){var e=E.replace("mapbox://",""),n=x.split("?")[1];return"https://"+t+".tiles.mapbox.com/v4/"+e+"/{z}/{x}/{y}.vector.pbf?"+n})),0===b.indexOf("mapbox://")){var S=x.split("?");l.sprite=S[0]+"/sprite?"+S[1]}}else CE.warn("Not yet implemented, can't use the local import scheme with a 'mapbox://' in the file.!")}if(w)o=new cr({featureClass:ye.A}),r=new yt({attributions:C.attribution,format:o,urls:w}),r._title=d,r._description=p,r._quicklookUrl=g,r._metadata=m,r._legends=f,r._originators=A,r.on("tileloadstart",(function(t){a._loadingContainer.className="GPmapLoadingVisible"})),r.on("tileloadend",(function(t){a._loadingContainer.className=""})),r.on("tileloaderror",(function(t){a._loadingContainer.className=""})),i=new Xi({source:r,visible:!1,declutter:!0}),i.id=h,i.gpResultLayerId="layerimport:"+this._currentImportType;else if(E){o=new cr({featureClass:ye.A}),i=new Xi({visible:!1,declutter:!0}),i.id=h,i.gpResultLayerId="layerimport:"+this._currentImportType;var P=new Ji({url:E}),M=P.on("change",(function(){if("ready"===P.getState()){for(var t=P.getTileJSON(),e=Array.isArray(t.tiles)?t.tiles:[t.tiles],n=0;n<e.length;n++){var s=e[n];0!==s.indexOf("http")&&(e[n]=E+s)}r=new yt({attributions:P.getAttributions()||t.attribution,format:o,tileGrid:$({extent:C.bounds,maxZoom:C.maxzoom||22,minZoom:C.minzoom||1,tileSize:C.tileSize||256}),urls:e}),r._title=d,r._description=p,r._quicklookUrl=g,r._metadata=m,r._legends=f,r._originators=A,r.on("tileloadstart",(function(t){a._loadingContainer.className="GPmapLoadingVisible"})),r.on("tileloadend",(function(t){a._loadingContainer.className=""})),i.setSource(r),i.set("mapbox-extension",t["vector_layers"]),(0,ur.e)(M)}}))}}else{if("geojson"!==I)return void CE.warn("Type MapBox format unknown !");var R=C.data;o=new ui,r=new yt({attributions:C.attribution,format:o,url:R}),r._title=d,r._description=p,r._quicklookUrl=g,r._metadata=m,r._legends=f,r._originators=A,i=new Xi({source:r,visible:!1,declutter:!0}),i.id=h,i.gpResultLayerId="layerimport:"+this._currentImportType}var T=JSON.parse(JSON.stringify(l));if(u){for(var G=T.layers,L=0;L<G.length;L++){var k=G[L];k.source===h||G.splice(L,1)}for(var O in T.sources)T.sources.hasOwnProperty(O)&&O!==h&&delete T.sources[O]}var D={id:h,styles:T,layer:i,options:{title:e||d,description:p,quicklookUrl:g,metadata:m,legends:f,originators:A}};(function(t){var e=()=>{Lc(t.layer,t.styles,t.id).then((function(){var e=!0;t.layer.setVisible(e);var n=1;t.layer.setOpacity(n)})).then((function(){var e=n.getView().getProjection().getCode();n.getView()&&t.styles.center&&t.styles.center.length&&n.getView().setCenter((0,Z.pd)(t.styles.center,"EPSG:4326",e)),n.getView()&&(t.styles.zoom||0===t.styles.zoom)&&n.getView().setZoom(t.styles.zoom);var i=t.layer.getSource();if(n.getView()&&n.getSize()&&i.getExtent){var r=i.getExtent();r&&r[0]!==1/0&&n.getView().fit(i.getExtent(),n.getSize())}})).then((function(){a._formContainer.style.display="none",a._importPanelHeader.style.display="none";var e=new nE({target:a._mapBoxResultsListContainer,style:JSON.parse(JSON.stringify(t.styles)),scope:this,events:{"editor:onloaded":a._onLoadedMapBox,"editor:layer:onclickvisibility":a._onChangeVisibilitySourceMapBox,"editor:style:scale:onchangemin":a._onChangeScaleMinSourceMapBox,"editor:style:scale:onchangemax":a._onChangeScaleMaxSourceMapBox,"editor:legend:onchangevalue":a._onChangeLegendValueSourceMapBox,"editor:legend:onclickedition":a._onDisplayLayerSourceMapBox},tools:a.options.vectorStyleOptions.MapBox.editor});return e.setContext("map",n),e.setContext("layer",t.layer),e.createElement().then((function(){if(0===e.getLayers().length)throw new Error("Il n'existe pas de styles pour la source demandée !?")})).then((function(){a.options.vectorStyleOptions.MapBox.display&&(a._mapBoxPanel.style.display="block")})).then((function(){var t=a._mapBoxResultsListContainer.getElementsByClassName("GPEditorMapBoxLayerTitleLabel");for(let e=0;e<t.length;e++){const n=t[e];"bckgrd"===n.textContent&&(n.textContent="Couleur de remplissage")}})).then((function(){t.layer.set("mapbox-editor",e.getID()),setTimeout((function(){n.dispatchEvent({id:e.getID(),type:"editor:loaded",style:t.styles,layer:t.layer})}),100)})).catch((function(t){throw t}))})).then((function(){n.dispatchEvent({id:t.id,type:"render:success",style:t.styles})})).catch((function(e){CE.error(e),n.dispatchEvent({id:t.id,type:"render:failure",error:e})}))};CE.warn(t.layer);var i=n.get("mapbox-styles")||{},r=t.id;i[r]=t.styles,n.set("mapbox-styles",i),t.layer.set("mapbox-styles",t.styles),n.addLayer(t.layer),t.layer.getSource()?e():t.layer.once("change:source",e),n.getControls().forEach((e=>{e instanceof Ad&&e.addLayer(t.layer,t.options)}))})(D)}}else{"KML"===this._currentImportType?(s=this.options.vectorStyleOptions.KML.defaultStyle,o=new ri({showPointNames:this.options.vectorStyleOptions.KML.showPointNames,extractStyles:this.options.vectorStyleOptions.KML.extractStyles,defaultStyle:[s]})):"GPX"===this._currentImportType?(s=this.options.vectorStyleOptions.GPX.defaultStyle,o=new ai({defaultStyle:s})):"GeoJSON"===this._currentImportType&&(s=this.options.vectorStyleOptions.GeoJSON.defaultStyle,o=new ui({defaultStyle:s}));var N=o.readProjection(t),F=this._getMapProjectionCode(),U=null;U=o.readFeatures(t,{dataProjection:N,featureProjection:F}),CE.log("loaded features : ",U),r=new _t.A({features:new me.A}),r.addFeatures(U),CE.trace(r),r._title=r._description=e,i=new _e.A({source:r,style:s}),i.gpResultLayerId="layerimport:"+this._currentImportType;var B=o.readRootExtensions("geoportail:compute");if(B&&0!==Object.keys(B).length){var j={route:{class:A_,name:"itineraire"},isocurve:{class:I_,name:"isocurve"},elevationpath:{class:_E,name:"profil altimetrique"}},z=B.type,W=B.transport;if(z){var V=j[z].name,Y=W?V+" ("+W+")":V,H=j[z].class;if(H){i.gpResultLayerId="layerimport:COMPUTE",i.set("control",z),i.set("name",V),i.set("graph",W),i.set("data",B),i.set("title",Y);var q=new ui({defaultStyle:s}),X=q.writeFeatures(U,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"});i.set("geojson",X),this.getMap().getControls().forEach((t=>{t instanceof H&&(t.setData(B),t.setLayer(i),t.init())}))}}}if(n.addLayer(i),n.getView()&&n.getSize()&&r.getExtent){var K=r.getExtent();K&&K[0]!==1/0&&n.getView().fit(r.getExtent(),n.getSize())}}}}_addFeaturesFromImportStaticLayerUrl(t,e){var n,i,r,o=this.getMap();if(o&&t&&("MAPBOX"===this._currentImportType?CE.trace("Not yet implemented !"):("KML"===this._currentImportType?r=new ri({showPointNames:!0,extractStyles:this.options.vectorStyleOptions.KML.extractStyles,defaultStyle:[this.options.vectorStyleOptions.KML.defaultStyle]}):"GPX"===this._currentImportType?r=new ai({defaultStyle:this.options.vectorStyleOptions.GPX.defaultStyle}):"GeoJSON"===this._currentImportType&&(r=new ui({defaultStyle:this.options.vectorStyleOptions.GeoJSON.defaultStyle})),n=new _t.A({url:t,format:r}),"GPX"===this._currentImportType&&n.forEachFeature((function(t){null==t.getStyle()&&(CE.log("[ol.control.LayerImport] set default style for GPX feature"),t.setStyle(this.options.vectorStyleOptions.GPX.defaultStyle))})),"GeoJSON"===this._currentImportType&&n.forEachFeature((function(t){null==t.getStyle()&&(CE.log("[ol.control.LayerImport] set default style for GeoJSON feature"),t.setStyle(this.options.vectorStyleOptions.GeoJSON.defaultStyle))})),n._title=n._description=e,i=new _e.A({source:n})),i.gpResultLayerId="layerimport:"+this._currentImportType,o.addLayer(i),o.getView()&&o.getSize()&&n.getExtent)){var s=n.getExtent();s&&s[0]!==1/0&&o.getView().fit(n.getExtent(),o.getSize())}}_onLoadedMapBox(t){var e=t.target.data.obj,n=this.getContext("layer");n.get("mapbox-source")===e.source&&(n.get("mapbox-editor"),t.target.editorID)}_onChangeVisibilitySourceMapBox(t){var e=t.target.data.obj,n=t.target.srcElement,i=this.getContext("layer");if(i.get("mapbox-source")===e.source&&i.get("mapbox-editor")===t.target.editorID){for(var r=i.get("mapbox-styles"),o=r.layers,s=0;s<o.length;s++)if(o[s].id===e.id){var a=o[s].layout;a?a.visibility=n.checked?"visible":"none":o[s].layout={visibility:n.checked?"visible":"none"};break}Lc(i,r,e.source).then((function(){})).catch((function(t){CE.error(t)}))}}_onChangeScaleMinSourceMapBox(t){var e=t.target.data.obj,n=t.target.srcElement,i=this.getContext("layer");if(i.get("mapbox-source")===e.source&&i.get("mapbox-editor")===t.target.editorID){for(var r=i.get("mapbox-styles"),o=r.layers,s=0;s<o.length;s++)if(o[s].id===e.id){o[s].minzoom=n.value,n.title=n.value;break}Lc(i,r,e.source).then((function(){})).catch((function(t){CE.error(t)}))}}_onChangeScaleMaxSourceMapBox(t){var e=t.target.data.obj,n=t.target.srcElement,i=this.getContext("layer");if(i.get("mapbox-source")===e.source&&i.get("mapbox-editor")===t.target.editorID){for(var r=i.get("mapbox-styles"),o=r.layers,s=0;s<o.length;s++)if(o[s].id===e.id){o[s].maxzoom=n.value,n.title=n.value;break}Lc(i,r,e.source).then((function(){})).catch((function(t){CE.error(t)}))}}_onChangeLegendValueSourceMapBox(t){var e=t.target.data.obj,n=t.target.srcElement,i=this.getContext("layer");if(i.get("mapbox-source")===e.source&&i.get("mapbox-editor")===t.target.editorID){for(var r=i.get("mapbox-styles"),o=r.layers,s=0;s<o.length;s++)if(o[s].id===e.id){var a=o[s].paint;a&&(a[n.dataset.id]=n.value);break}Lc(i,r,e.source).then((function(){})).catch((function(t){CE.error(t)}))}}_onDisplayLayerSourceMapBox(t){var e=t.target.data.obj,n=this.getContext("layer");if(n.get("mapbox-source")===e.source&&n.get("mapbox-editor")===t.target.editorID){var i=t.target.currentTarget.parentNode.id,r=i.substring(i.indexOf("-")+1,i.indexOf("_")),o=this.getLayer(r);o.collapse()}}_importServiceLayers(){if("WFS"!==this._currentImportType){this.cleanGetCapResultsList();var t=this._getCapRequestUrl=this._serviceUrlImportInput.value;if(t){CE.log("url : ",t),t.trim&&(t=t.trim());var e=t.indexOf("?");e<0?t+="?SERVICE="+this._currentImportType+"&REQUEST=GetCapabilities":e===t.length-1&&(t+="SERVICE="+this._currentImportType+"&REQUEST=GetCapabilities"),this.options.webServicesOptions&&this.options.webServicesOptions.proxyUrl&&(t=Rn.proxifyUrl(t,this.options.webServicesOptions)),this._displayWaitingContainer();var n=this;bn.Ay.Protocols.XHR.call({url:t,method:"GET",timeOut:15e3,onResponse:function(t){n._hideWaitingContainer(),n._displayGetCapResponseLayers(t)},onFailure:function(t){n._hideWaitingContainer(),CE.error("[ol.control.LayerImport] getCapabilities request failed : ",t)}})}else CE.error("[ol.control.LayerImport] url parameter is mandatory")}else CE.warn("[ol.control.LayerImport] WFS layer import is not implemented yet")}_displayGetCapResponseLayers(t){var e,n,i,r={content:null,title:null};if(this._getCapResponseWMSLayers=[],this.contentService=t,this._importPanel.style.display="none",this._getCapPanel.style.display="block","WMS"===this._currentImportType){e=new IC;var o=this._getCapResponseWMS=e.read(t);if(CE.log("getCapabilities response : ",o),o&&o.Capability&&o.Capability.Layer){var s=o.Capability.Layer;if(Array.isArray(s))for(var a=0;a<s.length;a++)this._displayGetCapResponseWMSLayer(s[a]);else this._displayGetCapResponseWMSLayer(s)}}else if("WMTS"===this._currentImportType){e=new SI;var l=this._getCapResponseWMTS=e.read(t);if(CE.log("getCapabilities response : ",l),l&&l.Contents&&l.Contents.Layer&&(n=l.Contents.Layer,Array.isArray(n))){this._getCapResponseWMTSLayers=n;for(var c=0;c<n.length;c++)if(i=this._getWMTSLayerProjection(n[c],l),i&&"string"===typeof i){if(!(0,Z.Jt)(i)&&!(0,Z.Jt)(i.toUpperCase())){CE.warn("[ol.control.LayerImport] wmts layer cannot be added to map : unknown projection",n[c]);continue}r={content:n[c].Title,title:n[c].Abstract||n[c].Title},this._getCapResultsListContainer&&this._addImportGetCapResultLayer(r,c,this._getCapResultsListContainer)}}}}_displayGetCapResponseWMSLayer(t,e){if(t){CE.log("[ol.control.LayerImport] _displayGetCapResponseWMSLayer - layerObj : ",t);var n,i=this._getMapProjectionCode(),r={content:null,title:null};if(e){var o,s,a=["CRS","Style"];for(s=0;s<a.length;s++)if(o=a[s],Array.isArray(e[o])&&0!==e[o].length)if(Array.isArray(t[o])&&0!==t[o].length)for(var l=0;l<e[o].length;l++)-1===t[o].indexOf(e[o][l])&&t[o].push(e[o][l]);else t[o]=e[o];var c=["BoundingBox","EX_GeographicBoundingBox","MaxScaleDenominator","MinScaleDenominator","Attribution","Dimension","queryable","cascaded","opaque","noSubsets","fixedWidth","fixedHeight"];for(s=0;s<c.length;s++)o=c[s],e[o]&&!t[o]&&(t[o]=e[o])}else t._isRootLayer=!0,t._container=this._getCapResultsListContainer,t.Title||(t.Title="Liste des couches");if(t.Layer){if(Array.isArray(t.Layer)){var u=t?t._container:e._container,h=t?t.Title:e.Title;t._container=this._addImportGetCapResultListRubrique(h,u).lastChild;for(var d=0;d<t.Layer.length;d++){for(var p=!1,g=t._container.getElementsByClassName("GPimportGetCapRubriqueTitle"),f=0;f<g.length;f++)g[f].title===t.Title&&(p=!0,t.Layer[d]._container=g[f].parentElement);p||(t.Layer[d]._container=this._addImportGetCapResultRubrique(t.Title,t._container).lastChild),this._displayGetCapResponseWMSLayer(t.Layer[d],t)}}}else{var m=this._getCapResponseWMSLayers.length;if(n=this._getWMSLayerProjection(t,i),n){t._projection=n,r={content:t.Title,title:t.Abstract||t.Title};var A=t._container;"ul"===A.localName&&(A=A.lastChild),this._addImportGetCapResultLayer(r,m,A),this._getCapResponseWMSLayers[m]=t}else CE.warn("[ol.control.LayerImport] wms layer cannot be added to map : unknown projection",t)}}else CE.warn("[ol.control.LayerImport] _displayGetCapResponseWMSLayer : getCapabilities layer object not found")}_onGetCapResponseLayerClick(t){if(t.target&&t.target.id){var e,n=parseInt(t.target.id.substr(23),10);if(isNaN(n))return;"WMS"===this._currentImportType?(e=this._getCapResponseWMSLayers[n],this._addGetCapWMSLayer(e)):"WMTS"===this._currentImportType&&(e=this._getCapResponseWMTSLayers[n],this._addGetCapWMTSLayer(e))}}_addGetCapWMSLayer(t){var e=this.getMap();if(e)if(t){var n=this._getMapProjectionCode(),i={},r=this._getWMSLayerGetMapUrl();if(r)i.url=r;else{var o=this._getCapRequestUrl.indexOf("?");i.url=-1!==o?this._getCapRequestUrl.substring(0,o):this._getCapRequestUrl}if(i.params={},t.Name){i.params["LAYERS"]=t.Name,i.params["SERVICE"]="WMS",this._getCapResponseWMS.version&&(i.params["VERSION"]=this._getCapResponseWMS.version);var s=t._projection;if(s){var a;if(s!==n&&(i.projection=s),t.Style&&Array.isArray(t.Style)){var l=t.Style[0];i.params["STYLES"]=l.Name,l.LegendURL&&Array.isArray(l.LegendURL)&&0!==l.LegendURL.length&&(a=l.LegendURL[0].OnlineResource)}var c=new he(i);this._getWMSLayerInfoForLayerSwitcher(t,a,c);var u={};u["source"]=c,this._getWMSLayerMinMaxResolution(t,n,u),this._getWMSLayerExtent(t,n,u);var h=new Gi(u);h.gpResultLayerId="layerimport:WMS",t.queryable&&(h.gpGFIparams={queryable:!0},this._getCapResponseWMS&&this._getCapResponseWMS.Capability&&this._getCapResponseWMS.Capability.Request&&this._getCapResponseWMS.Capability.Request.GetFeatureInfo&&this._getCapResponseWMS.Capability.Request.GetFeatureInfo.Format&&Array.isArray(this._getCapResponseWMS.Capability.Request.GetFeatureInfo.Format)&&(h.gpGFIparams.formats=this._getCapResponseWMS.Capability.Request.GetFeatureInfo.Format)),e.addLayer(h)}else CE.warn("[ol.control.LayerImport] wms layer cannot be added to map : unknown projection")}else CE.warn("[ol.control.LayerImport] unable to add wms layer : mandatory layer 'name' parameter cannot be found",t)}else CE.warn("[ol.control.LayerImport] _addGetCapWMSLayer error : layerInfo is not defined");else CE.warn("[ol.control.LayerImport] _addGetCapWMSLayer error : map is not defined")}_getWMSLayerGetMapUrl(){var t;if(this._getCapResponseWMS&&this._getCapResponseWMS.Capability&&this._getCapResponseWMS.Capability.Request&&this._getCapResponseWMS.Capability.Request.GetMap){var e=this._getCapResponseWMS.Capability.Request.GetMap;if(e.DCPType&&Array.isArray(e.DCPType)&&0!==e.DCPType.length){var n=e.DCPType[0];n&&n.HTTP&&n.HTTP.Get&&(t=n.HTTP.Get.OnlineResource)}}return t}_getWMSLayerProjection(t,e){var n;if(t&&"object"===typeof t){var i=t.CRS;if(Array.isArray(i)){if(i.includes(e))return n=e,n;var r,o;for(o=0;o<i.length;o++)if(r=i[o],r&&"string"===typeof r&&((0,Z.Jt)(r)||(0,Z.Jt)(r.toUpperCase())))return n=r,n}return n}CE.warn("missing layer information (from getCapabilities)")}_getWMSLayerMinMaxResolution(t,e,n){var i=(0,Z.Jt)(e).getUnits();if("m"===i)t.MinScaleDenominator&&(n.minResolution=28e-5*t.MinScaleDenominator),t.MaxScaleDenominator&&(n.maxResolution=28e-5*t.MaxScaleDenominator);else if("degrees"===i){var r=28e-5*180/(6378137*Math.PI);t.MinScaleDenominator&&(n.minResolution=t.MinScaleDenominator*r),t.MaxScaleDenominator&&(n.maxResolution=t.MaxScaleDenominator*r)}}_getWMSLayerExtent(t,e,n){if(t){var i=t["EX_GeographicBoundingBox"],r=t.BoundingBox;if(i&&Array.isArray(i))n.extent="EPSG:4326"===e?i:(0,Z.DI)(i,"EPSG:4326",e);else if(r&&Array.isArray(r))for(var o,s,a=0;a<r.length;a++)if(o=r[a].crs,s=r[a].extent,o){if(o===e){n.extent=s;break}if("string"===typeof o){var l=(0,Z.Jt)(o)?(0,Z.Jt)(o):(0,Z.Jt)(o.toUpperCase());if(l){if("degrees"===l.getUnits()&&0===o.toUpperCase().indexOf("EPSG")){var c=[s[1],s[0],s[3],s[2]];n.extent=(0,Z.DI)(c,l,e)}else n.extent=(0,Z.DI)(s,l,e);break}}}}else CE.warn("[ol.control.LayerImport] _getWMSLayerExtent error : layerInfo is not defined")}_getWMSLayerInfoForLayerSwitcher(t,e,n){if(t.Title?(n._title=t.Title,n._description=t.Abstract?t.Abstract:t.Title):(n._title=t.Name,n._description=t.Abstract?t.Abstract:t.Name),e&&(n._legends=[{url:e}]),t.MetadataURL&&Array.isArray(t.MetadataURL)){n._metadata=[];for(var i=0;i<t.MetadataURL.length;i++){var r=t.MetadataURL[i].OnlineResource;r&&n._metadata.push({url:r})}}if(t.Attribution){var o=t.Attribution;n._originators={},o.OnlineResource&&(n._originators.url=o.OnlineResource),o.Title&&(n._originators.name=n._originators.attribution=o.Title),o.LogoURL&&o.LogoURL.OnlineResource&&(n._originators.logo=o.LogoURL.OnlineResource)}}_addGetCapWMTSLayer(t){if(t&&t.Identifier){var e=this.getMap();if(e){var n={};n.layer=t.Identifier,this._getCapResponseWMTS.version&&(n.version=this._getCapResponseWMTS.version);var i=this._getWMTSLayerGetTileUrl();if(i)n.url=i;else{var r=this._getCapRequestUrl.indexOf("?");n.url=-1!==r?this._getCapRequestUrl.substring(0,r):this._getCapRequestUrl}var o,s,a,l=this._getTMSParams(t);if(n.matrixSet=l.tms,n.projection=l.projCode,n.tileGrid=new gi({resolutions:l.resolutions,matrixIds:l.matrixIds,origin:l.origin}),t.Style&&Array.isArray(t.Style))for(var c,u=0;u<t.Style.length;u++){if(c=t.Style[u],o=c.Identifier,c.isDefault)break;c.LegendURL&&Array.isArray(c.LegendURL)&&0!==c.LegendURL.length&&(s=c.LegendURL[0].href)}null==o&&CE.warn("[ol.control.LayerImport] style information not found in getCapabilities response for layer "+t.Identifier),n.style=o,t.Format&&Array.isArray(t.Format)&&(a=t.Format[0]),null==a&&CE.warn("[ol.control.LayerImport] format information not found in getCapabilities response for layer "+t.Identifier),n.format=a;var h=new pe(n);t.Title?(h._title=t.Title,h._description=t.Abstract?t.Abstract:t.Title):(h._title=t.Identifier,h._description=t.Abstract?t.Abstract:t.Identifier),s&&(h._legends=[{url:s}]);var d,p={};p.source=h,p.extent=this._getWMTSLayerExtent(t);try{d=new Gi(p)}catch(YE){return void CE.warn("[ol.control.LayerImport] an error occured while trying to create ol.layer.Tile from getCapabilities information. error : ",YE)}d.gpResultLayerId="layerimport:WMTS",e.addLayer(d)}}else CE.warn("[ol.control.LayerImport] layer information not found in getCapabilities response for layer ")}_getWMTSLayerGetTileUrl(){var t;if(this._getCapResponseWMTS&&this._getCapResponseWMTS.OperationsMetadata&&this._getCapResponseWMTS.OperationsMetadata.GetTile){var e=this._getCapResponseWMTS.OperationsMetadata.GetTile;e.DCP&&e.DCP.HTTP&&e.DCP.HTTP.Get&&Array.isArray(e.DCP.HTTP.Get)&&0!==e.DCP.HTTP.Get.length&&(t=e.DCP.HTTP.Get[0].href)}return t}_getWMTSLayerProjection(t,e){var n;if(t&&"object"===typeof t){if(e&&"object"===typeof e){if(t.TileMatrixSetLink&&Array.isArray(t.TileMatrixSetLink)){var i,r=t.TileMatrixSetLink[0].TileMatrixSet;if(e.Contents&&Array.isArray(e.Contents.TileMatrixSet))for(var o=e.Contents.TileMatrixSet,s=0;s<o.length;s++)if(o[s].Identifier===r&&o[s].TileMatrix){var a=o[s];i=a.SupportedCRS,i&&"string"===typeof i&&((0,Z.Jt)(i)||(0,Z.Jt)(i.toUpperCase()))&&(n=i);break}}return n}CE.warn("missing getCapabilities response")}else CE.warn("missing layer information (from getCapabilities)")}_getTMSParams(t){var e,n,i,r={},o=[],s=[],a=[],l=this.getMap();if(l&&t.TileMatrixSetLink&&Array.isArray(t.TileMatrixSetLink)){if(e=t.TileMatrixSetLink[0].TileMatrixSet,this._getCapResponseWMTS.Contents&&Array.isArray(this._getCapResponseWMTS.Contents.TileMatrixSet)){for(var c=this._getCapResponseWMTS.Contents.TileMatrixSet,u=0;u<c.length;u++)if(c[u].Identifier===e&&c[u].TileMatrix){var h,d,p,g,f,m=c[u];if(m.SupportedCRS&&(n=m.SupportedCRS,i=(0,Z.Jt)(n)),i&&i.getUnits&&(f=i.getUnits()),Array.isArray(m.TileMatrix))for(var A=0;A<m.TileMatrix.length;A++)h=m.TileMatrix[A],null!=h.Identifier&&(d=parseInt(h.Identifier,10),o.push(d)),p=h.ScaleDenominator,g="degrees"===f?28e-5*p*180/(6378137*Math.PI):28e-5*p,s.push(g),a=h.TopLeftCorner;void 0!==s.sort&&s.sort((function(t,e){return e-t})),void 0!==o.sort&&o.sort((function(t,e){return t-e}))}}else CE.warn("[ol.control.LayerImport] TileMatrixSet data not found in getCapabilities response for layer "+t.Identifier);return r.tms=e,r.projCode=n,r.matrixIds=o,r.resolutions=s,r.origin=a,r}}_getWMTSLayerExtent(t){var e,n=this._getMapProjectionCode();return t.WGS84BoundingBox&&Array.isArray(t.WGS84BoundingBox)&&(e=(0,Z.DI)(t.WGS84BoundingBox,"EPSG:4326",n)),e}_getMapProjectionCode(){var t=this.getMap();if(t&&t.getView&&t.getView().getProjection){var e=t.getView().getProjection().getCode();return e}CE.warn("unable to get layerimport's map")}_displayWaitingContainer(){this._waitingContainer.className="GPwaitingContainer GPwaitingContainerVisible gpf-waiting gpf-waiting--visible",this._waiting=!0,this._timer&&(clearTimeout(this._timer),this._timer=null);var t=this;this._timer=setTimeout((function(){!0===t._waiting?t._hideWaitingContainer():t._timer&&clearTimeout(t._timer)}),16e3)}_hideWaitingContainer(){this._waiting&&(this._waitingContainer.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden",this._waiting=!1,clearTimeout(this._timer),this._timer=null)}cleanGetCapResultsList(){if(this._getCapRequestUrl=null,this._getCapResponseWMS=null,this._getCapResponseWMTS=null,this._getCapResponseWMSLayers=null,this._getCapResponseWMTSLayers=null,this._getCapResultsListContainer)while(this._getCapResultsListContainer.firstChild)this._getCapResultsListContainer.removeChild(this._getCapResultsListContainer.firstChild)}cleanMapBoxResultsList(){if(this._hasMapBoxResults=!1,this._mapBoxResultsListContainer)while(this._mapBoxResultsListContainer.firstChild)this._mapBoxResultsListContainer.removeChild(this._mapBoxResultsListContainer.firstChild)}cleanMapBoxResults(t){if(this._hasMapBoxResults=!1,this._mapBoxResultsListContainer){var e=this._mapBoxResultsListContainer.childNodes;for(let n=0;n<e.length;n++){const i=e[n];i.id==="GPEditorMapBoxContainer_ID_"+t&&i.remove()}}}};Object.assign(IE.prototype,rE);var EE=IE;window.ol&&window.ol.control&&(window.ol.control.LayerImport=IE);var wE=n(8641),bE=Pn.getLogger("geoportalattribution"),xE=class t extends wE.A{constructor(e){if(e=e||{},e.collapsible=!0,e.collapsed=!0,super(e),!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return this}setMap(e){if(null!=e){var n=e.getControls();n.forEach((e=>{if(!(e instanceof t)&&e)for(var i=e.element.classList,r=0;r<i.length;r++)if("ol-attribution"===i[r]){n.remove(e);break}})),this._updateAttributions(e),e.on("moveend",(()=>{this._updateAttributions(e)})),e.getLayers().on("add",(()=>{this._updateAttributions(e)})),e.getLayers().on("remove",(()=>{this._updateAttributions(e)}))}super.setMap(e)}_updateAttributions(t){for(var e={},n=t.getView(),i=n.calculateExtent(t.getSize()),r=n.getProjection().getCode(),o=(0,Z.DI)(i,r,"EPSG:4326"),s=[o[3],o[0],o[1],o[2]],a=n.getZoom(),l=t.getLayers().getArray(),c=0;c<l.length;c++)if(l[c].getSource)this._updateLayerAttributions(l[c],e,s,r,a);else if(l[c].getLayers){var u=l[c].getLayers();u.forEach((t=>{t.getSource?this._updateLayerAttributions(t,e,s,r,a):bE.log("cannot find layer source in layergroup ",l[c])}))}}_updateLayerAttributions(t,e,n,i,r){if(t){var o=t.getSource();if(o){e||(e={});var s=[],a=t.getVisible(),l=o._originators;if("undefined"!==typeof l&&o.setAttributions(),l&&a){for(var c=mi.getAttributions({extent:n,crs:i,zoom:r,visibility:a,originators:l}),u=0;u<c.length;u++){var h=c[u];e.hasOwnProperty(h)||(s.push(h),e[h]=!0)}0!==s.length&&(o.setAttributions(s),this.dispatchEvent({type:"attributions:update",attributions:s}))}}else bE.trace("source is not yet loaded !")}else bE.trace("layer is null !?")}},SE=xE;window.ol&&window.ol.control&&(window.ol.control.GeoportalAttribution=xE);var PE={_addUID:function(t){var e=this._uid?t+"-"+this._uid:t;return e},_createMainContainerElement:function(){var t=document.createElement("div");return t.id=this._addUID("GPmeasureLength"),t.className="GPwidget gpf-widget",t},_createShowMeasureLengthPictoElement:function(){var t=this,e=document.createElement("button");return e.id=this._addUID("GPshowMeasureLengthPicto"),e.className="GPshowOpen GPshowAdvancedToolPicto gpf-btn fr-btn",e.title="Mesurer une distance",e.setAttribute("tabindex","0"),e.setAttribute("aria-pressed",!1),e.addEventListener?e.addEventListener("click",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t.onShowMeasureLengthClick(e)})):e.attachEvent&&e.attachEvent("onclick",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t.onShowMeasureLengthClick(e)})),e}},ME=PE,RE=Pn.getLogger("measurelength"),TE=class t extends jc{constructor(e){if(e=e||{},super({element:e.element,target:e.target,render:e.render}),!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return this.CLASSNAME="MeasureLength",this._uid=Yc.generate(),this._pictoContainer=null,this._initialize(e),this._container=this._initializeContainer(),this.element?this.element.appendChild(this._container):this.element=this._container,this}setMap(t){RE.trace("setMap()");var e=this.CLASSNAME;t?this.options.target||this.options.position||uE.add(t,this):this.clean(),this.tools[e].push({instance:t?this:null,active:!1,map:t?t.getTargetElement().id:null});var n="undefined"!==typeof window?window:"undefined"!==typeof self?self:null;n&&(n.gpShareMeasures||(n.gpShareMeasures={}),n.gpShareMeasures[e]=this.tools[e]),super.setMap(t),this.options.position&&this.setPosition(this.options.position)}_initialize(t){RE.trace("call MeasureLength::_initialize() : ",t),this.options={},this.options.geodesic="undefined"===typeof t.geodesic||t.geodesic,this.options.position="undefined"!==typeof t.position?t.position:null,this.options.target="undefined"!==typeof t.target?t.target:null,this.options.render="undefined"!==typeof t.render?t.render:null,this.options.layerDescription="undefined"!==typeof t.layerDescription?t.layerDescription:{title:"Mesures de distance",description:"Mes mesures"},this.createStylingMeasureInteraction(t.styles)}_initializeContainer(){RE.trace("call MeasureLength::_initializeContainer() : ",this._uid);var t=this._createMainContainerElement(),e=this._pictoContainer=this._createShowMeasureLengthPictoElement();return t.appendChild(e),t}addMeasureEvents(){RE.trace("call MeasureLength::addMeasureEvents()");var t=this.getMap();t.on("singleclick",(t=>this.onPointerMoveHandler(t))),t.on("pointermove",(t=>this.onPointerMoveHandler(t)))}removeMeasureEvents(){RE.trace("call MeasureLength::removeMeasureEvents()");var t=this.getMap();t.un("singleclick",(t=>this.onPointerMoveHandle(t))),t.un("pointermove",(t=>this.onPointerMoveHandler(t)))}format(t){RE.trace("call MeasureLength::format()");var e,n,i=this.getMap();if(this.options.geodesic){var r=t.getCoordinates();e=0;for(var o=i.getView().getProjection(),s=0,a=r.length-1;s<a;++s){var l=(0,Z.pd)(r[s],o,"EPSG:4326"),c=(0,Z.pd)(r[s+1],o,"EPSG:4326");e+=(0,Hv.Yf)(l,c)}}else e=Math.round(100*t.getLength())/100;return n=e>1e3?Math.round(e/1e3*100)/100+" km":Math.round(100*e)/100+" m",n}onShowMeasureLengthClick(t){RE.trace("call MeasureLength::onShowMeasureLengthClick()",t),this.onShowMeasureClick(t,"LineString")}};Object.assign(TE.prototype,pE),Object.assign(TE.prototype,ME);var GE=TE;window.ol&&window.ol.control&&(window.ol.control.MeasureLength=TE);var LE={_addUID:function(t){var e=this._uid?t+"-"+this._uid:t;return e},_createMainContainerElement:function(){var t=document.createElement("div");return t.id=this._addUID("GPmeasureArea"),t.className="GPwidget gpf-widget",t},_createShowMeasureAreaPictoElement:function(){var t=this,e=document.createElement("button");return e.id=this._addUID("GPshowMeasureAreaPicto"),e.className="GPshowOpen GPshowAdvancedToolPicto gpf-btn fr-btn",e.title="Mesurer une surface",e.setAttribute("tabindex","0"),e.setAttribute("aria-pressed",!1),e.addEventListener?e.addEventListener("click",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t.onShowMeasureAreaClick(e)})):e.attachEvent&&e.attachEvent("onclick",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t.onShowMeasureAreaClick(e)})),e}},kE=LE,OE=Pn.getLogger("measurearea"),DE=class t extends jc{constructor(e){if(e=e||{},super({element:e.element,target:e.target,render:e.render}),!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return this.CLASSNAME="MeasureArea",this._uid=Yc.generate(),this._pictoContainer=null,this._initialize(e),this._container=this._initializeContainer(),this.element?this.element.appendChild(this._container):this.element=this._container,this}setMap(t){OE.trace("setMap()");var e=this.CLASSNAME;t?this.options.target||this.options.position||uE.add(t,this):this.clean(),this.tools[e].push({instance:t?this:null,active:!1,map:t?t.getTargetElement().id:null});var n="undefined"!==typeof window?window:"undefined"!==typeof self?self:null;n&&(n.gpShareMeasures||(n.gpShareMeasures={}),n.gpShareMeasures[e]=this.tools[e]),super.setMap(t),this.options.position&&this.setPosition(this.options.position)}_initialize(t){OE.trace("call MeasureArea::_initialize() : ",t),this.options={},this.options.geodesic="undefined"===typeof t.geodesic||t.geodesic,this.options.position="undefined"!==typeof t.position?t.position:null,this.options.target="undefined"!==typeof t.target?t.target:null,this.options.render="undefined"!==typeof t.render?t.render:null,this.options.layerDescription="undefined"!==typeof t.layerDescription?t.layerDescription:{title:"Mesures de surface",description:"Mes mesures"},this.createStylingMeasureInteraction(t.styles)}_initializeContainer(){OE.trace("call MeasureArea::_initializeContainer() : ",this._uid);var t=this._createMainContainerElement(),e=this._pictoContainer=this._createShowMeasureAreaPictoElement();return t.appendChild(e),t}addMeasureEvents(){OE.trace("call MeasureArea::addMeasureEvents()");var t=this.getMap();t.on("singleclick",(t=>this.onPointerMoveHandler(t))),t.on("pointermove",(t=>this.onPointerMoveHandler(t)))}removeMeasureEvents(){OE.trace("call MeasureArea::removeMeasureEvents()");var t=this.getMap();t.un("singleclick",(t=>this.onPointerMoveHandler(t))),t.un("pointermove",(t=>this.onPointerMoveHandler(t)))}format(t){var e,n;if(OE.trace("call MeasureArea::format()"),this.options.geodesic){var i=t.clone(),r=i.getLinearRing(0).getCoordinates();e=Math.abs((0,Hv.UG)(new De.Ay([r])))}else e=t.getArea();return n=e>1e6?Math.round(e/1e6*100)/100+" km<sup>2</sup>":e>1e5?Math.round(e/1e6*1e3)/1e3+" km<sup>2</sup>":e>1e3?10*Math.round(e/10)+" m<sup>2</sup>":Math.round(100*e)/100+" m<sup>2</sup>",n}onShowMeasureAreaClick(t){OE.trace("call MeasureArea::onShowMeasureAreaClick()",t),this.onShowMeasureClick(t,"Polygon")}};Object.assign(DE.prototype,pE),Object.assign(DE.prototype,kE);var NE=DE;window.ol&&window.ol.control&&(window.ol.control.MeasureArea=DE);var FE={_addUID:function(t){var e=this._uid?t+"-"+this._uid:t;return e},_createMainContainerElement:function(){var t=document.createElement("div");return t.id=this._addUID("GPmeasureAzimuth"),t.className="GPwidget gpf-widget",t},_createShowMeasureAzimuthPictoElement:function(){var t=this,e=document.createElement("button");return e.id=this._addUID("GPshowMeasureAzimuthPicto"),e.className="GPshowOpen GPshowAdvancedToolPicto gpf-btn fr-btn",e.title="Mesurer un azimut",e.setAttribute("tabindex","0"),e.setAttribute("aria-pressed",!1),e.addEventListener?e.addEventListener("click",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t.onShowMeasureAzimuthClick(e)})):e.attachEvent&&e.attachEvent("onclick",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t.onShowMeasureAzimuthClick(e)})),e}},UE=FE,BE=Pn.getLogger("measureazimut"),jE=class t extends jc{constructor(e){if(e=e||{},super({element:e.element,target:e.target,render:e.render}),!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return this.CLASSNAME="MeasureAzimuth",this._uid=Yc.generate(),this._pictoContainer=null,this._initialize(e),this._container=this._initializeContainer(),this.element?this.element.appendChild(this._container):this.element=this._container,this}setMap(t){BE.trace("setMap()");var e=this.CLASSNAME;t?this.options.target||this.options.position||uE.add(t,this):this.clean(),this.tools[e].push({instance:t?this:null,active:!1,map:t?t.getTargetElement().id:null});var n="undefined"!==typeof window?window:"undefined"!==typeof self?self:null;n&&(n.gpShareMeasures||(n.gpShareMeasures={}),n.gpShareMeasures[e]=this.tools[e]),super.setMap(t),this.options.position&&this.setPosition(this.options.position)}setGeodesic(t){this.options.geodesic="undefined"!==typeof t&&t}isGeodesic(){return this.options.geodesic}_initialize(t){BE.trace("call MeasureAzimuth::_initialize() : ",t),this.options={},this.options.geodesic="undefined"!==typeof t.geodesic&&t.geodesic,this.options.position="undefined"!==typeof t.position?t.position:null,this.options.target="undefined"!==typeof t.target?t.target:null,this.options.render="undefined"!==typeof t.render?t.render:null,this.options.layerDescription="undefined"!==typeof t.layerDescription?t.layerDescription:{title:"Mesures d'azimuth",description:"Mes mesures"},this.createStylingMeasureInteraction(t.styles)}_initializeContainer(){BE.trace("call MeasureAzimuth::_initializeContainer() : ",this._uid);var t=this._createMainContainerElement(),e=this._pictoContainer=this._createShowMeasureAzimuthPictoElement();return t.appendChild(e),t}addMeasureEvents(){BE.trace("call MeasureAzimuth::addMeasureEvents()");var t=this.getMap();t.on("singleclick",(t=>this.onPointerMoveAzimutHandler(t))),t.on("pointermove",(t=>this.onPointerMoveAzimutHandler(t)))}removeMeasureEvents(){BE.trace("call MeasureAzimuth::removeMeasureEvents()");var t=this.getMap();t.un("singleclick",(t=>this.onPointerMoveAzimutHandler(t))),t.un("pointermove",(t=>this.onPointerMoveAzimutHandler(t)))}format(t){BE.trace("call MeasureAzimuth::format()");var e=this.getMap(),n=e.getView().getProjection(),i=(0,Z.pd)(t.getFirstCoordinate(),n,"EPSG:4326"),r=(0,Z.pd)(t.getLastCoordinate(),n,"EPSG:4326");if(!this.options.geodesic){var o=(0,Hv.Yf)(i,r);if(BE.trace("measure between 2 points with geodesic method",o),o>500){var s=500/o;BE.trace("%",s),r=(0,Z.pd)(t.getCoordinateAt(s),n,"EPSG:4326")}}var a=Math.PI/180,l=180/Math.PI,c=a*i[0],u=a*r[0],h=a*i[1],d=a*r[1],p=Math.sin(u-c)*Math.cos(d),g=Math.cos(h)*Math.sin(d)-Math.sin(h)*Math.cos(d)*Math.cos(u-c),f=Math.atan2(p,g),m=l*f;BE.trace("azimut",m),m<0&&(m+=360);var A=Math.round(100*m)/100+" °";return A}onShowMeasureAzimuthClick(t){BE.trace("call MeasureAzimuth::onShowMeasureAzimuthClick()",t),this.onShowMeasureClick(t,"LineString")}onPointerMoveAzimutHandler(t){if(this.onPointerMoveHandler(t),this.sketch){var e=this.sketch.getGeometry();e.getCoordinates().length>2&&this.measureDraw.finishDrawing()}}};Object.assign(jE.prototype,pE),Object.assign(jE.prototype,UE);var zE=jE;window.ol&&window.ol.control&&(window.ol.control.MeasureAzimuth=jE);const WE=i.rE,VE=i.p6},11:function(t,e,n){"use strict";var i=n(8416);e.A=i},5603:function(t,e,n){"use strict";n.d(e,{A:function(){return h}});const i="[A-Za-z$_][0-9A-Za-z$_]*",r=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],o=["true","false","null","undefined","NaN","Infinity"],s=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],a=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],l=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],c=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],u=[].concat(l,s,a);function h(t){const e=t.regex,n=(t,{after:e})=>{const n="</"+t[0].slice(1),i=t.input.indexOf(n,e);return-1!==i},h=i,d={begin:"<>",end:"</>"},p=/<[A-Za-z0-9\\._:-]+\s*\/>/,g={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(t,e)=>{const i=t[0].length+t.index,r=t.input[i];if("<"===r||","===r)return void e.ignoreMatch();let o;">"===r&&(n(t,{after:i})||e.ignoreMatch());const s=t.input.substring(i);((o=s.match(/^\s*=/))||(o=s.match(/^\s+extends\s+/))&&0===o.index)&&e.ignoreMatch()}},f={$pattern:i,keyword:r,literal:o,built_in:u,"variable.language":c},m="[0-9](_?[0-9])*",A=`\\.(${m})`,y="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",v={className:"number",variants:[{begin:`(\\b(${y})((${A})|\\.)?|(${A}))[eE][+-]?(${m})\\b`},{begin:`\\b(${y})\\b((${A})\\b|\\.)?|(${A})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},_={className:"subst",begin:"\\$\\{",end:"\\}",keywords:f,contains:[]},C={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,_],subLanguage:"xml"}},I={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,_],subLanguage:"css"}},E={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,_],subLanguage:"graphql"}},w={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,_]},b=t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:h+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),x={className:"comment",variants:[b,t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},S=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,C,I,E,w,{match:/\$\d+/},v];_.contains=S.concat({begin:/\{/,end:/\}/,keywords:f,contains:["self"].concat(S)});const P=[].concat(x,_.contains),M=P.concat([{begin:/\(/,end:/\)/,keywords:f,contains:["self"].concat(P)}]),R={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:f,contains:M},T={variants:[{match:[/class/,/\s+/,h,/\s+/,/extends/,/\s+/,e.concat(h,"(",e.concat(/\./,h),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,h],scope:{1:"keyword",3:"title.class"}}]},G={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...s,...a]}},L={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},k={variants:[{match:[/function/,/\s+/,h,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[R],illegal:/%/},O={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function D(t){return e.concat("(?!",t.join("|"),")")}const N={match:e.concat(/\b/,D([...l,"super","import"]),h,e.lookahead(/\(/)),className:"title.function",relevance:0},F={begin:e.concat(/\./,e.lookahead(e.concat(h,/(?![0-9A-Za-z$_(])/))),end:h,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},U={match:[/get|set/,/\s+/,h,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},R]},B="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",j={match:[/const|var|let/,/\s+/,h,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(B)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[R]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:f,exports:{PARAMS_CONTAINS:M,CLASS_REFERENCE:G},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),L,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,C,I,E,w,x,{match:/\$\d+/},v,G,{className:"attr",begin:h+e.lookahead(":"),relevance:0},j,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[x,t.REGEXP_MODE,{className:"function",begin:B,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:f,contains:M}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:d.begin,end:d.end},{match:p},{begin:g.begin,"on:begin":g.isTrulyOpeningTag,end:g.end}],subLanguage:"xml",contains:[{begin:g.begin,end:g.end,skip:!0,contains:["self"]}]}]},k,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[R,t.inherit(t.TITLE_MODE,{begin:h,className:"title.function"})]},{match:/\.\.\./,relevance:0},F,{match:"\\$"+h,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[R]},N,O,T,U,{match:/\$[(.]/}]}}},3844:function(t,e,n){"use strict";n(4114);var i=n(1611),r=n(2686),o=n(9078);const s={LENGTH:"length"};class a extends o.Ay{constructor(t,e,n){super(t),this.element=e,this.index=n}}class l extends i.A{constructor(t,e){if(super(),this.on,this.once,this.un,e=e||{},this.unique_=!!e.unique,this.array_=t||[],this.unique_)for(let n=0,i=this.array_.length;n<i;++n)this.assertUnique_(this.array_[n],n);this.updateLength_()}clear(){while(this.getLength()>0)this.pop()}extend(t){for(let e=0,n=t.length;e<n;++e)this.push(t[e]);return this}forEach(t){const e=this.array_;for(let n=0,i=e.length;n<i;++n)t(e[n],n,e)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(s.LENGTH)}insertAt(t,e){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new a(r.A.ADD,e,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);const e=this.getLength();return this.insertAt(e,t),this.getLength()}remove(t){const e=this.array_;for(let n=0,i=e.length;n<i;++n)if(e[n]===t)return this.removeAt(n)}removeAt(t){if(t<0||t>=this.getLength())return;const e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new a(r.A.REMOVE,e,t)),e}setAt(t,e){const n=this.getLength();if(t>=n)return void this.insertAt(t,e);if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e,t);const i=this.array_[t];this.array_[t]=e,this.dispatchEvent(new a(r.A.REMOVE,i,t)),this.dispatchEvent(new a(r.A.ADD,e,t))}updateLength_(){this.set(s.LENGTH,this.array_.length)}assertUnique_(t,e){for(let n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===t&&n!==e)throw new Error("Duplicate item added to a unique collection")}}e.A=l},2686:function(t,e){"use strict";e.A={ADD:"add",REMOVE:"remove"}},8646:function(t,e){"use strict";class n{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}e.A=n},856:function(t,e,n){"use strict";var i=n(1611),r=n(7582),o=n(1097),s=n(8965);class a extends i.A{constructor(t){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t)if("function"===typeof t.getSimplifiedGeometry){const e=t;this.setGeometry(e)}else{const e=t;this.setProperties(e)}}clone(){const t=new a(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());const e=this.getGeometry();e&&t.setGeometry(e.clone());const n=this.getStyle();return n&&t.setStyle(n),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&((0,s.JH)(this.geometryChangeKey_),this.geometryChangeKey_=null);const t=this.getGeometry();t&&(this.geometryChangeKey_=(0,s.KT)(t,r.A.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?l(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function l(t){if("function"===typeof t)return t;let e;if(Array.isArray(t))e=t;else{(0,o.v)("function"===typeof t.getZIndex,"Expected an `ol/style/Style` or an array of `ol/style/Style.js`");const n=t;e=[n]}return function(){return e}}e.A=a},2299:function(t,e,n){"use strict";n.d(e,{D4:function(){return p},RA:function(){return d},f6:function(){return u}});n(4114);var i=n(9357),r=n(7582),o=n(1410),s=n(502),a=n(8965),l=n(9331);class c extends i.A{constructor(t,e,n,i){super(),this.extent=t,this.pixelRatio_=n,this.resolution=e,this.state="function"===typeof i?o.A.IDLE:i,this.image_=null,this.loader="function"===typeof i?i:null}changed(){this.dispatchEvent(r.A.CHANGE)}getExtent(){return this.extent}getImage(){return this.image_}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){if(this.state==o.A.IDLE&&this.loader){this.state=o.A.LOADING,this.changed();const t=this.getResolution(),e=Array.isArray(t)?t[0]:t;(0,l.hq)((()=>this.loader(this.getExtent(),e,this.getPixelRatio()))).then((t=>{"image"in t&&(this.image_=t.image),"extent"in t&&(this.extent=t.extent),"resolution"in t&&(this.resolution=t.resolution),"pixelRatio"in t&&(this.pixelRatio_=t.pixelRatio),(t instanceof HTMLImageElement||t instanceof ImageBitmap||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement)&&(this.image_=t),this.state=o.A.LOADED})).catch((t=>{this.state=o.A.ERROR,console.error(t)})).finally((()=>this.changed()))}}setImage(t){this.image_=t}setResolution(t){this.resolution=t}}function u(t,e,n){const i=t;let o=!0,l=!1,c=!1;const u=[(0,a.Jz)(i,r.A.LOAD,(function(){c=!0,l||e()}))];return i.src&&s.DT?(l=!0,i.decode().then((function(){o&&e()})).catch((function(t){o&&(c?e():n())}))):u.push((0,a.Jz)(i,r.A.ERROR,n)),function(){o=!1,u.forEach(a.JH)}}function h(t,e){return new Promise(((n,i)=>{function r(){s(),n(t)}function o(){s(),i(new Error("Image load error"))}function s(){t.removeEventListener("load",r),t.removeEventListener("error",o)}t.addEventListener("load",r),t.addEventListener("error",o),e&&(t.src=e)}))}function d(t,e){return e&&(t.src=e),t.src&&s.DT?new Promise(((e,n)=>t.decode().then((()=>e(t))).catch((i=>t.complete&&t.width?e(t):n(i))))):h(t)}function p(t,e){return e&&(t.src=e),t.src&&s.DT&&s.XM?t.decode().then((()=>createImageBitmap(t))).catch((e=>{if(t.complete&&t.width)return t;throw e})):d(t)}e.Ay=c},1410:function(t,e){"use strict";e.A={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},4705:function(t,e,n){"use strict";n.d(e,{A:function(){return Ht}});n(4114);var i=n(1611),r=n(3844),o=n(2686),s=n(8646),a=n(9331),l=n(5752),c=n(1194),u=n(7444),h=n(1382),d=n(2425),p=n(8474);class g extends s.A{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,e){(0,l.b0)()}calculateMatrices2D(t){const e=t.viewState,n=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;(0,c.Zz)(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),(0,c.T9)(i,n)}forEachFeatureAtCoordinate(t,e,n,i,r,o,s,a){let l;const c=e.viewState;function h(t,e,n,i){return r.call(o,e,t?n:null,i)}const g=c.projection,f=(0,p.Li)(t.slice(),g),m=[[0,0]];if(g.canWrapX()&&i){const t=g.getExtent(),e=(0,u.RG)(t);m.push([-e,0],[e,0])}const A=e.layerStatesArray,y=A.length,v=[],_=[];for(let u=0;u<m.length;u++)for(let i=y-1;i>=0;--i){const r=A[i],o=r.layer;if(o.hasRenderer()&&(0,d.l)(r,c)&&s.call(a,o)){const i=o.getRenderer(),s=o.getSource();if(i&&s){const o=s.getWrapX()?f:t,a=h.bind(null,r.managed);_[0]=o[0]+m[u][0],_[1]=o[1]+m[u][1],l=i.forEachFeatureAtCoordinate(_,e,n,a,v)}if(l)return l}}if(0===v.length)return;const C=1/v.length;return v.forEach(((t,e)=>t.distanceSq+=e*C)),v.sort(((t,e)=>t.distanceSq-e.distanceSq)),v.some((t=>l=t.callback(t.feature,t.layer,t.geometry))),l}hasFeatureAtCoordinate(t,e,n,i,r,o){const s=this.forEachFeatureAtCoordinate(t,e,n,i,a.rT,this,r,o);return void 0!==s}getMap(){return this.map_}renderFrame(t){(0,l.b0)()}flushDeclutterItems(t){}scheduleExpireIconCache(t){h.u.canExpireCache()&&t.postRenderFunctions.push(f)}}function f(t,e){h.u.expire()}var m=g,A=n(6555),y=n(6355),v=n(3707),_=n(4109),C=n(8911),I=n(8965),E=n(7334);class w extends m{constructor(t){super(t),this.fontChangeListenerKey_=(0,I.KT)(C.yY,A.A.PROPERTYCHANGE,t.redrawText.bind(t)),this.element_=document.createElement("div");const e=this.element_.style;e.position="absolute",e.width="100%",e.height="100%",e.zIndex="0",this.element_.className=_.XI+" ol-layers";const n=t.getViewport();n.insertBefore(this.element_,n.firstChild||null),this.children_=[],this.renderedVisible_=!0,this.declutterLayers_=[]}dispatchRenderEvent(t,e){const n=this.getMap();if(n.hasListener(t)){const i=new y.A(t,void 0,e);n.dispatchEvent(i)}}disposeInternal(){(0,I.JH)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(t){if(!t)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));this.calculateMatrices2D(t),this.dispatchRenderEvent(v.A.PRECOMPOSE,t);const e=t.layerStatesArray.sort((function(t,e){return t.zIndex-e.zIndex})),n=t.viewState;this.children_.length=0;const i=this.declutterLayers_;i.length=0;let r=null;for(let o=0,s=e.length;o<s;++o){const s=e[o];t.layerIndex=o;const a=s.layer,l=a.getSourceState();if(!(0,d.l)(s,n)||"ready"!=l&&"undefined"!=l){a.unrender();continue}const c=a.render(t,r);c&&(c!==r&&(this.children_.push(c),r=c),"getDeclutter"in a&&i.push(a))}this.flushDeclutterItems(t),(0,E.WM)(this.element_,this.children_),this.dispatchRenderEvent(v.A.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}flushDeclutterItems(t){const e=this.declutterLayers_;for(let n=e.length-1;n>=0;--n)e[n].renderDeclutter(t);e.length=0}}var b=w,x=n(7582),S=n(3139),P=n(9020),M=n(3156),R={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},T=n(9357),G=n(502);class L extends T.A{constructor(t,e){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=void 0===e?1:e,this.down_=null;const n=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=n,this.pointerdownListenerKey_=(0,I.KT)(n,R.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=(0,I.KT)(n,R.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(x.A.TOUCHMOVE,this.boundHandleTouchMove_,!!G.FT&&{passive:!1})}emulateClick_(t){let e=new P.A(M.A.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new P.A(M.A.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout((()=>{this.clickTimeoutId_=void 0;const e=new P.A(M.A.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}),250)}updateActivePointers_(t){const e=t,n=e.pointerId;if(e.type==M.A.POINTERUP||e.type==M.A.POINTERCANCEL){delete this.trackedTouches_[n];for(const t in this.trackedTouches_)if(this.trackedTouches_[t].target!==e.target){delete this.trackedTouches_[t];break}}else e.type!=M.A.POINTERDOWN&&e.type!=M.A.POINTERMOVE||(this.trackedTouches_[n]=e);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);const e=new P.A(M.A.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(I.JH),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return 0===t.button}handlePointerDown_(t){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(t);const e=new P.A(M.A.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(e),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),0===this.dragListenerKeys_.length){const t=this.map_.getOwnerDocument();this.dragListenerKeys_.push((0,I.KT)(t,M.A.POINTERMOVE,this.handlePointerMove_,this),(0,I.KT)(t,M.A.POINTERUP,this.handlePointerUp_,this),(0,I.KT)(this.element_,M.A.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==t&&this.dragListenerKeys_.push((0,I.KT)(this.element_.getRootNode(),M.A.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;const e=new P.A(M.A.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(e)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;const e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new P.A(M.A.POINTERMOVE,this.map_,t,e))}handleTouchMove_(t){const e=this.originalPointerMoveEvent_;e&&!e.defaultPrevented||"boolean"===typeof t.cancelable&&!0!==t.cancelable||t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&((0,I.JH)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(x.A.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&((0,I.JH)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(I.JH),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}var k=L,O=n(14),D=n(2742),N={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},F=n(1097),U=n(6811);const B=1/0;class j{constructor(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,(0,U.I)(this.queuedElements_)}dequeue(){const t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));const i=this.keyFunction_(n);return delete this.queuedElements_[i],n}enqueue(t){(0,F.v)(!(this.keyFunction_(t)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const e=this.priorityFunction_(t);return e!=B&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(t){return 2*t+1}getRightChildIndex_(t){return 2*t+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return 0===this.elements_.length}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){const e=this.elements_,n=this.priorities_,i=e.length,r=e[t],o=n[t],s=t;while(t<i>>1){const r=this.getLeftChildIndex_(t),o=this.getRightChildIndex_(t),s=o<i&&n[o]<n[r]?o:r;e[t]=e[s],n[t]=n[s],t=s}e[t]=r,n[t]=o,this.siftDown_(s,t)}siftDown_(t,e){const n=this.elements_,i=this.priorities_,r=n[e],o=i[e];while(e>t){const t=this.getParentIndex_(e);if(!(i[t]>o))break;n[e]=n[t],i[e]=i[t],e=t}n[e]=r,i[e]=o}reprioritize(){const t=this.priorityFunction_,e=this.elements_,n=this.priorities_;let i=0;const r=e.length;let o,s,a;for(s=0;s<r;++s)o=e[s],a=t(o),a==B?delete this.queuedElements_[this.keyFunction_(o)]:(n[i]=a,e[i++]=o);e.length=i,n.length=i,this.heapify_()}}var z=j,W=n(9611);class V extends z{constructor(t,e){super((function(e){return t.apply(null,e)}),(function(t){return t[0].getKey()})),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=e,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){const e=super.enqueue(t);if(e){const e=t[0];e.addEventListener(x.A.CHANGE,this.boundHandleTileChange_)}return e}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const e=t.target,n=e.getState();if(n===W.A.LOADED||n===W.A.ERROR||n===W.A.EMPTY){n!==W.A.ERROR&&e.removeEventListener(x.A.CHANGE,this.boundHandleTileChange_);const t=e.getKey();t in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[t],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,e){let n,i,r,o=0;while(this.tilesLoading_<t&&o<e&&this.getCount()>0)i=this.dequeue()[0],r=i.getKey(),n=i.getState(),n!==W.A.IDLE||r in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++o,i.load())}}var Y=V;function H(t,e,n,i,r){if(!t||!(n in t.wantedTiles))return B;if(!t.wantedTiles[n][e.getKey()])return B;const o=t.viewState.center,s=i[0]-o[0],a=i[1]-o[1];return 65536*Math.log(r)+Math.sqrt(s*s+a*a)/r}var q=n(8699),X=n(6940),Z=n(8641),K=n(6993),J=n(8409);class Q extends K.A{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});const e=void 0!==t.className?t.className:"ol-rotate",n=void 0!==t.label?t.label:"⇧",i=void 0!==t.compassClassName?t.compassClassName:"ol-compass";this.label_=null,"string"===typeof n?(this.label_=document.createElement("span"),this.label_.className=i,this.label_.textContent=n):(this.label_=n,this.label_.classList.add(i));const r=t.tipLabel?t.tipLabel:"Reset rotation",o=document.createElement("button");o.className=e+"-reset",o.setAttribute("type","button"),o.title=r,o.appendChild(this.label_),o.addEventListener(x.A.CLICK,this.handleClick_.bind(this),!1);const s=e+" "+_.XI+" "+_.$N,a=this.element;a.className=s,a.appendChild(o),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=void 0!==t.duration?t.duration:250,this.autoHide_=void 0===t.autoHide||t.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(_.Si)}handleClick_(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const t=this.getMap(),e=t.getView();if(!e)return;const n=e.getRotation();void 0!==n&&(this.duration_>0&&n%(2*Math.PI)!==0?e.animate({rotation:0,duration:this.duration_,easing:J.vT}):e.setRotation(0))}render(t){const e=t.frameState;if(!e)return;const n=e.viewState.rotation;if(n!=this.rotation_){const t="rotate("+n+"rad)";if(this.autoHide_){const t=this.element.classList.contains(_.Si);t||0!==n?t&&0!==n&&this.element.classList.remove(_.Si):this.element.classList.add(_.Si)}this.label_.style.transform=t}this.rotation_=n}}var $=Q;class tt extends K.A{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});const e=void 0!==t.className?t.className:"ol-zoom",n=void 0!==t.delta?t.delta:1,i=void 0!==t.zoomInClassName?t.zoomInClassName:e+"-in",r=void 0!==t.zoomOutClassName?t.zoomOutClassName:e+"-out",o=void 0!==t.zoomInLabel?t.zoomInLabel:"+",s=void 0!==t.zoomOutLabel?t.zoomOutLabel:"–",a=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",l=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",c=document.createElement("button");c.className=i,c.setAttribute("type","button"),c.title=a,c.appendChild("string"===typeof o?document.createTextNode(o):o),c.addEventListener(x.A.CLICK,this.handleClick_.bind(this,n),!1);const u=document.createElement("button");u.className=r,u.setAttribute("type","button"),u.title=l,u.appendChild("string"===typeof s?document.createTextNode(s):s),u.addEventListener(x.A.CLICK,this.handleClick_.bind(this,-n),!1);const h=e+" "+_.XI+" "+_.$N,d=this.element;d.className=h,d.appendChild(c),d.appendChild(u),this.duration_=void 0!==t.duration?t.duration:250}handleClick_(t,e){e.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){const e=this.getMap(),n=e.getView();if(!n)return;const i=n.getZoom();if(void 0!==i){const e=n.getConstrainedZoom(i+t);this.duration_>0?(n.getAnimating()&&n.cancelAnimations(),n.animate({zoom:e,duration:this.duration_,easing:J.vT})):n.setZoom(e)}}}var et=tt;function nt(t){t=t||{};const e=new r.A,n=void 0===t.zoom||t.zoom;n&&e.push(new et(t.zoomOptions));const i=void 0===t.rotate||t.rotate;i&&e.push(new $(t.rotateOptions));const o=void 0===t.attribution||t.attribution;return o&&e.push(new Z.A(t.attributionOptions)),e}var it=n(6425);class rt extends it.Ay{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:250}handleEvent(t){let e=!1;if(t.type==M.A.DBLCLICK){const n=t.originalEvent,i=t.map,r=t.coordinate,o=n.shiftKey?-this.delta_:this.delta_,s=i.getView();(0,it.D2)(s,o,r,this.duration_),n.preventDefault(),e=!0}return!e}}var ot=rt,st=n(5596),at=n(2535);class lt extends st.A{constructor(t){super({stopDown:a.W8}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const e=t.condition?t.condition:(0,at.Q7)(at.TS,at.fs);this.condition_=t.onFocusOnly?(0,at.Q7)(at.eL,e):e,this.noKinetic_=!1}handleDragEvent(t){const e=t.map;this.panning_||(this.panning_=!0,e.getView().beginInteraction());const n=this.targetPointers,i=e.getEventPixel((0,st.v)(n));if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){const e=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],n=t.map,r=n.getView();(0,p.hs)(e,r.getResolution()),(0,p.e$)(e,r.getRotation()),r.adjustCenterInternal(e)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=n.length,t.originalEvent.preventDefault()}handleUpEvent(t){const e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const t=this.kinetic_.getDistance(),i=this.kinetic_.getAngle(),r=n.getCenterInternal(),o=e.getPixelFromCoordinateInternal(r),s=e.getCoordinateFromPixelInternal([o[0]-t*Math.cos(i),o[1]-t*Math.sin(i)]);n.animateInternal({center:n.getConstrainedCenter(s),duration:500,easing:J.vT})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const e=t.map,n=e.getView();return this.lastCentroid=null,n.getAnimating()&&n.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}var ct=lt,ut=n(5289);class ht extends st.A{constructor(t){t=t||{},super({stopDown:a.W8}),this.condition_=t.condition?t.condition:at.IO,this.lastAngle_=void 0,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){if(!(0,at.A4)(t))return;const e=t.map,n=e.getView();if(n.getConstraints().rotation===ut.b8)return;const i=e.getSize(),r=t.pixel,o=Math.atan2(i[1]/2-r[1],r[0]-i[0]/2);if(void 0!==this.lastAngle_){const t=o-this.lastAngle_;n.adjustRotationInternal(-t)}this.lastAngle_=o}handleUpEvent(t){if(!(0,at.A4)(t))return!0;const e=t.map,n=e.getView();return n.endInteraction(this.duration_),!1}handleDownEvent(t){if(!(0,at.A4)(t))return!1;if((0,at.at)(t)&&this.condition_(t)){const e=t.map;return e.getView().beginInteraction(),this.lastAngle_=void 0,!0}return!1}}var dt=ht,pt=n(9078),gt=n(3313);class ft extends s.A{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,e=this.endPixel_,n="px",i=this.element_.style;i.left=Math.min(t[0],e[0])+n,i.top=Math.min(t[1],e[1])+n,i.width=Math.abs(e[0]-t[0])+n,i.height=Math.abs(e[1]-t[1])+n}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]],i=n.map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new gt.Ay([i])}getGeometry(){return this.geometry_}}var mt=ft;const At={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class yt extends pt.Ay{constructor(t,e,n){super(t),this.coordinate=e,this.mapBrowserEvent=n}}class vt extends st.A{constructor(t){super(),this.on,this.once,this.un,t=t||{},this.box_=new mt(t.className||"ol-dragbox"),this.minArea_=void 0!==t.minArea?t.minArea:64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition?t.condition:at.at,this.boxEndCondition_=t.boxEndCondition?t.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(t,e,n){const i=n[0]-e[0],r=n[1]-e[1];return i*i+r*r>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new yt(At.BOXDRAG,t.coordinate,t))}handleUpEvent(t){this.box_.setMap(null);const e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new yt(e?At.BOXEND:At.BOXCANCEL,t.coordinate,t)),!1}handleDownEvent(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new yt(At.BOXSTART,t.coordinate,t)),!0)}onBoxEnd(t){}}var _t=vt;class Ct extends _t{constructor(t){t=t||{};const e=t.condition?t.condition:at.Kg;super({condition:e,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=void 0!==t.duration?t.duration:200,this.out_=void 0!==t.out&&t.out}onBoxEnd(t){const e=this.getMap(),n=e.getView();let i=this.getGeometry();if(this.out_){const t=n.rotatedExtentForGeometry(i),e=n.getResolutionForExtentInternal(t),r=n.getResolution()/e;i=i.clone(),i.scale(r*r)}n.fitInternal(i,{duration:this.duration_,easing:J.vT})}}var It=Ct,Et={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class wt extends it.Ay{constructor(t){super(),t=t||{},this.defaultCondition_=function(t){return(0,at.TS)(t)&&(0,at.tE)(t)},this.condition_=void 0!==t.condition?t.condition:this.defaultCondition_,this.duration_=void 0!==t.duration?t.duration:100,this.pixelDelta_=void 0!==t.pixelDelta?t.pixelDelta:128}handleEvent(t){let e=!1;if(t.type==x.A.KEYDOWN){const n=t.originalEvent,i=n.key;if(this.condition_(t)&&(i==Et.DOWN||i==Et.LEFT||i==Et.RIGHT||i==Et.UP)){const r=t.map,o=r.getView(),s=o.getResolution()*this.pixelDelta_;let a=0,l=0;i==Et.DOWN?l=-s:i==Et.LEFT?a=-s:i==Et.RIGHT?a=s:l=s;const c=[a,l];(0,p.e$)(c,o.getRotation()),(0,it.e4)(o,c,this.duration_),n.preventDefault(),e=!0}}return!e}}var bt=wt;class xt extends it.Ay{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:function(t){return!(0,at.GB)(t)&&(0,at.tE)(t)},this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:100}handleEvent(t){let e=!1;if(t.type==x.A.KEYDOWN||t.type==x.A.KEYPRESS){const n=t.originalEvent,i=n.key;if(this.condition_(t)&&("+"===i||"-"===i)){const r=t.map,o="+"===i?this.delta_:-this.delta_,s=r.getView();(0,it.D2)(s,o,void 0,this.duration_),n.preventDefault(),e=!0}}return!e}}var St=xt;class Pt{constructor(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,e){this.points_.push(t,e,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;let n=e-3;while(n>0&&this.points_[n+2]>t)n-=3;const i=this.points_[e+2]-this.points_[n+2];if(i<1e3/60)return!1;const r=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,r),this.initialVelocity_=Math.sqrt(r*r+o*o)/i,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}var Mt=Pt,Rt=n(5674);class Tt extends it.Ay{constructor(t){t=t||{},super(t),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==t.maxDelta?t.maxDelta:1,this.duration_=void 0!==t.duration?t.duration:250,this.timeout_=void 0!==t.timeout?t.timeout:80,this.useAnchor_=void 0===t.useAnchor||t.useAnchor,this.constrainResolution_=void 0!==t.constrainResolution&&t.constrainResolution;const e=t.condition?t.condition:at.Gk;this.condition_=t.onFocusOnly?(0,at.Q7)(at.eL,e):e,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const t=this.getMap();if(!t)return;const e=t.getView();e.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(t){if(!this.condition_(t))return!0;const e=t.type;if(e!==x.A.WHEEL)return!0;const n=t.map,i=t.originalEvent;let r;if(i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==x.A.WHEEL&&(r=i.deltaY,G._p&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(r/=G.cr),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(r*=40)),0===r)return!1;this.lastDelta_=r;const o=Date.now();void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(r)<4?"trackpad":"wheel");const s=n.getView();if("trackpad"===this.mode_&&!s.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(s.getAnimating()&&s.cancelAnimations(),s.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),s.adjustZoom(-r/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=o,!1;this.totalDelta_+=r;const a=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),a),!1}handleWheelZoom_(t){const e=t.getView();e.getAnimating()&&e.cancelAnimations();let n=-(0,Rt.qE)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),(0,it.D2)(e,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}}var Gt=Tt;class Lt extends st.A{constructor(t){t=t||{};const e=t;e.stopDown||(e.stopDown=a.W8),super(e),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==t.threshold?t.threshold:.3,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){let e=0;const n=this.targetPointers[0],i=this.targetPointers[1],r=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){const t=r-this.lastAngle_;this.rotationDelta_+=t,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=t}this.lastAngle_=r;const o=t.map,s=o.getView();s.getConstraints().rotation!==ut.b8&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel((0,st.v)(this.targetPointers))),this.rotating_&&(o.render(),s.adjustRotationInternal(e,this.anchor_)))}handleUpEvent(t){if(this.targetPointers.length<2){const e=t.map,n=e.getView();return n.endInteraction(this.duration_),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}}var kt=Lt;class Ot extends st.A{constructor(t){t=t||{};const e=t;e.stopDown||(e.stopDown=a.W8),super(e),this.anchor_=null,this.duration_=void 0!==t.duration?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let e=1;const n=this.targetPointers[0],i=this.targetPointers[1],r=n.clientX-i.clientX,o=n.clientY-i.clientY,s=Math.sqrt(r*r+o*o);void 0!==this.lastDistance_&&(e=this.lastDistance_/s),this.lastDistance_=s;const a=t.map,l=a.getView();1!=e&&(this.lastScaleDelta_=e),this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel((0,st.v)(this.targetPointers))),a.render(),l.adjustResolutionInternal(e,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const e=t.map,n=e.getView(),i=this.lastScaleDelta_>1?1:-1;return n.endInteraction(this.duration_,i),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}}var Dt=Ot;function Nt(t){t=t||{};const e=new r.A,n=new Mt(-.005,.05,100),i=void 0===t.altShiftDragRotate||t.altShiftDragRotate;i&&e.push(new dt);const o=void 0===t.doubleClickZoom||t.doubleClickZoom;o&&e.push(new ot({delta:t.zoomDelta,duration:t.zoomDuration}));const s=void 0===t.dragPan||t.dragPan;s&&e.push(new ct({onFocusOnly:t.onFocusOnly,kinetic:n}));const a=void 0===t.pinchRotate||t.pinchRotate;a&&e.push(new kt);const l=void 0===t.pinchZoom||t.pinchZoom;l&&e.push(new Dt({duration:t.zoomDuration}));const c=void 0===t.keyboard||t.keyboard;c&&(e.push(new bt),e.push(new St({delta:t.zoomDelta,duration:t.zoomDuration})));const u=void 0===t.mouseWheelZoom||t.mouseWheelZoom;u&&e.push(new Gt({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration}));const h=void 0===t.shiftDragZoom||t.shiftDragZoom;return h&&e.push(new It({duration:t.zoomDuration})),e}var Ft=n(3851),Ut=n(5857),Bt=n(5689),jt=n(2155);function zt(t){t instanceof d.A?t.setMapInternal(null):t instanceof S.A&&t.getLayers().forEach(zt)}function Wt(t,e){if(t instanceof d.A)t.setMapInternal(e);else if(t instanceof S.A){const n=t.getLayers().getArray();for(let t=0,i=n.length;t<i;++t)Wt(n[t],e)}}class Vt extends i.A{constructor(t){super(),t=t||{},this.on,this.once,this.un;const e=Yt(t);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=void 0!==t.maxTilesLoading?t.maxTilesLoading:16,this.pixelRatio_=void 0!==t.pixelRatio?t.pixelRatio:G.cr,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=(0,c.vt)(),this.pixelToCoordinateTransform_=(0,c.vt)(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=e.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver((()=>this.updateSize())),this.controls=e.controls||nt(),this.interactions=e.interactions||Nt({onFocusOnly:!0}),this.overlays_=e.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new Y(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(N.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(N.VIEW,this.handleViewChanged_),this.addChangeListener(N.SIZE,this.handleSizeChanged_),this.addChangeListener(N.TARGET,this.handleTargetChanged_),this.setProperties(e.values);const n=this;!t.view||t.view instanceof q.Ay||t.view.then((function(t){n.setView(new q.Ay(t))})),this.controls.addEventListener(o.A.ADD,(t=>{t.element.setMap(this)})),this.controls.addEventListener(o.A.REMOVE,(t=>{t.element.setMap(null)})),this.interactions.addEventListener(o.A.ADD,(t=>{t.element.setMap(this)})),this.interactions.addEventListener(o.A.REMOVE,(t=>{t.element.setMap(null)})),this.overlays_.addEventListener(o.A.ADD,(t=>{this.addOverlayInternal_(t.element)})),this.overlays_.addEventListener(o.A.REMOVE,(t=>{const e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)})),this.controls.forEach((t=>{t.setMap(this)})),this.interactions.forEach((t=>{t.setMap(this)})),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){const e=this.getLayerGroup().getLayers();e.push(t)}handleLayerAdd_(t){Wt(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,e,n){if(!this.frameState_||!this.renderer_)return;const i=this.getCoordinateFromPixelInternal(t);n=void 0!==n?n:{};const r=void 0!==n.hitTolerance?n.hitTolerance:0,o=void 0!==n.layerFilter?n.layerFilter:a.rT,s=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,r,s,e,null,o,null)}getFeaturesAtPixel(t,e){const n=[];return this.forEachFeatureAtPixel(t,(function(t){n.push(t)}),e),n}getAllLayers(){const t=[];function e(n){n.forEach((function(n){n instanceof S.A?e(n.getLayers()):t.push(n)}))}return e(this.getLayers()),t}hasFeatureAtPixel(t,e){if(!this.frameState_||!this.renderer_)return!1;const n=this.getCoordinateFromPixelInternal(t);e=void 0!==e?e:{};const i=void 0!==e.layerFilter?e.layerFilter:a.rT,r=void 0!==e.hitTolerance?e.hitTolerance:0,o=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,r,o,i,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const e=this.viewport_,n=e.getBoundingClientRect(),i=this.getSize(),r=n.width/i[0],o=n.height/i[1],s="changedTouches"in t?t.changedTouches[0]:t;return[(s.clientX-n.left)/r,(s.clientY-n.top)/o]}getTarget(){return this.get(N.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return(0,Ut.te)(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const e=this.frameState_;return e?(0,c.Bb)(e.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(N.LAYERGROUP)}setLayers(t){const e=this.getLayerGroup();if(t instanceof r.A)return void e.setLayers(t);const n=e.getLayers();n.clear(),n.extend(t)}getLayers(){const t=this.getLayerGroup().getLayers();return t}getLoadingOrNotReady(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,n=t.length;e<n;++e){const n=t[e];if(!n.visible)continue;const i=n.layer.getRenderer();if(i&&!i.ready)return!0;const r=n.layer.getSource();if(r&&r.loading)return!0}return!1}getPixelFromCoordinate(t){const e=(0,Ut.Ad)(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)}getPixelFromCoordinateInternal(t){const e=this.frameState_;return e?(0,c.Bb)(e.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(N.SIZE)}getView(){return this.get(N.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,e,n,i){return H(this.frameState_,t,e,n,i)}handleBrowserEvent(t,e){e=e||t.type;const n=new P.A(e,this,t);this.handleMapBrowserEvent(n)}handleMapBrowserEvent(t){if(!this.frameState_)return;const e=t.originalEvent,n=e.type;if(n===R.POINTERDOWN||n===x.A.WHEEL||n===x.A.KEYDOWN){const t=this.getOwnerDocument(),n=this.viewport_.getRootNode?this.viewport_.getRootNode():t,i=e.target;if(this.overlayContainerStopEvent_.contains(i)||!(n===t?t.documentElement:n).contains(i))return}if(t.frameState=this.frameState_,!1!==this.dispatchEvent(t)){const e=this.getInteractions().getArray().slice();for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.getMap()!==this||!i.getActive()||!this.getTargetElement())continue;const r=i.handleEvent(t);if(!r||t.propagationStopped)break}}}handlePostRender(){const t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){let n=this.maxTilesLoading_,i=n;if(t){const e=t.viewHints;if(e[X.A.ANIMATING]||e[X.A.INTERACTING]){const e=Date.now()-t.time>8;n=e?0:8,i=e?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,i))}t&&this.renderer_&&!t.animate&&(!0===this.renderComplete_?(this.hasListener(v.A.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(v.A.RENDERCOMPLETE,t),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new O.A(D.A.LOADEND,this,t)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new O.A(D.A.LOADSTART,this,t))));const n=this.postRenderFunctions_;for(let i=0,r=n.length;i<r;++i)n[i](this,t);n.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let t=0,e=this.targetChangeHandlerKeys_.length;t<e;++t)(0,I.JH)(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(x.A.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(x.A.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,(0,E.bf)(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const t=this.targetElement_.getRootNode();t instanceof ShadowRoot&&this.resizeObserver_.unobserve(t.host),this.setSize(void 0)}const t=this.getTarget(),e="string"===typeof t?document.getElementById(t):t;if(this.targetElement_=e,e){e.appendChild(this.viewport_),this.renderer_||(this.renderer_=new b(this)),this.mapBrowserEventHandler_=new k(this,this.moveTolerance_);for(const e in M.A)this.mapBrowserEventHandler_.addEventListener(M.A[e],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(x.A.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(x.A.WHEEL,this.boundHandleBrowserEvent_,!!G.FT&&{passive:!1});const t=this.keyboardEventTarget_?this.keyboardEventTarget_:e;this.targetChangeHandlerKeys_=[(0,I.KT)(t,x.A.KEYDOWN,this.handleBrowserEvent,this),(0,I.KT)(t,x.A.KEYPRESS,this.handleBrowserEvent,this)];const n=e.getRootNode();n instanceof ShadowRoot&&this.resizeObserver_.observe(n.host),this.resizeObserver_.observe(e)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&((0,I.JH)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,I.JH)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=(0,I.KT)(t,A.A.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,I.KT)(t,x.A.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(I.JH),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.handleLayerAdd_(new S.i("addlayer",t)),this.layerGroupPropertyListenerKeys_=[(0,I.KT)(t,A.A.PROPERTYCHANGE,this.render,this),(0,I.KT)(t,x.A.CHANGE,this.render,this),(0,I.KT)(t,"addlayer",this.handleLayerAdd_,this),(0,I.KT)(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,n=t.length;e<n;++e){const n=t[e].layer;n.hasRenderer()&&n.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}flushDeclutterItems(){const t=this.frameState_;t&&this.renderer_.flushDeclutterItems(t)}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){const e=this.getLayerGroup().getLayers();return e.remove(t)}handleLayerRemove_(t){zt(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const e=this.getSize(),n=this.getView(),i=this.frameState_;let r=null;if(void 0!==e&&(0,Bt.Ie)(e)&&n&&n.isDef()){const i=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),o=n.getState();if(r={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:(0,u.Bg)(o.center,o.resolution,o.rotation,e),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:o,viewHints:i,wantedTiles:{},mapId:(0,l.v6)(this),renderTargets:{}},o.nextCenter&&o.nextResolution){const t=isNaN(o.nextRotation)?o.rotation:o.nextRotation;r.nextExtent=(0,u.Bg)(o.nextCenter,o.nextResolution,t,e)}}if(this.frameState_=r,this.renderer_.renderFrame(r),r){if(r.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,r.postRenderFunctions),i){const t=!this.previousExtent_||!(0,u.Im)(this.previousExtent_)&&!(0,u.aI)(r.extent,this.previousExtent_);t&&(this.dispatchEvent(new O.A(D.A.MOVESTART,this,i)),this.previousExtent_=(0,u.aZ)(this.previousExtent_))}const t=this.previousExtent_&&!r.viewHints[X.A.ANIMATING]&&!r.viewHints[X.A.INTERACTING]&&!(0,u.aI)(r.extent,this.previousExtent_);t&&(this.dispatchEvent(new O.A(D.A.MOVEEND,this,r)),(0,u.o8)(r.extent,this.previousExtent_))}this.dispatchEvent(new O.A(D.A.POSTRENDER,this,r)),this.renderComplete_=this.hasListener(D.A.LOADSTART)||this.hasListener(D.A.LOADEND)||this.hasListener(v.A.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()}),0))}setLayerGroup(t){const e=this.getLayerGroup();e&&this.handleLayerRemove_(new S.i("removelayer",e)),this.set(N.LAYERGROUP,t)}setSize(t){this.set(N.SIZE,t)}setTarget(t){this.set(N.TARGET,t)}setView(t){if(!t||t instanceof q.Ay)return void this.set(N.VIEW,t);this.set(N.VIEW,new q.Ay);const e=this;t.then((function(t){e.setView(new q.Ay(t))}))}updateSize(){const t=this.getTargetElement();let e;if(t){const n=getComputedStyle(t),i=t.offsetWidth-parseFloat(n["borderLeftWidth"])-parseFloat(n["paddingLeft"])-parseFloat(n["paddingRight"])-parseFloat(n["borderRightWidth"]),r=t.offsetHeight-parseFloat(n["borderTopWidth"])-parseFloat(n["paddingTop"])-parseFloat(n["paddingBottom"])-parseFloat(n["borderBottomWidth"]);isNaN(i)||isNaN(r)||(e=[i,r],!(0,Bt.Ie)(e)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&(0,jt.R8)("No map visible because the map container's width or height are 0."))}const n=this.getSize();!e||n&&(0,Ft.aI)(e,n)||(this.setSize(e),this.updateViewportSize_(e))}updateViewportSize_(t){const e=this.getView();e&&e.setViewportSize(t)}}function Yt(t){let e=null;void 0!==t.keyboardEventTarget&&(e="string"===typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},i=t.layers&&"function"===typeof t.layers.getLayers?t.layers:new S.A({layers:t.layers});let o,s,a;return n[N.LAYERGROUP]=i,n[N.TARGET]=t.target,n[N.VIEW]=t.view instanceof q.Ay?t.view:new q.Ay,void 0!==t.controls&&(Array.isArray(t.controls)?o=new r.A(t.controls.slice()):((0,F.v)("function"===typeof t.controls.getArray,"Expected `controls` to be an array or an `ol/Collection.js`"),o=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?s=new r.A(t.interactions.slice()):((0,F.v)("function"===typeof t.interactions.getArray,"Expected `interactions` to be an array or an `ol/Collection.js`"),s=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?a=new r.A(t.overlays.slice()):((0,F.v)("function"===typeof t.overlays.getArray,"Expected `overlays` to be an array or an `ol/Collection.js`"),a=t.overlays):a=new r.A,{controls:o,interactions:s,keyboardEventTarget:e,overlays:a,values:n}}var Ht=Vt},9020:function(t,e,n){"use strict";var i=n(14);class r extends i.A{constructor(t,e,n,i,r,o){super(t,e,r),this.originalEvent=n,this.pixel_=null,this.coordinate_=null,this.dragging=void 0!==i&&i,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}e.A=r},3156:function(t,e,n){"use strict";var i=n(7582);e.A={SINGLECLICK:"singleclick",CLICK:i.A.CLICK,DBLCLICK:i.A.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},14:function(t,e,n){"use strict";var i=n(9078);class r extends i.Ay{constructor(t,e,n){super(t),this.map=e,this.frameState=void 0!==n?n:null}}e.A=r},2742:function(t,e){"use strict";e.A={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"}},1611:function(t,e,n){"use strict";var i=n(9078),r=n(6555),o=n(4549),s=n(5752),a=n(6811);class l extends i.Ay{constructor(t,e,n){super(t),this.key=e,this.oldValue=n}}class c extends o.A{constructor(t){super(),this.on,this.once,this.un,(0,s.v6)(this),this.values_=null,void 0!==t&&this.setProperties(t)}get(t){let e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,e){let n;n=`change:${t}`,this.hasListener(n)&&this.dispatchEvent(new l(n,t,e)),n=r.A.PROPERTYCHANGE,this.hasListener(n)&&this.dispatchEvent(new l(n,t,e))}addChangeListener(t,e){this.addEventListener(`change:${t}`,e)}removeChangeListener(t,e){this.removeEventListener(`change:${t}`,e)}set(t,e,n){const i=this.values_||(this.values_={});if(n)i[t]=e;else{const n=i[t];i[t]=e,n!==e&&this.notify(t,n)}}setProperties(t,e){for(const n in t)this.set(n,t[n],e)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,e){if(this.values_&&t in this.values_){const n=this.values_[t];delete this.values_[t],(0,a.p)(this.values_)&&(this.values_=null),e||this.notify(t,n)}}}e.A=c},6555:function(t,e){"use strict";e.A={PROPERTYCHANGE:"propertychange"}},4549:function(t,e,n){"use strict";n.d(e,{e:function(){return a}});var i=n(9357),r=n(7582),o=n(8965);class s extends i.A{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(r.A.CHANGE)}getRevision(){return this.revision_}onInternal(t,e){if(Array.isArray(t)){const n=t.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=(0,o.KT)(this,t[r],e);return i}return(0,o.KT)(this,t,e)}onceInternal(t,e){let n;if(Array.isArray(t)){const i=t.length;n=new Array(i);for(let r=0;r<i;++r)n[r]=(0,o.Jz)(this,t[r],e)}else n=(0,o.Jz)(this,t,e);return e.ol_key=n,n}unInternal(t,e){const n=e.ol_key;if(n)a(n);else if(Array.isArray(t))for(let i=0,r=t.length;i<r;++i)this.removeEventListener(t[i],e);else this.removeEventListener(t,e)}}function a(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)(0,o.JH)(t[e]);else(0,o.JH)(t)}s.prototype.on,s.prototype.once,s.prototype.un,e.A=s},9611:function(t,e){"use strict";e.A={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},8699:function(t,e,n){"use strict";n.d(e,{Ay:function(){return G}});n(4114);var i=n(1611),r=n(6940),o={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},s=n(8994),a=n(5857),l=n(9331),c=n(8474),u=n(1097),h=n(5674);function d(t,e,n){return function(i,r,o,s,a){if(!i)return;if(!r&&!e)return i;const l=e?0:o[0]*r,c=e?0:o[1]*r,u=a?a[0]:0,d=a?a[1]:0;let p=t[0]+l/2+u,g=t[2]-l/2+u,f=t[1]+c/2+d,m=t[3]-c/2+d;p>g&&(p=(g+p)/2,g=p),f>m&&(f=(m+f)/2,m=f);let A=(0,h.qE)(i[0],p,g),y=(0,h.qE)(i[1],f,m);if(s&&n&&r){const t=30*r;A+=-t*Math.log(1+Math.max(0,p-i[0])/t)+t*Math.log(1+Math.max(0,i[0]-g)/t),y+=-t*Math.log(1+Math.max(0,f-i[1])/t)+t*Math.log(1+Math.max(0,i[1]-m)/t)}return[A,y]}}function p(t){return t}var g=n(7444),f=n(3851);function m(t,e,n,i){const r=(0,g.RG)(e)/n[0],o=(0,g.Oq)(e)/n[1];return i?Math.min(t,Math.max(r,o)):Math.min(t,Math.min(r,o))}function A(t,e,n){let i=Math.min(t,e);const r=50;return i*=Math.log(1+r*Math.max(0,t/e-1))/r+1,n&&(i=Math.max(i,n),i/=Math.log(1+r*Math.max(0,n/t-1))/r+1),(0,h.qE)(i,n/2,2*e)}function y(t,e,n,i){return e=void 0===e||e,function(r,o,s,a){if(void 0!==r){const l=t[0],c=t[t.length-1],u=n?m(l,n,s,i):l;if(a)return e?A(r,u,c):(0,h.qE)(r,c,u);const d=Math.min(u,r),p=Math.floor((0,f.FT)(t,d,o));return t[p]>u&&p<t.length-1?t[p+1]:t[p]}}}function v(t,e,n,i,r,o){return i=void 0===i||i,n=void 0!==n?n:0,function(s,a,l,c){if(void 0!==s){const u=r?m(e,r,l,o):e;if(c)return i?A(s,u,n):(0,h.qE)(s,n,u);const d=1e-9,p=Math.ceil(Math.log(e/u)/Math.log(t)-d),g=-a*(.5-d)+.5,f=Math.min(u,s),y=Math.floor(Math.log(e/f)/Math.log(t)+g),v=Math.max(p,y),_=e/Math.pow(t,v);return(0,h.qE)(_,n,u)}}}function _(t,e,n,i,r){return n=void 0===n||n,function(o,s,a,l){if(void 0!==o){const s=i?m(t,i,a,r):t;return n&&l?A(o,s,e):(0,h.qE)(o,e,s)}}}var C=n(5289),I=n(8409),E=n(3313);const w=0;class b extends i.A{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=(0,a.Av)(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&(0,a.RJ)(),t.center&&(t.center=(0,a.Ad)(t.center,this.projection_)),t.extent&&(t.extent=(0,a.SD)(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){const e=Object.assign({},t);for(const a in o)delete e[a];this.setProperties(e,!0);const n=P(t);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=n.minZoom;const i=S(t),r=n.constraint,s=M(t);this.constraints_={center:i,resolution:r,rotation:s},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let e=this.padding_;this.padding_=t;const n=this.getCenterInternal();if(n){const i=t||[0,0,0,0];e=e||[0,0,0,0];const r=this.getResolution(),o=r/2*(i[3]-e[3]+e[1]-i[1]),s=r/2*(i[0]-e[0]+e[2]-i[2]);this.setCenterInternal([n[0]+o,n[1]-s])}}getUpdatedOptions_(t){const e=this.getProperties();return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Object.assign({},e,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const e=new Array(arguments.length);for(let n=0;n<e.length;++n){let t=arguments[n];t.center&&(t=Object.assign({},t),t.center=(0,a.Ad)(t.center,this.getProjection())),t.anchor&&(t=Object.assign({},t),t.anchor=(0,a.Ad)(t.anchor,this.getProjection())),e[n]=t}this.animateInternal.apply(this,e)}animateInternal(t){let e,n=arguments.length;n>1&&"function"===typeof arguments[n-1]&&(e=arguments[n-1],--n);let i=0;for(;i<n&&!this.isDef();++i){const t=arguments[i];t.center&&this.setCenterInternal(t.center),void 0!==t.zoom?this.setZoom(t.zoom):t.resolution&&this.setResolution(t.resolution),void 0!==t.rotation&&this.setRotation(t.rotation)}if(i===n)return void(e&&x(e,!0));let o=Date.now(),s=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_;const c=[];for(;i<n;++i){const t=arguments[i],n={start:o,complete:!1,anchor:t.anchor,duration:void 0!==t.duration?t.duration:1e3,easing:t.easing||I.T9,callback:e};if(t.center&&(n.sourceCenter=s,n.targetCenter=t.center.slice(),s=n.targetCenter),void 0!==t.zoom?(n.sourceResolution=a,n.targetResolution=this.getResolutionForZoom(t.zoom),a=n.targetResolution):t.resolution&&(n.sourceResolution=a,n.targetResolution=t.resolution,a=n.targetResolution),void 0!==t.rotation){n.sourceRotation=l;const e=(0,h.xP)(t.rotation-l+Math.PI,2*Math.PI)-Math.PI;n.targetRotation=l+e,l=n.targetRotation}R(n)?n.complete=!0:o+=n.duration,c.push(n)}this.animations_.push(c),this.setHint(r.A.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[r.A.ANIMATING]>0}getInteracting(){return this.hints_[r.A.INTERACTING]>0}cancelAnimations(){let t;this.setHint(r.A.ANIMATING,-this.hints_[r.A.ANIMATING]);for(let e=0,n=this.animations_.length;e<n;++e){const n=this.animations_[e];if(n[0].callback&&x(n[0].callback,!1),!t)for(let e=0,i=n.length;e<i;++e){const i=n[e];if(!i.complete){t=i.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const t=Date.now();let e=!1;for(let n=this.animations_.length-1;n>=0;--n){const i=this.animations_[n];let o=!0;for(let n=0,r=i.length;n<r;++n){const r=i[n];if(r.complete)continue;const s=t-r.start;let a=r.duration>0?s/r.duration:1;a>=1?(r.complete=!0,a=1):o=!1;const l=r.easing(a);if(r.sourceCenter){const t=r.sourceCenter[0],e=r.sourceCenter[1],n=r.targetCenter[0],i=r.targetCenter[1];this.nextCenter_=r.targetCenter;const o=t+l*(n-t),s=e+l*(i-e);this.targetCenter_=[o,s]}if(r.sourceResolution&&r.targetResolution){const t=1===l?r.targetResolution:r.sourceResolution+l*(r.targetResolution-r.sourceResolution);if(r.anchor){const e=this.getViewportSize_(this.getRotation()),n=this.constraints_.resolution(t,0,e,!0);this.targetCenter_=this.calculateCenterZoom(n,r.anchor)}this.nextResolution_=r.targetResolution,this.targetResolution_=t,this.applyTargetState_(!0)}if(void 0!==r.sourceRotation&&void 0!==r.targetRotation){const t=1===l?(0,h.xP)(r.targetRotation+Math.PI,2*Math.PI)-Math.PI:r.sourceRotation+l*(r.targetRotation-r.sourceRotation);if(r.anchor){const e=this.constraints_.rotation(t,!0);this.targetCenter_=this.calculateCenterRotate(e,r.anchor)}this.nextRotation_=r.targetRotation,this.targetRotation_=t}if(this.applyTargetState_(!0),e=!0,!r.complete)break}if(o){this.animations_[n]=null,this.setHint(r.A.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const t=i[0].callback;t&&x(t,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,e){let n;const i=this.getCenterInternal();return void 0!==i&&(n=[i[0]-e[0],i[1]-e[1]],(0,c.e$)(n,t-this.getRotation()),(0,c.WQ)(n,e)),n}calculateCenterZoom(t,e){let n;const i=this.getCenterInternal(),r=this.getResolution();if(void 0!==i&&void 0!==r){const o=e[0]-t*(e[0]-i[0])/r,s=e[1]-t*(e[1]-i[1])/r;n=[o,s]}return n}getViewportSize_(t){const e=this.viewportSize_;if(t){const n=e[0],i=e[1];return[Math.abs(n*Math.cos(t))+Math.abs(i*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(i*Math.cos(t))]}return e}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const t=this.getCenterInternal();return t?(0,a.te)(t,this.getProjection()):t}getCenterInternal(){return this.get(o.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){const e=this.calculateExtentInternal(t);return(0,a.JR)(e,this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();const e=this.getCenterInternal();(0,u.v)(e,"The view center is not defined");const n=this.getResolution();(0,u.v)(void 0!==n,"The view resolution is not defined");const i=this.getRotation();return(0,u.v)(void 0!==i,"The view rotation is not defined"),(0,g.Bg)(e,n,i,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(o.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,e){return this.getResolutionForExtentInternal((0,a.SD)(t,this.getProjection()),e)}getResolutionForExtentInternal(t,e){e=e||this.getViewportSizeMinusPadding_();const n=(0,g.RG)(t)/e[0],i=(0,g.Oq)(t)/e[1];return Math.max(n,i)}getResolutionForValueFunction(t){t=t||2;const e=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,i=Math.log(e/n)/Math.log(t);return function(n){const r=e/Math.pow(t,n*i);return r}}getRotation(){return this.get(o.ROTATION)}getValueForResolutionFunction(t){const e=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(n/i)/e;return function(t){const i=Math.log(n/t)/e/r;return i}}getViewportSizeMinusPadding_(t){let e=this.getViewportSize_(t);const n=this.padding_;return n&&(e=[e[0]-n[1]-n[3],e[1]-n[0]-n[2]]),e}getState(){const t=this.getProjection(),e=this.getResolution(),n=this.getRotation();let i=this.getCenterInternal();const r=this.padding_;if(r){const t=this.getViewportSizeMinusPadding_();i=T(i,this.getViewportSize_(),[t[0]/2+r[3],t[1]/2+r[0]],e,n)}return{center:i.slice(0),projection:void 0!==t?t:null,resolution:e,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let t;const e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t}getZoomForResolution(t){let e,n,i=this.minZoom_||0;if(this.resolutions_){const r=(0,f.FT)(this.resolutions_,t,1);i=r,e=this.resolutions_[r],n=r==this.resolutions_.length-1?2:e/this.resolutions_[r+1]}else e=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(e/t)/Math.log(n)}getResolutionForZoom(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const e=(0,h.qE)(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,(0,h.qE)(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,e){let n;if((0,u.v)(Array.isArray(t)||"function"===typeof t.getSimplifiedGeometry,"Invalid extent or geometry provided as `geometry`"),Array.isArray(t)){(0,u.v)(!(0,g.Im)(t),"Cannot fit empty extent provided as `geometry`");const e=(0,a.SD)(t,this.getProjection());n=(0,E.VY)(e)}else if("Circle"===t.getType()){const e=(0,a.SD)(t.getExtent(),this.getProjection());n=(0,E.VY)(e),n.rotate(this.getRotation(),(0,g.q1)(e))}else{const e=(0,a.Tf)();n=e?t.clone().transform(e,this.getProjection()):t}this.fitInternal(n,e)}rotatedExtentForGeometry(t){const e=this.getRotation(),n=Math.cos(e),i=Math.sin(-e),r=t.getFlatCoordinates(),o=t.getStride();let s=1/0,a=1/0,l=-1/0,c=-1/0;for(let u=0,h=r.length;u<h;u+=o){const t=r[u]*n-r[u+1]*i,e=r[u]*i+r[u+1]*n;s=Math.min(s,t),a=Math.min(a,e),l=Math.max(l,t),c=Math.max(c,e)}return[s,a,l,c]}fitInternal(t,e){e=e||{};let n=e.size;n||(n=this.getViewportSizeMinusPadding_());const i=void 0!==e.padding?e.padding:[0,0,0,0],r=void 0!==e.nearest&&e.nearest;let o;o=void 0!==e.minResolution?e.minResolution:void 0!==e.maxZoom?this.getResolutionForZoom(e.maxZoom):0;const s=this.rotatedExtentForGeometry(t);let a=this.getResolutionForExtentInternal(s,[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]);a=isNaN(a)?o:Math.max(a,o),a=this.getConstrainedResolution(a,r?0:1);const c=this.getRotation(),u=Math.sin(c),h=Math.cos(c),d=(0,g.q1)(s);d[0]+=(i[1]-i[3])/2*a,d[1]+=(i[0]-i[2])/2*a;const p=d[0]*h-d[1]*u,f=d[1]*h+d[0]*u,m=this.getConstrainedCenter([p,f],a),A=e.callback?e.callback:l.tV;void 0!==e.duration?this.animateInternal({resolution:a,center:m,duration:e.duration,easing:e.easing},A):(this.targetResolution_=a,this.targetCenter_=m,this.applyTargetState_(!1,!0),x(A,!0))}centerOn(t,e,n){this.centerOnInternal((0,a.Ad)(t,this.getProjection()),e,n)}centerOnInternal(t,e,n){this.setCenterInternal(T(t,e,n,this.getResolution(),this.getRotation()))}calculateCenterShift(t,e,n,i){let r;const o=this.padding_;if(o&&t){const s=this.getViewportSizeMinusPadding_(-n),a=T(t,i,[s[0]/2+o[3],s[1]/2+o[0]],e,n);r=[t[0]-a[0],t[1]-a[1]]}return r}isDef(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}adjustCenter(t){const e=(0,a.te)(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])}adjustCenterInternal(t){const e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])}adjustResolution(t,e){e=e&&(0,a.Ad)(e,this.getProjection()),this.adjustResolutionInternal(t,e)}adjustResolutionInternal(t,e){const n=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),r=this.constraints_.resolution(this.targetResolution_*t,0,i,n);e&&(this.targetCenter_=this.calculateCenterZoom(r,e)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)}adjustRotation(t,e){e&&(e=(0,a.Ad)(e,this.getProjection())),this.adjustRotationInternal(t,e)}adjustRotationInternal(t,e){const n=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+t,n);e&&(this.targetCenter_=this.calculateCenterRotate(i,e)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t?(0,a.Ad)(t,this.getProjection()):t)}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,e){const n=this.getAnimating()||this.getInteracting()||e,i=this.constraints_.rotation(this.targetRotation_,n),r=this.getViewportSize_(i),s=this.constraints_.resolution(this.targetResolution_,0,r,n),a=this.constraints_.center(this.targetCenter_,s,r,n,this.calculateCenterShift(this.targetCenter_,s,i,r));this.get(o.ROTATION)!==i&&this.set(o.ROTATION,i),this.get(o.RESOLUTION)!==s&&(this.set(o.RESOLUTION,s),this.set("zoom",this.getZoom(),!0)),a&&this.get(o.CENTER)&&(0,c.aI)(this.get(o.CENTER),a)||this.set(o.CENTER,a),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,e,n){t=void 0!==t?t:200;const i=e||0,r=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(r),s=this.constraints_.resolution(this.targetResolution_,i,o),a=this.constraints_.center(this.targetCenter_,s,o,!1,this.calculateCenterShift(this.targetCenter_,s,r,o));if(0===t&&!this.cancelAnchor_)return this.targetResolution_=s,this.targetRotation_=r,this.targetCenter_=a,void this.applyTargetState_();n=n||(0===t?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===r&&this.getCenterInternal()&&(0,c.aI)(this.getCenterInternal(),a)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:a,resolution:s,duration:t,easing:I.vT,anchor:n}))}beginInteraction(){this.resolveConstraints(0),this.setHint(r.A.INTERACTING,1)}endInteraction(t,e,n){n=n&&(0,a.Ad)(n,this.getProjection()),this.endInteractionInternal(t,e,n)}endInteractionInternal(t,e,n){this.getInteracting()&&(this.setHint(r.A.INTERACTING,-1),this.resolveConstraints(t,e,n))}getConstrainedCenter(t,e){const n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)}getConstrainedZoom(t,e){const n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))}getConstrainedResolution(t,e){e=e||0;const n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,e,n)}}function x(t,e){setTimeout((function(){t(e)}),0)}function S(t){if(void 0!==t.extent){const e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return d(t.extent,t.constrainOnlyCenter,e)}const e=(0,a.Av)(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,d(t,!1,!1)}return p}function P(t){let e,n,i;const r=28,o=2;let l=void 0!==t.minZoom?t.minZoom:w,c=void 0!==t.maxZoom?t.maxZoom:r;const u=void 0!==t.zoomFactor?t.zoomFactor:o,h=void 0!==t.multiWorld&&t.multiWorld,d=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,p=void 0!==t.showFullExtent&&t.showFullExtent,f=(0,a.Av)(t.projection,"EPSG:3857"),m=f.getExtent();let A=t.constrainOnlyCenter,C=t.extent;if(h||C||!f.isGlobal()||(A=!1,C=m),void 0!==t.resolutions){const r=t.resolutions;n=r[l],i=void 0!==r[c]?r[c]:r[r.length-1],e=t.constrainResolution?y(r,d,!A&&C,p):_(n,i,d,!A&&C,p)}else{const h=m?Math.max((0,g.RG)(m),(0,g.Oq)(m)):360*a.Ig.degrees/f.getMetersPerUnit(),y=h/s.R/Math.pow(o,w),I=y/Math.pow(o,r-w);n=t.maxResolution,void 0!==n?l=0:n=y/Math.pow(u,l),i=t.minResolution,void 0===i&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(u,c):y/Math.pow(u,c):I),c=l+Math.floor(Math.log(n/i)/Math.log(u)),i=n/Math.pow(u,c-l),e=t.constrainResolution?v(u,n,i,d,!A&&C,p):_(n,i,d,!A&&C,p)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:l,zoomFactor:u}}function M(t){const e=void 0===t.enableRotation||t.enableRotation;if(e){const e=t.constrainRotation;return void 0===e||!0===e?(0,C.cq)():!1===e?C.dv:"number"===typeof e?(0,C.a$)(e):C.dv}return C.b8}function R(t){return!(t.sourceCenter&&t.targetCenter&&!(0,c.aI)(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}function T(t,e,n,i,r){const o=Math.cos(-r);let s=Math.sin(-r),a=t[0]*o-t[1]*s,l=t[1]*o+t[0]*s;a+=(e[0]/2-n[0])*i,l+=(n[1]-e[1]/2)*i,s=-s;const c=a*o-l*s,u=l*o+a*s;return[c,u]}var G=b},6940:function(t,e){"use strict";e.A={ANIMATING:0,INTERACTING:1}},3851:function(t,e,n){"use strict";function i(t,e,n){let i,o;n=n||r;let s=0,a=t.length,l=!1;while(s<a)i=s+(a-s>>1),o=+n(t[i],e),o<0?s=i+1:(a=i,l=!o);return l?s:~s}function r(t,e){return t>e?1:t<e?-1:0}function o(t,e,n){if(t[0]<=e)return 0;const i=t.length;if(e<=t[i-1])return i-1;if("function"===typeof n){for(let r=1;r<i;++r){const i=t[r];if(i===e)return r;if(i<e)return n(e,t[r-1],i)>0?r-1:r}return i-1}if(n>0){for(let n=1;n<i;++n)if(t[n]<e)return n-1;return i-1}if(n<0){for(let n=1;n<i;++n)if(t[n]<=e)return n;return i-1}for(let r=1;r<i;++r){if(t[r]==e)return r;if(t[r]<e)return t[r-1]-e<e-t[r]?r-1:r}return i-1}function s(t,e,n){while(e<n){const i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function a(t,e){const n=Array.isArray(e)?e:[e],i=n.length;for(let r=0;r<i;r++)t[t.length]=n[r]}function l(t,e){const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function c(t,e,n){const i=e||r;return t.every((function(e,r){if(0===r)return!0;const o=i(t[r-1],e);return!(o>0||n&&0===o)}))}n.d(e,{El:function(){return i},FT:function(){return o},V_:function(){return r},WC:function(){return c},X$:function(){return a},aI:function(){return l},gI:function(){return s}})},1097:function(t,e,n){"use strict";function i(t,e){if(!t)throw new Error(e)}n.d(e,{v:function(){return i}})},5007:function(t,e,n){"use strict";n.d(e,{_j:function(){return w},oJ:function(){return m},sH:function(){return E},$C:function(){return S},cD:function(){return I},S8:function(){return b},eE:function(){return C},dI:function(){return x},fu:function(){return _}});var i={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]},r={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"],whitepoint:{2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}}};r.max=r.whitepoint[2].D65,r.rgb=function(t,e){e=e||r.whitepoint[2].E;var n,i,o,s=t[0]/e[0],a=t[1]/e[1],l=t[2]/e[2];return n=3.240969941904521*s+-1.537383177570093*a+-.498610760293*l,i=-.96924363628087*s+1.87596750150772*a+.041555057407175*l,o=.055630079696993*s+-.20397695888897*a+1.056971514242878*l,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o*=12.92,n=Math.min(Math.max(0,n),1),i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),[255*n,255*i,255*o]},i.xyz=function(t,e){var n=t[0]/255,i=t[1]/255,o=t[2]/255;n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,o=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92;var s=.41239079926595*n+.35758433938387*i+.18048078840183*o,a=.21263900587151*n+.71516867876775*i+.072192315360733*o,l=.019330818715591*n+.11919477979462*i+.95053215224966*o;return e=e||r.whitepoint[2].E,[s*e[0],a*e[1],l*e[2]]};var o=r,s={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(t,e,n){var i,r,s,a,l,c,u,h,d,p,g,f,m;if(s=t[0],a=t[1],l=t[2],0===s)return[0,0,0];var A=.0011070564598794539;return e=e||"D65",n=n||2,d=o.whitepoint[n][e][0],p=o.whitepoint[n][e][1],g=o.whitepoint[n][e][2],f=4*d/(d+15*p+3*g),m=9*p/(d+15*p+3*g),i=a/(13*s)+f||0,r=l/(13*s)+m||0,u=s>8?p*Math.pow((s+16)/116,3):p*s*A,c=9*u*i/(4*r)||0,h=u*(12-3*i-20*r)/(4*r)||0,[c,u,h]}};o.luv=function(t,e,n){var i,r,s,a,l,c,u,h,d,p,g,f,m,A=.008856451679035631,y=903.2962962962961;e=e||"D65",n=n||2,d=o.whitepoint[n][e][0],p=o.whitepoint[n][e][1],g=o.whitepoint[n][e][2],f=4*d/(d+15*p+3*g),m=9*p/(d+15*p+3*g),c=t[0],u=t[1],h=t[2],i=4*c/(c+15*u+3*h)||0,r=9*u/(c+15*u+3*h)||0;var v=u/p;return s=v<=A?y*v:116*Math.pow(v,1/3)-16,a=13*s*(i-f),l=13*s*(r-m),[s,a,l]};var a={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(t){var e,n,i,r=t[0],o=t[1],s=t[2];return i=s/360*2*Math.PI,e=o*Math.cos(i),n=o*Math.sin(i),[r,e,n]},xyz:function(t){return s.xyz(a.luv(t))}},l=a;s.lchuv=function(t){var e=t[0],n=t[1],i=t[2],r=Math.sqrt(n*n+i*i),o=Math.atan2(i,n),s=360*o/2/Math.PI;return s<0&&(s+=360),[e,r,s]},o.lchuv=function(t){return s.lchuv(o.luv(t))};var c={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},u=d,h={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function d(t){var e,n,i=[],r=1;if("number"===typeof t)return{space:"rgb",values:[t>>>16,(65280&t)>>>8,255&t],alpha:1};if("number"===typeof t)return{space:"rgb",values:[t>>>16,(65280&t)>>>8,255&t],alpha:1};if(t=String(t).toLowerCase(),c[t])i=c[t].slice(),n="rgb";else if("transparent"===t)r=0,n="rgb",i=[0,0,0];else if("#"===t[0]){var o=t.slice(1),s=o.length,a=s<=4;r=1,a?(i=[parseInt(o[0]+o[0],16),parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16)],4===s&&(r=parseInt(o[3]+o[3],16)/255)):(i=[parseInt(o[0]+o[1],16),parseInt(o[2]+o[3],16),parseInt(o[4]+o[5],16)],8===s&&(r=parseInt(o[6]+o[7],16)/255)),i[0]||(i[0]=0),i[1]||(i[1]=0),i[2]||(i[2]=0),n="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(t)){var l=e[1];n=l.replace(/a$/,"");var u="cmyk"===n?4:"gray"===n?1:3;i=e[2].trim().split(/\s*[,\/]\s*|\s+/),"color"===n&&(n=i.shift()),i=i.map((function(t,e){if("%"===t[t.length-1])return t=parseFloat(t)/100,3===e?t:"rgb"===n?255*t:"h"===n[0]?100*t:"l"!==n[0]||e?"lab"===n?125*t:"lch"===n?e<2?150*t:360*t:"o"!==n[0]||e?"oklab"===n?.4*t:"oklch"===n?e<2?.4*t:360*t:t:t:100*t;if("h"===n[e]||2===e&&"h"===n[n.length-1]){if(void 0!==h[t])return h[t];if(t.endsWith("deg"))return parseFloat(t);if(t.endsWith("turn"))return 360*parseFloat(t);if(t.endsWith("grad"))return 360*parseFloat(t)/400;if(t.endsWith("rad"))return 180*parseFloat(t)/Math.PI}return"none"===t?0:parseFloat(t)})),r=i.length>u?i.pop():1}else/[0-9](?:\s|\/|,)/.test(t)&&(i=t.match(/([0-9]+)/g).map((function(t){return parseFloat(t)})),n=t.match(/([a-z])/gi)?.join("")?.toLowerCase()||"rgb");return{space:n,values:i,alpha:r}}var p={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e,n,i,r,o,s=t[0]/360,a=t[1]/100,l=t[2]/100,c=0;if(0===a)return o=255*l,[o,o,o];for(n=l<.5?l*(1+a):l+a-l*a,e=2*l-n,r=[0,0,0];c<3;)i=s+1/3*-(c-1),i<0?i++:i>1&&i--,o=6*i<1?e+6*(n-e)*i:2*i<1?n:3*i<2?e+(n-e)*(2/3-i)*6:e,r[c++]=255*o;return r}};function g(t){var e;Array.isArray(t)&&t.raw&&(t=String.raw(...arguments)),t instanceof Number&&(t=+t);var n=u(t);if(!n.space)return[];const r="h"===n.space[0]?p.min:i.min,o="h"===n.space[0]?p.max:i.max;return e=Array(3),e[0]=Math.min(Math.max(n.values[0],r[0]),o[0]),e[1]=Math.min(Math.max(n.values[1],r[1]),o[1]),e[2]=Math.min(Math.max(n.values[2],r[2]),o[2]),"h"===n.space[0]&&(e=p.rgb(e)),e.push(Math.min(Math.max(n.alpha,0),1)),e}i.hsl=function(t){var e,n,i,r=t[0]/255,o=t[1]/255,s=t[2]/255,a=Math.min(r,o,s),l=Math.max(r,o,s),c=l-a;return l===a?e=0:r===l?e=(o-s)/c:o===l?e=2+(s-r)/c:s===l&&(e=4+(r-o)/c),e=Math.min(60*e,360),e<0&&(e+=360),i=(a+l)/2,n=l===a?0:i<=.5?c/(l+a):c/(2-l-a),[e,100*n,100*i]};var f=n(5674);function m(t){return"string"===typeof t?t:x(t)}const A=1024,y={};let v=0;function _(t){if(4===t.length)return t;const e=t.slice();return e[3]=1,e}function C(t){const e=o.lchuv(i.xyz(t));return e[3]=t[3],e}function I(t){const e=o.rgb(l.xyz(t));return e[3]=t[3],e}function E(t){if(y.hasOwnProperty(t))return y[t];if(v>=A){let t=0;for(const e in y)0===(3&t++)&&(delete y[e],--v)}const e=g(t);if(4!==e.length)throw new Error('Failed to parse "'+t+'" as color');for(const n of e)if(isNaN(n))throw new Error('Failed to parse "'+t+'" as color');return b(e),y[t]=e,++v,e}function w(t){return Array.isArray(t)?t:E(t)}function b(t){return t[0]=(0,f.qE)(t[0]+.5|0,0,255),t[1]=(0,f.qE)(t[1]+.5|0,0,255),t[2]=(0,f.qE)(t[2]+.5|0,0,255),t[3]=(0,f.qE)(t[3],0,1),t}function x(t){let e=t[0];e!=(0|e)&&(e=e+.5|0);let n=t[1];n!=(0|n)&&(n=n+.5|0);let i=t[2];i!=(0|i)&&(i=i+.5|0);const r=void 0===t[3]?1:Math.round(100*t[3])/100;return"rgba("+e+","+n+","+i+","+r+")"}function S(t){try{return E(t),!0}catch(e){return!1}}},6294:function(t,e,n){"use strict";n.d(e,{F:function(){return r}});var i=n(5007);function r(t){return Array.isArray(t)?(0,i.dI)(t):t}},2155:function(t,e,n){"use strict";n.d(e,{R8:function(){return o}});const i={info:1,warn:2,error:3,none:4};let r=i.info;function o(...t){r>i.warn||console.warn(...t)}},8641:function(t,e,n){"use strict";var i=n(6993),r=n(7582),o=n(4109),s=n(3851),a=n(7334);class l extends i.A{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===t.collapsed||t.collapsed,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=void 0!==t.collapsible,this.collapsible_=void 0===t.collapsible||t.collapsible,this.collapsible_||(this.collapsed_=!1);const e=void 0!==t.className?t.className:"ol-attribution",n=void 0!==t.tipLabel?t.tipLabel:"Attributions",i=void 0!==t.expandClassName?t.expandClassName:e+"-expand",s=void 0!==t.collapseLabel?t.collapseLabel:"›",a=void 0!==t.collapseClassName?t.collapseClassName:e+"-collapse";"string"===typeof s?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s,this.collapseLabel_.className=a):this.collapseLabel_=s;const l=void 0!==t.label?t.label:"i";"string"===typeof l?(this.label_=document.createElement("span"),this.label_.textContent=l,this.label_.className=i):this.label_=l;const c=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=n,this.toggleButton_.appendChild(c),this.toggleButton_.addEventListener(r.A.CLICK,this.handleClick_.bind(this),!1);const u=e+" "+o.XI+" "+o.$N+(this.collapsed_&&this.collapsible_?" "+o.nT:"")+(this.collapsible_?"":" ol-uncollapsible"),h=this.element;h.className=u,h.appendChild(this.toggleButton_),h.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){const e=Array.from(new Set(this.getMap().getAllLayers().flatMap((e=>e.getAttributions(t))))),n=!this.getMap().getAllLayers().some((t=>t.getSource()&&!1===t.getSource().getAttributionsCollapsible()));return this.overrideCollapsible_||this.setCollapsible(n),e}updateElement_(t){if(!t)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!(0,s.aI)(e,this.renderedAttributions_)){(0,a.gS)(this.ulElement_);for(let t=0,n=e.length;t<n;++t){const n=document.createElement("li");n.innerHTML=e[t],this.ulElement_.appendChild(n)}this.renderedAttributions_=e}}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(o.nT),this.collapsed_?(0,a.fo)(this.collapseLabel_,this.label_):(0,a.fo)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}}e.A=l},6993:function(t,e,n){"use strict";n(4114);var i=n(1611),r=n(2742),o=n(9331),s=n(8965),a=n(7334);class l extends i.A{constructor(t){super();const e=t.element;!e||t.target||e.style.pointerEvents||(e.style.pointerEvents="auto"),this.element=e||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){(0,a.bf)(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(t){this.map_&&(0,a.bf)(this.element);for(let e=0,n=this.listenerKeys.length;e<n;++e)(0,s.JH)(this.listenerKeys[e]);if(this.listenerKeys.length=0,this.map_=t,t){const e=this.target_?this.target_:t.getOverlayContainerStopEvent();e.appendChild(this.element),this.render!==o.tV&&this.listenerKeys.push((0,s.KT)(t,r.A.POSTRENDER,this.render,this)),t.render()}}render(t){}setTarget(t){this.target_="string"===typeof t?document.getElementById(t):t}}e.A=l},8474:function(t,e,n){"use strict";n.d(e,{$x:function(){return h},Io:function(){return u},Li:function(){return d},WQ:function(){return r},aI:function(){return s},e$:function(){return a},hG:function(){return c},hs:function(){return l},sG:function(){return o}});var i=n(7444);function r(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function o(t,e){const n=t[0],i=t[1],r=e[0],o=e[1],s=r[0],a=r[1],l=o[0],c=o[1],u=l-s,h=c-a,d=0===u&&0===h?0:(u*(n-s)+h*(i-a))/(u*u+h*h||0);let p,g;return d<=0?(p=s,g=a):d>=1?(p=l,g=c):(p=s+d*u,g=a+d*h),[p,g]}function s(t,e){let n=!0;for(let i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function a(t,e){const n=Math.cos(e),i=Math.sin(e),r=t[0]*n-t[1]*i,o=t[1]*n+t[0]*i;return t[0]=r,t[1]=o,t}function l(t,e){return t[0]*=e,t[1]*=e,t}function c(t,e){const n=t[0]-e[0],i=t[1]-e[1];return n*n+i*i}function u(t,e){return Math.sqrt(c(t,e))}function h(t,e){return c(t,o(t,e))}function d(t,e){if(e.canWrapX()){const n=(0,i.RG)(e.getExtent()),r=p(t,e,n);r&&(t[0]-=r*n)}return t}function p(t,e,n){const r=e.getExtent();let o=0;return e.canWrapX()&&(t[0]<r[0]||t[0]>r[2])&&(n=n||(0,i.RG)(r),o=Math.floor((t[0]-r[0])/n)),o}},4109:function(t,e,n){"use strict";n.d(e,{$N:function(){return s},K5:function(){return u},Q5:function(){return r},Si:function(){return i},XI:function(){return o},nT:function(){return a}});const i="ol-hidden",r="ol-selectable",o="ol-unselectable",s="ol-control",a="ol-collapsed",l=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),c=["style","variant","weight","size","lineHeight","family"],u=function(t){const e=t.match(l);if(!e)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,r=c.length;i<r;++i){const t=e[i+1];void 0!==t&&(n[c[i]]=t)}return n.families=n.family.split(/,\s?/),n}},7334:function(t,e,n){"use strict";n.d(e,{DK:function(){return a},Gq:function(){return s},WM:function(){return h},Y:function(){return r},Yg:function(){return o},bf:function(){return c},fo:function(){return l},gS:function(){return u}});var i=n(502);function r(t,e,n,r){let o;return o=n&&n.length?n.shift():i.Wl?new OffscreenCanvas(t||300,e||300):document.createElement("canvas"),t&&(o.width=t),e&&(o.height=e),o.getContext("2d",r)}function o(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function s(t){let e=t.offsetWidth;const n=getComputedStyle(t);return e+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),e}function a(t){let e=t.offsetHeight;const n=getComputedStyle(t);return e+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),e}function l(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function c(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function u(t){while(t.lastChild)t.removeChild(t.lastChild)}function h(t,e){const n=t.childNodes;for(let i=0;1;++i){const r=n[i],o=e[i];if(!r&&!o)break;r!==o&&(r?o?t.insertBefore(o,r):(t.removeChild(r),--i):t.appendChild(o))}}},8409:function(t,e,n){"use strict";function i(t){return Math.pow(t,3)}function r(t){return 1-i(1-t)}function o(t){return 3*t*t-2*t*t*t}function s(t){return t}n.d(e,{T9:function(){return o},a6:function(){return i},sn:function(){return s},vT:function(){return r}})},8965:function(t,e,n){"use strict";n.d(e,{JH:function(){return s},Jz:function(){return o},KT:function(){return r}});var i=n(6811);function r(t,e,n,i,r){if(i&&i!==t&&(n=n.bind(i)),r){const i=n;n=function(){t.removeEventListener(e,n),i.apply(this,arguments)}}const o={target:t,type:e,listener:n};return t.addEventListener(e,n),o}function o(t,e,n,i){return r(t,e,n,i,!0)}function s(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),(0,i.I)(t))}},9078:function(t,e,n){"use strict";class i{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}e.Ay=i},7582:function(t,e){"use strict";e.A={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},9357:function(t,e,n){"use strict";n(4114);var i=n(8646),r=n(9078),o=n(9331),s=n(6811);class a extends i.A{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,e){if(!t||!e)return;const n=this.listeners_||(this.listeners_={}),i=n[t]||(n[t]=[]);i.includes(e)||i.push(e)}dispatchEvent(t){const e="string"===typeof t,n=e?t:t.type,i=this.listeners_&&this.listeners_[n];if(!i)return;const s=e?new r.Ay(t):t;s.target||(s.target=this.eventTarget_||this);const a=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});let c;n in a||(a[n]=0,l[n]=0),++a[n];for(let r=0,o=i.length;r<o;++r)if(c="handleEvent"in i[r]?i[r].handleEvent(s):i[r].call(this,s),!1===c||s.propagationStopped){c=!1;break}if(0===--a[n]){let t=l[n];delete l[n];while(t--)this.removeEventListener(n,o.tV);delete a[n]}return c}disposeInternal(){this.listeners_&&(0,s.I)(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(t,e){if(!this.listeners_)return;const n=this.listeners_[t];if(!n)return;const i=n.indexOf(e);-1!==i&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[i]=o.tV,++this.pendingRemovals_[t]):(n.splice(i,1),0===n.length&&delete this.listeners_[t]))}}e.A=a},2535:function(t,e,n){"use strict";n.d(e,{A4:function(){return C},GB:function(){return y},Gk:function(){return d},IO:function(){return c},Js:function(){return l},Kg:function(){return v},N1:function(){return f},Q7:function(){return a},TS:function(){return A},Zm:function(){return g},at:function(){return p},eL:function(){return h},fs:function(){return I},t5:function(){return m},tE:function(){return _}});var i=n(3156),r=n(9331),o=n(502),s=n(1097);function a(t){const e=arguments;return function(t){let n=!0;for(let i=0,r=e.length;i<r;++i)if(n=n&&e[i](t),!n)break;return n}}const l=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},c=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},u=function(t){const e=t.map.getTargetElement(),n=t.map.getOwnerDocument().activeElement;return e.contains(n)},h=function(t){return!t.map.getTargetElement().hasAttribute("tabindex")||u(t)},d=r.rT,p=function(t){const e=t.originalEvent;return 0==e.button&&!(o.j&&o.ew&&e.ctrlKey)},g=r.W8,f=function(t){return"pointermove"==t.type},m=function(t){return t.type==i.A.SINGLECLICK},A=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},y=function(t){const e=t.originalEvent;return o.ew?e.metaKey:e.ctrlKey},v=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},_=function(t){const e=t.originalEvent,n=e.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&!e.target.isContentEditable},C=function(t){const e=t.originalEvent;return(0,s.v)(void 0!==e,"mapBrowserEvent must originate from a pointer event"),"mouse"==e.pointerType},I=function(t){const e=t.originalEvent;return(0,s.v)(void 0!==e,"mapBrowserEvent must originate from a pointer event"),e.isPrimary&&0===e.button}},7444:function(t,e,n){"use strict";n.d(e,{$C:function(){return _},$u:function(){return F},Bg:function(){return M},HY:function(){return D},Im:function(){return N},Ld:function(){return l},Li:function(){return j},Mx:function(){return U},N:function(){return g},NW:function(){return B},Oq:function(){return T},Py:function(){return L},QJ:function(){return z},R:function(){return b},R8:function(){return C},RG:function(){return O},Rj:function(){return h},S5:function(){return p},Tr:function(){return r},UG:function(){return w},Vy:function(){return A},WU:function(){return k},X$:function(){return v},Ym:function(){return c},Yw:function(){return R},_N:function(){return G},aI:function(){return y},aZ:function(){return f},dP:function(){return m},k_:function(){return x},ms:function(){return u},o8:function(){return a},q1:function(){return S},qF:function(){return P},r:function(){return s},sB:function(){return E},vz:function(){return d}});n(4114);var i=n(1945);function r(t){const e=p();for(let n=0,i=t.length;n<i;++n)_(e,t[n]);return e}function o(t,e,n){const i=Math.min.apply(null,t),r=Math.min.apply(null,e),o=Math.max.apply(null,t),s=Math.max.apply(null,e);return g(i,r,o,s,n)}function s(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function a(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function l(t,e,n){let i,r;return i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0,r=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0,i*i+r*r}function c(t,e){return h(t,e[0],e[1])}function u(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function h(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function d(t,e){const n=t[0],r=t[1],o=t[2],s=t[3],a=e[0],l=e[1];let c=i.A.UNKNOWN;return a<n?c|=i.A.LEFT:a>o&&(c|=i.A.RIGHT),l<r?c|=i.A.BELOW:l>s&&(c|=i.A.ABOVE),c===i.A.UNKNOWN&&(c=i.A.INTERSECTING),c}function p(){return[1/0,1/0,-1/0,-1/0]}function g(t,e,n,i,r){return r?(r[0]=t,r[1]=e,r[2]=n,r[3]=i,r):[t,e,n,i]}function f(t){return g(1/0,1/0,-1/0,-1/0,t)}function m(t,e){const n=t[0],i=t[1];return g(n,i,n,i,e)}function A(t,e,n,i,r){const o=f(r);return C(o,t,e,n,i)}function y(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function v(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function _(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function C(t,e,n,i,r){for(;n<i;n+=r)I(t,e[n],e[n+1]);return t}function I(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function E(t,e){let n;return n=e(b(t)),n||(n=e(x(t)),n||(n=e(k(t)),n||(n=e(L(t)),n||!1)))}function w(t){let e=0;return N(t)||(e=O(t)*T(t)),e}function b(t){return[t[0],t[1]]}function x(t){return[t[2],t[1]]}function S(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function P(t,e){let n;if("bottom-left"===e)n=b(t);else if("bottom-right"===e)n=x(t);else if("top-left"===e)n=L(t);else{if("top-right"!==e)throw new Error("Invalid corner");n=k(t)}return n}function M(t,e,n,i,r){const[o,s,a,l,c,u,h,d]=R(t,e,n,i);return g(Math.min(o,a,c,h),Math.min(s,l,u,d),Math.max(o,a,c,h),Math.max(s,l,u,d),r)}function R(t,e,n,i){const r=e*i[0]/2,o=e*i[1]/2,s=Math.cos(n),a=Math.sin(n),l=r*s,c=r*a,u=o*s,h=o*a,d=t[0],p=t[1];return[d-l+h,p-c-u,d-l-h,p-c+u,d+l-h,p+c+u,d+l+h,p+c-u,d-l+h,p-c-u]}function T(t){return t[3]-t[1]}function G(t,e,n){const i=n||p();return D(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):f(i),i}function L(t){return[t[0],t[3]]}function k(t){return[t[2],t[3]]}function O(t){return t[2]-t[0]}function D(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function N(t){return t[2]<t[0]||t[3]<t[1]}function F(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function U(t,e,n){let r=!1;const o=d(t,e),s=d(t,n);if(o===i.A.INTERSECTING||s===i.A.INTERSECTING)r=!0;else{const a=t[0],l=t[1],c=t[2],u=t[3],h=e[0],d=e[1],p=n[0],g=n[1],f=(g-d)/(p-h);let m,A;s&i.A.ABOVE&&!(o&i.A.ABOVE)&&(m=p-(g-u)/f,r=m>=a&&m<=c),r||!(s&i.A.RIGHT)||o&i.A.RIGHT||(A=g-(p-c)*f,r=A>=l&&A<=u),r||!(s&i.A.BELOW)||o&i.A.BELOW||(m=p-(g-l)/f,r=m>=a&&m<=c),r||!(s&i.A.LEFT)||o&i.A.LEFT||(A=g-(p-a)*f,r=A>=l&&A<=u)}return r}function B(t,e,n,i){if(N(t))return f(n);let r=[];if(i>1){const e=t[2]-t[0],n=t[3]-t[1];for(let o=0;o<i;++o)r.push(t[0]+e*o/i,t[1],t[2],t[1]+n*o/i,t[2]-e*o/i,t[3],t[0],t[3]-n*o/i)}else r=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(r,r,2);const s=[],a=[];for(let o=0,l=r.length;o<l;o+=2)s.push(r[o]),a.push(r[o+1]);return o(s,a,n)}function j(t,e){const n=e.getExtent(),i=S(t);if(e.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){const e=O(n),r=Math.floor((i[0]-n[0])/e),o=r*e;t[0]-=o,t[2]-=o}return t}function z(t,e){if(e.canWrapX()){const n=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[n[0],t[1],n[2],t[3]]];j(t,e);const i=O(n);if(O(t)>i)return[[n[0],t[1],n[2],t[3]]];if(t[0]<n[0])return[[t[0]+i,t[1],n[2],t[3]],[n[0],t[1],t[2],t[3]]];if(t[2]>n[2])return[[t[0],t[1],n[2],t[3]],[n[0],t[1],t[2]-i,t[3]]]}return[t]}},1945:function(t,e){"use strict";e.A={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},5519:function(t,e,n){"use strict";n.d(e,{m8:function(){return o},nF:function(){return s}});var i=n(9331);let r=!1;function o(t,e,n,i,o,s,a){const l=new XMLHttpRequest;l.open("GET","function"===typeof t?t(n,i,o):t,!0),"arraybuffer"==e.getType()&&(l.responseType="arraybuffer"),l.withCredentials=r,l.onload=function(t){if(!l.status||l.status>=200&&l.status<300){const t=e.getType();let i;"json"==t?i=JSON.parse(l.responseText):"text"==t?i=l.responseText:"xml"==t?(i=l.responseXML,i||(i=(new DOMParser).parseFromString(l.responseText,"application/xml"))):"arraybuffer"==t&&(i=l.response),i?s(e.readFeatures(i,{extent:n,featureProjection:o}),e.readProjection(i)):a()}else a()},l.onerror=a,l.send()}function s(t,e){return function(n,r,s,a,l){const c=this;o(t,e,n,r,s,(function(t,e){c.addFeatures(t),void 0!==a&&a(t)}),l||i.tV)}}},2910:function(t,e,n){"use strict";n.d(e,{Bs:function(){return v},hX:function(){return m},te:function(){return _}});var i=n(856),r=n(3077),o=n(8225),s=n(3496),a=n(3313),l=n(5522),c=n(8957),u=n(5258),h=n(7739),d=n(5752),p=n(5857),g=n(1853);class f{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=i.A,this.supportedMediaTypes=null}getReadOptions(t,e){if(e){let n=e.dataProjection?(0,p.Jt)(e.dataProjection):this.readProjection(t);e.extent&&n&&"tile-pixels"===n.getUnits()&&(n=(0,p.Jt)(n),n.setWorldExtent(e.extent)),e={dataProjection:n,featureProjection:e.featureProjection}}return this.adaptOptions(e)}adaptOptions(t){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},t)}getType(){return(0,d.b0)()}readFeature(t,e){return(0,d.b0)()}readFeatures(t,e){return(0,d.b0)()}readGeometry(t,e){return(0,d.b0)()}readProjection(t){return(0,d.b0)()}writeFeature(t,e){return(0,d.b0)()}writeFeatures(t,e){return(0,d.b0)()}writeGeometry(t,e){return(0,d.b0)()}}function m(t,e,n){const i=n?(0,p.Jt)(n.featureProjection):null,r=n?(0,p.Jt)(n.dataProjection):null;let o=t;if(i&&r&&!(0,p.tI)(i,r)){e&&(o=t.clone());const n=e?i:r,s=e?r:i;"tile-pixels"===n.getUnits()?o.transform(n,s):o.applyTransform((0,p.RG)(n,s))}if(e&&n&&void 0!==n.decimals){const e=Math.pow(10,n.decimals),i=function(t){for(let n=0,i=t.length;n<i;++n)t[n]=Math.round(t[n]*e)/e;return t};o===t&&(o=t.clone()),o.applyTransform(i)}return o}e.Ay=f;const A={Point:o.A,LineString:s.A,Polygon:a.Ay,MultiPoint:l.A,MultiLineString:c.A,MultiPolygon:u.A};function y(t,e,n){return Array.isArray(e[0])?((0,g.mb)(t,0,e,n)||(t=t.slice(),(0,g.NK)(t,0,e,n)),t):((0,g.PA)(t,0,e,n)||(t=t.slice(),(0,g.ug)(t,0,e,n)),t)}function v(t,e){const n=t.geometry;if(!n)return[];if(Array.isArray(n))return n.map((e=>v({...t,geometry:e}))).flat();const i="MultiPolygon"===n.type?"Polygon":n.type;if("GeometryCollection"===i||"Circle"===i)throw new Error("Unsupported geometry type: "+i);const o=n.layout.length;return m(new r.Ay(i,"Polygon"===i?y(n.flatCoordinates,n.ends,o):n.flatCoordinates,n.ends?.flat(),o,t.properties||{},t.id).enableSimplifyTransformed(),!1,e)}function _(t,e){if(!t)return null;if(Array.isArray(t)){const n=t.map((t=>_(t,e)));return new h.A(n)}const n=A[t.type];return m(new n(t.flatCoordinates,t.layout,t.ends),!1,e)}},7881:function(t,e,n){"use strict";n(4114);var i=n(856),r=n(3496),o=n(8957),s=n(8225),a=n(6319),l=n(3387),c=n(5857),u=n(3895),h=n(2910);const d=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],p="http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd",g={rte:Y,trk:H,wpt:q},f=(0,l.Dm)(d,{rte:(0,l.VT)(Y),trk:(0,l.VT)(H),wpt:(0,l.VT)(q)}),m=(0,l.Dm)(d,{text:(0,l.kW)(u.E3,"linkText"),type:(0,l.kW)(u.E3,"linkType")}),A=(0,l.Dm)(d,{rte:(0,l.mm)(K),trk:(0,l.mm)(J),wpt:(0,l.mm)($)});class y extends a.A{constructor(t){super(),t=t||{},this.dataProjection=(0,c.Jt)("EPSG:4326"),this.readExtensions_=t.readExtensions}handleReadExtensions_(t){t||(t=[]);for(let e=0,n=t.length;e<n;++e){const n=t[e];if(this.readExtensions_){const t=n.get("extensionsNode_")||null;this.readExtensions_(n,t)}n.set("extensionsNode_",void 0)}}readFeatureFromNode(t,e){if(!d.includes(t.namespaceURI))return null;const n=g[t.localName];if(!n)return null;const i=n(t,[this.getReadOptions(t,e)]);return i?(this.handleReadExtensions_([i]),i):null}readFeaturesFromNode(t,e){if(!d.includes(t.namespaceURI))return[];if("gpx"==t.localName){const n=(0,l.eY)([],f,t,[this.getReadOptions(t,e)]);return n?(this.handleReadExtensions_(n),n):[]}return[]}writeFeaturesNode(t,e){e=this.adaptOptions(e);const n=(0,l.qq)("http://www.topografix.com/GPX/1/1","gpx"),i="http://www.w3.org/2000/xmlns/";return n.setAttributeNS(i,"xmlns:xsi",l.pF),n.setAttributeNS(l.pF,"xsi:schemaLocation",p),n.setAttribute("version","1.1"),n.setAttribute("creator","OpenLayers"),(0,l.NQ)({node:n},A,N,t,[e]),n}}const v=(0,l.Dm)(d,{name:(0,l.kW)(u.E3),cmt:(0,l.kW)(u.E3),desc:(0,l.kW)(u.E3),src:(0,l.kW)(u.E3),link:B,number:(0,l.kW)(u.yg),extensions:j,type:(0,l.kW)(u.E3),rtept:z}),_=(0,l.Dm)(d,{ele:(0,l.kW)(u.e4),time:(0,l.kW)(u._I)}),C=(0,l.Dm)(d,{name:(0,l.kW)(u.E3),cmt:(0,l.kW)(u.E3),desc:(0,l.kW)(u.E3),src:(0,l.kW)(u.E3),link:B,number:(0,l.kW)(u.yg),type:(0,l.kW)(u.E3),extensions:j,trkseg:V}),I=(0,l.Dm)(d,{trkpt:W}),E=(0,l.Dm)(d,{ele:(0,l.kW)(u.e4),time:(0,l.kW)(u._I)}),w=(0,l.Dm)(d,{ele:(0,l.kW)(u.e4),time:(0,l.kW)(u._I),magvar:(0,l.kW)(u.e4),geoidheight:(0,l.kW)(u.e4),name:(0,l.kW)(u.E3),cmt:(0,l.kW)(u.E3),desc:(0,l.kW)(u.E3),src:(0,l.kW)(u.E3),link:B,sym:(0,l.kW)(u.E3),type:(0,l.kW)(u.E3),fix:(0,l.kW)(u.E3),sat:(0,l.kW)(u.yg),hdop:(0,l.kW)(u.e4),vdop:(0,l.kW)(u.e4),pdop:(0,l.kW)(u.e4),ageofdgpsdata:(0,l.kW)(u.e4),dgpsid:(0,l.kW)(u.yg),extensions:j}),b=["text","type"],x=(0,l.Dm)(d,{text:(0,l.mm)(u.uB),type:(0,l.mm)(u.uB)}),S=(0,l.Dm)(d,["name","cmt","desc","src","link","number","type","rtept"]),P=(0,l.Dm)(d,{name:(0,l.mm)(u.uB),cmt:(0,l.mm)(u.uB),desc:(0,l.mm)(u.uB),src:(0,l.mm)(u.uB),link:(0,l.mm)(X),number:(0,l.mm)(u.pE),type:(0,l.mm)(u.uB),rtept:(0,l.gN)((0,l.mm)(Z))}),M=(0,l.Dm)(d,["ele","time"]),R=(0,l.Dm)(d,["name","cmt","desc","src","link","number","type","trkseg"]),T=(0,l.Dm)(d,{name:(0,l.mm)(u.uB),cmt:(0,l.mm)(u.uB),desc:(0,l.mm)(u.uB),src:(0,l.mm)(u.uB),link:(0,l.mm)(X),number:(0,l.mm)(u.pE),type:(0,l.mm)(u.uB),trkseg:(0,l.gN)((0,l.mm)(Q))}),G=(0,l.X1)("trkpt"),L=(0,l.Dm)(d,{trkpt:(0,l.mm)(Z)}),k=(0,l.Dm)(d,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),O=(0,l.Dm)(d,{ele:(0,l.mm)(u.Ko),time:(0,l.mm)(u.cS),magvar:(0,l.mm)(u.Ko),geoidheight:(0,l.mm)(u.Ko),name:(0,l.mm)(u.uB),cmt:(0,l.mm)(u.uB),desc:(0,l.mm)(u.uB),src:(0,l.mm)(u.uB),link:(0,l.mm)(X),sym:(0,l.mm)(u.uB),type:(0,l.mm)(u.uB),fix:(0,l.mm)(u.uB),sat:(0,l.mm)(u.pE),hdop:(0,l.mm)(u.Ko),vdop:(0,l.mm)(u.Ko),pdop:(0,l.mm)(u.Ko),ageofdgpsdata:(0,l.mm)(u.Ko),dgpsid:(0,l.mm)(u.pE)}),D={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function N(t,e,n){const i=t.getGeometry();if(i){const t=D[i.getType()];if(t){const n=e[e.length-1].node;return(0,l.qq)(n.namespaceURI,t)}}}function F(t,e,n,i){return t.push(parseFloat(n.getAttribute("lon")),parseFloat(n.getAttribute("lat"))),"ele"in i?(t.push(i["ele"]),delete i["ele"],e.hasZ=!0):t.push(0),"time"in i?(t.push(i["time"]),delete i["time"],e.hasM=!0):t.push(0),t}function U(t,e,n){let i="XY",r=2;if(t.hasZ&&t.hasM?(i="XYZM",r=4):t.hasZ?(i="XYZ",r=3):t.hasM&&(i="XYM",r=3),4!==r){for(let n=0,i=e.length/4;n<i;n++)e[n*r]=e[4*n],e[n*r+1]=e[4*n+1],t.hasZ&&(e[n*r+2]=e[4*n+2]),t.hasM&&(e[n*r+2]=e[4*n+3]);if(e.length=e.length/4*r,n)for(let t=0,e=n.length;t<e;t++)n[t]=n[t]/4*r}return i}function B(t,e){const n=e[e.length-1],i=t.getAttribute("href");null!==i&&(n["link"]=i),(0,l.UN)(m,t,e)}function j(t,e){const n=e[e.length-1];n["extensionsNode_"]=t}function z(t,e){const n=(0,l.eY)({},_,t,e);if(n){const i=e[e.length-1],r=i["flatCoordinates"],o=i["layoutOptions"];F(r,o,t,n)}}function W(t,e){const n=(0,l.eY)({},E,t,e);if(n){const i=e[e.length-1],r=i["flatCoordinates"],o=i["layoutOptions"];F(r,o,t,n)}}function V(t,e){const n=e[e.length-1];(0,l.UN)(I,t,e);const i=n["flatCoordinates"],r=n["ends"];r.push(i.length)}function Y(t,e){const n=e[0],o=(0,l.eY)({flatCoordinates:[],layoutOptions:{}},v,t,e);if(!o)return;const s=o["flatCoordinates"];delete o["flatCoordinates"];const a=o["layoutOptions"];delete o["layoutOptions"];const c=U(a,s),u=new r.A(s,c);(0,h.hX)(u,!1,n);const d=new i.A(u);return d.setProperties(o,!0),d}function H(t,e){const n=e[0],r=(0,l.eY)({flatCoordinates:[],ends:[],layoutOptions:{}},C,t,e);if(!r)return;const s=r["flatCoordinates"];delete r["flatCoordinates"];const a=r["ends"];delete r["ends"];const c=r["layoutOptions"];delete r["layoutOptions"];const u=U(c,s,a),d=new o.A(s,u,a);(0,h.hX)(d,!1,n);const p=new i.A(d);return p.setProperties(r,!0),p}function q(t,e){const n=e[0],r=(0,l.eY)({},w,t,e);if(!r)return;const o={},a=F([],o,t,r),c=U(o,a),u=new s.A(a,c);(0,h.hX)(u,!1,n);const d=new i.A(u);return d.setProperties(r,!0),d}function X(t,e,n){t.setAttribute("href",e);const i=n[n.length-1],r=i["properties"],o=[r["linkText"],r["linkType"]];(0,l.NQ)({node:t},x,l.OL,o,n,b)}function Z(t,e,n){const i=n[n.length-1],r=i.node,o=r.namespaceURI,s=i["properties"];t.setAttributeNS(null,"lat",String(e[1])),t.setAttributeNS(null,"lon",String(e[0]));const a=i["geometryLayout"];switch(a){case"XYZM":0!==e[3]&&(s["time"]=e[3]);case"XYZ":0!==e[2]&&(s["ele"]=e[2]);break;case"XYM":0!==e[2]&&(s["time"]=e[2]);break;default:}const c="rtept"==t.nodeName?M[o]:k[o],u=(0,l.Gl)(s,c);(0,l.NQ)({node:t,properties:s},O,l.OL,u,n,c)}function K(t,e,n){const i=n[0],r=e.getProperties(),o={node:t};o["properties"]=r;const s=e.getGeometry();if("LineString"==s.getType()){const t=(0,h.hX)(s,!0,i);o["geometryLayout"]=t.getLayout(),r["rtept"]=t.getCoordinates()}const a=n[n.length-1].node,c=S[a.namespaceURI],u=(0,l.Gl)(r,c);(0,l.NQ)(o,P,l.OL,u,n,c)}function J(t,e,n){const i=n[0],r=e.getProperties(),o={node:t};o["properties"]=r;const s=e.getGeometry();if("MultiLineString"==s.getType()){const t=(0,h.hX)(s,!0,i);r["trkseg"]=t.getLineStrings()}const a=n[n.length-1].node,c=R[a.namespaceURI],u=(0,l.Gl)(r,c);(0,l.NQ)(o,T,l.OL,u,n,c)}function Q(t,e,n){const i={node:t};i["geometryLayout"]=e.getLayout(),i["properties"]={},(0,l.NQ)(i,L,G,e.getCoordinates(),n)}function $(t,e,n){const i=n[0],r=n[n.length-1];r["properties"]=e.getProperties();const o=e.getGeometry();if("Point"==o.getType()){const e=(0,h.hX)(o,!0,i);r["geometryLayout"]=e.getLayout(),Z(t,e.getCoordinates(),n)}}e.A=y},8131:function(t,e,n){"use strict";n.d(e,{A:function(){return G}});n(4114);var i=n(856),r=n(2910),o=n(5752);class s extends r.Ay{constructor(){super()}getType(){return"json"}readFeature(t,e){return this.readFeatureFromObject(a(t),this.getReadOptions(t,e))}readFeatures(t,e){return this.readFeaturesFromObject(a(t),this.getReadOptions(t,e))}readFeatureFromObject(t,e){return(0,o.b0)()}readFeaturesFromObject(t,e){return(0,o.b0)()}readGeometry(t,e){return this.readGeometryFromObject(a(t),this.getReadOptions(t,e))}readGeometryFromObject(t,e){return(0,o.b0)()}readProjection(t){return this.readProjectionFromObject(a(t))}readProjectionFromObject(t){return(0,o.b0)()}writeFeature(t,e){return JSON.stringify(this.writeFeatureObject(t,e))}writeFeatureObject(t,e){return(0,o.b0)()}writeFeatures(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))}writeFeaturesObject(t,e){return(0,o.b0)()}writeGeometry(t,e){return JSON.stringify(this.writeGeometryObject(t,e))}writeGeometryObject(t,e){return(0,o.b0)()}}function a(t){if("string"===typeof t){const e=JSON.parse(t);return e||null}return null!==t?t:null}var l=s,c=n(3077),u=n(6320),h=n(3665),d=n(5857),p=n(6811);class g extends l{constructor(t){t=t||{},super(),this.dataProjection=(0,d.Jt)(t.dataProjection?t.dataProjection:"EPSG:4326"),t.featureProjection&&(this.defaultFeatureProjection=(0,d.Jt)(t.featureProjection)),t.featureClass&&(this.featureClass=t.featureClass),this.geometryName_=t.geometryName,this.extractGeometryName_=t.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(t,e){let n=null;n="Feature"===t["type"]?t:{type:"Feature",geometry:t,properties:null};const o=f(n["geometry"],e);if(this.featureClass===c.Ay)return(0,r.Bs)({geometry:o,id:n["id"],properties:n["properties"]},e);const s=new i.A;return this.geometryName_?s.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in n!==void 0&&s.setGeometryName(n["geometry_name"]),s.setGeometry((0,r.te)(o,e)),"id"in n&&s.setId(n["id"]),n["properties"]&&s.setProperties(n["properties"],!0),s}readFeaturesFromObject(t,e){const n=t;let i=null;if("FeatureCollection"===n["type"]){const n=t;i=[];const r=n["features"];for(let t=0,o=r.length;t<o;++t){const n=this.readFeatureFromObject(r[t],e);n&&i.push(n)}}else i=[this.readFeatureFromObject(t,e)];return i.flat()}readGeometryFromObject(t,e){return m(t,e)}readProjectionFromObject(t){const e=t["crs"];let n;if(e)if("name"==e["type"])n=(0,d.Jt)(e["properties"]["name"]);else{if("EPSG"!==e["type"])throw new Error("Unknown SRS type");n=(0,d.Jt)("EPSG:"+e["properties"]["code"])}else n=this.dataProjection;return n}writeFeatureObject(t,e){e=this.adaptOptions(e);const n={type:"Feature",geometry:null,properties:null},i=t.getId();if(void 0!==i&&(n.id=i),!t.hasProperties())return n;const r=t.getProperties(),o=t.getGeometry();return o&&(n.geometry=w(o,e),delete r[t.getGeometryName()]),(0,p.p)(r)||(n.properties=r),n}writeFeaturesObject(t,e){e=this.adaptOptions(e);const n=[];for(let i=0,r=t.length;i<r;++i)n.push(this.writeFeatureObject(t[i],e));return{type:"FeatureCollection",features:n}}writeGeometryObject(t,e){return w(t,this.adaptOptions(e))}}function f(t,e){if(!t)return null;let n;switch(t["type"]){case"Point":n=y(t);break;case"LineString":n=v(t);break;case"Polygon":n=E(t);break;case"MultiPoint":n=C(t);break;case"MultiLineString":n=_(t);break;case"MultiPolygon":n=I(t);break;case"GeometryCollection":n=A(t);break;default:throw new Error("Unsupported GeoJSON type: "+t["type"])}return n}function m(t,e){const n=f(t,e);return(0,r.te)(n,e)}function A(t,e){const n=t["geometries"].map((function(t){return f(t,e)}));return n}function y(t){const e=t["coordinates"];return{type:"Point",flatCoordinates:e,layout:(0,h.p0)(e.length)}}function v(t){const e=t["coordinates"],n=e.flat();return{type:"LineString",flatCoordinates:n,ends:[n.length],layout:(0,h.p0)(e[0].length)}}function _(t){const e=t["coordinates"],n=e[0][0].length,i=[],r=(0,u.KG)(i,0,e,n);return{type:"MultiLineString",flatCoordinates:i,ends:r,layout:(0,h.p0)(n)}}function C(t){const e=t["coordinates"];return{type:"MultiPoint",flatCoordinates:e.flat(),layout:(0,h.p0)(e[0].length)}}function I(t){const e=t["coordinates"],n=[],i=e[0][0][0].length,r=(0,u.d6)(n,0,e,i);return{type:"MultiPolygon",flatCoordinates:n,ends:r,layout:(0,h.p0)(i)}}function E(t){const e=t["coordinates"],n=[],i=e[0][0].length,r=(0,u.KG)(n,0,e,i);return{type:"Polygon",flatCoordinates:n,ends:r,layout:(0,h.p0)(i)}}function w(t,e){t=(0,r.hX)(t,!0,e);const n=t.getType();let i;switch(n){case"Point":i=R(t,e);break;case"LineString":i=x(t,e);break;case"Polygon":i=T(t,e);break;case"MultiPoint":i=P(t,e);break;case"MultiLineString":i=S(t,e);break;case"MultiPolygon":i=M(t,e);break;case"GeometryCollection":i=b(t,e);break;case"Circle":i={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+n)}return i}function b(t,e){e=Object.assign({},e),delete e.featureProjection;const n=t.getGeometriesArray().map((function(t){return w(t,e)}));return{type:"GeometryCollection",geometries:n}}function x(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}function S(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}function P(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}function M(t,e){let n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}function R(t,e){return{type:"Point",coordinates:t.getCoordinates()}}function T(t,e){let n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(n)}}var G=g},8616:function(t,e,n){"use strict";n(4114),n(4603),n(7566),n(8721);var i=n(856),r=n(8343),o=n(7739),s=n(7379),a=n(1410),l=n(3496),c=n(8957),u=n(5522),h=n(5258),d=n(8225),p=n(3313),g=n(5782),f=n(6505),m=n(6121),A=n(6319),y=n(3387),v=n(5007),_=n(3851),C=n(5857),I=n(3895),E=n(5674),w=n(2910);const b=["http://www.google.com/kml/ext/2.2"],x=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],S="http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd",P={fraction:"fraction",pixels:"pixels",insetPixels:"pixels"},M=(0,y.Dm)(x,{ExtendedData:Yt,Region:Ht,MultiGeometry:(0,y.kW)(Ot,"geometry"),LineString:(0,y.kW)(Gt,"geometry"),LinearRing:(0,y.kW)(Lt,"geometry"),Point:(0,y.kW)(Dt,"geometry"),Polygon:(0,y.kW)(Ft,"geometry"),Style:(0,y.kW)(Bt),StyleMap:Zt,address:(0,y.kW)(I.E3),description:(0,y.kW)(I.E3),name:(0,y.kW)(I.E3),open:(0,y.kW)(I.Vf),phoneNumber:(0,y.kW)(I.E3),styleUrl:(0,y.kW)(at),visibility:(0,y.kW)(I.Vf)},(0,y.Dm)(b,{MultiTrack:(0,y.kW)(wt,"geometry"),Track:(0,y.kW)(xt,"geometry")})),R=(0,y.Dm)(x,{ExtendedData:Yt,Region:Ht,Link:ae,address:(0,y.kW)(I.E3),description:(0,y.kW)(I.E3),name:(0,y.kW)(I.E3),open:(0,y.kW)(I.Vf),phoneNumber:(0,y.kW)(I.E3),visibility:(0,y.kW)(I.Vf)}),T=(0,y.Dm)(x,{href:(0,y.kW)(st)}),G=(0,y.Dm)(x,{Altitude:(0,y.kW)(I.e4),Longitude:(0,y.kW)(I.e4),Latitude:(0,y.kW)(I.e4),Tilt:(0,y.kW)(I.e4),AltitudeMode:(0,y.kW)(I.E3),Heading:(0,y.kW)(I.e4),Roll:(0,y.kW)(I.e4)}),L=(0,y.Dm)(x,{LatLonAltBox:te,Lod:ne}),k=(0,y.Dm)(x,["Document","Placemark"]),O=(0,y.Dm)(x,{Document:(0,y.mm)(Ae),Placemark:(0,y.mm)(He)});let D,N,F,U,B,j,z=null;let W,V=null;let Y,H=null;let q=null;let X=null;let Z,K=null;function J(t){return 32/Math.min(t[0],t[1])}function Q(){D=[255,255,255,1],z=new r.A({color:D}),N=[20,2],F="pixels",U="pixels",B=[64,64],j="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",V=new s.A({anchor:N,anchorOrigin:"bottom-left",anchorXUnits:F,anchorYUnits:U,crossOrigin:"anonymous",rotation:0,scale:J(B),size:B,src:j}),W="NO_IMAGE",H=new g.A({color:D,width:1}),Y=new g.A({color:[51,51,51,1],width:2}),q=new m.A({font:"bold 16px Helvetica",fill:z,stroke:Y,scale:.8}),X=new f.Ay({fill:z,image:V,text:q,stroke:H,zIndex:0}),K=[X]}function $(t){return t}class tt extends A.A{constructor(t){super(),t=t||{},K||Q(),this.dataProjection=(0,C.Jt)("EPSG:4326"),this.defaultStyle_=t.defaultStyle?t.defaultStyle:K,this.extractStyles_=void 0===t.extractStyles||t.extractStyles,this.writeStyles_=void 0===t.writeStyles||t.writeStyles,this.sharedStyles_={},this.showPointNames_=void 0===t.showPointNames||t.showPointNames,this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:"anonymous",this.iconUrlFunction_=t.iconUrlFunction?t.iconUrlFunction:$,this.supportedMediaTypes=["application/vnd.google-earth.kml+xml"]}readDocumentOrFolder_(t,e){const n=(0,y.Dm)(x,{Document:(0,y.Vh)(this.readDocumentOrFolder_,this),Folder:(0,y.Vh)(this.readDocumentOrFolder_,this),Placemark:(0,y.VT)(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),i=(0,y.eY)([],n,t,e,this);if(i)return i}readPlacemark_(t,e){const n=(0,y.eY)({geometry:null},M,t,e,this);if(!n)return;const r=new i.A,o=t.getAttribute("id");null!==o&&r.setId(o);const s=e[0],a=n["geometry"];if(a&&(0,w.hX)(a,!1,s),r.setGeometry(a),delete n["geometry"],this.extractStyles_){const t=n["Style"],e=n["styleUrl"],i=nt(t,e,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);r.setStyle(i)}return delete n["Style"],r.setProperties(n,!0),r}readSharedStyle_(t,e){const n=t.getAttribute("id");if(null!==n){const i=Bt.call(this,t,e);if(i){let e,r=t.baseURI;if(r&&"about:blank"!=r||(r=window.location.href),r){const t=new URL("#"+n,r);e=t.href}else e="#"+n;this.sharedStyles_[e]=i}}}readSharedStyleMap_(t,e){const n=t.getAttribute("id");if(null===n)return;const i=ht.call(this,t,e);if(!i)return;let r,o=t.baseURI;if(o&&"about:blank"!=o||(o=window.location.href),o){const t=new URL("#"+n,o);r=t.href}else r="#"+n;this.sharedStyles_[r]=i}readFeatureFromNode(t,e){if(!x.includes(t.namespaceURI))return null;const n=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return n||null}readFeaturesFromNode(t,e){if(!x.includes(t.namespaceURI))return[];let n;const i=t.localName;if("Document"==i||"Folder"==i)return n=this.readDocumentOrFolder_(t,[this.getReadOptions(t,e)]),n||[];if("Placemark"==i){const n=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return n?[n]:[]}if("kml"==i){n=[];for(let i=t.firstElementChild;i;i=i.nextElementSibling){const t=this.readFeaturesFromNode(i,e);t&&(0,_.X$)(n,t)}return n}return[]}readName(t){if(t){if("string"===typeof t){const e=(0,y.qg)(t);return this.readNameFromDocument(e)}return(0,y.wz)(t)?this.readNameFromDocument(t):this.readNameFromNode(t)}}readNameFromDocument(t){for(let e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE){const t=this.readNameFromNode(e);if(t)return t}}readNameFromNode(t){for(let e=t.firstElementChild;e;e=e.nextElementSibling)if(x.includes(e.namespaceURI)&&"name"==e.localName)return(0,I.E3)(e);for(let e=t.firstElementChild;e;e=e.nextElementSibling){const t=e.localName;if(x.includes(e.namespaceURI)&&("Document"==t||"Folder"==t||"Placemark"==t||"kml"==t)){const t=this.readNameFromNode(e);if(t)return t}}}readNetworkLinks(t){const e=[];if("string"===typeof t){const n=(0,y.qg)(t);(0,_.X$)(e,this.readNetworkLinksFromDocument(n))}else(0,y.wz)(t)?(0,_.X$)(e,this.readNetworkLinksFromDocument(t)):(0,_.X$)(e,this.readNetworkLinksFromNode(t));return e}readNetworkLinksFromDocument(t){const e=[];for(let n=t.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&(0,_.X$)(e,this.readNetworkLinksFromNode(n));return e}readNetworkLinksFromNode(t){const e=[];for(let n=t.firstElementChild;n;n=n.nextElementSibling)if(x.includes(n.namespaceURI)&&"NetworkLink"==n.localName){const t=(0,y.eY)({},R,n,[]);e.push(t)}for(let n=t.firstElementChild;n;n=n.nextElementSibling){const t=n.localName;!x.includes(n.namespaceURI)||"Document"!=t&&"Folder"!=t&&"kml"!=t||(0,_.X$)(e,this.readNetworkLinksFromNode(n))}return e}readRegion(t){const e=[];if("string"===typeof t){const n=(0,y.qg)(t);(0,_.X$)(e,this.readRegionFromDocument(n))}else(0,y.wz)(t)?(0,_.X$)(e,this.readRegionFromDocument(t)):(0,_.X$)(e,this.readRegionFromNode(t));return e}readRegionFromDocument(t){const e=[];for(let n=t.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&(0,_.X$)(e,this.readRegionFromNode(n));return e}readRegionFromNode(t){const e=[];for(let n=t.firstElementChild;n;n=n.nextElementSibling)if(x.includes(n.namespaceURI)&&"Region"==n.localName){const t=(0,y.eY)({},L,n,[]);e.push(t)}for(let n=t.firstElementChild;n;n=n.nextElementSibling){const t=n.localName;!x.includes(n.namespaceURI)||"Document"!=t&&"Folder"!=t&&"kml"!=t||(0,_.X$)(e,this.readRegionFromNode(n))}return e}readCamera(t){const e=[];if("string"===typeof t){const n=(0,y.qg)(t);(0,_.X$)(e,this.readCameraFromDocument(n))}else(0,y.wz)(t)?(0,_.X$)(e,this.readCameraFromDocument(t)):(0,_.X$)(e,this.readCameraFromNode(t));return e}readCameraFromDocument(t){const e=[];for(let n=t.firstChild;n;n=n.nextSibling)n.nodeType===Node.ELEMENT_NODE&&(0,_.X$)(e,this.readCameraFromNode(n));return e}readCameraFromNode(t){const e=[];for(let n=t.firstElementChild;n;n=n.nextElementSibling)if(x.includes(n.namespaceURI)&&"Camera"===n.localName){const t=(0,y.eY)({},G,n,[]);e.push(t)}for(let n=t.firstElementChild;n;n=n.nextElementSibling){const t=n.localName;!x.includes(n.namespaceURI)||"Document"!==t&&"Folder"!==t&&"Placemark"!==t&&"kml"!==t||(0,_.X$)(e,this.readCameraFromNode(n))}return e}writeFeaturesNode(t,e){e=this.adaptOptions(e);const n=(0,y.qq)(x[4],"kml"),i="http://www.w3.org/2000/xmlns/";n.setAttributeNS(i,"xmlns:gx",b[0]),n.setAttributeNS(i,"xmlns:xsi",y.pF),n.setAttributeNS(y.pF,"xsi:schemaLocation",S);const r={node:n},o={};t.length>1?o["Document"]=t:1==t.length&&(o["Placemark"]=t[0]);const s=k[n.namespaceURI],a=(0,y.Gl)(o,s);return(0,y.NQ)(r,O,y.OL,a,[e],s,this),n}}function et(t,e){const n=[0,0];let i="start";const r=t.getImage();if(r){const t=r.getSize();if(t&&2==t.length){const e=r.getScaleArray(),o=r.getAnchor();n[0]=e[0]*(t[0]-o[0]),n[1]=e[1]*(t[1]/2-o[1]),i="left"}}let o=t.getText();o?(o=o.clone(),o.setFont(o.getFont()||q.getFont()),o.setScale(o.getScale()||q.getScale()),o.setFill(o.getFill()||q.getFill()),o.setStroke(o.getStroke()||Y)):o=q.clone(),o.setText(e),o.setOffsetX(n[0]),o.setOffsetY(n[1]),o.setTextAlign(i);const s=new f.Ay({image:r,text:o});return s}function nt(t,e,n,i,r){return function(s,a){let l=r,c="",u=[];if(l){const t=s.getGeometry();if(t)if(t instanceof o.A)u=t.getGeometriesArrayRecursive().filter((function(t){const e=t.getType();return"Point"===e||"MultiPoint"===e})),l=u.length>0;else{const e=t.getType();l="Point"===e||"MultiPoint"===e}}l&&(c=s.get("name"),l=l&&!!c,l&&/&[^&]+;/.test(c)&&(Z||(Z=document.createElement("textarea")),Z.innerHTML=c,c=Z.value));let h=n;if(t?h=t:e&&(h=it(e,n,i)),l){const t=et(h[0],c);if(u.length>0){t.setGeometry(new o.A(u));const e=new f.Ay({geometry:h[0].getGeometry(),image:null,fill:h[0].getFill(),stroke:h[0].getStroke(),text:null});return[t,e].concat(h.slice(1))}return t}return h}}function it(t,e,n){return Array.isArray(t)?t:"string"===typeof t?it(n[t],e,n):e}function rt(t){const e=(0,y.mT)(t,!1),n=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(e);if(n){const t=n[1];return[parseInt(t.substr(6,2),16),parseInt(t.substr(4,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(0,2),16)/255]}}function ot(t){let e=(0,y.mT)(t,!1);const n=[];e=e.replace(/\s*,\s*/g,",");const i=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?),([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|,|$)(?:([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|$))?\s*/i;let r;while(r=i.exec(e)){const t=parseFloat(r[1]),i=parseFloat(r[2]),o=r[3]?parseFloat(r[3]):0;n.push(t,i,o),e=e.substr(r[0].length)}if(""===e)return n}function st(t){const e=(0,y.mT)(t,!1).trim();let n=t.baseURI;if(n&&"about:blank"!=n||(n=window.location.href),n){const t=new URL(e,n);return t.href}return e}function at(t){const e=(0,y.mT)(t,!1).trim().replace(/^(?!.*#)/,"#");let n=t.baseURI;if(n&&"about:blank"!=n||(n=window.location.href),n){const t=new URL(e,n);return t.href}return e}function lt(t){const e=t.getAttribute("xunits"),n=t.getAttribute("yunits");let i;return i="insetPixels"!==e?"insetPixels"!==n?"bottom-left":"top-left":"insetPixels"!==n?"bottom-right":"top-right",{x:parseFloat(t.getAttribute("x")),xunits:P[e],y:parseFloat(t.getAttribute("y")),yunits:P[n],origin:i}}function ct(t){return(0,I.e4)(t)}const ut=(0,y.Dm)(x,{Pair:Xt});function ht(t,e){return(0,y.eY)(void 0,ut,t,e,this)}const dt=(0,y.Dm)(x,{Icon:(0,y.kW)(Pt),color:(0,y.kW)(rt),heading:(0,y.kW)(I.e4),hotSpot:(0,y.kW)(lt),scale:(0,y.kW)(ct)});function pt(t,e){const n=(0,y.eY)({},dt,t,e);if(!n)return;const i=e[e.length-1],r="Icon"in n?n["Icon"]:{},o=!("Icon"in n)||Object.keys(r).length>0;let l;const c=r["href"];let u,h,d;c?l=c:o&&(l=j);let p="bottom-left";const g=n["hotSpot"];let f;g?(u=[g.x,g.y],h=g.xunits,d=g.yunits,p=g.origin):/^https?:\/\/maps\.(?:google|gstatic)\.com\//.test(l)&&(l.includes("pushpin")?(u=N,h=F,d=U):l.includes("arrow-reverse")?(u=[54,42],h=F,d=U):l.includes("paddle")&&(u=[32,1],h=F,d=U));const m=r["x"],A=r["y"];let v;void 0!==m&&void 0!==A&&(f=[m,A]);const _=r["w"],C=r["h"];let I;void 0!==_&&void 0!==C&&(v=[_,C]);const w=n["heading"];void 0!==w&&(I=(0,E.eh)(w));const b=n["scale"],x=n["color"];if(o){l==j&&(v=B);const t=new s.A({anchor:u,anchorOrigin:p,anchorXUnits:h,anchorYUnits:d,crossOrigin:this.crossOrigin_,offset:f,offsetOrigin:"bottom-left",rotation:I,scale:b,size:v,src:this.iconUrlFunction_(l),color:x}),e=t.getScaleArray()[0],n=t.getSize();if(null===n){const n=t.getImageState();if(n===a.A.IDLE||n===a.A.LOADING){const i=function(){const n=t.getImageState();if(n!==a.A.IDLE&&n!==a.A.LOADING){const n=t.getSize();if(n&&2==n.length){const i=J(n);t.setScale(e*i)}t.unlistenImageChange(i)}};t.listenImageChange(i),n===a.A.IDLE&&t.load()}}else if(2==n.length){const i=J(n);t.setScale(e*i)}i["imageStyle"]=t}else i["imageStyle"]=W}const gt=(0,y.Dm)(x,{color:(0,y.kW)(rt),scale:(0,y.kW)(ct)});function ft(t,e){const n=(0,y.eY)({},gt,t,e);if(!n)return;const i=e[e.length-1],o=new m.A({fill:new r.A({color:"color"in n?n["color"]:D}),scale:n["scale"]});i["textStyle"]=o}const mt=(0,y.Dm)(x,{color:(0,y.kW)(rt),width:(0,y.kW)(I.e4)});function At(t,e){const n=(0,y.eY)({},mt,t,e);if(!n)return;const i=e[e.length-1],r=new g.A({color:"color"in n?n["color"]:D,width:"width"in n?n["width"]:1});i["strokeStyle"]=r}const yt=(0,y.Dm)(x,{color:(0,y.kW)(rt),fill:(0,y.kW)(I.Vf),outline:(0,y.kW)(I.Vf)});function vt(t,e){const n=(0,y.eY)({},yt,t,e);if(!n)return;const i=e[e.length-1],o=new r.A({color:"color"in n?n["color"]:D});i["fillStyle"]=o;const s=n["fill"];void 0!==s&&(i["fill"]=s);const a=n["outline"];void 0!==a&&(i["outline"]=a)}const _t=(0,y.Dm)(x,{coordinates:(0,y.Tb)(ot)});function Ct(t,e){return(0,y.eY)(null,_t,t,e)}function It(t,e){const n=e[e.length-1],i=n.coordinates,r=(0,y.mT)(t,!1),o=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i,s=o.exec(r);if(s){const t=parseFloat(s[1]),e=parseFloat(s[2]),n=parseFloat(s[3]);i.push([t,e,n])}else i.push([])}const Et=(0,y.Dm)(b,{Track:(0,y.VT)(xt)});function wt(t,e){const n=(0,y.eY)([],Et,t,e);if(n)return new c.A(n)}const bt=(0,y.Dm)(x,{when:le},(0,y.Dm)(b,{coord:It}));function xt(t,e){const n=(0,y.eY)({coordinates:[],whens:[]},bt,t,e);if(!n)return;const i=[],r=n.coordinates,o=n.whens;for(let s=0,a=Math.min(r.length,o.length);s<a;++s)3==r[s].length&&i.push(r[s][0],r[s][1],r[s][2],o[s]);return new l.A(i,"XYZM")}const St=(0,y.Dm)(x,{href:(0,y.kW)(st)},(0,y.Dm)(b,{x:(0,y.kW)(I.e4),y:(0,y.kW)(I.e4),w:(0,y.kW)(I.e4),h:(0,y.kW)(I.e4)}));function Pt(t,e){const n=(0,y.eY)({},St,t,e);return n||null}const Mt=(0,y.Dm)(x,{coordinates:(0,y.Tb)(ot)});function Rt(t,e){return(0,y.eY)(null,Mt,t,e)}const Tt=(0,y.Dm)(x,{extrude:(0,y.kW)(I.Vf),tessellate:(0,y.kW)(I.Vf),altitudeMode:(0,y.kW)(I.E3)});function Gt(t,e){const n=(0,y.eY)({},Tt,t,e),i=Rt(t,e);if(i){const t=new l.A(i,"XYZ");return t.setProperties(n,!0),t}}function Lt(t,e){const n=(0,y.eY)({},Tt,t,e),i=Rt(t,e);if(i){const t=new p.Ay(i,"XYZ",[i.length]);return t.setProperties(n,!0),t}}const kt=(0,y.Dm)(x,{LineString:(0,y.VT)(Gt),LinearRing:(0,y.VT)(Lt),MultiGeometry:(0,y.VT)(Ot),Point:(0,y.VT)(Dt),Polygon:(0,y.VT)(Ft)});function Ot(t,e){const n=(0,y.eY)([],kt,t,e);if(!n)return null;if(0===n.length)return new o.A(n);let i,r=!0;const s=n[0].getType();let a;for(let o=1,l=n.length;o<l;++o)if(a=n[o],a.getType()!=s){r=!1;break}if(r){let t,e;if("Point"==s){const r=n[0];t=r.getLayout(),e=r.getFlatCoordinates();for(let t=1,i=n.length;t<i;++t)a=n[t],(0,_.X$)(e,a.getFlatCoordinates());i=new u.A(e,t),jt(i,n)}else if("LineString"==s)i=new c.A(n),jt(i,n);else if("Polygon"==s)i=new h.A(n),jt(i,n);else{if("GeometryCollection"!=s)throw new Error("Unknown geometry type found");i=new o.A(n)}}else i=new o.A(n);return i}function Dt(t,e){const n=(0,y.eY)({},Tt,t,e),i=Rt(t,e);if(i){const t=new d.A(i,"XYZ");return t.setProperties(n,!0),t}}const Nt=(0,y.Dm)(x,{innerBoundaryIs:re,outerBoundaryIs:se});function Ft(t,e){const n=(0,y.eY)({},Tt,t,e),i=(0,y.eY)([null],Nt,t,e);if(i&&i[0]){const t=i[0],e=[t.length];for(let n=1,o=i.length;n<o;++n)(0,_.X$)(t,i[n]),e.push(t.length);const r=new p.Ay(t,"XYZ",e);return r.setProperties(n,!0),r}}const Ut=(0,y.Dm)(x,{IconStyle:pt,LabelStyle:ft,LineStyle:At,PolyStyle:vt});function Bt(t,e){const n=(0,y.eY)({},Ut,t,e,this);if(!n)return null;let i="fillStyle"in n?n["fillStyle"]:z;const r=n["fill"];let s;void 0===r||r||(i=null),"imageStyle"in n?n["imageStyle"]!=W&&(s=n["imageStyle"]):s=V;const a="textStyle"in n?n["textStyle"]:q,l="strokeStyle"in n?n["strokeStyle"]:H,c=n["outline"];return void 0===c||c?[new f.Ay({fill:i,image:s,stroke:l,text:a,zIndex:void 0})]:[new f.Ay({geometry:function(t){const e=t.getGeometry(),n=e.getType();if("GeometryCollection"===n){const t=e;return new o.A(t.getGeometriesArrayRecursive().filter((function(t){const e=t.getType();return"Polygon"!==e&&"MultiPolygon"!==e})))}if("Polygon"!==n&&"MultiPolygon"!==n)return e},fill:i,image:s,stroke:l,text:a,zIndex:void 0}),new f.Ay({geometry:function(t){const e=t.getGeometry(),n=e.getType();if("GeometryCollection"===n){const t=e;return new o.A(t.getGeometriesArrayRecursive().filter((function(t){const e=t.getType();return"Polygon"===e||"MultiPolygon"===e})))}if("Polygon"===n||"MultiPolygon"===n)return e},fill:i,stroke:null,zIndex:void 0})]}function jt(t,e){const n=e.length,i=new Array(e.length),r=new Array(e.length),o=new Array(e.length);let s,a,l;s=!1,a=!1,l=!1;for(let c=0;c<n;++c){const t=e[c];i[c]=t.get("extrude"),r[c]=t.get("tessellate"),o[c]=t.get("altitudeMode"),s=s||void 0!==i[c],a=a||void 0!==r[c],l=l||o[c]}s&&t.set("extrude",i),a&&t.set("tessellate",r),l&&t.set("altitudeMode",o)}const zt=(0,y.Dm)(x,{displayName:(0,y.kW)(I.E3),value:(0,y.kW)(I.E3)});function Wt(t,e){const n=t.getAttribute("name");(0,y.UN)(zt,t,e);const i=e[e.length-1];n&&i.displayName?i[n]={value:i.value,displayName:i.displayName,toString:function(){return i.value}}:null!==n?i[n]=i.value:null!==i.displayName&&(i[i.displayName]=i.value),delete i["value"]}const Vt=(0,y.Dm)(x,{Data:Wt,SchemaData:Jt});function Yt(t,e){(0,y.UN)(Vt,t,e)}function Ht(t,e){(0,y.UN)(L,t,e)}const qt=(0,y.Dm)(x,{Style:(0,y.kW)(Bt),key:(0,y.kW)(I.E3),styleUrl:(0,y.kW)(at)});function Xt(t,e){const n=(0,y.eY)({},qt,t,e,this);if(!n)return;const i=n["key"];if(i&&"normal"==i){const t=n["styleUrl"];t&&(e[e.length-1]=t);const i=n["Style"];i&&(e[e.length-1]=i)}}function Zt(t,e){const n=ht.call(this,t,e);if(!n)return;const i=e[e.length-1];if(Array.isArray(n))i["Style"]=n;else{if("string"!==typeof n)throw new Error("`styleMapValue` has an unknown type");i["styleUrl"]=n}}const Kt=(0,y.Dm)(x,{SimpleData:Qt});function Jt(t,e){(0,y.UN)(Kt,t,e)}function Qt(t,e){const n=t.getAttribute("name");if(null!==n){const i=(0,I.E3)(t),r=e[e.length-1];r[n]=i}}const $t=(0,y.Dm)(x,{altitudeMode:(0,y.kW)(I.E3),minAltitude:(0,y.kW)(I.e4),maxAltitude:(0,y.kW)(I.e4),north:(0,y.kW)(I.e4),south:(0,y.kW)(I.e4),east:(0,y.kW)(I.e4),west:(0,y.kW)(I.e4)});function te(t,e){const n=(0,y.eY)({},$t,t,e);if(!n)return;const i=e[e.length-1],r=[parseFloat(n["west"]),parseFloat(n["south"]),parseFloat(n["east"]),parseFloat(n["north"])];i["extent"]=r,i["altitudeMode"]=n["altitudeMode"],i["minAltitude"]=parseFloat(n["minAltitude"]),i["maxAltitude"]=parseFloat(n["maxAltitude"])}const ee=(0,y.Dm)(x,{minLodPixels:(0,y.kW)(I.e4),maxLodPixels:(0,y.kW)(I.e4),minFadeExtent:(0,y.kW)(I.e4),maxFadeExtent:(0,y.kW)(I.e4)});function ne(t,e){const n=(0,y.eY)({},ee,t,e);if(!n)return;const i=e[e.length-1];i["minLodPixels"]=parseFloat(n["minLodPixels"]),i["maxLodPixels"]=parseFloat(n["maxLodPixels"]),i["minFadeExtent"]=parseFloat(n["minFadeExtent"]),i["maxFadeExtent"]=parseFloat(n["maxFadeExtent"])}const ie=(0,y.Dm)(x,{LinearRing:(0,y.VT)(Ct)});function re(t,e){const n=(0,y.eY)([],ie,t,e);if(n.length>0){const t=e[e.length-1];t.push(...n)}}const oe=(0,y.Dm)(x,{LinearRing:(0,y.Tb)(Ct)});function se(t,e){const n=(0,y.eY)(void 0,oe,t,e);if(n){const t=e[e.length-1];t[0]=n}}function ae(t,e){(0,y.UN)(T,t,e)}function le(t,e){const n=e[e.length-1],i=n.whens,r=(0,y.mT)(t,!1),o=Date.parse(r);i.push(isNaN(o)?0:o)}function ce(t,e){const n=(0,v._j)(e),i=4==n.length?n[3]:1,r=[255*i,n[2],n[1],n[0]];for(let o=0;o<4;++o){const t=Math.floor(r[o]).toString(16);r[o]=1==t.length?"0"+t:t}(0,I.uB)(t,r.join(""))}function ue(t,e,n){const i=n[n.length-1],r=i["layout"],o=i["stride"];let s;if("XY"==r||"XYM"==r)s=2;else{if("XYZ"!=r&&"XYZM"!=r)throw new Error("Invalid geometry layout");s=3}const a=e.length;let l="";if(a>0){l+=e[0];for(let t=1;t<s;++t)l+=","+e[t];for(let t=o;t<a;t+=o){l+=" "+e[t];for(let n=1;n<s;++n)l+=","+e[t+n]}}(0,I.uB)(t,l)}const he=(0,y.Dm)(x,{Data:(0,y.mm)(de),value:(0,y.mm)(ge),displayName:(0,y.mm)(pe)});function de(t,e,n){t.setAttribute("name",e.name);const i={node:t},r=e.value;"object"==typeof r?(null!==r&&r.displayName&&(0,y.NQ)(i,he,y.OL,[r.displayName],n,["displayName"]),null!==r&&r.value&&(0,y.NQ)(i,he,y.OL,[r.value],n,["value"])):(0,y.NQ)(i,he,y.OL,[r],n,["value"])}function pe(t,e){(0,I.Gc)(t,e)}function ge(t,e){(0,I.uB)(t,e)}const fe=(0,y.Dm)(x,{Placemark:(0,y.mm)(He)}),me=function(t,e,n){const i=e[e.length-1].node;return(0,y.qq)(i.namespaceURI,"Placemark")};function Ae(t,e,n){const i={node:t};(0,y.NQ)(i,fe,me,e,n,void 0,this)}const ye=(0,y.X1)("Data");function ve(t,e,n){const i={node:t},r=e.names,o=e.values,s=r.length;for(let a=0;a<s;a++)(0,y.NQ)(i,he,ye,[{name:r[a],value:o[a]}],n)}const _e=(0,y.Dm)(x,["href"],(0,y.Dm)(b,["x","y","w","h"])),Ce=(0,y.Dm)(x,{href:(0,y.mm)(I.uB)},(0,y.Dm)(b,{x:(0,y.mm)(I.Ko),y:(0,y.mm)(I.Ko),w:(0,y.mm)(I.Ko),h:(0,y.mm)(I.Ko)})),Ie=function(t,e,n){return(0,y.qq)(b[0],"gx:"+n)};function Ee(t,e,n){const i={node:t},r=n[n.length-1].node;let o=_e[r.namespaceURI],s=(0,y.Gl)(e,o);(0,y.NQ)(i,Ce,y.OL,s,n,o),o=_e[b[0]],s=(0,y.Gl)(e,o),(0,y.NQ)(i,Ce,Ie,s,n,o)}const we=(0,y.Dm)(x,["scale","heading","Icon","color","hotSpot"]),be=(0,y.Dm)(x,{Icon:(0,y.mm)(Ee),color:(0,y.mm)(ce),heading:(0,y.mm)(I.Ko),hotSpot:(0,y.mm)(ln),scale:(0,y.mm)(rn)});function xe(t,e,n){const i={node:t},r={},o=e.getSrc(),s=e.getSize(),a=e.getImageSize(),l={href:o};if(s){l["w"]=s[0],l["h"]=s[1];const t=e.getAnchor(),n=e.getOrigin();if(n&&a&&0!==n[0]&&n[1]!==s[1]&&(l["x"]=n[0],l["y"]=a[1]-(n[1]+s[1])),t&&(t[0]!==s[0]/2||t[1]!==s[1]/2)){const e={x:t[0],xunits:"pixels",y:s[1]-t[1],yunits:"pixels"};r["hotSpot"]=e}}r["Icon"]=l;let c=e.getScaleArray()[0],u=s;if(null===u&&(u=B),2==u.length){const t=J(u);c/=t}1!==c&&(r["scale"]=c);const h=e.getRotation();0!==h&&(r["heading"]=h);const d=e.getColor();d&&(r["color"]=d);const p=n[n.length-1].node,g=we[p.namespaceURI],f=(0,y.Gl)(r,g);(0,y.NQ)(i,be,y.OL,f,n,g)}const Se=(0,y.Dm)(x,["color","scale"]),Pe=(0,y.Dm)(x,{color:(0,y.mm)(ce),scale:(0,y.mm)(rn)});function Me(t,e,n){const i={node:t},r={},o=e.getFill();o&&(r["color"]=o.getColor());const s=e.getScale();s&&1!==s&&(r["scale"]=s);const a=n[n.length-1].node,l=Se[a.namespaceURI],c=(0,y.Gl)(r,l);(0,y.NQ)(i,Pe,y.OL,c,n,l)}const Re=(0,y.Dm)(x,["color","width"]),Te=(0,y.Dm)(x,{color:(0,y.mm)(ce),width:(0,y.mm)(I.Ko)});function Ge(t,e,n){const i={node:t},r={color:e.getColor(),width:Number(e.getWidth())||1},o=n[n.length-1].node,s=Re[o.namespaceURI],a=(0,y.Gl)(r,s);(0,y.NQ)(i,Te,y.OL,a,n,s)}const Le={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},ke=function(t,e,n){if(t){const n=e[e.length-1].node;return(0,y.qq)(n.namespaceURI,Le[t.getType()])}},Oe=(0,y.X1)("Point"),De=(0,y.X1)("LineString"),Ne=(0,y.X1)("LinearRing"),Fe=(0,y.X1)("Polygon"),Ue=(0,y.Dm)(x,{LineString:(0,y.mm)(Ze),Point:(0,y.mm)(Ze),Polygon:(0,y.mm)(tn),GeometryCollection:(0,y.mm)(Be)});function Be(t,e,n){const i={node:t},r=e.getType();let o,s=[];if("GeometryCollection"===r)e.getGeometriesArrayRecursive().forEach((function(t){const e=t.getType();if("MultiPoint"===e)s=s.concat(t.getPoints());else if("MultiLineString"===e)s=s.concat(t.getLineStrings());else if("MultiPolygon"===e)s=s.concat(t.getPolygons());else{if("Point"!==e&&"LineString"!==e&&"Polygon"!==e)throw new Error("Unknown geometry type");s.push(t)}})),o=ke;else if("MultiPoint"===r)s=e.getPoints(),o=Oe;else if("MultiLineString"===r)s=e.getLineStrings(),o=De;else{if("MultiPolygon"!==r)throw new Error("Unknown geometry type");s=e.getPolygons(),o=Fe}(0,y.NQ)(i,Ue,o,s,n)}const je=(0,y.Dm)(x,{LinearRing:(0,y.mm)(Ze)});function ze(t,e,n){const i={node:t};(0,y.NQ)(i,je,Ne,[e],n)}const We=(0,y.Dm)(x,{ExtendedData:(0,y.mm)(ve),MultiGeometry:(0,y.mm)(Be),LineString:(0,y.mm)(Ze),LinearRing:(0,y.mm)(Ze),Point:(0,y.mm)(Ze),Polygon:(0,y.mm)(tn),Style:(0,y.mm)(an),address:(0,y.mm)(I.uB),description:(0,y.mm)(I.uB),name:(0,y.mm)(I.uB),open:(0,y.mm)(I.Z3),phoneNumber:(0,y.mm)(I.uB),styleUrl:(0,y.mm)(I.uB),visibility:(0,y.mm)(I.Z3)}),Ve=(0,y.Dm)(x,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),Ye=(0,y.X1)("ExtendedData");function He(t,e,n){const i={node:t};e.getId()&&t.setAttribute("id",e.getId());const r=e.getProperties(),o={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};o[e.getGeometryName()]=1;const s=Object.keys(r||{}).sort().filter((function(t){return!o[t]})),a=e.getStyleFunction();if(a){const t=a(e,0);if(t){const n=Array.isArray(t)?t:[t];let i=n;if(e.getGeometry()&&(i=n.filter((function(t){const n=t.getGeometryFunction()(e);if(n){const t=n.getType();return"GeometryCollection"===t?n.getGeometriesArrayRecursive().filter((function(t){const e=t.getType();return"Point"===e||"MultiPoint"===e})).length:"Point"===t||"MultiPoint"===t}}))),this.writeStyles_){let t=n,o=n;e.getGeometry()&&(t=n.filter((function(t){const n=t.getGeometryFunction()(e);if(n){const t=n.getType();return"GeometryCollection"===t?n.getGeometriesArrayRecursive().filter((function(t){const e=t.getType();return"LineString"===e||"MultiLineString"===e})).length:"LineString"===t||"MultiLineString"===t}})),o=n.filter((function(t){const n=t.getGeometryFunction()(e);if(n){const t=n.getType();return"GeometryCollection"===t?n.getGeometriesArrayRecursive().filter((function(t){const e=t.getType();return"Polygon"===e||"MultiPolygon"===e})).length:"Polygon"===t||"MultiPolygon"===t}}))),r["Style"]={pointStyles:i,lineStyles:t,polyStyles:o}}if(i.length&&void 0===r["name"]){const t=i[0].getText();t&&(r["name"]=t.getText())}}}const l=n[n.length-1].node,c=Ve[l.namespaceURI],u=(0,y.Gl)(r,c);if((0,y.NQ)(i,We,y.OL,u,n,c),s.length>0){const t=(0,y.Gl)(r,s),e={names:s,values:t};(0,y.NQ)(i,We,Ye,[e],n)}const h=n[0];let d=e.getGeometry();d&&(d=(0,w.hX)(d,!0,h)),(0,y.NQ)(i,We,ke,[d],n)}const qe=(0,y.Dm)(x,["extrude","tessellate","altitudeMode","coordinates"]),Xe=(0,y.Dm)(x,{extrude:(0,y.mm)(I.Z3),tessellate:(0,y.mm)(I.Z3),altitudeMode:(0,y.mm)(I.uB),coordinates:(0,y.mm)(ue)});function Ze(t,e,n){const i=e.getFlatCoordinates(),r={node:t};r["layout"]=e.getLayout(),r["stride"]=e.getStride();const o=e.getProperties();o.coordinates=i;const s=n[n.length-1].node,a=qe[s.namespaceURI],l=(0,y.Gl)(o,a);(0,y.NQ)(r,Xe,y.OL,l,n,a)}const Ke=(0,y.Dm)(x,["color","fill","outline"]),Je=(0,y.Dm)(x,{outerBoundaryIs:(0,y.mm)(ze),innerBoundaryIs:(0,y.mm)(ze)}),Qe=(0,y.X1)("innerBoundaryIs"),$e=(0,y.X1)("outerBoundaryIs");function tn(t,e,n){const i=e.getLinearRings(),r=i.shift(),o={node:t};(0,y.NQ)(o,Je,Qe,i,n),(0,y.NQ)(o,Je,$e,[r],n)}const en=(0,y.Dm)(x,{color:(0,y.mm)(ce),fill:(0,y.mm)(I.Z3),outline:(0,y.mm)(I.Z3)});function nn(t,e,n){const i={node:t},r=e.getFill(),o=e.getStroke(),s={color:r?r.getColor():void 0,fill:!!r&&void 0,outline:!!o&&void 0},a=n[n.length-1].node,l=Ke[a.namespaceURI],c=(0,y.Gl)(s,l);(0,y.NQ)(i,en,y.OL,c,n,l)}function rn(t,e){(0,I.Ko)(t,Math.round(1e6*e)/1e6)}const on=(0,y.Dm)(x,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),sn=(0,y.Dm)(x,{IconStyle:(0,y.mm)(xe),LabelStyle:(0,y.mm)(Me),LineStyle:(0,y.mm)(Ge),PolyStyle:(0,y.mm)(nn)});function an(t,e,n){const i={node:t},r={};if(e.pointStyles.length){const t=e.pointStyles[0].getText();t&&(r["LabelStyle"]=t);const n=e.pointStyles[0].getImage();n&&"function"===typeof n.getSrc&&(r["IconStyle"]=n)}if(e.lineStyles.length){const t=e.lineStyles[0].getStroke();t&&(r["LineStyle"]=t)}if(e.polyStyles.length){const t=e.polyStyles[0].getStroke();t&&!r["LineStyle"]&&(r["LineStyle"]=t),r["PolyStyle"]=e.polyStyles[0]}const o=n[n.length-1].node,s=on[o.namespaceURI],a=(0,y.Gl)(r,s);(0,y.NQ)(i,sn,y.OL,a,n,s)}function ln(t,e){t.setAttribute("x",String(e.x)),t.setAttribute("y",String(e.y)),t.setAttribute("xunits",e.xunits),t.setAttribute("yunits",e.yunits)}e.Ay=tt},6319:function(t,e,n){"use strict";var i=n(2910),r=n(5752),o=n(3851),s=n(3387);class a extends i.Ay{constructor(){super(),this.xmlSerializer_=(0,s.mc)()}getType(){return"xml"}readFeature(t,e){if(!t)return null;if("string"===typeof t){const n=(0,s.qg)(t);return this.readFeatureFromDocument(n,e)}return(0,s.wz)(t)?this.readFeatureFromDocument(t,e):this.readFeatureFromNode(t,e)}readFeatureFromDocument(t,e){const n=this.readFeaturesFromDocument(t,e);return n.length>0?n[0]:null}readFeatureFromNode(t,e){return null}readFeatures(t,e){if(!t)return[];if("string"===typeof t){const n=(0,s.qg)(t);return this.readFeaturesFromDocument(n,e)}return(0,s.wz)(t)?this.readFeaturesFromDocument(t,e):this.readFeaturesFromNode(t,e)}readFeaturesFromDocument(t,e){const n=[];for(let i=t.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&(0,o.X$)(n,this.readFeaturesFromNode(i,e));return n}readFeaturesFromNode(t,e){return(0,r.b0)()}readGeometry(t,e){if(!t)return null;if("string"===typeof t){const n=(0,s.qg)(t);return this.readGeometryFromDocument(n,e)}return(0,s.wz)(t)?this.readGeometryFromDocument(t,e):this.readGeometryFromNode(t,e)}readGeometryFromDocument(t,e){return null}readGeometryFromNode(t,e){return null}readProjection(t){if(!t)return null;if("string"===typeof t){const e=(0,s.qg)(t);return this.readProjectionFromDocument(e)}return(0,s.wz)(t)?this.readProjectionFromDocument(t):this.readProjectionFromNode(t)}readProjectionFromDocument(t){return this.dataProjection}readProjectionFromNode(t){return this.dataProjection}writeFeature(t,e){const n=this.writeFeatureNode(t,e);return this.xmlSerializer_.serializeToString(n)}writeFeatureNode(t,e){return null}writeFeatures(t,e){const n=this.writeFeaturesNode(t,e);return this.xmlSerializer_.serializeToString(n)}writeFeaturesNode(t,e){return null}writeGeometry(t,e){const n=this.writeGeometryNode(t,e);return this.xmlSerializer_.serializeToString(n)}writeGeometryNode(t,e){return null}}e.A=a},3895:function(t,e,n){"use strict";n.d(e,{E3:function(){return d},Gc:function(){return g},Ko:function(){return m},P9:function(){return c},Vf:function(){return o},Z3:function(){return p},_I:function(){return a},_X:function(){return h},cS:function(){return f},e4:function(){return l},gC:function(){return s},pE:function(){return A},uB:function(){return y},yg:function(){return u}});var i=n(3387),r=n(5109);function o(t){const e=(0,i.mT)(t,!1);return s(e)}function s(t){const e=/^\s*(true|1)|(false|0)\s*$/.exec(t);if(e)return void 0!==e[1]||!1}function a(t){const e=(0,i.mT)(t,!1),n=Date.parse(e);return isNaN(n)?void 0:n/1e3}function l(t){const e=(0,i.mT)(t,!1);return c(e)}function c(t){const e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t);if(e)return parseFloat(e[1])}function u(t){const e=(0,i.mT)(t,!1);return h(e)}function h(t){const e=/^\s*(\d+)\s*$/.exec(t);if(e)return parseInt(e[1],10)}function d(t){return(0,i.mT)(t,!1).trim()}function p(t,e){y(t,e?"1":"0")}function g(t,e){t.appendChild((0,i.YE)().createCDATASection(e))}function f(t,e){const n=new Date(1e3*e),o=n.getUTCFullYear()+"-"+(0,r.H)(n.getUTCMonth()+1,2)+"-"+(0,r.H)(n.getUTCDate(),2)+"T"+(0,r.H)(n.getUTCHours(),2)+":"+(0,r.H)(n.getUTCMinutes(),2)+":"+(0,r.H)(n.getUTCSeconds(),2)+"Z";t.appendChild((0,i.YE)().createTextNode(o))}function m(t,e){const n=e.toPrecision();t.appendChild((0,i.YE)().createTextNode(n))}function A(t,e){const n=e.toString();t.appendChild((0,i.YE)().createTextNode(n))}function y(t,e){t.appendChild((0,i.YE)().createTextNode(e))}},9331:function(t,e,n){"use strict";n.d(e,{B4:function(){return a},W8:function(){return o},hq:function(){return l},rT:function(){return r},tV:function(){return s}});var i=n(3851);function r(){return!0}function o(){return!1}function s(){}function a(t){let e,n,r,o=!1;return function(){const s=Array.prototype.slice.call(arguments);return o&&this===r&&(0,i.aI)(s,n)||(o=!0,r=this,n=s,e=t.apply(this,arguments)),e}}function l(t){function e(){let e;try{e=t()}catch(n){return Promise.reject(n)}return e instanceof Promise?e:Promise.resolve(e)}return e()}},3471:function(t,e,n){"use strict";var i=n(1611),r=n(5752),o=n(1194),s=n(7444),a=n(5857),l=n(9331),c=n(3371);const u=(0,o.vt)();class h extends i.A{constructor(){super(),this.extent_=(0,s.S5)(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=(0,l.B4)(((t,e,n)=>{if(!n)return this.getSimplifiedGeometry(e);const i=this.clone();return i.applyTransform(n),i.getSimplifiedGeometry(e)}))}simplifyTransformed(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)}clone(){return(0,r.b0)()}closestPointXY(t,e,n,i){return(0,r.b0)()}containsXY(t,e){const n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e}getClosestPoint(t,e){return e=e||[NaN,NaN],this.closestPointXY(t[0],t[1],e,1/0),e}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return(0,r.b0)()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&(0,s.aZ)(t),this.extentRevision_=this.getRevision()}return(0,s.$u)(this.extent_,t)}rotate(t,e){(0,r.b0)()}scale(t,e,n){(0,r.b0)()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return(0,r.b0)()}getType(){return(0,r.b0)()}applyTransform(t){(0,r.b0)()}intersectsExtent(t){return(0,r.b0)()}translate(t,e){(0,r.b0)()}transform(t,e){const n=(0,a.Jt)(t),i="tile-pixels"==n.getUnits()?function(t,i,r){const l=n.getExtent(),h=n.getWorldExtent(),d=(0,s.Oq)(h)/(0,s.Oq)(l);return(0,o.Zz)(u,h[0],h[3],d,-d,0,0,0),(0,c.Rc)(t,0,t.length,r,u,i),(0,a.RG)(n,e)(t,i,r)}:(0,a.RG)(n,e);return this.applyTransform(i),this}}e.A=h},7739:function(t,e,n){"use strict";n(4114);var i=n(7582),r=n(3471),o=n(7444),s=n(8965);class a extends r.A{constructor(t){super(),this.geometries_=t||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(s.JH),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(this.geometries_)for(let t=0,e=this.geometries_.length;t<e;++t)this.changeEventsKeys_.push((0,s.KT)(this.geometries_[t],i.A.CHANGE,this.changed,this))}clone(){const t=new a(null);return t.setGeometries(this.geometries_),t.applyProperties(this),t}closestPointXY(t,e,n,i){if(i<(0,o.Ld)(this.getExtent(),t,e))return i;const r=this.geometries_;for(let o=0,s=r.length;o<s;++o)i=r[o].closestPointXY(t,e,n,i);return i}containsXY(t,e){const n=this.geometries_;for(let i=0,r=n.length;i<r;++i)if(n[i].containsXY(t,e))return!0;return!1}computeExtent(t){(0,o.aZ)(t);const e=this.geometries_;for(let n=0,i=e.length;n<i;++n)(0,o.X$)(t,e[n].getExtent());return t}getGeometries(){return l(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let t=[];const e=this.geometries_;for(let n=0,i=e.length;n<i;++n)e[n].getType()===this.getType()?t=t.concat(e[n].getGeometriesArrayRecursive()):t.push(e[n]);return t}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=[],n=this.geometries_;let i=!1;for(let r=0,o=n.length;r<o;++r){const o=n[r],s=o.getSimplifiedGeometry(t);e.push(s),s!==o&&(i=!0)}if(i){const t=new a(null);return t.setGeometriesArray(e),t}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this}getType(){return"GeometryCollection"}intersectsExtent(t){const e=this.geometries_;for(let n=0,i=e.length;n<i;++n)if(e[n].intersectsExtent(t))return!0;return!1}isEmpty(){return 0===this.geometries_.length}rotate(t,e){const n=this.geometries_;for(let i=0,r=n.length;i<r;++i)n[i].rotate(t,e);this.changed()}scale(t,e,n){n||(n=(0,o.q1)(this.getExtent()));const i=this.geometries_;for(let r=0,o=i.length;r<o;++r)i[r].scale(t,e,n);this.changed()}setGeometries(t){this.setGeometriesArray(l(t))}setGeometriesArray(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()}applyTransform(t){const e=this.geometries_;for(let n=0,i=e.length;n<i;++n)e[n].applyTransform(t);this.changed()}translate(t,e){const n=this.geometries_;for(let i=0,r=n.length;i<r;++i)n[i].translate(t,e);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function l(t){const e=[];for(let n=0,i=t.length;n<i;++n)e.push(t[n].clone());return e}e.A=a},3496:function(t,e,n){"use strict";var i=n(3665),r=n(6072),o=n(7444),s=n(6320),a=n(3344),l=n(3851),c=n(8601),u=n(4476),h=n(5572),d=n(1814),p=n(5907);class g extends i.Ay{constructor(t,e){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?this.setCoordinates(t,e):this.setFlatCoordinates(e,t)}appendCoordinate(t){(0,l.X$)(this.flatCoordinates,t),this.changed()}clone(){const t=new g(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,n,i){return i<(0,o.Ld)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,r.MD)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,r.n)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,i))}forEachSegment(t){return(0,c.j)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinateAtM(t,e){return"XYM"!=this.layout&&"XYZM"!=this.layout?null:(e=void 0!==e&&e,(0,h.gr)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e))}getCoordinates(){return(0,u.n2)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(t,e){return(0,h.SH)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)}getLength(){return(0,p.k)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(t){const e=[];return e.length=(0,a.P4)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new g(e,"XY")}getType(){return"LineString"}intersectsExtent(t){return(0,d.gp)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,s.z2)(this.flatCoordinates,0,t,this.stride),this.changed()}}e.A=g},5940:function(t,e,n){"use strict";var i=n(3665),r=n(6072),o=n(7444),s=n(6320),a=n(3344),l=n(4476),c=n(1522);class u extends i.Ay{constructor(t,e){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?this.setCoordinates(t,e):this.setFlatCoordinates(e,t)}clone(){return new u(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,e,n,i){return i<(0,o.Ld)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,r.MD)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,r.n)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,i))}getArea(){return(0,c.eN)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return(0,l.n2)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const e=[];return e.length=(0,a.P4)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new u(e,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,s.z2)(this.flatCoordinates,0,t,this.stride),this.changed()}}e.A=u},8957:function(t,e,n){"use strict";n(4114);var i=n(3496),r=n(3665),o=n(6072),s=n(7444),a=n(6320),l=n(3344),c=n(3851),u=n(4476),h=n(5572),d=n(1814);class p extends r.Ay{constructor(t,e,n){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(t[0]))this.setCoordinates(t,e);else if(void 0!==e&&n)this.setFlatCoordinates(e,t),this.ends_=n;else{const e=t,n=[],i=[];for(let t=0,o=e.length;t<o;++t){const r=e[t];(0,c.X$)(n,r.getFlatCoordinates()),i.push(n.length)}const r=0===e.length?this.getLayout():e[0].getLayout();this.setFlatCoordinates(r,n),this.ends_=i}}appendLineString(t){(0,c.X$)(this.flatCoordinates,t.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new p(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,e,n,i){return i<(0,s.Ld)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,o.HX)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,o.oW)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,i))}getCoordinateAtM(t,e,n){return"XYM"!=this.layout&&"XYZM"!=this.layout||0===this.flatCoordinates.length?null:(e=void 0!==e&&e,n=void 0!==n&&n,(0,h.L8)(this.flatCoordinates,0,this.ends_,this.stride,t,e,n))}getCoordinates(){return(0,u.cD)(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(t){return t<0||this.ends_.length<=t?null:new i.A(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLineStrings(){const t=this.flatCoordinates,e=this.ends_,n=this.layout,r=[];let o=0;for(let s=0,a=e.length;s<a;++s){const a=e[s],l=new i.A(t.slice(o,a),n);r.push(l),o=a}return r}getFlatMidpoints(){const t=[],e=this.flatCoordinates;let n=0;const i=this.ends_,r=this.stride;for(let o=0,s=i.length;o<s;++o){const s=i[o],a=(0,h.SH)(e,n,s,r,.5);(0,c.X$)(t,a),n=s}return t}getSimplifiedGeometryInternal(t){const e=[],n=[];return e.length=(0,l.AL)(this.flatCoordinates,0,this.ends_,this.stride,t,e,0,n),new p(e,"XY",n)}getType(){return"MultiLineString"}intersectsExtent(t){return(0,d.fB)(this.flatCoordinates,0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=(0,a.KG)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}e.A=p},5522:function(t,e,n){"use strict";n(4114);var i=n(8225),r=n(3665),o=n(7444),s=n(6320),a=n(3851),l=n(4476),c=n(5674);class u extends r.Ay{constructor(t,e){super(),e&&!Array.isArray(t[0])?this.setFlatCoordinates(e,t):this.setCoordinates(t,e)}appendPoint(t){(0,a.X$)(this.flatCoordinates,t.getFlatCoordinates()),this.changed()}clone(){const t=new u(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,n,i){if(i<(0,o.Ld)(this.getExtent(),t,e))return i;const r=this.flatCoordinates,s=this.stride;for(let o=0,a=r.length;o<a;o+=s){const a=(0,c.hG)(t,e,r[o],r[o+1]);if(a<i){i=a;for(let t=0;t<s;++t)n[t]=r[o+t];n.length=s}}return i}getCoordinates(){return(0,l.n2)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(t){const e=this.flatCoordinates.length/this.stride;return t<0||e<=t?null:new i.A(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)}getPoints(){const t=this.flatCoordinates,e=this.layout,n=this.stride,r=[];for(let o=0,s=t.length;o<s;o+=n){const s=new i.A(t.slice(o,o+n),e);r.push(s)}return r}getType(){return"MultiPoint"}intersectsExtent(t){const e=this.flatCoordinates,n=this.stride;for(let i=0,r=e.length;i<r;i+=n){const n=e[i],r=e[i+1];if((0,o.Rj)(t,n,r))return!0}return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,s.z2)(this.flatCoordinates,0,t,this.stride),this.changed()}}e.A=u},5258:function(t,e,n){"use strict";n(4114);var i=n(5522),r=n(3313),o=n(3665),s=n(6072),a=n(7444),l=n(6320),c=n(3851),u=n(7689),h=n(4476),d=n(1814),p=n(1853),g=n(1522),f=n(8298),m=n(8330),A=n(3344);class y extends o.Ay{constructor(t,e,n){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!n&&!Array.isArray(t[0])){const i=t,r=[],o=[];for(let t=0,e=i.length;t<e;++t){const e=i[t],n=r.length,s=e.getEnds();for(let t=0,i=s.length;t<i;++t)s[t]+=n;(0,c.X$)(r,e.getFlatCoordinates()),o.push(s)}e=0===i.length?this.getLayout():i[0].getLayout(),t=r,n=o}void 0!==e&&n?(this.setFlatCoordinates(e,t),this.endss_=n):this.setCoordinates(t,e)}appendPolygon(t){let e;if(this.flatCoordinates){const n=this.flatCoordinates.length;(0,c.X$)(this.flatCoordinates,t.getFlatCoordinates()),e=t.getEnds().slice();for(let t=0,i=e.length;t<i;++t)e[t]+=n}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()}clone(){const t=this.endss_.length,e=new Array(t);for(let i=0;i<t;++i)e[i]=this.endss_[i].slice();const n=new y(this.flatCoordinates.slice(),this.layout,e);return n.applyProperties(this),n}closestPointXY(t,e,n,i){return i<(0,a.Ld)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,s.c)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,s.te)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,n,i))}containsXY(t,e){return(0,m.Gd)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)}getArea(){return(0,g.Cs)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(t){let e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),(0,p.NK)(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,(0,h.Dz)(e,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const t=(0,f.C)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=(0,u.p)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new i.A(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;(0,p.mb)(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=(0,p.NK)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const e=[],n=[];return e.length=(0,A.sx)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),e,0,n),new y(e,"XY",n)}getPolygon(t){if(t<0||this.endss_.length<=t)return null;let e;if(0===t)e=0;else{const n=this.endss_[t-1];e=n[n.length-1]}const n=this.endss_[t].slice(),i=n[n.length-1];if(0!==e)for(let r=0,o=n.length;r<o;++r)n[r]-=e;return new r.Ay(this.flatCoordinates.slice(e,i),this.layout,n)}getPolygons(){const t=this.layout,e=this.flatCoordinates,n=this.endss_,i=[];let o=0;for(let s=0,a=n.length;s<a;++s){const a=n[s].slice(),l=a[a.length-1];if(0!==o)for(let t=0,e=a.length;t<e;++t)a[t]-=o;const c=new r.Ay(e.slice(o,l),t,a);i.push(c),o=l}return i}getType(){return"MultiPolygon"}intersectsExtent(t){return(0,d.Wp)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);const n=(0,l.d6)(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{const t=n[n.length-1];this.flatCoordinates.length=0===t.length?0:t[t.length-1]}this.changed()}}e.A=y},8225:function(t,e,n){"use strict";var i=n(3665),r=n(7444),o=n(6320),s=n(5674);class a extends i.Ay{constructor(t,e){super(),this.setCoordinates(t,e)}clone(){const t=new a(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,n,i){const r=this.flatCoordinates,o=(0,s.hG)(t,e,r[0],r[1]);if(o<i){const t=this.stride;for(let e=0;e<t;++e)n[e]=r[e];return n.length=t,o}return i}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return(0,r.dP)(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return(0,r.Rj)(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,o._n)(this.flatCoordinates,0,t,this.stride),this.changed()}}e.A=a},3313:function(t,e,n){"use strict";n.d(e,{VY:function(){return v},nD:function(){return _}});n(4114);var i=n(5940),r=n(8225),o=n(3665),s=n(6072),a=n(7444),l=n(6320),c=n(3851),u=n(7689),h=n(4476),d=n(1814),p=n(1853),g=n(1522),f=n(8330),m=n(5674),A=n(3344);class y extends o.Ay{constructor(t,e,n){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==e&&n?(this.setFlatCoordinates(e,t),this.ends_=n):this.setCoordinates(t,e)}appendLinearRing(t){this.flatCoordinates?(0,c.X$)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new y(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,e,n,i){return i<(0,a.Ld)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,s.HX)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,s.oW)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,i))}containsXY(t,e){return(0,f.zb)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)}getArea(){return(0,g.PK)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),(0,p.ug)(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,(0,h.cD)(e,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=(0,a.q1)(this.getExtent());this.flatInteriorPoint_=(0,u.J)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new r.A(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new i.A(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,e=this.flatCoordinates,n=this.ends_,r=[];let o=0;for(let s=0,a=n.length;s<a;++s){const a=n[s],l=new i.A(e.slice(o,a),t);r.push(l),o=a}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;(0,p.PA)(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=(0,p.ug)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const e=[],n=[];return e.length=(0,A.Hg)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,n),new y(e,"XY",n)}getType(){return"Polygon"}intersectsExtent(t){return(0,d.HT)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=(0,l.KG)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}function v(t){if((0,a.Im)(t))throw new Error("Cannot create polygon from empty extent");const e=t[0],n=t[1],i=t[2],r=t[3],o=[e,n,e,r,i,r,i,n,e,n];return new y(o,"XY",[o.length])}function _(t,e,n){e=e||32;const i=t.getStride(),r=t.getLayout(),o=t.getCenter(),s=i*(e+1),a=new Array(s);for(let u=0;u<s;u+=i){a[u]=0,a[u+1]=0;for(let t=2;t<i;t++)a[u+t]=o[t]}const l=[a.length],c=new y(a,r,l);return C(c,o,t.getRadius(),n),c}function C(t,e,n,i){const r=t.getFlatCoordinates(),o=t.getStride(),s=r.length/o-1,a=i||0;for(let l=0;l<=s;++l){const t=l*o,i=a+2*(0,m.xP)(l,s)*Math.PI/s;r[t]=e[0]+n*Math.cos(i),r[t+1]=e[1]+n*Math.sin(i)}t.changed()}e.Ay=y},3665:function(t,e,n){"use strict";n.d(e,{dn:function(){return c},p0:function(){return l},v7:function(){return u}});var i=n(3471),r=n(5752),o=n(7444),s=n(3371);class a extends i.A{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(t){return(0,o.Vy)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return(0,r.b0)()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=this.getSimplifiedGeometryInternal(t),n=e.getFlatCoordinates();return n.length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,e){this.stride=c(t),this.layout=t,this.flatCoordinates=e}setCoordinates(t,e){(0,r.b0)()}setLayout(t,e,n){let i;if(t)i=c(t);else{for(let t=0;t<n;++t){if(0===e.length)return this.layout="XY",void(this.stride=2);e=e[0]}i=e.length,t=l(i)}this.layout=t,this.stride=i}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(t,e){const n=this.getFlatCoordinates();if(n){const i=this.getStride();(0,s.e$)(n,0,n.length,i,t,e,n),this.changed()}}scale(t,e,n){void 0===e&&(e=t),n||(n=(0,o.q1)(this.getExtent()));const i=this.getFlatCoordinates();if(i){const r=this.getStride();(0,s.hs)(i,0,i.length,r,t,e,n,i),this.changed()}}translate(t,e){const n=this.getFlatCoordinates();if(n){const i=this.getStride();(0,s.Tl)(n,0,n.length,i,t,e,n),this.changed()}}}function l(t){let e;return 2==t?e="XY":3==t?e="XYZ":4==t&&(e="XYZM"),e}function c(t){let e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}function u(t,e,n){const i=t.getFlatCoordinates();if(!i)return null;const r=t.getStride();return(0,s.Rc)(i,0,i.length,r,e,n)}e.Ay=a},1522:function(t,e,n){"use strict";function i(t,e,n,i){let r=0,o=t[n-i],s=t[n-i+1];for(;e<n;e+=i){const n=t[e],i=t[e+1];r+=s*n-o*i,o=n,s=i}return r/2}function r(t,e,n,r){let o=0;for(let s=0,a=n.length;s<a;++s){const a=n[s];o+=i(t,e,a,r),e=a}return o}function o(t,e,n,i){let o=0;for(let s=0,a=n.length;s<a;++s){const a=n[s];o+=r(t,e,a,i),e=a[a.length-1]}return o}n.d(e,{Cs:function(){return o},PK:function(){return r},eN:function(){return i}})},8298:function(t,e,n){"use strict";n.d(e,{C:function(){return r}});n(4114);var i=n(7444);function r(t,e,n,r){const o=[];let s=(0,i.S5)();for(let a=0,l=n.length;a<l;++a){const l=n[a];s=(0,i.Vy)(t,e,l[0],r),o.push((s[0]+s[2])/2,(s[1]+s[3])/2),e=l[l.length-1]}return o}},6072:function(t,e,n){"use strict";n.d(e,{HX:function(){return s},MD:function(){return o},c:function(){return a},n:function(){return l},oW:function(){return c},te:function(){return u}});var i=n(5674);function r(t,e,n,r,o,s,a){const l=t[e],c=t[e+1],u=t[n]-l,h=t[n+1]-c;let d;if(0===u&&0===h)d=e;else{const p=((o-l)*u+(s-c)*h)/(u*u+h*h);if(p>1)d=n;else{if(p>0){for(let o=0;o<r;++o)a[o]=(0,i.Cc)(t[e+o],t[n+o],p);return void(a.length=r)}d=e}}for(let i=0;i<r;++i)a[i]=t[d+i];a.length=r}function o(t,e,n,r,o){let s=t[e],a=t[e+1];for(e+=r;e<n;e+=r){const n=t[e],r=t[e+1],l=(0,i.hG)(s,a,n,r);l>o&&(o=l),s=n,a=r}return o}function s(t,e,n,i,r){for(let s=0,a=n.length;s<a;++s){const a=n[s];r=o(t,e,a,i,r),e=a}return r}function a(t,e,n,i,r){for(let o=0,a=n.length;o<a;++o){const a=n[o];r=s(t,e,a,i,r),e=a[a.length-1]}return r}function l(t,e,n,o,s,a,l,c,u,h,d){if(e==n)return h;let p,g;if(0===s){if(g=(0,i.hG)(l,c,t[e],t[e+1]),g<h){for(p=0;p<o;++p)u[p]=t[e+p];return u.length=o,g}return h}d=d||[NaN,NaN];let f=e+o;while(f<n)if(r(t,f-o,f,o,l,c,d),g=(0,i.hG)(l,c,d[0],d[1]),g<h){for(h=g,p=0;p<o;++p)u[p]=d[p];u.length=o,f+=o}else f+=o*Math.max((Math.sqrt(g)-Math.sqrt(h))/s|0,1);if(a&&(r(t,n-o,e,o,l,c,d),g=(0,i.hG)(l,c,d[0],d[1]),g<h)){for(h=g,p=0;p<o;++p)u[p]=d[p];u.length=o}return h}function c(t,e,n,i,r,o,s,a,c,u,h){h=h||[NaN,NaN];for(let d=0,p=n.length;d<p;++d){const p=n[d];u=l(t,e,p,i,r,o,s,a,c,u,h),e=p}return u}function u(t,e,n,i,r,o,s,a,l,u,h){h=h||[NaN,NaN];for(let d=0,p=n.length;d<p;++d){const p=n[d];u=c(t,e,p,i,r,o,s,a,l,u,h),e=p[p.length-1]}return u}},8330:function(t,e,n){"use strict";n.d(e,{Gd:function(){return a},a_:function(){return o},t7:function(){return r},zb:function(){return s}});var i=n(7444);function r(t,e,n,r,s){const a=(0,i.sB)(s,(function(i){return!o(t,e,n,r,i[0],i[1])}));return!a}function o(t,e,n,i,r,o){let s=0,a=t[n-i],l=t[n-i+1];for(;e<n;e+=i){const n=t[e],i=t[e+1];l<=o?i>o&&(n-a)*(o-l)-(r-a)*(i-l)>0&&s++:i<=o&&(n-a)*(o-l)-(r-a)*(i-l)<0&&s--,a=n,l=i}return 0!==s}function s(t,e,n,i,r,s){if(0===n.length)return!1;if(!o(t,e,n[0],i,r,s))return!1;for(let a=1,l=n.length;a<l;++a)if(o(t,n[a-1],n[a],i,r,s))return!1;return!0}function a(t,e,n,i,r,o){if(0===n.length)return!1;for(let a=0,l=n.length;a<l;++a){const l=n[a];if(s(t,e,l,i,r,o))return!0;e=l[l.length-1]}return!1}},6320:function(t,e,n){"use strict";function i(t,e,n,i){for(let r=0,o=n.length;r<o;++r)t[e++]=n[r];return e}function r(t,e,n,i){for(let r=0,o=n.length;r<o;++r){const o=n[r];for(let n=0;n<i;++n)t[e++]=o[n]}return e}function o(t,e,n,i,o){o=o||[];let s=0;for(let a=0,l=n.length;a<l;++a){const l=r(t,e,n[a],i);o[s++]=l,e=l}return o.length=s,o}function s(t,e,n,i,r){r=r||[];let s=0;for(let a=0,l=n.length;a<l;++a){const l=o(t,e,n[a],i,r[s]);0===l.length&&(l[0]=e),r[s++]=l,e=l[l.length-1]}return r.length=s,r}n.d(e,{KG:function(){return o},_n:function(){return i},d6:function(){return s},z2:function(){return r}})},4476:function(t,e,n){"use strict";function i(t,e,n,i,r){r=void 0!==r?r:[];let o=0;for(let s=e;s<n;s+=i)r[o++]=t.slice(s,s+i);return r.length=o,r}function r(t,e,n,r,o){o=void 0!==o?o:[];let s=0;for(let a=0,l=n.length;a<l;++a){const l=n[a];o[s++]=i(t,e,l,r,o[s]),e=l}return o.length=s,o}function o(t,e,n,i,o){o=void 0!==o?o:[];let s=0;for(let a=0,l=n.length;a<l;++a){const l=n[a];o[s++]=1===l.length&&l[0]===e?[]:r(t,e,l,i,o[s]),e=l[l.length-1]}return o.length=s,o}n.d(e,{Dz:function(){return o},cD:function(){return r},n2:function(){return i}})},7689:function(t,e,n){"use strict";n.d(e,{J:function(){return o},p:function(){return s}});n(4114);var i=n(3851),r=n(8330);function o(t,e,n,o,s,a,l){let c,u,h,d,p,g,f;const m=s[a+1],A=[];for(let i=0,r=n.length;i<r;++i){const r=n[i];for(d=t[r-o],g=t[r-o+1],c=e;c<r;c+=o)p=t[c],f=t[c+1],(m<=g&&f<=m||g<=m&&m<=f)&&(h=(m-g)/(f-g)*(p-d)+d,A.push(h)),d=p,g=f}let y=NaN,v=-1/0;for(A.sort(i.V_),d=A[0],c=1,u=A.length;c<u;++c){p=A[c];const i=Math.abs(p-d);i>v&&(h=(d+p)/2,(0,r.zb)(t,e,n,o,h,m)&&(y=h,v=i)),d=p}return isNaN(y)&&(y=s[a]),l?(l.push(y,m,v),l):[y,m,v]}function s(t,e,n,i,r){let s=[];for(let a=0,l=n.length;a<l;++a){const l=n[a];s=o(t,e,l,i,r,2*a,s),e=l[l.length-1]}return s}},5572:function(t,e,n){"use strict";n.d(e,{L8:function(){return a},SH:function(){return o},gr:function(){return s}});n(4114);var i=n(3851),r=n(5674);function o(t,e,n,o,s,a,l){let c,u;const h=(n-e)/o;if(1===h)c=e;else if(2===h)c=e,u=s;else if(0!==h){let r=t[e],a=t[e+1],l=0;const h=[0];for(let i=e+o;i<n;i+=o){const e=t[i],n=t[i+1];l+=Math.sqrt((e-r)*(e-r)+(n-a)*(n-a)),h.push(l),r=e,a=n}const d=s*l,p=(0,i.El)(h,d);p<0?(u=(d-h[-p-2])/(h[-p-1]-h[-p-2]),c=e+(-p-2)*o):c=e+p*o}l=l>1?l:2,a=a||new Array(l);for(let i=0;i<l;++i)a[i]=void 0===c?NaN:void 0===u?t[c+i]:(0,r.Cc)(t[c+i],t[c+o+i],u);return a}function s(t,e,n,i,o,s){if(n==e)return null;let a;if(o<t[e+i-1])return s?(a=t.slice(e,e+i),a[i-1]=o,a):null;if(t[n-1]<o)return s?(a=t.slice(n-i,n),a[i-1]=o,a):null;if(o==t[e+i-1])return t.slice(e,e+i);let l=e/i,c=n/i;while(l<c){const e=l+c>>1;o<t[(e+1)*i-1]?c=e:l=e+1}const u=t[l*i-1];if(o==u)return t.slice((l-1)*i,(l-1)*i+i);const h=t[(l+1)*i-1],d=(o-u)/(h-u);a=[];for(let p=0;p<i-1;++p)a.push((0,r.Cc)(t[(l-1)*i+p],t[l*i+p],d));return a.push(o),a}function a(t,e,n,i,r,o,a){if(a)return s(t,e,n[n.length-1],i,r,o);let l;if(r<t[i-1])return o?(l=t.slice(0,i),l[i-1]=r,l):null;if(t[t.length-1]<r)return o?(l=t.slice(t.length-i),l[i-1]=r,l):null;for(let c=0,u=n.length;c<u;++c){const o=n[c];if(e!=o){if(r<t[e+i-1])return null;if(r<=t[o-1])return s(t,e,o,i,r,!1);e=o}}return null}},1814:function(t,e,n){"use strict";n.d(e,{HT:function(){return c},Wp:function(){return u},fB:function(){return a},gp:function(){return s},sj:function(){return l}});var i=n(7444),r=n(8601),o=n(8330);function s(t,e,n,o,s){const a=(0,i.R8)((0,i.S5)(),t,e,n,o);return!!(0,i.HY)(s,a)&&(!!(0,i.ms)(s,a)||(a[0]>=s[0]&&a[2]<=s[2]||(a[1]>=s[1]&&a[3]<=s[3]||(0,r.j)(t,e,n,o,(function(t,e){return(0,i.Mx)(s,t,e)})))))}function a(t,e,n,i,r){for(let o=0,a=n.length;o<a;++o){if(s(t,e,n[o],i,r))return!0;e=n[o]}return!1}function l(t,e,n,i,r){return!!s(t,e,n,i,r)||(!!(0,o.a_)(t,e,n,i,r[0],r[1])||(!!(0,o.a_)(t,e,n,i,r[0],r[3])||(!!(0,o.a_)(t,e,n,i,r[2],r[1])||!!(0,o.a_)(t,e,n,i,r[2],r[3]))))}function c(t,e,n,i,r){if(!l(t,e,n[0],i,r))return!1;if(1===n.length)return!0;for(let a=1,l=n.length;a<l;++a)if((0,o.t7)(t,n[a-1],n[a],i,r)&&!s(t,n[a-1],n[a],i,r))return!1;return!0}function u(t,e,n,i,r){for(let o=0,s=n.length;o<s;++o){const s=n[o];if(c(t,e,s,i,r))return!0;e=s[s.length-1]}return!1}},5907:function(t,e,n){"use strict";function i(t,e,n,i){let r=t[e],o=t[e+1],s=0;for(let a=e+i;a<n;a+=i){const e=t[a],n=t[a+1];s+=Math.sqrt((e-r)*(e-r)+(n-o)*(n-o)),r=e,o=n}return s}n.d(e,{k:function(){return i}})},1853:function(t,e,n){"use strict";n.d(e,{yJ:function(){return c},PA:function(){return o},mb:function(){return s},ug:function(){return a},NK:function(){return l}});n(4114);function i(t,e,n,i){while(e<n-i){for(let r=0;r<i;++r){const o=t[e+r];t[e+r]=t[n-i+r],t[n-i+r]=o}e+=i,n-=i}}function r(t,e,n,i){let r=0,o=t[n-i],s=t[n-i+1];for(;e<n;e+=i){const n=t[e],i=t[e+1];r+=(n-o)*(i+s),o=n,s=i}return 0===r?void 0:r>0}function o(t,e,n,i,o){o=void 0!==o&&o;for(let s=0,a=n.length;s<a;++s){const a=n[s],l=r(t,e,a,i);if(0===s){if(o&&l||!o&&!l)return!1}else if(o&&!l||!o&&l)return!1;e=a}return!0}function s(t,e,n,i,r){for(let s=0,a=n.length;s<a;++s){const a=n[s];if(!o(t,e,a,i,r))return!1;a.length&&(e=a[a.length-1])}return!0}function a(t,e,n,o,s){s=void 0!==s&&s;for(let a=0,l=n.length;a<l;++a){const l=n[a],c=r(t,e,l,o),u=0===a?s&&c||!s&&!c:s&&!c||!s&&c;u&&i(t,e,l,o),e=l}return e}function l(t,e,n,i,r){for(let o=0,s=n.length;o<s;++o)e=a(t,e,n[o],i,r);return e}function c(t,e){const n=[];let i,o=0,s=0;for(let a=0,l=e.length;a<l;++a){const l=e[a],c=r(t,o,l,2);if(void 0===i&&(i=c),c===i)n.push(e.slice(s,a+1));else{if(0===n.length)continue;n[n.length-1].push(e[s])}s=a+1,o=l}return n}},8601:function(t,e,n){"use strict";function i(t,e,n,i,r){let o;for(e+=i;e<n;e+=i)if(o=r(t.slice(e-i,e),t.slice(e,e+i)),o)return o;return!1}n.d(e,{j:function(){return i}})},3344:function(t,e,n){"use strict";n.d(e,{AL:function(){return o},Hg:function(){return l},P4:function(){return r},n$:function(){return s},sx:function(){return c}});n(4114);var i=n(5674);function r(t,e,n,r,o,s,a){const l=(n-e)/r;if(l<3){for(;e<n;e+=r)s[a++]=t[e],s[a++]=t[e+1];return a}const c=new Array(l);c[0]=1,c[l-1]=1;const u=[e,n-r];let h=0;while(u.length>0){const n=u.pop(),s=u.pop();let a=0;const l=t[s],d=t[s+1],p=t[n],g=t[n+1];for(let e=s+r;e<n;e+=r){const n=t[e],r=t[e+1],o=(0,i.Q1)(n,r,l,d,p,g);o>a&&(h=e,a=o)}a>o&&(c[(h-e)/r]=1,s+r<h&&u.push(s,h),h+r<n&&u.push(h,n))}for(let i=0;i<l;++i)c[i]&&(s[a++]=t[e+i*r],s[a++]=t[e+i*r+1]);return a}function o(t,e,n,i,o,s,a,l){for(let c=0,u=n.length;c<u;++c){const u=n[c];a=r(t,e,u,i,o,s,a),l.push(a),e=u}return a}function s(t,e){return e*Math.round(t/e)}function a(t,e,n,i,r,o,a){if(e==n)return a;let l,c,u=s(t[e],r),h=s(t[e+1],r);e+=i,o[a++]=u,o[a++]=h;do{if(l=s(t[e],r),c=s(t[e+1],r),e+=i,e==n)return o[a++]=l,o[a++]=c,a}while(l==u&&c==h);while(e<n){const n=s(t[e],r),d=s(t[e+1],r);if(e+=i,n==l&&d==c)continue;const p=l-u,g=c-h,f=n-u,m=d-h;p*m==g*f&&(p<0&&f<p||p==f||p>0&&f>p)&&(g<0&&m<g||g==m||g>0&&m>g)?(l=n,c=d):(o[a++]=l,o[a++]=c,u=l,h=c,l=n,c=d)}return o[a++]=l,o[a++]=c,a}function l(t,e,n,i,r,o,s,l){for(let c=0,u=n.length;c<u;++c){const u=n[c];s=a(t,e,u,i,r,o,s),l.push(s),e=u}return s}function c(t,e,n,i,r,o,s,a){for(let c=0,u=n.length;c<u;++c){const u=n[c],h=[];s=l(t,e,u,i,r,o,s,h),a.push(h),e=u[u.length-1]}return s}},3371:function(t,e,n){"use strict";function i(t,e,n,i,r,o){o=o||[];let s=0;for(let a=e;a<n;a+=i){const e=t[a],n=t[a+1];o[s++]=r[0]*e+r[2]*n+r[4],o[s++]=r[1]*e+r[3]*n+r[5]}return o&&o.length!=s&&(o.length=s),o}function r(t,e,n,i,r,o,s){s=s||[];const a=Math.cos(r),l=Math.sin(r),c=o[0],u=o[1];let h=0;for(let d=e;d<n;d+=i){const e=t[d]-c,n=t[d+1]-u;s[h++]=c+e*a-n*l,s[h++]=u+e*l+n*a;for(let r=d+2;r<d+i;++r)s[h++]=t[r]}return s&&s.length!=h&&(s.length=h),s}function o(t,e,n,i,r,o,s,a){a=a||[];const l=s[0],c=s[1];let u=0;for(let h=e;h<n;h+=i){const e=t[h]-l,n=t[h+1]-c;a[u++]=l+r*e,a[u++]=c+o*n;for(let r=h+2;r<h+i;++r)a[u++]=t[r]}return a&&a.length!=u&&(a.length=u),a}function s(t,e,n,i,r,o,s){s=s||[];let a=0;for(let l=e;l<n;l+=i){s[a++]=t[l]+r,s[a++]=t[l+1]+o;for(let e=l+2;e<l+i;++e)s[a++]=t[e]}return s&&s.length!=a&&(s.length=a),s}n.d(e,{Rc:function(){return i},Tl:function(){return s},e$:function(){return r},hs:function(){return o}})},502:function(t,e,n){"use strict";n.d(e,{DT:function(){return u},FT:function(){return d},Wl:function(){return c},XM:function(){return h},_p:function(){return r},cr:function(){return l},ew:function(){return a},j:function(){return s}});const i="undefined"!==typeof navigator&&"undefined"!==typeof navigator.userAgent?navigator.userAgent.toLowerCase():"",r=i.includes("firefox"),o=i.includes("safari")&&!i.includes("chrom"),s=(o&&(i.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(i)),i.includes("webkit")&&!i.includes("edge")),a=i.includes("macintosh"),l="undefined"!==typeof devicePixelRatio?devicePixelRatio:1,c="undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,u="undefined"!==typeof Image&&Image.prototype.decode,h="function"===typeof createImageBitmap,d=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(e){}return t}()},6425:function(t,e,n){"use strict";n.d(e,{D2:function(){return l},e4:function(){return a}});var i=n(1611),r=n(776),o=n(8409);class s extends i.A{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(r.A.ACTIVE)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(r.A.ACTIVE,t)}setMap(t){this.map_=t}}function a(t,e,n){const i=t.getCenterInternal();if(i){const r=[i[0]+e[0],i[1]+e[1]];t.animateInternal({duration:void 0!==n?n:250,easing:o.sn,center:t.getConstrainedCenter(r)})}}function l(t,e,n,i){const r=t.getZoom();if(void 0===r)return;const s=t.getConstrainedZoom(r+e),a=t.getResolutionForZoom(s);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:n,duration:void 0!==i?i:250,easing:o.vT})}e.Ay=s},5596:function(t,e,n){"use strict";n.d(e,{v:function(){return s}});var i=n(6425),r=n(3156);class o extends i.Ay{constructor(t){t=t||{},super(t),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==r.A.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==r.A.POINTERUP){const e=this.handleUpEvent(t);this.handlingDownUpSequence=e&&this.targetPointers.length>0}}else if(t.type==r.A.POINTERDOWN){const n=this.handleDownEvent(t);this.handlingDownUpSequence=n,e=this.stopDown(n)}else t.type==r.A.POINTERMOVE&&this.handleMoveEvent(t);return!e}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}}function s(t){const e=t.length;let n=0,i=0;for(let r=0;r<e;r++)n+=t[r].clientX,i+=t[r].clientY;return{clientX:n/e,clientY:i/e}}e.A=o},776:function(t,e){"use strict";e.A={ACTIVE:"active"}},9855:function(t,e,n){"use strict";var i=n(1611),r=n(4543),o=n(5752),s=n(1097),a=n(5674);class l extends i.A{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;const e=Object.assign({},t);"object"===typeof t.properties&&(delete e.properties,Object.assign(e,t.properties)),e[r.A.OPACITY]=void 0!==t.opacity?t.opacity:1,(0,s.v)("number"===typeof e[r.A.OPACITY],"Layer opacity must be a number"),e[r.A.VISIBLE]=void 0===t.visible||t.visible,e[r.A.Z_INDEX]=t.zIndex,e[r.A.MAX_RESOLUTION]=void 0!==t.maxResolution?t.maxResolution:1/0,e[r.A.MIN_RESOLUTION]=void 0!==t.minResolution?t.minResolution:0,e[r.A.MIN_ZOOM]=void 0!==t.minZoom?t.minZoom:-1/0,e[r.A.MAX_ZOOM]=void 0!==t.maxZoom?t.maxZoom:1/0,this.className_=void 0!==e.className?e.className:"ol-layer",delete e.className,this.setProperties(e),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){const e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=(0,a.qE)(Math.round(100*this.getOpacity())/100,0,1),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n||e.managed?n:1/0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e}getLayersArray(t){return(0,o.b0)()}getLayerStatesArray(t){return(0,o.b0)()}getExtent(){return this.get(r.A.EXTENT)}getMaxResolution(){return this.get(r.A.MAX_RESOLUTION)}getMinResolution(){return this.get(r.A.MIN_RESOLUTION)}getMinZoom(){return this.get(r.A.MIN_ZOOM)}getMaxZoom(){return this.get(r.A.MAX_ZOOM)}getOpacity(){return this.get(r.A.OPACITY)}getSourceState(){return(0,o.b0)()}getVisible(){return this.get(r.A.VISIBLE)}getZIndex(){return this.get(r.A.Z_INDEX)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(r.A.EXTENT,t)}setMaxResolution(t){this.set(r.A.MAX_RESOLUTION,t)}setMinResolution(t){this.set(r.A.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(r.A.MAX_ZOOM,t)}setMinZoom(t){this.set(r.A.MIN_ZOOM,t)}setOpacity(t){(0,s.v)("number"===typeof t,"Layer opacity must be a number"),this.set(r.A.OPACITY,t)}setVisible(t){this.set(r.A.VISIBLE,t)}setZIndex(t){this.set(r.A.Z_INDEX,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}e.A=l},6420:function(t,e,n){"use strict";n.d(e,{A:function(){return Ht}});var i=n(2425),r=n(5341),o=n(6505),s=(n(4114),n(5274)),a=n(8343),l=n(7379),c=n(5023),u=n(5782),h=n(6121),d=n(3851),p=n(5007);let g=0;const f=0,m=1<<g++,A=1<<g++,y=1<<g++,v=1<<g++,_=1<<g++,C=Math.pow(2,g)-1,I={[m]:"boolean",[A]:"number",[y]:"string",[v]:"color",[_]:"number[]"},E=Object.keys(I).map(Number).sort(d.V_);function w(t){const e=[];for(const n of E)b(t,n)&&e.push(I[n]);return 0===e.length?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function b(t,e){return(t&e)===e}function x(t,e){return!!(t&e)}function S(t,e){return t===e}class P{constructor(t,e){this.type=t,this.value=e}}class M{constructor(t,e,...n){this.type=t,this.operator=e,this.args=n}}function R(){return{variables:new Set,properties:new Set,featureId:!1,style:{}}}function T(t){switch(t){case"string":return y;case"color":return v;case"number":return A;case"boolean":return m;case"number[]":return _;default:throw new Error(`Unrecognized type hint: ${t}`)}}function G(t,e,n){switch(typeof t){case"boolean":return new P(m,t);case"number":return new P(A,t);case"string":{let e=y;return(0,p.$C)(t)&&(e|=v),S(e&n,f)||(e&=n),new P(e,t)}default:}if(!Array.isArray(t))throw new Error("Expression must be an array or a primitive value");if(0===t.length)throw new Error("Empty expression");if("string"===typeof t[0])return K(t,e,n);for(const r of t)if("number"!==typeof r)throw new Error("Expected an array of numbers");let i=_;return 3!==t.length&&4!==t.length||(i|=v),n&&(i&=n),new P(i,t)}const L={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette"},k={[L.Get]:Z((([t,e])=>void 0!==e?T(e.value):C),U(1,2),O),[L.Var]:Z((([t])=>t.type),U(1,1),D),[L.Id]:Z(A|y,F,N),[L.Concat]:Z(y,U(2,1/0),B(C)),[L.GeometryType]:Z(y,F),[L.Resolution]:Z(A,F),[L.Zoom]:Z(A,F),[L.Time]:Z(A,F),[L.Any]:Z(m,U(2,1/0),B(m)),[L.All]:Z(m,U(2,1/0),B(m)),[L.Not]:Z(m,U(1,1),B(m)),[L.Equal]:Z(m,U(2,2),B(C),j),[L.NotEqual]:Z(m,U(2,2),B(C),j),[L.GreaterThan]:Z(m,U(2,2),B(C),j),[L.GreaterThanOrEqualTo]:Z(m,U(2,2),B(C),j),[L.LessThan]:Z(m,U(2,2),B(C),j),[L.LessThanOrEqualTo]:Z(m,U(2,2),B(C),j),[L.Multiply]:Z((t=>{let e=A|v;for(let n=0;n<t.length;n++)e&=t[n].type;return e}),U(2,1/0),B(A|v),j),[L.Divide]:Z(A,U(2,2),B(A)),[L.Add]:Z(A,U(2,1/0),B(A)),[L.Subtract]:Z(A,U(2,2),B(A)),[L.Clamp]:Z(A,U(3,3),B(A)),[L.Mod]:Z(A,U(2,2),B(A)),[L.Pow]:Z(A,U(2,2),B(A)),[L.Abs]:Z(A,U(1,1),B(A)),[L.Floor]:Z(A,U(1,1),B(A)),[L.Ceil]:Z(A,U(1,1),B(A)),[L.Round]:Z(A,U(1,1),B(A)),[L.Sin]:Z(A,U(1,1),B(A)),[L.Cos]:Z(A,U(1,1),B(A)),[L.Atan]:Z(A,U(1,2),B(A)),[L.Sqrt]:Z(A,U(1,1),B(A)),[L.Match]:Z((t=>{let e=C;for(let n=2;n<t.length;n+=2)e&=t[n].type;return e&=t[t.length-1].type,e}),U(4,1/0),W,V),[L.Between]:Z(m,U(3,3),B(A)),[L.Interpolate]:Z((t=>{let e=v|A;for(let n=3;n<t.length;n+=2)e&=t[n].type;return e}),U(6,1/0),W,Y),[L.Case]:Z((t=>{let e=C;for(let n=1;n<t.length;n+=2)e&=t[n].type;return e&=t[t.length-1].type,e}),U(3,1/0),z,H),[L.In]:Z(m,U(2,2),q),[L.Number]:Z(A,U(1,1/0),B(C)),[L.String]:Z(y,U(1,1/0),B(C)),[L.Array]:Z((t=>3===t.length||4===t.length?_|v:_),U(1,1/0),B(A)),[L.Color]:Z(v,U(3,4),B(A)),[L.Band]:Z(A,U(1,3),B(A)),[L.Palette]:Z(v,U(2,2),X)};function O(t,e){const n=G(t[1],e);if(!(n instanceof P))throw new Error("Expected a literal argument for get operation");if("string"!==typeof n.value)throw new Error("Expected a string argument for get operation");if(e.properties.add(n.value),3===t.length){const i=G(t[2],e);return[n,i]}return[n]}function D(t,e,n,i){const r=t[1];if("string"!==typeof r)throw new Error("Expected a string argument for var operation");if(e.variables.add(r),!("variables"in e.style)||void 0===e.style.variables[r])return[new P(C,r)];const o=e.style.variables[r],s=G(o,e);if(s.value=r,i&&!x(i,s.type))throw new Error(`The variable ${r} has type ${w(s.type)} but the following type was expected: ${w(i)}`);return[s]}function N(t,e){e.featureId=!0}function F(t,e){const n=t[0];if(1!==t.length)throw new Error(`Expected no arguments for ${n} operation`);return[]}function U(t,e){return function(n,i){const r=n[0],o=n.length-1;if(t===e){if(o!==t){const e=1===t?"":"s";throw new Error(`Expected ${t} argument${e} for ${r}, got ${o}`)}}else if(o<t||o>e){const n=e===1/0?`${t} or more`:`${t} to ${e}`;throw new Error(`Expected ${n} arguments for ${r}, got ${o}`)}}}function B(t){return function(e,n){const i=e[0],r=e.length-1,o=new Array(r);for(let s=0;s<r;++s){const r=G(e[s+1],n);if(!x(t,r.type)){const e=w(t),n=w(r.type);throw new Error(`Unexpected type for argument ${s} of ${i} operation, got ${e} but expected ${n}`)}r.type&=t,o[s]=r}return o}}function j(t,e,n){const i=t[0],r=t.length-1;let o=C;for(let a=0;a<n.length;++a)o&=n[a].type;if(o===f)throw new Error(`No common type could be found for arguments of ${i} operation`);const s=new Array(r);for(let a=0;a<r;++a)s[a]=G(t[a+1],e,o);return s}function z(t,e){const n=t[0],i=t.length-1;if(i%2===0)throw new Error(`An odd amount of arguments was expected for operation ${n}, got ${JSON.stringify(i)} instead`)}function W(t,e){const n=t[0],i=t.length-1;if(i%2===1)throw new Error(`An even amount of arguments was expected for operation ${n}, got ${JSON.stringify(i)} instead`)}function V(t,e,n,i){const r=t.length-1,o=G(t[1],e);let s=o.type;const a=G(t[t.length-1],e);let l=void 0!==i?i&a.type:a.type;const c=new Array(r-2);for(let h=0;h<r-2;h+=2){const n=G(t[h+2],e),i=G(t[h+3],e);s&=n.type,l&=i.type,c[h]=n,c[h+1]=i}const u=y|A|m;if(!x(u,s))throw new Error(`Expected an input of type ${w(u)} for the interpolate operation, got ${w(s)} instead`);if(S(l,f))throw new Error("Could not find a common output type for the following match operation: "+JSON.stringify(t));for(let h=0;h<r-2;h+=2){const n=G(t[h+2],e,s),i=G(t[h+3],e,l);c[h]=n,c[h+1]=i}return[G(t[1],e,s),...c,G(t[t.length-1],e,l)]}function Y(t,e,n,i){const r=t[1];let o;switch(r[0]){case"linear":o=1;break;case"exponential":if(o=r[1],"number"!==typeof o)throw new Error(`Expected a number base for exponential interpolation, got ${JSON.stringify(o)} instead`);break;default:o=null}if(!o)throw new Error(`Invalid interpolation type: ${JSON.stringify(r)}`);o=G(o,e);let s=G(t[2],e);if(!x(A,s.type))throw new Error(`Expected an input of type number for the interpolate operation, got ${w(s.type)} instead`);s=G(t[2],e,A);const a=new Array(t.length-3);for(let l=0;l<a.length;l+=2){let n=G(t[l+3],e);if(!x(A,n.type))throw new Error(`Expected all stop input values in the interpolate operation to be of type number, got ${w(n.type)} at position ${l+2} instead`);let i=G(t[l+4],e);if(!x(A|v,i.type))throw new Error(`Expected all stop output values in the interpolate operation to be a number or color, got ${w(i.type)} at position ${l+3} instead`);n=G(t[l+3],e,A),i=G(t[l+4],e,A|v),a[l]=n,a[l+1]=i}return[o,s,...a]}function H(t,e,n,i){const r=G(t[t.length-1],e);let o=void 0!==i?i&r.type:r.type;const s=new Array(t.length-1);for(let a=0;a<s.length-1;a+=2){const n=G(t[a+1],e),i=G(t[a+2],e);if(!x(m,n.type))throw new Error(`Expected all conditions in the case operation to be of type boolean, got ${w(n.type)} at position ${a} instead`);o&=i.type,s[a]=n,s[a+1]=i}if(S(o,f))throw new Error("Could not find a common output type for the following case operation: "+JSON.stringify(t));for(let a=0;a<s.length-1;a+=2)s[a+1]=G(t[a+2],e,o);return s[s.length-1]=G(t[t.length-1],e,o),s}function q(t,e){let n=t[2];if(!Array.isArray(n))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');if("string"===typeof n[0]){if("literal"!==n[0])throw new Error('For the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions.');if(!Array.isArray(n[1]))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');n=n[1]}let i=y|A;const r=new Array(n.length);for(let s=0;s<r.length;s++){const t=G(n[s],e);i&=t.type,r[s]=t}if(S(i,f))throw new Error("Could not find a common type for the following in operation: "+JSON.stringify(t));const o=G(t[1],e,i);return[o,...r]}function X(t,e){const n=G(t[1],e,A);if(n.type!==A)throw new Error(`The first argument of palette must be an number, got ${w(n.type)} instead`);const i=t[2];if(!Array.isArray(i))throw new Error("The second argument of palette must be an array");const r=new Array(i.length);for(let o=0;o<r.length;o++){const t=G(i[o],e,v);if(!(t instanceof P))throw new Error(`The palette color at index ${o} must be a literal value`);if(!x(t.type,v))throw new Error(`The palette color at index ${o} should be of type color, got ${w(t.type)} instead`);r[o]=t}return[n,...r]}function Z(t,...e){return function(n,i,r){const o=n[0];let s=[];for(let t=0;t<e.length;t++)s=e[t](n,i,s,r)||s;let a="function"===typeof t?t(s):t;if(void 0!==r){if(!x(a,r))throw new Error(`The following expression was expected to return ${w(r)}, but returns ${w(a)} instead: ${JSON.stringify(n)}`);a&=r}if(a===f)throw new Error(`No matching type was found for the following expression: ${JSON.stringify(n)}`);return new M(a,o,...s)}}function K(t,e,n){const i=t[0],r=k[i];if(!r)throw new Error(`Unknown operator: ${i}`);return r(t,e,n)}function J(){return{variables:{},properties:{},resolution:NaN,featureId:null}}function Q(t,e,n){const i=G(t,n);if(!x(e,i.type)){const t=w(e),n=w(i.type);throw new Error(`Expected expression to be of type ${t}, got ${n}`)}return $(i,n)}function $(t,e){if(t instanceof P){if(t.type===v&&"string"===typeof t.value){const e=(0,p.sH)(t.value);return function(){return e}}return function(){return t.value}}const n=t.operator;switch(n){case L.Number:case L.String:return tt(t,e);case L.Get:case L.Var:return et(t,e);case L.Id:return t=>t.featureId;case L.Concat:{const n=t.args.map((t=>$(t,e)));return t=>"".concat(...n.map((e=>e(t).toString())))}case L.Resolution:return t=>t.resolution;case L.Any:case L.All:case L.Not:return it(t,e);case L.Equal:case L.NotEqual:case L.LessThan:case L.LessThanOrEqualTo:case L.GreaterThan:case L.GreaterThanOrEqualTo:return nt(t,e);case L.Multiply:case L.Divide:case L.Add:case L.Subtract:case L.Clamp:case L.Mod:case L.Pow:case L.Abs:case L.Floor:case L.Ceil:case L.Round:case L.Sin:case L.Cos:case L.Atan:case L.Sqrt:return rt(t,e);case L.Match:return ot(t,e);case L.Interpolate:return st(t,e);default:throw new Error(`Unsupported operator ${n}`)}}function tt(t,e){const n=t.operator,i=t.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=$(t.args[o],e);switch(n){case L.Number:case L.String:return t=>{for(let e=0;e<i;++e){const i=r[e](t);if(typeof i===n)return i}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}function et(t,e){const n=t.args[0],i=n.value;switch(t.operator){case L.Get:return t=>t.properties[i];case L.Var:return t=>t.variables[i];default:throw new Error(`Unsupported accessor operator ${t.operator}`)}}function nt(t,e){const n=t.operator,i=$(t.args[0],e),r=$(t.args[1],e);switch(n){case L.Equal:return t=>i(t)===r(t);case L.NotEqual:return t=>i(t)!==r(t);case L.LessThan:return t=>i(t)<r(t);case L.LessThanOrEqualTo:return t=>i(t)<=r(t);case L.GreaterThan:return t=>i(t)>r(t);case L.GreaterThanOrEqualTo:return t=>i(t)>=r(t);default:throw new Error(`Unsupported comparison operator ${n}`)}}function it(t,e){const n=t.operator,i=t.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=$(t.args[o],e);switch(n){case L.Any:return t=>{for(let e=0;e<i;++e)if(r[e](t))return!0;return!1};case L.All:return t=>{for(let e=0;e<i;++e)if(!r[e](t))return!1;return!0};case L.Not:return t=>!r[0](t);default:throw new Error(`Unsupported logical operator ${n}`)}}function rt(t,e){const n=t.operator,i=t.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=$(t.args[o],e);switch(n){case L.Multiply:return t=>{let e=1;for(let n=0;n<i;++n)e*=r[n](t);return e};case L.Divide:return t=>r[0](t)/r[1](t);case L.Add:return t=>{let e=0;for(let n=0;n<i;++n)e+=r[n](t);return e};case L.Subtract:return t=>r[0](t)-r[1](t);case L.Clamp:return t=>{const e=r[0](t),n=r[1](t);if(e<n)return n;const i=r[2](t);return e>i?i:e};case L.Mod:return t=>r[0](t)%r[1](t);case L.Pow:return t=>Math.pow(r[0](t),r[1](t));case L.Abs:return t=>Math.abs(r[0](t));case L.Floor:return t=>Math.floor(r[0](t));case L.Ceil:return t=>Math.ceil(r[0](t));case L.Round:return t=>Math.round(r[0](t));case L.Sin:return t=>Math.sin(r[0](t));case L.Cos:return t=>Math.cos(r[0](t));case L.Atan:return 2===i?t=>Math.atan2(r[0](t),r[1](t)):t=>Math.atan(r[0](t));case L.Sqrt:return t=>Math.sqrt(r[0](t));default:throw new Error(`Unsupported numeric operator ${n}`)}}function ot(t,e){const n=t.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=$(t.args[r],e);return t=>{const e=i[0](t);for(let r=1;r<n;r+=2)if(e===i[r](t))return i[r+1](t);return i[n-1](t)}}function st(t,e){const n=t.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=$(t.args[r],e);return t=>{const e=i[0](t),r=i[1](t);let o,s;for(let a=2;a<n;a+=2){const n=i[a](t);let l=i[a+1](t);const c=Array.isArray(l);if(c&&(l=(0,p.fu)(l)),n>=r)return 2===a?l:c?lt(e,r,o,s,n,l):at(e,r,o,s,n,l);o=n,s=l}return s}}function at(t,e,n,i,r,o){const s=r-n;if(0===s)return i;const a=e-n,l=1===t?a/s:(Math.pow(t,a)-1)/(Math.pow(t,s)-1);return i+l*(o-i)}function lt(t,e,n,i,r,o){const s=r-n;if(0===s)return i;const a=(0,p.eE)(i),l=(0,p.eE)(o);let c=l[2]-a[2];c>180?c-=360:c<-180&&(c+=360);const u=[at(t,e,n,a[0],r,l[0]),at(t,e,n,a[1],r,l[1]),a[2]+at(t,e,n,0,r,c),at(t,e,n,i[3],r,o[3])];return(0,p.S8)((0,p.cD)(u))}var ct=n(6811),ut=n(5689);function ht(t){return!0}function dt(t){const e=R(),n=gt(t,e),i=J();return function(t,r){if(i.properties=t.getPropertiesInternal(),i.resolution=r,e.featureId){const e=t.getId();i.featureId=void 0!==e?e:null}return n(i)}}function pt(t){const e=R(),n=t.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=ft(t[s],e);const r=J(),o=new Array(n);return function(t,s){if(r.properties=t.getPropertiesInternal(),r.resolution=s,e.featureId){const e=t.getId();r.featureId=void 0!==e?e:null}let a=0;for(let e=0;e<n;++e){const t=i[e](r);t&&(o[a]=t,a+=1)}return o.length=a,o}}function gt(t,e){const n=t.length,i=new Array(n);for(let r=0;r<n;++r){const n=t[r],o="filter"in n?Q(n.filter,m,e):ht;let s;if(Array.isArray(n.style)){const t=n.style.length;s=new Array(t);for(let i=0;i<t;++i)s[i]=ft(n.style[i],e)}else s=[ft(n.style,e)];i[r]={filter:o,styles:s}}return function(e){const r=[];let o=!1;for(let s=0;s<n;++s){const n=i[s].filter;if(n(e)&&(!t[s].else||!o)){o=!0;for(const t of i[s].styles){const n=t(e);n&&r.push(n)}}}return r}}function ft(t,e){const n=mt(t,"",e),i=At(t,"",e),r=yt(t,e),s=vt(t,e),a=Et(t,"z-index",e);if(!n&&!i&&!r&&!s&&!(0,ct.p)(t))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(t));const l=new o.Ay;return function(t){let e=!0;if(n){const i=n(t);i&&(e=!1),l.setFill(i)}if(i){const n=i(t);n&&(e=!1),l.setStroke(n)}if(r){const n=r(t);n&&(e=!1),l.setText(n)}if(s){const n=s(t);n&&(e=!1),l.setImage(n)}return a&&l.setZIndex(a(t)),e?null:l}}function mt(t,e,n){const i=xt(t,e+"fill-color",n);if(!i)return null;const r=new a.A;return function(t){const e=i(t);return"none"===e?null:(r.setColor(e),r)}}function At(t,e,n){const i=Et(t,e+"stroke-width",n),r=xt(t,e+"stroke-color",n);if(!i&&!r)return null;const o=wt(t,e+"stroke-line-cap",n),s=wt(t,e+"stroke-line-join",n),a=St(t,e+"stroke-line-dash",n),l=Et(t,e+"stroke-line-dash-offset",n),c=Et(t,e+"stroke-miter-limit",n),h=new u.A;return function(t){if(r){const e=r(t);if("none"===e)return null;h.setColor(e)}if(i&&h.setWidth(i(t)),o){const e=o(t);if("butt"!==e&&"round"!==e&&"square"!==e)throw new Error("Expected butt, round, or square line cap");h.setLineCap(e)}if(s){const e=s(t);if("bevel"!==e&&"round"!==e&&"miter"!==e)throw new Error("Expected bevel, round, or miter line join");h.setLineJoin(e)}return a&&h.setLineDash(a(t)),l&&h.setLineDashOffset(l(t)),c&&h.setMiterLimit(c(t)),h}}function yt(t,e){const n="text-",i=wt(t,n+"value",e);if(!i)return null;const r=mt(t,n,e),o=mt(t,n+"background-",e),s=At(t,n,e),a=At(t,n+"background-",e),l=wt(t,n+"font",e),c=Et(t,n+"max-angle",e),u=Et(t,n+"offset-x",e),d=Et(t,n+"offset-y",e),p=bt(t,n+"overflow",e),g=wt(t,n+"placement",e),f=Et(t,n+"repeat",e),m=Mt(t,n+"scale",e),A=bt(t,n+"rotate-with-view",e),y=Et(t,n+"rotation",e),v=wt(t,n+"align",e),_=wt(t,n+"justify",e),C=wt(t,n+"baseline",e),I=St(t,n+"padding",e),E=new h.A({});return function(t){if(E.setText(i(t)),r&&E.setFill(r(t)),o&&E.setBackgroundFill(o(t)),s&&E.setStroke(s(t)),a&&E.setBackgroundStroke(a(t)),l&&E.setFont(l(t)),c&&E.setMaxAngle(c(t)),u&&E.setOffsetX(u(t)),d&&E.setOffsetY(d(t)),p&&E.setOverflow(p(t)),g){const e=g(t);if("point"!==e&&"line"!==e)throw new Error("Expected point or line for text-placement");E.setPlacement(e)}if(f&&E.setRepeat(f(t)),m&&E.setScale(m(t)),A&&E.setRotateWithView(A(t)),y&&E.setRotation(y(t)),v){const e=v(t);if("left"!==e&&"center"!==e&&"right"!==e&&"end"!==e&&"start"!==e)throw new Error("Expected left, right, center, start, or end for text-align");E.setTextAlign(e)}if(_){const e=_(t);if("left"!==e&&"right"!==e&&"center"!==e)throw new Error("Expected left, right, or center for text-justify");E.setJustify(e)}if(C){const e=C(t);if("bottom"!==e&&"top"!==e&&"middle"!==e&&"alphabetic"!==e&&"hanging"!==e)throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");E.setTextBaseline(e)}return I&&E.setPadding(I(t)),E}}function vt(t,e){return"icon-src"in t?_t(t,e):"shape-points"in t?Ct(t,e):"circle-radius"in t?It(t,e):null}function _t(t,e){const n="icon-",i=n+"src",r=Ut(t[i],i),o=Pt(t,n+"anchor",e),s=Mt(t,n+"scale",e),a=Et(t,n+"opacity",e),c=Pt(t,n+"displacement",e),u=Et(t,n+"rotation",e),h=bt(t,n+"rotate-with-view",e),d=Lt(t,n+"anchor-origin"),p=kt(t,n+"anchor-x-units"),g=kt(t,n+"anchor-y-units"),f=Nt(t,n+"color"),m=Gt(t,n+"cross-origin"),A=Ot(t,n+"offset"),y=Lt(t,n+"offset-origin"),v=Rt(t,n+"width"),_=Rt(t,n+"height"),C=Tt(t,n+"size"),I=Dt(t,n+"declutter"),E=new l.A({src:r,anchorOrigin:d,anchorXUnits:p,anchorYUnits:g,color:f,crossOrigin:m,offset:A,offsetOrigin:y,height:_,width:v,size:C,declutterMode:I});return function(t){return a&&E.setOpacity(a(t)),c&&E.setDisplacement(c(t)),u&&E.setRotation(u(t)),h&&E.setRotateWithView(h(t)),s&&E.setScale(s(t)),o&&E.setAnchor(o(t)),E}}function Ct(t,e){const n="shape-",i=n+"points",r=Bt(t[i],i),o=mt(t,n,e),s=At(t,n,e),a=Mt(t,n+"scale",e),l=Pt(t,n+"displacement",e),u=Et(t,n+"rotation",e),h=bt(t,n+"rotate-with-view",e),d=Rt(t,n+"radius"),p=Rt(t,n+"radius1"),g=Rt(t,n+"radius2"),f=Rt(t,n+"angle"),m=Dt(t,n+"declutter-mode"),A=new c.A({points:r,radius:d,radius1:p,radius2:g,angle:f,declutterMode:m});return function(t){return o&&A.setFill(o(t)),s&&A.setStroke(s(t)),l&&A.setDisplacement(l(t)),u&&A.setRotation(u(t)),h&&A.setRotateWithView(h(t)),a&&A.setScale(a(t)),A}}function It(t,e){const n="circle-",i=mt(t,n,e),r=At(t,n,e),o=Et(t,n+"radius",e),a=Mt(t,n+"scale",e),l=Pt(t,n+"displacement",e),c=Et(t,n+"rotation",e),u=bt(t,n+"rotate-with-view",e),h=Dt(t,n+"declutter-mode"),d=new s.A({radius:5,declutterMode:h});return function(t){return o&&d.setRadius(o(t)),i&&d.setFill(i(t)),r&&d.setStroke(r(t)),l&&d.setDisplacement(l(t)),c&&d.setRotation(c(t)),u&&d.setRotateWithView(u(t)),a&&d.setScale(a(t)),d}}function Et(t,e,n){if(!(e in t))return;const i=Q(t[e],A,n);return function(t){return Bt(i(t),e)}}function wt(t,e,n){if(!(e in t))return null;const i=Q(t[e],y,n);return function(t){return Ut(i(t),e)}}function bt(t,e,n){if(!(e in t))return null;const i=Q(t[e],m,n);return function(t){const n=i(t);if("boolean"!==typeof n)throw new Error(`Expected a boolean for ${e}`);return n}}function xt(t,e,n){if(!(e in t))return null;const i=Q(t[e],v|y,n);return function(t){return jt(i(t),e)}}function St(t,e,n){if(!(e in t))return null;const i=Q(t[e],_,n);return function(t){return Ft(i(t),e)}}function Pt(t,e,n){if(!(e in t))return null;const i=Q(t[e],_,n);return function(t){const n=Ft(i(t),e);if(2!==n.length)throw new Error(`Expected two numbers for ${e}`);return n}}function Mt(t,e,n){if(!(e in t))return null;const i=Q(t[e],_|A,n);return function(t){return zt(i(t),e)}}function Rt(t,e){const n=t[e];if(void 0!==n){if("number"!==typeof n)throw new Error(`Expected a number for ${e}`);return n}}function Tt(t,e){const n=t[e];if(void 0!==n){if("number"===typeof n)return(0,ut.xq)(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${e}`);if(2!==n.length||"number"!==typeof n[0]||"number"!==typeof n[1])throw new Error(`Expected a number or size array for ${e}`);return n}}function Gt(t,e){const n=t[e];if(void 0!==n){if("string"!==typeof n)throw new Error(`Expected a string for ${e}`);return n}}function Lt(t,e){const n=t[e];if(void 0!==n){if("bottom-left"!==n&&"bottom-right"!==n&&"top-left"!==n&&"top-right"!==n)throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return n}}function kt(t,e){const n=t[e];if(void 0!==n){if("pixels"!==n&&"fraction"!==n)throw new Error(`Expected pixels or fraction for ${e}`);return n}}function Ot(t,e){const n=t[e];if(void 0!==n)return Ft(n,e)}function Dt(t,e){const n=t[e];if(void 0!==n){if("string"!==typeof n)throw new Error(`Expected a string for ${e}`);if("declutter"!==n&&"obstacle"!==n&&"none"!==n)throw new Error(`Expected declutter, obstacle, or none for ${e}`);return n}}function Nt(t,e){const n=t[e];if(void 0!==n)return jt(n,e)}function Ft(t,e){if(!Array.isArray(t))throw new Error(`Expected an array for ${e}`);const n=t.length;for(let i=0;i<n;++i)if("number"!==typeof t[i])throw new Error(`Expected an array of numbers for ${e}`);return t}function Ut(t,e){if("string"!==typeof t)throw new Error(`Expected a string for ${e}`);return t}function Bt(t,e){if("number"!==typeof t)throw new Error(`Expected a number for ${e}`);return t}function jt(t,e){if("string"===typeof t)return t;const n=Ft(t,e),i=n.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return n}function zt(t,e){if("number"===typeof t)return t;const n=Ft(t,e);if(2!==n.length)throw new Error(`Expected an array of two numbers for ${e}`);return n}const Wt={RENDER_ORDER:"renderOrder"};class Vt extends i.A{constructor(t){t=t||{};const e=Object.assign({},t);delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,super(e),this.declutter_=void 0!==t.declutter&&t.declutter,this.renderBuffer_=void 0!==t.renderBuffer?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=void 0!==t.updateWhileAnimating&&t.updateWhileAnimating,this.updateWhileInteracting_=void 0!==t.updateWhileInteracting&&t.updateWhileInteracting}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(Wt.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t){t.declutterTree||(t.declutterTree=new r(9)),this.getRenderer().renderDeclutter(t)}setRenderOrder(t){this.set(Wt.RENDER_ORDER,t)}setStyle(t){this.style_=Yt(t),this.styleFunction_=null===t?void 0:(0,o.mC)(this.style_),this.changed()}}function Yt(t){if(void 0===t)return o.d1;if(!t)return null;if("function"===typeof t)return t;if(t instanceof o.Ay)return t;if(!Array.isArray(t))return pt([t]);if(0===t.length)return[];const e=t.length,n=t[0];if(n instanceof o.Ay){const n=new Array(e);for(let i=0;i<e;++i){const e=t[i];if(!(e instanceof o.Ay))throw new Error("Expected a list of style instances");n[i]=e}return n}if("style"in n){const n=new Array(e);for(let i=0;i<e;++i){const e=t[i];if(!("style"in e))throw new Error("Expected a list of rules with a style property");n[i]=e}return dt(n)}const i=t;return pt(i)}var Ht=Vt},3139:function(t,e,n){"use strict";n.d(e,{i:function(){return g}});n(4114);var i=n(9855),r=n(3844),o=n(2686),s=n(9078),a=n(7582),l=n(6555),c=n(1097),u=n(6811),h=n(7444),d=n(5752),p=n(8965);class g extends s.Ay{constructor(t,e){super(t),this.layer=e}}const f={LAYERS:"layers"};class m extends i.A{constructor(t){t=t||{};const e=Object.assign({},t);delete e.layers;let n=t.layers;super(e),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(f.LAYERS,this.handleLayersChanged_),n?Array.isArray(n)?n=new r.A(n.slice(),{unique:!0}):(0,c.v)("function"===typeof n.getArray,"Expected `layers` to be an array or a `Collection`"):n=new r.A(void 0,{unique:!0}),this.setLayers(n)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(p.JH),this.layersListenerKeys_.length=0;const t=this.getLayers();this.layersListenerKeys_.push((0,p.KT)(t,o.A.ADD,this.handleLayersAdd_,this),(0,p.KT)(t,o.A.REMOVE,this.handleLayersRemove_,this));for(const n in this.listenerKeys_)this.listenerKeys_[n].forEach(p.JH);(0,u.I)(this.listenerKeys_);const e=t.getArray();for(let n=0,i=e.length;n<i;n++){const t=e[n];this.registerLayerListeners_(t),this.dispatchEvent(new g("addlayer",t))}this.changed()}registerLayerListeners_(t){const e=[(0,p.KT)(t,l.A.PROPERTYCHANGE,this.handleLayerChange_,this),(0,p.KT)(t,a.A.CHANGE,this.handleLayerChange_,this)];t instanceof m&&e.push((0,p.KT)(t,"addlayer",this.handleLayerGroupAdd_,this),(0,p.KT)(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[(0,d.v6)(t)]=e}handleLayerGroupAdd_(t){this.dispatchEvent(new g("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new g("removelayer",t.layer))}handleLayersAdd_(t){const e=t.element;this.registerLayerListeners_(e),this.dispatchEvent(new g("addlayer",e)),this.changed()}handleLayersRemove_(t){const e=t.element,n=(0,d.v6)(e);this.listenerKeys_[n].forEach(p.JH),delete this.listenerKeys_[n],this.dispatchEvent(new g("removelayer",e)),this.changed()}getLayers(){return this.get(f.LAYERS)}setLayers(t){const e=this.getLayers();if(e){const t=e.getArray();for(let e=0,n=t.length;e<n;++e)this.dispatchEvent(new g("removelayer",t[e]))}this.set(f.LAYERS,t)}getLayersArray(t){return t=void 0!==t?t:[],this.getLayers().forEach((function(e){e.getLayersArray(t)})),t}getLayerStatesArray(t){const e=void 0!==t?t:[],n=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));const i=this.getLayerState();let r=i.zIndex;t||void 0!==i.zIndex||(r=0);for(let o=n,s=e.length;o<s;o++){const t=e[o];t.opacity*=i.opacity,t.visible=t.visible&&i.visible,t.maxResolution=Math.min(t.maxResolution,i.maxResolution),t.minResolution=Math.max(t.minResolution,i.minResolution),t.minZoom=Math.max(t.minZoom,i.minZoom),t.maxZoom=Math.min(t.maxZoom,i.maxZoom),void 0!==i.extent&&(void 0!==t.extent?t.extent=(0,h._N)(t.extent,i.extent):t.extent=i.extent),void 0===t.zIndex&&(t.zIndex=r)}return e}getSourceState(){return"ready"}}e.A=m},2425:function(t,e,n){"use strict";n.d(e,{l:function(){return d}});n(4114);var i=n(9855),r=n(7582),o=n(4543),s=n(3707),a=n(8699),l=n(1097),c=n(7444),u=n(8965);class h extends i.A{constructor(t){const e=Object.assign({},t);delete e.source,super(e),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(o.A.SOURCE,this.handleSourcePropertyChange_);const n=t.source?t.source:null;this.setSource(n)}getLayersArray(t){return t=t||[],t.push(this),t}getLayerStatesArray(t){return t=t||[],t.push(this.getLayerState()),t}getSource(){return this.get(o.A.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),this.sourceReady_||"ready"!==this.getSource().getState()||(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&((0,u.JH)(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const t=this.getSource();t&&(this.sourceChangeKey_=(0,u.KT)(t,r.A.CHANGE,this.handleSourceChange_,this),"ready"===t.getState()&&(this.sourceReady_=!0,setTimeout((()=>{this.dispatchEvent("sourceready")}),0))),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return this.renderer_&&this.rendered?this.renderer_.getData(t):null}isVisible(t){let e;const n=this.getMapInternal();let i;!t&&n&&(t=n.getView()),e=t instanceof a.Ay?{viewState:t.getState(),extent:t.calculateExtent()}:t,!e.layerStatesArray&&n&&(e.layerStatesArray=n.getLayerGroup().getLayerStatesArray()),i=e.layerStatesArray?e.layerStatesArray.find((t=>t.layer===this)):this.getLayerState();const r=this.getExtent();return d(i,e.viewState)&&(!r||(0,c.HY)(r,e.extent))}getAttributions(t){if(!this.isVisible(t))return[];let e;const n=this.getSource();if(n&&(e=n.getAttributions()),!e)return[];const i=t instanceof a.Ay?t.getViewStateAndExtent():t;let r=e(i);return Array.isArray(r)||(r=[r]),r}render(t,e){const n=this.getRenderer();return n.prepareFrame(t)?(this.rendered=!0,n.renderFrame(t,e)):null}unrender(){this.rendered=!1}setMapInternal(t){t||this.unrender(),this.set(o.A.MAP,t)}getMapInternal(){return this.get(o.A.MAP)}setMap(t){this.mapPrecomposeKey_&&((0,u.JH)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&((0,u.JH)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=(0,u.KT)(t,s.A.PRECOMPOSE,(function(t){const e=t,n=e.frameState.layerStatesArray,i=this.getLayerState(!1);(0,l.v)(!n.some((function(t){return t.layer===i.layer})),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),n.push(i)}),this),this.mapRenderKey_=(0,u.KT)(this,r.A.CHANGE,t.render,t),this.changed())}setSource(t){this.set(o.A.SOURCE,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function d(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const i=e.zoom;return i>t.minZoom&&i<=t.maxZoom}e.A=h},4543:function(t,e){"use strict";e.A={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"}},6273:function(t,e,n){"use strict";n.d(e,{A:function(){return C}});var i=n(6420),r=(n(4114),n(5073)),o=n(3525),s=n(6264),a=n(3707),l=n(6940),c=n(923),u=n(1194),h=n(7444),d=n(7334),p=n(4405),g=n(3851),f=n(5857),m=n(5752),A=n(8474);class y extends o.A{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=(0,h.S5)(),this.wrappedRenderedExtent_=(0,h.S5)(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.declutterExecutorGroup=null,this.clipping=!0,this.compositionContext_=null,this.opacity_=1}renderWorlds(t,e,n){const i=e.extent,r=e.viewState,o=r.center,s=r.resolution,a=r.projection,c=r.rotation,u=a.getExtent(),d=this.getLayer().getSource(),p=e.pixelRatio,g=e.viewHints,f=!(g[l.A.ANIMATING]||g[l.A.INTERACTING]),m=this.compositionContext_,A=Math.round(e.size[0]*p),y=Math.round(e.size[1]*p),v=d.getWrapX()&&a.canWrapX(),_=v?(0,h.RG)(u):null,C=v?Math.ceil((i[2]-u[2])/_)+1:1;let I=v?Math.floor((i[0]-u[0])/_):0;do{const e=this.getRenderTransform(o,s,c,p,A,y,I*_);t.execute(m,1,e,c,f,void 0,n)}while(++I<C)}setupCompositionContext_(){if(1!==this.opacity_){const t=(0,d.Y)(this.context.canvas.width,this.context.canvas.height,o.B);this.compositionContext_=t}else this.compositionContext_=this.context}releaseCompositionContext_(){if(1!==this.opacity_){const t=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=t,(0,d.Yg)(this.compositionContext_),o.B.push(this.compositionContext_.canvas),this.compositionContext_=null}}renderDeclutter(t){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree),this.releaseCompositionContext_())}renderFrame(t,e){const n=t.pixelRatio,i=t.layerStatesArray[t.layerIndex];(0,u.rQ)(this.pixelTransform,1/n,1/n),(0,u.T9)(this.inversePixelTransform,this.pixelTransform);const r=(0,u.dI)(this.pixelTransform);this.useContainer(e,r,this.getBackground(t));const o=this.context,s=o.canvas,l=this.replayGroup_,c=this.declutterExecutorGroup;let d=l&&!l.isEmpty()||c&&!c.isEmpty();if(!d){const t=this.getLayer().hasListener(a.A.PRERENDER)||this.getLayer().hasListener(a.A.POSTRENDER);if(!t)return null}const p=Math.round(t.size[0]*n),g=Math.round(t.size[1]*n);s.width!=p||s.height!=g?(s.width=p,s.height=g,s.style.transform!==r&&(s.style.transform=r)):this.containerReused||o.clearRect(0,0,p,g),this.preRender(o,t);const m=t.viewState,A=m.projection;this.opacity_=i.opacity,this.setupCompositionContext_();let y=!1;if(d&&i.extent&&this.clipping){const e=(0,f.SD)(i.extent,A);d=(0,h.HY)(e,t.extent),y=d&&!(0,h.ms)(e,t.extent),y&&this.clipUnrotated(this.compositionContext_,t,e)}return d&&this.renderWorlds(l,t),y&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(o,t),this.renderedRotation_!==m.rotation&&(this.renderedRotation_=m.rotation,this.hitDetectionImageData_=null),this.container}getFeatures(t){return new Promise((e=>{if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const t=[this.context.canvas.width,this.context.canvas.height];(0,u.Bb)(this.pixelTransform,t);const e=this.renderedCenter_,n=this.renderedResolution_,i=this.renderedRotation_,r=this.renderedProjection_,o=this.wrappedRenderedExtent_,s=this.getLayer(),a=[],l=t[0]*c.tF,d=t[1]*c.tF;a.push(this.getRenderTransform(e,n,i,c.tF,l,d,0).slice());const p=s.getSource(),g=r.getExtent();if(p.getWrapX()&&r.canWrapX()&&!(0,h.ms)(g,o)){let t=o[0];const r=(0,h.RG)(g);let s,u=0;while(t<g[0])--u,s=r*u,a.push(this.getRenderTransform(e,n,i,c.tF,l,d,s).slice()),t+=r;u=0,t=o[2];while(t>g[2])++u,s=r*u,a.push(this.getRenderTransform(e,n,i,c.tF,l,d,s).slice()),t-=r}this.hitDetectionImageData_=(0,c._7)(t,a,this.renderedFeatures_,s.getStyleFunction(),o,n,i)}e((0,c.F8)(t,this.renderedFeatures_,this.hitDetectionImageData_))}))}forEachFeatureAtCoordinate(t,e,n,i,r){if(!this.replayGroup_)return;const o=e.viewState.resolution,s=e.viewState.rotation,a=this.getLayer(),l={},c=function(t,e,n){const o=(0,m.v6)(t),s=l[o];if(s){if(!0!==s&&n<s.distanceSq){if(0===n)return l[o]=!0,r.splice(r.lastIndexOf(s),1),i(t,a,e);s.geometry=e,s.distanceSq=n}}else{if(0===n)return l[o]=!0,i(t,a,e);r.push(l[o]={feature:t,layer:a,geometry:e,distanceSq:n,callback:i})}};let u;const h=[this.replayGroup_];return this.declutterExecutorGroup&&h.push(this.declutterExecutorGroup),h.some((i=>u=i.forEachFeatureAtCoordinate(t,o,s,n,c,i===this.declutterExecutorGroup&&e.declutterTree?e.declutterTree.all().map((t=>t.value)):null))),u}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}prepareFrame(t){const e=this.getLayer(),n=e.getSource();if(!n)return!1;const i=t.viewHints[l.A.ANIMATING],o=t.viewHints[l.A.INTERACTING],a=e.getUpdateWhileAnimating(),c=e.getUpdateWhileInteracting();if(this.ready&&!a&&i||!c&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const u=t.extent,d=t.viewState,m=d.projection,y=d.resolution,v=t.pixelRatio,_=e.getRevision(),C=e.getRenderBuffer();let I=e.getRenderOrder();void 0===I&&(I=p.Eo);const E=d.center.slice(),w=(0,h.r)(u,C*y),b=w.slice(),x=[w.slice()],S=m.getExtent();if(n.getWrapX()&&m.canWrapX()&&!(0,h.ms)(S,t.extent)){const t=(0,h.RG)(S),e=Math.max((0,h.RG)(w)/2,t);w[0]=S[0]-e,w[2]=S[2]+e,(0,A.Li)(E,m);const n=(0,h.Li)(x[0],m);n[0]<S[0]&&n[2]<S[2]?x.push([n[0]+t,n[1],n[2]+t,n[3]]):n[0]>S[0]&&n[2]>S[2]&&x.push([n[0]-t,n[1],n[2]-t,n[3]])}if(this.ready&&this.renderedResolution_==y&&this.renderedRevision_==_&&this.renderedRenderOrder_==I&&(0,h.ms)(this.wrappedRenderedExtent_,w))return(0,g.aI)(this.renderedExtent_,b)||(this.hitDetectionImageData_=null,this.renderedExtent_=b),this.renderedCenter_=E,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const P=new r.A((0,p.gY)(y,v),w,y,v);let M;this.getLayer().getDeclutter()&&(M=new r.A((0,p.gY)(y,v),w,y,v));const R=(0,f.Tf)();let T;if(R){for(let t=0,e=x.length;t<e;++t){const e=x[t],i=(0,f.JR)(e,m);n.loadFeatures(i,(0,f.vN)(y,m),R)}T=(0,f.FO)(R,m)}else for(let r=0,s=x.length;r<s;++r)n.loadFeatures(x[r],y,m);const G=(0,p.j)(y,v);let L=!0;const k=t=>{let n;const i=t.getStyleFunction()||e.getStyleFunction();if(i&&(n=i(t,y)),n){const e=this.renderFeature(t,G,n,P,T,M);L=L&&!e}},O=(0,f.JR)(w,m),D=n.getFeaturesInExtent(O);I&&D.sort(I);for(let r=0,s=D.length;r<s;++r)k(D[r]);this.renderedFeatures_=D,this.ready=L;const N=P.finish(),F=new s.A(w,y,v,n.getOverlaps(),N,e.getRenderBuffer());return M&&(this.declutterExecutorGroup=new s.A(w,y,v,n.getOverlaps(),M.finish(),e.getRenderBuffer())),this.renderedResolution_=y,this.renderedRevision_=_,this.renderedRenderOrder_=I,this.renderedExtent_=b,this.wrappedRenderedExtent_=w,this.renderedCenter_=E,this.renderedProjection_=m,this.replayGroup_=F,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(t,e,n,i,r,o){if(!n)return!1;let s=!1;if(Array.isArray(n))for(let a=0,l=n.length;a<l;++a)s=(0,p.nl)(i,t,n[a],e,this.boundHandleStyleImageChange_,r,o)||s;else s=(0,p.nl)(i,t,n,e,this.boundHandleStyleImageChange_,r,o);return s}}var v=y;class _ extends i.A{constructor(t){super(t)}createRenderer(){return new v(this)}}var C=_},8655:function(t,e,n){"use strict";n.d(e,{Q7:function(){return i},Qk:function(){return r}});n(4114),n(5857);function i(t,e){return[[-1/0,-1/0,1/0,1/0]]}function r(t,e){return[t]}},5674:function(t,e,n){"use strict";function i(t,e,n){return Math.min(Math.max(t,e),n)}function r(t,e,n,i,r,s){const a=r-n,l=s-i;if(0!==a||0!==l){const o=((t-n)*a+(e-i)*l)/(a*a+l*l);o>1?(n=r,i=s):o>0&&(n+=a*o,i+=l*o)}return o(t,e,n,i)}function o(t,e,n,i){const r=n-t,o=i-e;return r*r+o*o}function s(t){const e=t.length;for(let i=0;i<e;i++){let n=i,r=Math.abs(t[i][i]);for(let s=i+1;s<e;s++){const e=Math.abs(t[s][i]);e>r&&(r=e,n=s)}if(0===r)return null;const o=t[n];t[n]=t[i],t[i]=o;for(let s=i+1;s<e;s++){const n=-t[s][i]/t[i][i];for(let r=i;r<e+1;r++)i==r?t[s][r]=0:t[s][r]+=n*t[i][r]}}const n=new Array(e);for(let i=e-1;i>=0;i--){n[i]=t[i][e]/t[i][i];for(let r=i-1;r>=0;r--)t[r][e]-=t[r][i]*n[i]}return n}function a(t){return t*Math.PI/180}function l(t,e){const n=t%e;return n*e<0?n+e:n}function c(t,e,n){return t+n*(e-t)}function u(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function h(t,e){return Math.round(u(t,e))}function d(t,e){return Math.floor(u(t,e))}function p(t,e){return Math.ceil(u(t,e))}n.d(e,{Cc:function(){return c},KU:function(){return s},LI:function(){return h},Mg:function(){return u},Q1:function(){return r},RI:function(){return d},eh:function(){return a},hG:function(){return o},mk:function(){return p},qE:function(){return i},xP:function(){return l}})},6811:function(t,e,n){"use strict";function i(t){for(const e in t)delete t[e]}function r(t){let e;for(e in t)return!1;return!e}n.d(e,{I:function(){return i},p:function(){return r}})},5857:function(t,e,n){"use strict";n.d(e,{Ig:function(){return y.I},hB:function(){return U},O3:function(){return O},bF:function(){return T},Av:function(){return N},RJ:function(){return P},tI:function(){return j},Rb:function(){return B},Ad:function(){return Z},SD:function(){return J},Jt:function(){return L},hO:function(){return k},RG:function(){return W},FO:function(){return z},Tf:function(){return q},te:function(){return X},JR:function(){return K},vN:function(){return Q},pd:function(){return V},DI:function(){return Y}});var i=n(7083);const r=6378137,o=Math.PI*r,s=[-o,-o,o,o],a=[-180,-85,180,85],l=r*Math.log(Math.tan(Math.PI/2));class c extends i.A{constructor(t){super({code:t,units:"m",extent:s,global:!0,worldExtent:a,getPointResolution:function(t,e){return t/Math.cosh(e[1]/r)}})}}const u=[new c("EPSG:3857"),new c("EPSG:102100"),new c("EPSG:102113"),new c("EPSG:900913"),new c("http://www.opengis.net/def/crs/EPSG/0/3857"),new c("http://www.opengis.net/gml/srs/epsg.xml#3857")];function h(t,e,n){const i=t.length;n=n>1?n:2,void 0===e&&(e=n>2?t.slice():new Array(i));for(let s=0;s<i;s+=n){e[s]=o*t[s]/180;let n=r*Math.log(Math.tan(Math.PI*(+t[s+1]+90)/360));n>l?n=l:n<-l&&(n=-l),e[s+1]=n}return e}function d(t,e,n){const i=t.length;n=n>1?n:2,void 0===e&&(e=n>2?t.slice():new Array(i));for(let s=0;s<i;s+=n)e[s]=180*t[s]/o,e[s+1]=360*Math.atan(Math.exp(t[s+1]/r))/Math.PI-90;return e}const p=6378137,g=[-180,-90,180,90],f=Math.PI*p/180;class m extends i.A{constructor(t,e){super({code:t,units:"degrees",extent:g,axisOrientation:e,global:!0,metersPerUnit:f,worldExtent:g})}}const A=[new m("CRS:84"),new m("EPSG:4326","neu"),new m("urn:ogc:def:crs:OGC:1.3:CRS84"),new m("urn:ogc:def:crs:OGC:2:84"),new m("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new m("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new m("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];var y=n(3311);let v={};function _(t){return v[t]||v[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function C(t,e){v[t]=e}var I=n(2899),E=n(7444),w=n(8474),b=n(3277),x=n(2155);let S=!0;function P(t){const e=void 0===t||t;S=!e}function M(t,e){if(void 0!==e)for(let n=0,i=t.length;n<i;++n)e[n]=t[n];else e=t.slice();return e}function R(t,e){if(void 0!==e&&t!==e){for(let n=0,i=t.length;n<i;++n)e[n]=t[n];t=e}return t}function T(t){C(t.getCode(),t),(0,I.WQ)(t,t,M)}function G(t){t.forEach(T)}function L(t){return"string"===typeof t?_(t):t||null}function k(t,e,n,i){let r;t=L(t);const o=t.getPointResolutionFunc();if(o){if(r=o(e,n),i&&i!==t.getUnits()){const e=t.getMetersPerUnit();e&&(r=r*e/y.I[i])}}else{const o=t.getUnits();if("degrees"==o&&!i||"degrees"==i)r=e;else{const s=z(t,L("EPSG:4326"));if(s===R&&"degrees"!==o)r=e*t.getMetersPerUnit();else{let t=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];t=s(t,t,2);const i=(0,b.Yf)(t.slice(0,2),t.slice(2,4)),o=(0,b.Yf)(t.slice(4,6),t.slice(6,8));r=(i+o)/2}const a=i?y.I[i]:t.getMetersPerUnit();void 0!==a&&(r/=a)}}return r}function O(t){G(t),t.forEach((function(e){t.forEach((function(t){e!==t&&(0,I.WQ)(e,t,M)}))}))}function D(t,e,n,i){t.forEach((function(t){e.forEach((function(e){(0,I.WQ)(t,e,n),(0,I.WQ)(e,t,i)}))}))}function N(t,e){return t?"string"===typeof t?L(t):t:L(e)}function F(t){return function(e,n,i){const r=e.length;i=void 0!==i?i:2,n=void 0!==n?n:new Array(r);for(let o=0;o<r;o+=i){const r=t(e.slice(o,o+i)),s=r.length;for(let t=0,a=i;t<a;++t)n[o+t]=t>=s?e[o+t]:r[t]}return n}}function U(t,e,n,i){const r=L(t),o=L(e);(0,I.WQ)(r,o,F(n)),(0,I.WQ)(o,r,F(i))}function B(t,e){return P(),V(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function j(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();if(t.getCode()===e.getCode())return n;const i=z(t,e);return i===M&&n}function z(t,e){const n=t.getCode(),i=e.getCode();let r=(0,I.Jt)(n,i);return r||(r=R),r}function W(t,e){const n=L(t),i=L(e);return z(n,i)}function V(t,e,n){const i=W(e,n);return i(t,void 0,t.length)}function Y(t,e,n,i){const r=W(e,n);return(0,E.NW)(t,r,void 0,i)}let H=null;function q(){return H}function X(t,e){return H?V(t,e,H):t}function Z(t,e){return H?V(t,H,e):(S&&!(0,w.aI)(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(S=!1,(0,x.R8)("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t)}function K(t,e){return H?Y(t,e,H):t}function J(t,e){return H?Y(t,H,e):t}function Q(t,e){if(!H)return t;const n=L(e).getMetersPerUnit(),i=H.getMetersPerUnit();return n&&i?t*n/i:t}function $(){O(u),O(A),D(A,u,h,d)}$()},7083:function(t,e,n){"use strict";var i=n(3311);class r{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||i.I[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}e.A=r},3311:function(t,e,n){"use strict";n.d(e,{I:function(){return i}});const i={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937}},2899:function(t,e,n){"use strict";n.d(e,{Jt:function(){return o},WQ:function(){return r}});let i={};function r(t,e,n){const r=t.getCode(),o=e.getCode();r in i||(i[r]={}),i[r][o]=n}function o(t,e){let n;return t in i&&e in i[t]&&(n=i[t][e]),n}},6355:function(t,e,n){"use strict";var i=n(9078);class r extends i.Ay{constructor(t,e,n,i){super(t),this.inversePixelTransform=e,this.frameState=n,this.context=i}}e.A=r},3707:function(t,e){"use strict";e.A={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}},3077:function(t,e,n){"use strict";var i=n(1194),r=n(7444),o=n(3344),s=n(3851),a=n(7689),l=n(5857),c=n(1853),u=n(5572),h=n(8298),d=n(9331),p=n(3371);const g=(0,i.vt)();class f{constructor(t,e,n,i,r,o){this.styleFunction,this.extent_,this.id_=o,this.type_=t,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=n,this.properties_=r,this.squaredTolerance_,this.stride_=i,this.simplifiedGeometry_}get(t){return this.properties_[t]}getExtent(){return this.extent_||(this.extent_="Point"===this.type_?(0,r.dP)(this.flatCoordinates_):(0,r.Vy)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const t=(0,r.q1)(this.getExtent());this.flatInteriorPoints_=(0,a.J)(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const t=(0,c.yJ)(this.flatCoordinates_,this.ends_),e=(0,h.C)(this.flatCoordinates_,0,t,2);this.flatInteriorPoints_=(0,a.p)(this.flatCoordinates_,0,t,2,e)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=(0,u.SH)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const t=this.flatCoordinates_;let e=0;const n=this.ends_;for(let i=0,r=n.length;i<r;++i){const r=n[i],o=(0,u.SH)(t,e,r,2,.5);(0,s.X$)(this.flatMidpoints_,o),e=r}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(t){return this}simplifyTransformed(t,e){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(t){t=(0,l.Jt)(t);const e=t.getExtent(),n=t.getWorldExtent();if(e&&n){const t=(0,r.Oq)(n)/(0,r.Oq)(e);(0,i.Zz)(g,n[0],n[3],t,-t,0,0,0),(0,p.Rc)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,g,this.flatCoordinates_)}}applyTransform(t){t(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new f(this.type_,this.flatCoordinates_.slice(),this.ends_.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=(0,d.B4)(((t,e)=>{if(t===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),e&&this.simplifiedGeometry_.applyTransform(e);const n=this.simplifiedGeometry_.getFlatCoordinates();let i;switch(this.type_){case"LineString":n.length=(0,o.P4)(n,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,t,n,0),i=[n.length];break;case"MultiLineString":i=[],n.length=(0,o.AL)(n,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,t,n,0,i);break;case"Polygon":i=[],n.length=(0,o.Hg)(n,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(t),n,0,i);break;default:}return i&&(this.simplifiedGeometry_=new f(this.type_,n,i,2,this.properties_,this.id_)),this.squaredTolerance_=t,this.simplifiedGeometry_})),this}}f.prototype.getFlatCoordinates=f.prototype.getOrientedFlatCoordinates,e.Ay=f},9021:function(t,e){"use strict";class n{drawCustom(t,e,n,i){}drawGeometry(t){}setStyle(t){}drawCircle(t,e){}drawFeature(t,e){}drawGeometryCollection(t,e){}drawLineString(t,e){}drawMultiLineString(t,e){}drawMultiPoint(t,e){}drawMultiPolygon(t,e){}drawPoint(t,e){}drawPolygon(t,e){}drawText(t,e){}setFillStrokeStyle(t,e){}setImageStyle(t,e){}setTextStyle(t,e){}}e.A=n},8911:function(t,e,n){"use strict";n.d(e,{Jw:function(){return R},M8:function(){return A},MY:function(){return m},NT:function(){return f},Oq:function(){return h},TA:function(){return P},Tq:function(){return y},ZV:function(){return l},_K:function(){return p},_m:function(){return u},aq:function(){return v},eL:function(){return g},fZ:function(){return w},jT:function(){return M},qY:function(){return c},vk:function(){return d},yY:function(){return _}});n(4114);var i=n(1611),r=n(502),o=n(6811),s=n(7334),a=n(4109);const l="10px sans-serif",c="#000",u="round",h=[],d=0,p="round",g=10,f="#000",m="center",A="middle",y=[0,0,0,0],v=1,_=new i.A;let C,I=null;const E={},w=function(){const t=100,e="32px ",n=["monospace","serif"],i=n.length,r="wmytzilWMYTZIL@#/&?$%10";let s,l;function c(t,o,s){let a=!0;for(let c=0;c<i;++c){const i=n[c];if(l=S(t+" "+o+" "+e+i,r),s!=i){const n=S(t+" "+o+" "+e+s+","+i,r);a=a&&n!=l}}return!!a}function u(){let e=!0;const n=_.getKeys();for(let i=0,r=n.length;i<r;++i){const r=n[i];_.get(r)<t&&(c.apply(this,r.split("\n"))?((0,o.I)(E),I=null,C=void 0,_.set(r,t)):(_.set(r,_.get(r)+1,!0),e=!1))}e&&(clearInterval(s),s=void 0)}return function(e){const n=(0,a.K5)(e);if(!n)return;const i=n.families;for(let r=0,o=i.length;r<o;++r){const e=i[r],o=n.style+"\n"+n.weight+"\n"+e;void 0===_.get(o)&&(_.set(o,t,!0),c(n.style,n.weight,e)||(_.set(o,0,!0),void 0===s&&(s=setInterval(u,32))))}}}(),b=function(){let t;return function(e){let n=E[e];if(void 0==n){if(r.Wl){const t=(0,a.K5)(e),i=x(e,"Žg"),r=isNaN(Number(t.lineHeight))?1.2:Number(t.lineHeight);n=r*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),n=t.offsetHeight,document.body.removeChild(t);E[e]=n}return n}}();function x(t,e){return I||(I=(0,s.Y)(1,1)),t!=C&&(I.font=t,C=I.font),I.measureText(e)}function S(t,e){return x(t,e).width}function P(t,e,n){if(e in n)return n[e];const i=e.split("\n").reduce(((e,n)=>Math.max(e,S(t,n))),0);return n[e]=i,i}function M(t,e){const n=[],i=[],r=[];let o=0,s=0,a=0,l=0;for(let c=0,u=e.length;c<=u;c+=2){const h=e[c];if("\n"===h||c===u){o=Math.max(o,s),r.push(s),s=0,a+=l;continue}const d=e[c+1]||t.font,p=S(d,h);n.push(p),s+=p;const g=b(d);i.push(g),l=Math.max(l,g)}return{width:o,height:a,widths:n,heights:i,lineWidths:r}}function R(t,e,n,i,r,o,s,a,l,c,u){t.save(),1!==n&&(t.globalAlpha*=n),e&&t.transform.apply(t,e),i.contextInstructions?(t.translate(l,c),t.scale(u[0],u[1]),T(i,t)):u[0]<0||u[1]<0?(t.translate(l,c),t.scale(u[0],u[1]),t.drawImage(i,r,o,s,a,0,0,s,a)):t.drawImage(i,r,o,s,a,l,c,s*u[0],a*u[1]),t.restore()}function T(t,e){const n=t.contextInstructions;for(let i=0,r=n.length;i<r;i+=2)Array.isArray(n[i+1])?e[n[i]].apply(e,n[i+1]):e[n[i]]=n[i+1]}},3615:function(t,e,n){"use strict";n(4114);var i=n(1116),r=n(1945),o=n(9021),s=n(6294),a=n(7444),l=n(8911),c=n(3851),u=n(4476);class h extends o.A{constructor(t,e,n,i){super(),this.tolerance=t,this.maxExtent=e,this.pixelRatio=i,this.maxLineWidth=0,this.resolution=n,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){const e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))}appendFlatPointCoordinates(t,e){const n=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,r=this.coordinates;let o=r.length;for(let s=0,l=t.length;s<l;s+=e)i[0]=t[s],i[1]=t[s+1],(0,a.Ym)(n,i)&&(r[o++]=i[0],r[o++]=i[1]);return o}appendFlatLineCoordinates(t,e,n,i,o,s){const l=this.coordinates;let c=l.length;const u=this.getBufferedMaxExtent();s&&(e+=i);let h=t[e],d=t[e+1];const p=this.tmpCoordinate_;let g,f,m,A=!0;for(g=e+i;g<n;g+=i)p[0]=t[g],p[1]=t[g+1],m=(0,a.vz)(u,p),m!==f?(A&&(l[c++]=h,l[c++]=d,A=!1),l[c++]=p[0],l[c++]=p[1]):m===r.A.INTERSECTING?(l[c++]=p[0],l[c++]=p[1],A=!1):A=!0,h=p[0],d=p[1],f=m;return(o&&A||g===e+i)&&(l[c++]=h,l[c++]=d),c}drawCustomCoordinates_(t,e,n,i,r){for(let o=0,s=n.length;o<s;++o){const s=n[o],a=this.appendFlatLineCoordinates(t,e,s,i,!1,!1);r.push(a),e=s}return e}drawCustom(t,e,n,r){this.beginGeometry(t,e);const o=t.getType(),s=t.getStride(),a=this.coordinates.length;let l,c,h,d,p;switch(o){case"MultiPolygon":l=t.getOrientedFlatCoordinates(),d=[];const e=t.getEndss();p=0;for(let t=0,n=e.length;t<n;++t){const n=[];p=this.drawCustomCoordinates_(l,p,e[t],s,n),d.push(n)}this.instructions.push([i.Ay.CUSTOM,a,d,t,n,u.Dz]),this.hitDetectionInstructions.push([i.Ay.CUSTOM,a,d,t,r||n,u.Dz]);break;case"Polygon":case"MultiLineString":h=[],l="Polygon"==o?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),p=this.drawCustomCoordinates_(l,0,t.getEnds(),s,h),this.instructions.push([i.Ay.CUSTOM,a,h,t,n,u.cD]),this.hitDetectionInstructions.push([i.Ay.CUSTOM,a,h,t,r||n,u.cD]);break;case"LineString":case"Circle":l=t.getFlatCoordinates(),c=this.appendFlatLineCoordinates(l,0,l.length,s,!1,!1),this.instructions.push([i.Ay.CUSTOM,a,c,t,n,u.n2]),this.hitDetectionInstructions.push([i.Ay.CUSTOM,a,c,t,r||n,u.n2]);break;case"MultiPoint":l=t.getFlatCoordinates(),c=this.appendFlatPointCoordinates(l,s),c>a&&(this.instructions.push([i.Ay.CUSTOM,a,c,t,n,u.n2]),this.hitDetectionInstructions.push([i.Ay.CUSTOM,a,c,t,r||n,u.n2]));break;case"Point":l=t.getFlatCoordinates(),this.coordinates.push(l[0],l[1]),c=this.coordinates.length,this.instructions.push([i.Ay.CUSTOM,a,c,t,n]),this.hitDetectionInstructions.push([i.Ay.CUSTOM,a,c,t,r||n]);break;default:}this.endGeometry(e)}beginGeometry(t,e){this.beginGeometryInstruction1_=[i.Ay.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[i.Ay.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const t=this.hitDetectionInstructions;let e;t.reverse();const n=t.length;let r,o,s=-1;for(e=0;e<n;++e)r=t[e],o=r[0],o==i.Ay.END_GEOMETRY?s=e:o==i.Ay.BEGIN_GEOMETRY&&(r[2]=e,(0,c.gI)(this.hitDetectionInstructions,s,e),s=-1)}setFillStrokeStyle(t,e){const n=this.state;if(t){const e=t.getColor();n.fillStyle=(0,s.F)(e||l.qY)}else n.fillStyle=void 0;if(e){const t=e.getColor();n.strokeStyle=(0,s.F)(t||l.NT);const i=e.getLineCap();n.lineCap=void 0!==i?i:l._m;const r=e.getLineDash();n.lineDash=r?r.slice():l.Oq;const o=e.getLineDashOffset();n.lineDashOffset=o||l.vk;const a=e.getLineJoin();n.lineJoin=void 0!==a?a:l._K;const c=e.getWidth();n.lineWidth=void 0!==c?c:l.aq;const u=e.getMiterLimit();n.miterLimit=void 0!==u?u:l.eL,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0}createFill(t){const e=t.fillStyle,n=[i.Ay.SET_FILL_STYLE,e];return"string"!==typeof e&&n.push(!0),n}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[i.Ay.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,e){const n=t.fillStyle;"string"===typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)}updateStrokeStyle(t,e){const n=t.strokeStyle,i=t.lineCap,r=t.lineDash,o=t.lineDashOffset,s=t.lineJoin,a=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=i||r!=t.currentLineDash&&!(0,c.aI)(t.currentLineDash,r)||t.currentLineDashOffset!=o||t.currentLineJoin!=s||t.currentLineWidth!=a||t.currentMiterLimit!=l)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=i,t.currentLineDash=r,t.currentLineDashOffset=o,t.currentLineJoin=s,t.currentLineWidth=a,t.currentMiterLimit=l)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const e=[i.Ay.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,a.o8)(this.maxExtent),this.maxLineWidth>0)){const t=this.resolution*(this.maxLineWidth+1)/2;(0,a.r)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}e.A=h},5073:function(t,e,n){"use strict";n.d(e,{A:function(){return m}});var i=n(3615),r=(n(4114),n(1116));class o extends i.A{constructor(t,e,n,i){super(t,e,n,i),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,e){if(!this.image_)return;this.beginGeometry(t,e);const n=t.getFlatCoordinates(),i=t.getStride(),o=this.coordinates.length,s=this.appendFlatPointCoordinates(n,i);this.instructions.push([r.Ay.DRAW_IMAGE,o,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([r.Ay.DRAW_IMAGE,o,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}drawMultiPoint(t,e){if(!this.image_)return;this.beginGeometry(t,e);const n=t.getFlatCoordinates(),i=t.getStride(),o=this.coordinates.length,s=this.appendFlatPointCoordinates(n,i);this.instructions.push([r.Ay.DRAW_IMAGE,o,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([r.Ay.DRAW_IMAGE,o,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,e){const n=t.getAnchor(),i=t.getSize(),r=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=r[0],this.originY_=r[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=i[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e}}var s=o,a=n(8911);class l extends i.A{constructor(t,e,n,i){super(t,e,n,i)}drawFlatCoordinates_(t,e,n,i){const o=this.coordinates.length,s=this.appendFlatLineCoordinates(t,e,n,i,!1,!1),a=[r.Ay.MOVE_TO_LINE_TO,o,s];return this.instructions.push(a),this.hitDetectionInstructions.push(a),n}drawLineString(t,e){const n=this.state,i=n.strokeStyle,o=n.lineWidth;if(void 0===i||void 0===o)return;this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([r.Ay.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,a.Oq,a.vk],r.th);const s=t.getFlatCoordinates(),l=t.getStride();this.drawFlatCoordinates_(s,0,s.length,l),this.hitDetectionInstructions.push(r.VD),this.endGeometry(e)}drawMultiLineString(t,e){const n=this.state,i=n.strokeStyle,o=n.lineWidth;if(void 0===i||void 0===o)return;this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([r.Ay.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,a.Oq,a.vk],r.th);const s=t.getEnds(),l=t.getFlatCoordinates(),c=t.getStride();let u=0;for(let r=0,a=s.length;r<a;++r)u=this.drawFlatCoordinates_(l,u,s[r],c);this.hitDetectionInstructions.push(r.VD),this.endGeometry(e)}finish(){const t=this.state;return void 0!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(r.VD),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){void 0!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(r.VD),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(r.th)}}var c=l,u=n(3344);class h extends i.A{constructor(t,e,n,i){super(t,e,n,i)}drawFlatCoordinatess_(t,e,n,i){const o=this.state,s=void 0!==o.fillStyle,a=void 0!==o.strokeStyle,l=n.length;this.instructions.push(r.th),this.hitDetectionInstructions.push(r.th);for(let c=0;c<l;++c){const o=n[c],s=this.coordinates.length,l=this.appendFlatLineCoordinates(t,e,o,i,!0,!a),u=[r.Ay.MOVE_TO_LINE_TO,s,l];this.instructions.push(u),this.hitDetectionInstructions.push(u),a&&(this.instructions.push(r.kx),this.hitDetectionInstructions.push(r.kx)),e=o}return s&&(this.instructions.push(r.I5),this.hitDetectionInstructions.push(r.I5)),a&&(this.instructions.push(r.VD),this.hitDetectionInstructions.push(r.VD)),e}drawCircle(t,e){const n=this.state,i=n.fillStyle,o=n.strokeStyle;if(void 0===i&&void 0===o)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([r.Ay.SET_FILL_STYLE,a.qY]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([r.Ay.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,a.Oq,a.vk]);const s=t.getFlatCoordinates(),l=t.getStride(),c=this.coordinates.length;this.appendFlatLineCoordinates(s,0,s.length,l,!1,!1);const u=[r.Ay.CIRCLE,c];this.instructions.push(r.th,u),this.hitDetectionInstructions.push(r.th,u),void 0!==n.fillStyle&&(this.instructions.push(r.I5),this.hitDetectionInstructions.push(r.I5)),void 0!==n.strokeStyle&&(this.instructions.push(r.VD),this.hitDetectionInstructions.push(r.VD)),this.endGeometry(e)}drawPolygon(t,e){const n=this.state,i=n.fillStyle,o=n.strokeStyle;if(void 0===i&&void 0===o)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([r.Ay.SET_FILL_STYLE,a.qY]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([r.Ay.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,a.Oq,a.vk]);const s=t.getEnds(),l=t.getOrientedFlatCoordinates(),c=t.getStride();this.drawFlatCoordinatess_(l,0,s,c),this.endGeometry(e)}drawMultiPolygon(t,e){const n=this.state,i=n.fillStyle,o=n.strokeStyle;if(void 0===i&&void 0===o)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([r.Ay.SET_FILL_STYLE,a.qY]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([r.Ay.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,a.Oq,a.vk]);const s=t.getEndss(),l=t.getOrientedFlatCoordinates(),c=t.getStride();let u=0;for(let r=0,a=s.length;r<a;++r)u=this.drawFlatCoordinatess_(l,u,s[r],c);this.endGeometry(e)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const t=this.tolerance;if(0!==t){const e=this.coordinates;for(let n=0,i=e.length;n<i;++n)e[n]=(0,u.n$)(e[n],t)}return super.finish()}setFillStrokeStyles_(){const t=this.state,e=t.fillStyle;void 0!==e&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)}}var d=h,p=n(4369);const g={Circle:d,Default:i.A,Image:s,LineString:c,Polygon:d,Text:p.A};class f{constructor(t,e,n,i){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=i,this.resolution_=n,this.buildersByZIndex_={}}finish(){const t={};for(const e in this.buildersByZIndex_){t[e]=t[e]||{};const n=this.buildersByZIndex_[e];for(const i in n){const r=n[i].finish();t[e][i]=r}}return t}getBuilder(t,e){const n=void 0!==t?t.toString():"0";let i=this.buildersByZIndex_[n];void 0===i&&(i={},this.buildersByZIndex_[n]=i);let r=i[e];if(void 0===r){const t=g[e];r=new t(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[e]=r}return r}}var m=f},6264:function(t,e,n){"use strict";n.d(e,{A:function(){return R}});n(4114);var i=n(1116),r=n(4369),o=n(1194),s=n(7444),a=n(8911),l=n(5674),c=n(3371);function u(t,e,n,i,r,o,s,a,u,h,d,p){let g=t[e],f=t[e+1],m=0,A=0,y=0,v=0;function _(){m=g,A=f,e+=i,g=t[e],f=t[e+1],v+=y,y=Math.sqrt((g-m)*(g-m)+(f-A)*(f-A))}do{_()}while(e<n-i&&v+y<o);let C=0===y?0:(o-v)/y;const I=(0,l.Cc)(m,g,C),E=(0,l.Cc)(A,f,C),w=e-i,b=v,x=o+a*u(h,r,d);while(e<n-i&&v+y<x)_();C=0===y?0:(x-v)/y;const S=(0,l.Cc)(m,g,C),P=(0,l.Cc)(A,f,C);let M;if(p){const t=[I,E,S,P];(0,c.e$)(t,0,4,2,p,t,t),M=t[0]>t[2]}else M=I>S;const R=Math.PI,T=[],G=w+i===e;let L;if(e=w,y=0,v=b,g=t[e],f=t[e+1],G){_(),L=Math.atan2(f-A,g-m),M&&(L+=L>0?-R:R);const t=(S+I)/2,e=(P+E)/2;return T[0]=[t,e,(x-o)/2,L,r],T}r=r.replace(/\n/g," ");for(let c=0,k=r.length;c<k;){_();let t=Math.atan2(f-A,g-m);if(M&&(t+=t>0?-R:R),void 0!==L){let e=t-L;if(e+=e>R?-2*R:e<-R?2*R:0,Math.abs(e)>s)return null}L=t;const p=c;let I=0;for(;c<k;++c){const t=M?k-c-1:c,s=a*u(h,r[t],d);if(e+i<n&&v+y<o+I+s/2)break;I+=s}if(c===p)continue;const E=M?r.substring(k-p,k-c):r.substring(p,c);C=0===y?0:(o+I/2-v)/y;const w=(0,l.Cc)(m,g,C),b=(0,l.Cc)(A,f,C);T.push([w,b,I/2,t,E]),o+=I}return T}var h=n(3851),d=n(5907);const p=(0,s.S5)(),g=[],f=[],m=[],A=[];function y(t){return t[3].declutterBox}const v=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function _(t,e){return"start"===e?e=v.test(t)?"right":"left":"end"===e&&(e=v.test(t)?"left":"right"),r.E[e]}function C(t,e,n){return n>0&&t.push("\n",""),t.push(e,""),t}class I{constructor(t,e,n,i){this.overlaps=n,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=(0,o.vt)(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}createLabel(t,e,n,i){const o=t+e+n+i;if(this.labels_[o])return this.labels_[o];const s=i?this.strokeStates[i]:null,l=n?this.fillStates[n]:null,c=this.textStates[e],u=this.pixelRatio,h=[c.scale[0]*u,c.scale[1]*u],d=Array.isArray(t),p=c.justify?r.E[c.justify]:_(Array.isArray(t)?t[0]:t,c.textAlign||a.MY),g=i&&s.lineWidth?s.lineWidth:0,f=d?t:t.split("\n").reduce(C,[]),{width:m,height:A,widths:y,heights:v,lineWidths:I}=(0,a.jT)(c,f),E=m+g,w=[],b=(E+2)*h[0],x=(A+g)*h[1],S={width:b<0?Math.floor(b):Math.ceil(b),height:x<0?Math.floor(x):Math.ceil(x),contextInstructions:w};1==h[0]&&1==h[1]||w.push("scale",h),i&&(w.push("strokeStyle",s.strokeStyle),w.push("lineWidth",g),w.push("lineCap",s.lineCap),w.push("lineJoin",s.lineJoin),w.push("miterLimit",s.miterLimit),w.push("setLineDash",[s.lineDash]),w.push("lineDashOffset",s.lineDashOffset)),n&&w.push("fillStyle",l.fillStyle),w.push("textBaseline","middle"),w.push("textAlign","center");const P=.5-p;let M=p*E+P*g;const R=[],T=[];let G,L=0,k=0,O=0,D=0;for(let r=0,a=f.length;r<a;r+=2){const t=f[r];if("\n"===t){k+=L,L=0,M=p*E+P*g,++D;continue}const e=f[r+1]||c.font;e!==G&&(i&&R.push("font",e),n&&T.push("font",e),G=e),L=Math.max(L,v[O]);const o=[t,M+P*y[O]+p*(y[O]-I[D]),.5*(g+L)+k];M+=y[O],i&&R.push("strokeText",o),n&&T.push("fillText",o),++O}return Array.prototype.push.apply(w,R),Array.prototype.push.apply(w,T),this.labels_[o]=S,S}replayTextBackground_(t,e,n,i,r,o,s){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())}calculateImageOrLabelDimensions_(t,e,n,i,r,a,l,c,u,h,d,y,v,_,C,I){l*=y[0],c*=y[1];let E=n-l,w=i-c;const b=r+u>t?t-u:r,x=a+h>e?e-h:a,S=_[3]+b*y[0]+_[1],P=_[0]+x*y[1]+_[2],M=E-_[3],R=w-_[0];let T;return(C||0!==d)&&(g[0]=M,A[0]=M,g[1]=R,f[1]=R,f[0]=M+S,m[0]=f[0],m[1]=R+P,A[1]=m[1]),0!==d?(T=(0,o.Zz)((0,o.vt)(),n,i,1,1,d,-n,-i),(0,o.Bb)(T,g),(0,o.Bb)(T,f),(0,o.Bb)(T,m),(0,o.Bb)(T,A),(0,s.N)(Math.min(g[0],f[0],m[0],A[0]),Math.min(g[1],f[1],m[1],A[1]),Math.max(g[0],f[0],m[0],A[0]),Math.max(g[1],f[1],m[1],A[1]),p)):(0,s.N)(Math.min(M,M+S),Math.min(R,R+P),Math.max(M,M+S),Math.max(R,R+P),p),v&&(E=Math.round(E),w=Math.round(w)),{drawImageX:E,drawImageY:w,drawImageW:b,drawImageH:x,originX:u,originY:h,declutterBox:{minX:p[0],minY:p[1],maxX:p[2],maxY:p[3],value:I},canvasTransform:T,scale:y}}replayImageOrLabel_(t,e,n,i,r,o,s){const l=!(!o&&!s),c=i.declutterBox,u=t.canvas,h=s?s[2]*i.scale[0]/2:0,d=c.minX-h<=u.width/e&&c.maxX+h>=0&&c.minY-h<=u.height/e&&c.maxY+h>=0;return d&&(l&&this.replayTextBackground_(t,g,f,m,A,o,s),(0,a.Jw)(t,i.canvasTransform,r,n,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0}fill_(t){if(this.alignFill_){const e=(0,o.Bb)(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.save(),t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()}setStrokeStyle_(t,e){t["strokeStyle"]=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.lineDashOffset=e[7],t.setLineDash(e[6])}drawLabelWithPointPlacement_(t,e,n,i){const o=this.textStates[e],s=this.createLabel(t,e,i,n),l=this.strokeStates[n],c=this.pixelRatio,u=_(Array.isArray(t)?t[0]:t,o.textAlign||a.MY),h=r.E[o.textBaseline||a.M8],d=l&&l.lineWidth?l.lineWidth:0,p=s.width/c-2*o.scale[0],g=u*p+2*(.5-u)*d,f=h*s.height/c+2*(.5-h)*d;return{label:s,anchorX:g,anchorY:f}}execute_(t,e,n,r,l,p,g,f){let m;this.pixelCoordinates_&&(0,h.aI)(n,this.renderedTransform_)?m=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),m=(0,c.Rc)(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),(0,o.k3)(this.renderedTransform_,n));let A=0;const v=r.length;let C,I,E,w,b,x,S,P,M,R,T,G,L=0,k=0,O=0,D=null,N=null;const F=this.coordinateCache_,U=this.viewRotation_,B=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,j={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:U},z=this.instructions!=r||this.overlaps?0:200;let W,V,Y,H;while(A<v){const n=r[A],o=n[0];switch(o){case i.Ay.BEGIN_GEOMETRY:W=n[1],H=n[3],W.getGeometry()?void 0===g||(0,s.HY)(g,H.getExtent())?++A:A=n[2]+1:A=n[2];break;case i.Ay.BEGIN_PATH:k>z&&(this.fill_(t),k=0),O>z&&(t.stroke(),O=0),k||O||(t.beginPath(),w=NaN,b=NaN),++A;break;case i.Ay.CIRCLE:L=n[1];const r=m[L],o=m[L+1],c=m[L+2],h=m[L+3],v=c-r,q=h-o,X=Math.sqrt(v*v+q*q);t.moveTo(r+X,o),t.arc(r,o,X,0,2*Math.PI,!0),++A;break;case i.Ay.CLOSE_PATH:t.closePath(),++A;break;case i.Ay.CUSTOM:L=n[1],C=n[2];const Z=n[3],K=n[4],J=6==n.length?n[5]:void 0;j.geometry=Z,j.feature=W,A in F||(F[A]=[]);const Q=F[A];J?J(m,L,C,2,Q):(Q[0]=m[L],Q[1]=m[L+1],Q.length=2),K(Q,j),++A;break;case i.Ay.DRAW_IMAGE:L=n[1],C=n[2],P=n[3],I=n[4],E=n[5];let $=n[6];const tt=n[7],et=n[8],nt=n[9],it=n[10];let rt=n[11];const ot=n[12];let st=n[13];const at=n[14],lt=n[15];if(!P&&n.length>=20){M=n[19],R=n[20],T=n[21],G=n[22];const t=this.drawLabelWithPointPlacement_(M,R,T,G);P=t.label,n[3]=P;const e=n[23];I=(t.anchorX-e)*this.pixelRatio,n[4]=I;const i=n[24];E=(t.anchorY-i)*this.pixelRatio,n[5]=E,$=P.height,n[6]=$,st=P.width,n[13]=st}let ct,ut,ht,dt;n.length>25&&(ct=n[25]),n.length>17?(ut=n[16],ht=n[17],dt=n[18]):(ut=a.Tq,ht=!1,dt=!1),it&&B?rt+=U:it||B||(rt-=U);let pt=0;for(;L<C;L+=2){if(ct&&ct[pt++]<st/this.pixelRatio)continue;const n=this.calculateImageOrLabelDimensions_(P.width,P.height,m[L],m[L+1],st,$,I,E,et,nt,rt,ot,l,ut,ht||dt,W),i=[t,e,P,n,tt,ht?D:null,dt?N:null];if(f){if("none"===at)continue;if("obstacle"===at){f.insert(n.declutterBox);continue}{let t,e;if(lt){const n=C-L;if(!lt[n]){lt[n]=i;continue}if(t=lt[n],delete lt[n],e=y(t),f.collides(e))continue}if(f.collides(n.declutterBox))continue;t&&(f.insert(e),this.replayImageOrLabel_.apply(this,t)),f.insert(n.declutterBox)}}this.replayImageOrLabel_.apply(this,i)}++A;break;case i.Ay.DRAW_CHARS:const gt=n[1],ft=n[2],mt=n[3],At=n[4];G=n[5];const yt=n[6],vt=n[7],_t=n[8];T=n[9];const Ct=n[10];M=n[11],R=n[12];const It=[n[13],n[13]],Et=this.textStates[R],wt=Et.font,bt=[Et.scale[0]*vt,Et.scale[1]*vt];let xt;wt in this.widths_?xt=this.widths_[wt]:(xt={},this.widths_[wt]=xt);const St=(0,d.k)(m,gt,ft,2),Pt=Math.abs(bt[0])*(0,a.TA)(wt,M,xt);if(At||Pt<=St){const n=this.textStates[R].textAlign,i=(St-Pt)*_(M,n),r=u(m,gt,ft,2,M,i,yt,Math.abs(bt[0]),a.TA,wt,xt,B?0:this.viewRotation_);t:if(r){const n=[];let i,o,s,l,c;if(T)for(i=0,o=r.length;i<o;++i){c=r[i],s=c[4],l=this.createLabel(s,R,"",T),I=c[2]+(bt[0]<0?-Ct:Ct),E=mt*l.height+2*(.5-mt)*Ct*bt[1]/bt[0]-_t;const o=this.calculateImageOrLabelDimensions_(l.width,l.height,c[0],c[1],l.width,l.height,I,E,0,0,c[3],It,!1,a.Tq,!1,W);if(f&&f.collides(o.declutterBox))break t;n.push([t,e,l,o,1,null,null])}if(G)for(i=0,o=r.length;i<o;++i){c=r[i],s=c[4],l=this.createLabel(s,R,G,""),I=c[2],E=mt*l.height-_t;const o=this.calculateImageOrLabelDimensions_(l.width,l.height,c[0],c[1],l.width,l.height,I,E,0,0,c[3],It,!1,a.Tq,!1,W);if(f&&f.collides(o.declutterBox))break t;n.push([t,e,l,o,1,null,null])}f&&f.load(n.map(y));for(let t=0,e=n.length;t<e;++t)this.replayImageOrLabel_.apply(this,n[t])}}++A;break;case i.Ay.END_GEOMETRY:if(void 0!==p){W=n[1];const t=p(W,H);if(t)return t}++A;break;case i.Ay.FILL:z?k++:this.fill_(t),++A;break;case i.Ay.MOVE_TO_LINE_TO:for(L=n[1],C=n[2],V=m[L],Y=m[L+1],x=V+.5|0,S=Y+.5|0,x===w&&S===b||(t.moveTo(V,Y),w=x,b=S),L+=2;L<C;L+=2)V=m[L],Y=m[L+1],x=V+.5|0,S=Y+.5|0,L!=C-2&&x===w&&S===b||(t.lineTo(V,Y),w=x,b=S);++A;break;case i.Ay.SET_FILL_STYLE:D=n,this.alignFill_=n[2],k&&(this.fill_(t),k=0,O&&(t.stroke(),O=0)),t.fillStyle=n[1],++A;break;case i.Ay.SET_STROKE_STYLE:N=n,O&&(t.stroke(),O=0),this.setStrokeStyle_(t,n),++A;break;case i.Ay.STROKE:z?O++:t.stroke(),++A;break;default:++A;break}}k&&this.fill_(t),O&&t.stroke()}execute(t,e,n,i,r,o){this.viewRotation_=i,this.execute_(t,e,n,this.instructions,r,void 0,void 0,o)}executeHitDetection(t,e,n,i,r){return this.viewRotation_=n,this.execute_(t,1,e,this.hitDetectionInstructions,!0,i,r)}}var E=I,w=n(7334),b=n(6811);const x=["Polygon","Circle","LineString","Image","Text","Default"];class S{constructor(t,e,n,i,r,s){this.maxExtent_=t,this.overlaps_=i,this.pixelRatio_=n,this.resolution_=e,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=(0,o.vt)(),this.createExecutors_(r)}clip(t,e){const n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()}createExecutors_(t){for(const e in t){let n=this.executorsByZIndex_[e];void 0===n&&(n={},this.executorsByZIndex_[e]=n);const i=t[e];for(const t in i){const e=i[t];n[t]=new E(this.resolution_,this.pixelRatio_,this.overlaps_,e)}}}hasExecutors(t){for(const e in this.executorsByZIndex_){const n=this.executorsByZIndex_[e];for(let e=0,i=t.length;e<i;++e)if(t[e]in n)return!0}return!1}forEachFeatureAtCoordinate(t,e,n,i,r,a){i=Math.round(i);const l=2*i+1,c=(0,o.Zz)(this.hitDetectionTransform_,i+.5,i+.5,1/e,-1/e,-n,-t[0],-t[1]),u=!this.hitDetectionContext_;u&&(this.hitDetectionContext_=(0,w.Y)(l,l,void 0,{willReadFrequently:!0}));const d=this.hitDetectionContext_;let p;d.canvas.width!==l||d.canvas.height!==l?(d.canvas.width=l,d.canvas.height=l):u||d.clearRect(0,0,l,l),void 0!==this.renderBuffer_&&(p=(0,s.S5)(),(0,s.$C)(p,t),(0,s.r)(p,e*(this.renderBuffer_+i),p));const g=M(i);let f;function m(t,e){const n=d.getImageData(0,0,l,l).data;for(let o=0,s=g.length;o<s;o++)if(n[g[o]]>0){if(!a||"Image"!==f&&"Text"!==f||a.includes(t)){const n=(g[o]-3)/4,s=i-n%l,a=i-(n/l|0),c=r(t,e,s*s+a*a);if(c)return c}d.clearRect(0,0,l,l);break}}const A=Object.keys(this.executorsByZIndex_).map(Number);let y,v,_,C,I;for(A.sort(h.V_),y=A.length-1;y>=0;--y){const t=A[y].toString();for(_=this.executorsByZIndex_[t],v=x.length-1;v>=0;--v)if(f=x[v],C=_[f],void 0!==C&&(I=C.executeHitDetection(d,c,n,m,p),I))return I}}getClipCoords(t){const e=this.maxExtent_;if(!e)return null;const n=e[0],i=e[1],r=e[2],o=e[3],s=[n,i,n,o,r,o,r,i];return(0,c.Rc)(s,0,8,2,t,s),s}isEmpty(){return(0,b.p)(this.executorsByZIndex_)}execute(t,e,n,i,r,o,s){const a=Object.keys(this.executorsByZIndex_).map(Number);let l,c,u,d,p,g;for(a.sort(h.V_),this.maxExtent_&&(t.save(),this.clip(t,n)),o=o||x,s&&a.reverse(),l=0,c=a.length;l<c;++l){const c=a[l].toString();for(p=this.executorsByZIndex_[c],u=0,d=o.length;u<d;++u){const a=o[u];g=p[a],void 0!==g&&g.execute(t,e,n,i,r,s)}}this.maxExtent_&&t.restore()}}const P={};function M(t){if(void 0!==P[t])return P[t];const e=2*t+1,n=t*t,i=new Array(n+1);for(let o=0;o<=t;++o)for(let r=0;r<=t;++r){const s=o*o+r*r;if(s>n)break;let a=i[s];a||(a=[],i[s]=a),a.push(4*((t+o)*e+(t+r))+3),o>0&&a.push(4*((t-o)*e+(t+r))+3),r>0&&(a.push(4*((t+o)*e+(t-r))+3),o>0&&a.push(4*((t-o)*e+(t-r))+3))}const r=[];for(let o=0,s=i.length;o<s;++o)i[o]&&r.push(...i[o]);return P[t]=r,r}var R=S},1116:function(t,e,n){"use strict";n.d(e,{I5:function(){return r},VD:function(){return o},kx:function(){return a},th:function(){return s}});const i={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},r=[i.FILL],o=[i.STROKE],s=[i.BEGIN_PATH],a=[i.CLOSE_PATH];e.Ay=i},4369:function(t,e,n){"use strict";n.d(e,{E:function(){return d},A:function(){return g}});n(4114);var i=n(3615),r=n(1116),o=n(6294),s=n(8911),a=n(5752),l=n(7444),c=n(5674);function u(t,e,n,i,r){const o=[];let s=n,a=0,l=e.slice(n,2);while(a<t&&s+r<i){const[n,i]=l.slice(-2),u=e[s+r],h=e[s+r+1],d=Math.sqrt((u-n)*(u-n)+(h-i)*(h-i));if(a+=d,a>=t){const e=(t-a+d)/d,p=(0,c.Cc)(n,u,e),g=(0,c.Cc)(i,h,e);l.push(p,g),o.push(l),l=[p,g],a==t&&(s+=r),a=0}else if(a<t)l.push(e[s+r],e[s+r+1]),s+=r;else{const t=d-a,e=(0,c.Cc)(n,u,t/d),p=(0,c.Cc)(i,h,t/d);l.push(e,p),o.push(l),l=[e,p],a=0,s+=r}}return a>0&&o.push(l),o}function h(t,e,n,i,r){let o,s,a,l,c,u,h,d,p,g,f=n,m=n,A=0,y=0,v=n;for(s=n;s<i;s+=r){const n=e[s],i=e[s+1];void 0!==c&&(p=n-c,g=i-u,l=Math.sqrt(p*p+g*g),void 0!==h&&(y+=a,o=Math.acos((h*p+d*g)/(a*l)),o>t&&(y>A&&(A=y,f=v,m=s),y=0,v=s-r)),a=l,h=p,d=g),c=n,u=i}return y+=l,y>A?[v,s]:[f,m]}const d={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class p extends i.A{constructor(t,e,n,i){super(t,e,n,i),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[s.qY]={fillStyle:s.qY},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterImageWithText_=void 0}finish(){const t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,e){const n=this.textFillState_,i=this.textStrokeState_,o=this.textState_;if(""===this.text_||!o||!n&&!i)return;const a=this.coordinates;let c=a.length;const d=t.getType();let p=null,g=t.getStride();if("line"!==o.placement||"LineString"!=d&&"MultiLineString"!=d&&"Polygon"!=d&&"MultiPolygon"!=d){let n=o.overflow?null:[];switch(d){case"Point":case"MultiPoint":p=t.getFlatCoordinates();break;case"LineString":p=t.getFlatMidpoint();break;case"Circle":p=t.getCenter();break;case"MultiLineString":p=t.getFlatMidpoints(),g=2;break;case"Polygon":p=t.getFlatInteriorPoint(),o.overflow||n.push(p[2]/this.resolution),g=3;break;case"MultiPolygon":const e=t.getFlatInteriorPoints();p=[];for(let t=0,i=e.length;t<i;t+=3)o.overflow||n.push(e[t+2]/this.resolution),p.push(e[t],e[t+1]);if(0===p.length)return;g=2;break;default:}const i=this.appendFlatPointCoordinates(p,g);if(i===c)return;if(n&&(i-c)/2!==p.length/g){let t=c/2;n=n.filter(((e,n)=>{const i=a[2*(t+n)]===p[n*g]&&a[2*(t+n)+1]===p[n*g+1];return i||--t,i}))}this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&this.updateFillStyle(this.state,this.createFill),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);let l=o.padding;if(l!=s.Tq&&(o.scale[0]<0||o.scale[1]<0)){let t=o.padding[0],e=o.padding[1],n=o.padding[2],i=o.padding[3];o.scale[0]<0&&(e=-e,i=-i),o.scale[1]<0&&(t=-t,n=-n),l=[t,e,n,i]}const u=this.pixelRatio;this.instructions.push([r.Ay.DRAW_IMAGE,c,i,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,l==s.Tq?s.Tq:l.map((function(t){return t*u})),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,n]);const h=1/u,f=this.state.fillStyle;o.backgroundFill&&(this.state.fillStyle=s.qY,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([r.Ay.DRAW_IMAGE,c,i,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[h,h],NaN,void 0,this.declutterImageWithText_,l,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?s.qY:this.fillKey_,this.textOffsetX_,this.textOffsetY_,n]),o.backgroundFill&&(this.state.fillStyle=f,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(e)}else{if(!(0,l.HY)(this.getBufferedMaxExtent(),t.getExtent()))return;let n;if(p=t.getFlatCoordinates(),"LineString"==d)n=[p.length];else if("MultiLineString"==d)n=t.getEnds();else if("Polygon"==d)n=t.getEnds().slice(0,1);else if("MultiPolygon"==d){const e=t.getEndss();n=[];for(let t=0,i=e.length;t<i;++t)n.push(e[t][0])}this.beginGeometry(t,e);const i=o.repeat,r=i?void 0:o.textAlign;let s=0;for(let t=0,e=n.length;t<e;++t){let e;e=i?u(i*this.resolution,p,s,n[t],g):[p.slice(s,n[t])];for(let i=0,l=e.length;i<l;++i){const l=e[i];let u=0,d=l.length;if(void 0==r){const t=h(o.maxAngle,l,0,l.length,2);u=t[0],d=t[1]}for(let t=u;t<d;t+=g)a.push(l[t],l[t+1]);const p=a.length;s=n[t],this.drawChars_(c,p),c=p}}this.endGeometry(e)}}saveTextStates_(){const t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,i=this.strokeKey_;t&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));const r=this.textKey_;r in this.textStates||(this.textStates[r]={font:e.font,textAlign:e.textAlign||s.MY,justify:e.justify,textBaseline:e.textBaseline||s.M8,scale:e.scale});const o=this.fillKey_;n&&(o in this.fillStates||(this.fillStates[o]={fillStyle:n.fillStyle}))}drawChars_(t,e){const n=this.textStrokeState_,i=this.textState_,o=this.strokeKey_,a=this.textKey_,l=this.fillKey_;this.saveTextStates_();const c=this.pixelRatio,u=d[i.textBaseline],h=this.textOffsetY_*c,p=this.text_,g=n?n.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([r.Ay.DRAW_CHARS,t,e,u,i.overflow,l,i.maxAngle,c,h,o,g*c,p,a,1]),this.hitDetectionInstructions.push([r.Ay.DRAW_CHARS,t,e,u,i.overflow,l?s.qY:l,i.maxAngle,c,h,o,g*c,p,a,1/c])}setTextStyle(t,e){let n,i,r;if(t){const e=t.getFill();e?(i=this.textFillState_,i||(i={},this.textFillState_=i),i.fillStyle=(0,o.F)(e.getColor()||s.qY)):(i=null,this.textFillState_=i);const l=t.getStroke();if(l){r=this.textStrokeState_,r||(r={},this.textStrokeState_=r);const t=l.getLineDash(),e=l.getLineDashOffset(),n=l.getWidth(),i=l.getMiterLimit();r.lineCap=l.getLineCap()||s._m,r.lineDash=t?t.slice():s.Oq,r.lineDashOffset=void 0===e?s.vk:e,r.lineJoin=l.getLineJoin()||s._K,r.lineWidth=void 0===n?s.aq:n,r.miterLimit=void 0===i?s.eL:i,r.strokeStyle=(0,o.F)(l.getColor()||s.NT)}else r=null,this.textStrokeState_=r;n=this.textState_;const c=t.getFont()||s.ZV;(0,s.fZ)(c);const u=t.getScaleArray();n.overflow=t.getOverflow(),n.font=c,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.repeat=t.getRepeat(),n.justify=t.getJustify(),n.textBaseline=t.getTextBaseline()||s.M8,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||s.Tq,n.scale=void 0===u?[1,1]:u;const h=t.getOffsetX(),d=t.getOffsetY(),p=t.getRotateWithView(),g=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===h?0:h,this.textOffsetY_=void 0===d?0:d,this.textRotateWithView_=void 0!==p&&p,this.textRotation_=void 0===g?0:g,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:(0,a.v6)(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.repeat||"?")+(n.justify||"?")+(n.textBaseline||"?"),this.fillKey_=i?"string"==typeof i.fillStyle?i.fillStyle:"|"+(0,a.v6)(i.fillStyle):""}else this.text_="";this.declutterImageWithText_=e}}var g=p},923:function(t,e,n){"use strict";n.d(e,{tF:function(){return m},_7:function(){return A},F8:function(){return y}});n(4114);var i=n(9021),r=n(6294),o=n(1194),s=n(8911),a=n(3851),l=n(7444),c=n(5674),u=n(3371),h=n(3665);class d extends i.A{constructor(t,e,n,i,r,s,a){super(),this.context_=t,this.pixelRatio_=e,this.extent_=n,this.transform_=i,this.transformRotation_=i?(0,c.Mg)(Math.atan2(i[1],i[0]),10):0,this.viewRotation_=r,this.squaredTolerance_=s,this.userTransform_=a,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=(0,o.vt)()}drawImages_(t,e,n,i){if(!this.image_)return;const r=(0,u.Rc)(t,e,n,i,this.transform_,this.pixelCoordinates_),s=this.context_,a=this.tmpLocalTransform_,l=s.globalAlpha;1!=this.imageOpacity_&&(s.globalAlpha=l*this.imageOpacity_);let c=this.imageRotation_;0===this.transformRotation_&&(c-=this.viewRotation_),this.imageRotateWithView_&&(c+=this.viewRotation_);for(let u=0,h=r.length;u<h;u+=2){const t=r[u]-this.imageAnchorX_,e=r[u+1]-this.imageAnchorY_;if(0!==c||1!=this.imageScale_[0]||1!=this.imageScale_[1]){const n=t+this.imageAnchorX_,i=e+this.imageAnchorY_;(0,o.Zz)(a,n,i,1,1,c,-n,-i),s.save(),s.transform.apply(s,a),s.translate(n,i),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.restore()}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,t,e,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(s.globalAlpha=l)}drawText_(t,e,n,i){if(!this.textState_||""===this.text_)return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const r=(0,u.Rc)(t,e,n,i,this.transform_,this.pixelCoordinates_),o=this.context_;let s=this.textRotation_;for(0===this.transformRotation_&&(s-=this.viewRotation_),this.textRotateWithView_&&(s+=this.viewRotation_);e<n;e+=i){const t=r[e]+this.textOffsetX_,n=r[e+1]+this.textOffsetY_;0!==s||1!=this.textScale_[0]||1!=this.textScale_[1]?(o.save(),o.translate(t-this.textOffsetX_,n-this.textOffsetY_),o.rotate(s),o.translate(this.textOffsetX_,this.textOffsetY_),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.restore()):(this.textStrokeState_&&o.strokeText(this.text_,t,n),this.textFillState_&&o.fillText(this.text_,t,n))}}moveToLineTo_(t,e,n,i,r){const o=this.context_,s=(0,u.Rc)(t,e,n,i,this.transform_,this.pixelCoordinates_);o.moveTo(s[0],s[1]);let a=s.length;r&&(a-=2);for(let l=2;l<a;l+=2)o.lineTo(s[l],s[l+1]);return r&&o.closePath(),n}drawRings_(t,e,n,i){for(let r=0,o=n.length;r<o;++r)e=this.moveToLineTo_(t,e,n[r],i,!0);return e}drawCircle(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,l.HY)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=(0,h.v7)(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],i=e[3]-e[1],r=Math.sqrt(n*n+i*i),o=this.context_;o.beginPath(),o.arc(e[0],e[1],r,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){const e=t.getType();switch(e){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t);break;default:}}drawFeature(t,e){const n=e.getGeometryFunction()(t);n&&(this.setStyle(e),this.drawGeometry(n))}drawGeometryCollection(t){const e=t.getGeometriesArray();for(let n=0,i=e.length;n<i;++n)this.drawGeometry(e[n])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,l.HY)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){const e=t.getFlatMidpoint();this.drawText_(e,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getExtent();if((0,l.HY)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const e=this.context_,n=t.getFlatCoordinates();let i=0;const r=t.getEnds(),o=t.getStride();e.beginPath();for(let t=0,s=r.length;t<s;++t)i=this.moveToLineTo_(n,i,r[t],o,!1);e.stroke()}if(""!==this.text_){const e=t.getFlatMidpoints();this.drawText_(e,0,e.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,l.HY)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){const e=t.getFlatInteriorPoint();this.drawText_(e,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,l.HY)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_,n=t.getOrientedFlatCoordinates();let i=0;const r=t.getEndss(),o=t.getStride();e.beginPath();for(let t=0,s=r.length;t<s;++t){const e=r[t];i=this.drawRings_(n,i,e,o)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){const e=t.getFlatInteriorPoints();this.drawText_(e,0,e.length,2)}}}setContextFillState_(t){const e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){const e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),(0,a.aI)(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){const e=this.context_,n=this.contextTextState_,i=t.textAlign?t.textAlign:s.MY;n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=i&&(n.textAlign=i,e.textAlign=i),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=i,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})}setFillStrokeStyle(t,e){if(t){const e=t.getColor();this.fillState_={fillStyle:(0,r.F)(e||s.qY)}}else this.fillState_=null;if(e){const t=e.getColor(),n=e.getLineCap(),i=e.getLineDash(),o=e.getLineDashOffset(),a=e.getLineJoin(),l=e.getWidth(),c=e.getMiterLimit(),u=i||s.Oq;this.strokeState_={lineCap:void 0!==n?n:s._m,lineDash:1===this.pixelRatio_?u:u.map((t=>t*this.pixelRatio_)),lineDashOffset:(o||s.vk)*this.pixelRatio_,lineJoin:void 0!==a?a:s._K,lineWidth:(void 0!==l?l:s.aq)*this.pixelRatio_,miterLimit:void 0!==c?c:s.eL,strokeStyle:(0,r.F)(t||s.NT)}}else this.strokeState_=null}setImageStyle(t){let e;if(!t||!(e=t.getSize()))return void(this.image_=null);const n=t.getPixelRatio(this.pixelRatio_),i=t.getAnchor(),r=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*n,this.imageAnchorY_=i[1]*n,this.imageHeight_=e[1]*n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();const o=t.getScaleArray();this.imageScale_=[o[0]*this.pixelRatio_/n,o[1]*this.pixelRatio_/n],this.imageWidth_=e[0]*n}setTextStyle(t){if(t){const e=t.getFill();if(e){const t=e.getColor();this.textFillState_={fillStyle:(0,r.F)(t||s.qY)}}else this.textFillState_=null;const n=t.getStroke();if(n){const t=n.getColor(),e=n.getLineCap(),i=n.getLineDash(),o=n.getLineDashOffset(),a=n.getLineJoin(),l=n.getWidth(),c=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==e?e:s._m,lineDash:i||s.Oq,lineDashOffset:o||s.vk,lineJoin:void 0!==a?a:s._K,lineWidth:void 0!==l?l:s.aq,miterLimit:void 0!==c?c:s.eL,strokeStyle:(0,r.F)(t||s.NT)}}else this.textStrokeState_=null;const i=t.getFont(),o=t.getOffsetX(),a=t.getOffsetY(),l=t.getRotateWithView(),c=t.getRotation(),u=t.getScaleArray(),h=t.getText(),d=t.getTextAlign(),p=t.getTextBaseline();this.textState_={font:void 0!==i?i:s.ZV,textAlign:void 0!==d?d:s.MY,textBaseline:void 0!==p?p:s.M8},this.text_=void 0!==h?Array.isArray(h)?h.reduce(((t,e,n)=>t+(n%2?" ":e)),""):h:"",this.textOffsetX_=void 0!==o?this.pixelRatio_*o:0,this.textOffsetY_=void 0!==a?this.pixelRatio_*a:0,this.textRotateWithView_=void 0!==l&&l,this.textRotation_=void 0!==c?c:0,this.textScale_=[this.pixelRatio_*u[0],this.pixelRatio_*u[1]]}else this.text_=""}}var p=d,g=n(7379),f=n(7334);const m=.5;function A(t,e,n,i,r,o,s){const c=t[0]*m,u=t[1]*m,h=(0,f.Y)(c,u);h.imageSmoothingEnabled=!1;const d=h.canvas,A=new p(h,m,r,null,s),y=n.length,v=Math.floor(16777215/y),_={};for(let a=1;a<=y;++a){const t=n[a-1],e=t.getStyleFunction()||i;if(!e)continue;let s=e(t,o);if(!s)continue;Array.isArray(s)||(s=[s]);const c=a*v,u=c.toString(16).padStart(7,"#00000");for(let n=0,i=s.length;n<i;++n){const e=s[n],i=e.getGeometryFunction()(t);if(!i||!(0,l.HY)(r,i.getExtent()))continue;const o=e.clone(),a=o.getFill();a&&a.setColor(u);const c=o.getStroke();c&&(c.setColor(u),c.setLineDash(null)),o.setText(void 0);const h=e.getImage();if(h){const t=h.getImageSize();if(!t)continue;const e=(0,f.Y)(t[0],t[1],void 0,{alpha:!1}),n=e.canvas;e.fillStyle=u,e.fillRect(0,0,n.width,n.height),o.setImage(new g.A({img:n,anchor:h.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:h.getOrigin(),opacity:1,size:h.getSize(),scale:h.getScale(),rotation:h.getRotation(),rotateWithView:h.getRotateWithView()}))}const d=o.getZIndex()||0;let p=_[d];p||(p={},_[d]=p,p["Polygon"]=[],p["Circle"]=[],p["LineString"]=[],p["Point"]=[]);const m=i.getType();if("GeometryCollection"===m){const t=i.getGeometriesArrayRecursive();for(let e=0,n=t.length;e<n;++e){const n=t[e];p[n.getType().replace("Multi","")].push(n,o)}}else p[m.replace("Multi","")].push(i,o)}}const C=Object.keys(_).map(Number).sort(a.V_);for(let a=0,l=C.length;a<l;++a){const t=_[C[a]];for(const n in t){const i=t[n];for(let t=0,n=i.length;t<n;t+=2){A.setStyle(i[t+1]);for(let n=0,r=e.length;n<r;++n)A.setTransform(e[n]),A.drawGeometry(i[t])}}}return h.getImageData(0,0,d.width,d.height)}function y(t,e,n){const i=[];if(n){const r=Math.floor(Math.round(t[0])*m),o=Math.floor(Math.round(t[1])*m),s=4*((0,c.qE)(r,0,n.width-1)+(0,c.qE)(o,0,n.height-1)*n.width),a=n.data[s],l=n.data[s+1],u=n.data[s+2],h=u+256*(l+256*a),d=Math.floor(16777215/e.length);h&&h%d===0&&i.push(e[h/d-1])}return i}},3525:function(t,e,n){"use strict";n.d(e,{B:function(){return m},A:function(){return _}});var i=n(7582),r=n(1410),o=n(4549),s=n(5752);class a extends o.A{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t,this.declutterExecutorGroup=null}getFeatures(t){return(0,s.b0)()}getData(t){return null}prepareFrame(t){return(0,s.b0)()}renderFrame(t,e){return(0,s.b0)()}loadedTileCallback(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n}createLoadedTileFinder(t,e,n){return(i,r)=>{const o=this.loadedTileCallback.bind(this,n,i);return t.forEachLoadedTile(e,i,r,o)}}forEachFeatureAtCoordinate(t,e,n,i,r){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){const e=t.target;e.getState()!==r.A.LOADED&&e.getState()!==r.A.ERROR||this.renderIfReadyAndVisible()}loadImage(t){let e=t.getState();return e!=r.A.LOADED&&e!=r.A.ERROR&&t.addEventListener(i.A.CHANGE,this.boundHandleImageChange_),e==r.A.IDLE&&(t.load(),e=t.getState()),e==r.A.LOADED}renderIfReadyAndVisible(){const t=this.getLayer();t&&t.getVisible()&&"ready"===t.getSourceState()&&t.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}}var l=a,c=n(6355),u=n(3707),h=n(1194),d=n(5007),p=n(7334),g=n(3851),f=n(7444);const m=[];let A=null;function y(){A=(0,p.Y)(1,1,void 0,{willReadFrequently:!0})}class v extends l{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=(0,h.vt)(),this.pixelTransform=(0,h.vt)(),this.inversePixelTransform=(0,h.vt)(),this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(t,e,n){let i;A||y(),A.clearRect(0,0,1,1);try{A.drawImage(t,e,n,1,1,0,0,1,1),i=A.getImageData(0,0,1,1).data}catch(r){return A=null,null}return i}getBackground(t){const e=this.getLayer();let n=e.getBackground();return"function"===typeof n&&(n=n(t.viewState.resolution)),n||void 0}useContainer(t,e,n){const i=this.getLayer().getClassName();let r,o;if(t&&t.className===i&&(!n||t&&t.style.backgroundColor&&(0,g.aI)((0,d._j)(t.style.backgroundColor),(0,d._j)(n)))){const e=t.firstElementChild;e instanceof HTMLCanvasElement&&(o=e.getContext("2d"))}if(o&&o.canvas.style.transform===e?(this.container=t,this.context=o,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){r=document.createElement("div"),r.className=i;let t=r.style;t.position="absolute",t.width="100%",t.height="100%",o=(0,p.Y)();const e=o.canvas;r.appendChild(e),t=e.style,t.position="absolute",t.left="0",t.transformOrigin="top left",this.container=r,this.context=o}this.containerReused||!n||this.container.style.backgroundColor||(this.container.style.backgroundColor=n)}clipUnrotated(t,e,n){const i=(0,f.Py)(n),r=(0,f.WU)(n),o=(0,f.k_)(n),s=(0,f.R)(n);(0,h.Bb)(e.coordinateToPixelTransform,i),(0,h.Bb)(e.coordinateToPixelTransform,r),(0,h.Bb)(e.coordinateToPixelTransform,o),(0,h.Bb)(e.coordinateToPixelTransform,s);const a=this.inversePixelTransform;(0,h.Bb)(a,i),(0,h.Bb)(a,r),(0,h.Bb)(a,o),(0,h.Bb)(a,s),t.save(),t.beginPath(),t.moveTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.clip()}dispatchRenderEvent_(t,e,n){const i=this.getLayer();if(i.hasListener(t)){const r=new c.A(t,this.inversePixelTransform,n,e);i.dispatchEvent(r)}}preRender(t,e){this.frameState=e,this.dispatchRenderEvent_(u.A.PRERENDER,t,e)}postRender(t,e){this.dispatchRenderEvent_(u.A.POSTRENDER,t,e)}getRenderTransform(t,e,n,i,r,o,s){const a=r/2,l=o/2,c=i/e,u=-c,d=-t[0]+s,p=-t[1];return(0,h.Zz)(this.tempTransform,a,l,c,u,-n,d,p)}disposeInternal(){delete this.frameState,super.disposeInternal()}}var _=v},4405:function(t,e,n){"use strict";n.d(e,{Eo:function(){return a},gY:function(){return c},j:function(){return l},nl:function(){return h}});var i=n(1410),r=n(5752);const o=.5,s={Point:y,LineString:f,Polygon:_,MultiPoint:v,MultiLineString:m,MultiPolygon:A,GeometryCollection:g,Circle:u};function a(t,e){return parseInt((0,r.v6)(t),10)-parseInt((0,r.v6)(e),10)}function l(t,e){const n=c(t,e);return n*n}function c(t,e){return o*t/e}function u(t,e,n,i,r){const o=n.getFill(),s=n.getStroke();if(o||s){const r=t.getBuilder(n.getZIndex(),"Circle");r.setFillStrokeStyle(o,s),r.drawCircle(e,i)}const a=n.getText();if(a&&a.getText()){const o=(r||t).getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(e,i)}}function h(t,e,n,r,o,s,a){let l=!1;const c=n.getImage();if(c){const t=c.getImageState();t==i.A.LOADED||t==i.A.ERROR?c.unlistenImageChange(o):(t==i.A.IDLE&&c.load(),c.listenImageChange(o),l=!0)}return d(t,e,n,r,s,a),l}function d(t,e,n,i,r,o){const a=n.getGeometryFunction()(e);if(!a)return;const l=a.simplifyTransformed(i,r),c=n.getRenderer();if(c)p(t,l,n,e);else{const i=s[l.getType()];i(t,l,n,e,o)}}function p(t,e,n,i){if("GeometryCollection"==e.getType()){const r=e.getGeometries();for(let e=0,o=r.length;e<o;++e)p(t,r[e],n,i);return}const r=t.getBuilder(n.getZIndex(),"Default");r.drawCustom(e,i,n.getRenderer(),n.getHitDetectionRenderer())}function g(t,e,n,i,r){const o=e.getGeometriesArray();let a,l;for(a=0,l=o.length;a<l;++a){const e=s[o[a].getType()];e(t,o[a],n,i,r)}}function f(t,e,n,i,r){const o=n.getStroke();if(o){const r=t.getBuilder(n.getZIndex(),"LineString");r.setFillStrokeStyle(null,o),r.drawLineString(e,i)}const s=n.getText();if(s&&s.getText()){const o=(r||t).getBuilder(n.getZIndex(),"Text");o.setTextStyle(s),o.drawText(e,i)}}function m(t,e,n,i,r){const o=n.getStroke();if(o){const r=t.getBuilder(n.getZIndex(),"LineString");r.setFillStrokeStyle(null,o),r.drawMultiLineString(e,i)}const s=n.getText();if(s&&s.getText()){const o=(r||t).getBuilder(n.getZIndex(),"Text");o.setTextStyle(s),o.drawText(e,i)}}function A(t,e,n,i,r){const o=n.getFill(),s=n.getStroke();if(s||o){const r=t.getBuilder(n.getZIndex(),"Polygon");r.setFillStrokeStyle(o,s),r.drawMultiPolygon(e,i)}const a=n.getText();if(a&&a.getText()){const o=(r||t).getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(e,i)}}function y(t,e,n,r,o){const s=n.getImage(),a=n.getText();let l;if(s){if(s.getImageState()!=i.A.LOADED)return;let c=t;if(o){const i=s.getDeclutterMode();if("none"!==i)if(c=o,"obstacle"===i){const i=t.getBuilder(n.getZIndex(),"Image");i.setImageStyle(s,l),i.drawPoint(e,r)}else a&&a.getText()&&(l={})}const u=c.getBuilder(n.getZIndex(),"Image");u.setImageStyle(s,l),u.drawPoint(e,r)}if(a&&a.getText()){let i=t;o&&(i=o);const s=i.getBuilder(n.getZIndex(),"Text");s.setTextStyle(a,l),s.drawText(e,r)}}function v(t,e,n,r,o){const s=n.getImage(),a=n.getText();let l;if(s){if(s.getImageState()!=i.A.LOADED)return;let c=t;if(o){const i=s.getDeclutterMode();if("none"!==i)if(c=o,"obstacle"===i){const i=t.getBuilder(n.getZIndex(),"Image");i.setImageStyle(s,l),i.drawMultiPoint(e,r)}else a&&a.getText()&&(l={})}const u=c.getBuilder(n.getZIndex(),"Image");u.setImageStyle(s,l),u.drawMultiPoint(e,r)}if(a&&a.getText()){let i=t;o&&(i=o);const s=i.getBuilder(n.getZIndex(),"Text");s.setTextStyle(a,l),s.drawText(e,r)}}function _(t,e,n,i,r){const o=n.getFill(),s=n.getStroke();if(o||s){const r=t.getBuilder(n.getZIndex(),"Polygon");r.setFillStrokeStyle(o,s),r.drawPolygon(e,i)}const a=n.getText();if(a&&a.getText()){const o=(r||t).getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(e,i)}}},5289:function(t,e,n){"use strict";n.d(e,{a$:function(){return s},b8:function(){return r},cq:function(){return a},dv:function(){return o}});var i=n(5674);function r(t){if(void 0!==t)return 0}function o(t){if(void 0!==t)return t}function s(t){const e=2*Math.PI/t;return function(t,n){return n?t:void 0!==t?(t=Math.floor(t/e+.5)*e,t):void 0}}function a(t){const e=void 0===t?(0,i.eh)(5):t;return function(t,n){return n||void 0===t?t:Math.abs(t)<=e?0:t}}},5689:function(t,e,n){"use strict";function i(t){return t[0]>0&&t[1]>0}function r(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function o(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}n.d(e,{Ie:function(){return i},hs:function(){return r},xq:function(){return o}})},3437:function(t,e,n){"use strict";var i=n(1611),r=n(5857);class o extends i.A{constructor(t){super(),this.projection=(0,r.Jt)(t.projection),this.attributions_=s(t.attributions),this.attributionsCollapsible_=void 0===t.attributionsCollapsible||t.attributionsCollapsible,this.loading=!1,this.state_=void 0!==t.state?t.state:"ready",this.wrapX_=void 0!==t.wrapX&&t.wrapX,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;const e=this;this.viewPromise_=new Promise((function(t,n){e.viewResolver=t,e.viewRejector=n}))}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=s(t),this.changed()}setState(t){this.state_=t,this.changed()}}function s(t){return t?Array.isArray(t)?function(e){return t}:"function"===typeof t?t:function(e){return[t]}:null}e.A=o},8347:function(t,e,n){"use strict";n(4114);var i=n(3844),r=n(2686),o=n(9078),s=n(7582),a=n(6555),l=n(1127),c=n(3077),u=n(3437),h=n(299),d=n(9331),p=n(8655),g=n(1097),f=n(7444),m=n(3851),A=n(5752),y=n(6811),v=n(8965),_=n(5519);class C extends o.Ay{constructor(t,e,n){super(t),this.feature=e,this.features=n}}class I extends u.A{constructor(t){t=t||{},super({attributions:t.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===t.wrapX||t.wrapX}),this.on,this.once,this.un,this.loader_=d.tV,this.format_=t.format,this.overlaps_=void 0===t.overlaps||t.overlaps,this.url_=t.url,void 0!==t.loader?this.loader_=t.loader:void 0!==this.url_&&((0,g.v)(this.format_,"`format` must be set when `url` is set"),this.loader_=(0,_.nF)(this.url_,this.format_)),this.strategy_=void 0!==t.strategy?t.strategy:p.Q7;const e=void 0===t.useSpatialIndex||t.useSpatialIndex;let n,r;this.featuresRtree_=e?new l.A:null,this.loadedExtentsRtree_=new l.A,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(t.features)?r=t.features:t.features&&(n=t.features,r=n.getArray()),e||void 0!==n||(n=new i.A(r)),void 0!==r&&this.addFeaturesInternal(r),void 0!==n&&this.bindFeaturesCollection_(n)}addFeature(t){this.addFeatureInternal(t),this.changed()}addFeatureInternal(t){const e=(0,A.v6)(t);if(!this.addToIndex_(e,t))return void(this.featuresCollection_&&this.featuresCollection_.remove(t));this.setupChangeEvents_(e,t);const n=t.getGeometry();if(n){const e=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(e,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new C(h.A.ADDFEATURE,t))}setupChangeEvents_(t,e){e instanceof c.Ay||(this.featureChangeKeys_[t]=[(0,v.KT)(e,s.A.CHANGE,this.handleFeatureChange_,this),(0,v.KT)(e,a.A.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(t,e){let n=!0;if(void 0!==e.getId()){const t=String(e.getId());if(t in this.idIndex_)if(e instanceof c.Ay){const i=this.idIndex_[t];i instanceof c.Ay?Array.isArray(i)?i.push(e):this.idIndex_[t]=[i,e]:n=!1}else n=!1;else this.idIndex_[t]=e}return n&&((0,g.v)(!(t in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[t]=e),n}addFeatures(t){this.addFeaturesInternal(t),this.changed()}addFeaturesInternal(t){const e=[],n=[],i=[];for(let r=0,o=t.length;r<o;r++){const e=t[r],i=(0,A.v6)(e);this.addToIndex_(i,e)&&n.push(e)}for(let r=0,o=n.length;r<o;r++){const t=n[r],o=(0,A.v6)(t);this.setupChangeEvents_(o,t);const s=t.getGeometry();if(s){const n=s.getExtent();e.push(n),i.push(t)}else this.nullGeometryFeatures_[o]=t}if(this.featuresRtree_&&this.featuresRtree_.load(e,i),this.hasListener(h.A.ADDFEATURE))for(let r=0,o=n.length;r<o;r++)this.dispatchEvent(new C(h.A.ADDFEATURE,n[r]))}bindFeaturesCollection_(t){let e=!1;this.addEventListener(h.A.ADDFEATURE,(function(n){e||(e=!0,t.push(n.feature),e=!1)})),this.addEventListener(h.A.REMOVEFEATURE,(function(n){e||(e=!0,t.remove(n.feature),e=!1)})),t.addEventListener(r.A.ADD,(t=>{e||(e=!0,this.addFeature(t.element),e=!1)})),t.addEventListener(r.A.REMOVE,(t=>{e||(e=!0,this.removeFeature(t.element),e=!1)})),this.featuresCollection_=t}clear(t){if(t){for(const t in this.featureChangeKeys_){const e=this.featureChangeKeys_[t];e.forEach(v.JH)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const t=t=>{this.removeFeatureInternal(t)};this.featuresRtree_.forEach(t);for(const e in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[e])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const e=new C(h.A.CLEAR);this.dispatchEvent(e),this.changed()}forEachFeature(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureAtCoordinateDirect(t,e){const n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,(function(n){const i=n.getGeometry();if(i instanceof c.Ay||i.intersectsCoordinate(t))return e(n)}))}forEachFeatureInExtent(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureIntersectingExtent(t,e){return this.forEachFeatureInExtent(t,(function(n){const i=n.getGeometry();if(i instanceof c.Ay||i.intersectsExtent(t)){const t=e(n);if(t)return t}}))}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),(0,y.p)(this.nullGeometryFeatures_)||(0,m.X$)(t,Object.values(this.nullGeometryFeatures_))),t}getFeaturesAtCoordinate(t){const e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e}getFeaturesInExtent(t,e){if(this.featuresRtree_){const n=e&&e.canWrapX()&&this.getWrapX();if(!n)return this.featuresRtree_.getInExtent(t);const i=(0,f.QJ)(t,e);return[].concat(...i.map((t=>this.featuresRtree_.getInExtent(t))))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(t,e){const n=t[0],i=t[1];let r=null;const o=[NaN,NaN];let s=1/0;const a=[-1/0,-1/0,1/0,1/0];return e=e||d.rT,this.featuresRtree_.forEachInExtent(a,(function(t){if(e(t)){const e=t.getGeometry(),l=s;if(s=e instanceof c.Ay?0:e.closestPointXY(n,i,o,s),s<l){r=t;const e=Math.sqrt(s);a[0]=n-e,a[1]=i-e,a[2]=n+e,a[3]=i+e}}})),r}getExtent(t){return this.featuresRtree_.getExtent(t)}getFeatureById(t){const e=this.idIndex_[t.toString()];return void 0!==e?e:null}getFeatureByUid(t){const e=this.uidIndex_[t];return void 0!==e?e:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(t){const e=t.target,n=(0,A.v6)(e),i=e.getGeometry();if(i){const t=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(t,e)):this.featuresRtree_&&this.featuresRtree_.update(t,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);const r=e.getId();if(void 0!==r){const t=r.toString();this.idIndex_[t]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[t]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new C(h.A.CHANGEFEATURE,e))}hasFeature(t){const e=t.getId();return void 0!==e?e in this.idIndex_:(0,A.v6)(t)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&(0,y.p)(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()}loadFeatures(t,e,n){const i=this.loadedExtentsRtree_,r=this.strategy_(t,e,n);for(let o=0,s=r.length;o<s;++o){const t=r[o],s=i.forEachInExtent(t,(function(e){return(0,f.ms)(e.extent,t)}));s||(++this.loadingExtentsCount_,this.dispatchEvent(new C(h.A.FEATURESLOADSTART)),this.loader_.call(this,t,e,n,(t=>{--this.loadingExtentsCount_,this.dispatchEvent(new C(h.A.FEATURESLOADEND,void 0,t))}),(()=>{--this.loadingExtentsCount_,this.dispatchEvent(new C(h.A.FEATURESLOADERROR))})),i.insert(t,{extent:t.slice()}))}this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(t){const e=this.loadedExtentsRtree_;let n;e.forEachInExtent(t,(function(e){if((0,f.aI)(e.extent,t))return n=e,!0})),n&&e.remove(n)}removeFeature(t){if(!t)return;const e=(0,A.v6)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t);const n=this.removeFeatureInternal(t);n&&this.changed()}removeFeatureInternal(t){const e=(0,A.v6)(t),n=this.featureChangeKeys_[e];if(!n)return;n.forEach(v.JH),delete this.featureChangeKeys_[e];const i=t.getId();return void 0!==i&&delete this.idIndex_[i.toString()],delete this.uidIndex_[e],this.dispatchEvent(new C(h.A.REMOVEFEATURE,t)),t}removeFromIdIndex_(t){let e=!1;for(const n in this.idIndex_){const i=this.idIndex_[n];if(t instanceof c.Ay&&Array.isArray(i)&&i.includes(t))i.splice(i.indexOf(t),1);else if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}}return e}setLoader(t){this.loader_=t}setUrl(t){(0,g.v)(this.format_,"`format` must be set when `url` is set"),this.url_=t,this.setLoader((0,_.nF)(t,this.format_))}}e.A=I},299:function(t,e){"use strict";e.A={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"}},3277:function(t,e,n){"use strict";n.d(e,{UG:function(){return a},Yf:function(){return o}});var i=n(5674);const r=6371008.8;function o(t,e,n){n=n||r;const o=(0,i.eh)(t[1]),s=(0,i.eh)(e[1]),a=(s-o)/2,l=(0,i.eh)(e[0]-t[0])/2,c=Math.sin(a)*Math.sin(a)+Math.sin(l)*Math.sin(l)*Math.cos(o)*Math.cos(s);return 2*n*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}function s(t,e){let n=0;const r=t.length;let o=t[r-1][0],s=t[r-1][1];for(let a=0;a<r;a++){const e=t[a][0],r=t[a][1];n+=(0,i.eh)(e-o)*(2+Math.sin((0,i.eh)(s))+Math.sin((0,i.eh)(r))),o=e,s=r}return n*e*e/2}function a(t,e){e=e||{};const n=e.radius||r,i=e.projection||"EPSG:3857",o=t.getType();"GeometryCollection"!==o&&(t=t.clone().transform(i,"EPSG:4326"));let l,c,u,h,d,p,g=0;switch(o){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"LinearRing":break;case"Polygon":for(l=t.getCoordinates(),g=Math.abs(s(l[0],n)),u=1,h=l.length;u<h;++u)g-=Math.abs(s(l[u],n));break;case"MultiPolygon":for(l=t.getCoordinates(),u=0,h=l.length;u<h;++u)for(c=l[u],g+=Math.abs(s(c[0],n)),d=1,p=c.length;d<p;++d)g-=Math.abs(s(c[d],n));break;case"GeometryCollection":{const n=t.getGeometries();for(u=0,h=n.length;u<h;++u)g+=a(n[u],e);break}default:throw new Error("Unsupported geometry type: "+o)}return g}},5109:function(t,e,n){"use strict";function i(t,e,n){const i=void 0!==n?t.toFixed(n):""+t;let r=i.indexOf(".");return r=-1===r?i.length:r,r>e?i:new Array(1+e-r).join("0")+i}function r(t,e){const n=(""+t).split("."),i=(""+e).split(".");for(let r=0;r<Math.max(n.length,i.length);r++){const t=parseInt(n[r]||"0",10),e=parseInt(i[r]||"0",10);if(t>e)return 1;if(e>t)return-1}return 0}n.d(e,{H:function(){return i},Z:function(){return r}})},1127:function(t,e,n){"use strict";var i=n(5341),r=n(7444),o=n(5752),s=n(6811);class a{constructor(t){this.rbush_=new i(t),this.items_={}}insert(t,e){const n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[(0,o.v6)(e)]=n}load(t,e){const n=new Array(e.length);for(let i=0,r=e.length;i<r;i++){const r=t[i],s=e[i],a={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],value:s};n[i]=a,this.items_[(0,o.v6)(s)]=a}this.rbush_.load(n)}remove(t){const e=(0,o.v6)(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)}update(t,e){const n=this.items_[(0,o.v6)(e)],i=[n.minX,n.minY,n.maxX,n.maxY];(0,r.aI)(i,t)||(this.remove(e),this.insert(t,e))}getAll(){const t=this.rbush_.all();return t.map((function(t){return t.value}))}getInExtent(t){const e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]},n=this.rbush_.search(e);return n.map((function(t){return t.value}))}forEach(t){return this.forEach_(this.getAll(),t)}forEachInExtent(t,e){return this.forEach_(this.getInExtent(t),e)}forEach_(t,e){let n;for(let i=0,r=t.length;i<r;i++)if(n=e(t[i]),n)return n;return n}isEmpty(){return(0,s.p)(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(t){const e=this.rbush_.toJSON();return(0,r.N)(e.minX,e.minY,e.maxX,e.maxY,t)}concat(t){this.rbush_.load(t.rbush_.all());for(const e in t.items_)this.items_[e]=t.items_[e]}}e.A=a},5274:function(t,e,n){"use strict";var i=n(5023);class r extends i.A{constructor(t){t=t||{radius:5},super({points:1/0,fill:t.fill,radius:t.radius,stroke:t.stroke,scale:void 0!==t.scale?t.scale:1,rotation:void 0!==t.rotation?t.rotation:0,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,displacement:void 0!==t.displacement?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){const t=this.getScale(),e=new r({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return e.setOpacity(this.getOpacity()),e}setRadius(t){this.radius_=t,this.render()}}e.A=r},8343:function(t,e){"use strict";class n{constructor(t){t=t||{},this.color_=void 0!==t.color?t.color:null}clone(){const t=this.getColor();return new n({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){this.color_=t}}e.A=n},7379:function(t,e,n){"use strict";n.d(e,{A:function(){return y}});var i=n(7582),r=n(1410),o=n(7749),s=n(5007),a=n(1097),l=n(9357),c=n(7334),u=n(2299),h=n(1382);let d=null;class p extends l.A{constructor(t,e,n,i,o){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=n,this.canvas_={},this.color_=o,this.imageState_=void 0===i?r.A.IDLE:i,this.size_=t&&t.width&&t.height?[t.width,t.height]:null,this.src_=e,this.tainted_}initializeImage_(){this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(void 0===this.tainted_&&this.imageState_===r.A.LOADED){d||(d=(0,c.Y)(1,1,void 0,{willReadFrequently:!0})),d.drawImage(this.image_,0,0);try{d.getImageData(0,0,1,1),this.tainted_=!1}catch(t){d=null,this.tainted_=!0}}return!0===this.tainted_}dispatchChangeEvent_(){this.dispatchEvent(i.A.CHANGE)}handleImageError_(){this.imageState_=r.A.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=r.A.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const t=this.size_[0],e=this.size_[1],n=(0,c.Y)(t,e);n.fillRect(0,0,t,e),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===r.A.IDLE){this.image_||this.initializeImage_(),this.imageState_=r.A.LOADING;try{void 0!==this.src_&&(this.image_.src=this.src_)}catch(t){this.handleImageError_()}this.image_ instanceof HTMLImageElement&&(0,u.RA)(this.image_,this.src_).then((t=>{this.image_=t,this.handleImageLoad_()})).catch(this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==r.A.LOADED)return;const e=this.image_,n=document.createElement("canvas");n.width=Math.ceil(e.width*t),n.height=Math.ceil(e.height*t);const i=n.getContext("2d");i.scale(t,t),i.drawImage(e,0,0),i.globalCompositeOperation="multiply",i.fillStyle=(0,s.oJ)(this.color_),i.fillRect(0,0,n.width/t,n.height/t),i.globalCompositeOperation="destination-in",i.drawImage(e,0,0),this.canvas_[t]=n}}function g(t,e,n,i,r){let o=void 0===e?void 0:h.u.get(e,n,r);return o||(o=new p(t,t instanceof HTMLImageElement?t.src||void 0:e,n,i,r),h.u.set(e,n,r,o)),o}var f=n(5752);function m(t,e,n,i){return void 0!==n&&void 0!==i?[n/t,i/e]:void 0!==n?n/t:void 0!==i?i/e:1}class A extends o.A{constructor(t){t=t||{};const e=void 0!==t.opacity?t.opacity:1,n=void 0!==t.rotation?t.rotation:0,i=void 0!==t.scale?t.scale:1,o=void 0!==t.rotateWithView&&t.rotateWithView;super({opacity:e,rotation:n,scale:i,displacement:void 0!==t.displacement?t.displacement:[0,0],rotateWithView:o,declutterMode:t.declutterMode}),this.anchor_=void 0!==t.anchor?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==t.anchorOrigin?t.anchorOrigin:"top-left",this.anchorXUnits_=void 0!==t.anchorXUnits?t.anchorXUnits:"fraction",this.anchorYUnits_=void 0!==t.anchorYUnits?t.anchorYUnits:"fraction",this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null;const l=void 0!==t.img?t.img:null;let c,u=t.src;if((0,a.v)(!(void 0!==u&&l),"`image` and `src` cannot be provided at the same time"),void 0!==u&&0!==u.length||!l||(u=l.src||(0,f.v6)(l)),(0,a.v)(void 0!==u&&u.length>0,"A defined and non-empty `src` or `image` must be provided"),(0,a.v)(!((void 0!==t.width||void 0!==t.height)&&void 0!==t.scale),"`width` or `height` cannot be provided together with `scale`"),void 0!==t.src?c=r.A.IDLE:void 0!==l&&(c=l instanceof HTMLImageElement?l.complete?l.src?r.A.LOADED:r.A.IDLE:r.A.LOADING:r.A.LOADED),this.color_=void 0!==t.color?(0,s._j)(t.color):null,this.iconImage_=g(l,u,this.crossOrigin_,c,this.color_),this.offset_=void 0!==t.offset?t.offset:[0,0],this.offsetOrigin_=void 0!==t.offsetOrigin?t.offsetOrigin:"top-left",this.origin_=null,this.size_=void 0!==t.size?t.size:null,void 0!==t.width||void 0!==t.height){let e,n;if(t.size)[e,n]=t.size;else{const i=this.getImage(1);if(i.width&&i.height)e=i.width,n=i.height;else if(i instanceof HTMLImageElement){this.initialOptions_=t;const e=()=>{if(this.unlistenImageChange(e),!this.initialOptions_)return;const n=this.iconImage_.getSize();this.setScale(m(n[0],n[1],t.width,t.height))};return void this.listenImageChange(e)}}void 0!==e&&this.setScale(m(e,n,t.width,t.height))}}clone(){let t,e,n;return this.initialOptions_?(e=this.initialOptions_.width,n=this.initialOptions_.height):(t=this.getScale(),t=Array.isArray(t)?t.slice():t),new A({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,width:e,height:n,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;const e=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!e)return null;t=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(t[0]*=e[0]),"fraction"==this.anchorYUnits_&&(t[1]*=e[1])}if("top-left"!=this.anchorOrigin_){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),"top-right"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[0]=-t[0]+e[0]),"bottom-left"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}const e=this.getDisplacement(),n=this.getScaleArray();return[t[0]-e[0]/n[0],t[1]+e[1]/n[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if("top-left"!=this.offsetOrigin_){const e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),"top-right"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[0]=n[0]-e[0]-t[0]),"bottom-left"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const t=this.getScaleArray();return this.size_?this.size_[0]*t[0]:this.iconImage_.getImageState()==r.A.LOADED?this.iconImage_.getSize()[0]*t[0]:void 0}getHeight(){const t=this.getScaleArray();return this.size_?this.size_[1]*t[1]:this.iconImage_.getImageState()==r.A.LOADED?this.iconImage_.getSize()[1]*t[1]:void 0}setScale(t){delete this.initialOptions_,super.setScale(t)}listenImageChange(t){this.iconImage_.addEventListener(i.A.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(i.A.CHANGE,t)}}var y=A},1382:function(t,e,n){"use strict";n.d(e,{u:function(){return s}});var i=n(5007);class r{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const e in this.cache_){const n=this.cache_[e];0!==(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}}get(t,e,n){const i=o(t,e,n);return i in this.cache_?this.cache_[i]:null}set(t,e,n,i){const r=o(t,e,n);this.cache_[r]=i,++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}}function o(t,e,n){const r=n?(0,i.oJ)(n):"null";return e+":"+t+":"+r}const s=new r},7749:function(t,e,n){"use strict";var i=n(5752),r=n(5689);class o{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=(0,r.xq)(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new o({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return(0,i.b0)()}getImage(t){return(0,i.b0)()}getHitDetectionImage(){return(0,i.b0)()}getPixelRatio(t){return 1}getImageState(){return(0,i.b0)()}getImageSize(){return(0,i.b0)()}getOrigin(){return(0,i.b0)()}getSize(){return(0,i.b0)()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=(0,r.xq)(t)}listenImageChange(t){(0,i.b0)()}load(){(0,i.b0)()}unlistenImageChange(t){(0,i.b0)()}}e.A=o},5023:function(t,e,n){"use strict";var i=n(1410),r=n(7749),o=n(5007),s=n(6294),a=n(7334),l=n(8911);class c extends r.A{constructor(t){const e=void 0!==t.rotateWithView&&t.rotateWithView;super({opacity:1,rotateWithView:e,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,displacement:void 0!==t.displacement?t.displacement:[0,0],declutterMode:t.declutterMode}),this.canvases_,this.hitDetectionCanvas_=null,this.fill_=void 0!==t.fill?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius_=void 0!==t.radius?t.radius:t.radius1,this.radius2_=t.radius2,this.angle_=void 0!==t.angle?t.angle:0,this.stroke_=void 0!==t.stroke?t.stroke:null,this.size_,this.renderOptions_,this.render()}clone(){const t=this.getScale(),e=new c({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return e.setOpacity(this.getOpacity()),e}getAnchor(){const t=this.size_,e=this.getDisplacement(),n=this.getScaleArray();return[t[0]/2-e[0]/n[0],t[1]/2+e[1]/n[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(t){let e=this.canvases_[t];if(!e){const n=this.renderOptions_,i=(0,a.Y)(n.size*t,n.size*t);this.draw_(n,i,t),e=i.canvas,this.canvases_[t]=e}return e}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return i.A.LOADED}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,e,n){if(0===e||this.points_===1/0||"bevel"!==t&&"miter"!==t)return e;let i=this.radius_,r=void 0===this.radius2_?i:this.radius2_;if(i<r){const t=i;i=r,r=t}const o=void 0===this.radius2_?this.points_:2*this.points_,s=2*Math.PI/o,a=r*Math.sin(s),l=Math.sqrt(r*r-a*a),c=i-l,u=Math.sqrt(a*a+c*c),h=u/a;if("miter"===t&&h<=n)return h*e;const d=e/2/h,p=e/2*(c/u),g=Math.sqrt((i+d)*(i+d)+p*p),f=g-i;if(void 0===this.radius2_||"bevel"===t)return 2*f;const m=i*Math.sin(s),A=Math.sqrt(i*i-m*m),y=r-A,v=Math.sqrt(m*m+y*y),_=v/m;if(_<=n){const t=_*e/2-r-i;return 2*Math.max(f,t)}return 2*f}createRenderOptions(){let t,e=l._m,n=l._K,i=0,r=null,o=0,a=0;this.stroke_&&(t=(0,s.F)(this.stroke_.getColor()??l.NT),a=this.stroke_.getWidth()??l.aq,r=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??l._K,e=this.stroke_.getLineCap()??l._m,i=this.stroke_.getMiterLimit()??l.eL);const c=this.calculateLineJoinSize_(n,a,i),u=Math.max(this.radius_,this.radius2_||0),h=Math.ceil(2*u+c);return{strokeStyle:t,strokeWidth:a,size:h,lineCap:e,lineDash:r,lineDashOffset:o,lineJoin:n,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();const t=this.renderOptions_.size;this.canvases_={},this.hitDetectionCanvas_=null,this.size_=[t,t]}draw_(t,e,n){if(e.scale(n,n),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){let t=this.fill_.getColor();null===t&&(t=l.qY),e.fillStyle=(0,s.F)(t),e.fill()}t.strokeStyle&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}createHitDetectionCanvas_(t){let e;if(this.fill_){let n=this.fill_.getColor(),i=0;"string"===typeof n&&(n=(0,o._j)(n)),null===n?i=1:Array.isArray(n)&&(i=4===n.length?n[3]:1),0===i&&(e=(0,a.Y)(t.size,t.size),this.drawHitDetectionCanvas_(t,e))}return e?e.canvas:this.getImage(1)}createPath_(t){let e=this.points_;const n=this.radius_;if(e===1/0)t.arc(0,0,n,0,2*Math.PI);else{const i=void 0===this.radius2_?n:this.radius2_;void 0!==this.radius2_&&(e*=2);const r=this.angle_-Math.PI/2,o=2*Math.PI/e;for(let s=0;s<e;s++){const e=r+s*o,a=s%2===0?n:i;t.lineTo(a*Math.cos(e),a*Math.sin(e))}t.closePath()}}drawHitDetectionCanvas_(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=l.qY,e.fill(),t.strokeStyle&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}}e.A=c},5782:function(t,e){"use strict";class n{constructor(t){t=t||{},this.color_=void 0!==t.color?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=void 0!==t.lineDash?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){const t=this.getColor();return new n({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}}e.A=n},6505:function(t,e,n){"use strict";n.d(e,{d1:function(){return u},mC:function(){return l},mY:function(){return h}});var i=n(5274),r=n(8343),o=n(5782),s=n(1097);class a{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=d,void 0!==t.geometry&&this.setGeometry(t.geometry),this.fill_=void 0!==t.fill?t.fill:null,this.image_=void 0!==t.image?t.image:null,this.renderer_=void 0!==t.renderer?t.renderer:null,this.hitDetectionRenderer_=void 0!==t.hitDetectionRenderer?t.hitDetectionRenderer:null,this.stroke_=void 0!==t.stroke?t.stroke:null,this.text_=void 0!==t.text?t.text:null,this.zIndex_=t.zIndex}clone(){let t=this.getGeometry();return t&&"object"===typeof t&&(t=t.clone()),new a({geometry:t??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){"function"===typeof t?this.geometryFunction_=t:"string"===typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=d,this.geometry_=t}setZIndex(t){this.zIndex_=t}}function l(t){let e;if("function"===typeof t)e=t;else{let n;if(Array.isArray(t))n=t;else{(0,s.v)("function"===typeof t.getZIndex,"Expected an `Style` or an array of `Style`");const e=t;n=[e]}e=function(){return n}}return e}let c=null;function u(t,e){if(!c){const t=new r.A({color:"rgba(255,255,255,0.4)"}),e=new o.A({color:"#3399CC",width:1.25});c=[new a({image:new i.A({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return c}function h(){const t={},e=[255,255,255,1],n=[0,153,255,1],s=3;return t["Polygon"]=[new a({fill:new r.A({color:[255,255,255,.5]})})],t["MultiPolygon"]=t["Polygon"],t["LineString"]=[new a({stroke:new o.A({color:e,width:s+2})}),new a({stroke:new o.A({color:n,width:s})})],t["MultiLineString"]=t["LineString"],t["Circle"]=t["Polygon"].concat(t["LineString"]),t["Point"]=[new a({image:new i.A({radius:2*s,fill:new r.A({color:n}),stroke:new o.A({color:e,width:s/2})}),zIndex:1/0})],t["MultiPoint"]=t["Point"],t["GeometryCollection"]=t["Polygon"].concat(t["LineString"],t["Point"]),t}function d(t){return t.getGeometry()}e.Ay=a},6121:function(t,e,n){"use strict";var i=n(8343),r=n(5689);const o="#333";class s{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=(0,r.xq)(void 0!==t.scale?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=void 0!==t.fill?t.fill:new i.A({color:o}),this.maxAngle_=void 0!==t.maxAngle?t.maxAngle:Math.PI/4,this.placement_=void 0!==t.placement?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=void 0!==t.stroke?t.stroke:null,this.offsetX_=void 0!==t.offsetX?t.offsetX:0,this.offsetY_=void 0!==t.offsetY?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=void 0===t.padding?null:t.padding}clone(){const t=this.getScale();return new s({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRepeat(t){this.repeat_=t}setRotateWithView(t){this.rotateWithView_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=(0,r.xq)(void 0!==t?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}}e.A=s},8994:function(t,e,n){"use strict";n.d(e,{L:function(){return i},R:function(){return r}});const i=42,r=256},1194:function(t,e,n){"use strict";n.d(e,{Bb:function(){return h},T9:function(){return m},Tl:function(){return g},Zz:function(){return f},cL:function(){return a},dI:function(){return v},hs:function(){return d},k3:function(){return u},lw:function(){return l},rQ:function(){return p},vt:function(){return s}});var i=n(502),r=n(1097);const o=new Array(6);function s(){return[1,0,0,1,0,0]}function a(t){return c(t,1,0,0,1,0,0)}function l(t,e){const n=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=t[5],l=e[0],c=e[1],u=e[2],h=e[3],d=e[4],p=e[5];return t[0]=n*l+r*c,t[1]=i*l+o*c,t[2]=n*u+r*h,t[3]=i*u+o*h,t[4]=n*d+r*p+s,t[5]=i*d+o*p+a,t}function c(t,e,n,i,r,o,s){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=o,t[5]=s,t}function u(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function h(t,e){const n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function d(t,e,n){return l(t,c(o,e,0,0,n,0,0))}function p(t,e,n){return c(t,e,0,0,n,0,0)}function g(t,e,n){return l(t,c(o,1,0,0,1,e,n))}function f(t,e,n,i,r,o,s,a){const l=Math.sin(o),c=Math.cos(o);return t[0]=i*c,t[1]=r*l,t[2]=-i*l,t[3]=r*c,t[4]=s*i*c-a*i*l+e,t[5]=s*r*l+a*r*c+n,t}function m(t,e){const n=A(e);(0,r.v)(0!==n,"Transformation matrix cannot be inverted");const i=e[0],o=e[1],s=e[2],a=e[3],l=e[4],c=e[5];return t[0]=a/n,t[1]=-o/n,t[2]=-s/n,t[3]=i/n,t[4]=(s*c-a*l)/n,t[5]=-(i*c-o*l)/n,t}function A(t){return t[0]*t[3]-t[1]*t[2]}let y;function v(t){const e="matrix("+t.join(", ")+")";if(i.Wl)return e;const n=y||(y=document.createElement("div"));return n.style.transform=e,n.style.transform}},5752:function(t,e,n){"use strict";function i(){throw new Error("Unimplemented abstract method.")}n.d(e,{b0:function(){return i},v6:function(){return o}});let r=0;function o(t){return t.ol_uid||(t.ol_uid=String(++r))}},3387:function(t,e,n){"use strict";n.d(e,{Dm:function(){return _},Gl:function(){return v},NQ:function(){return w},OL:function(){return y},Tb:function(){return d},UN:function(){return C},VT:function(){return h},Vh:function(){return u},X1:function(){return A},YE:function(){return P},c4:function(){return p},eY:function(){return I},gN:function(){return m},kW:function(){return g},mT:function(){return s},mc:function(){return S},mm:function(){return f},pF:function(){return r},qg:function(){return c},qq:function(){return o},wz:function(){return l}});n(4114);var i=n(3851);const r="http://www.w3.org/2001/XMLSchema-instance";function o(t,e){return P().createElementNS(t,e)}function s(t,e){return a(t,e,[]).join("")}function a(t,e,n){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e?n.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):n.push(t.nodeValue);else{let i;for(i=t.firstChild;i;i=i.nextSibling)a(i,e,n)}return n}function l(t){return"documentElement"in t}function c(t){return(new DOMParser).parseFromString(t,"application/xml")}function u(t,e){return function(n,r){const o=t.call(void 0!==e?e:this,n,r);if(void 0!==o){const t=r[r.length-1];(0,i.X$)(t,o)}}}function h(t,e){return function(n,i){const r=t.call(void 0!==e?e:this,n,i);if(void 0!==r){const t=i[i.length-1];t.push(r)}}}function d(t,e){return function(n,i){const r=t.call(void 0!==e?e:this,n,i);void 0!==r&&(i[i.length-1]=r)}}function p(t,e,n){return function(i,r){const o=t.call(void 0!==n?n:this,i,r);if(void 0!==o){const t=r[r.length-1],n=void 0!==e?e:i.localName;let s;n in t?s=t[n]:(s=[],t[n]=s),s.push(o)}}}function g(t,e,n){return function(i,r){const o=t.call(void 0!==n?n:this,i,r);if(void 0!==o){const t=r[r.length-1],n=void 0!==e?e:i.localName;t[n]=o}}}function f(t,e){return function(n,i,r){t.call(void 0!==e?e:this,n,i,r);const o=r[r.length-1],s=o.node;s.appendChild(n)}}function m(t,e){let n,i;return function(e,r,o){if(void 0===n){n={};const r={};r[e.localName]=t,n[e.namespaceURI]=r,i=A(e.localName)}E(n,i,r,o)}}function A(t,e){return function(n,i,r){const s=i[i.length-1],a=s.node;let l=t;void 0===l&&(l=r);const c=void 0!==e?e:a.namespaceURI;return o(c,l)}}const y=A();function v(t,e){const n=e.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=t[e[r]];return i}function _(t,e,n){let i,r;for(n=void 0!==n?n:{},i=0,r=t.length;i<r;++i)n[t[i]]=e;return n}function C(t,e,n,i){let r;for(r=e.firstElementChild;r;r=r.nextElementSibling){const e=t[r.namespaceURI];if(void 0!==e){const t=e[r.localName];void 0!==t&&t.call(i,r,n)}}}function I(t,e,n,i,r){return i.push(t),C(e,n,i,r),i.pop()}function E(t,e,n,i,r,o){const s=(void 0!==r?r:n).length;let a,l;for(let c=0;c<s;++c)a=n[c],void 0!==a&&(l=e.call(void 0!==o?o:this,a,i,void 0!==r?r[c]:void 0),void 0!==l&&t[l.namespaceURI][l.localName].call(o,l,a,i))}function w(t,e,n,i,r,o,s){return r.push(t),E(e,n,i,r,o,s),r.pop()}let b,x;function S(){return void 0===b&&"undefined"!==typeof XMLSerializer&&(b=new XMLSerializer),b}function P(){return void 0===x&&"undefined"!==typeof document&&(x=document.implementation.createDocument("","",null)),x}},5220:function(t,e,n){"use strict";n.d(e,{aE:function(){return Kt},sC:function(){return et}});var i=n(641),r=n(953);
/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */
const o="undefined"!==typeof document;function s(t){return t.__esModule||"Module"===t[Symbol.toStringTag]}const a=Object.assign;function l(t,e){const n={};for(const i in e){const r=e[i];n[i]=u(r)?r.map(t):t(r)}return n}const c=()=>{},u=Array.isArray;const h=/#/g,d=/&/g,p=/\//g,g=/=/g,f=/\?/g,m=/\+/g,A=/%5B/g,y=/%5D/g,v=/%5E/g,_=/%60/g,C=/%7B/g,I=/%7C/g,E=/%7D/g,w=/%20/g;function b(t){return encodeURI(""+t).replace(I,"|").replace(A,"[").replace(y,"]")}function x(t){return b(t).replace(C,"{").replace(E,"}").replace(v,"^")}function S(t){return b(t).replace(m,"%2B").replace(w,"+").replace(h,"%23").replace(d,"%26").replace(_,"`").replace(C,"{").replace(E,"}").replace(v,"^")}function P(t){return S(t).replace(g,"%3D")}function M(t){return b(t).replace(h,"%23").replace(f,"%3F")}function R(t){return null==t?"":M(t).replace(p,"%2F")}function T(t){try{return decodeURIComponent(""+t)}catch(e){}return""+t}const G=/\/$/,L=t=>t.replace(G,"");function k(t,e,n="/"){let i,r={},o="",s="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=e.slice(0,l),o=e.slice(l+1,a>-1?a:e.length),r=t(o)),a>-1&&(i=i||e.slice(0,a),s=e.slice(a,e.length)),i=j(null!=i?i:e,n),{fullPath:i+(o&&"?")+o+s,path:i,query:r,hash:T(s)}}function O(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function D(t,e,n){const i=e.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&N(e.matched[i],n.matched[r])&&F(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function N(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function F(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!U(t[n],e[n]))return!1;return!0}function U(t,e){return u(t)?B(t,e):u(e)?B(e,t):t===e}function B(t,e){return u(e)?t.length===e.length&&t.every(((t,n)=>t===e[n])):1===t.length&&t[0]===e}function j(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),r=i[i.length-1];".."!==r&&"."!==r||i.push("");let o,s,a=n.length-1;for(o=0;o<i.length;o++)if(s=i[o],"."!==s){if(".."!==s)break;a>1&&a--}return n.slice(0,a).join("/")+"/"+i.slice(o).join("/")}var z,W;(function(t){t["pop"]="pop",t["push"]="push"})(z||(z={})),function(t){t["back"]="back",t["forward"]="forward",t["unknown"]=""}(W||(W={}));const V="";function Y(t){if(!t)if(o){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),L(t)}const H=/^[^#]+#/;function q(t,e){return t.replace(H,"#")+e}function X(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const Z=()=>({left:window.scrollX,top:window.scrollY});function K(t){let e;if("el"in t){const n=t.el,i="string"===typeof n&&n.startsWith("#");0;const r="string"===typeof n?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=X(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.scrollX,null!=e.top?e.top:window.scrollY)}function J(t,e){const n=history.state?history.state.position-e:-1;return n+t}const Q=new Map;function $(t,e){Q.set(t,e)}function tt(t){const e=Q.get(t);return Q.delete(t),e}function et(t=""){let e=[],n=[V],i=0;function r(t){i++,i!==n.length&&n.splice(i),n.push(t)}function o(t,n,{direction:i,delta:r}){const o={direction:i,delta:r,type:z.pop};for(const s of e)s(t,n,o)}t=Y(t);const s={location:V,state:{},base:t,createHref:q.bind(null,t),replace(t){n.splice(i--,1),r(t)},push(t,e){r(t)},listen(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}},destroy(){e=[],n=[V],i=0},go(t,e=!0){const r=this.location,s=t<0?W.back:W.forward;i=Math.max(0,Math.min(i+t,n.length-1)),e&&o(this.location,r,{direction:s,delta:t})}};return Object.defineProperty(s,"location",{enumerable:!0,get:()=>n[i]}),s}function nt(t){return"string"===typeof t||t&&"object"===typeof t}function it(t){return"string"===typeof t||"symbol"===typeof t}const rt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},ot=Symbol("");var st;(function(t){t[t["aborted"]=4]="aborted",t[t["cancelled"]=8]="cancelled",t[t["duplicated"]=16]="duplicated"})(st||(st={}));function at(t,e){return a(new Error,{type:t,[ot]:!0},e)}function lt(t,e){return t instanceof Error&&ot in t&&(null==e||!!(t.type&e))}const ct="[^/]+?",ut={sensitive:!1,strict:!1,start:!0,end:!0},ht=/[.+*?^${}()[\]/\\]/g;function dt(t,e){const n=a({},ut,e),i=[];let r=n.start?"^":"";const o=[];for(const a of t){const t=a.length?[]:[90];n.strict&&!a.length&&(r+="/");for(let e=0;e<a.length;e++){const i=a[e];let s=40+(n.sensitive?.25:0);if(0===i.type)e||(r+="/"),r+=i.value.replace(ht,"\\$&"),s+=40;else if(1===i.type){const{value:t,repeatable:n,optional:l,regexp:c}=i;o.push({name:t,repeatable:n,optional:l});const u=c||ct;if(u!==ct){s+=10;try{new RegExp(`(${u})`)}catch(h){throw new Error(`Invalid custom RegExp for param "${t}" (${u}): `+h.message)}}let d=n?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;e||(d=l&&a.length<2?`(?:/${d})`:"/"+d),l&&(d+="?"),r+=d,s+=20,l&&(s+=-8),n&&(s+=-20),".*"===u&&(s+=-50)}t.push(s)}i.push(t)}if(n.strict&&n.end){const t=i.length-1;i[t][i[t].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const s=new RegExp(r,n.sensitive?"":"i");function l(t){const e=t.match(s),n={};if(!e)return null;for(let i=1;i<e.length;i++){const t=e[i]||"",r=o[i-1];n[r.name]=t&&r.repeatable?t.split("/"):t}return n}function c(e){let n="",i=!1;for(const r of t){i&&n.endsWith("/")||(n+="/"),i=!1;for(const t of r)if(0===t.type)n+=t.value;else if(1===t.type){const{value:o,repeatable:s,optional:a}=t,l=o in e?e[o]:"";if(u(l)&&!s)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const c=u(l)?l.join("/"):l;if(!c){if(!a)throw new Error(`Missing required param "${o}"`);r.length<2&&(n.endsWith("/")?n=n.slice(0,-1):i=!0)}n+=c}}return n||"/"}return{re:s,score:i,keys:o,parse:l,stringify:c}}function pt(t,e){let n=0;while(n<t.length&&n<e.length){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?1===t.length&&80===t[0]?-1:1:t.length>e.length?1===e.length&&80===e[0]?1:-1:0}function gt(t,e){let n=0;const i=t.score,r=e.score;while(n<i.length&&n<r.length){const t=pt(i[n],r[n]);if(t)return t;n++}if(1===Math.abs(r.length-i.length)){if(ft(i))return 1;if(ft(r))return-1}return r.length-i.length}function ft(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const mt={type:0,value:""},At=/[a-zA-Z0-9_]/;function yt(t){if(!t)return[[]];if("/"===t)return[[mt]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${n})/"${c}": ${t}`)}let n=0,i=n;const r=[];let o;function s(){o&&r.push(o),o=[]}let a,l=0,c="",u="";function h(){c&&(0===n?o.push({type:0,value:c}):1===n||2===n||3===n?(o.length>1&&("*"===a||"+"===a)&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):e("Invalid state to consume buffer"),c="")}function d(){c+=a}while(l<t.length)if(a=t[l++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(c&&h(),s()):":"===a?(h(),n=1):d();break;case 4:d(),n=i;break;case 1:"("===a?n=2:At.test(a)?d():(h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--);break;case 2:")"===a?"\\"==u[u.length-1]?u=u.slice(0,-1)+a:n=3:u+=a;break;case 3:h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--,u="";break;default:e("Unknown state");break}else i=n,n=4;return 2===n&&e(`Unfinished custom RegExp for param "${c}"`),h(),s(),r}function vt(t,e,n){const i=dt(yt(t.path),n);const r=a(i,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf===!e.record.aliasOf&&e.children.push(r),r}function _t(t,e){const n=[],i=new Map;function r(t){return i.get(t)}function o(t,n,i){const r=!i,l=It(t);l.aliasOf=i&&i.record;const h=xt(e,t),d=[l];if("alias"in t){const e="string"===typeof t.alias?[t.alias]:t.alias;for(const t of e)d.push(a({},l,{components:i?i.record.components:l.components,path:t,aliasOf:i?i.record:l}))}let p,g;for(const e of d){const{path:a}=e;if(n&&"/"!==a[0]){const t=n.record.path,i="/"===t[t.length-1]?"":"/";e.path=n.record.path+(a&&i+a)}if(p=vt(e,n,h),i?i.alias.push(p):(g=g||p,g!==p&&g.alias.push(p),r&&t.name&&!wt(p)&&s(t.name)),l.children){const t=l.children;for(let e=0;e<t.length;e++)o(t[e],p,i&&i.children[e])}i=i||p,(p.record.components&&Object.keys(p.record.components).length||p.record.name||p.record.redirect)&&u(p)}return g?()=>{s(g)}:c}function s(t){if(it(t)){const e=i.get(t);e&&(i.delete(t),n.splice(n.indexOf(e),1),e.children.forEach(s),e.alias.forEach(s))}else{const e=n.indexOf(t);e>-1&&(n.splice(e,1),t.record.name&&i.delete(t.record.name),t.children.forEach(s),t.alias.forEach(s))}}function l(){return n}function u(t){let e=0;while(e<n.length&&gt(t,n[e])>=0&&(t.record.path!==n[e].record.path||!St(t,n[e])))e++;n.splice(e,0,t),t.record.name&&!wt(t)&&i.set(t.record.name,t)}function h(t,e){let r,o,s,l={};if("name"in t&&t.name){if(r=i.get(t.name),!r)throw at(1,{location:t});0,s=r.record.name,l=a(Ct(e.params,r.keys.filter((t=>!t.optional)).concat(r.parent?r.parent.keys.filter((t=>t.optional)):[]).map((t=>t.name))),t.params&&Ct(t.params,r.keys.map((t=>t.name)))),o=r.stringify(l)}else if(null!=t.path)o=t.path,r=n.find((t=>t.re.test(o))),r&&(l=r.parse(o),s=r.record.name);else{if(r=e.name?i.get(e.name):n.find((t=>t.re.test(e.path))),!r)throw at(1,{location:t,currentLocation:e});s=r.record.name,l=a({},e.params,t.params),o=r.stringify(l)}const c=[];let u=r;while(u)c.unshift(u.record),u=u.parent;return{name:s,path:o,params:l,matched:c,meta:bt(c)}}return e=xt({strict:!1,end:!0,sensitive:!1},e),t.forEach((t=>o(t))),{addRoute:o,resolve:h,removeRoute:s,getRoutes:l,getRecordMatcher:r}}function Ct(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function It(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Et(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Et(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]="object"===typeof n?n[i]:n;return e}function wt(t){while(t){if(t.record.aliasOf)return!0;t=t.parent}return!1}function bt(t){return t.reduce(((t,e)=>a(t,e.meta)),{})}function xt(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function St(t,e){return e.children.some((e=>e===t||St(t,e)))}function Pt(t){const e={};if(""===t||"?"===t)return e;const n="?"===t[0],i=(n?t.slice(1):t).split("&");for(let r=0;r<i.length;++r){const t=i[r].replace(m," "),n=t.indexOf("="),o=T(n<0?t:t.slice(0,n)),s=n<0?null:T(t.slice(n+1));if(o in e){let t=e[o];u(t)||(t=e[o]=[t]),t.push(s)}else e[o]=s}return e}function Mt(t){let e="";for(let n in t){const i=t[n];if(n=P(n),null==i){void 0!==i&&(e+=(e.length?"&":"")+n);continue}const r=u(i)?i.map((t=>t&&S(t))):[i&&S(i)];r.forEach((t=>{void 0!==t&&(e+=(e.length?"&":"")+n,null!=t&&(e+="="+t))}))}return e}function Rt(t){const e={};for(const n in t){const i=t[n];void 0!==i&&(e[n]=u(i)?i.map((t=>null==t?null:""+t)):null==i?i:""+i)}return e}const Tt=Symbol(""),Gt=Symbol(""),Lt=Symbol(""),kt=Symbol(""),Ot=Symbol("");function Dt(){let t=[];function e(e){return t.push(e),()=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Nt(t,e,n,i,r,o=(t=>t())){const s=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise(((a,l)=>{const c=t=>{!1===t?l(at(4,{from:n,to:e})):t instanceof Error?l(t):nt(t)?l(at(2,{from:e,to:t})):(s&&i.enterCallbacks[r]===s&&"function"===typeof t&&s.push(t),a())},u=o((()=>t.call(i&&i.instances[r],e,n,c)));let h=Promise.resolve(u);t.length<3&&(h=h.then(c)),h.catch((t=>l(t)))}))}function Ft(t,e,n,i,r=(t=>t())){const o=[];for(const a of t){0;for(const t in a.components){let l=a.components[t];if("beforeRouteEnter"===e||a.instances[t])if(Ut(l)){const s=l.__vccOpts||l,c=s[e];c&&o.push(Nt(c,n,i,a,t,r))}else{let c=l();0,o.push((()=>c.then((o=>{if(!o)return Promise.reject(new Error(`Couldn't resolve component "${t}" at "${a.path}"`));const l=s(o)?o.default:o;a.components[t]=l;const c=l.__vccOpts||l,u=c[e];return u&&Nt(u,n,i,a,t,r)()}))))}}}return o}function Ut(t){return"object"===typeof t||"displayName"in t||"props"in t||"__vccOpts"in t}function Bt(t){const e=(0,i.WQ)(Lt),n=(0,i.WQ)(kt),o=(0,i.EW)((()=>e.resolve((0,r.R1)(t.to)))),s=(0,i.EW)((()=>{const{matched:t}=o.value,{length:e}=t,i=t[e-1],r=n.matched;if(!i||!r.length)return-1;const s=r.findIndex(N.bind(null,i));if(s>-1)return s;const a=Yt(t[e-2]);return e>1&&Yt(i)===a&&r[r.length-1].path!==a?r.findIndex(N.bind(null,t[e-2])):s})),a=(0,i.EW)((()=>s.value>-1&&Vt(n.params,o.value.params))),l=(0,i.EW)((()=>s.value>-1&&s.value===n.matched.length-1&&F(n.params,o.value.params)));function u(n={}){return Wt(n)?e[(0,r.R1)(t.replace)?"replace":"push"]((0,r.R1)(t.to)).catch(c):Promise.resolve()}return{route:o,href:(0,i.EW)((()=>o.value.href)),isActive:a,isExactActive:l,navigate:u}}const jt=(0,i.pM)({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Bt,setup(t,{slots:e}){const n=(0,r.Kh)(Bt(t)),{options:o}=(0,i.WQ)(Lt),s=(0,i.EW)((()=>({[Ht(t.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[Ht(t.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const r=e.default&&e.default(n);return t.custom?r:(0,i.h)("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},r)}}}),zt=jt;function Wt(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&(void 0===t.button||0===t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Vt(t,e){for(const n in e){const i=e[n],r=t[n];if("string"===typeof i){if(i!==r)return!1}else if(!u(r)||r.length!==i.length||i.some(((t,e)=>t!==r[e])))return!1}return!0}function Yt(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Ht=(t,e,n)=>null!=t?t:null!=e?e:n,qt=(0,i.pM)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const o=(0,i.WQ)(Ot),s=(0,i.EW)((()=>t.route||o.value)),l=(0,i.WQ)(Gt,0),c=(0,i.EW)((()=>{let t=(0,r.R1)(l);const{matched:e}=s.value;let n;while((n=e[t])&&!n.components)t++;return t})),u=(0,i.EW)((()=>s.value.matched[c.value]));(0,i.Gt)(Gt,(0,i.EW)((()=>c.value+1))),(0,i.Gt)(Tt,u),(0,i.Gt)(Ot,s);const h=(0,r.KR)();return(0,i.wB)((()=>[h.value,u.value,t.name]),(([t,e,n],[i,r,o])=>{e&&(e.instances[n]=t,r&&r!==e&&t&&t===i&&(e.leaveGuards.size||(e.leaveGuards=r.leaveGuards),e.updateGuards.size||(e.updateGuards=r.updateGuards))),!t||!e||r&&N(e,r)&&i||(e.enterCallbacks[n]||[]).forEach((e=>e(t)))}),{flush:"post"}),()=>{const r=s.value,o=t.name,l=u.value,c=l&&l.components[o];if(!c)return Xt(n.default,{Component:c,route:r});const d=l.props[o],p=d?!0===d?r.params:"function"===typeof d?d(r):d:null,g=t=>{t.component.isUnmounted&&(l.instances[o]=null)},f=(0,i.h)(c,a({},p,e,{onVnodeUnmounted:g,ref:h}));return Xt(n.default,{Component:f,route:r})||f}}});function Xt(t,e){if(!t)return null;const n=t(e);return 1===n.length?n[0]:n}const Zt=qt;function Kt(t){const e=_t(t.routes,t),n=t.parseQuery||Pt,s=t.stringifyQuery||Mt,h=t.history;const d=Dt(),p=Dt(),g=Dt(),f=(0,r.IJ)(rt);let m=rt;o&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const A=l.bind(null,(t=>""+t)),y=l.bind(null,R),v=l.bind(null,T);function _(t,n){let i,r;return it(t)?(i=e.getRecordMatcher(t),r=n):r=t,e.addRoute(r,i)}function C(t){const n=e.getRecordMatcher(t);n&&e.removeRoute(n)}function I(){return e.getRoutes().map((t=>t.record))}function E(t){return!!e.getRecordMatcher(t)}function w(t,i){if(i=a({},i||f.value),"string"===typeof t){const r=k(n,t,i.path),o=e.resolve({path:r.path},i),s=h.createHref(r.fullPath);return a(r,o,{params:v(o.params),hash:T(r.hash),redirectedFrom:void 0,href:s})}let r;if(null!=t.path)r=a({},t,{path:k(n,t.path,i.path).path});else{const e=a({},t.params);for(const t in e)null==e[t]&&delete e[t];r=a({},t,{params:y(e)}),i.params=y(i.params)}const o=e.resolve(r,i),l=t.hash||"";o.params=A(v(o.params));const c=O(s,a({},t,{hash:x(l),path:o.path})),u=h.createHref(c);return a({fullPath:c,hash:l,query:s===Mt?Rt(t.query):t.query||{}},o,{redirectedFrom:void 0,href:u})}function b(t){return"string"===typeof t?k(n,t,f.value.path):a({},t)}function S(t,e){if(m!==t)return at(8,{from:e,to:t})}function P(t){return L(t)}function M(t){return P(a(b(t),{replace:!0}))}function G(t){const e=t.matched[t.matched.length-1];if(e&&e.redirect){const{redirect:n}=e;let i="function"===typeof n?n(t):n;return"string"===typeof i&&(i=i.includes("?")||i.includes("#")?i=b(i):{path:i},i.params={}),a({query:t.query,hash:t.hash,params:null!=i.path?{}:t.params},i)}}function L(t,e){const n=m=w(t),i=f.value,r=t.state,o=t.force,l=!0===t.replace,c=G(n);if(c)return L(a(b(c),{state:"object"===typeof c?a({},r,c.state):r,force:o,replace:l}),e||n);const u=n;let h;return u.redirectedFrom=e,!o&&D(s,i,n)&&(h=at(16,{to:u,from:i}),nt(i,i,!0,!1)),(h?Promise.resolve(h):U(u,i)).catch((t=>lt(t)?lt(t,2)?t:et(t):X(t,u,i))).then((t=>{if(t){if(lt(t,2))return L(a({replace:l},b(t.to),{state:"object"===typeof t.to?a({},r,t.to.state):r,force:o}),e||u)}else t=j(u,i,!0,l,r);return B(u,i,t),t}))}function N(t,e){const n=S(t,e);return n?Promise.reject(n):Promise.resolve()}function F(t){const e=ct.values().next().value;return e&&"function"===typeof e.runWithContext?e.runWithContext(t):t()}function U(t,e){let n;const[i,r,o]=Jt(t,e);n=Ft(i.reverse(),"beforeRouteLeave",t,e);for(const a of i)a.leaveGuards.forEach((i=>{n.push(Nt(i,t,e))}));const s=N.bind(null,t,e);return n.push(s),ht(n).then((()=>{n=[];for(const i of d.list())n.push(Nt(i,t,e));return n.push(s),ht(n)})).then((()=>{n=Ft(r,"beforeRouteUpdate",t,e);for(const i of r)i.updateGuards.forEach((i=>{n.push(Nt(i,t,e))}));return n.push(s),ht(n)})).then((()=>{n=[];for(const i of o)if(i.beforeEnter)if(u(i.beforeEnter))for(const r of i.beforeEnter)n.push(Nt(r,t,e));else n.push(Nt(i.beforeEnter,t,e));return n.push(s),ht(n)})).then((()=>(t.matched.forEach((t=>t.enterCallbacks={})),n=Ft(o,"beforeRouteEnter",t,e,F),n.push(s),ht(n)))).then((()=>{n=[];for(const i of p.list())n.push(Nt(i,t,e));return n.push(s),ht(n)})).catch((t=>lt(t,8)?t:Promise.reject(t)))}function B(t,e,n){g.list().forEach((i=>F((()=>i(t,e,n)))))}function j(t,e,n,i,r){const s=S(t,e);if(s)return s;const l=e===rt,c=o?history.state:{};n&&(i||l?h.replace(t.fullPath,a({scroll:l&&c&&c.scroll},r)):h.push(t.fullPath,r)),f.value=t,nt(t,e,n,l),et()}let W;function V(){W||(W=h.listen(((t,e,n)=>{if(!ut.listening)return;const i=w(t),r=G(i);if(r)return void L(a(r,{replace:!0}),i).catch(c);m=i;const s=f.value;o&&$(J(s.fullPath,n.delta),Z()),U(i,s).catch((t=>lt(t,12)?t:lt(t,2)?(L(t.to,i).then((t=>{lt(t,20)&&!n.delta&&n.type===z.pop&&h.go(-1,!1)})).catch(c),Promise.reject()):(n.delta&&h.go(-n.delta,!1),X(t,i,s)))).then((t=>{t=t||j(i,s,!1),t&&(n.delta&&!lt(t,8)?h.go(-n.delta,!1):n.type===z.pop&&lt(t,20)&&h.go(-1,!1)),B(i,s,t)})).catch(c)})))}let Y,H=Dt(),q=Dt();function X(t,e,n){et(t);const i=q.list();return i.length?i.forEach((i=>i(t,e,n))):console.error(t),Promise.reject(t)}function Q(){return Y&&f.value!==rt?Promise.resolve():new Promise(((t,e)=>{H.add([t,e])}))}function et(t){return Y||(Y=!t,V(),H.list().forEach((([e,n])=>t?n(t):e())),H.reset()),t}function nt(e,n,r,s){const{scrollBehavior:a}=t;if(!o||!a)return Promise.resolve();const l=!r&&tt(J(e.fullPath,0))||(s||!r)&&history.state&&history.state.scroll||null;return(0,i.dY)().then((()=>a(e,n,l))).then((t=>t&&K(t))).catch((t=>X(t,e,n)))}const ot=t=>h.go(t);let st;const ct=new Set,ut={currentRoute:f,listening:!0,addRoute:_,removeRoute:C,hasRoute:E,getRoutes:I,resolve:w,options:t,push:P,replace:M,go:ot,back:()=>ot(-1),forward:()=>ot(1),beforeEach:d.add,beforeResolve:p.add,afterEach:g.add,onError:q.add,isReady:Q,install(t){const e=this;t.component("RouterLink",zt),t.component("RouterView",Zt),t.config.globalProperties.$router=e,Object.defineProperty(t.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,r.R1)(f)}),o&&!st&&f.value===rt&&(st=!0,P(h.location).catch((t=>{0})));const n={};for(const r in rt)Object.defineProperty(n,r,{get:()=>f.value[r],enumerable:!0});t.provide(Lt,e),t.provide(kt,(0,r.Gc)(n)),t.provide(Ot,f);const i=t.unmount;ct.add(t),t.unmount=function(){ct.delete(t),ct.size<1&&(m=rt,W&&W(),W=null,f.value=rt,st=!1,Y=!1),i()}}};function ht(t){return t.reduce(((t,e)=>t.then((()=>F(e)))),Promise.resolve())}return ut}function Jt(t,e){const n=[],i=[],r=[],o=Math.max(e.matched.length,t.matched.length);for(let s=0;s<o;s++){const o=e.matched[s];o&&(t.matched.find((t=>N(t,o)))?i.push(o):n.push(o));const a=t.matched[s];a&&(e.matched.find((t=>N(t,a)))||r.push(a))}return[n,i,r]}}}]);
//# sourceMappingURL=chunk-vendors.37a6a8ea.js.map
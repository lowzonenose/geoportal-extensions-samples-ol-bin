(self["webpackChunkgeoportal_extensions_openlayers_samples"]=self["webpackChunkgeoportal_extensions_openlayers_samples"]||[]).push([[504],{953:function(e,t,n){"use strict";n.d(t,{C4:function(){return v},EW:function(){return Se},Gc:function(){return fe},IG:function(){return Ee},IJ:function(){return Te},KR:function(){return Re},Kh:function(){return ge},Pr:function(){return Ne},R1:function(){return Oe},X2:function(){return u},bl:function(){return y},fE:function(){return _e},g8:function(){return ye},hZ:function(){return M},i9:function(){return ke},ju:function(){return Ce},o5:function(){return l},u4:function(){return P},ux:function(){return Ie},yC:function(){return a}});var i=n(33);
/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let r,o;class a{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=r,!e&&r&&(this.index=(r.scopes||(r.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=r;try{return r=this,e()}finally{r=t}}else 0}on(){r=this}off(){r=this.parent}stop(e){if(this._active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0,this._active=!1}}}function s(e,t=r){t&&t.active&&t.effects.push(e)}function l(){return r}class u{constructor(e,t,n,i){this.fn=e,this.trigger=t,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,s(this,i)}get dirty(){if(2===this._dirtyLevel||3===this._dirtyLevel){this._dirtyLevel=1,v();for(let e=0;e<this._depsLength;e++){const t=this.deps[e];if(t.computed&&(c(t.computed),this._dirtyLevel>=4))break}1===this._dirtyLevel&&(this._dirtyLevel=0),y()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=g,t=o;try{return g=!0,o=this,this._runnings++,h(this),this.fn()}finally{d(this),this._runnings--,o=t,g=e}}stop(){var e;this.active&&(h(this),d(this),null==(e=this.onStop)||e.call(this),this.active=!1)}}function c(e){return e.value}function h(e){e._trackId++,e._depsLength=0}function d(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)p(e.deps[t],e);e.deps.length=e._depsLength}}function p(e,t){const n=e.get(t);void 0!==n&&t._trackId!==n&&(e.delete(t),0===e.size&&e.cleanup())}let g=!0,f=0;const m=[];function v(){m.push(g),g=!1}function y(){const e=m.pop();g=void 0===e||e}function A(){f++}function _(){f--;while(!f&&I.length)I.shift()()}function C(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const n=e.deps[e._depsLength];n!==t?(n&&p(n,e),e.deps[e._depsLength++]=t):e._depsLength++}}const I=[];function E(e,t,n){A();for(const i of e.keys()){let n;i._dirtyLevel<t&&(null!=n?n:n=e.get(i)===i._trackId)&&(i._shouldSchedule||(i._shouldSchedule=0===i._dirtyLevel),i._dirtyLevel=t),i._shouldSchedule&&(null!=n?n:n=e.get(i)===i._trackId)&&(i.trigger(),i._runnings&&!i.allowRecurse||2===i._dirtyLevel||(i._shouldSchedule=!1,i.scheduler&&I.push(i.scheduler)))}_()}const w=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},b=new WeakMap,x=Symbol(""),S=Symbol("");function P(e,t,n){if(g&&o){let t=b.get(e);t||b.set(e,t=new Map);let i=t.get(n);i||t.set(n,i=w((()=>t.delete(n)))),C(o,i,void 0)}}function M(e,t,n,r,o,a){const s=b.get(e);if(!s)return;let l=[];if("clear"===t)l=[...s.values()];else if("length"===n&&(0,i.cy)(e)){const e=Number(r);s.forEach(((t,n)=>{("length"===n||!(0,i.Bm)(n)&&n>=e)&&l.push(t)}))}else switch(void 0!==n&&l.push(s.get(n)),t){case"add":(0,i.cy)(e)?(0,i.yI)(n)&&l.push(s.get("length")):(l.push(s.get(x)),(0,i.CE)(e)&&l.push(s.get(S)));break;case"delete":(0,i.cy)(e)||(l.push(s.get(x)),(0,i.CE)(e)&&l.push(s.get(S)));break;case"set":(0,i.CE)(e)&&l.push(s.get(x));break}A();for(const i of l)i&&E(i,4,void 0);_()}const k=(0,i.pD)("__proto__,__v_isRef,__isVue"),R=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(i.Bm)),T=L();function L(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=Ie(this);for(let t=0,r=this.length;t<r;t++)P(n,"get",t+"");const i=n[t](...e);return-1===i||!1===i?n[t](...e.map(Ie)):i}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){v(),A();const n=Ie(this)[t].apply(this,e);return _(),y(),n}})),e}function G(e){const t=Ie(this);return P(t,"has",e),t.hasOwnProperty(e)}class O{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){const r=this._isReadonly,o=this._isShallow;if("__v_isReactive"===t)return!r;if("__v_isReadonly"===t)return r;if("__v_isShallow"===t)return o;if("__v_raw"===t)return n===(r?o?he:ce:o?ue:le).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const a=(0,i.cy)(e);if(!r){if(a&&(0,i.$3)(T,t))return Reflect.get(T,t,n);if("hasOwnProperty"===t)return G}const s=Reflect.get(e,t,n);return((0,i.Bm)(t)?R.has(t):k(t))?s:(r||P(e,"get",t),o?s:ke(s)?a&&(0,i.yI)(t)?s:s.value:(0,i.Gv)(s)?r?me(s):ge(s):s)}}class D extends O{constructor(e=!1){super(!1,e)}set(e,t,n,r){let o=e[t];if(!this._isShallow){const t=Ae(o);if(_e(n)||Ae(n)||(o=Ie(o),n=Ie(n)),!(0,i.cy)(e)&&ke(o)&&!ke(n))return!t&&(o.value=n,!0)}const a=(0,i.cy)(e)&&(0,i.yI)(t)?Number(t)<e.length:(0,i.$3)(e,t),s=Reflect.set(e,t,n,r);return e===Ie(r)&&(a?(0,i.$H)(n,o)&&M(e,"set",t,n,o):M(e,"add",t,n)),s}deleteProperty(e,t){const n=(0,i.$3)(e,t),r=e[t],o=Reflect.deleteProperty(e,t);return o&&n&&M(e,"delete",t,void 0,r),o}has(e,t){const n=Reflect.has(e,t);return(0,i.Bm)(t)&&R.has(t)||P(e,"has",t),n}ownKeys(e){return P(e,"iterate",(0,i.cy)(e)?"length":x),Reflect.ownKeys(e)}}class N extends O{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const F=new D,U=new N,B=new D(!0),j=e=>e,z=e=>Reflect.getPrototypeOf(e);function W(e,t,n=!1,r=!1){e=e["__v_raw"];const o=Ie(e),a=Ie(t);n||((0,i.$H)(t,a)&&P(o,"get",t),P(o,"get",a));const{has:s}=z(o),l=r?j:n?be:we;return s.call(o,t)?l(e.get(t)):s.call(o,a)?l(e.get(a)):void(e!==o&&e.get(t))}function V(e,t=!1){const n=this["__v_raw"],r=Ie(n),o=Ie(e);return t||((0,i.$H)(e,o)&&P(r,"has",e),P(r,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function Y(e,t=!1){return e=e["__v_raw"],!t&&P(Ie(e),"iterate",x),Reflect.get(e,"size",e)}function H(e){e=Ie(e);const t=Ie(this),n=z(t),i=n.has.call(t,e);return i||(t.add(e),M(t,"add",e,e)),this}function q(e,t){t=Ie(t);const n=Ie(this),{has:r,get:o}=z(n);let a=r.call(n,e);a||(e=Ie(e),a=r.call(n,e));const s=o.call(n,e);return n.set(e,t),a?(0,i.$H)(t,s)&&M(n,"set",e,t,s):M(n,"add",e,t),this}function X(e){const t=Ie(this),{has:n,get:i}=z(t);let r=n.call(t,e);r||(e=Ie(e),r=n.call(t,e));const o=i?i.call(t,e):void 0,a=t.delete(e);return r&&M(t,"delete",e,void 0,o),a}function Z(){const e=Ie(this),t=0!==e.size,n=void 0,i=e.clear();return t&&M(e,"clear",void 0,void 0,n),i}function K(e,t){return function(n,i){const r=this,o=r["__v_raw"],a=Ie(o),s=t?j:e?be:we;return!e&&P(a,"iterate",x),o.forEach(((e,t)=>n.call(i,s(e),s(t),r)))}}function J(e,t,n){return function(...r){const o=this["__v_raw"],a=Ie(o),s=(0,i.CE)(a),l="entries"===e||e===Symbol.iterator&&s,u="keys"===e&&s,c=o[e](...r),h=n?j:t?be:we;return!t&&P(a,"iterate",u?S:x),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:l?[h(e[0]),h(e[1])]:h(e),done:t}},[Symbol.iterator](){return this}}}}function Q(e){return function(...t){return"delete"!==e&&("clear"===e?void 0:this)}}function $(){const e={get(e){return W(this,e)},get size(){return Y(this)},has:V,add:H,set:q,delete:X,clear:Z,forEach:K(!1,!1)},t={get(e){return W(this,e,!1,!0)},get size(){return Y(this)},has:V,add:H,set:q,delete:X,clear:Z,forEach:K(!1,!0)},n={get(e){return W(this,e,!0)},get size(){return Y(this,!0)},has(e){return V.call(this,e,!0)},add:Q("add"),set:Q("set"),delete:Q("delete"),clear:Q("clear"),forEach:K(!0,!1)},i={get(e){return W(this,e,!0,!0)},get size(){return Y(this,!0)},has(e){return V.call(this,e,!0)},add:Q("add"),set:Q("set"),delete:Q("delete"),clear:Q("clear"),forEach:K(!0,!0)},r=["keys","values","entries",Symbol.iterator];return r.forEach((r=>{e[r]=J(r,!1,!1),n[r]=J(r,!0,!1),t[r]=J(r,!1,!0),i[r]=J(r,!0,!0)})),[e,n,t,i]}const[ee,te,ne,ie]=$();function re(e,t){const n=t?e?ie:ne:e?te:ee;return(t,r,o)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get((0,i.$3)(n,r)&&r in t?n:t,r,o)}const oe={get:re(!1,!1)},ae={get:re(!1,!0)},se={get:re(!0,!1)};const le=new WeakMap,ue=new WeakMap,ce=new WeakMap,he=new WeakMap;function de(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function pe(e){return e["__v_skip"]||!Object.isExtensible(e)?0:de((0,i.Zf)(e))}function ge(e){return Ae(e)?e:ve(e,!1,F,oe,le)}function fe(e){return ve(e,!1,B,ae,ue)}function me(e){return ve(e,!0,U,se,ce)}function ve(e,t,n,r,o){if(!(0,i.Gv)(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;const a=o.get(e);if(a)return a;const s=pe(e);if(0===s)return e;const l=new Proxy(e,2===s?r:n);return o.set(e,l),l}function ye(e){return Ae(e)?ye(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function Ae(e){return!(!e||!e["__v_isReadonly"])}function _e(e){return!(!e||!e["__v_isShallow"])}function Ce(e){return ye(e)||Ae(e)}function Ie(e){const t=e&&e["__v_raw"];return t?Ie(t):e}function Ee(e){return Object.isExtensible(e)&&(0,i.yQ)(e,"__v_skip",!0),e}const we=e=>(0,i.Gv)(e)?ge(e):e,be=e=>(0,i.Gv)(e)?me(e):e;class xe{constructor(e,t,n,i){this.getter=e,this._setter=t,this.dep=void 0,this.__v_isRef=!0,this["__v_isReadonly"]=!1,this.effect=new u((()=>e(this._value)),(()=>Me(this,2===this.effect._dirtyLevel?2:3))),this.effect.computed=this,this.effect.active=this._cacheable=!i,this["__v_isReadonly"]=n}get value(){const e=Ie(this);return e._cacheable&&!e.effect.dirty||!(0,i.$H)(e._value,e._value=e.effect.run())||Me(e,4),Pe(e),e.effect._dirtyLevel>=2&&Me(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function Se(e,t,n=!1){let r,o;const a=(0,i.Tn)(e);a?(r=e,o=i.tE):(r=e.get,o=e.set);const s=new xe(r,o,a||!o,n);return s}function Pe(e){var t;g&&o&&(e=Ie(e),C(o,null!=(t=e.dep)?t:e.dep=w((()=>e.dep=void 0),e instanceof xe?e:void 0),void 0))}function Me(e,t=4,n){e=Ie(e);const i=e.dep;i&&E(i,t,void 0)}function ke(e){return!(!e||!0!==e.__v_isRef)}function Re(e){return Le(e,!1)}function Te(e){return Le(e,!0)}function Le(e,t){return ke(e)?e:new Ge(e,t)}class Ge{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Ie(e),this._value=t?e:we(e)}get value(){return Pe(this),this._value}set value(e){const t=this.__v_isShallow||_e(e)||Ae(e);e=t?e:Ie(e),(0,i.$H)(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:we(e),Me(this,4,e))}}function Oe(e){return ke(e)?e.value:e}const De={get:(e,t,n)=>Oe(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return ke(r)&&!ke(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function Ne(e){return ye(e)?e:new Proxy(e,De)}},641:function(e,t,n){"use strict";n.d(t,{$u:function(){return Oe},CE:function(){return dn},Df:function(){return Ae},EW:function(){return $n},FK:function(){return en},Gt:function(){return ft},Gy:function(){return ue},Im:function(){return Qt},K9:function(){return Dt},Lk:function(){return An},MZ:function(){return ye},OW:function(){return fe},Q3:function(){return bn},QP:function(){return he},Qi:function(){return O},RG:function(){return We},WQ:function(){return mt},Wv:function(){return pn},bF:function(){return _n},bo:function(){return oe},dY:function(){return y},eW:function(){return wn},g2:function(){return Y},h:function(){return ei},jt:function(){return D},k6:function(){return N},nI:function(){return On},pI:function(){return ze},pM:function(){return _e},pR:function(){return pe},qL:function(){return a},uX:function(){return sn},wB:function(){return ee}});var i=n(953),r=n(33);function o(e,t,n,i){try{return i?e(...i):e()}catch(r){s(r,t,n)}}function a(e,t,n,i){if((0,r.Tn)(e)){const a=o(e,t,n,i);return a&&(0,r.yL)(a)&&a.catch((e=>{s(e,t,n)})),a}const l=[];for(let r=0;r<e.length;r++)l.push(a(e[r],t,n,i));return l}function s(e,t,n,i=!0){const r=t?t.vnode:null;if(t){let i=t.parent;const r=t.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;while(i){const t=i.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,r,a))return;i=i.parent}const s=t.appContext.config.errorHandler;if(s)return void o(s,null,10,[e,r,a])}l(e,n,r,i)}function l(e,t,n,i=!0){console.error(e)}let u=!1,c=!1;const h=[];let d=0;const p=[];let g=null,f=0;const m=Promise.resolve();let v=null;function y(e){const t=v||m;return e?t.then(this?e.bind(this):e):t}function A(e){let t=d+1,n=h.length;while(t<n){const i=t+n>>>1,r=h[i],o=x(r);o<e||o===e&&r.pre?t=i+1:n=i}return t}function _(e){h.length&&h.includes(e,u&&e.allowRecurse?d+1:d)||(null==e.id?h.push(e):h.splice(A(e.id),0,e),C())}function C(){u||c||(c=!0,v=m.then(P))}function I(e){const t=h.indexOf(e);t>d&&h.splice(t,1)}function E(e){(0,r.cy)(e)?p.push(...e):g&&g.includes(e,e.allowRecurse?f+1:f)||p.push(e),C()}function w(e,t,n=(u?d+1:0)){for(0;n<h.length;n++){const t=h[n];if(t&&t.pre){if(e&&t.id!==e.uid)continue;0,h.splice(n,1),n--,t()}}}function b(e){if(p.length){const e=[...new Set(p)].sort(((e,t)=>x(e)-x(t)));if(p.length=0,g)return void g.push(...e);for(g=e,f=0;f<g.length;f++)g[f]();g=null,f=0}}const x=e=>null==e.id?1/0:e.id,S=(e,t)=>{const n=x(e)-x(t);if(0===n){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function P(e){c=!1,u=!0,h.sort(S);r.tE;try{for(d=0;d<h.length;d++){const e=h[d];e&&!1!==e.active&&o(e,null,14)}}finally{d=0,h.length=0,b(e),u=!1,v=null,(h.length||p.length)&&P(e)}}function M(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||r.MZ;let o=n;const s=t.startsWith("update:"),l=s&&t.slice(7);if(l&&l in i){const e=`${"modelValue"===l?"model":l}Modifiers`,{number:t,trim:a}=i[e]||r.MZ;a&&(o=n.map((e=>(0,r.Kg)(e)?e.trim():e))),t&&(o=n.map(r.bB))}let u;let c=i[u=(0,r.rU)(t)]||i[u=(0,r.rU)((0,r.PT)(t))];!c&&s&&(c=i[u=(0,r.rU)((0,r.Tg)(t))]),c&&a(c,e,6,o);const h=i[u+"Once"];if(h){if(e.emitted){if(e.emitted[u])return}else e.emitted={};e.emitted[u]=!0,a(h,e,6,o)}}function k(e,t,n=!1){const i=t.emitsCache,o=i.get(e);if(void 0!==o)return o;const a=e.emits;let s={},l=!1;if(!(0,r.Tn)(e)){const i=e=>{const n=k(e,t,!0);n&&(l=!0,(0,r.X$)(s,n))};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}return a||l?((0,r.cy)(a)?a.forEach((e=>s[e]=null)):(0,r.X$)(s,a),(0,r.Gv)(e)&&i.set(e,s),s):((0,r.Gv)(e)&&i.set(e,null),null)}function R(e,t){return!(!e||!(0,r.Mp)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,r.$3)(e,t[0].toLowerCase()+t.slice(1))||(0,r.$3)(e,(0,r.Tg)(t))||(0,r.$3)(e,t))}let T=null,L=null;function G(e){const t=T;return T=e,L=e&&e.type.__scopeId||null,t}function O(e){L=e}function D(){L=null}function N(e,t=T,n){if(!t)return e;if(e._n)return e;const i=(...n)=>{i._d&&cn(-1);const r=G(t);let o;try{o=e(...n)}finally{G(r),i._d&&cn(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function F(e){const{type:t,vnode:n,proxy:i,withProxy:o,props:a,propsOptions:[l],slots:u,attrs:c,emit:h,render:d,renderCache:p,data:g,setupState:f,ctx:m,inheritAttrs:v}=e;let y,A;const _=G(e);try{if(4&n.shapeFlag){const e=o||i,t=e;y=xn(d.call(t,e,p,a,f,g,m)),A=c}else{const e=t;0,y=xn(e.length>1?e(a,{attrs:c,slots:u,emit:h}):e(a,null)),A=t.props?c:U(c)}}catch(I){on.length=0,s(I,e,1),y=_n(nn)}let C=y;if(A&&!1!==v){const e=Object.keys(A),{shapeFlag:t}=C;e.length&&7&t&&(l&&e.some(r.CP)&&(A=B(A,l)),C=En(C,A))}return n.dirs&&(C=En(C),C.dirs=C.dirs?C.dirs.concat(n.dirs):n.dirs),n.transition&&(C.transition=n.transition),y=C,G(_),y}const U=e=>{let t;for(const n in e)("class"===n||"style"===n||(0,r.Mp)(n))&&((t||(t={}))[n]=e[n]);return t},B=(e,t)=>{const n={};for(const i in e)(0,r.CP)(i)&&i.slice(9)in t||(n[i]=e[i]);return n};function j(e,t,n){const{props:i,children:r,component:o}=e,{props:a,children:s,patchFlag:l}=t,u=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!r&&!s||s&&s.$stable)||i!==a&&(i?!a||z(i,a,u):!!a);if(1024&l)return!0;if(16&l)return i?z(i,a,u):!!a;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(a[n]!==i[n]&&!R(u,n))return!0}}return!1}function z(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const o=i[r];if(t[o]!==e[o]&&!R(n,o))return!0}return!1}function W({vnode:e,parent:t},n){while(t){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i!==e)break;(e=t.vnode).el=n,t=t.parent}}const V="components";function Y(e,t){return q(V,e,!0,t)||e}const H=Symbol.for("v-ndc");function q(e,t,n=!0,i=!1){const o=T||Gn;if(o){const n=o.type;if(e===V){const e=Jn(n,!1);if(e&&(e===t||e===(0,r.PT)(t)||e===(0,r.ZH)((0,r.PT)(t))))return n}const a=X(o[e]||n[e],t)||X(o.appContext[e],t);return!a&&i?n:a}}function X(e,t){return e&&(e[t]||e[(0,r.PT)(t)]||e[(0,r.ZH)((0,r.PT)(t))])}const Z=e=>e.__isSuspense;function K(e,t){t&&t.pendingBranch?(0,r.cy)(e)?t.effects.push(...e):t.effects.push(e):E(e)}const J=Symbol.for("v-scx"),Q=()=>{{const e=mt(J);return e}};const $={};function ee(e,t,n){return te(e,t,n)}function te(e,t,{immediate:n,deep:s,flush:l,once:u,onTrack:c,onTrigger:h}=r.MZ){if(t&&u){const e=t;t=(...t)=>{e(...t),x()}}const d=Gn,p=e=>!0===s?e:re(e,!1===s?1:void 0);let g,f,m=!1,v=!1;if((0,i.i9)(e)?(g=()=>e.value,m=(0,i.fE)(e)):(0,i.g8)(e)?(g=()=>p(e),m=!0):(0,r.cy)(e)?(v=!0,m=e.some((e=>(0,i.g8)(e)||(0,i.fE)(e))),g=()=>e.map((e=>(0,i.i9)(e)?e.value:(0,i.g8)(e)?p(e):(0,r.Tn)(e)?o(e,d,2):void 0))):g=(0,r.Tn)(e)?t?()=>o(e,d,2):()=>(f&&f(),a(e,d,3,[A])):r.tE,t&&s){const e=g;g=()=>re(e())}let y,A=e=>{f=w.onStop=()=>{o(e,d,4),f=w.onStop=void 0}};if(Wn){if(A=r.tE,t?n&&a(t,d,3,[g(),v?[]:void 0,A]):g(),"sync"!==l)return r.tE;{const e=Q();y=e.__watcherHandles||(e.__watcherHandles=[])}}let C=v?new Array(e.length).fill($):$;const I=()=>{if(w.active&&w.dirty)if(t){const e=w.run();(s||m||(v?e.some(((e,t)=>(0,r.$H)(e,C[t]))):(0,r.$H)(e,C)))&&(f&&f(),a(t,d,3,[e,C===$?void 0:v&&C[0]===$?[]:C,A]),C=e)}else w.run()};let E;I.allowRecurse=!!t,"sync"===l?E=I:"post"===l?E=()=>Ot(I,d&&d.suspense):(I.pre=!0,d&&(I.id=d.uid),E=()=>_(I));const w=new i.X2(g,r.tE,E),b=(0,i.o5)(),x=()=>{w.stop(),b&&(0,r.TF)(b.effects,w)};return t?n?I():C=w.run():"post"===l?Ot(w.run.bind(w),d&&d.suspense):w.run(),y&&y.push(x),x}function ne(e,t,n){const i=this.proxy,o=(0,r.Kg)(e)?e.includes(".")?ie(i,e):()=>i[e]:e.bind(i,i);let a;(0,r.Tn)(t)?a=t:(a=t.handler,n=t);const s=Fn(this),l=te(o,a.bind(i),n);return s(),l}function ie(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function re(e,t,n=0,o){if(!(0,r.Gv)(e)||e["__v_skip"])return e;if(t&&t>0){if(n>=t)return e;n++}if(o=o||new Set,o.has(e))return e;if(o.add(e),(0,i.i9)(e))re(e.value,t,n,o);else if((0,r.cy)(e))for(let i=0;i<e.length;i++)re(e[i],t,n,o);else if((0,r.vM)(e)||(0,r.CE)(e))e.forEach((e=>{re(e,t,n,o)}));else if((0,r.Qd)(e))for(const i in e)re(e[i],t,n,o);return e}function oe(e,t){if(null===T)return e;const n=Kn(T)||T.proxy,i=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[e,a,s,l=r.MZ]=t[o];e&&((0,r.Tn)(e)&&(e={mounted:e,updated:e}),e.deep&&re(a),i.push({dir:e,instance:n,value:a,oldValue:void 0,arg:s,modifiers:l}))}return e}function ae(e,t,n,r){const o=e.dirs,s=t&&t.dirs;for(let l=0;l<o.length;l++){const u=o[l];s&&(u.oldValue=s[l].value);let c=u.dir[r];c&&((0,i.C4)(),a(c,n,8,[e.el,u,e,t]),(0,i.bl)())}}const se=Symbol("_leaveCb"),le=Symbol("_enterCb");function ue(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Le((()=>{e.isMounted=!0})),De((()=>{e.isUnmounting=!0})),e}const ce=[Function,Array],he={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ce,onEnter:ce,onAfterEnter:ce,onEnterCancelled:ce,onBeforeLeave:ce,onLeave:ce,onAfterLeave:ce,onLeaveCancelled:ce,onBeforeAppear:ce,onAppear:ce,onAfterAppear:ce,onAppearCancelled:ce},de={name:"BaseTransition",props:he,setup(e,{slots:t}){const n=On(),r=ue();return()=>{const o=t.default&&Ae(t.default(),!0);if(!o||!o.length)return;let a=o[0];if(o.length>1){let e=!1;for(const t of o)if(t.type!==nn){0,a=t,e=!0;break}}const s=(0,i.ux)(e),{mode:l}=s;if(r.isLeaving)return me(a);const u=ve(a);if(!u)return me(a);const c=fe(u,s,r,n);ye(u,c);const h=n.subTree,d=h&&ve(h);if(d&&d.type!==nn&&!fn(u,d)){const e=fe(d,s,r,n);if(ye(d,e),"out-in"===l)return r.isLeaving=!0,e.afterLeave=()=>{r.isLeaving=!1,!1!==n.update.active&&(n.effect.dirty=!0,n.update())},me(a);"in-out"===l&&u.type!==nn&&(e.delayLeave=(e,t,n)=>{const i=ge(r,d);i[String(d.key)]=d,e[se]=()=>{t(),e[se]=void 0,delete c.delayedLeave},c.delayedLeave=n})}return a}}},pe=de;function ge(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function fe(e,t,n,i){const{appear:o,mode:s,persisted:l=!1,onBeforeEnter:u,onEnter:c,onAfterEnter:h,onEnterCancelled:d,onBeforeLeave:p,onLeave:g,onAfterLeave:f,onLeaveCancelled:m,onBeforeAppear:v,onAppear:y,onAfterAppear:A,onAppearCancelled:_}=t,C=String(e.key),I=ge(n,e),E=(e,t)=>{e&&a(e,i,9,t)},w=(e,t)=>{const n=t[1];E(e,t),(0,r.cy)(e)?e.every((e=>e.length<=1))&&n():e.length<=1&&n()},b={mode:s,persisted:l,beforeEnter(t){let i=u;if(!n.isMounted){if(!o)return;i=v||u}t[se]&&t[se](!0);const r=I[C];r&&fn(e,r)&&r.el[se]&&r.el[se](),E(i,[t])},enter(e){let t=c,i=h,r=d;if(!n.isMounted){if(!o)return;t=y||c,i=A||h,r=_||d}let a=!1;const s=e[le]=t=>{a||(a=!0,E(t?r:i,[e]),b.delayedLeave&&b.delayedLeave(),e[le]=void 0)};t?w(t,[e,s]):s()},leave(t,i){const r=String(e.key);if(t[le]&&t[le](!0),n.isUnmounting)return i();E(p,[t]);let o=!1;const a=t[se]=n=>{o||(o=!0,i(),E(n?m:f,[t]),t[se]=void 0,I[r]===e&&delete I[r])};I[r]=e,g?w(g,[t,a]):a()},clone(e){return fe(e,t,n,i)}};return b}function me(e){if(Ie(e))return e=En(e),e.children=null,e}function ve(e){return Ie(e)?e.children?e.children[0]:void 0:e}function ye(e,t){6&e.shapeFlag&&e.component?ye(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ae(e,t=!1,n){let i=[],r=0;for(let o=0;o<e.length;o++){let a=e[o];const s=null==n?a.key:String(n)+String(null!=a.key?a.key:o);a.type===en?(128&a.patchFlag&&r++,i=i.concat(Ae(a.children,t,s))):(t||a.type!==nn)&&i.push(null!=s?En(a,{key:s}):a)}if(r>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}
/*! #__NO_SIDE_EFFECTS__ */function _e(e,t){return(0,r.Tn)(e)?(()=>(0,r.X$)({name:e.name},t,{setup:e}))():e}const Ce=e=>!!e.type.__asyncLoader
/*! #__NO_SIDE_EFFECTS__ */;const Ie=e=>e.type.__isKeepAlive;RegExp,RegExp;function Ee(e,t){return(0,r.cy)(e)?e.some((e=>Ee(e,t))):(0,r.Kg)(e)?e.split(",").includes(t):!!(0,r.gd)(e)&&e.test(t)}function we(e,t){xe(e,"a",t)}function be(e,t){xe(e,"da",t)}function xe(e,t,n=Gn){const i=e.__wdc||(e.__wdc=()=>{let t=n;while(t){if(t.isDeactivated)return;t=t.parent}return e()});if(ke(t,i,n),n){let e=n.parent;while(e&&e.parent)Ie(e.parent.vnode)&&Se(i,t,n,e),e=e.parent}}function Se(e,t,n,i){const o=ke(t,e,i,!0);Ne((()=>{(0,r.TF)(i[t],o)}),n)}function Pe(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Me(e){return 128&e.shapeFlag?e.ssContent:e}function ke(e,t,n=Gn,r=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;(0,i.C4)();const o=Fn(n),s=a(t,n,e,r);return o(),(0,i.bl)(),s});return r?o.unshift(s):o.push(s),s}}const Re=e=>(t,n=Gn)=>(!Wn||"sp"===e)&&ke(e,((...e)=>t(...e)),n),Te=Re("bm"),Le=Re("m"),Ge=Re("bu"),Oe=Re("u"),De=Re("bum"),Ne=Re("um"),Fe=Re("sp"),Ue=Re("rtg"),Be=Re("rtc");function je(e,t=Gn){ke("ec",e,t)}function ze(e,t,n,i){let o;const a=n&&n[i];if((0,r.cy)(e)||(0,r.Kg)(e)){o=new Array(e.length);for(let n=0,i=e.length;n<i;n++)o[n]=t(e[n],n,void 0,a&&a[n])}else if("number"===typeof e){0,o=new Array(e);for(let n=0;n<e;n++)o[n]=t(n+1,n,void 0,a&&a[n])}else if((0,r.Gv)(e))if(e[Symbol.iterator])o=Array.from(e,((e,n)=>t(e,n,void 0,a&&a[n])));else{const n=Object.keys(e);o=new Array(n.length);for(let i=0,r=n.length;i<r;i++){const r=n[i];o[i]=t(e[r],r,i,a&&a[i])}}else o=[];return n&&(n[i]=o),o}function We(e,t,n={},i,r){if(T.isCE||T.parent&&Ce(T.parent)&&T.parent.isCE)return"default"!==t&&(n.name=t),_n("slot",n,i&&i());let o=e[t];o&&o._c&&(o._d=!1),sn();const a=o&&Ve(o(n)),s=pn(en,{key:n.key||a&&a.key||`_${t}`},a||(i?i():[]),a&&1===e._?64:-2);return!r&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),o&&o._c&&(o._d=!0),s}function Ve(e){return e.some((e=>!gn(e)||e.type!==nn&&!(e.type===en&&!Ve(e.children))))?e:null}const Ye=e=>e?Bn(e)?Kn(e)||e.proxy:Ye(e.parent):null,He=(0,r.X$)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ye(e.parent),$root:e=>Ye(e.root),$emit:e=>e.emit,$options:e=>tt(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,_(e.update)}),$nextTick:e=>e.n||(e.n=y.bind(e.proxy)),$watch:e=>ne.bind(e)}),qe=(e,t)=>e!==r.MZ&&!e.__isScriptSetup&&(0,r.$3)(e,t),Xe={get({_:e},t){const{ctx:n,setupState:o,data:a,props:s,accessCache:l,type:u,appContext:c}=e;let h;if("$"!==t[0]){const i=l[t];if(void 0!==i)switch(i){case 1:return o[t];case 2:return a[t];case 4:return n[t];case 3:return s[t]}else{if(qe(o,t))return l[t]=1,o[t];if(a!==r.MZ&&(0,r.$3)(a,t))return l[t]=2,a[t];if((h=e.propsOptions[0])&&(0,r.$3)(h,t))return l[t]=3,s[t];if(n!==r.MZ&&(0,r.$3)(n,t))return l[t]=4,n[t];Ke&&(l[t]=0)}}const d=He[t];let p,g;return d?("$attrs"===t&&(0,i.u4)(e,"get",t),d(e)):(p=u.__cssModules)&&(p=p[t])?p:n!==r.MZ&&(0,r.$3)(n,t)?(l[t]=4,n[t]):(g=c.config.globalProperties,(0,r.$3)(g,t)?g[t]:void 0)},set({_:e},t,n){const{data:i,setupState:o,ctx:a}=e;return qe(o,t)?(o[t]=n,!0):i!==r.MZ&&(0,r.$3)(i,t)?(i[t]=n,!0):!(0,r.$3)(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(a[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:o,propsOptions:a}},s){let l;return!!n[s]||e!==r.MZ&&(0,r.$3)(e,s)||qe(t,s)||(l=a[0])&&(0,r.$3)(l,s)||(0,r.$3)(i,s)||(0,r.$3)(He,s)||(0,r.$3)(o.config.globalProperties,s)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:(0,r.$3)(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Ze(e){return(0,r.cy)(e)?e.reduce(((e,t)=>(e[t]=null,e)),{}):e}let Ke=!0;function Je(e){const t=tt(e),n=e.proxy,o=e.ctx;Ke=!1,t.beforeCreate&&$e(t.beforeCreate,e,"bc");const{data:a,computed:s,methods:l,watch:u,provide:c,inject:h,created:d,beforeMount:p,mounted:g,beforeUpdate:f,updated:m,activated:v,deactivated:y,beforeDestroy:A,beforeUnmount:_,destroyed:C,unmounted:I,render:E,renderTracked:w,renderTriggered:b,errorCaptured:x,serverPrefetch:S,expose:P,inheritAttrs:M,components:k,directives:R,filters:T}=t,L=null;if(h&&Qe(h,o,L),l)for(const i in l){const e=l[i];(0,r.Tn)(e)&&(o[i]=e.bind(n))}if(a){0;const t=a.call(n,n);0,(0,r.Gv)(t)&&(e.data=(0,i.Kh)(t))}if(Ke=!0,s)for(const i in s){const e=s[i],t=(0,r.Tn)(e)?e.bind(n,n):(0,r.Tn)(e.get)?e.get.bind(n,n):r.tE;0;const a=!(0,r.Tn)(e)&&(0,r.Tn)(e.set)?e.set.bind(n):r.tE,l=$n({get:t,set:a});Object.defineProperty(o,i,{enumerable:!0,configurable:!0,get:()=>l.value,set:e=>l.value=e})}if(u)for(const i in u)et(u[i],o,n,i);if(c){const e=(0,r.Tn)(c)?c.call(n):c;Reflect.ownKeys(e).forEach((t=>{ft(t,e[t])}))}function G(e,t){(0,r.cy)(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(d&&$e(d,e,"c"),G(Te,p),G(Le,g),G(Ge,f),G(Oe,m),G(we,v),G(be,y),G(je,x),G(Be,w),G(Ue,b),G(De,_),G(Ne,I),G(Fe,S),(0,r.cy)(P))if(P.length){const t=e.exposed||(e.exposed={});P.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});E&&e.render===r.tE&&(e.render=E),null!=M&&(e.inheritAttrs=M),k&&(e.components=k),R&&(e.directives=R)}function Qe(e,t,n=r.tE){(0,r.cy)(e)&&(e=at(e));for(const o in e){const n=e[o];let a;a=(0,r.Gv)(n)?"default"in n?mt(n.from||o,n.default,!0):mt(n.from||o):mt(n),(0,i.i9)(a)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e}):t[o]=a}}function $e(e,t,n){a((0,r.cy)(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function et(e,t,n,i){const o=i.includes(".")?ie(n,i):()=>n[i];if((0,r.Kg)(e)){const n=t[e];(0,r.Tn)(n)&&ee(o,n)}else if((0,r.Tn)(e))ee(o,e.bind(n));else if((0,r.Gv)(e))if((0,r.cy)(e))e.forEach((e=>et(e,t,n,i)));else{const i=(0,r.Tn)(e.handler)?e.handler.bind(n):t[e.handler];(0,r.Tn)(i)&&ee(o,i,e)}else 0}function tt(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:o,optionsCache:a,config:{optionMergeStrategies:s}}=e.appContext,l=a.get(t);let u;return l?u=l:o.length||n||i?(u={},o.length&&o.forEach((e=>nt(u,e,s,!0))),nt(u,t,s)):u=t,(0,r.Gv)(t)&&a.set(t,u),u}function nt(e,t,n,i=!1){const{mixins:r,extends:o}=t;o&&nt(e,o,n,!0),r&&r.forEach((t=>nt(e,t,n,!0)));for(const a in t)if(i&&"expose"===a);else{const i=it[a]||n&&n[a];e[a]=i?i(e[a],t[a]):t[a]}return e}const it={data:rt,props:ut,emits:ut,methods:lt,computed:lt,beforeCreate:st,created:st,beforeMount:st,mounted:st,beforeUpdate:st,updated:st,beforeDestroy:st,beforeUnmount:st,destroyed:st,unmounted:st,activated:st,deactivated:st,errorCaptured:st,serverPrefetch:st,components:lt,directives:lt,watch:ct,provide:rt,inject:ot};function rt(e,t){return t?e?function(){return(0,r.X$)((0,r.Tn)(e)?e.call(this,this):e,(0,r.Tn)(t)?t.call(this,this):t)}:t:e}function ot(e,t){return lt(at(e),at(t))}function at(e){if((0,r.cy)(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function st(e,t){return e?[...new Set([].concat(e,t))]:t}function lt(e,t){return e?(0,r.X$)(Object.create(null),e,t):t}function ut(e,t){return e?(0,r.cy)(e)&&(0,r.cy)(t)?[...new Set([...e,...t])]:(0,r.X$)(Object.create(null),Ze(e),Ze(null!=t?t:{})):t}function ct(e,t){if(!e)return t;if(!t)return e;const n=(0,r.X$)(Object.create(null),e);for(const i in t)n[i]=st(e[i],t[i]);return n}function ht(){return{app:null,config:{isNativeTag:r.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let dt=0;function pt(e,t){return function(n,i=null){(0,r.Tn)(n)||(n=(0,r.X$)({},n)),null==i||(0,r.Gv)(i)||(i=null);const o=ht(),a=new WeakSet;let s=!1;const l=o.app={_uid:dt++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:ti,get config(){return o.config},set config(e){0},use(e,...t){return a.has(e)||(e&&(0,r.Tn)(e.install)?(a.add(e),e.install(l,...t)):(0,r.Tn)(e)&&(a.add(e),e(l,...t))),l},mixin(e){return o.mixins.includes(e)||o.mixins.push(e),l},component(e,t){return t?(o.components[e]=t,l):o.components[e]},directive(e,t){return t?(o.directives[e]=t,l):o.directives[e]},mount(r,a,u){if(!s){0;const c=_n(n,i);return c.appContext=o,!0===u?u="svg":!1===u&&(u=void 0),a&&t?t(c,r):e(c,r,u),s=!0,l._container=r,r.__vue_app__=l,Kn(c.component)||c.component.proxy}},unmount(){s&&(e(null,l._container),delete l._container.__vue_app__)},provide(e,t){return o.provides[e]=t,l},runWithContext(e){const t=gt;gt=l;try{return e()}finally{gt=t}}};return l}}let gt=null;function ft(e,t){if(Gn){let n=Gn.provides;const i=Gn.parent&&Gn.parent.provides;i===n&&(n=Gn.provides=Object.create(i)),n[e]=t}else 0}function mt(e,t,n=!1){const i=Gn||T;if(i||gt){const o=i?null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:gt._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&(0,r.Tn)(t)?t.call(i&&i.proxy):t}else 0}function vt(e,t,n,o=!1){const a={},s={};(0,r.yQ)(s,mn,1),e.propsDefaults=Object.create(null),At(e,t,a,s);for(const i in e.propsOptions[0])i in a||(a[i]=void 0);n?e.props=o?a:(0,i.Gc)(a):e.type.props?e.props=a:e.props=s,e.attrs=s}function yt(e,t,n,o){const{props:a,attrs:s,vnode:{patchFlag:l}}=e,u=(0,i.ux)(a),[c]=e.propsOptions;let h=!1;if(!(o||l>0)||16&l){let i;At(e,t,a,s)&&(h=!0);for(const o in u)t&&((0,r.$3)(t,o)||(i=(0,r.Tg)(o))!==o&&(0,r.$3)(t,i))||(c?!n||void 0===n[o]&&void 0===n[i]||(a[o]=_t(c,u,o,void 0,e,!0)):delete a[o]);if(s!==u)for(const e in s)t&&(0,r.$3)(t,e)||(delete s[e],h=!0)}else if(8&l){const n=e.vnode.dynamicProps;for(let i=0;i<n.length;i++){let o=n[i];if(R(e.emitsOptions,o))continue;const l=t[o];if(c)if((0,r.$3)(s,o))l!==s[o]&&(s[o]=l,h=!0);else{const t=(0,r.PT)(o);a[t]=_t(c,u,t,l,e,!1)}else l!==s[o]&&(s[o]=l,h=!0)}}h&&(0,i.hZ)(e,"set","$attrs")}function At(e,t,n,o){const[a,s]=e.propsOptions;let l,u=!1;if(t)for(let i in t){if((0,r.SU)(i))continue;const c=t[i];let h;a&&(0,r.$3)(a,h=(0,r.PT)(i))?s&&s.includes(h)?(l||(l={}))[h]=c:n[h]=c:R(e.emitsOptions,i)||i in o&&c===o[i]||(o[i]=c,u=!0)}if(s){const t=(0,i.ux)(n),o=l||r.MZ;for(let i=0;i<s.length;i++){const l=s[i];n[l]=_t(a,t,l,o[l],e,!(0,r.$3)(o,l))}}return u}function _t(e,t,n,i,o,a){const s=e[n];if(null!=s){const e=(0,r.$3)(s,"default");if(e&&void 0===i){const e=s.default;if(s.type!==Function&&!s.skipFactory&&(0,r.Tn)(e)){const{propsDefaults:r}=o;if(n in r)i=r[n];else{const a=Fn(o);i=r[n]=e.call(null,t),a()}}else i=e}s[0]&&(a&&!e?i=!1:!s[1]||""!==i&&i!==(0,r.Tg)(n)||(i=!0))}return i}function Ct(e,t,n=!1){const i=t.propsCache,o=i.get(e);if(o)return o;const a=e.props,s={},l=[];let u=!1;if(!(0,r.Tn)(e)){const i=e=>{u=!0;const[n,i]=Ct(e,t,!0);(0,r.X$)(s,n),i&&l.push(...i)};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}if(!a&&!u)return(0,r.Gv)(e)&&i.set(e,r.Oj),r.Oj;if((0,r.cy)(a))for(let h=0;h<a.length;h++){0;const e=(0,r.PT)(a[h]);It(e)&&(s[e]=r.MZ)}else if(a){0;for(const e in a){const t=(0,r.PT)(e);if(It(t)){const n=a[e],i=s[t]=(0,r.cy)(n)||(0,r.Tn)(n)?{type:n}:(0,r.X$)({},n);if(i){const e=bt(Boolean,i.type),n=bt(String,i.type);i[0]=e>-1,i[1]=n<0||e<n,(e>-1||(0,r.$3)(i,"default"))&&l.push(t)}}}}const c=[s,l];return(0,r.Gv)(e)&&i.set(e,c),c}function It(e){return"$"!==e[0]&&!(0,r.SU)(e)}function Et(e){if(null===e)return"null";if("function"===typeof e)return e.name||"";if("object"===typeof e){const t=e.constructor&&e.constructor.name;return t||""}return""}function wt(e,t){return Et(e)===Et(t)}function bt(e,t){return(0,r.cy)(t)?t.findIndex((t=>wt(t,e))):(0,r.Tn)(t)&&wt(t,e)?0:-1}const xt=e=>"_"===e[0]||"$stable"===e,St=e=>(0,r.cy)(e)?e.map(xn):[xn(e)],Pt=(e,t,n)=>{if(t._n)return t;const i=N(((...e)=>St(t(...e))),n);return i._c=!1,i},Mt=(e,t,n)=>{const i=e._ctx;for(const o in e){if(xt(o))continue;const n=e[o];if((0,r.Tn)(n))t[o]=Pt(o,n,i);else if(null!=n){0;const e=St(n);t[o]=()=>e}}},kt=(e,t)=>{const n=St(t);e.slots.default=()=>n},Rt=(e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=(0,i.ux)(t),(0,r.yQ)(t,"_",n)):Mt(t,e.slots={})}else e.slots={},t&&kt(e,t);(0,r.yQ)(e.slots,mn,1)},Tt=(e,t,n)=>{const{vnode:i,slots:o}=e;let a=!0,s=r.MZ;if(32&i.shapeFlag){const e=t._;e?n&&1===e?a=!1:((0,r.X$)(o,t),n||1!==e||delete o._):(a=!t.$stable,Mt(t,o)),s=t}else t&&(kt(e,t),s={default:1});if(a)for(const r in o)xt(r)||null!=s[r]||delete o[r]};function Lt(e,t,n,a,s=!1){if((0,r.cy)(e))return void e.forEach(((e,i)=>Lt(e,t&&((0,r.cy)(t)?t[i]:t),n,a,s)));if(Ce(a)&&!s)return;const l=4&a.shapeFlag?Kn(a.component)||a.component.proxy:a.el,u=s?null:l,{i:c,r:h}=e;const d=t&&t.r,p=c.refs===r.MZ?c.refs={}:c.refs,g=c.setupState;if(null!=d&&d!==h&&((0,r.Kg)(d)?(p[d]=null,(0,r.$3)(g,d)&&(g[d]=null)):(0,i.i9)(d)&&(d.value=null)),(0,r.Tn)(h))o(h,c,12,[u,p]);else{const t=(0,r.Kg)(h),o=(0,i.i9)(h);if(t||o){const i=()=>{if(e.f){const n=t?(0,r.$3)(g,h)?g[h]:p[h]:h.value;s?(0,r.cy)(n)&&(0,r.TF)(n,l):(0,r.cy)(n)?n.includes(l)||n.push(l):t?(p[h]=[l],(0,r.$3)(g,h)&&(g[h]=p[h])):(h.value=[l],e.k&&(p[e.k]=h.value))}else t?(p[h]=u,(0,r.$3)(g,h)&&(g[h]=u)):o&&(h.value=u,e.k&&(p[e.k]=u))};u?(i.id=-1,Ot(i,n)):i()}else 0}}function Gt(){"boolean"!==typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&((0,r.We)().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1)}const Ot=K;function Dt(e){return Nt(e)}function Nt(e,t){Gt();const n=(0,r.We)();n.__VUE__=!0;const{insert:o,remove:a,patchProp:s,createElement:l,createText:u,createComment:c,setText:h,setElementText:d,parentNode:p,nextSibling:g,setScopeId:f=r.tE,insertStaticContent:m}=e,v=(e,t,n,i=null,r=null,o=null,a=void 0,s=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!fn(e,t)&&(i=Q(e),q(e,r,o,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:u,ref:c,shapeFlag:h}=t;switch(u){case tn:y(e,t,n,i);break;case nn:A(e,t,n,i);break;case rn:null==e&&C(t,n,i,a);break;case en:G(e,t,n,i,r,o,a,s,l);break;default:1&h?S(e,t,n,i,r,o,a,s,l):6&h?O(e,t,n,i,r,o,a,s,l):(64&h||128&h)&&u.process(e,t,n,i,r,o,a,s,l,te)}null!=c&&r&&Lt(c,e&&e.ref,o,t||e,!t)},y=(e,t,n,i)=>{if(null==e)o(t.el=u(t.children),n,i);else{const n=t.el=e.el;t.children!==e.children&&h(n,t.children)}},A=(e,t,n,i)=>{null==e?o(t.el=c(t.children||""),n,i):t.el=e.el},C=(e,t,n,i)=>{[e.el,e.anchor]=m(e.children,t,n,i,e.el,e.anchor)},E=({el:e,anchor:t},n,i)=>{let r;while(e&&e!==t)r=g(e),o(e,n,i),e=r;o(t,n,i)},x=({el:e,anchor:t})=>{let n;while(e&&e!==t)n=g(e),a(e),e=n;a(t)},S=(e,t,n,i,r,o,a,s,l)=>{"svg"===t.type?a="svg":"math"===t.type&&(a="mathml"),null==e?P(t,n,i,r,o,a,s,l):R(e,t,r,o,a,s,l)},P=(e,t,n,i,a,u,c,h)=>{let p,g;const{props:f,shapeFlag:m,transition:v,dirs:y}=e;if(p=e.el=l(e.type,u,f&&f.is,f),8&m?d(p,e.children):16&m&&k(e.children,p,null,i,a,Ft(e,u),c,h),y&&ae(e,null,i,"created"),M(p,e,e.scopeId,c,i),f){for(const t in f)"value"===t||(0,r.SU)(t)||s(p,t,null,f[t],u,e.children,i,a,J);"value"in f&&s(p,"value",null,f.value,u),(g=f.onVnodeBeforeMount)&&kn(g,i,e)}y&&ae(e,null,i,"beforeMount");const A=Bt(a,v);A&&v.beforeEnter(p),o(p,t,n),((g=f&&f.onVnodeMounted)||A||y)&&Ot((()=>{g&&kn(g,i,e),A&&v.enter(p),y&&ae(e,null,i,"mounted")}),a)},M=(e,t,n,i,r)=>{if(n&&f(e,n),i)for(let o=0;o<i.length;o++)f(e,i[o]);if(r){let n=r.subTree;if(t===n){const t=r.vnode;M(e,t,t.scopeId,t.slotScopeIds,r.parent)}}},k=(e,t,n,i,r,o,a,s,l=0)=>{for(let u=l;u<e.length;u++){const l=e[u]=s?Sn(e[u]):xn(e[u]);v(null,l,t,n,i,r,o,a,s)}},R=(e,t,n,i,o,a,l)=>{const u=t.el=e.el;let{patchFlag:c,dynamicChildren:h,dirs:p}=t;c|=16&e.patchFlag;const g=e.props||r.MZ,f=t.props||r.MZ;let m;if(n&&Ut(n,!1),(m=f.onVnodeBeforeUpdate)&&kn(m,n,t,e),p&&ae(t,e,n,"beforeUpdate"),n&&Ut(n,!0),h?T(e.dynamicChildren,h,u,n,i,Ft(t,o),a):l||z(e,t,u,null,n,i,Ft(t,o),a,!1),c>0){if(16&c)L(u,t,g,f,n,i,o);else if(2&c&&g.class!==f.class&&s(u,"class",null,f.class,o),4&c&&s(u,"style",g.style,f.style,o),8&c){const r=t.dynamicProps;for(let t=0;t<r.length;t++){const a=r[t],l=g[a],c=f[a];c===l&&"value"!==a||s(u,a,l,c,o,e.children,n,i,J)}}1&c&&e.children!==t.children&&d(u,t.children)}else l||null!=h||L(u,t,g,f,n,i,o);((m=f.onVnodeUpdated)||p)&&Ot((()=>{m&&kn(m,n,t,e),p&&ae(t,e,n,"updated")}),i)},T=(e,t,n,i,r,o,a)=>{for(let s=0;s<t.length;s++){const l=e[s],u=t[s],c=l.el&&(l.type===en||!fn(l,u)||70&l.shapeFlag)?p(l.el):n;v(l,u,c,null,i,r,o,a,!0)}},L=(e,t,n,i,o,a,l)=>{if(n!==i){if(n!==r.MZ)for(const u in n)(0,r.SU)(u)||u in i||s(e,u,n[u],null,l,t.children,o,a,J);for(const u in i){if((0,r.SU)(u))continue;const c=i[u],h=n[u];c!==h&&"value"!==u&&s(e,u,h,c,l,t.children,o,a,J)}"value"in i&&s(e,"value",n.value,i.value,l)}},G=(e,t,n,i,r,a,s,l,c)=>{const h=t.el=e?e.el:u(""),d=t.anchor=e?e.anchor:u("");let{patchFlag:p,dynamicChildren:g,slotScopeIds:f}=t;f&&(l=l?l.concat(f):f),null==e?(o(h,n,i),o(d,n,i),k(t.children||[],n,d,r,a,s,l,c)):p>0&&64&p&&g&&e.dynamicChildren?(T(e.dynamicChildren,g,n,r,a,s,l),(null!=t.key||r&&t===r.subTree)&&jt(e,t,!0)):z(e,t,n,d,r,a,s,l,c)},O=(e,t,n,i,r,o,a,s,l)=>{t.slotScopeIds=s,null==e?512&t.shapeFlag?r.ctx.activate(t,n,i,a,l):D(t,n,i,r,o,a,l):N(e,t,l)},D=(e,t,n,i,r,o,a)=>{const s=e.component=Ln(e,i,r);if(Ie(e)&&(s.ctx.renderer=te),Vn(s),s.asyncDep){if(r&&r.registerDep(s,U),!e.el){const e=s.subTree=_n(nn);A(null,e,t,n)}}else U(s,e,t,n,r,o,a)},N=(e,t,n)=>{const i=t.component=e.component;if(j(e,t,n)){if(i.asyncDep&&!i.asyncResolved)return void B(i,t,n);i.next=t,I(i.update),i.effect.dirty=!0,i.update()}else t.el=e.el,i.vnode=t},U=(e,t,n,o,a,s,l)=>{const u=()=>{if(e.isMounted){let{next:t,bu:n,u:i,parent:o,vnode:c}=e;{const n=Wt(e);if(n)return t&&(t.el=c.el,B(e,t,l)),void n.asyncDep.then((()=>{e.isUnmounted||u()}))}let h,d=t;0,Ut(e,!1),t?(t.el=c.el,B(e,t,l)):t=c,n&&(0,r.DY)(n),(h=t.props&&t.props.onVnodeBeforeUpdate)&&kn(h,o,t,c),Ut(e,!0);const g=F(e);0;const f=e.subTree;e.subTree=g,v(f,g,p(f.el),Q(f),e,a,s),t.el=g.el,null===d&&W(e,g.el),i&&Ot(i,a),(h=t.props&&t.props.onVnodeUpdated)&&Ot((()=>kn(h,o,t,c)),a)}else{let i;const{el:l,props:u}=t,{bm:c,m:h,parent:d}=e,p=Ce(t);if(Ut(e,!1),c&&(0,r.DY)(c),!p&&(i=u&&u.onVnodeBeforeMount)&&kn(i,d,t),Ut(e,!0),l&&ie){const n=()=>{e.subTree=F(e),ie(l,e.subTree,e,a,null)};p?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{0;const i=e.subTree=F(e);0,v(null,i,n,o,e,a,s),t.el=i.el}if(h&&Ot(h,a),!p&&(i=u&&u.onVnodeMounted)){const e=t;Ot((()=>kn(i,d,e)),a)}(256&t.shapeFlag||d&&Ce(d.vnode)&&256&d.vnode.shapeFlag)&&e.a&&Ot(e.a,a),e.isMounted=!0,t=n=o=null}},c=e.effect=new i.X2(u,r.tE,(()=>_(h)),e.scope),h=e.update=()=>{c.dirty&&c.run()};h.id=e.uid,Ut(e,!0),h()},B=(e,t,n)=>{t.component=e;const r=e.vnode.props;e.vnode=t,e.next=null,yt(e,t.props,r,n),Tt(e,t.children,n),(0,i.C4)(),w(e),(0,i.bl)()},z=(e,t,n,i,r,o,a,s,l=!1)=>{const u=e&&e.children,c=e?e.shapeFlag:0,h=t.children,{patchFlag:p,shapeFlag:g}=t;if(p>0){if(128&p)return void Y(u,h,n,i,r,o,a,s,l);if(256&p)return void V(u,h,n,i,r,o,a,s,l)}8&g?(16&c&&J(u,r,o),h!==u&&d(n,h)):16&c?16&g?Y(u,h,n,i,r,o,a,s,l):J(u,r,o,!0):(8&c&&d(n,""),16&g&&k(h,n,i,r,o,a,s,l))},V=(e,t,n,i,o,a,s,l,u)=>{e=e||r.Oj,t=t||r.Oj;const c=e.length,h=t.length,d=Math.min(c,h);let p;for(p=0;p<d;p++){const i=t[p]=u?Sn(t[p]):xn(t[p]);v(e[p],i,n,null,o,a,s,l,u)}c>h?J(e,o,a,!0,!1,d):k(t,n,i,o,a,s,l,u,d)},Y=(e,t,n,i,o,a,s,l,u)=>{let c=0;const h=t.length;let d=e.length-1,p=h-1;while(c<=d&&c<=p){const i=e[c],r=t[c]=u?Sn(t[c]):xn(t[c]);if(!fn(i,r))break;v(i,r,n,null,o,a,s,l,u),c++}while(c<=d&&c<=p){const i=e[d],r=t[p]=u?Sn(t[p]):xn(t[p]);if(!fn(i,r))break;v(i,r,n,null,o,a,s,l,u),d--,p--}if(c>d){if(c<=p){const e=p+1,r=e<h?t[e].el:i;while(c<=p)v(null,t[c]=u?Sn(t[c]):xn(t[c]),n,r,o,a,s,l,u),c++}}else if(c>p)while(c<=d)q(e[c],o,a,!0),c++;else{const g=c,f=c,m=new Map;for(c=f;c<=p;c++){const e=t[c]=u?Sn(t[c]):xn(t[c]);null!=e.key&&m.set(e.key,c)}let y,A=0;const _=p-f+1;let C=!1,I=0;const E=new Array(_);for(c=0;c<_;c++)E[c]=0;for(c=g;c<=d;c++){const i=e[c];if(A>=_){q(i,o,a,!0);continue}let r;if(null!=i.key)r=m.get(i.key);else for(y=f;y<=p;y++)if(0===E[y-f]&&fn(i,t[y])){r=y;break}void 0===r?q(i,o,a,!0):(E[r-f]=c+1,r>=I?I=r:C=!0,v(i,t[r],n,null,o,a,s,l,u),A++)}const w=C?zt(E):r.Oj;for(y=w.length-1,c=_-1;c>=0;c--){const e=f+c,r=t[e],d=e+1<h?t[e+1].el:i;0===E[c]?v(null,r,n,d,o,a,s,l,u):C&&(y<0||c!==w[y]?H(r,n,d,2):y--)}}},H=(e,t,n,i,r=null)=>{const{el:a,type:s,transition:l,children:u,shapeFlag:c}=e;if(6&c)return void H(e.component.subTree,t,n,i);if(128&c)return void e.suspense.move(t,n,i);if(64&c)return void s.move(e,t,n,te);if(s===en){o(a,t,n);for(let e=0;e<u.length;e++)H(u[e],t,n,i);return void o(e.anchor,t,n)}if(s===rn)return void E(e,t,n);const h=2!==i&&1&c&&l;if(h)if(0===i)l.beforeEnter(a),o(a,t,n),Ot((()=>l.enter(a)),r);else{const{leave:e,delayLeave:i,afterLeave:r}=l,s=()=>o(a,t,n),u=()=>{e(a,(()=>{s(),r&&r()}))};i?i(a,s,u):u()}else o(a,t,n)},q=(e,t,n,i=!1,r=!1)=>{const{type:o,props:a,ref:s,children:l,dynamicChildren:u,shapeFlag:c,patchFlag:h,dirs:d}=e;if(null!=s&&Lt(s,null,n,e,!0),256&c)return void t.ctx.deactivate(e);const p=1&c&&d,g=!Ce(e);let f;if(g&&(f=a&&a.onVnodeBeforeUnmount)&&kn(f,t,e),6&c)K(e.component,n,i);else{if(128&c)return void e.suspense.unmount(n,i);p&&ae(e,null,t,"beforeUnmount"),64&c?e.type.remove(e,t,n,r,te,i):u&&(o!==en||h>0&&64&h)?J(u,t,n,!1,!0):(o===en&&384&h||!r&&16&c)&&J(l,t,n),i&&X(e)}(g&&(f=a&&a.onVnodeUnmounted)||p)&&Ot((()=>{f&&kn(f,t,e),p&&ae(e,null,t,"unmounted")}),n)},X=e=>{const{type:t,el:n,anchor:i,transition:r}=e;if(t===en)return void Z(n,i);if(t===rn)return void x(e);const o=()=>{a(n),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&e.shapeFlag&&r&&!r.persisted){const{leave:t,delayLeave:i}=r,a=()=>t(n,o);i?i(e.el,o,a):a()}else o()},Z=(e,t)=>{let n;while(e!==t)n=g(e),a(e),e=n;a(t)},K=(e,t,n)=>{const{bum:i,scope:o,update:a,subTree:s,um:l}=e;i&&(0,r.DY)(i),o.stop(),a&&(a.active=!1,q(s,e,t,n)),l&&Ot(l,t),Ot((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},J=(e,t,n,i=!1,r=!1,o=0)=>{for(let a=o;a<e.length;a++)q(e[a],t,n,i,r)},Q=e=>6&e.shapeFlag?Q(e.component.subTree):128&e.shapeFlag?e.suspense.next():g(e.anchor||e.el);let $=!1;const ee=(e,t,n)=>{null==e?t._vnode&&q(t._vnode,null,null,!0):v(t._vnode||null,e,t,null,null,null,n),$||($=!0,w(),b(),$=!1),t._vnode=e},te={p:v,um:q,m:H,r:X,mt:D,mc:k,pc:z,pbc:T,n:Q,o:e};let ne,ie;return t&&([ne,ie]=t(te)),{render:ee,hydrate:ne,createApp:pt(ee,ne)}}function Ft({type:e,props:t},n){return"svg"===n&&"foreignObject"===e||"mathml"===n&&"annotation-xml"===e&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Ut({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Bt(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function jt(e,t,n=!1){const i=e.children,o=t.children;if((0,r.cy)(i)&&(0,r.cy)(o))for(let r=0;r<i.length;r++){const e=i[r];let t=o[r];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=o[r]=Sn(o[r]),t.el=e.el),n||jt(e,t)),t.type===tn&&(t.el=e.el)}}function zt(e){const t=e.slice(),n=[0];let i,r,o,a,s;const l=e.length;for(i=0;i<l;i++){const l=e[i];if(0!==l){if(r=n[n.length-1],e[r]<l){t[i]=r,n.push(i);continue}o=0,a=n.length-1;while(o<a)s=o+a>>1,e[n[s]]<l?o=s+1:a=s;l<e[n[o]]&&(o>0&&(t[i]=n[o-1]),n[o]=i)}}o=n.length,a=n[o-1];while(o-- >0)n[o]=a,a=t[a];return n}function Wt(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Wt(t)}const Vt=e=>e.__isTeleport,Yt=e=>e&&(e.disabled||""===e.disabled),Ht=e=>"undefined"!==typeof SVGElement&&e instanceof SVGElement,qt=e=>"function"===typeof MathMLElement&&e instanceof MathMLElement,Xt=(e,t)=>{const n=e&&e.to;if((0,r.Kg)(n)){if(t){const e=t(n);return e}return null}return n},Zt={name:"Teleport",__isTeleport:!0,process(e,t,n,i,r,o,a,s,l,u){const{mc:c,pc:h,pbc:d,o:{insert:p,querySelector:g,createText:f,createComment:m}}=u,v=Yt(t.props);let{shapeFlag:y,children:A,dynamicChildren:_}=t;if(null==e){const e=t.el=f(""),u=t.anchor=f("");p(e,n,i),p(u,n,i);const h=t.target=Xt(t.props,g),d=t.targetAnchor=f("");h&&(p(d,h),"svg"===a||Ht(h)?a="svg":("mathml"===a||qt(h))&&(a="mathml"));const m=(e,t)=>{16&y&&c(A,e,t,r,o,a,s,l)};v?m(n,u):h&&m(h,d)}else{t.el=e.el;const i=t.anchor=e.anchor,c=t.target=e.target,p=t.targetAnchor=e.targetAnchor,f=Yt(e.props),m=f?n:c,y=f?i:p;if("svg"===a||Ht(c)?a="svg":("mathml"===a||qt(c))&&(a="mathml"),_?(d(e.dynamicChildren,_,m,r,o,a,s),jt(e,t,!0)):l||h(e,t,m,y,r,o,a,s,!1),v)f?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Kt(t,n,i,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=Xt(t.props,g);e&&Kt(t,e,null,u,0)}else f&&Kt(t,c,p,u,1)}$t(t)},remove(e,t,n,i,{um:r,o:{remove:o}},a){const{shapeFlag:s,children:l,anchor:u,targetAnchor:c,target:h,props:d}=e;if(h&&o(c),a&&o(u),16&s){const e=a||!Yt(d);for(let i=0;i<l.length;i++){const o=l[i];r(o,t,n,e,!!o.dynamicChildren)}}},move:Kt,hydrate:Jt};function Kt(e,t,n,{o:{insert:i},m:r},o=2){0===o&&i(e.targetAnchor,t,n);const{el:a,anchor:s,shapeFlag:l,children:u,props:c}=e,h=2===o;if(h&&i(a,t,n),(!h||Yt(c))&&16&l)for(let d=0;d<u.length;d++)r(u[d],t,n,2);h&&i(s,t,n)}function Jt(e,t,n,i,r,o,{o:{nextSibling:a,parentNode:s,querySelector:l}},u){const c=t.target=Xt(t.props,l);if(c){const l=c._lpa||c.firstChild;if(16&t.shapeFlag)if(Yt(t.props))t.anchor=u(a(e),t,s(e),n,i,r,o),t.targetAnchor=l;else{t.anchor=a(e);let s=l;while(s)if(s=a(s),s&&8===s.nodeType&&"teleport anchor"===s.data){t.targetAnchor=s,c._lpa=t.targetAnchor&&a(t.targetAnchor);break}u(l,t,c,n,i,r,o)}$t(t)}return t.anchor&&a(t.anchor)}const Qt=Zt;function $t(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;while(n&&n!==e.targetAnchor)1===n.nodeType&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const en=Symbol.for("v-fgt"),tn=Symbol.for("v-txt"),nn=Symbol.for("v-cmt"),rn=Symbol.for("v-stc"),on=[];let an=null;function sn(e=!1){on.push(an=e?null:[])}function ln(){on.pop(),an=on[on.length-1]||null}let un=1;function cn(e){un+=e}function hn(e){return e.dynamicChildren=un>0?an||r.Oj:null,ln(),un>0&&an&&an.push(e),e}function dn(e,t,n,i,r,o){return hn(An(e,t,n,i,r,o,!0))}function pn(e,t,n,i,r){return hn(_n(e,t,n,i,r,!0))}function gn(e){return!!e&&!0===e.__v_isVNode}function fn(e,t){return e.type===t.type&&e.key===t.key}const mn="__vInternal",vn=({key:e})=>null!=e?e:null,yn=({ref:e,ref_key:t,ref_for:n})=>("number"===typeof e&&(e=""+e),null!=e?(0,r.Kg)(e)||(0,i.i9)(e)||(0,r.Tn)(e)?{i:T,r:e,k:t,f:!!n}:e:null);function An(e,t=null,n=null,i=0,o=null,a=(e===en?0:1),s=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&vn(t),ref:t&&yn(t),scopeId:L,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:T};return l?(Pn(u,n),128&a&&e.normalize(u)):n&&(u.shapeFlag|=(0,r.Kg)(n)?8:16),un>0&&!s&&an&&(u.patchFlag>0||6&a)&&32!==u.patchFlag&&an.push(u),u}const _n=Cn;function Cn(e,t=null,n=null,o=0,a=null,s=!1){if(e&&e!==H||(e=nn),gn(e)){const i=En(e,t,!0);return n&&Pn(i,n),un>0&&!s&&an&&(6&i.shapeFlag?an[an.indexOf(e)]=i:an.push(i)),i.patchFlag|=-2,i}if(Qn(e)&&(e=e.__vccOpts),t){t=In(t);let{class:e,style:n}=t;e&&!(0,r.Kg)(e)&&(t.class=(0,r.C4)(e)),(0,r.Gv)(n)&&((0,i.ju)(n)&&!(0,r.cy)(n)&&(n=(0,r.X$)({},n)),t.style=(0,r.Tr)(n))}const l=(0,r.Kg)(e)?1:Z(e)?128:Vt(e)?64:(0,r.Gv)(e)?4:(0,r.Tn)(e)?2:0;return An(e,t,n,o,a,l,s,!0)}function In(e){return e?(0,i.ju)(e)||mn in e?(0,r.X$)({},e):e:null}function En(e,t,n=!1){const{props:i,ref:o,patchFlag:a,children:s}=e,l=t?Mn(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&vn(l),ref:t&&t.ref?n&&o?(0,r.cy)(o)?o.concat(yn(t)):[o,yn(t)]:yn(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==en?-1===a?16:16|a:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&En(e.ssContent),ssFallback:e.ssFallback&&En(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u}function wn(e=" ",t=0){return _n(tn,null,e,t)}function bn(e="",t=!1){return t?(sn(),pn(nn,null,e)):_n(nn,null,e)}function xn(e){return null==e||"boolean"===typeof e?_n(nn):(0,r.cy)(e)?_n(en,null,e.slice()):"object"===typeof e?Sn(e):_n(tn,null,String(e))}function Sn(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:En(e)}function Pn(e,t){let n=0;const{shapeFlag:i}=e;if(null==t)t=null;else if((0,r.cy)(t))n=16;else if("object"===typeof t){if(65&i){const n=t.default;return void(n&&(n._c&&(n._d=!1),Pn(e,n()),n._c&&(n._d=!0)))}{n=32;const i=t._;i||mn in t?3===i&&T&&(1===T.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=T}}else(0,r.Tn)(t)?(t={default:t,_ctx:T},n=32):(t=String(t),64&i?(n=16,t=[wn(t)]):n=8);e.children=t,e.shapeFlag|=n}function Mn(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const e in i)if("class"===e)t.class!==i.class&&(t.class=(0,r.C4)([t.class,i.class]));else if("style"===e)t.style=(0,r.Tr)([t.style,i.style]);else if((0,r.Mp)(e)){const n=t[e],o=i[e];!o||n===o||(0,r.cy)(n)&&n.includes(o)||(t[e]=n?[].concat(n,o):o)}else""!==e&&(t[e]=i[e])}return t}function kn(e,t,n,i=null){a(e,t,7,[n,i])}const Rn=ht();let Tn=0;function Ln(e,t,n){const o=e.type,a=(t?t.appContext:e.appContext)||Rn,s={uid:Tn++,vnode:e,type:o,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new i.yC(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ct(o,a),emitsOptions:k(o,a),emit:null,emitted:null,propsDefaults:r.MZ,inheritAttrs:o.inheritAttrs,ctx:r.MZ,data:r.MZ,props:r.MZ,attrs:r.MZ,slots:r.MZ,refs:r.MZ,setupState:r.MZ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=M.bind(null,s),e.ce&&e.ce(s),s}let Gn=null;const On=()=>Gn||T;let Dn,Nn;{const e=(0,r.We)(),t=(t,n)=>{let i;return(i=e[t])||(i=e[t]=[]),i.push(n),e=>{i.length>1?i.forEach((t=>t(e))):i[0](e)}};Dn=t("__VUE_INSTANCE_SETTERS__",(e=>Gn=e)),Nn=t("__VUE_SSR_SETTERS__",(e=>Wn=e))}const Fn=e=>{const t=Gn;return Dn(e),e.scope.on(),()=>{e.scope.off(),Dn(t)}},Un=()=>{Gn&&Gn.scope.off(),Dn(null)};function Bn(e){return 4&e.vnode.shapeFlag}let jn,zn,Wn=!1;function Vn(e,t=!1){t&&Nn(t);const{props:n,children:i}=e.vnode,r=Bn(e);vt(e,n,r,t),Rt(e,i);const o=r?Yn(e,t):void 0;return t&&Nn(!1),o}function Yn(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=(0,i.IG)(new Proxy(e.ctx,Xe));const{setup:a}=n;if(a){const n=e.setupContext=a.length>1?Zn(e):null,l=Fn(e);(0,i.C4)();const u=o(a,e,0,[e.props,n]);if((0,i.bl)(),l(),(0,r.yL)(u)){if(u.then(Un,Un),t)return u.then((n=>{Hn(e,n,t)})).catch((t=>{s(t,e,0)}));e.asyncDep=u}else Hn(e,u,t)}else qn(e,t)}function Hn(e,t,n){(0,r.Tn)(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:(0,r.Gv)(t)&&(e.setupState=(0,i.Pr)(t)),qn(e,n)}function qn(e,t,n){const o=e.type;if(!e.render){if(!t&&jn&&!o.render){const t=o.template||tt(e).template;if(t){0;const{isCustomElement:n,compilerOptions:i}=e.appContext.config,{delimiters:a,compilerOptions:s}=o,l=(0,r.X$)((0,r.X$)({isCustomElement:n,delimiters:a},i),s);o.render=jn(t,l)}}e.render=o.render||r.tE,zn&&zn(e)}{const t=Fn(e);(0,i.C4)();try{Je(e)}finally{(0,i.bl)(),t()}}}function Xn(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return(0,i.u4)(e,"get","$attrs"),t[n]}}))}function Zn(e){const t=t=>{e.exposed=t||{}};return{get attrs(){return Xn(e)},slots:e.slots,emit:e.emit,expose:t}}function Kn(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy((0,i.Pr)((0,i.IG)(e.exposed)),{get(t,n){return n in t?t[n]:n in He?He[n](e):void 0},has(e,t){return t in e||t in He}}))}function Jn(e,t=!0){return(0,r.Tn)(e)?e.displayName||e.name:e.name||t&&e.__name}function Qn(e){return(0,r.Tn)(e)&&"__vccOpts"in e}const $n=(e,t)=>{const n=(0,i.EW)(e,t,Wn);return n};function ei(e,t,n){const i=arguments.length;return 2===i?(0,r.Gv)(t)&&!(0,r.cy)(t)?gn(t)?_n(e,null,[t]):_n(e,t):_n(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):3===i&&gn(n)&&(n=[n]),_n(e,t,n))}const ti="3.4.21"},3751:function(e,t,n){"use strict";n.d(t,{D$:function(){return be},Ef:function(){return Me},Jo:function(){return ye},eB:function(){return g},lH:function(){return Ae}});var i=n(641),r=n(33),o=n(953);
/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
const a="http://www.w3.org/2000/svg",s="http://www.w3.org/1998/Math/MathML",l="undefined"!==typeof document?document:null,u=l&&l.createElement("template"),c={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r="svg"===t?l.createElementNS(a,e):"mathml"===t?l.createElementNS(s,e):l.createElement(e,n?{is:n}:void 0);return"select"===e&&i&&null!=i.multiple&&r.setAttribute("multiple",i.multiple),r},createText:e=>l.createTextNode(e),createComment:e=>l.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>l.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,r,o){const a=n?n.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling)){while(1)if(t.insertBefore(r.cloneNode(!0),n),r===o||!(r=r.nextSibling))break}else{u.innerHTML="svg"===i?`<svg>${e}</svg>`:"mathml"===i?`<math>${e}</math>`:e;const r=u.content;if("svg"===i||"mathml"===i){const e=r.firstChild;while(e.firstChild)r.appendChild(e.firstChild);r.removeChild(e)}t.insertBefore(r,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},h="transition",d="animation",p=Symbol("_vtc"),g=(e,{slots:t})=>(0,i.h)(i.pR,A(e),t);g.displayName="Transition";const f={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},m=g.props=(0,r.X$)({},i.QP,f),v=(e,t=[])=>{(0,r.cy)(e)?e.forEach((e=>e(...t))):e&&e(...t)},y=e=>!!e&&((0,r.cy)(e)?e.some((e=>e.length>1)):e.length>1);function A(e){const t={};for(const r in e)r in f||(t[r]=e[r]);if(!1===e.css)return t;const{name:n="v",type:i,duration:o,enterFromClass:a=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:u=a,appearActiveClass:c=s,appearToClass:h=l,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=e,m=_(o),A=m&&m[0],C=m&&m[1],{onBeforeEnter:b,onEnter:S,onEnterCancelled:P,onLeave:M,onLeaveCancelled:R,onBeforeAppear:T=b,onAppear:L=S,onAppearCancelled:G=P}=t,O=(e,t,n)=>{E(e,t?h:l),E(e,t?c:s),n&&n()},D=(e,t)=>{e._isLeaving=!1,E(e,d),E(e,g),E(e,p),t&&t()},N=e=>(t,n)=>{const r=e?L:S,o=()=>O(t,e,n);v(r,[t,o]),w((()=>{E(t,e?u:a),I(t,e?h:l),y(r)||x(t,i,A,o)}))};return(0,r.X$)(t,{onBeforeEnter(e){v(b,[e]),I(e,a),I(e,s)},onBeforeAppear(e){v(T,[e]),I(e,u),I(e,c)},onEnter:N(!1),onAppear:N(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>D(e,t);I(e,d),k(),I(e,p),w((()=>{e._isLeaving&&(E(e,d),I(e,g),y(M)||x(e,i,C,n))})),v(M,[e,n])},onEnterCancelled(e){O(e,!1),v(P,[e])},onAppearCancelled(e){O(e,!0),v(G,[e])},onLeaveCancelled(e){D(e),v(R,[e])}})}function _(e){if(null==e)return null;if((0,r.Gv)(e))return[C(e.enter),C(e.leave)];{const t=C(e);return[t,t]}}function C(e){const t=(0,r.Ro)(e);return t}function I(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e[p]||(e[p]=new Set)).add(t)}function E(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const n=e[p];n&&(n.delete(t),n.size||(e[p]=void 0))}function w(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let b=0;function x(e,t,n,i){const r=e._endId=++b,o=()=>{r===e._endId&&i()};if(n)return setTimeout(o,n);const{type:a,timeout:s,propCount:l}=S(e,t);if(!a)return i();const u=a+"end";let c=0;const h=()=>{e.removeEventListener(u,d),o()},d=t=>{t.target===e&&++c>=l&&h()};setTimeout((()=>{c<l&&h()}),s+1),e.addEventListener(u,d)}function S(e,t){const n=window.getComputedStyle(e),i=e=>(n[e]||"").split(", "),r=i(`${h}Delay`),o=i(`${h}Duration`),a=P(r,o),s=i(`${d}Delay`),l=i(`${d}Duration`),u=P(s,l);let c=null,p=0,g=0;t===h?a>0&&(c=h,p=a,g=o.length):t===d?u>0&&(c=d,p=u,g=l.length):(p=Math.max(a,u),c=p>0?a>u?h:d:null,g=c?c===h?o.length:l.length:0);const f=c===h&&/\b(transform|all)(,|$)/.test(i(`${h}Property`).toString());return{type:c,timeout:p,propCount:g,hasTransform:f}}function P(e,t){while(e.length<t.length)e=e.concat(e);return Math.max(...t.map(((t,n)=>M(t)+M(e[n]))))}function M(e){return"auto"===e?0:1e3*Number(e.slice(0,-1).replace(",","."))}function k(){return document.body.offsetHeight}function R(e,t,n){const i=e[p];i&&(t=(t?[t,...i]:[...i]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const T=Symbol("_vod"),L=Symbol("_vsh");const G=Symbol("");const O=/(^|;)\s*display\s*:/;function D(e,t,n){const i=e.style,o=(0,r.Kg)(n);let a=!1;if(n&&!o){if(t)if((0,r.Kg)(t))for(const e of t.split(";")){const t=e.slice(0,e.indexOf(":")).trim();null==n[t]&&F(i,t,"")}else for(const e in t)null==n[e]&&F(i,e,"");for(const e in n)"display"===e&&(a=!0),F(i,e,n[e])}else if(o){if(t!==n){const e=i[G];e&&(n+=";"+e),i.cssText=n,a=O.test(n)}}else t&&e.removeAttribute("style");T in e&&(e[T]=a?i.display:"",e[L]&&(i.display="none"))}const N=/\s*!important$/;function F(e,t,n){if((0,r.cy)(n))n.forEach((n=>F(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=j(e,t);N.test(n)?e.setProperty((0,r.Tg)(i),n.replace(N,""),"important"):e[i]=n}}const U=["Webkit","Moz","ms"],B={};function j(e,t){const n=B[t];if(n)return n;let i=(0,r.PT)(t);if("filter"!==i&&i in e)return B[t]=i;i=(0,r.ZH)(i);for(let r=0;r<U.length;r++){const n=U[r]+i;if(n in e)return B[t]=n}return t}const z="http://www.w3.org/1999/xlink";function W(e,t,n,i,o){if(i&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(z,t.slice(6,t.length)):e.setAttributeNS(z,t,n);else{const i=(0,r.J$)(t);null==n||i&&!(0,r.Y2)(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function V(e,t,n,i,o,a,s){if("innerHTML"===t||"textContent"===t)return i&&s(i,o,a),void(e[t]=null==n?"":n);const l=e.tagName;if("value"===t&&"PROGRESS"!==l&&!l.includes("-")){const i="OPTION"===l?e.getAttribute("value")||"":e.value,r=null==n?"":n;return i===r&&"_value"in e||(e.value=r),null==n&&e.removeAttribute(t),void(e._value=n)}let u=!1;if(""===n||null==n){const i=typeof e[t];"boolean"===i?n=(0,r.Y2)(n):null==n&&"string"===i?(n="",u=!0):"number"===i&&(n=0,u=!0)}try{e[t]=n}catch(c){0}u&&e.removeAttribute(t)}function Y(e,t,n,i){e.addEventListener(t,n,i)}function H(e,t,n,i){e.removeEventListener(t,n,i)}const q=Symbol("_vei");function X(e,t,n,i,r=null){const o=e[q]||(e[q]={}),a=o[t];if(i&&a)a.value=i;else{const[n,s]=K(t);if(i){const a=o[t]=ee(i,r);Y(e,n,a,s)}else a&&(H(e,n,a,s),o[t]=void 0)}}const Z=/(?:Once|Passive|Capture)$/;function K(e){let t;if(Z.test(e)){let n;t={};while(n=e.match(Z))e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}const n=":"===e[2]?e.slice(3):(0,r.Tg)(e.slice(2));return[n,t]}let J=0;const Q=Promise.resolve(),$=()=>J||(Q.then((()=>J=0)),J=Date.now());function ee(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();(0,i.qL)(te(e,n.value),t,5,[e])};return n.value=e,n.attached=$(),n}function te(e,t){if((0,r.cy)(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}const ne=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,ie=(e,t,n,i,o,a,s,l,u)=>{const c="svg"===o;"class"===t?R(e,i,c):"style"===t?D(e,n,i):(0,r.Mp)(t)?(0,r.CP)(t)||X(e,t,n,i,s):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):re(e,t,i,c))?V(e,t,i,a,s,l,u):("true-value"===t?e._trueValue=i:"false-value"===t&&(e._falseValue=i),W(e,t,i,c))};function re(e,t,n,i){if(i)return"innerHTML"===t||"textContent"===t||!!(t in e&&ne(t)&&(0,r.Tn)(n));if("spellcheck"===t||"draggable"===t||"translate"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if("width"===t||"height"===t){const t=e.tagName;if("IMG"===t||"VIDEO"===t||"CANVAS"===t||"SOURCE"===t)return!1}return(!ne(t)||!(0,r.Kg)(n))&&t in e}
/*! #__NO_SIDE_EFFECTS__ */
/*! #__NO_SIDE_EFFECTS__ */
"undefined"!==typeof HTMLElement&&HTMLElement;const oe=new WeakMap,ae=new WeakMap,se=Symbol("_moveCb"),le=Symbol("_enterCb"),ue={name:"TransitionGroup",props:(0,r.X$)({},m,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=(0,i.nI)(),r=(0,i.Gy)();let a,s;return(0,i.$u)((()=>{if(!a.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!pe(a[0].el,n.vnode.el,t))return;a.forEach(ce),a.forEach(he);const i=a.filter(de);k(),i.forEach((e=>{const n=e.el,i=n.style;I(n,t),i.transform=i.webkitTransform=i.transitionDuration="";const r=n[se]=e=>{e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",r),n[se]=null,E(n,t))};n.addEventListener("transitionend",r)}))})),()=>{const l=(0,o.ux)(e),u=A(l);let c=l.tag||i.FK;a=s,s=t.default?(0,i.Df)(t.default()):[];for(let e=0;e<s.length;e++){const t=s[e];null!=t.key&&(0,i.MZ)(t,(0,i.OW)(t,u,r,n))}if(a)for(let e=0;e<a.length;e++){const t=a[e];(0,i.MZ)(t,(0,i.OW)(t,u,r,n)),oe.set(t,t.el.getBoundingClientRect())}return(0,i.bF)(c,null,s)}}};ue.props;function ce(e){const t=e.el;t[se]&&t[se](),t[le]&&t[le]()}function he(e){ae.set(e,e.el.getBoundingClientRect())}function de(e){const t=oe.get(e),n=ae.get(e),i=t.left-n.left,r=t.top-n.top;if(i||r){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${i}px,${r}px)`,t.transitionDuration="0s",e}}function pe(e,t,n){const i=e.cloneNode(),r=e[p];r&&r.forEach((e=>{e.split(/\s+/).forEach((e=>e&&i.classList.remove(e)))})),n.split(/\s+/).forEach((e=>e&&i.classList.add(e))),i.style.display="none";const o=1===t.nodeType?t:t.parentNode;o.appendChild(i);const{hasTransform:a}=S(i);return o.removeChild(i),a}const ge=e=>{const t=e.props["onUpdate:modelValue"]||!1;return(0,r.cy)(t)?e=>(0,r.DY)(t,e):t};function fe(e){e.target.composing=!0}function me(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ve=Symbol("_assign"),ye={created(e,{modifiers:{lazy:t,trim:n,number:i}},o){e[ve]=ge(o);const a=i||o.props&&"number"===o.props.type;Y(e,t?"change":"input",(t=>{if(t.target.composing)return;let i=e.value;n&&(i=i.trim()),a&&(i=(0,r.bB)(i)),e[ve](i)})),n&&Y(e,"change",(()=>{e.value=e.value.trim()})),t||(Y(e,"compositionstart",fe),Y(e,"compositionend",me),Y(e,"change",me))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:o}},a){if(e[ve]=ge(a),e.composing)return;const s=o||"number"===e.type?(0,r.bB)(e.value):e.value,l=null==t?"":t;if(s!==l){if(document.activeElement===e&&"range"!==e.type){if(n)return;if(i&&e.value.trim()===l)return}e.value=l}}},Ae={deep:!0,created(e,t,n){e[ve]=ge(n),Y(e,"change",(()=>{const t=e._modelValue,n=Ce(e),i=e.checked,o=e[ve];if((0,r.cy)(t)){const e=(0,r.u3)(t,n),a=-1!==e;if(i&&!a)o(t.concat(n));else if(!i&&a){const n=[...t];n.splice(e,1),o(n)}}else if((0,r.vM)(t)){const e=new Set(t);i?e.add(n):e.delete(n),o(e)}else o(Ie(e,i))}))},mounted:_e,beforeUpdate(e,t,n){e[ve]=ge(n),_e(e,t,n)}};function _e(e,{value:t,oldValue:n},i){e._modelValue=t,(0,r.cy)(t)?e.checked=(0,r.u3)(t,i.props.value)>-1:(0,r.vM)(t)?e.checked=t.has(i.props.value):t!==n&&(e.checked=(0,r.BX)(t,Ie(e,!0)))}function Ce(e){return"_value"in e?e._value:e.value}function Ie(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Ee=["ctrl","shift","alt","meta"],we={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>Ee.some((n=>e[`${n}Key`]&&!t.includes(n)))},be=(e,t)=>{const n=e._withMods||(e._withMods={}),i=t.join(".");return n[i]||(n[i]=(n,...i)=>{for(let e=0;e<t.length;e++){const i=we[t[e]];if(i&&i(n,t))return}return e(n,...i)})},xe=(0,r.X$)({patchProp:ie},c);let Se;function Pe(){return Se||(Se=(0,i.K9)(xe))}const Me=(...e)=>{const t=Pe().createApp(...e);const{mount:n}=t;return t.mount=e=>{const i=Re(e);if(!i)return;const o=t._component;(0,r.Tn)(o)||o.render||o.template||(o.template=i.innerHTML),i.innerHTML="";const a=n(i,!1,ke(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t};function ke(e){return e instanceof SVGElement?"svg":"function"===typeof MathMLElement&&e instanceof MathMLElement?"mathml":void 0}function Re(e){if((0,r.Kg)(e)){const t=document.querySelector(e);return t}return e}},33:function(e,t,n){"use strict";
/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
function i(e,t){const n=new Set(e.split(","));return t?e=>n.has(e.toLowerCase()):e=>n.has(e)}n.d(t,{$3:function(){return p},$H:function(){return N},BH:function(){return Y},BX:function(){return ne},Bm:function(){return C},C4:function(){return J},CE:function(){return f},CP:function(){return u},DY:function(){return F},Gv:function(){return I},J$:function(){return $},Kg:function(){return _},MZ:function(){return r},Mp:function(){return l},NO:function(){return s},Oj:function(){return o},PT:function(){return T},Qd:function(){return S},Ro:function(){return j},SU:function(){return M},TF:function(){return h},Tg:function(){return G},Tn:function(){return A},Tr:function(){return H},We:function(){return W},X$:function(){return c},Y2:function(){return ee},ZH:function(){return O},Zf:function(){return x},bB:function(){return B},cy:function(){return g},gd:function(){return y},pD:function(){return i},rU:function(){return D},tE:function(){return a},u3:function(){return ie},vM:function(){return m},v_:function(){return re},yI:function(){return P},yL:function(){return E},yQ:function(){return U}});const r={},o=[],a=()=>{},s=()=>!1,l=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),u=e=>e.startsWith("onUpdate:"),c=Object.assign,h=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},d=Object.prototype.hasOwnProperty,p=(e,t)=>d.call(e,t),g=Array.isArray,f=e=>"[object Map]"===b(e),m=e=>"[object Set]"===b(e),v=e=>"[object Date]"===b(e),y=e=>"[object RegExp]"===b(e),A=e=>"function"===typeof e,_=e=>"string"===typeof e,C=e=>"symbol"===typeof e,I=e=>null!==e&&"object"===typeof e,E=e=>(I(e)||A(e))&&A(e.then)&&A(e.catch),w=Object.prototype.toString,b=e=>w.call(e),x=e=>b(e).slice(8,-1),S=e=>"[object Object]"===b(e),P=e=>_(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,M=i(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),k=e=>{const t=Object.create(null);return n=>{const i=t[n];return i||(t[n]=e(n))}},R=/-(\w)/g,T=k((e=>e.replace(R,((e,t)=>t?t.toUpperCase():"")))),L=/\B([A-Z])/g,G=k((e=>e.replace(L,"-$1").toLowerCase())),O=k((e=>e.charAt(0).toUpperCase()+e.slice(1))),D=k((e=>{const t=e?`on${O(e)}`:"";return t})),N=(e,t)=>!Object.is(e,t),F=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},U=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},B=e=>{const t=parseFloat(e);return isNaN(t)?e:t},j=e=>{const t=_(e)?Number(e):NaN;return isNaN(t)?e:t};let z;const W=()=>z||(z="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{});const V="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error",Y=i(V);function H(e){if(g(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=_(i)?K(i):H(i);if(r)for(const e in r)t[e]=r[e]}return t}if(_(e)||I(e))return e}const q=/;(?![^(]*\))/g,X=/:([^]+)/,Z=/\/\*[^]*?\*\//g;function K(e){const t={};return e.replace(Z,"").split(q).forEach((e=>{if(e){const n=e.split(X);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function J(e){let t="";if(_(e))t=e;else if(g(e))for(let n=0;n<e.length;n++){const i=J(e[n]);i&&(t+=i+" ")}else if(I(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Q="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",$=i(Q);function ee(e){return!!e||""===e}function te(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=ne(e[i],t[i]);return n}function ne(e,t){if(e===t)return!0;let n=v(e),i=v(t);if(n||i)return!(!n||!i)&&e.getTime()===t.getTime();if(n=C(e),i=C(t),n||i)return e===t;if(n=g(e),i=g(t),n||i)return!(!n||!i)&&te(e,t);if(n=I(e),i=I(t),n||i){if(!n||!i)return!1;const r=Object.keys(e).length,o=Object.keys(t).length;if(r!==o)return!1;for(const n in e){const i=e.hasOwnProperty(n),r=t.hasOwnProperty(n);if(i&&!r||!i&&r||!ne(e[n],t[n]))return!1}}return String(e)===String(t)}function ie(e,t){return e.findIndex((e=>ne(e,t)))}const re=e=>_(e)?e:null==e?"":g(e)||I(e)&&(e.toString===w||!A(e.toString))?JSON.stringify(e,oe,2):String(e),oe=(e,t)=>t&&t.__v_isRef?oe(e,t.value):f(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n],i)=>(e[ae(t,i)+" =>"]=n,e)),{})}:m(t)?{[`Set(${t.size})`]:[...t.values()].map((e=>ae(e)))}:C(t)?ae(t):!I(t)||g(t)||S(t)?t:String(t),ae=(e,t="")=>{var n;return C(e)?`Symbol(${null!=(n=e.description)?n:t})`:e}},5225:function(e,t,n){"use strict";n.d(t,{de:function(){return y},qy:function(){return b},mi:function(){return R}});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=o(["",""],["",""]);function o(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(){for(var t=this,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return a(this,e),this.tag=function(e){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return"function"===typeof e?t.interimTag.bind(t,e):"string"===typeof e?t.transformEndResult(e):(e=e.map(t.transformString.bind(t)),t.transformEndResult(e.reduce(t.processSubstitutions.bind(t,i))))},i.length>0&&Array.isArray(i[0])&&(i=i[0]),this.transformers=i.map((function(e){return"function"===typeof e?e():e})),this.tag}return i(e,[{key:"interimTag",value:function(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return this.tag(r,e.apply(void 0,[t].concat(i)))}},{key:"processSubstitutions",value:function(e,t,n){var i=this.transformSubstitution(e.shift(),t);return"".concat(t,i,n)}},{key:"transformString",value:function(e){var t=function(e,t){return t.onString?t.onString(e):e};return this.transformers.reduce(t,e)}},{key:"transformSubstitution",value:function(e,t){var n=function(e,n){return n.onSubstitution?n.onSubstitution(e,t):e};return this.transformers.reduce(n,e)}},{key:"transformEndResult",value:function(e){var t=function(e,t){return t.onEndResult?t.onEndResult(e):e};return this.transformers.reduce(t,e)}}]),e}(),l=s,u={separator:"",conjunction:"",serial:!1},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return{onSubstitution:function(t,n){if(Array.isArray(t)){var i=t.length,r=e.separator,o=e.conjunction,a=e.serial,s=n.match(/(\n?[^\S\n]+)$/);if(t=s?t.join(r+s[1]):t.join(r+" "),o&&i>1){var l=t.lastIndexOf(r);t=t.slice(0,l)+(a?r:"")+" "+o+t.slice(l+1)}}return t}}},h=c;function d(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";return{onEndResult:function(t){if("initial"===e){var n=t.match(/^[^\S\n]*(?=\S)/gm),i=n&&Math.min.apply(Math,d(n.map((function(e){return e.length}))));if(i){var r=new RegExp("^.{"+i+"}","gm");return t.replace(r,"")}return t}if("all"===e)return t.replace(/^[^\S\n]+/gm,"");throw new Error("Unknown type: "+e)}}},g=p,f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{onEndResult:function(t){if(""===e)return t.trim();if(e=e.toLowerCase(),"start"===e||"left"===e)return t.replace(/^\s*/,"");if("end"===e||"right"===e)return t.replace(/\s*$/,"");throw new Error("Side not supported: "+e)}}},m=f,v=new l(h({separator:","}),g,m),y=v,A=(new l(h({separator:",",conjunction:"and"}),g,m),new l(h({separator:",",conjunction:"or"}),g,m),function(e){return{onSubstitution:function(t,n){if(null==e||"string"!==typeof e)throw new Error("You need to specify a string character to split by.");return"string"===typeof t&&t.includes(e)&&(t=t.split(e)),t}}}),_=A,C=function(e){return null!=e&&!Number.isNaN(e)&&"boolean"!==typeof e},I=function(){return{onSubstitution:function(e){return Array.isArray(e)?e.filter(C):C(e)?e:""}}},E=I,w=new l(_("\n"),E,h,g,m),b=w,x=function(e,t){return{onSubstitution:function(n,i){if(null==e||null==t)throw new Error("replaceSubstitutionTransformer requires at least 2 arguments.");return null==n?n:n.toString().replace(e,t)}}},S=x,P=(new l(_("\n"),h,g,m,S(/&/g,"&amp;"),S(/</g,"&lt;"),S(/>/g,"&gt;"),S(/"/g,"&quot;"),S(/'/g,"&#x27;"),S(/`/g,"&#x60;")),function(e,t){return{onEndResult:function(n){if(null==e||null==t)throw new Error("replaceResultTransformer requires at least 2 arguments.");return n.replace(e,t)}}}),M=P,k=(new l(M(/(?:\n(?:\s*))+/g," "),m),new l(M(/(?:\n\s*)/g,""),m),new l(h({separator:","}),M(/(?:\s+)/g," "),m),new l(h({separator:",",conjunction:"or"}),M(/(?:\s+)/g," "),m),new l(h({separator:",",conjunction:"and"}),M(/(?:\s+)/g," "),m),new l(h,g,m),new l(h,M(/(?:\s+)/g," "),m),new l(g,m),new l(g("all"),m)),R=k},3737:function(e){"use strict";function t(e){return"object"===typeof e&&null!==e}function n(e){return Array.isArray(e)}function i(e){return"string"===typeof e}function r(e){return"undefined"===typeof e}function o(e){return"number"===typeof e}function a(e){return"boolean"===typeof e}function s(e){return e instanceof Date}function l(e){this._data=e||{}}l.prototype.set=function(e,r){if(e&&""!==e){var o,a=/[\$\w-|:]+|\[\]|([^\[[\w]\]]|["'](.*?)['"])/g,s=e.match(a),l=this._data,u=null,c=null,h=function(e,t,n){"[]"===t?e.push(n):e[t]=n};while(s.length>0){if(o=s.shift().replace(/["']/g,""),["__proto__","prototype","constructor"].includes(o))throw new Error("Prototype pollution attempt detected");isNaN(+o)&&"[]"!==o?i(o)&&(t(l)||(l={},h(u,c,l))):n(l)||(l=[],h(u,c,l)),u=l,c=o,l=l[o]}return h(u,c,r),this}},l.prototype.get=function(e){var t=this._data,n=/[\$\w-|:]+|\[\]|([^\[[\w]\]]|["'](.*?)['"])/g;if(e){var i=e.match(n);while("undefined"!=typeof t&&i.length>0){if(!t.propertyIsEnumerable(i[0].replace(/"/g,"")))return;t=t[i.shift().replace(/"/g,"")]}return t}},l.prototype.data=function(e){return r(e)?this._data:(this._data=e,this)},l.transpose=function(e){var t=new l;for(var n in e)void 0!==e[n]&&t.set(n,e[n]);return t},l.untranspose=function(e){e=e||{};var r=e._data||e,l=function(e,r){var u=[],c=function(e,t){return function(t,n){var i=e;return/\./.test(e)&&(i='["'+i+'"]'),t.key.unshift(i+"."),{key:t.key,data:t.data}}};for(var h in e){var d;if(d=r?"["+h+"]":h,i(e[h])||o(e[h])||null===e[h]||a(e[h])||s(e[h]))/\./.test(h)&&(d='["'+h+'"]'),u.push({key:[d],data:e[h]});else if(n(e[h])){var p=l(e[h],!0);u=u.concat(p.map(c(d,e)))}else if(t(e[h])){var g=l(e[h],!1);u=u.concat(g.map(c(d,e)))}}return u},u=l(r,!1),c={};return u.every((function(e){for(var t=0;t<e.key.length-1;t++){var n=e.key[t],i=e.key[t+1];/^\[/.test(i)&&(e.key[t]=n.replace(/\.$/,""))}return c[e.key.join("")]=e.data,!0})),c},e.exports=l},9491:function(e){"use strict";function t(e,t){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),i=1;i<arguments.length;i++){var r=arguments[i];if(void 0!==r&&null!==r)for(var o=Object.keys(Object(r)),a=0,s=o.length;a<s;a++){var l=o[a],u=Object.getOwnPropertyDescriptor(r,l);void 0!==u&&u.enumerable&&(n[l]=r[l])}}return n}function n(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:t})}e.exports={assign:t,polyfill:n}},6964:function(e,t,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */
(function(t,n){e.exports=n()})(0,(function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function t(e){return"function"===typeof e}var i=void 0;i=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var r=i,o=0,a=void 0,s=void 0,l=function(e,t){C[o]=e,C[o+1]=t,o+=2,2===o&&(s?s(I):w())};function u(e){s=e}function c(e){l=e}var h="undefined"!==typeof window?window:void 0,d=h||{},p=d.MutationObserver||d.WebKitMutationObserver,g="undefined"===typeof self&&"undefined"!==typeof process&&"[object process]"==={}.toString.call(process),f="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel;function m(){return function(){return process.nextTick(I)}}function v(){return"undefined"!==typeof a?function(){a(I)}:_()}function y(){var e=0,t=new p(I),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function A(){var e=new MessageChannel;return e.port1.onmessage=I,function(){return e.port2.postMessage(0)}}function _(){var e=setTimeout;return function(){return e(I,1)}}var C=new Array(1e3);function I(){for(var e=0;e<o;e+=2){var t=C[e],n=C[e+1];t(n),C[e]=void 0,C[e+1]=void 0}o=0}function E(){try{var e=Function("return this")().require("vertx");return a=e.runOnLoop||e.runOnContext,v()}catch(t){return _()}}var w=void 0;function b(e,t){var n=this,i=new this.constructor(P);void 0===i[S]&&X(i);var r=n._state;if(r){var o=arguments[r-1];l((function(){return V(r,i,o,n._result)}))}else z(n,i,e,t);return i}function x(e){var t=this;if(e&&"object"===typeof e&&e.constructor===t)return e;var n=new t(P);return F(n,e),n}w=g?m():p?y():f?A():void 0===h?E():_();var S=Math.random().toString(36).substring(2);function P(){}var M=void 0,k=1,R=2;function T(){return new TypeError("You cannot resolve a promise with itself")}function L(){return new TypeError("A promises callback cannot return that same promise.")}function G(e,t,n,i){try{e.call(t,n,i)}catch(r){return r}}function O(e,t,n){l((function(e){var i=!1,r=G(n,t,(function(n){i||(i=!0,t!==n?F(e,n):B(e,n))}),(function(t){i||(i=!0,j(e,t))}),"Settle: "+(e._label||" unknown promise"));!i&&r&&(i=!0,j(e,r))}),e)}function D(e,t){t._state===k?B(e,t._result):t._state===R?j(e,t._result):z(t,void 0,(function(t){return F(e,t)}),(function(t){return j(e,t)}))}function N(e,n,i){n.constructor===e.constructor&&i===b&&n.constructor.resolve===x?D(e,n):void 0===i?B(e,n):t(i)?O(e,n,i):B(e,n)}function F(t,n){if(t===n)j(t,T());else if(e(n)){var i=void 0;try{i=n.then}catch(r){return void j(t,r)}N(t,n,i)}else B(t,n)}function U(e){e._onerror&&e._onerror(e._result),W(e)}function B(e,t){e._state===M&&(e._result=t,e._state=k,0!==e._subscribers.length&&l(W,e))}function j(e,t){e._state===M&&(e._state=R,e._result=t,l(U,e))}function z(e,t,n,i){var r=e._subscribers,o=r.length;e._onerror=null,r[o]=t,r[o+k]=n,r[o+R]=i,0===o&&e._state&&l(W,e)}function W(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i=void 0,r=void 0,o=e._result,a=0;a<t.length;a+=3)i=t[a],r=t[a+n],i?V(n,i,r,o):r(o);e._subscribers.length=0}}function V(e,n,i,r){var o=t(i),a=void 0,s=void 0,l=!0;if(o){try{a=i(r)}catch(u){l=!1,s=u}if(n===a)return void j(n,L())}else a=r;n._state!==M||(o&&l?F(n,a):!1===l?j(n,s):e===k?B(n,a):e===R&&j(n,a))}function Y(e,t){try{t((function(t){F(e,t)}),(function(t){j(e,t)}))}catch(n){j(e,n)}}var H=0;function q(){return H++}function X(e){e[S]=H++,e._state=void 0,e._result=void 0,e._subscribers=[]}function Z(){return new Error("Array Methods must be provided an Array")}var K=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(P),this.promise[S]||X(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?B(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&B(this.promise,this._result))):j(this.promise,Z())}return e.prototype._enumerate=function(e){for(var t=0;this._state===M&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===x){var r=void 0,o=void 0,a=!1;try{r=e.then}catch(l){a=!0,o=l}if(r===b&&e._state!==M)this._settledAt(e._state,t,e._result);else if("function"!==typeof r)this._remaining--,this._result[t]=e;else if(n===ne){var s=new n(P);a?j(s,o):N(s,e,r),this._willSettleAt(s,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(i(e),t)},e.prototype._settledAt=function(e,t,n){var i=this.promise;i._state===M&&(this._remaining--,e===R?j(i,n):this._result[t]=n),0===this._remaining&&B(i,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;z(e,void 0,(function(e){return n._settledAt(k,t,e)}),(function(e){return n._settledAt(R,t,e)}))},e}();function J(e){return new K(this,e).promise}function Q(e){var t=this;return r(e)?new t((function(n,i){for(var r=e.length,o=0;o<r;o++)t.resolve(e[o]).then(n,i)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))}function $(e){var t=this,n=new t(P);return j(n,e),n}function ee(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function te(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var ne=function(){function e(t){this[S]=q(),this._result=this._state=void 0,this._subscribers=[],P!==t&&("function"!==typeof t&&ee(),this instanceof e?Y(this,t):te())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var n=this,i=n.constructor;return t(e)?n.then((function(t){return i.resolve(e()).then((function(){return t}))}),(function(t){return i.resolve(e()).then((function(){throw t}))})):n.then(e,e)},e}();function ie(){var e=void 0;if("undefined"!==typeof n.g)e=n.g;else if("undefined"!==typeof self)e=self;else try{e=Function("return this")()}catch(r){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var i=null;try{i=Object.prototype.toString.call(t.resolve())}catch(r){}if("[object Promise]"===i&&!t.cast)return}e.Promise=ne}return ne.prototype.then=b,ne.all=J,ne.race=Q,ne.resolve=x,ne.reject=$,ne._setScheduler=u,ne._setAsap=c,ne._asap=l,ne.polyfill=ie,ne.Promise=ne,ne}))},729:function(e){(function(t,n){e.exports=n()})(0,(function(){var e={};e=function(){this.listeners={}},e.prototype={addEventListener:function(e,t,n){for(var i=[],r=arguments.length,o=0;o<r;o++)i.push(arguments[o]);i=i.length>3?i.splice(3,i.length-1):[],"undefined"!=typeof this.listeners[e]?this.listeners[e].push({scope:n,callback:t,args:i}):this.listeners[e]=[{scope:n,callback:t,args:i}]},removeEventListener:function(e,t,n){if("undefined"!=typeof this.listeners[e]){for(var i=this.listeners[e].length,r=[],o=0;o<i;o++){var a=this.listeners[e][o];a.scope==n&&a.callback==t||r.push(a)}this.listeners[e]=r}},hasEventListener:function(e,t,n){if("undefined"!=typeof this.listeners[e]){var i=this.listeners[e].length;if(void 0===t&&void 0===n)return i>0;for(var r=0;r<i;r++){var o=this.listeners[e][r];if((!n||o.scope==n)&&o.callback==t)return!0}}return!1},dispatch:function(e,t){for(var n={type:e,target:t},i=[],r=arguments.length,o=0;o<r;o++)i.push(arguments[o]);if(i=i.length>2?i.splice(2,i.length-1):[],i=[n].concat(i),"undefined"!=typeof this.listeners[e]){var a=this.listeners[e].slice(),s=a.length;for(o=0;o<s;o++){var l=a[o];if(l&&l.callback){var u=i.concat(l.args);l.callback.apply(l.scope,u)}}}},getEvents:function(){var e="";for(var t in this.listeners)for(var n=this.listeners[t].length,i=0;i<n;i++){var r=this.listeners[t][i];e+=r.scope&&r.scope.className?r.scope.className:"anonymous",e+=" listen for '"+t+"'\n"}return e}};var t=new e;return t}))},6594:function(e,t,n){var i,r,o;(function(n,a){r=[],i=a,o="function"===typeof i?i.apply(t,r):i,void 0===o||(e.exports=o)})(0,(function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function i(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){l(i.response,t,n)},i.onerror=function(){console.error("could not download file")},i.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(i){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,s=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(e,t,n){var s=a.URL||a.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?o(l):r(l.href)?i(e,t,n):o(l,l.target="_blank")):(l.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(l.href)}),4e4),setTimeout((function(){o(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,a){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,a),n);else if(r(e))i(e,n,a);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout((function(){o(s)}))}}:function(e,t,n,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return i(e,t,n);var o="application/octet-stream"===e.type,l=/constructor/i.test(a.HTMLElement)||a.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||o&&l||s)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=u?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},c.readAsDataURL(e)}else{var h=a.URL||a.webkitURL,d=h.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout((function(){h.revokeObjectURL(d)}),4e4)}});a.saveAs=l.saveAs=l,e.exports=l}))},9043:function(e,t,n){"use strict";n.d(t,{Ay:function(){return dt}});var i=n(3065),r={getLogger:function(e){!{NODE_ENV:"production",BASE_URL:"/geoportal-extensions-openlayers-samples/"}.VERBOSE?i.disableAll():i.enableAll();var t=e||"default";return i.getLogger(t)}},o=r,a={PARAM_MISSING:"Parameter(s) '%var%' missing",PARAM_EMPTY:"Parameter(s) '%var%' empty",PARAM_TYPE:"Wrong type(s) for parameter(s) '%var%'",PARAM_FORMAT:"Parameter(s) '%var%' not correctly formatted",PARAM_NOT_SUPPORT:"Value(s) for parameter(s) '%var%' not supported",PARAM_NOT_SUPPORT_NODEJS:"Value(s) for parameter(s) '%var%' not supported to NodeJS",PARAM_UNKNOWN:"Value(s) for parameter(s) '%var%' unknown",SERVICE_REQUEST_BUILD:"An error occurred during the request building of the service",SERVICE_REQUEST_EMPTY:"The request sent to the service is empty",SERVICE_RESPONSE_EXCEPTION:"The service returned an exception : '%var%'",SERVICE_RESPONSE_EXCEPTION_2:"The service returned an exception",SERVICE_RESPONSE_ANALYSE:"An error occurred while parsing the response '%var%' of the service",SERVICE_RESPONSE_ANALYSE_2:"An unknown error occurred while parsing the response",SERVICE_RESPONSE_EMPTY:"The response of the service is empty",SERVICE_RESPONSE_EMPTY_2:"The response from the service could not be analyzed or is empty",SERVICE_RESPONSE_FORMAT:"The format of the service response is not supported (handled format(s) : '%var%')",SERVICE_RESPONSE_FORMAT_2:"The format of the service response is not supported",SERVICE_RESPONSE_FORMAT_3:"No suggestion matching the search",CLASS_CONSTRUCTOR:"'%var%' constructor cannot be called as a function.",getMessage:function(e,t){if(0===Object.keys(arguments).length)return"Message indefined !";var n=Array.prototype.slice.call(arguments),i=n.shift(),r=n,o=this[i];try{o=Array.isArray(r)&&r.length>0?o.replace("%var%",r.join(" - ")):o.replace("%var%","%var% (not specified)")}catch(a){}return o}},s=a,l={normalyzeParameters:function(e){var t=null;if(e){var n=[];for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];r||(r=""),n.push(i+"="+r)}t=n.join("&")}return t},normalyzeUrl:function(e,t,n){var i=e;if(e){var r=e.indexOf("?");-1===r&&(i+="?"),-1!==r&&r!==e.length-1&&(i+="&")}return t&&("string"===typeof t?(t=t.replace("?",""),i+=t):i+=this.normalyzeParameters(t)),n&&(i=encodeURIComponent(i)),i},indent:function(e,t){var n=e||0;return new Array(n+1).join("\t")+t}},u=l,c=n(6964),h=n.n(c),d={call:function(e){var t=o.getLogger("XHR");if(t.trace("[XHR::call()]"),h().polyfill(),!e.url)throw new Error("missing parameter : url is not defined !");if(!e.method)throw new Error("missing parameter : method is not defined !");e.format||(e.format="text");var n={};switch(n.url=e.url,n.data=e.data?e.data:null,n.method=e.method,n.timeOut=e.timeOut||0,n.scope=e.scope||this,n.proxy=e.proxy||null,n.content=e.content||null,n.headers=e.headers||{referer:"http://localhost"},e.method){case"DELETE":case"GET":break;case"PUT":case"POST":n.content=e.content?e.content:"application/x-www-form-urlencoded",n.headers=e.headers?e.headers:{referer:"http://localhost"};break;case"HEAD":case"OPTIONS":throw new Error("HTTP method not yet supported !");default:throw new Error("HTTP method unknown !")}switch(e.format){case"text":this.__call(n).then((function(n){t.trace(n),e.onResponse.call(this,n)})).catch((function(t){e.onFailure.call(this,t)}));break;case"json":this.__callJSON(n).then((function(n){t.trace(n),e.onResponse.call(this,n)})).catch((function(t){e.onFailure.call(this,t)}));break;case"xml":this.__callXML(n).then((function(n){t.trace(n),e.onResponse.call(this,n)})).catch((function(t){e.onFailure.call(this,t)}));break;default:throw new Error("This output Format is not yet supported !")}},__call:function(e){var t=o.getLogger("XHR");t.trace("[XHR::__call()]");var i=new Promise((function(i,r){var o="POST"===e.method||"PUT"===e.method?1:0;e.data&&("object"===typeof e.data&&Object.keys(e.data).length||"string"===typeof e.data&&e.data.length)&&!o&&(e.url=u.normalyzeUrl(e.url,e.data)),t.trace("URL = ",e.url);var a=null;if("undefined"===typeof window){var s=n(3092),l={headers:{Referer:"https://localhost"}};return e.data&&"string"===typeof e.data&&o&&(l={method:e.method,body:e.data,headers:{"Content-Type":e.content,Referer:"https://localhost"}}),s(e.url,l).then((function(e){if(e.ok)i(e.text());else{var t="Errors Occured on Http Request (status : '"+e.statusText+"' | url : '"+e.url+"')",n=e.status;r({message:t,status:n})}})).catch((function(e){r({message:e,status:-1})}))}if(window.XMLHttpRequest){t.trace("XMLHttpRequest"),a=new XMLHttpRequest,a.open(e.method,e.url,!0),a.overrideMimeType=e.content;var c=null;e.timeOut>0&&(t.trace("XHR - TimeOut actif !"),c=window.setTimeout((function(){var e="TimeOut Occured on Http Request with XMLHttpRequest !";r({message:e,status:-1})}),e.timeOut)),o&&(t.trace("data = ",e.data),a.setRequestHeader("Content-type",e.content)),a.onerror=function(e){console.log(e),r(new Error("Errors Occured on Http Request with XMLHttpRequest !"))},a.ontimeout=function(e){console.log(e),r(new Error("TimeOut Occured on Http Request with XMLHttpRequest !"))},a.onreadystatechange=function(e){if(4===a.readyState)if(200===a.status)window.clearTimeout(c),i(a.response);else{var t="Errors Occured on Http Request (status : '"+e.target.statusText+"' | url : '"+e.target.responseURL+"' | response : '"+e.target.response+"')",n=e.target.status;r({message:t,status:n})}};var h=e.data&&o?e.data:null;a.send(h)}else{if(!window.XDomainRequest)throw new Error("CORS not supported");t.trace("XDomainRequest"),a=new XDomainRequest,a.open(e.method,e.url),a.overrideMimeType=e.content,e.timeOut>0&&(a.timeout=e.timeout,t.trace("XHR - TimeOut actif !")),o&&a.setRequestHeader("Content-type",e.content),a.onerror=function(){r(new Error("Errors Occured on Http Request with XMLHttpRequest !"))},a.ontimeout=function(){r(new Error("TimeOut Occured on Http Request with XMLHttpRequest !"))},a.onload=function(e){if(200===a.status)i(a.responseText);else{var t="Errors Occured on Http Request (status : '"+e.target.statusText+"' | url : '"+e.target.responseURL+"')",n=e.target.status;r({message:t,status:n})}};var d=e.data&&o?e.data:null;a.send(d)}}));return i},__callJSON:function(e){return this.__call(e).then(JSON.parse).catch((function(t){console.log("_callJSON failed on : ",e.url,t)}))},__callXML:function(e){return this.__call(e).then((function(e){var t;if("undefined"===typeof window){var i=n(9788).S;t=(new i).parseFromString(e,"text/xml")}else if(window.DOMParser){var r=new window.DOMParser;t=r.parseFromString(e,"text/xml")}else t=new window.ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.loadXML(e);return t})).catch((function(t){console.log("__callXML failed on : ",e.url,t)}))}},p=d,g={uuid:function(){var e=Math.floor(Date.now());return function(){return e++}}(),call:function(e){var t=o.getLogger("JSONP");if(t.trace("[JSONP::call ()]"),!e)throw t.error("missing parameter : options !"),new Error("missing parameter : options !");if(!e.url)throw t.error("missing parameter : options.url !"),new Error("missing parameter : options.url !");if(e.timeOut||(t.info("setting 'options.timeOut' default value"),e.timeOut=0),!e.onResponse)throw t.error("missing parameter : options.onResponse !"),new Error("missing parameter : options.onResponse !");var n="string"===typeof e.callbackSuffix?e.callbackSuffix:this.uuid(),i=!1,r=!1,a=e.url.indexOf("callback=");if(-1!==a){i=!0;var s=e.url.indexOf("&",a);-1===s&&(s=e.url.length);var l=e.url.substring(a+9,s);l&&(r=!0,e.callbackName=l,t.info("setting 'options.callbackName' value ("+e.callbackName+") from 'options.url' parameter"))}if(!i){var u=e.url.indexOf("?");-1===u?e.url=e.url+"?callback=":u===e.url.length?e.url=e.url+"callback=":e.url=e.url+"&callback=",t.info("setting callback default key in 'options.url' : "+e.url)}var c=!!e.callbackName||r;if(r||(e.callbackName||(t.info("setting 'options.callbackName' default value"),e.callbackName="callback",(n||""===n)&&(e.callbackName+=n)),e.url=e.url.replace("callback=","callback="+e.callbackName),t.info("setting callback function name in 'options.url' : "+e.url)),e.onTimeOut||(t.info("setting 'options.onTimeOut' default value"),e.onTimeOut=function(){console.log("TimeOut while invoking url : "+e.url)}),!c){var h=this,d=null;e.timeOut>0&&(d=window.setTimeout((function(){window[e.callbackName]=function(){},e.onTimeOut(),h._deleteScript(n)}),e.timeOut)),window[e.callbackName]=function(t){window.clearTimeout(d),e.onResponse(t),h._deleteScript(n)}}this._createScript(n,e.url)},_createScript:function(e,t){var n,i=document.getElementById("results"+e);n=document.createElement("script"),n.setAttribute("type","text/javascript"),n.setAttribute("src",t),n.setAttribute("charset","UTF-8"),n.setAttribute("id","results"+e),n.setAttribute("async","true");var r=document.documentElement||document.getElementsByTagName("head")[0];null===i?r.appendChild(n):r.replaceChild(n,i)},_deleteScript:function(e){var t=document.getElementById("results"+e);if(t){var n=t.parentNode||document.documentElement;if(!n)return;n.removeChild(t)}}},f=g,m={send:function(e){var t=e||{method:"GET",protocol:"XHR",timeOut:0,format:null,wrap:!0,nocache:!0,output:"json",callback:null,callbackSuffix:null};if("undefined"!==typeof window||"JSONP"!==e.protocol){if("XHR"===e.protocol||"json"===e.format?t.wrap=!1:"JSONP"===e.protocol&&"xml"===e.format&&(t.wrap=!0),t.callback=null,t.output=t.wrap?"json":null,t.wrap){var n={};n.output=t.output,n.callback=t.callback,delete n.callback,t.url=u.normalyzeUrl(e.url,n)}switch(t.protocol){case"XHR":"GET"===e.method&&e.nocache&&(t.url=u.normalyzeUrl(t.url,{t:(new Date).getTime()})),p.call(t);break;case"JSONP":t.data&&(t.url=u.normalyzeUrl(t.url,t.data)),f.call(t);break;default:throw new Error("protocol not supported (XHR|JSONP) !")}}else console.log("Value (s) for parameter (s) 'protocol=JSONP (instead use XHR)' not supported to NodeJS")}},v=m;function y(e){if(!(this instanceof y))throw new TypeError("ErrorService constructor cannot be called as a function.");var t=e;"string"===typeof e||e instanceof String?(this.message=e,this.status=-1,this.type=y.TYPE_UNKERR):(this.message=t.message||"undefined!?",this.type=t.type,this.status=t.status||-1),this.name="ErrorService",this.stack=(new Error).stack}y.TYPE_SRVERR="SERVICE_ERROR",y.TYPE_USEERR="USAGE_ERROR",y.TYPE_UNKERR="UNKNOWN_ERROR",y.prototype=Object.create(Error.prototype,{constructor:{value:y,writable:!0,configurable:!0}});var A=y,_=JSON.parse('{"rE":"3.4.0","p6":"18/03/2024"}');function C(e){if(!(this instanceof C))throw new TypeError(s.getMessage("CLASS_CONSTRUCTOR"));for(var t in this.logger=o.getLogger("CommonService"),this.logger.trace("[Constructeur CommonService (options)]"),this.options={protocol:"XHR",ssl:!0,proxyURL:"",callbackSuffix:null,httpMethod:"GET",timeOut:0,rawResponse:!1,scope:this,onSuccess:function(e){console.log("onSuccess - la reponse est la suivante : ",e)},onFailure:function(e){200!==e.status&&e.status?console.log("onFailure - Erreur (",e.status,") : ",e.message):console.log("onFailure : ",e.message)}},e)e.hasOwnProperty(t)&&(this.options[t]=e[t]);this.options.rawResponse&&!this.options.onSuccess&&(this.options.onSuccess=function(e){console.log("onSuccess - la réponse brute du service est la suivante : ",e)});var n=!(null===this.options.onSuccess||"function"!==typeof this.options.onSuccess);if(!n)throw new Error(s.getMessage("PARAM_MISSING","onSuccess()"));switch(this.options.httpMethod="string"===typeof e.httpMethod?e.httpMethod.toUpperCase():"GET",this.options.httpMethod){case"POST":case"GET":break;case"PUT":case"DELETE":case"HEAD":case"OPTIONS":throw new Error(s.getMessage("PARAM_NOT_SUPPORT","httpMethod"));default:throw new Error(s.getMessage("PARAM_UNKNOWN","httpMethod"))}switch(this.options.protocol="string"===typeof e.protocol?e.protocol.toUpperCase():"XHR",this.options.protocol){case"JSONP":case"XHR":break;default:throw new Error(s.getMessage("PARAM_UNKNOWN","protocol"))}if("undefined"===typeof window&&"JSONP"===this.options.protocol)throw new Error(s.getMessage("PARAM_NOT_SUPPORT_NODEJS","protocol=JSONP (instead use XHR)"));"JSONP"===this.options.protocol&&(this.options.httpMethod="GET"),this.options.nocache=e.nocache||!1,this.options.outputFormat=null,this.request=null,this.response=null}C.prototype={constructor:C,call:function(){this.logger.trace("CommonService::call ()");var e=this;function t(){this.logger.trace("CommonService::run ()"),this.buildRequest.call(e,o,n)}function n(t){this.logger.trace("CommonService::onBuildRequest : ",t),this.callService.call(e,o,i)}function i(t){this.logger.trace("CommonService::onCallService : ",t),this.analyzeResponse.call(e,o,r)}function r(e){if(this.logger.trace("CommonService::onAnalyzeResponse : ",e),!e)return o.call(this,new A("Analyse de la reponse en échec !?"));this.options.onSuccess.call(this,e)}function o(e){this.logger.trace("CommonService::onError()");var t=e;t instanceof A||(t=new A(e.message)),this.options.onFailure.call(this,t)}t.call(e)},buildRequest:function(e,t){this.logger.error("overwritten method !"),e&&e.call(this,"This method must be overwritten !"),t.call(this,"This method must be overwritten !")},callService:function(e,t){var n=null,i=this.request,r=!(!this.options.proxyURL||"XHR"!==this.options.protocol),o={"gp-access-lib":_.rE};this.options.apiKey&&(o.apiKey=this.options.apiKey),this.options.serverUrl=u.normalyzeUrl(this.options.serverUrl,o,!1),r&&("GET"===this.options.httpMethod&&(n=this.options.proxyURL+u.normalyzeUrl(this.options.serverUrl,this.request,!0),i=null),"POST"===this.options.httpMethod&&(n=this.options.proxyURL+u.normalyzeUrl(this.options.serverUrl,null,!0),i=this.request));var a=this,s={url:n||this.options.serverUrl,method:this.options.httpMethod,protocol:this.options.protocol,timeOut:this.options.timeOut||0,format:this.options.outputFormat,nocache:this.options.nocache||!1,wrap:"XHR"!==this.options.protocol,callbackSuffix:this.options.callbackSuffix,data:i,headers:null,content:this.options.contentType||"application/xml",scope:this.options.scope||this,onResponse:function(n){a.logger.trace("callService::onResponse()");var i=null;if("XHR"===a.options.protocol&&(a.logger.trace("Response XHR",n),i=n),"JSONP"===a.options.protocol){if(a.logger.trace("Response JSON",n),!n)return void e.call(a,new A("Le contenu de la reponse est vide !?"));if(n.http){if(200!==n.http.status)return void e.call(a,new A({status:n.http.status,message:n.http.error,type:A.TYPE_SRVERR}));i=n.xml,a.options.rawResponse&&(i=n)}else i=n}if("function"===typeof a.options.onBeforeParse){var r=a.options.onBeforeParse(i);"string"===typeof r&&(i=r)}a.response=i,t.call(a,i)},onFailure:function(t){a.logger.trace("callService::onFailure()"),t.type=A.TYPE_SRVERR,e.call(a,new A(t))},onTimeOut:function(){a.logger.trace("callService::onTimeOut()"),e.call(a,new A("TimeOut!"))}};v.send(s)},analyzeResponse:function(e,t){this.logger.error("overwritten method !"),e&&e.call(this,"This method must be overwritten !"),t.call(this,"This method must be overwritten !")}};var I=C,E={ssl:!0,newUrl:function(e){var t,n="data.geopf.fr";return t=!1===E.ssl?"http://":"https://",t+n+e},Alti:{new_key:{"elevation-json":"/altimetrie/1.0/calcul/alti/rest/elevation.json","elevation-xml":"/altimetrie/1.0/calcul/alti/rest/elevation.xml","profil-json":"/altimetrie/1.0/calcul/alti/rest/elevationLine.json","profil-xml":"/altimetrie/1.0/calcul/alti/rest/elevationLine.xml"},newUrl:function(){return{"elevation-json":E.newUrl(this.new_key["elevation-json"]),"elevation-xml":E.newUrl(this.new_key["elevation-xml"]),"profil-json":E.newUrl(this.new_key["profil-json"]),"profil-xml":E.newUrl(this.new_key["profil-xml"])}}},ProcessIsoCurve:{new_key:"/navigation/isochrone",newUrl:function(){return E.newUrl(this.new_key)}},Config:{_key:"https://raw.githubusercontent.com/IGNF/geoportal-configuration/new-url/dist/",url:function(e){Array.isArray(e)||(e=e.split(","));for(var t=[],n=0;n<e.length;n++)t[n]=this._key+e[n]+"Config.json";return t}},AutoComplete:{new_key:"/geocodage/completion",newUrl:function(){return E.newUrl(this.new_key)}},ReverseGeocode:{new_key:"/geocodage/reverse",newUrl:function(){return E.newUrl(this.new_key)}},Geocode:{new_key:"/geocodage/search",newUrl:function(){return E.newUrl(this.new_key)}},Route:{new_key:"/navigation/itineraire",newUrl:function(){return E.newUrl(this.new_key)}}},w=E;function b(){if(!(this instanceof b))throw new TypeError("ConfigInterface constructor cannot be called as a function.");this.generalOptions={apiKeys:{},title:null,defaultGMLGFIStyle:null,theme:null,wgs84Resolutions:[]},this.layers={},this.tileMatrixSets={}}b.prototype={constructor:b,isKeyConfLoaded:function(e){if(e)return!!this.generalOptions.apiKeys[e]},getLayersId:function(e){return this.generalOptions.apiKeys[e]},getLayerId:function(e,t){if(e&&t){var n=null;if(this.layers){var i=this.layers;for(var r in i)if(i.hasOwnProperty(r)){var o=r.split("$");if(e===o[0]&&o[1]){var a=o[1].split(":"),s=o[1].split(";");if(s[1]===t.toUpperCase()){n=r;break}if(a[2]===t.toUpperCase()){n=r;break}}}}if(n)return n}},getLayersConf:function(e){var t={},n=this.getLayersId(e);if(n)for(var i=0;i<n.length;i++){var r=n[i];t[r]=this.layers[r]}return t},getLayerConf:function(e){if(this.layers)return this.layers[e]},getLayerParams:function(e,t){var n={};if(("WMS"===t||0!==Object.keys(this.tileMatrixSets).length)&&0!==Object.keys(this.layers).length){var i=this.getLayerId(e,t);if(i){var r=this.getLayerConf(i),o=this.getLayerKey(i);if(0===o.length)return;for(var a=0;a<o.length;a++)r.serviceParams.serverUrl[o[a]]&&(n.url=r.serviceParams.serverUrl[o[a]]);const e=/\/v\//;if(e.test(n.url)?n.styles=" ":n.styles=r.styles[0].name,n.version=r.serviceParams.version,n.format=r.formats[0].name,n.projection=r.defaultProjection,n.minScale=r.globalConstraint.minScaleDenominator,n.maxScale=r.globalConstraint.maxScaleDenominator,n.extent=r.globalConstraint.bbox,n.legends=r.legends,n.title=r.title,n.description=r.description,"WMS"===t&&(n.metadata=r.metadata),r.wmtsOptions){n.tileMatrixSetLimits=r.wmtsOptions.tileMatrixSetLimits;var s=r.wmtsOptions.tileMatrixSetLink;if(s){n.TMSLink=s;var l=this.getTMSConf(s);n.matrixIds=Object.keys(l.tileMatrices),n.tileMatrices=l.tileMatrices,n.nativeResolutions=l.nativeResolutions||this.getTMSConf("PM").nativeResolutions}}}}return n},getLayerKey:function(e){var t=[];if(this.generalOptions&&this.generalOptions.apiKeys&&0!==Object.keys(this.generalOptions.apiKeys).length){var n=this.generalOptions.apiKeys;for(var i in n){var r=n[i];r.forEach((function(n){n===e&&t.push(i)}))}}return t},getTileMatrixSets:function(){return this.tileMatrixSets},getTMSConf:function(e){if(this.tileMatrixSets)return this.tileMatrixSets[e]},getGlobalConstraints:function(e){var t={};if(e){var n=this.getLayerConf(e);t.projection=n.defaultProjection,t.minScale=n.globalConstraint.minScaleDenominator,t.maxScale=n.globalConstraint.maxScaleDenominator,t.extent=n.globalConstraint.bbox}return t}};var x=b;function S(e){if(!(this instanceof S))throw new TypeError(s.getMessage("CLASS_CONSTRUCTOR","Config"));this.CLASSNAME="Config",this.logger=o.getLogger("Gp.Config"),this.logger.trace("[Constructeur Config (options)]");var t=!(null===e.onSuccess||"function"!==typeof e.onSuccess);if(!t)throw new Error(s.getMessage("PARAM_MISSING","onSuccess()"));e.apiKey||e.customConfigFile||(e.apiKey="full"),this.options={},this.options.onSuccess=e.onSuccess,this.options.onFailure=e.onFailure,this.options.sync=e.sync||!1,this.options.listConfigUrls=e.customConfigFile?[e.customConfigFile]:Array.isArray(e.apiKey)?w.Config.url(e.apiKey):w.Config.url(e.apiKey.split(","))}S.prototype=Object.create(I.prototype,{}),S.prototype.constructor=S,S.prototype.buildRequest=function(e,t){this.listConfigUrls=this.options.listConfigUrls,this.listConfigUrls?t.call(this,this.listConfigUrls):e.call(this,new Error("url by default not found !"))},S.prototype.callService=function(e,t){this.options.sync?M.call(this,e,t):P.call(this,e,t)};var P=function(e,t){this.listConfigResults=[];let i=null;if("undefined"===typeof window){var r=n(3092);i=r}else i=window.fetch;var o=e=>i(e,{credentials:"same-origin"}).then((e=>{if(e.ok)return e.json().then((e=>e)).catch((e=>{throw new Error("Exception Json : "+e)}));throw new Error("Exception HTTP : "+e.status+" (status code) !")})).catch((e=>new Promise(((t,n)=>{n(e)})))),a=[];for(let n=0;n<this.listConfigUrls.length;n++){const e=this.listConfigUrls[n];a.push(o(e))}Promise.all(a).then((e=>{if(!e)throw new Error("results config empty !?");e.forEach((e=>{this.listConfigResults.push(e)}))})).then((()=>{t.call(this,this.listConfigResults)})).catch((t=>{e.call(this,t)}))},M=function(e,t){this.listConfigResults=[];for(var n=0;n<this.listConfigUrls.length;n++){const e=this.listConfigUrls[n],t=new XMLHttpRequest;if(t.open("GET",e,!1),t.send(null),200===t.status){var i=JSON.parse(t.responseText);this.listConfigResults.push(i)}}0!==this.listConfigResults.length?t.call(this,this.listConfigResults):e.call(this,new Error("..."))};S.prototype.analyzeResponse=function(e,t){var n=function(e){for(var t={},n={},i={},r=0;r<e.length;r++){if(!e[r].generalOptions||!e[r].layers)return;n={...n,...e[r].generalOptions.apiKeys},t={...t,...e[r].layers},i={...i,...e[r].tileMatrixSets}}var o={generalOptions:{apiKeys:n},layers:t,tileMatrixSets:i};return o},i=n(this.listConfigResults);if(i){var r=new x;Object.assign(r,i);var o="undefined"!==typeof window?window:{};if(o.Gp||(o.Gp={}),o.Gp.Config)for(var a in Object.assign(o.Gp.Config,r),r)o.Gp.Config[a]=r[a];else o.Gp.Config=r;t.call(this,o.Gp.Config)}else e.call(this,new Error("configuration structure not conforme !"))};var k=S;function R(e){if(!(this instanceof R))throw new TypeError("AltiRequest constructor cannot be called as a function.");this.logger=o.getLogger(),this.logger.trace("[Constructeur AltiRequest ()]"),this.options=e||{},this.positions=this.options.positions||[],this.delimiter=this.options.delimiter||"|",this.indent=this.options.indent||!1,this.crs=this.options.crs||"CRS:84",this.format=this.options.format||"json",this.resource=this.options.resource,this.measures=this.options.measures||!1}R.CLASSNAME="AltiRequest",R.prototype={constructor:R,setPositions:function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];i.lon&&i.lat&&t.push(i)}this.positions=t},getPositions:function(e){if(!e)return this.positions;var t=this.positions.length-1;return e>t||e<t?(this.logger.warn("index out of range !"),this.positions):this.positions[e]},addPositions:function(e){for(var t=0;t<e.length;t++){var n=e[t];n.lon&&n.lat&&this.positions.push(e[t])}},getLon:function(){for(var e=[],t=0;t<this.positions.length;t++)e.push(this.positions[t].lon);return this.logger.trace(e),e.join(this.delimiter)},getLat:function(){for(var e=[],t=0;t<this.positions.length;t++)e.push(this.positions[t].lat);return this.logger.trace(e),e.join(this.delimiter)}},R.prototype.getData=function(){var e=[];return e.push({k:"lon",v:this.getLon()}),e.push({k:"lat",v:this.getLat()}),e.push({k:"delimiter",v:this.delimiter}),e.push({k:"indent",v:this.indent}),e.push({k:"crs",v:this.crs}),e.push({k:"format",v:this.format}),e};var T=R;function L(e){if(!(this instanceof L))throw new TypeError("AltiElevationRequest constructor cannot be called as a function.");this.CLASSNAME="AltiElevationRequest",T.apply(this,arguments),this.logger=o.getLogger(),this.logger.trace("[Constructeur AltiElevationRequest ()]"),this.zonly=this.options.zonly||!1}L.prototype=Object.create(T.prototype,{zonly:{get:function(){return this._zonly},set:function(e){this._zonly=e}}}),L.prototype.constructor=L,L.prototype.getData=function(){var e=[];return e.push({k:"lon",v:this.getLon()}),e.push({k:"lat",v:this.getLat()}),e.push({k:"indent",v:this.indent}),e.push({k:"crs",v:this.crs}),e.push({k:"zonly",v:this.zonly}),e.push({k:"format",v:this.format}),e.push({k:"resource",v:this.resource}),e};var G=L;function O(e){if(!(this instanceof O))throw new TypeError("AltiProfilRequest constructor cannot be called as a function.");this.CLASSNAME="AltiProfilRequest",T.apply(this,arguments),this.logger=o.getLogger(),this.logger.trace("[Constructeur AltiProfilRequest ()]"),this.sampling=this.options.sampling||3}O.prototype=Object.create(T.prototype,{sampling:{get:function(){return this._sampling},set:function(e){this._sampling=e}}}),O.prototype.constructor=O,O.prototype.getData=function(){var e=[];return e.push({k:"lon",v:this.getLon()}),e.push({k:"lat",v:this.getLat()}),e.push({k:"indent",v:this.indent}),e.push({k:"crs",v:this.crs}),e.push({k:"sampling",v:this.sampling}),e.push({k:"format",v:this.format}),e.push({k:"resource",v:this.resource}),e};var D=O;function N(e){if(this.logger=o.getLogger("AltiRequestREST"),this.logger.trace("[Constructeur AltiRequestREST ()]"),!(this instanceof N))throw new TypeError("AltiRequestREST constructor cannot be called as a function.");if(this.options=e||{},!this.options)throw new Error(s.getMessage("PARAM_EMPTY","options"));if(!this.options.type)throw new Error(s.getMessage("PARAM_EMPTY","type (Elevation or Profil)"));switch(this.DataObject=null,this.options.type){case"Elevation":this.DataObject=new G(this.options.param);break;case"Profil":this.DataObject=new D(this.options.param);break;default:throw new Error(s.getMessage("PARAM_TYPE","type (Elevation or Profil)"))}this.method=this.options.method||"GET"}N.prototype={requestString:null,constructor:N,template:{get:{value:"lon=__LON__&lat=__LAT__&indent=__INDENT__&crs='__CRS__'&resource=__RESOURCE__&measures=__MEASURES__",input:{point:"&zonly=__ZONLY__",profil:"&sampling=__SAMPLING__"}},post:{value:"lon=__LON__\nlat=__LAT__\nindent=__INDENT__\ncrs='__CRS__'\nresource='__RESOURCE__'\nmeasures='__MEASURES__'\n",input:{point:"zonly=__ZONLY__\n",profil:"sampling=__SAMPLING__"}}},processRequestString:function(){this.logger.trace("AltiRequestREST::processRequestString ()");var e="";return"POST"===this.method?e=this.template.post.value:"GET"===this.method&&(e=this.template.get.value),e=e.replace(/__LON__/g,this.DataObject.getLon()),e=e.replace(/__LAT__/g,this.DataObject.getLat()),e=e.replace(/__INDENT__/g,this.DataObject.indent),e=e.replace(/__CRS__/g,this.DataObject.crs),e=e.replace(/__RESOURCE__/g,this.DataObject.resource),e=e.replace(/__MEASURES__/g,this.DataObject.measures),e+=this.__addDataInputs(),this.logger.trace("traduction tmpl",e),this.requestString=e,this.requestString},__addDataInputs:function(){var e;if(this.logger.trace("AltiRequestREST::addDataInput ()"),"POST"===this.method)e=this.template.post;else{if("GET"!==this.method)throw new Error("No other HTTP method supported by the service !");e=this.template.get}var t=null;if("AltiElevationRequest"===this.DataObject.CLASSNAME)return t=e.input.point,t.replace(/__ZONLY__/g,this.DataObject.zonly.toString());if("AltiProfilRequest"===this.DataObject.CLASSNAME)return t=e.input.profil,t.replace(/__SAMPLING__/g,this.DataObject.sampling);throw new Error("No other object supported than elevation or profil !?")}};var F=N;function U(e){if(this.logger=o.getLogger(),this.logger.trace("[Constructeur WPS()]"),!(this instanceof U))throw new TypeError("WPS constructor cannot be called as a function.");if(this.options=e||{},this.DataObject=this.options.data,!this.DataObject)throw new TypeError("This data object is not defined !");this.paramservice=this.options.param.service||"WPS",this.paramversion=this.options.param.version||"1.0.0",this.paramidentifier=this.options.param.identifier||"gs:WPS",this.paramrawdataoutput=this.options.param.rawdataoutput||"result",this.paramrequest=this.options.param.request||"Execute",this.method=this.options.method||"GET"}U.prototype={requestString:null,constructor:U,template:{get:{value:"service=__SERVICE__&version=__VERSION__&rawdataoutput=__RAWDATAOUTPUT__&identifier=__IDENTIFIER__&request=__REQUEST__&datainputs=\x3c!-- __DATAINPUTS__ --\x3e",input:"__KEY__=__DATA__"},post:{value:'<?xml version="1.0" encoding="UTF-8"?><wps:__REQUEST__ version="__VERSION__" service="__SERVICE__" __NAMESPACE__ __SCHEMALOCATION__><ows:Identifier>__IDENTIFIER__</ows:Identifier><wps:DataInputs>\x3c!-- __DATAINPUTS__ --\x3e</wps:DataInputs><wps:ResponseForm><wps:RawDataOutput><ows:Identifier>__RAWDATAOUTPUT__</ows:Identifier></wps:RawDataOutput></wps:ResponseForm></wps:__REQUEST__>',input:"<wps:Input><ows:Identifier>__KEY__</ows:Identifier><wps:Data><wps:LiteralData>__DATA__</wps:LiteralData></wps:Data></wps:Input>"}},namespaceByDefault:function(){var e=['xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"','xmlns="http://www.opengis.net/wps/1.0.0"','xmlns:wfs="http://www.opengis.net/wfs"','xmlns:wps="http://www.opengis.net/wps/1.0.0"','xmlns:ows="http://www.opengis.net/ows/1.1"','xmlns:gml="http://www.opengis.net/gml"','xmlns:ogc="http://www.opengis.net/ogc"','xmlns:wcs="http://www.opengis.net/wcs/1.1.1"','xmlns:xlink="http://www.w3.org/1999/xlink"'];return e.join(" ")},schemaLocationByDefault:function(){return'xsi:schemaLocation="http://www.opengis.net/wps/1.0.0 http://schemas.opengis.net/wps/1.0.0/wpsAll.xsd"'},processRequestString:function(){this.logger.trace("WPS::processRequestString ()");var e="";if("POST"===this.method)e=this.template.post.value;else{if("GET"!==this.method)return this.logger.error("No other method supported by the service !"),!1;e=this.template.get.value}return e=e.replace(/__SERVICE__/g,this.paramservice),e=e.replace(/__VERSION__/g,this.paramversion),e=e.replace(/__RAWDATAOUTPUT__/g,this.paramrawdataoutput),e=e.replace(/__IDENTIFIER__/g,this.paramidentifier),e=e.replace(/__REQUEST__/g,this.paramrequest),"POST"===this.method&&(e=e.replace(/__NAMESPACE__/g,this.namespaceByDefault),e=e.replace(/__SCHEMALOCATION__/g,this.schemaLocationByDefault)),e=e.replace(/<!-- __DATAINPUTS__ -->/g,this.__addDataInputs()),e?(this.requestString=e,this.logger.trace("traduction tmpl",e),!0):(this.logger.warn("traduction tmpl : empty request !?"),!1)},__addDataInputs:function(){this.logger.trace("WPS::__addDataInputs ()");for(var e="GET"===this.method?this.template.get.input:this.template.post.input,t="GET"===this.method?";":"",n="",i=this,r=this.DataObject.getData(),o=0;o<r.length;o++)(function(o){t&&(t=o===r.length-1?"":";"),n=n.concat(i.__addDataInput(e,r[o].k,r[o].v),t)})(o);return n},__addDataInput:function(e,t,n){var i=e;return i=i.replace(/__KEY__/g,t),i=i.replace(/__DATA__/g,n),i},setMethod:function(e){"GET"===e||"POST"===e?this.method=e:this.logger.warn("support only GET and POST method !")},getMethod:function(){return this.method}};var B=U,j={build:function(e){var t=o.getLogger("AltiRequestWPS");if(t.trace(["AltiRequestWPS::build()"]),!e)throw new Error(s.getMessage("PARAM_EMPTY","options"));if(!e.type)throw new Error(s.getMessage("PARAM_EMPTY","type (Elevation or Profil)"));var n=null;switch(e.type){case"Elevation":e.wps.identifier="gs:WPSElevation",n=new G(e.param);break;case"Profil":e.wps.identifier="gs:WPSLineElevation",n=new D(e.param);break;default:throw new Error(s.getMessage("PARAM_TYPE","type (Elevation or Profil)"))}var i={data:n,method:e.method,param:e.wps},r=new B(i);if(!r.processRequestString())throw new Error("Enable to process request !");return r.requestString}},z=j,W={build:function(e){var t=o.getLogger("AltiRequestFactory");t.trace(["AltiRequestFactory::build()"]);var n=null,i={type:e.sampling?"Profil":"Elevation",method:e.httpMethod,param:{positions:null,delimiter:null,indent:null,crs:null,format:null,sampling:null,zonly:null,measures:null}};i.param.positions=e.positions,i.param.format=e.outputFormat,i.param.sampling=e.sampling,i.param.zonly=e.zonly,i.param.measures=e.measures,i.param.resource=e.resource;var r=!(null===e.onError||"function"!==typeof e.onError),a=!(null===e.onSuccess||"function"!==typeof e.onSuccess),s=null;switch(e.api){case"REST":var l=new F(i);if(!l.processRequestString()){if(s="Error in process request (rest) !",r)return void e.onError.call(e.scope,new A(s));throw new Error(s)}n=l.requestString;break;case"WPS":if(i.wps={service:null,version:null,identifier:null,rawdataoutput:null,request:null},n=z.build(i),!n){if(s="Error in process request (wps) !",r)return void e.onError.call(e.scope,new A(s));throw new Error(s)}break;default:if(s="Type of API is not supported by service (REST or WPS) !",r)return void e.onError.call(e.scope,new A(s));throw new Error(s)}return a&&e.onSuccess.call(e.scope,n),n}},V=W;function Y(e){if(!(this instanceof Y))throw new TypeError("XML constructor cannot be called as a function.");this.logger=o.getLogger(),this.logger.trace("[Constructeur XML ()]"),this.xmlString=null,this.xmlDoc=null,this.reader=null,e&&(e.xmlString&&"string"===typeof e.xmlString&&(this.xmlString=e.xmlString,this.xmlDoc=H(e.xmlString)),e.reader&&this.setReader(e.reader))}function H(e){if("undefined"===typeof window){var t=n(9788).S;return(new t).parseFromString(e,"text/xml")}var i,r,o="Erreur lors du parsing de la réponse du service : XML non conforme";if(window.ActiveXObject){r=new window.ActiveXObject("Microsoft.XMLDOM"),r.async=!1,r.loadXML(e);var a=r.parseError;if(a.errorCode)throw a.line&&a.linepos&&(o+="( ligne "+a.line+", colonne "+a.linepos),a.reason&&(o+=":  "+a.reason+")"),new Error(o);return r}if(window.DOMParser){i=new window.DOMParser;try{r=i.parseFromString(e,"text/xml")}catch(c){throw"SyntaxError"===c.message?new Error(o):new Error("Erreur lors du parsing de la réponse du service : "+c.message)}if(r.getElementsByTagName("parsererror").length>0)for(var s=r.getElementsByTagName("parsererror"),l=0;l<s.length;l++){var u=s[l].innerHTML;if(-1===u.indexOf("Huge input lookup"))throw o+="("+u+")",new Error(o)}else if(!r.documentElement)throw new Error(o);return r}throw new Error("Incompatible DOM Parser pour ce navigateur !")}function q(e){var t;return 9===e.nodeType?t=e.documentElement:1===e.nodeType&&(t=e),t}function X(e){var t={};if(e.attributes.length>0){var n=Z(e);t["attributes"]=n}if(e.hasChildNodes())for(var i,r={},o=e.childNodes,a=0;a<o.length;a++)if(i=o[a],3===i.nodeType)t["textContent"]=i.nodeValue;else if(1===i.nodeType)if(r=X(i),t[i.nodeName]){if(!Array.isArray(t[i.nodeName])){var s=t[i.nodeName];t[i.nodeName]=[],t[i.nodeName].push(s)}t[i.nodeName].push(r)}else t[i.nodeName]=r;return t}function Z(e){if(e.attributes.length>0){for(var t={},n=e.attributes,i=0;i<n.length;i++){var r=n[i];t[r.nodeName]=r.nodeValue}return t}}Y.prototype={constructor:Y,getXMLString:function(){return this.xmlString},setXMLString:function(e){e&&"string"===typeof e&&(this.xmlString=e,this.xmlDoc=H(e))},getReader:function(){return this.reader},setReader:function(e){e&&e.read&&"function"===typeof e.read&&(this.reader=e)},getXMLDoc:function(){return this.xmlDoc},setXMLDoc:function(e){this.xmlDoc=e},parse:function(){if(!this.xmlDoc&&this.xmlString&&(this.xmlDoc=H(this.xmlString)),this.xmlDoc){var e,t=q(this.xmlDoc);return t?(this.reader&&this.reader.read?e=this.reader.read(t):(e={},e[t.nodeName]=X(t)),e):{}}}};var K=Y;function J(){if(!(this instanceof J))throw new TypeError("AltiResponse constructor cannot be called as a function.");this.elevations=[]}J.prototype={constructor:J};var Q=J;function $(){if(!(this instanceof $))throw new TypeError("Elevation constructor cannot be called as a function.");this.z=null}$.prototype={constructor:$};var ee=$;function te(){if(!(this instanceof te))throw new TypeError("Measure constructor cannot be called as a function.");this.source_name=null,this.source_measure=null,this.z=null,this.acc=null}te.prototype={constructor:te};var ne=te,ie={};ie.READERS={elevations:function(e){var t=new Q;if(e.hasChildNodes())for(var n,i,r=e.childNodes,o=0;o<r.length;o++)n=r[o],ie.READERS[n.nodeName]&&(i=ie.READERS[n.nodeName](n),t.elevations.push(i));return t},elevation:function(e){var t=new ee;if(e.hasChildNodes())for(var n,i=e.childNodes,r=0;r<i.length;r++)n=i[r],ie.READERS[n.nodeName]&&ie.READERS[n.nodeName](n,t);return t},lat:function(e,t){var n=e.firstChild;if(!n||3!==n.nodeType)throw new Error("Erreur dans la lecture de la réponse du service : latitude attendue mais absente");t.lat=parseFloat(n.nodeValue)},lon:function(e,t){var n=e.firstChild;if(!n||3!==n.nodeType)throw new Error("Erreur dans la lecture de la réponse du service : longitude attendue mais absente");t.lon=parseFloat(n.nodeValue)},z:function(e,t){var n=e.firstChild;if(!n||3!==n.nodeType)throw new Error("Erreur dans la lecture de la réponse du service : altitude attendue mais absente");if(!t)return t=new ee,t.z=parseFloat(n.nodeValue),t;t.z=parseFloat(n.nodeValue)},acc:function(e,t){var n=e.firstChild;if(!n||3!==n.nodeType)throw new Error("Erreur dans la lecture de la réponse du service : précision (acc) attendue mais absente");t.acc=parseFloat(n.nodeValue)},source_name:function(e,t){var n=e.firstChild;if(!n||3!==n.nodeType)throw new Error("Erreur dans la lecture de la réponse du service : source_name attendue mais absente");t.source_name=n.nodeValue},source_measure:function(e,t){var n=e.firstChild;if(!n||3!==n.nodeType)throw new Error("Erreur dans la lecture de la réponse du service : source_measure attendue mais absente");t.source_measure=n.nodeValue},measures:function(e,t){var n;if(t.measures=[],e.hasChildNodes())for(var i,r,o=e.childNodes,a=0;a<o.length;a++){n=new ne,i=o[a],r=i.childNodes;for(var s=0;s<r.length;s++){if(!ie.READERS[r[s].nodeName])throw new Error("Erreur dans la lecture de la réponse du service : measures attendues mais absentes");ie.READERS[r[s].nodeName](r[s],n)}t.measures.push(n)}},exceptionreport:function(e){var t={};if(e.hasChildNodes())for(var n,i=e.childNodes,r=0;r<i.length;r++)n=i[r],"Exception"===n.nodeName&&(t.exceptionReport=ie.READERS.exception(n));return t},exception:function(e){var t={},n=e.getAttribute("exceptionCode");n&&(t.exceptionCode=n);var i=e.firstChild;return i&&3===i.nodeType&&(t.exception=i.nodeValue),t},error:function(e){var t={error:{}};if(e.hasChildNodes())for(var n,i=e.childNodes,r=0;r<i.length;r++){var o;n=i[r],1===n.nodeType&&"code"===n.nodeName&&(o=n.firstChild,o&&3===o.nodeType&&(t.error.code=o.nodeValue)),1===n.nodeType&&"description"===n.nodeName&&(o=n.firstChild,o&&3===o.nodeType&&(t.error.description=o.nodeValue))}return t}},ie.read=function(e){if("elevations"===e.nodeName){var t=ie.READERS.elevations(e);return t}if("ExceptionReport"===e.nodeName){var n=ie.READERS.exceptionreport(e);return n}if("error"===e.nodeName){var i=ie.READERS.error(e);return i}throw new Error("Erreur lors de la lecture de la réponse : elle n'est pas au format attendu.")};var re=ie,oe={build:function(e){var t=o.getLogger("AltiResponseFactory");t.trace(["AltiResponseFactory::build()"]);var n=null;if(e.response){if(e.rawResponse)t.trace("analyze response : raw"),n=e.response;else{switch(e.outputFormat){case"xml":t.trace("analyze response : xml");try{var i=new K({reader:re});if("string"===typeof e.response?i.setXMLString(e.response):i.setXMLDoc(e.response),n=i.parse(),!n)throw new Error(s.getMessage("SERVICE_RESPONSE_EXCEPTION_2"))}catch(p){var r=p.message;return void e.onError.call(e.scope,new A({message:s.getMessage("SERVICE_RESPONSE_EXCEPTION",r),status:200,type:A.TYPE_SRVERR}))}break;case"json":t.trace("analyze response : json"),t.trace("analyze response : ",typeof e.response);var a=null;if(a="string"===typeof e.response?JSON.parse(e.response):e.response,a&&a.error)return void e.onError.call(e.scope,new A({message:s.getMessage("SERVICE_RESPONSE_EXCEPTION",a.error.description),status:200,type:A.TYPE_SRVERR}));if(a){var l,u=a.elevations,c=new Q;if(Array.isArray(u)&&u.length)for(var h=0;h<u.length;h++)l=new ee,"object"===typeof u[h]?(u[h].lon&&(l.lon=u[h].lon),u[h].lat&&(l.lat=u[h].lat),u[h].z&&(l.z=u[h].z),u[h].acc&&(l.acc=u[h].acc),u[h].measures&&(l.measures=u[h].measures)):"number"===typeof u[h]&&(l.z=u[h]),Array.isArray(c.elevations)&&c.elevations.push(l);n=c}if(!n)return void e.onError.call(e.scope,new A({message:s.getMessage("SERVICE_RESPONSE_ANALYSE_2"),type:A.TYPE_UNKERR,status:-1}));break;default:return void e.onError.call(e.scope,new A({message:s.getMessage("SERVICE_RESPONSE_FORMAT_2"),type:A.TYPE_UNKERR,status:-1}))}if(n.exceptionReport)return void e.onError.call(e.scope,new A({message:s.getMessage("SERVICE_RESPONSE_EXCEPTION",n.exceptionReport),type:A.TYPE_SRVERR,status:200}));if(n.error){var d=n.error.description;return void e.onError.call(e.scope,new A({message:s.getMessage("SERVICE_RESPONSE_EXCEPTION",d),type:A.TYPE_SRVERR,status:200}))}}e.onSuccess.call(e.scope,n)}else e.onError.call(e.scope,new A(s.getMessage("SERVICE_RESPONSE_EMPTY")))}},ae=oe;function se(e){if(!(this instanceof se))throw new TypeError(s.getMessage("CLASS_CONSTRUCTOR","Alti"));if(this.CLASSNAME="Alti",I.apply(this,arguments),this.logger=o.getLogger("Gp.Services.Alti"),this.logger.trace("[Constructeur Alti (options)]"),!e.positions)throw new Error(s.getMessage("PARAM_MISSING","positions"));if(0===e.positions.length)throw new Error(s.getMessage("PARAM_EMPTY","positions"));if(this.options.positions=e.positions,this.options.outputFormat="string"===typeof e.outputFormat?e.outputFormat.toLowerCase():"xml",this.options.resource=e.resource||"ign_rge_alti_wld",this.options.sampling=e.sampling||null,this.options.api="string"===typeof e.api?e.api.toUpperCase():"REST","REST"===this.options.api&&(this.options.httpMethod="GET"),this.options.zonly=e.zonly||!1,this.options.measures=e.measures||!1,!this.options.serverUrl){var t=w.Alti.newUrl(),n=null;switch(this.options.api){case"WPS":n=t.wps;break;case"REST":var i=(e.sampling?"profil":"elevation")+"-"+this.options.outputFormat;n=t[i];break;default:throw new Error(s.getMessage("PARAM_UNKNOWN","api"))}if(!n)throw new Error("Url by default not found !");this.options.serverUrl=n,this.logger.trace("Server URL by default : "+this.options.serverUrl)}var r=this.options.serverUrl.lastIndexOf(".");if(-1!==r){var a=this.options.serverUrl.substring(r+1);if(a&&a.length<5)switch(this.logger.trace("Server Extension URL : "+a),a.toLowerCase()){case"json":case"xml":this.options.outputFormat=a.toLowerCase();break;default:throw new Error("type of service : unknown or unsupported (json or xml) !")}}}se.prototype=Object.create(I.prototype,{}),se.prototype.constructor=se,se.prototype.buildRequest=function(e,t){var n={httpMethod:this.options.httpMethod,onSuccess:function(e){this.request=e,t.call(this,this.request)},onError:e,scope:this,resource:this.options.resource,positions:this.options.positions,outputFormat:this.options.outputFormat,sampling:this.options.sampling,api:this.options.api,zonly:this.options.zonly,measures:this.options.measures};V.build(n)},se.prototype.analyzeResponse=function(e,t){if(this.response){var n={response:this.response,outputFormat:this.options.outputFormat,rawResponse:this.options.rawResponse,onError:e,onSuccess:t,scope:this};ae.build(n)}else e.call(this,new A(s.getMessage("SERVICE_RESPONSE_EMPTY")))};var le=se;function ue(e){if(!(this instanceof ue))throw new TypeError("GeocodeParamREST constructor cannot be called as a function.");if(this.logger=o.getLogger(),this.logger.trace("[Constructeur GeocodeParamREST ()]"),this.options=e||{},!this.options.geocodeMethod||"search"!==this.options.geocodeMethod&&"reverse"!==this.options.geocodeMethod)throw new Error("Error geocodeMethod not valid");this.geocodeMethod=this.options.geocodeMethod,this.query="undefined"!==typeof this.options?this.options.query:null,this.searchGeometry=this.options.searchGeometry||null,this.index=this.options.index||null,this.lon=this.options.position&&this.options.position.lon?this.options.position.lon:null,this.lat=this.options.position&&this.options.position.lat?this.options.position.lat:null,this.maxResp=this.options.maxResp||null,this.returnTrueGeometry=this.options.returnTrueGeometry||null,this.filters=this.options.filters||{}}ue.CLASSNAME="GeocodeParamREST",ue.prototype={constructor:ue,getFilters:function(){var e={};for(var t in this.filters)this.filters.hasOwnProperty(t)&&(e[t]=this.filters[t]);return e},getIndex:function(){return void 0===this.index?null:"StreetAddress"===this.index?"address":"CadastralParcel"===this.index?"parcel":"PositionOfInterest"===this.index?"poi":"location"===this.index?"location":this.index},getSearchGeometry:function(){return JSON.stringify(this.searchGeometry)}},ue.prototype.getParams=function(){var e=[];"search"===this.geocodeMethod&&e.push({k:"q",v:this.query}),this.index&&e.push({k:"index",v:this.getIndex()}),"reverse"===this.geocodeMethod&&this.searchGeometry&&e.push({k:"searchgeom",v:this.getSearchGeometry()}),this.lon&&this.lat&&(e.push({k:"lon",v:this.lon}),e.push({k:"lat",v:this.lat})),this.maxResp&&e.push({k:"limit",v:this.maxResp}),this.returnTrueGeometry&&e.push({k:"returntruegeometry",v:this.returnTrueGeometry});const t=this.getFilters();for(var n in t)e.push({k:n,v:t[n]});return e};var ce=ue;function he(e){if(this.logger=o.getLogger("GeocodeRequestREST"),this.logger.trace("[Constructeur GeocodeRequestREST ()]"),!(this instanceof he))throw new TypeError("GeocodeRequestREST constructor cannot be called as a function.");if(!e)throw new Error(s.getMessage("PARAM_EMPTY","options"));this.settings=e}he.prototype={requestString:null,constructor:he,processRequestString:function(){var e="";const t=new ce(this.settings),n=t.getParams();for(var i=0;i<n.length;i++){var r=n[i];e&&(e+="&"),e+=r.k+"="+r.v}if(!this.settings.geocodeMethod||"search"!==this.settings.geocodeMethod&&"reverse"!==this.settings.geocodeMethod)throw new Error("Error geocodeMethod not valid");return this.requestString="?"+e,this.logger.trace(this.requestString),this.requestString}};var de=he,pe={build:function(e){var t=o.getLogger("GeocodeRequestFactory");t.trace(["GeocodeRequestFactory::build()"]);var n=e||{},i=new de(n);if(!i.processRequestString())throw new Error("Error process request (rest) !");var r=i.requestString;return t.trace(r),r}},ge=pe;function fe(){if(!(this instanceof fe))throw new TypeError("GeocodeResponse constructor cannot be called as a function.");this.locations=[]}fe.prototype={constructor:fe};var me=fe;function ve(){if(!(this instanceof ve))throw new TypeError("GeocodedLocation constructor cannot be called as a function.");this.position=null,this.matchType=null,this.placeAttributes={},this.type=null,this.accuracy=null,this.CLASSNAME="GeocodedLocation"}ve.prototype={constructor:ve};var ye=ve;function Ae(){if(!(this instanceof Ae))throw new TypeError("GeocodeResponseParser constructor cannot be called as a function.")}function _e(e,t){var n=new ye;if(e.geometry&&"Point"===e.geometry.type&&(n.position={lon:e.geometry.coordinates[0],lat:e.geometry.coordinates[1]}),e.properties){for(var i in e.properties)"score"===i?n.accuracy=e.properties[i]:"_type"===i?"address"===e.properties[i]?n.type="StreetAddress":"poi"===e.properties[i]?n.type="PositionOfInterest":"parcel"!==e.properties[i]&&"cadastral"!==e.properties[i]||(n.type="CadastralParcel"):n.placeAttributes[i]=e.properties[i];"address"===e.properties._type&&(n.matchType=void 0!==e.properties.number&&null!==e.properties.number?"street number":"street")}t.locations.push(n)}function Ce(e){return{exceptionReport:e}}Ae.prototype={constructor:Ae,parse:function(e){var t=new me;const n=JSON.parse(e);if("FeatureCollection"===n.type)for(var i=0;i<n.features.length;++i)_e(n.features[i],t);else{if("Feature"!==n.type){if("SERVICE_ERROR"===n.type)return Ce(n);var r=s.getMessage("SERVICE_RESPONSE_ANALYSE",n.type);throw new A({message:r,type:A.TYPE_UNKERR,status:200})}_e(n,t)}return t}};var Ie=Ae,Ee={build:function(e){var t=null;if(e.response){if(e.rawResponse)t=e.response;else{try{const n=new Ie;if(t=n.parse(e.response),!t)throw new Error("L'analyse de la réponse du service !?")}catch(i){var n=i.message;return"string"===typeof e.response?n+="('"+e.response+"')":n+="('"+e.response.documentElement.innerHTML+"')",void e.onError.call(e.scope,new A({message:s.getMessage("SERVICE_RESPONSE_ANALYSE",n),type:A.TYPE_UNKERR,status:-1}))}if(t.exceptionReport)return void e.onError.call(e.scope,new A({message:s.getMessage("SERVICE_RESPONSE_EXCEPTION",t.exceptionReport),type:A.TYPE_SRVERR,status:200}))}e.onSuccess.call(e.scope,t)}else e.onError.call(e.scope,new A({message:s.getMessage("SERVICE_RESPONSE_EMPTY"),type:A.TYPE_SRVERR,status:-1}))}},we=Ee;function be(e){if(!(this instanceof be))throw new TypeError(s.getMessage("CLASS_CONSTRUCTOR","Geocode"));this.CLASSNAME="Geocode",this.logger=o.getLogger("Gp.Services.Geocode"),this.logger.trace("[Constructeur Geocode (options)]");var t=this.patchOptionConvertor(e);if(t.serverUrl||(t.serverUrl=w.Geocode.newUrl()),I.apply(this,[t]),!t.hasOwnProperty("query"))throw new Error(s.getMessage("PARAM_MISSING","query"));if(this.options.query=t.query,t.index||(this.options.index=t.index="StreetAddress"),t.filters)for(var n=Object.keys(t.filters),i=0;i<n.length;i++){var r=n[i];("undefined"===typeof t.filters[r]||"object"===typeof t.filters[r]&&0===Object.keys(t.filters[r]).length||"string"===typeof t.filters[r]&&0===t.filters[r].length||Array.isArray(t.filters[r])&&0===t.filters[r].length)&&delete this.options.filters[r]}this.options.index=t.index||"StreetAddress",this.options.maximumResponses=t.maximumResponses||20}be.prototype=Object.create(I.prototype,{}),be.prototype.constructor=be,be.prototype.patchOptionConvertor=function(e){const t=e;return t.hasOwnProperty("location")&&(this.logger.warn("The parameter 'location' is deprecated"),t.query||(t.query=t.location),delete t.location),t.filterOptions&&(this.logger.warn("The parameter 'filterOptions' is deprecated"),t.filters||(t.filters=t.filterOptions,t.filters.type&&(this.logger.warn("The parameter 'filterOptions.type' is deprecated"),t.index||(Array.isArray(t.filters.type)&&t.filters.type.length>0?t.index=t.filters.type[0]:t.index=t.filters.type),delete t.filters.type),t.filters.bbox&&(this.logger.warn("The parameter 'filterOptions.bbox' is deprecated"),delete t.filters.bbox)),delete t.filterOptions),t.position&&(t.position.x&&(this.logger.warn("The parameter 'position.x' is deprecated"),t.position.lon||(t.position.lon=t.position.x),delete t.position.x),t.position.y&&(this.logger.warn("The parameter 'position.y' is deprecated"),t.position.lat||(t.position.lat=t.position.y),delete t.position.y)),t.returnFreeForm&&(this.logger.warn("The parameter 'returnFreeForm' is deprecated"),delete t.returnFreeForm),t.srs&&(this.logger.warn("The parameter 'srs' is deprecated"),delete t.srs),t},be.prototype.buildRequest=function(e,t){var n={httpMethod:this.options.httpMethod,geocodeMethod:"search",query:this.options.query,index:this.options.index,returnTrueGeometry:this.options.returnTrueGeometry,position:this.options.position,maxResp:this.options.maximumResponses,filters:this.options.filters};this.request=ge.build(n),this.request?t.call(this,this.request):e.call(this,new A(s.getMessage("SERVICE_REQUEST_BUILD")))},be.prototype.analyzeResponse=function(e,t){if(this.response){var n={response:this.response,rawResponse:this.options.rawResponse,onError:e,onSuccess:t,scope:this};we.build(n)}else e.call(this,new A(s.getMessage("SERVICE_RESPONSE_EMPTY")))};var xe=be;function Se(e){if(!(this instanceof Se))throw new TypeError(s.getMessage("CLASS_CONSTRUCTOR","ReverseGeocode"));this.CLASSNAME="ReverseGeocode",this.logger=o.getLogger("Gp.Services.ReverseGeocode"),this.logger.trace("[Constructeur ReverseGeocode (options)]");var t=this.patchOptionConvertor(e);if(t.serverUrl||(t.serverUrl=w.ReverseGeocode.newUrl()),I.apply(this,[t]),t.searchGeometry)this.options.searchGeometry=t.searchGeometry;else if(!t.position)throw new Error(s.getMessage("PARAM_MISSING","searchGeometry"));if(t.index||(this.options.index=t.index="StreetAddress"),t.filters)for(var n=Object.keys(t.filters),i=0;i<n.length;i++){var r=n[i];("undefined"===typeof t.filters[r]||"object"===typeof t.filters[r]&&0===Object.keys(t.filters[r]).length||"string"===typeof t.filters[r]&&0===t.filters[r].length||Array.isArray(t.filters[r])&&0===t.filters[r].length)&&delete this.options.filters[r]}this.options.position=t.position,this.options.index=t.index||"StreetAddress",this.options.maximumResponses=t.maximumResponses||20}Se.prototype=Object.create(I.prototype,{}),Se.prototype.constructor=Se,Se.prototype.patchOptionConvertor=function(e){var t=e;return t.filterOptions&&(this.logger.warn("The parameter 'filterOptions' is deprecated"),t.filterOptions.type&&(this.logger.warn("The parameter 'filterOptions.type' is deprecated"),t.index||(Array.isArray(t.filterOptions.type)&&t.filterOptions.type.length>0?t.index=t.filterOptions.type[0]:t.index=t.filterOptions.type),delete t.filterOptions.type),t.filterOptions.bbox&&(this.logger.warn("The parameter 'filterOptions.bbox' is deprecated"),t.searchGeometry||(t.searchGeometry=this.bbox2Json(t.filterOptions.bbox)),delete t.filterOptions.bbox),t.filterOptions.circle&&(this.logger.warn("The parameter 'filterOptions.circle' is deprecated"),t.searchGeometry||(t.searchGeometry=this.circle2Json(t.filterOptions.circle)),delete t.filterOptions.circle),t.filterOptions.polygon&&(this.logger.warn("The parameter 'filterOptions.polygon' is deprecated"),t.searchGeometry||(t.searchGeometry=this.polygon2Json(t.filterOptions.polygon)),delete t.filterOptions.polygon),!t.filters&&Object.keys(t.filterOptions).length>0&&(t.filters=t.filterOptions),delete t.filterOptions),t.position&&(t.position.x&&(this.logger.warn("The parameter 'position.x' is deprecated"),t.position.lon||(t.position.lon=t.position.x),delete t.position.x),t.position.y&&(this.logger.warn("The parameter 'position.y' is deprecated"),t.position.lat||(t.position.lat=t.position.y),delete t.position.y)),t.srs&&(this.logger.warn("The parameter 'srs' is deprecated"),delete t.srs),t},Se.prototype.buildRequest=function(e,t){var n={httpMethod:this.options.httpMethod,geocodeMethod:"reverse",searchGeometry:this.options.searchGeometry,index:this.options.index,position:this.options.position,returnTrueGeometry:this.options.returnTrueGeometry,maxResp:this.options.maximumResponses,filters:this.options.filters};this.request=ge.build(n),this.request?t.call(this,this.request):e.call(this,new A(s.getMessage("SERVICE_REQUEST_BUILD")))},Se.prototype.analyzeResponse=function(e,t){if(this.response){var n={response:this.response,rawResponse:this.options.rawResponse,onError:e,onSuccess:t,scope:this};we.build(n)}else e.call(this,new A(s.getMessage("SERVICE_RESPONSE_EMPTY")))},Se.prototype.bbox2Json=function(e){return{type:"Polygon",coordinates:[[[e.left,e.top],[e.right,e.top],[e.right,e.bottom],[e.left,e.bottom],[e.left,e.top]]]}},Se.prototype.circle2Json=function(e){return{type:"Circle",radius:e.radius,coordinates:[e.x,e.y]}},Se.prototype.polygon2Json=function(e){for(var t={type:"Polygon",coordinates:[[]]},n=0;n<e.length;++n)t.coordinates[0].push([e[n].x,e[n].y]);return t},Se.geoEPSG=["EPSG:4326"];var Pe=Se;function Me(){if(!(this instanceof Me))throw new TypeError("AutoCompleteResponse constructor cannot be called as a function.");this.suggestedLocations=[]}Me.prototype={constructor:Me};var ke=Me;function Re(){if(!(this instanceof Re))throw new TypeError("SuggestedLocation constructor cannot be called as a function.");this.type=null,this.position={x:null,y:null},this.commune=null,this.fullText=null,this.postalCode=null,this.classification=null,this.street=null,this.poi=null,this.kind=null}Re.prototype={constructor:Re};var Te=Re,Le={build:function(e){var t=o.getLogger("AutoCompleteResponseFactory");t.trace(["AutoCompleteResponseFactory::build()"]);var n=null;if(e.response){if(e.rawResponse)t.trace("analyze response : raw"),n=e.response;else{var i=null;if(i="string"===typeof e.response?JSON.parse(e.response):e.response,i){if(i.error)return void e.onError.call(e.scope,new A({message:s.getMessage("SERVICE_RESPONSE_EXCEPTION",i.error.description),status:i.error.code,type:A.TYPE_SRVERR}));if(n=new ke,!i.results||!Array.isArray(i.results))return void e.onError.call(e.scope,new A(s.getMessage("SERVICE_RESPONSE_FORMAT_3")));for(var r=null,a=0;a<i.results.length;a++){var l=i.results[a];r=new Te,l&&("StreetAddress"===l.country?(r.street=l.street,r.type="StreetAddress"):"PositionOfInterest"===l.country&&(r.poi=l.street,r.type="PositionOfInterest",r.poiType=l.poiType),r.position&&(r.position.x=l.x,r.position.y=l.y),r.kind=l.kind,r.commune=l.city,r.fullText=l.fulltext,r.postalCode=l.zipcode,r.classification=l.classification),n.suggestedLocations.push(r)}if(!n.suggestedLocations.length)return void e.onError.call(e.scope,new A(s.getMessage("SERVICE_RESPONSE_FORMAT_3")))}if(!n)return void e.onError.call(e.scope,new A({message:s.getMessage("SERVICE_RESPONSE_ANALYSE_2"),type:A.TYPE_UNKERR,status:-1}));if(n.exceptionReport)return void e.onError.call(e.scope,new A({message:s.getMessage("SERVICE_RESPONSE_EXCEPTION",n.exceptionReport),type:A.TYPE_SRVERR,status:200}))}e.onSuccess.call(e.scope,n)}else e.onError.call(e.scope,new A(s.getMessage("SERVICE_RESPONSE_EMPTY")))}},Ge=Le;function Oe(e){if(!(this instanceof Oe))throw new TypeError(s.getMessage("CLASS_CONSTRUCTOR","AutoComplete"));this.CLASSNAME="AutoComplete",this.logger=o.getLogger("Gp.Services.AutoComplete"),this.logger.trace("[Constructeur AutoComplete (options)]");var t=this.patchOptionConvertor(e);if(t.serverUrl||(t.serverUrl=w.AutoComplete.newUrl()),I.apply(this,arguments),!t.text)throw new Error(s.getMessage("PARAM_MISSING","text"));this.options.text=t.text,t.type||(t.type=["StreetAddress,PositionOfInterest"]),this.options.type=t.type,this.options.territory=t.terr||"",this.options.maximumResponses=t.maximumResponses||10,"XHR"===this.options.protocol&&"POST"===this.options.httpMethod&&(this.logger.warn("Le service ne gére pas le mode d'interrogation en POST, on bascule sur du GET !"),this.options.httpMethod="GET"),this.options.outputFormat=this.options.rawResponse?"":"json"}Oe.prototype=Object.create(I.prototype,{}),Oe.prototype.constructor=Oe,Oe.prototype.patchOptionConvertor=function(e){const t=e;return t.filterOptions&&(this.logger.warn("The parameter 'filterOptions' is deprecated"),t.filterOptions.type&&(this.logger.warn("The parameter 'filterOptions.type' is deprecated"),t.type||(t.type=t.filterOptions.type)),t.filterOptions.territory&&(this.logger.warn("The parameter 'filterOptions.territory' is deprecated"),t.terr||(t.terr=t.filterOptions.territory)),delete t.filterOptions),t},Oe.prototype.buildRequest=function(e,t){var n="";this.options.territory&&(n=this.options.territory);var i="";this.options.type&&(i=this.options.type.join(",")),this.request=u.normalyzeParameters({text:encodeURIComponent(this.options.text),type:i,terr:n,maximumResponses:this.options.maximumResponses}),this.request?t.call(this,this.request):e.call(this,new A(s.getMessage("SERVICE_REQUEST_BUILD")))},Oe.prototype.analyzeResponse=function(e,t){if(this.response){var n={response:this.response,rawResponse:this.options.rawResponse,onSuccess:t,onError:e,scope:this};Ge.build(n)}else e.call(this,new A(s.getMessage("SERVICE_RESPONSE_EMPTY")))};var De=Oe;function Ne(e){if(!(this instanceof Ne))throw new TypeError("RouteParamREST constructor cannot be called as a function.");this.logger=o.getLogger(),this.logger.trace("[Constructeur RouteParamREST ()]"),this.options=e||{},this.resource=this.options.resource,this.start=this.options.startPoint.x+","+this.options.startPoint.y,this.end=this.options.endPoint.x+","+this.options.endPoint.y,this.intermediates=this.options.viaPoints,this.profile=this.options.graph,this.crs=this.options.srs,this.constraints=this.options.constraints,this.optimization=this.options.routePreference,this.getSteps=this.options.geometryInInstructions?"true":"false",this.distanceUnit=this.options.distanceUnit,this.timeUnit=this.options.timeUnit,this.waysAttributes=this.options.waysAttributes}Ne.CLASSNAME="RouteParamREST",Ne.prototype={constructor:Ne,getIntermediates:function(){var e=[];if(0!==this.intermediates.length)for(var t=0;t<this.intermediates.length;t++){var n=this.intermediates[t];e.push(n.x+","+n.y)}return e.join("|")},getWaysAttributes:function(){return this.waysAttributes.join("|")},getProfile:function(){return this.profile},getDistanceUnit:function(){return"m"===this.distanceUnit?"meter":"km"===this.distanceUnit?"kilometer":""},getOptimization:function(){return this.optimization?this.optimization:""},getConstraints:function(){var e=[];if(0!==this.constraints.length)for(var t=0;t<this.constraints.length;t++)e.push(JSON.stringify(this.constraints[t]));return e.join("|")}},Ne.prototype.getParams=function(){var e=[];return e.push({k:"resource",v:this.resource}),e.push({k:"start",v:this.start}),e.push({k:"end",v:this.end}),e.push({k:"geometryFormat",v:"geojson"}),this.optimization&&e.push({k:"optimization",v:this.getOptimization()}),this.intermediates&&e.push({k:"intermediates",v:this.getIntermediates()}),this.profile&&e.push({k:"profile",v:this.getProfile()}),this.constraints&&e.push({k:"constraints",v:this.getConstraints()}),this.crs&&e.push({k:"crs",v:this.crs}),this.distanceUnit&&e.push({k:"distanceUnit",v:this.getDistanceUnit()}),this.timeUnit&&e.push({k:"timeUnit",v:this.timeUnit}),this.waysAttributes&&e.push({k:"waysAttributes",v:this.getWaysAttributes()}),e};var Fe=Ne;function Ue(e){if(this.logger=o.getLogger("RouteRequestREST"),this.logger.trace("[Constructeur RouteRequestREST ()]"),!(this instanceof Ue))throw new TypeError("RouteRequestREST constructor cannot be called as a function.");if(!e)throw new Error(s.getMessage("PARAM_EMPTY","options"));this.settings=e}Ue.prototype={requestString:null,constructor:Ue,processRequestString:function(){this.logger.warn(" PROTOTYPE !");for(var e=new Fe(this.settings),t=e.getParams(),n="",i=0;i<t.length;i++){var r=t[i];n&&(n+="&"),n+=r.k+"="+r.v}return this.logger.trace(n),this.requestString=n,this.requestString}};var Be=Ue,je={build:function(e){var t=o.getLogger("RouteRequestFactory");t.trace(["RouteRequestFactory::build()"]);var n=null,i=e||{},r=!(null===e.onError||"function"!==typeof e.onError),a=null,s=new Be(i);if(!s.processRequestString()){if(a="Error process request (rest) !",r)return void e.onError.call(e.scope,new A(a));throw new Error(a)}return n=s.requestString,n}},ze=je;function We(){if(!(this instanceof We))throw new TypeError("RouteResponse constructor cannot be called as a function.");this.totalTime=null,this.totalDistance=null,this.bbox={left:null,right:null,top:null,bottom:null},this.routeGeometry=null,this.routeInstructions=[]}We.prototype={constructor:We};var Ve=We;function Ye(){if(!(this instanceof Ye))throw new TypeError("RouteInstruction constructor cannot be called as a function.");this.duration=null,this.distance=null,this.code=null,this.instruction=null,this.geometry=null}Ye.prototype={constructor:Ye};var He=Ye,qe={build:function(e){var t=o.getLogger("RouteResponseFactory");t.trace("RouteResponseFactory::build()");var n=null;if(e.response){if(e.rawResponse)t.trace("analyze response : raw"),n=e.response;else{var i;if(t.trace("analyze response : json"),i="string"===typeof e.response?JSON.parse(e.response):e.response,i){if(i.message)return void e.onError.call(e.scope,new A(s.getMessage("SERVICE_RESPONSE_EXCEPTION",i.message)));var r=[],a=[],l=[];if(n=new Ve,n.hasOwnProperty("totalTime")&&(n.totalTime=parseFloat(i.duration)),n.hasOwnProperty("totalDistance")&&(n.totalDistance=parseFloat(i.distance)),n.hasOwnProperty("bbox")&&(n.bbox.left=parseFloat(i.bbox[0]),n.bbox.bottom=parseFloat(i.bbox[1]),n.bbox.right=parseFloat(i.bbox[2]),n.bbox.top=parseFloat(i.bbox[3])),n.hasOwnProperty("routeGeometry")&&!e.geometryInInstructions&&(n.routeGeometry=i.geometry),n.hasOwnProperty("routeInstructions")&&e.geometryInInstructions){var u,c=i.portions;if(Array.isArray(c)&&c.length)for(u=0;u<c.length;u++)r.push(c[u]);if(r.length)for(u=0;u<r.length;u++)a.push(r[u].steps);if(a.length)for(u=0;u<a.length;u++)l=l.concat(a[u]);l.forEach((function(e){switch(n.routeInstructions.push(new He),n.routeInstructions[n.routeInstructions.length-1].duration=e.duration,n.routeInstructions[n.routeInstructions.length-1].distance=e.distance,n.routeInstructions[n.routeInstructions.length-1].code="",n.routeInstructions[n.routeInstructions.length-1].instruction="",n.routeInstructions[n.routeInstructions.length-1].geometry=e.geometry,"Valeur non renseignée"===e.name&&(e.name=""),e.instruction.type){case"turn":n.routeInstructions[n.routeInstructions.length-1].instruction+="Tourner";break;case"new name":n.routeInstructions[n.routeInstructions.length-1].instruction+="Continuer tout droit";break;case"depart":n.routeInstructions[n.routeInstructions.length-1].instruction+="Départ";break;case"arrive":n.routeInstructions[n.routeInstructions.length-1].instruction+="Arrivée";break;case"merge":n.routeInstructions[n.routeInstructions.length-1].instruction+="Rejoindre";break;case"ramp":n.routeInstructions[n.routeInstructions.length-1].instruction+="Prendre la bretelle";break;case"on ramp":n.routeInstructions[n.routeInstructions.length-1].instruction+="Prendre la bretelle";break;case"off ramp":n.routeInstructions[n.routeInstructions.length-1].instruction+="Prendre la sortie";break;case"fork":n.routeInstructions[n.routeInstructions.length-1].instruction+="Sur la bifurcation, prendre";break;case"end of road":n.routeInstructions[n.routeInstructions.length-1].instruction+="À la fin de la route, prendre";break;case"use lane":n.routeInstructions[n.routeInstructions.length-1].instruction+="Utiliser la file";break;case"continue":n.routeInstructions[n.routeInstructions.length-1].instruction+="Continuer";break;case"roundabout":n.routeInstructions[n.routeInstructions.length-1].instruction+="Au rond-point";break;case"rotary":n.routeInstructions[n.routeInstructions.length-1].instruction+="Au rond-point";break;case"roundabout turn":n.routeInstructions[n.routeInstructions.length-1].instruction+="Au rond point, tourner";break;case"notification":n.routeInstructions[n.routeInstructions.length-1].instruction+="";break;default:n.routeInstructions[n.routeInstructions.length-1].instruction+="?"+e.instruction.type+"?";break}if(e.instruction.modifier)switch(e.instruction.modifier){case"uturn":n.routeInstructions[n.routeInstructions.length-1].instruction="Faire demi-tour";break;case"sharp right":n.routeInstructions[n.routeInstructions.length-1].instruction+=" complètement à droite";break;case"right":n.routeInstructions[n.routeInstructions.length-1].instruction+=" à droite";break;case"slight right":n.routeInstructions[n.routeInstructions.length-1].instruction+=" légèrement à droite";break;case"straight":n.routeInstructions[n.routeInstructions.length-1].instruction="Continuer tout droit";break;case"slight left":n.routeInstructions[n.routeInstructions.length-1].instruction+=" lègèrement à gauche";break;case"left":n.routeInstructions[n.routeInstructions.length-1].instruction+=" à gauche";break;case"sharp left":n.routeInstructions[n.routeInstructions.length-1].instruction+=" complètement à gauche";break;default:n.routeInstructions[n.routeInstructions.length-1].instruction+=" ?"+e.instruction.modifier+"?";break}e.instruction.exit&&(n.routeInstructions[n.routeInstructions.length-1].instruction+=`${e.instruction.exit}e sortie`),e.attributes.name&&((e.attributes.name.nom_1_droite||e.attributes.name.toponyme)&&(n.routeInstructions[n.routeInstructions.length-1].instruction+=" sur"),e.attributes.name.nom_1_droite&&(n.routeInstructions[n.routeInstructions.length-1].instruction+=` ${e.attributes.name.nom_1_droite}`),e.attributes.name.toponyme&&(n.routeInstructions[n.routeInstructions.length-1].instruction+=` ${e.attributes.name.toponyme}`))}))}}if(!n)return void e.onError.call(e.scope,new A(s.getMessage("SERVICE_RESPONSE_ANALYSE","json")));if(n.exceptionReport)return void e.onError.call(e.scope,new A(s.getMessage("SERVICE_RESPONSE_EXCEPTION_2")))}e.onSuccess.call(e.scope,n)}else e.onError.call(e.scope,new A(s.getMessage("SERVICE_RESPONSE_EMPTY")))}},Xe=qe;function Ze(e){if(!(this instanceof Ze))throw new TypeError(s.getMessage("CLASS_CONSTRUCTOR","Route"));if(this.CLASSNAME="Route",I.apply(this,arguments),this.logger=o.getLogger("Gp.Services.Route"),this.logger.trace("[Constructeur Route (options)]"),!e.startPoint)throw new Error(s.getMessage("PARAM_MISSING","startPoint"));if(null===e.startPoint.x)throw new Error(s.getMessage("PARAM_MISSING","startPoint.x"));if(null===e.startPoint.y)throw new Error(s.getMessage("PARAM_MISSING","startPoint.y"));if(!e.endPoint)throw new Error(s.getMessage("PARAM_MISSING","endPoint"));if(null===e.endPoint.x)throw new Error(s.getMessage("PARAM_MISSING","endPoint.x"));if(null===e.endPoint.y)throw new Error(s.getMessage("PARAM_MISSING","endPoint.y"));if(e.outputFormat&&"json"!==e.outputFormat&&this.logger.warn("options.outputFormat could only be json"),this.options.outputFormat="json",this.options.resource=e.resource||"bdtopo-osrm",this.options.startPoint=e.startPoint,this.options.endPoint=e.endPoint,this.options.viaPoints=e.viaPoints||[],this.options.routePreference=e.routePreference||"fastest",e.graph?("Voiture"===e.graph&&(this.options.graph="car"),"Pieton"===e.graph&&(this.options.graph="pedestrian")):this.options.graph="car",this.options.constraints=[],e.constraints){if(!Array.isArray(e.constraints))throw new Error(s.getMessage("PARAM_TYPE","constraints"));for(var t=0;t<e.constraints.length;t++)this.options.constraints.push(e.constraints[t])}var n={},i={},r={};if(e.exclusions&&0!==e.exclusions.length){this.logger.warn("options.exclusions is DEPRECATED !!");for(var a=0;a<e.exclusions.length;a++)"string"===typeof e.exclusions[a]&&(e.exclusions[a]=e.exclusions[a].toLowerCase(),"toll"===e.exclusions[a]&&(r.constraintType="banned",r.key="wayType",r.operator="=",r.value="autoroute",this.options.constraints.push(r)),"tunnel"===e.exclusions[a]&&(n.constraintType="banned",n.key="wayType",n.operator="=",n.value="tunnel",this.options.constraints.push(n)),"bridge"===e.exclusions[a]&&(i.constraintType="banned",i.key="wayType",i.operator="=",i.value="pont",this.options.constraints.push(i)))}if(this.options.geometryInInstructions=e.geometryInInstructions||!1,this.options.provideBbox=e.provideBbox||!0,this.options.distanceUnit=e.distanceUnit||"m",this.options.timeUnit=e.timeUnit||"second",this.options.expectedStartTime=null,this.options.srs=e.srs||"EPSG:4326",this.options.waysAttributes=e.waysAttributes||[],!this.options.serverUrl){var l=w.Route.newUrl();if(!l)throw new Error("Url by default not found !");this.options.serverUrl=l,this.logger.trace("Serveur URL par defaut : "+this.options.serverUrl)}}Ze.prototype=Object.create(I.prototype,{}),Ze.prototype.constructor=Ze,Ze.prototype.buildRequest=function(e,t){var n={resource:this.options.resource,startPoint:this.options.startPoint,endPoint:this.options.endPoint,viaPoints:this.options.viaPoints,provideBbox:this.options.provideBbox,constraints:this.options.constraints,distanceUnit:this.options.distanceUnit,timeUnit:this.options.timeUnit,graph:this.options.graph,geometryInInstructions:this.options.geometryInInstructions,routePreference:this.options.routePreference,srs:this.options.srs,waysAttributes:this.options.waysAttributes};this.request=ze.build(n),this.request?t.call(this,this.request):e.call(this,new A(s.getMessage("SERVICE_REQUEST_BUILD")))},Ze.prototype.analyzeResponse=function(e,t){if(this.response){var n={distanceUnit:this.options.distanceUnit,timeUnit:this.options.timeUnit,response:this.response,outputFormat:this.options.outputFormat,rawResponse:this.options.rawResponse,onError:e,onSuccess:t,scope:this,geometryInInstructions:this.options.geometryInInstructions};Xe.build(n)}else e.call(this,new A(s.getMessage("SERVICE_RESPONSE_EMPTY")))};var Ke=Ze;function Je(e){if(!(this instanceof Je))throw new TypeError("ProcessIsoCurveParam constructor cannot be called as a function.");this.logger=o.getLogger(),this.logger.trace("[Constructeur ProcessIsoCurveParam ()]"),this.options=e||{},this.id=this.options.id,this.resource=this.options.resource,this.point=this.options.position,this.crs=this.options.srs,this.profile=this.options.graph,this.constraints=this.options.constraints,this.reverse=this.options.reverse,this.timeUnit=this.options.timeUnit,this.distanceUnit=this.options.distanceUnit,"distance"===this.options.method?(this.costType="distance",this.costValue=this.options.distance):(this.costType="time",this.costValue=this.options.time)}Je.CLASSNAME="ProcessIsoCurveParam",Je.prototype={constructor:Je,getLocation:function(){return this.point.x+","+this.point.y},getDistanceUnit:function(){return"m"===this.distanceUnit?"meter":"km"===this.distanceUnit?"kilometer":""},getConstraints:function(){var e=[];if(0!==this.constraints.length)for(var t=0;t<this.constraints.length;t++)e.push(JSON.stringify(this.constraints[t]));return e.join("|")},getDirection:function(){return this.reverse?"arrival":"departure"}},Je.prototype.getParams=function(){var e=[];return e.push({k:"resource",v:this.resource}),e.push({k:"point",v:this.getLocation()}),e.push({k:"direction",v:this.getDirection()}),e.push({k:"costType",v:this.costType}),e.push({k:"costValue",v:this.costValue}),e.push({k:"profile",v:this.profile}),e.push({k:"timeUnit",v:this.timeUnit}),e.push({k:"distanceUnit",v:this.getDistanceUnit()}),this.crs&&e.push({k:"crs",v:this.crs}),this.constraints&&e.push({k:"constraints",v:this.getConstraints()}),e};var Qe=Je;function $e(e){if(this.logger=o.getLogger("ProcessIsoCurveRequest"),this.logger.trace("[Constructeur ProcessIsoCurveRequest ()]"),!(this instanceof $e))throw new TypeError("ProcessIsoCurveRequest constructor cannot be called as a function.");if(!e)throw new Error(s.getMessage("PARAM_EMPTY","options"));this.settings=e,this.mode=this.settings.httpMethod||"GET"}$e.prototype={requestString:null,constructor:$e,processRequestString:function(){var e="",t=0;switch(this.mode){case"GET":this.logger.trace("Process GET Request");var n=new Qe(this.settings),i=n.getParams();for(t=0;t<i.length;t++){var r=i[t];e&&(e+="&"),e+=r.k+"="+r.v}break;case"POST":this.logger.trace("Process POST Request");var o={};o.resource=this.settings.resource,o.point=this.settings.position.x+","+this.settings.position.y,"distance"===this.settings.method?(o.costType="distance",o.costValue=this.settings.distance):(o.costType="time",o.costValue=this.settings.time),o.profile=this.settings.graph,this.settings.reverse?o.direction="arrival":o.direction="departure",o.constraints=this.settings.constraints,o.distanceUnit=this.settings.distanceUnit,o.timeUnit=this.settings.timeUnit,o.crs=this.settings.srs,e=JSON.stringify(o);break;default:this.logger.error("No other HTTP method supported by the service !")}return this.logger.trace(e),this.requestString=e,this.requestString}};var et=$e;function tt(){if(!(this instanceof tt))throw new TypeError("ProcessIsoCurveResponse constructor cannot be called as a function.");this.message=null,this.id=null,this.location={},this.location.x=null,this.location.y=null,this.srs=null,this.geometry=null,this.time=null,this.distance=null}tt.prototype={constructor:tt};var nt=tt,it={build:function(e){var t=o.getLogger("ProcessIsoCurveResponseFactory");t.trace(["ProcessIsoCurveResponseFactory::build()"]);var n=null;if(e.response){if(e.rawResponse)t.trace("analyze response : raw"),n=e.response;else{var i;if(t.trace("analyze response : json"),i="string"===typeof e.response?JSON.parse(e.response):e.response,n=new nt,!i)return void e.onError.call(e.scope,new A(s.getMessage("SERVICE_RESPONSE_ANALYSE",e.response)));"distance"===i.costType?(n.time="",n.distance=i.costValue):(n.time=i.costValue,n.distance=""),n.message="",n.id="",n.srs=i.crs,n.geometry=i.geometry;var r=i.point.split(",");if(n.location&&(n.location.x=r[0],n.location.y=r[1]),n.exceptionReport)return void e.onError.call(e.scope,new A({message:s.getMessage("SERVICE_RESPONSE_EXCEPTION",n.exceptionReport),type:A.TYPE_SRVERR,status:200}))}e.onSuccess.call(e.scope,n)}else e.onError.call(e.scope,new A(s.getMessage("SERVICE_RESPONSE_EMPTY")))}},rt=it;function ot(e){if(!(this instanceof ot))throw new TypeError(s.getMessage("CLASS_CONSTRUCTOR","ProcessIsoCurve"));if(this.CLASSNAME="ProcessIsoCurve",I.apply(this,arguments),this.logger=o.getLogger("Gp.Services.ProcessIsoCurve"),this.logger.trace("[Constructeur ProcessIsoCurve (options)]"),!e.position)throw new Error(s.getMessage("PARAM_MISSING","position"));if(null===e.position.x)throw new Error(s.getMessage("PARAM_MISSING","position.x"));if(null===e.position.y)throw new Error(s.getMessage("PARAM_MISSING","position.y"));if(!e.time&&!e.distance)throw new Error("Parameter (s) 'distance' missing. Parameter time to calculate an isochrone, parameter distance for an isodistance");if(!e.time&&e.distance&&(this.options.method="distance",this.options.time&&delete this.options.time),e.time&&!e.distance&&(this.options.method="time",this.options.distance&&delete this.options.distance),this.options.method=this.options.method||"time",this.options.resource=e.resource||"bdtopo-valhalla",this.options.exclusions=e.exclusions||[],this.options.reverse=e.reverse||!1,this.options.srs=e.srs||"EPSG:4326",this.options.distanceUnit=e.distanceUnit||"m",this.options.timeUnit=e.timeUnit||"second",e.smoothing&&this.logger.warn("options.smoothing is DEPRECATED"),this.options.smoothing=!1,e.holes&&this.logger.warn("options.holes is DEPRECATED"),this.options.holes=!1,e.graph?("Voiture"===e.graph&&(this.options.graph="car"),"Pieton"===e.graph&&(this.options.graph="pedestrian")):this.options.graph="car",this.options.constraints=[],e.constraints){if(!Array.isArray(e.constraints))throw new Error(s.getMessage("PARAM_TYPE","constraints"));for(var t=0;t<e.constraints.length;t++)this.options.constraints.push(e.constraints[t])}var n={},i={},r={};if(e.exclusions&&0!==e.exclusions.length){this.logger.warn("options.exclusions is DEPRECATED !!");for(var a=0;a<e.exclusions.length;a++)"string"===typeof e.exclusions[a]&&(e.exclusions[a]=e.exclusions[a].toLowerCase(),"toll"===e.exclusions[a]&&(r.constraintType="banned",r.key="wayType",r.operator="=",r.value="autoroute",this.options.constraints.push(r)),"tunnel"===e.exclusions[a]&&(n.constraintType="banned",n.key="wayType",n.operator="=",n.value="tunnel",this.options.constraints.push(n)),"bridge"===e.exclusions[a]&&(i.constraintType="banned",i.key="wayType",i.operator="=",i.value="pont",this.options.constraints.push(i)))}if(this.options.outputFormat="string"===typeof e.outputFormat?e.outputFormat.toLowerCase():"json",e.outputFormat&&"json"!==e.outputFormat)throw new Error(s.getMessage("PARAM_NOT_SUPPORT","outputFormat"));if(this.options.outputFormat="json",!this.options.serverUrl){var l=w.ProcessIsoCurve.newUrl();if(!l)throw new Error("Url by default not found !");this.options.serverUrl=l,this.logger.trace("Serveur URL par defaut : "+this.options.serverUrl)}}ot.prototype=Object.create(I.prototype,{}),ot.prototype.constructor=ot,ot.prototype.buildRequest=function(e,t){try{var n=new et(this.options);if(!n.processRequestString())throw new Error(s.getMessage("SERVICE_REQUEST_BUILD"));this.request=n.requestString}catch(i){return void e.call(this,new A(i.message))}t.call(this,this.request)},ot.prototype.analyzeResponse=function(e,t){if(this.response){var n={response:this.response,outputFormat:this.options.outputFormat,rawResponse:this.options.rawResponse,onSuccess:t,onError:e,scope:this};rt.build(n)}else e.call(this,new A(s.getMessage("SERVICE_RESPONSE_EMPTY")))};var at=ot,st={getConfig:function(e){var t=new k(e);t.call()},getAltitude:function(e){var t=new le(e);t.call()},geocode:function(e){var t=new xe(e);t.call()},reverseGeocode:function(e){var t=new Pe(e);t.call()},autoComplete:function(e){var t=new De(e);t.call()},route:function(e){var t=new Ke(e);t.call()},isoCurve:function(e){var t=new at(e);t.call()}},lt=st;const ut=_.rE,ct=_.p6;var ht={};ht.servicesVersion=ut,ht.servicesDate=ct,ht.Protocols={},ht.Protocols.XHR=p,ht.Services=lt,ht.Services.DefaultUrl=w,ht.Services.AltiResponse=Q,ht.Services.Alti={},ht.Services.Alti.Elevation=ee,ht.Services.AutoCompleteResponse=ke,ht.Services.AutoComplete={},ht.Services.AutoComplete.SuggestedLocation=Te,ht.Services.Config=k,ht.Services.IsoCurveResponse=nt,ht.Services.RouteResponse=Ve,ht.Services.Route={},ht.Services.Route.RouteInstruction=He,ht.Error=A,ht.Helper=u;var dt=ht},251:function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,u=l>>1,c=-7,h=n?r-1:0,d=n?-1:1,p=e[t+h];for(h+=d,o=p&(1<<-c)-1,p>>=-c,c+=s;c>0;o=256*o+e[t+h],h+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=i;c>0;a=256*a+e[t+h],h+=d,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,i),o-=u}return(p?-1:1)*a*Math.pow(2,o-i)},t.write=function(e,t,n,i,r,o){var a,s,l,u=8*o-r-1,c=(1<<u)-1,h=c>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,g=i?1:-1,f=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),t+=a+h>=1?d/l:d*Math.pow(2,1-h),t*l>=2&&(a++,l/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(t*l-1)*Math.pow(2,r),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,r),a=0));r>=8;e[n+p]=255&s,p+=g,s/=256,r-=8);for(a=a<<r|s,u+=r;u>0;e[n+p]=255&a,p+=g,a/=256,u-=8);e[n+p-g]|=128*f}},3065:function(e,t,n){var i,r;(function(o,a){"use strict";i=a,r="function"===typeof i?i.call(t,n,t,e):i,void 0===r||(e.exports=r)})(0,(function(){"use strict";var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],r={},o=null;function a(e,t){var n=e[t];if("function"===typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(i){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function l(i){return"debug"===i&&(i="log"),typeof console!==t&&("trace"===i&&n?s:void 0!==console[i]?a(console,i):void 0!==console.log?a(console,"log"):e)}function u(){for(var n=this.getLevel(),r=0;r<i.length;r++){var o=i[r];this[o]=r<n?e:this.methodFactory(o,n,this.name)}if(this.log=this.debug,typeof console===t&&n<this.levels.SILENT)return"No console available for logging"}function c(e){return function(){typeof console!==t&&(u.call(this),this[e].apply(this,arguments))}}function h(e,t,n){return l(e)||c.apply(this,arguments)}function d(e,n){var a,s,l,c=this,d="loglevel";function p(e){var n=(i[e]||"silent").toUpperCase();if(typeof window!==t&&d){try{return void(window.localStorage[d]=n)}catch(r){}try{window.document.cookie=encodeURIComponent(d)+"="+n+";"}catch(r){}}}function g(){var e;if(typeof window!==t&&d){try{e=window.localStorage[d]}catch(o){}if(typeof e===t)try{var n=window.document.cookie,i=encodeURIComponent(d),r=n.indexOf(i+"=");-1!==r&&(e=/^([^;]+)/.exec(n.slice(r+i.length+1))[1])}catch(o){}return void 0===c.levels[e]&&(e=void 0),e}}function f(){if(typeof window!==t&&d){try{window.localStorage.removeItem(d)}catch(e){}try{window.document.cookie=encodeURIComponent(d)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}function m(e){var t=e;if("string"===typeof t&&void 0!==c.levels[t.toUpperCase()]&&(t=c.levels[t.toUpperCase()]),"number"===typeof t&&t>=0&&t<=c.levels.SILENT)return t;throw new TypeError("log.setLevel() called with invalid level: "+e)}"string"===typeof e?d+=":"+e:"symbol"===typeof e&&(d=void 0),c.name=e,c.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},c.methodFactory=n||h,c.getLevel=function(){return null!=l?l:null!=s?s:a},c.setLevel=function(e,t){return l=m(e),!1!==t&&p(l),u.call(c)},c.setDefaultLevel=function(e){s=m(e),g()||c.setLevel(e,!1)},c.resetLevel=function(){l=null,f(),u.call(c)},c.enableAll=function(e){c.setLevel(c.levels.TRACE,e)},c.disableAll=function(e){c.setLevel(c.levels.SILENT,e)},c.rebuild=function(){if(o!==c&&(a=m(o.getLevel())),u.call(c),o===c)for(var e in r)r[e].rebuild()},a=m(o?o.getLevel():"WARN");var v=g();null!=v&&(l=m(v)),u.call(c)}o=new d,o.getLogger=function(e){if("symbol"!==typeof e&&"string"!==typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=r[e];return t||(t=r[e]=new d(e,o.methodFactory)),t};var p=typeof window!==t?window.log:void 0;return o.noConflict=function(){return typeof window!==t&&window.log===o&&(window.log=p),o},o.getLoggers=function(){return r},o["default"]=o,o}))},2488:function(){},3092:function(e,t,n){"use strict";var i=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")},r=i();e.exports=t=r.fetch,r.fetch&&(t["default"]=r.fetch.bind(r)),t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response},5335:function(e,t,n){"use strict";e.exports=r;var i=n(251);function r(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}r.Varint=0,r.Fixed64=1,r.Bytes=2,r.Fixed32=5;var o=4294967296,a=1/o,s=12,l="undefined"===typeof TextDecoder?null:new TextDecoder("utf8");function u(e,t,n){var i,r,o=n.buf;if(r=o[n.pos++],i=(112&r)>>4,r<128)return h(e,i,t);if(r=o[n.pos++],i|=(127&r)<<3,r<128)return h(e,i,t);if(r=o[n.pos++],i|=(127&r)<<10,r<128)return h(e,i,t);if(r=o[n.pos++],i|=(127&r)<<17,r<128)return h(e,i,t);if(r=o[n.pos++],i|=(127&r)<<24,r<128)return h(e,i,t);if(r=o[n.pos++],i|=(1&r)<<31,r<128)return h(e,i,t);throw new Error("Expected varint not more than 10 bytes")}function c(e){return e.type===r.Bytes?e.readVarint()+e.pos:e.pos+1}function h(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function d(e,t){var n,i;if(e>=0?(n=e%4294967296|0,i=e/4294967296|0):(n=~(-e%4294967296),i=~(-e/4294967296),4294967295^n?n=n+1|0:(n=0,i=i+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),p(n,i,t),g(i,t)}function p(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos]=127&e}function g(e,t){var n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}function f(e,t,n){var i=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(i);for(var r=n.pos-1;r>=e;r--)n.buf[r+i]=n.buf[r]}function m(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function v(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function y(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function A(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function _(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function C(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function I(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function E(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function w(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function b(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function x(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function S(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function P(e,t,n){var i="",r=t;while(r<n){var o,a,s,l=e[r],u=null,c=l>239?4:l>223?3:l>191?2:1;if(r+c>n)break;1===c?l<128&&(u=l):2===c?(o=e[r+1],128===(192&o)&&(u=(31&l)<<6|63&o,u<=127&&(u=null))):3===c?(o=e[r+1],a=e[r+2],128===(192&o)&&128===(192&a)&&(u=(15&l)<<12|(63&o)<<6|63&a,(u<=2047||u>=55296&&u<=57343)&&(u=null))):4===c&&(o=e[r+1],a=e[r+2],s=e[r+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s,(u<=65535||u>=1114112)&&(u=null))),null===u?(u=65533,c=1):u>65535&&(u-=65536,i+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),i+=String.fromCharCode(u),r+=c}return i}function M(e,t,n){return l.decode(e.subarray(t,n))}function k(e,t,n){for(var i,r,o=0;o<t.length;o++){if(i=t.charCodeAt(o),i>55295&&i<57344){if(!r){i>56319||o+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):r=i;continue}if(i<56320){e[n++]=239,e[n++]=191,e[n++]=189,r=i;continue}i=r-55296<<10|i-56320|65536,r=null}else r&&(e[n++]=239,e[n++]=191,e[n++]=189,r=null);i<128?e[n++]=i:(i<2048?e[n++]=i>>6|192:(i<65536?e[n++]=i>>12|224:(e[n++]=i>>18|240,e[n++]=i>>12&63|128),e[n++]=i>>6&63|128),e[n++]=63&i|128)}return n}r.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){n=n||this.length;while(this.pos<n){var i=this.readVarint(),r=i>>3,o=this.pos;this.type=7&i,e(r,t,this),this.pos===o&&this.skip(i)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=b(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=S(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=b(this.buf,this.pos)+b(this.buf,this.pos+4)*o;return this.pos+=8,e},readSFixed64:function(){var e=b(this.buf,this.pos)+S(this.buf,this.pos+4)*o;return this.pos+=8,e},readFloat:function(){var e=i.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=i.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,i=this.buf;return n=i[this.pos++],t=127&n,n<128?t:(n=i[this.pos++],t|=(127&n)<<7,n<128?t:(n=i[this.pos++],t|=(127&n)<<14,n<128?t:(n=i[this.pos++],t|=(127&n)<<21,n<128?t:(n=i[this.pos],t|=(15&n)<<28,u(t,e,this)))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2===1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=s&&l?M(this.buf,t,e):P(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==r.Bytes)return e.push(this.readVarint(t));var n=c(this);e=e||[];while(this.pos<n)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==r.Bytes)return e.push(this.readSVarint());var t=c(this);e=e||[];while(this.pos<t)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==r.Bytes)return e.push(this.readBoolean());var t=c(this);e=e||[];while(this.pos<t)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==r.Bytes)return e.push(this.readFloat());var t=c(this);e=e||[];while(this.pos<t)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==r.Bytes)return e.push(this.readDouble());var t=c(this);e=e||[];while(this.pos<t)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==r.Bytes)return e.push(this.readFixed32());var t=c(this);e=e||[];while(this.pos<t)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==r.Bytes)return e.push(this.readSFixed32());var t=c(this);e=e||[];while(this.pos<t)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==r.Bytes)return e.push(this.readFixed64());var t=c(this);e=e||[];while(this.pos<t)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==r.Bytes)return e.push(this.readSFixed64());var t=c(this);e=e||[];while(this.pos<t)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===r.Varint)while(this.buf[this.pos++]>127);else if(t===r.Bytes)this.pos=this.readVarint()+this.pos;else if(t===r.Fixed32)this.pos+=4;else{if(t!==r.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){var t=this.length||16;while(t<this.pos+e)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),x(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),x(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),x(this.buf,-1&e,this.pos),x(this.buf,Math.floor(e*a),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),x(this.buf,-1&e,this.pos),x(this.buf,Math.floor(e*a),this.pos+4),this.pos+=8},writeVarint:function(e){e=+e||0,e>268435455||e<0?d(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=k(this.buf,e,this.pos);var n=this.pos-t;n>=128&&f(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),i.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),i.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var i=this.pos-n;i>=128&&f(n,i,this),this.pos=n-1,this.writeVarint(i),this.pos+=i},writeMessage:function(e,t,n){this.writeTag(e,r.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,m,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,v,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,_,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,y,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,A,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,C,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,I,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,E,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,w,t)},writeBytesField:function(e,t){this.writeTag(e,r.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,r.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,r.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,r.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,r.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,r.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,r.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,r.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,r.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,r.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}}},5341:function(e){!function(t,n){e.exports=n()}(0,(function(){"use strict";function e(e,i,r,o,a){!function e(n,i,r,o,a){for(;o>r;){if(o-r>600){var s=o-r+1,l=i-r+1,u=Math.log(s),c=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1),d=Math.max(r,Math.floor(i-l*c/s+h)),p=Math.min(o,Math.floor(i+(s-l)*c/s+h));e(n,i,d,p,a)}var g=n[i],f=r,m=o;for(t(n,r,i),a(n[o],g)>0&&t(n,r,o);f<m;){for(t(n,f,m),f++,m--;a(n[f],g)<0;)f++;for(;a(n[m],g)>0;)m--}0===a(n[r],g)?t(n,r,m):t(n,++m,o),m<=i&&(r=m+1),i<=m&&(o=m-1)}}(e,i,r||0,o||e.length-1,a||n)}function t(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function n(e,t){return e<t?-1:e>t?1:0}var i=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function r(e,t,n){if(!n)return t.indexOf(e);for(var i=0;i<t.length;i++)if(n(e,t[i]))return i;return-1}function o(e,t){a(e,0,e.children.length,t,e)}function a(e,t,n,i,r){r||(r=g(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o=t;o<n;o++){var a=e.children[o];s(r,e.leaf?i(a):a)}return r}function s(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function l(e,t){return e.minX-t.minX}function u(e,t){return e.minY-t.minY}function c(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function h(e){return e.maxX-e.minX+(e.maxY-e.minY)}function d(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function p(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function g(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function f(t,n,i,r,o){for(var a=[n,i];a.length;)if(!((i=a.pop())-(n=a.pop())<=r)){var s=n+Math.ceil((i-n)/r/2)*r;e(t,s,n,i,o),a.push(n,s,s,i)}}return i.prototype.all=function(){return this._all(this.data,[])},i.prototype.search=function(e){var t=this.data,n=[];if(!p(e,t))return n;for(var i=this.toBBox,r=[];t;){for(var o=0;o<t.children.length;o++){var a=t.children[o],s=t.leaf?i(a):a;p(e,s)&&(t.leaf?n.push(a):d(e,s)?this._all(a,n):r.push(a))}t=r.pop()}return n},i.prototype.collides=function(e){var t=this.data;if(!p(e,t))return!1;for(var n=[];t;){for(var i=0;i<t.children.length;i++){var r=t.children[i],o=t.leaf?this.toBBox(r):r;if(p(e,o)){if(t.leaf||d(e,o))return!0;n.push(r)}}t=n.pop()}return!1},i.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},i.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},i.prototype.clear=function(){return this.data=g([]),this},i.prototype.remove=function(e,t){if(!e)return this;for(var n,i,o,a=this.data,s=this.toBBox(e),l=[],u=[];a||l.length;){if(a||(a=l.pop(),i=l[l.length-1],n=u.pop(),o=!0),a.leaf){var c=r(e,a.children,t);if(-1!==c)return a.children.splice(c,1),l.push(a),this._condense(l),this}o||a.leaf||!d(a,s)?i?(n++,a=i.children[n],o=!1):a=null:(l.push(a),u.push(n),n=0,i=a,a=a.children[0])}return this},i.prototype.toBBox=function(e){return e},i.prototype.compareMinX=function(e,t){return e.minX-t.minX},i.prototype.compareMinY=function(e,t){return e.minY-t.minY},i.prototype.toJSON=function(){return this.data},i.prototype.fromJSON=function(e){return this.data=e,this},i.prototype._all=function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},i.prototype._build=function(e,t,n,i){var r,a=n-t+1,s=this._maxEntries;if(a<=s)return o(r=g(e.slice(t,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,i-1))),(r=g([])).leaf=!1,r.height=i;var l=Math.ceil(a/s),u=l*Math.ceil(Math.sqrt(s));f(e,t,n,u,this.compareMinX);for(var c=t;c<=n;c+=u){var h=Math.min(c+u-1,n);f(e,c,h,l,this.compareMinY);for(var d=c;d<=h;d+=l){var p=Math.min(d+l-1,h);r.children.push(this._build(e,d,p,i-1))}}return o(r,this.toBBox),r},i.prototype._chooseSubtree=function(e,t,n,i){for(;i.push(t),!t.leaf&&i.length-1!==n;){for(var r=1/0,o=1/0,a=void 0,s=0;s<t.children.length;s++){var l=t.children[s],u=c(l),h=(d=e,p=l,(Math.max(p.maxX,d.maxX)-Math.min(p.minX,d.minX))*(Math.max(p.maxY,d.maxY)-Math.min(p.minY,d.minY))-u);h<o?(o=h,r=u<r?u:r,a=l):h===o&&u<r&&(r=u,a=l)}t=a||t.children[0]}var d,p;return t},i.prototype._insert=function(e,t,n){var i=n?e:this.toBBox(e),r=[],o=this._chooseSubtree(i,this.data,t,r);for(o.children.push(e),s(o,i);t>=0&&r[t].children.length>this._maxEntries;)this._split(r,t),t--;this._adjustParentBBoxes(i,r,t)},i.prototype._split=function(e,t){var n=e[t],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var a=this._chooseSplitIndex(n,r,i),s=g(n.children.splice(a,n.children.length-a));s.height=n.height,s.leaf=n.leaf,o(n,this.toBBox),o(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(n,s)},i.prototype._splitRoot=function(e,t){this.data=g([e,t]),this.data.height=e.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},i.prototype._chooseSplitIndex=function(e,t,n){for(var i,r,o,s,l,u,h,d=1/0,p=1/0,g=t;g<=n-t;g++){var f=a(e,0,g,this.toBBox),m=a(e,g,n,this.toBBox),v=(r=f,o=m,s=void 0,l=void 0,u=void 0,h=void 0,s=Math.max(r.minX,o.minX),l=Math.max(r.minY,o.minY),u=Math.min(r.maxX,o.maxX),h=Math.min(r.maxY,o.maxY),Math.max(0,u-s)*Math.max(0,h-l)),y=c(f)+c(m);v<d?(d=v,i=g,p=y<p?y:p):v===d&&y<p&&(p=y,i=g)}return i||n-t},i.prototype._chooseSplitAxis=function(e,t,n){var i=e.leaf?this.compareMinX:l,r=e.leaf?this.compareMinY:u;this._allDistMargin(e,t,n,i)<this._allDistMargin(e,t,n,r)&&e.children.sort(i)},i.prototype._allDistMargin=function(e,t,n,i){e.children.sort(i);for(var r=this.toBBox,o=a(e,0,t,r),l=a(e,n-t,n,r),u=h(o)+h(l),c=t;c<n-t;c++){var d=e.children[c];s(o,e.leaf?r(d):d),u+=h(o)}for(var p=n-t-1;p>=t;p--){var g=e.children[p];s(l,e.leaf?r(g):g),u+=h(l)}return u},i.prototype._adjustParentBBoxes=function(e,t,n){for(var i=n;i>=0;i--)s(t[i],e)},i.prototype._condense=function(e){for(var t=e.length-1,n=void 0;t>=0;t--)0===e[t].children.length?t>0?(n=e[t-1].children).splice(n.indexOf(e[t]),1):this.clear():o(e[t],this.toBBox)},i}))},6262:function(e,t){"use strict";t.A=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n}},9374:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e["DEBUG"]="debug",e["INFO"]="info",e["WARN"]="warn",e["ERROR"]="error",e["FATAL"]="fatal"}(t.LogLevels||(t.LogLevels={}))},3025:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(9491));r.default.polyfill();var o=i(n(7161));t["default"]=o.default},7161:function(e,t,n){"use strict";var i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i};Object.defineProperty(t,"__esModule",{value:!0});var r=n(9374),o=function(){function e(){this.errorMessage="Provided options for vuejs-logger are not valid.",this.logLevels=Object.keys(r.LogLevels).map((function(e){return e.toLowerCase()}))}return e.prototype.install=function(e,t){if(t=Object.assign(this.getDefaultOptions(),t),!this.isValidOptions(t,this.logLevels))throw new Error(this.errorMessage);e.$log=this.initLoggerInstance(t,this.logLevels),e.provide("vuejs3-logger",e.$log),e.config.globalProperties.$log=e.$log},e.prototype.isValidOptions=function(e,t){return!!(e.logLevel&&"string"===typeof e.logLevel&&t.indexOf(e.logLevel)>-1)&&((!e.stringifyArguments||"boolean"===typeof e.stringifyArguments)&&((!e.showLogLevel||"boolean"===typeof e.showLogLevel)&&((!e.showConsoleColors||"boolean"===typeof e.showConsoleColors)&&((!e.separator||!("string"!==typeof e.separator||"string"===typeof e.separator&&e.separator.length>3))&&("boolean"===typeof e.isEnabled&&!(e.showMethodName&&"boolean"!==typeof e.showMethodName))))))},e.prototype.getMethodName=function(){var e={};try{throw new Error("")}catch(n){e=n}if(void 0===e.stack)return"";var t=e.stack.split("\n")[3];return/ /.test(t)&&(t=t.trim().split(" ")[1]),t&&t.indexOf(".")>-1&&(t=t.split(".")[1]),t},e.prototype.initLoggerInstance=function(e,t){var n=this,i={};return t.forEach((function(r){t.indexOf(r)>=t.indexOf(e.logLevel)&&e.isEnabled?i[r]=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o=n.getMethodName(),a=e.showMethodName?o+" "+e.separator+" ":"",s=e.showLogLevel?r+" "+e.separator+" ":"",l=e.stringifyArguments?t.map((function(e){return JSON.stringify(e)})):t,u=s+" "+a;return n.printLogMessage(r,u,e.showConsoleColors,l),u+" "+l.toString()}:i[r]=function(){}})),i},e.prototype.printLogMessage=function(e,t,n,r){!n||"warn"!==e&&"error"!==e&&"fatal"!==e?console.log.apply(console,i([t],r)):console["fatal"===e?"error":e].apply(console,i([t],r))},e.prototype.getDefaultOptions=function(){return{isEnabled:!0,logLevel:r.LogLevels.DEBUG,separator:"|",showConsoleColors:!1,showLogLevel:!1,showMethodName:!1,stringifyArguments:!1}},e}();t["default"]=new o},9788:function(e,t,n){function i(e){this.options=e||{locator:{}}}function r(e,t,n){if(!e){if(t instanceof o)return t;e=t}var i={},r=e instanceof Function;function a(t){var o=e[t];!o&&r&&(o=2==e.length?function(n){e(t,n)}:e),i[t]=o&&function(e){o("[xmldom "+t+"]\t"+e+s(n))}||function(){}}return n=n||{},a("warning"),a("error"),a("fatalError"),i}function o(){this.cdata=!1}function a(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function s(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function l(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function u(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}i.prototype.parseFromString=function(e,t){var n=this.options,i=new c,a=n.domBuilder||new o,s=n.errorHandler,l=n.locator,u=n.xmlns||{},h={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return l&&a.setDocumentLocator(l),i.errorHandler=r(s,a,l),i.domBuilder=n.domBuilder||a,/\/x?html?$/.test(t)&&(h.nbsp=" ",h.copy="©",u[""]="http://www.w3.org/1999/xhtml"),u.xml=u.xml||"http://www.w3.org/XML/1998/namespace",e?i.parse(e,u,h):i.errorHandler.error("invalid doc source"),a.doc},o.prototype={startDocument:function(){this.doc=(new h).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,i){var r=this.doc,o=r.createElementNS(e,n||t),s=i.length;u(this,o),this.currentElement=o,this.locator&&a(this.locator,o);for(var l=0;l<s;l++){e=i.getURI(l);var c=i.getValue(l),h=(n=i.getQName(l),r.createAttributeNS(e,n));this.locator&&a(i.getLocator(l),h),h.value=h.nodeValue=c,o.setAttributeNode(h)}},endElement:function(e,t,n){var i=this.currentElement;i.tagName;this.currentElement=i.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&a(this.locator,n),u(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=l.apply(this,arguments),e){if(this.cdata)var i=this.doc.createCDATASection(e);else i=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(e)&&this.doc.appendChild(i),this.locator&&a(this.locator,i)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=l.apply(this,arguments);var i=this.doc.createComment(e);this.locator&&a(this.locator,i),u(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var r=i.createDocumentType(e,t,n);this.locator&&a(this.locator,r),u(this,r)}},warning:function(e){console.warn("[xmldom warning]\t"+e,s(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,s(this.locator))},fatalError:function(e){throw console.error("[xmldom fatalError]\t"+e,s(this.locator)),e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){o.prototype[e]=function(){return null}}));var c=n(7494).$,h=n(3278).DOMImplementation;n(3278),t.S=i},3278:function(e,t){function n(e,t){for(var n in e)t[n]=e[n]}function i(e,t){var i=e.prototype;if(Object.create){var r=Object.create(t.prototype);i.__proto__=r}if(!(i instanceof t)){function o(){}o.prototype=t.prototype,o=new o,n(i,o),e.prototype=i=o}i.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),i.constructor=e)}var r="http://www.w3.org/1999/xhtml",o={},a=o.ELEMENT_NODE=1,s=o.ATTRIBUTE_NODE=2,l=o.TEXT_NODE=3,u=o.CDATA_SECTION_NODE=4,c=o.ENTITY_REFERENCE_NODE=5,h=o.ENTITY_NODE=6,d=o.PROCESSING_INSTRUCTION_NODE=7,p=o.COMMENT_NODE=8,g=o.DOCUMENT_NODE=9,f=o.DOCUMENT_TYPE_NODE=10,m=o.DOCUMENT_FRAGMENT_NODE=11,v=o.NOTATION_NODE=12,y={},A={},_=(y.INDEX_SIZE_ERR=(A[1]="Index size error",1),y.DOMSTRING_SIZE_ERR=(A[2]="DOMString size error",2),y.HIERARCHY_REQUEST_ERR=(A[3]="Hierarchy request error",3)),C=(y.WRONG_DOCUMENT_ERR=(A[4]="Wrong document",4),y.INVALID_CHARACTER_ERR=(A[5]="Invalid character",5),y.NO_DATA_ALLOWED_ERR=(A[6]="No data allowed",6),y.NO_MODIFICATION_ALLOWED_ERR=(A[7]="No modification allowed",7),y.NOT_FOUND_ERR=(A[8]="Not found",8)),I=(y.NOT_SUPPORTED_ERR=(A[9]="Not supported",9),y.INUSE_ATTRIBUTE_ERR=(A[10]="Attribute in use",10));y.INVALID_STATE_ERR=(A[11]="Invalid state",11),y.SYNTAX_ERR=(A[12]="Syntax error",12),y.INVALID_MODIFICATION_ERR=(A[13]="Invalid modification",13),y.NAMESPACE_ERR=(A[14]="Invalid namespace",14),y.INVALID_ACCESS_ERR=(A[15]="Invalid access",15);function E(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,A[e]),this.message=A[e],Error.captureStackTrace&&Error.captureStackTrace(this,E);return n.code=e,t&&(this.message=this.message+": "+t),n}function w(){}function b(e,t){this._node=e,this._refresh=t,x(this)}function x(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var i=e._refresh(e._node);ae(e,"length",i.length),n(i,e),e._inc=t}}function S(){}function P(e,t){var n=e.length;while(n--)if(e[n]===t)return n}function M(e,t,n,i){if(i?t[P(t,i)]=n:t[t.length++]=n,e){n.ownerElement=e;var r=e.ownerDocument;r&&(i&&N(r,e,i),D(r,e,n))}}function k(e,t,n){var i=P(t,n);if(!(i>=0))throw E(C,new Error(e.tagName+"@"+n));var r=t.length-1;while(i<r)t[i]=t[++i];if(t.length=r,e){var o=e.ownerDocument;o&&(N(o,e,n),n.ownerElement=null)}}function R(e){if(this._features={},e)for(var t in e)this._features=e[t]}function T(){}function L(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function G(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(G(e,t))return!0}while(e=e.nextSibling)}function O(){}function D(e,t,n){e&&e._inc++;var i=n.namespaceURI;"http://www.w3.org/2000/xmlns/"==i&&(t._nsMap[n.prefix?n.localName:""]=n.value)}function N(e,t,n,i){e&&e._inc++;var r=n.namespaceURI;"http://www.w3.org/2000/xmlns/"==r&&delete t._nsMap[n.prefix?n.localName:""]}function F(e,t,n){if(e&&e._inc){e._inc++;var i=t.childNodes;if(n)i[i.length++]=n;else{var r=t.firstChild,o=0;while(r)i[o++]=r,r=r.nextSibling;i.length=o}}}function U(e,t){var n=t.previousSibling,i=t.nextSibling;return n?n.nextSibling=i:e.firstChild=i,i?i.previousSibling=n:e.lastChild=n,F(e.ownerDocument,e),t}function B(e,t,n){var i=t.parentNode;if(i&&i.removeChild(t),t.nodeType===m){var r=t.firstChild;if(null==r)return t;var o=t.lastChild}else r=o=t;var a=n?n.previousSibling:e.lastChild;r.previousSibling=a,o.nextSibling=n,a?a.nextSibling=r:e.firstChild=r,null==n?e.lastChild=o:n.previousSibling=o;do{r.parentNode=e}while(r!==o&&(r=r.nextSibling));return F(e.ownerDocument||e,e),t.nodeType==m&&(t.firstChild=t.lastChild=null),t}function j(e,t){var n=t.parentNode;if(n){var i=e.lastChild;n.removeChild(t);i=e.lastChild}i=e.lastChild;return t.parentNode=e,t.previousSibling=i,t.nextSibling=null,i?i.nextSibling=t:e.firstChild=t,e.lastChild=t,F(e.ownerDocument,e,t),t}function z(){this._nsMap={}}function W(){}function V(){}function Y(){}function H(){}function q(){}function X(){}function Z(){}function K(){}function J(){}function Q(){}function $(){}function ee(){}function te(e,t){var n=[],i=9==this.nodeType?this.documentElement:this,r=i.prefix,o=i.namespaceURI;if(o&&null==r){r=i.lookupPrefix(o);if(null==r)var a=[{namespace:o,prefix:null}]}return ie(this,n,e,t,a),n.join("")}function ne(e,t,n){var i=e.prefix||"",r=e.namespaceURI;if(!i&&!r)return!1;if("xml"===i&&"http://www.w3.org/XML/1998/namespace"===r||"http://www.w3.org/2000/xmlns/"==r)return!1;var o=n.length;while(o--){var a=n[o];if(a.prefix==i)return a.namespace!=r}return!0}function ie(e,t,n,i,o){if(i){if(e=i(e),!e)return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case a:o||(o=[]);o.length;var h=e.attributes,v=h.length,y=e.firstChild,A=e.tagName;n=r===e.namespaceURI||n,t.push("<",A);for(var _=0;_<v;_++){var C=h.item(_);"xmlns"==C.prefix?o.push({prefix:C.localName,namespace:C.value}):"xmlns"==C.nodeName&&o.push({prefix:"",namespace:C.value})}for(_=0;_<v;_++){C=h.item(_);if(ne(C,n,o)){var I=C.prefix||"",E=C.namespaceURI,w=I?" xmlns:"+I:" xmlns";t.push(w,'="',E,'"'),o.push({prefix:I,namespace:E})}ie(C,t,n,i,o)}if(ne(e,n,o)){I=e.prefix||"",E=e.namespaceURI,w=I?" xmlns:"+I:" xmlns";t.push(w,'="',E,'"'),o.push({prefix:I,namespace:E})}if(y||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(A)){if(t.push(">"),n&&/^script$/i.test(A))while(y)y.data?t.push(y.data):ie(y,t,n,i,o),y=y.nextSibling;else while(y)ie(y,t,n,i,o),y=y.nextSibling;t.push("</",A,">")}else t.push("/>");return;case g:case m:y=e.firstChild;while(y)ie(y,t,n,i,o),y=y.nextSibling;return;case s:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,L),'"');case l:return t.push(e.data.replace(/[<&]/g,L));case u:return t.push("<![CDATA[",e.data,"]]>");case p:return t.push("\x3c!--",e.data,"--\x3e");case f:var b=e.publicId,x=e.systemId;if(t.push("<!DOCTYPE ",e.name),b)t.push(' PUBLIC "',b),x&&"."!=x&&t.push('" "',x),t.push('">');else if(x&&"."!=x)t.push(' SYSTEM "',x,'">');else{var S=e.internalSubset;S&&t.push(" [",S,"]"),t.push(">")}return;case d:return t.push("<?",e.target," ",e.data,"?>");case c:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function re(e,t,n){var i;switch(t.nodeType){case a:i=t.cloneNode(!1),i.ownerDocument=e;case m:break;case s:n=!0;break}if(i||(i=t.cloneNode(!1)),i.ownerDocument=e,i.parentNode=null,n){var r=t.firstChild;while(r)i.appendChild(re(e,r,n)),r=r.nextSibling}return i}function oe(e,t,n){var i=new t.constructor;for(var r in t){var o=t[r];"object"!=typeof o&&o!=i[r]&&(i[r]=o)}switch(t.childNodes&&(i.childNodes=new w),i.ownerDocument=e,i.nodeType){case a:var l=t.attributes,u=i.attributes=new S,c=l.length;u._ownerElement=i;for(var h=0;h<c;h++)i.setAttributeNode(oe(e,l.item(h),!0));break;case s:n=!0}if(n){var d=t.firstChild;while(d)i.appendChild(oe(e,d,n)),d=d.nextSibling}return i}function ae(e,t,n){e[t]=n}E.prototype=Error.prototype,n(y,E),w.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],i=0;i<this.length;i++)ie(this[i],n,e,t);return n.join("")}},b.prototype.item=function(e){return x(this),this[e]},i(b,w),S.prototype={length:0,item:w.prototype.item,getNamedItem:function(e){var t=this.length;while(t--){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new E(I);var n=this.getNamedItem(e.nodeName);return M(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new E(I);return t=this.getNamedItemNS(e.namespaceURI,e.localName),M(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return k(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return k(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){var n=this.length;while(n--){var i=this[n];if(i.localName==t&&i.namespaceURI==e)return i}return null}},R.prototype={hasFeature:function(e,t){var n=this._features[e.toLowerCase()];return!(!n||t&&!(t in n))},createDocument:function(e,t,n){var i=new O;if(i.implementation=this,i.childNodes=new w,i.doctype=n,n&&i.appendChild(n),t){var r=i.createElementNS(e,t);i.appendChild(r)}return i},createDocumentType:function(e,t,n){var i=new X;return i.name=e,i.nodeName=e,i.publicId=t,i.systemId=n,i}},T.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return B(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return U(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return oe(this.ownerDocument||this,this,e)},normalize:function(){var e=this.firstChild;while(e){var t=e.nextSibling;t&&t.nodeType==l&&e.nodeType==l?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){var t=this;while(t){var n=t._nsMap;if(n)for(var i in n)if(n[i]==e)return i;t=t.nodeType==s?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){var t=this;while(t){var n=t._nsMap;if(n&&e in n)return n[e];t=t.nodeType==s?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){var t=this.lookupPrefix(e);return null==t}},n(o,T),n(o,T.prototype),O.prototype={nodeName:"#document",nodeType:g,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==m){var n=e.firstChild;while(n){var i=n.nextSibling;this.insertBefore(n,t),n=i}return e}return null==this.documentElement&&e.nodeType==a&&(this.documentElement=e),B(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),U(this,e)},importNode:function(e,t){return re(this,e,t)},getElementById:function(e){var t=null;return G(this.documentElement,(function(n){if(n.nodeType==a&&n.getAttribute("id")==e)return t=n,!0})),t},createElement:function(e){var t=new z;t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new w;var n=t.attributes=new S;return n._ownerElement=t,t},createDocumentFragment:function(){var e=new Q;return e.ownerDocument=this,e.childNodes=new w,e},createTextNode:function(e){var t=new Y;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new H;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new q;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new $;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new W;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new J;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new z,i=t.split(":"),r=n.attributes=new S;return n.childNodes=new w,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,r._ownerElement=n,n},createAttributeNS:function(e,t){var n=new W,i=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,n}},i(O,T),z.prototype={nodeType:a,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===m?this.insertBefore(e,null):j(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var i=this.ownerDocument.createAttributeNS(e,t);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new b(this,(function(t){var n=[];return G(t,(function(i){i===t||i.nodeType!=a||"*"!==e&&i.tagName!=e||n.push(i)})),n}))},getElementsByTagNameNS:function(e,t){return new b(this,(function(n){var i=[];return G(n,(function(r){r===n||r.nodeType!==a||"*"!==e&&r.namespaceURI!==e||"*"!==t&&r.localName!=t||i.push(r)})),i}))}},O.prototype.getElementsByTagName=z.prototype.getElementsByTagName,O.prototype.getElementsByTagNameNS=z.prototype.getElementsByTagNameNS,i(z,T),W.prototype.nodeType=s,i(W,T),V.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(A[_])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){var i=this.data.substring(0,e),r=this.data.substring(e+t);n=i+n+r,this.nodeValue=this.data=n,this.length=n.length}},i(V,T),Y.prototype={nodeName:"#text",nodeType:l,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}},i(Y,V),H.prototype={nodeName:"#comment",nodeType:p},i(H,V),q.prototype={nodeName:"#cdata-section",nodeType:u},i(q,V),X.prototype.nodeType=f,i(X,T),Z.prototype.nodeType=v,i(Z,T),K.prototype.nodeType=h,i(K,T),J.prototype.nodeType=c,i(J,T),Q.prototype.nodeName="#document-fragment",Q.prototype.nodeType=m,i(Q,T),$.prototype.nodeType=d,i($,T),ee.prototype.serializeToString=function(e,t,n){return te.call(e,t,n)},T.prototype.toString=te;try{if(Object.defineProperty){function se(e){switch(e.nodeType){case a:case m:var t=[];e=e.firstChild;while(e)7!==e.nodeType&&8!==e.nodeType&&t.push(se(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(b.prototype,"length",{get:function(){return x(this),this.$$length}}),Object.defineProperty(T.prototype,"textContent",{get:function(){return se(this)},set:function(e){switch(this.nodeType){case a:case m:while(this.firstChild)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),ae=function(e,t,n){e["$$"+t]=n}}}catch(le){}t.DOMImplementation=R},7494:function(e,t){var n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,i=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),r=new RegExp("^"+n.source+i.source+"*(?::"+n.source+i.source+"*)?$"),o=0,a=1,s=2,l=3,u=4,c=5,h=6,d=7;function p(){}function g(e,t,n,i,r){function o(e){if(e>65535){e-=65536;var t=55296+(e>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}function a(e){var t=e.slice(1,-1);return t in n?n[t]:"#"===t.charAt(0)?o(parseInt(t.substr(1).replace("x","0x"))):(r.error("entity not found:"+e),e)}function s(t){if(t>_){var n=e.substring(_,t).replace(/&#?\w+;/g,a);d&&l(_),i.characters(n,0,t-_),_=t}}function l(t,n){while(t>=c&&(n=h.exec(e)))u=n.index,c=u+n[0].length,d.lineNumber++;d.columnNumber=t-u+1}var u=0,c=0,h=/.*(?:\r\n?|\n)|.*$/g,d=i.locator,p=[{currentNSMap:t}],g={},_=0;while(1){try{var w=e.indexOf("<",_);if(w<0){if(!e.substr(_).match(/^\s*$/)){var b=i.doc,x=b.createTextNode(e.substr(_));b.appendChild(x),i.currentElement=x}return}switch(w>_&&s(w),e.charAt(w+1)){case"/":var S=e.indexOf(">",w+3),P=e.substring(w+2,S),M=p.pop();S<0?(P=e.substring(w+2).replace(/[\s<].*/,""),r.error("end tag name: "+P+" is not complete:"+M.tagName),S=w+1+P.length):P.match(/\s</)&&(P=P.replace(/[\s<].*/,""),r.error("end tag name: "+P+" maybe not complete"),S=w+1+P.length);var k=M.localNSMap,R=M.tagName==P,T=R||M.tagName&&M.tagName.toLowerCase()==P.toLowerCase();if(T){if(i.endElement(M.uri,M.localName,P),k)for(var L in k)i.endPrefixMapping(L);R||r.fatalError("end tag name: "+P+" is not match the current start tagName:"+M.tagName)}else p.push(M);S++;break;case"?":d&&l(w),S=I(e,w,i);break;case"!":d&&l(w),S=C(e,w,i,r);break;default:d&&l(w);var G=new E,O=p[p.length-1].currentNSMap,D=(S=m(e,w,G,O,a,r),G.length);if(!G.closed&&A(e,S,G.tagName,g)&&(G.closed=!0,n.nbsp||r.warning("unclosed xml attribute")),d&&D){for(var N=f(d,{}),F=0;F<D;F++){var U=G[F];l(U.offset),U.locator=f(d,{})}i.locator=N,v(G,i,O)&&p.push(G),i.locator=d}else v(G,i,O)&&p.push(G);"http://www.w3.org/1999/xhtml"!==G.uri||G.closed?S++:S=y(e,S,G.tagName,a,i)}}catch(B){r.error("element parse error: "+B),S=-1}S>_?_=S:s(Math.max(w,_)+1)}}function f(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function m(e,t,n,i,r,p){var g,f=++t,m=o;while(1){var v=e.charAt(f);switch(v){case"=":if(m===a)g=e.slice(t,f),m=l;else{if(m!==s)throw new Error("attribute equal must after attrName");m=l}break;case"'":case'"':if(m===l||m===a){if(m===a&&(p.warning('attribute value must after "="'),g=e.slice(t,f)),t=f+1,f=e.indexOf(v,t),!(f>0))throw new Error("attribute value no end '"+v+"' match");y=e.slice(t,f).replace(/&#?\w+;/g,r),n.add(g,y,t-1),m=c}else{if(m!=u)throw new Error('attribute value must after "="');y=e.slice(t,f).replace(/&#?\w+;/g,r),n.add(g,y,t),p.warning('attribute "'+g+'" missed start quot('+v+")!!"),t=f+1,m=c}break;case"/":switch(m){case o:n.setTagName(e.slice(t,f));case c:case h:case d:m=d,n.closed=!0;case u:case a:case s:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return p.error("unexpected end of input"),m==o&&n.setTagName(e.slice(t,f)),f;case">":switch(m){case o:n.setTagName(e.slice(t,f));case c:case h:case d:break;case u:case a:y=e.slice(t,f),"/"===y.slice(-1)&&(n.closed=!0,y=y.slice(0,-1));case s:m===s&&(y=g),m==u?(p.warning('attribute "'+y+'" missed quot(")!!'),n.add(g,y.replace(/&#?\w+;/g,r),t)):("http://www.w3.org/1999/xhtml"===i[""]&&y.match(/^(?:disabled|checked|selected)$/i)||p.warning('attribute "'+y+'" missed value!! "'+y+'" instead!!'),n.add(y,y,t));break;case l:throw new Error("attribute value missed!!")}return f;case"":v=" ";default:if(v<=" ")switch(m){case o:n.setTagName(e.slice(t,f)),m=h;break;case a:g=e.slice(t,f),m=s;break;case u:var y=e.slice(t,f).replace(/&#?\w+;/g,r);p.warning('attribute "'+y+'" missed quot(")!!'),n.add(g,y,t);case c:m=h;break}else switch(m){case s:n.tagName;"http://www.w3.org/1999/xhtml"===i[""]&&g.match(/^(?:disabled|checked|selected)$/i)||p.warning('attribute "'+g+'" missed value!! "'+g+'" instead2!!'),n.add(g,g,t),t=f,m=a;break;case c:p.warning('attribute space is required"'+g+'"!!');case h:m=a,t=f;break;case l:m=u,t=f;break;case d:throw new Error("elements closed character '/' and '>' must be connected to")}}f++}}function v(e,t,n){var i=e.tagName,r=null,o=e.length;while(o--){var a=e[o],s=a.qName,l=a.value,u=s.indexOf(":");if(u>0)var c=a.prefix=s.slice(0,u),h=s.slice(u+1),d="xmlns"===c&&h;else h=s,c=null,d="xmlns"===s&&"";a.localName=h,!1!==d&&(null==r&&(r={},_(n,n={})),n[d]=r[d]=l,a.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(d,l))}o=e.length;while(o--){a=e[o];c=a.prefix;c&&("xml"===c&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==c&&(a.uri=n[c||""]))}u=i.indexOf(":");u>0?(c=e.prefix=i.slice(0,u),h=e.localName=i.slice(u+1)):(c=null,h=e.localName=i);var p=e.uri=n[c||""];if(t.startElement(p,h,i,e),!e.closed)return e.currentNSMap=n,e.localNSMap=r,!0;if(t.endElement(p,h,i),r)for(c in r)t.endPrefixMapping(c)}function y(e,t,n,i,r){if(/^(?:script|textarea)$/i.test(n)){var o=e.indexOf("</"+n+">",t),a=e.substring(t+1,o);if(/[&<]/.test(a))return/^script$/i.test(n)?(r.characters(a,0,a.length),o):(a=a.replace(/&#?\w+;/g,i),r.characters(a,0,a.length),o)}return t+1}function A(e,t,n,i){var r=i[n];return null==r&&(r=e.lastIndexOf("</"+n+">"),r<t&&(r=e.lastIndexOf("</"+n)),i[n]=r),r<t}function _(e,t){for(var n in e)t[n]=e[n]}function C(e,t,n,i){var r=e.charAt(t+2);switch(r){case"-":if("-"===e.charAt(t+3)){var o=e.indexOf("--\x3e",t+4);return o>t?(n.comment(e,t+4,o-t-4),o+3):(i.error("Unclosed comment"),-1)}return-1;default:if("CDATA["==e.substr(t+3,6)){o=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,o-t-9),n.endCDATA(),o+3}var a=b(e,t),s=a.length;if(s>1&&/!doctype/i.test(a[0][0])){var l=a[1][0],u=s>3&&/^public$/i.test(a[2][0])&&a[3][0],c=s>4&&a[4][0],h=a[s-1];return n.startDTD(l,u&&u.replace(/^(['"])(.*?)\1$/,"$2"),c&&c.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),h.index+h[0].length}}return-1}function I(e,t,n){var i=e.indexOf("?>",t);if(i){var r=e.substring(t,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(r){r[0].length;return n.processingInstruction(r[1],r[2]),i+2}return-1}return-1}function E(e){}function w(e,t){return e.__proto__=t,e}function b(e,t){var n,i=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;r.lastIndex=t,r.exec(e);while(n=r.exec(e))if(i.push(n),n[1])return i}p.prototype={parse:function(e,t,n){var i=this.domBuilder;i.startDocument(),_(t,t={}),g(e,t,n,i,this.errorHandler),i.endDocument()}},E.prototype={setTagName:function(e){if(!r.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,n){if(!r.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},w({},w.prototype)instanceof w||(w=function(e,t){function n(){}for(t in n.prototype=t,n=new n,e)n[t]=e[t];return n}),t.$=p},9306:function(e,t,n){"use strict";var i=n(4901),r=n(6823),o=TypeError;e.exports=function(e){if(i(e))return e;throw new o(r(e)+" is not a function")}},5548:function(e,t,n){"use strict";var i=n(3517),r=n(6823),o=TypeError;e.exports=function(e){if(i(e))return e;throw new o(r(e)+" is not a constructor")}},3506:function(e,t,n){"use strict";var i=n(3925),r=String,o=TypeError;e.exports=function(e){if(i(e))return e;throw new o("Can't set "+r(e)+" as a prototype")}},6469:function(e,t,n){"use strict";var i=n(8227),r=n(2360),o=n(4913).f,a=i("unscopables"),s=Array.prototype;void 0===s[a]&&o(s,a,{configurable:!0,value:r(null)}),e.exports=function(e){s[a][e]=!0}},7829:function(e,t,n){"use strict";var i=n(8183).charAt;e.exports=function(e,t,n){return t+(n?i(e,t).length:1)}},679:function(e,t,n){"use strict";var i=n(1625),r=TypeError;e.exports=function(e,t){if(i(t,e))return e;throw new r("Incorrect invocation")}},8551:function(e,t,n){"use strict";var i=n(34),r=String,o=TypeError;e.exports=function(e){if(i(e))return e;throw new o(r(e)+" is not an object")}},5652:function(e,t,n){"use strict";var i=n(9039);e.exports=i((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},4373:function(e,t,n){"use strict";var i=n(8981),r=n(5610),o=n(6198);e.exports=function(e){var t=i(this),n=o(t),a=arguments.length,s=r(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,u=void 0===l?n:r(l,n);while(u>s)t[s++]=e;return t}},235:function(e,t,n){"use strict";var i=n(9213).forEach,r=n(4598),o=r("forEach");e.exports=o?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},7916:function(e,t,n){"use strict";var i=n(6080),r=n(9565),o=n(8981),a=n(6319),s=n(4209),l=n(3517),u=n(6198),c=n(4659),h=n(81),d=n(851),p=Array;e.exports=function(e){var t=o(e),n=l(this),g=arguments.length,f=g>1?arguments[1]:void 0,m=void 0!==f;m&&(f=i(f,g>2?arguments[2]:void 0));var v,y,A,_,C,I,E=d(t),w=0;if(!E||this===p&&s(E))for(v=u(t),y=n?new this(v):p(v);v>w;w++)I=m?f(t[w],w):t[w],c(y,w,I);else for(y=n?new this:[],_=h(t,E),C=_.next;!(A=r(C,_)).done;w++)I=m?a(_,f,[A.value,w],!0):A.value,c(y,w,I);return y.length=w,y}},9617:function(e,t,n){"use strict";var i=n(5397),r=n(5610),o=n(6198),a=function(e){return function(t,n,a){var s=i(t),l=o(s);if(0===l)return!e&&-1;var u,c=r(a,l);if(e&&n!==n){while(l>c)if(u=s[c++],u!==u)return!0}else for(;l>c;c++)if((e||c in s)&&s[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},9213:function(e,t,n){"use strict";var i=n(6080),r=n(9504),o=n(7055),a=n(8981),s=n(6198),l=n(1469),u=r([].push),c=function(e){var t=1===e,n=2===e,r=3===e,c=4===e,h=6===e,d=7===e,p=5===e||h;return function(g,f,m,v){for(var y,A,_=a(g),C=o(_),I=s(C),E=i(f,m),w=0,b=v||l,x=t?b(g,I):n||d?b(g,0):void 0;I>w;w++)if((p||w in C)&&(y=C[w],A=E(y,w,_),e))if(t)x[w]=A;else if(A)switch(e){case 3:return!0;case 5:return y;case 6:return w;case 2:u(x,y)}else switch(e){case 4:return!1;case 7:u(x,y)}return h?-1:r||c?c:x}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},597:function(e,t,n){"use strict";var i=n(9039),r=n(8227),o=n(7388),a=r("species");e.exports=function(e){return o>=51||!i((function(){var t=[],n=t.constructor={};return n[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},4598:function(e,t,n){"use strict";var i=n(9039);e.exports=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){return 1},1)}))}},4527:function(e,t,n){"use strict";var i=n(3724),r=n(4376),o=TypeError,a=Object.getOwnPropertyDescriptor,s=i&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(r(e)&&!a(e,"length").writable)throw new o("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},7680:function(e,t,n){"use strict";var i=n(9504);e.exports=i([].slice)},4488:function(e,t,n){"use strict";var i=n(7680),r=Math.floor,o=function(e,t){var n=e.length;if(n<8){var a,s,l=1;while(l<n){s=l,a=e[l];while(s&&t(e[s-1],a)>0)e[s]=e[--s];s!==l++&&(e[s]=a)}}else{var u=r(n/2),c=o(i(e,0,u),t),h=o(i(e,u),t),d=c.length,p=h.length,g=0,f=0;while(g<d||f<p)e[g+f]=g<d&&f<p?t(c[g],h[f])<=0?c[g++]:h[f++]:g<d?c[g++]:h[f++]}return e};e.exports=o},7433:function(e,t,n){"use strict";var i=n(4376),r=n(3517),o=n(34),a=n(8227),s=a("species"),l=Array;e.exports=function(e){var t;return i(e)&&(t=e.constructor,r(t)&&(t===l||i(t.prototype))?t=void 0:o(t)&&(t=t[s],null===t&&(t=void 0))),void 0===t?l:t}},1469:function(e,t,n){"use strict";var i=n(7433);e.exports=function(e,t){return new(i(e))(0===t?0:t)}},6319:function(e,t,n){"use strict";var i=n(8551),r=n(9539);e.exports=function(e,t,n,o){try{return o?t(i(n)[0],n[1]):t(n)}catch(a){r(e,"throw",a)}}},4428:function(e,t,n){"use strict";var i=n(8227),r=i("iterator"),o=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){o=!0}};s[r]=function(){return this},Array.from(s,(function(){throw 2}))}catch(l){}e.exports=function(e,t){try{if(!t&&!o)return!1}catch(l){return!1}var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(l){}return n}},4576:function(e,t,n){"use strict";var i=n(9504),r=i({}.toString),o=i("".slice);e.exports=function(e){return o(r(e),8,-1)}},6955:function(e,t,n){"use strict";var i=n(2140),r=n(4901),o=n(4576),a=n(8227),s=a("toStringTag"),l=Object,u="Arguments"===o(function(){return arguments}()),c=function(e,t){try{return e[t]}catch(n){}};e.exports=i?o:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=c(t=l(e),s))?n:u?o(t):"Object"===(i=o(t))&&r(t.callee)?"Arguments":i}},6938:function(e,t,n){"use strict";var i=n(2360),r=n(2106),o=n(6279),a=n(6080),s=n(679),l=n(4117),u=n(2652),c=n(1088),h=n(2529),d=n(7633),p=n(3724),g=n(3451).fastKey,f=n(1181),m=f.set,v=f.getterFor;e.exports={getConstructor:function(e,t,n,c){var h=e((function(e,r){s(e,d),m(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),p||(e.size=0),l(r)||u(r,e[c],{that:e,AS_ENTRIES:n})})),d=h.prototype,f=v(t),y=function(e,t,n){var i,r,o=f(e),a=A(e,t);return a?a.value=n:(o.last=a={index:r=g(t,!0),key:t,value:n,previous:i=o.last,next:void 0,removed:!1},o.first||(o.first=a),i&&(i.next=a),p?o.size++:e.size++,"F"!==r&&(o.index[r]=a)),e},A=function(e,t){var n,i=f(e),r=g(t);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key===t)return n};return o(d,{clear:function(){var e=this,t=f(e),n=t.first;while(n)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),n=n.next;t.first=t.last=void 0,t.index=i(null),p?t.size=0:e.size=0},delete:function(e){var t=this,n=f(t),i=A(t,e);if(i){var r=i.next,o=i.previous;delete n.index[i.index],i.removed=!0,o&&(o.next=r),r&&(r.previous=o),n.first===i&&(n.first=r),n.last===i&&(n.last=o),p?n.size--:t.size--}return!!i},forEach:function(e){var t,n=f(this),i=a(e,arguments.length>1?arguments[1]:void 0);while(t=t?t.next:n.first){i(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!A(this,e)}}),o(d,n?{get:function(e){var t=A(this,e);return t&&t.value},set:function(e,t){return y(this,0===e?0:e,t)}}:{add:function(e){return y(this,e=0===e?0:e,e)}}),p&&r(d,"size",{configurable:!0,get:function(){return f(this).size}}),h},setStrong:function(e,t,n){var i=t+" Iterator",r=v(t),o=v(i);c(e,t,(function(e,t){m(this,{type:i,target:e,state:r(e),kind:t,last:void 0})}),(function(){var e=o(this),t=e.kind,n=e.last;while(n&&n.removed)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?h("keys"===t?n.key:"values"===t?n.value:[n.key,n.value],!1):(e.target=void 0,h(void 0,!0))}),n?"entries":"values",!n,!0),d(t)}}},6468:function(e,t,n){"use strict";var i=n(6518),r=n(4475),o=n(9504),a=n(2796),s=n(6840),l=n(3451),u=n(2652),c=n(679),h=n(4901),d=n(4117),p=n(34),g=n(9039),f=n(4428),m=n(687),v=n(3167);e.exports=function(e,t,n){var y=-1!==e.indexOf("Map"),A=-1!==e.indexOf("Weak"),_=y?"set":"add",C=r[e],I=C&&C.prototype,E=C,w={},b=function(e){var t=o(I[e]);s(I,e,"add"===e?function(e){return t(this,0===e?0:e),this}:"delete"===e?function(e){return!(A&&!p(e))&&t(this,0===e?0:e)}:"get"===e?function(e){return A&&!p(e)?void 0:t(this,0===e?0:e)}:"has"===e?function(e){return!(A&&!p(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})},x=a(e,!h(C)||!(A||I.forEach&&!g((function(){(new C).entries().next()}))));if(x)E=n.getConstructor(t,e,y,_),l.enable();else if(a(e,!0)){var S=new E,P=S[_](A?{}:-0,1)!==S,M=g((function(){S.has(1)})),k=f((function(e){new C(e)})),R=!A&&g((function(){var e=new C,t=5;while(t--)e[_](t,t);return!e.has(-0)}));k||(E=t((function(e,t){c(e,I);var n=v(new C,e,E);return d(t)||u(t,n[_],{that:n,AS_ENTRIES:y}),n})),E.prototype=I,I.constructor=E),(M||R)&&(b("delete"),b("has"),y&&b("get")),(R||P)&&b(_),A&&I.clear&&delete I.clear}return w[e]=E,i({global:!0,constructor:!0,forced:E!==C},w),m(E,e),A||n.setStrong(E,e,y),E}},7740:function(e,t,n){"use strict";var i=n(9297),r=n(5031),o=n(7347),a=n(4913);e.exports=function(e,t,n){for(var s=r(t),l=a.f,u=o.f,c=0;c<s.length;c++){var h=s[c];i(e,h)||n&&i(n,h)||l(e,h,u(t,h))}}},1436:function(e,t,n){"use strict";var i=n(8227),r=i("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(i){}}return!1}},2211:function(e,t,n){"use strict";var i=n(9039);e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},7240:function(e,t,n){"use strict";var i=n(9504),r=n(7750),o=n(655),a=/"/g,s=i("".replace);e.exports=function(e,t,n,i){var l=o(r(e)),u="<"+t;return""!==n&&(u+=" "+n+'="'+s(o(i),a,"&quot;")+'"'),u+">"+l+"</"+t+">"}},2529:function(e){"use strict";e.exports=function(e,t){return{value:e,done:t}}},6699:function(e,t,n){"use strict";var i=n(3724),r=n(4913),o=n(6980);e.exports=i?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},6980:function(e){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},4659:function(e,t,n){"use strict";var i=n(3724),r=n(4913),o=n(6980);e.exports=function(e,t,n){i?r.f(e,t,o(0,n)):e[t]=n}},3640:function(e,t,n){"use strict";var i=n(8551),r=n(4270),o=TypeError;e.exports=function(e){if(i(this),"string"===e||"default"===e)e="string";else if("number"!==e)throw new o("Incorrect hint");return r(this,e)}},2106:function(e,t,n){"use strict";var i=n(283),r=n(4913);e.exports=function(e,t,n){return n.get&&i(n.get,t,{getter:!0}),n.set&&i(n.set,t,{setter:!0}),r.f(e,t,n)}},6840:function(e,t,n){"use strict";var i=n(4901),r=n(4913),o=n(283),a=n(9433);e.exports=function(e,t,n,s){s||(s={});var l=s.enumerable,u=void 0!==s.name?s.name:t;if(i(n)&&o(n,u,s),s.global)l?e[t]=n:a(t,n);else{try{s.unsafe?e[t]&&(l=!0):delete e[t]}catch(c){}l?e[t]=n:r.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},6279:function(e,t,n){"use strict";var i=n(6840);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},9433:function(e,t,n){"use strict";var i=n(4475),r=Object.defineProperty;e.exports=function(e,t){try{r(i,e,{value:t,configurable:!0,writable:!0})}catch(n){i[e]=t}return t}},4606:function(e,t,n){"use strict";var i=n(6823),r=TypeError;e.exports=function(e,t){if(!delete e[t])throw new r("Cannot delete property "+i(t)+" of "+i(e))}},3724:function(e,t,n){"use strict";var i=n(9039);e.exports=!i((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4055:function(e,t,n){"use strict";var i=n(4475),r=n(34),o=i.document,a=r(o)&&r(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},6837:function(e){"use strict";var t=TypeError,n=9007199254740991;e.exports=function(e){if(e>n)throw t("Maximum allowed index exceeded");return e}},7400:function(e){"use strict";e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},9296:function(e,t,n){"use strict";var i=n(4055),r=i("span").classList,o=r&&r.constructor&&r.constructor.prototype;e.exports=o===Object.prototype?void 0:o},8834:function(e,t,n){"use strict";var i=n(9392),r=i.match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},7290:function(e,t,n){"use strict";var i=n(516),r=n(9088);e.exports=!i&&!r&&"object"==typeof window&&"object"==typeof document},516:function(e){"use strict";e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},3202:function(e,t,n){"use strict";var i=n(9392);e.exports=/MSIE|Trident/.test(i)},28:function(e,t,n){"use strict";var i=n(9392);e.exports=/ipad|iphone|ipod/i.test(i)&&"undefined"!=typeof Pebble},8119:function(e,t,n){"use strict";var i=n(9392);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},9088:function(e,t,n){"use strict";var i=n(4475),r=n(4576);e.exports="process"===r(i.process)},6765:function(e,t,n){"use strict";var i=n(9392);e.exports=/web0s(?!.*chrome)/i.test(i)},9392:function(e){"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7388:function(e,t,n){"use strict";var i,r,o=n(4475),a=n(9392),s=o.process,l=o.Deno,u=s&&s.versions||l&&l.version,c=u&&u.v8;c&&(i=c.split("."),r=i[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&a&&(i=a.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=a.match(/Chrome\/(\d+)/),i&&(r=+i[1]))),e.exports=r},9160:function(e,t,n){"use strict";var i=n(9392),r=i.match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},8727:function(e){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6193:function(e,t,n){"use strict";var i=n(9504),r=Error,o=i("".replace),a=function(e){return String(new r(e).stack)}("zxcasd"),s=/\n\s*at [^:]*:[^\n]*/,l=s.test(a);e.exports=function(e,t){if(l&&"string"==typeof e&&!r.prepareStackTrace)while(t--)e=o(e,s,"");return e}},747:function(e,t,n){"use strict";var i=n(6699),r=n(6193),o=n(6249),a=Error.captureStackTrace;e.exports=function(e,t,n,s){o&&(a?a(e,t):i(e,"stack",r(n,s)))}},6249:function(e,t,n){"use strict";var i=n(9039),r=n(6980);e.exports=!i((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",r(1,7)),7!==e.stack)}))},6518:function(e,t,n){"use strict";var i=n(4475),r=n(7347).f,o=n(6699),a=n(6840),s=n(9433),l=n(7740),u=n(2796);e.exports=function(e,t){var n,c,h,d,p,g,f=e.target,m=e.global,v=e.stat;if(c=m?i:v?i[f]||s(f,{}):i[f]&&i[f].prototype,c)for(h in t){if(p=t[h],e.dontCallGetSet?(g=r(c,h),d=g&&g.value):d=c[h],n=u(m?h:f+(v?".":"#")+h,e.forced),!n&&void 0!==d){if(typeof p==typeof d)continue;l(p,d)}(e.sham||d&&d.sham)&&o(p,"sham",!0),a(c,h,p,e)}}},9039:function(e){"use strict";e.exports=function(e){try{return!!e()}catch(t){return!0}}},9228:function(e,t,n){"use strict";n(7495);var i=n(9565),r=n(6840),o=n(7323),a=n(9039),s=n(8227),l=n(6699),u=s("species"),c=RegExp.prototype;e.exports=function(e,t,n,h){var d=s(e),p=!a((function(){var t={};return t[d]=function(){return 7},7!==""[e](t)})),g=p&&!a((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[u]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!p||!g||n){var f=/./[d],m=t(d,""[e],(function(e,t,n,r,a){var s=t.exec;return s===o||s===c.exec?p&&!a?{done:!0,value:i(f,t,n,r)}:{done:!0,value:i(e,n,t,r)}:{done:!1}}));r(String.prototype,e,m[0]),r(c,d,m[1])}h&&l(c[d],"sham",!0)}},259:function(e,t,n){"use strict";var i=n(4376),r=n(6198),o=n(6837),a=n(6080),s=function(e,t,n,l,u,c,h,d){var p,g,f=u,m=0,v=!!h&&a(h,d);while(m<l)m in n&&(p=v?v(n[m],m,t):n[m],c>0&&i(p)?(g=r(p),f=s(e,t,p,g,f,c-1)-1):(o(f+1),e[f]=p),f++),m++;return f};e.exports=s},2744:function(e,t,n){"use strict";var i=n(9039);e.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},8745:function(e,t,n){"use strict";var i=n(616),r=Function.prototype,o=r.apply,a=r.call;e.exports="object"==typeof Reflect&&Reflect.apply||(i?a.bind(o):function(){return a.apply(o,arguments)})},6080:function(e,t,n){"use strict";var i=n(7476),r=n(9306),o=n(616),a=i(i.bind);e.exports=function(e,t){return r(e),void 0===t?e:o?a(e,t):function(){return e.apply(t,arguments)}}},616:function(e,t,n){"use strict";var i=n(9039);e.exports=!i((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},566:function(e,t,n){"use strict";var i=n(9504),r=n(9306),o=n(34),a=n(9297),s=n(7680),l=n(616),u=Function,c=i([].concat),h=i([].join),d={},p=function(e,t,n){if(!a(d,t)){for(var i=[],r=0;r<t;r++)i[r]="a["+r+"]";d[t]=u("C,a","return new C("+h(i,",")+")")}return d[t](e,n)};e.exports=l?u.bind:function(e){var t=r(this),n=t.prototype,i=s(arguments,1),a=function(){var n=c(i,s(arguments));return this instanceof a?p(t,n.length,n):t.apply(e,n)};return o(n)&&(a.prototype=n),a}},9565:function(e,t,n){"use strict";var i=n(616),r=Function.prototype.call;e.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},350:function(e,t,n){"use strict";var i=n(3724),r=n(9297),o=Function.prototype,a=i&&Object.getOwnPropertyDescriptor,s=r(o,"name"),l=s&&"something"===function(){}.name,u=s&&(!i||i&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:u}},6706:function(e,t,n){"use strict";var i=n(9504),r=n(9306);e.exports=function(e,t,n){try{return i(r(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(o){}}},7476:function(e,t,n){"use strict";var i=n(4576),r=n(9504);e.exports=function(e){if("Function"===i(e))return r(e)}},9504:function(e,t,n){"use strict";var i=n(616),r=Function.prototype,o=r.call,a=i&&r.bind.bind(o,o);e.exports=i?a:function(e){return function(){return o.apply(e,arguments)}}},7751:function(e,t,n){"use strict";var i=n(4475),r=n(4901),o=function(e){return r(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(i[e]):i[e]&&i[e][t]}},851:function(e,t,n){"use strict";var i=n(6955),r=n(5966),o=n(4117),a=n(6269),s=n(8227),l=s("iterator");e.exports=function(e){if(!o(e))return r(e,l)||r(e,"@@iterator")||a[i(e)]}},81:function(e,t,n){"use strict";var i=n(9565),r=n(9306),o=n(8551),a=n(6823),s=n(851),l=TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(r(n))return o(i(n,e));throw new l(a(e)+" is not iterable")}},6933:function(e,t,n){"use strict";var i=n(9504),r=n(4376),o=n(4901),a=n(4576),s=n(655),l=i([].push);e.exports=function(e){if(o(e))return e;if(r(e)){for(var t=e.length,n=[],i=0;i<t;i++){var u=e[i];"string"==typeof u?l(n,u):"number"!=typeof u&&"Number"!==a(u)&&"String"!==a(u)||l(n,s(u))}var c=n.length,h=!0;return function(e,t){if(h)return h=!1,t;if(r(this))return t;for(var i=0;i<c;i++)if(n[i]===e)return t}}}},5966:function(e,t,n){"use strict";var i=n(9306),r=n(4117);e.exports=function(e,t){var n=e[t];return r(n)?void 0:i(n)}},2478:function(e,t,n){"use strict";var i=n(9504),r=n(8981),o=Math.floor,a=i("".charAt),s=i("".replace),l=i("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,i,h,d){var p=n+e.length,g=i.length,f=c;return void 0!==h&&(h=r(h),f=u),s(d,f,(function(r,s){var u;switch(a(s,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,n);case"'":return l(t,p);case"<":u=h[l(s,1,-1)];break;default:var c=+s;if(0===c)return r;if(c>g){var d=o(c/10);return 0===d?r:d<=g?void 0===i[d-1]?a(s,1):i[d-1]+a(s,1):r}u=i[c-1]}return void 0===u?"":u}))}},4475:function(e,t,n){"use strict";var i=function(e){return e&&e.Math===Math&&e};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||i("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:function(e,t,n){"use strict";var i=n(9504),r=n(8981),o=i({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(r(e),t)}},421:function(e){"use strict";e.exports={}},3138:function(e){"use strict";e.exports=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(n){}}},397:function(e,t,n){"use strict";var i=n(7751);e.exports=i("document","documentElement")},5917:function(e,t,n){"use strict";var i=n(3724),r=n(9039),o=n(4055);e.exports=!i&&!r((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},7055:function(e,t,n){"use strict";var i=n(9504),r=n(9039),o=n(4576),a=Object,s=i("".split);e.exports=r((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"===o(e)?s(e,""):a(e)}:a},3167:function(e,t,n){"use strict";var i=n(4901),r=n(34),o=n(2967);e.exports=function(e,t,n){var a,s;return o&&i(a=t.constructor)&&a!==n&&r(s=a.prototype)&&s!==n.prototype&&o(e,s),e}},3706:function(e,t,n){"use strict";var i=n(9504),r=n(4901),o=n(7629),a=i(Function.toString);r(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},7584:function(e,t,n){"use strict";var i=n(34),r=n(6699);e.exports=function(e,t){i(t)&&"cause"in t&&r(e,"cause",t.cause)}},3451:function(e,t,n){"use strict";var i=n(6518),r=n(9504),o=n(421),a=n(34),s=n(9297),l=n(4913).f,u=n(8480),c=n(298),h=n(4124),d=n(3392),p=n(2744),g=!1,f=d("meta"),m=0,v=function(e){l(e,f,{value:{objectID:"O"+m++,weakData:{}}})},y=function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,f)){if(!h(e))return"F";if(!t)return"E";v(e)}return e[f].objectID},A=function(e,t){if(!s(e,f)){if(!h(e))return!0;if(!t)return!1;v(e)}return e[f].weakData},_=function(e){return p&&g&&h(e)&&!s(e,f)&&v(e),e},C=function(){I.enable=function(){},g=!0;var e=u.f,t=r([].splice),n={};n[f]=1,e(n).length&&(u.f=function(n){for(var i=e(n),r=0,o=i.length;r<o;r++)if(i[r]===f){t(i,r,1);break}return i},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:c.f}))},I=e.exports={enable:C,fastKey:y,getWeakData:A,onFreeze:_};o[f]=!0},1181:function(e,t,n){"use strict";var i,r,o,a=n(8622),s=n(4475),l=n(34),u=n(6699),c=n(9297),h=n(7629),d=n(6119),p=n(421),g="Object already initialized",f=s.TypeError,m=s.WeakMap,v=function(e){return o(e)?r(e):i(e,{})},y=function(e){return function(t){var n;if(!l(t)||(n=r(t)).type!==e)throw new f("Incompatible receiver, "+e+" required");return n}};if(a||h.state){var A=h.state||(h.state=new m);A.get=A.get,A.has=A.has,A.set=A.set,i=function(e,t){if(A.has(e))throw new f(g);return t.facade=e,A.set(e,t),t},r=function(e){return A.get(e)||{}},o=function(e){return A.has(e)}}else{var _=d("state");p[_]=!0,i=function(e,t){if(c(e,_))throw new f(g);return t.facade=e,u(e,_,t),t},r=function(e){return c(e,_)?e[_]:{}},o=function(e){return c(e,_)}}e.exports={set:i,get:r,has:o,enforce:v,getterFor:y}},4209:function(e,t,n){"use strict";var i=n(8227),r=n(6269),o=i("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[o]===e)}},4376:function(e,t,n){"use strict";var i=n(4576);e.exports=Array.isArray||function(e){return"Array"===i(e)}},4901:function(e){"use strict";var t="object"==typeof document&&document.all;e.exports="undefined"==typeof t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},3517:function(e,t,n){"use strict";var i=n(9504),r=n(9039),o=n(4901),a=n(6955),s=n(7751),l=n(3706),u=function(){},c=s("Reflect","construct"),h=/^\s*(?:class|function)\b/,d=i(h.exec),p=!h.test(u),g=function(e){if(!o(e))return!1;try{return c(u,[],e),!0}catch(t){return!1}},f=function(e){if(!o(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!d(h,l(e))}catch(t){return!0}};f.sham=!0,e.exports=!c||r((function(){var e;return g(g.call)||!g(Object)||!g((function(){e=!0}))||e}))?f:g},6575:function(e,t,n){"use strict";var i=n(9297);e.exports=function(e){return void 0!==e&&(i(e,"value")||i(e,"writable"))}},2796:function(e,t,n){"use strict";var i=n(9039),r=n(4901),o=/#|\.prototype\./,a=function(e,t){var n=l[s(e)];return n===c||n!==u&&(r(t)?i(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=a.data={},u=a.NATIVE="N",c=a.POLYFILL="P";e.exports=a},4117:function(e){"use strict";e.exports=function(e){return null===e||void 0===e}},34:function(e,t,n){"use strict";var i=n(4901);e.exports=function(e){return"object"==typeof e?null!==e:i(e)}},3925:function(e,t,n){"use strict";var i=n(34);e.exports=function(e){return i(e)||null===e}},6395:function(e){"use strict";e.exports=!1},788:function(e,t,n){"use strict";var i=n(34),r=n(4576),o=n(8227),a=o("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[a])?!!t:"RegExp"===r(e))}},757:function(e,t,n){"use strict";var i=n(7751),r=n(4901),o=n(1625),a=n(7040),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return r(t)&&o(t.prototype,s(e))}},2652:function(e,t,n){"use strict";var i=n(6080),r=n(9565),o=n(8551),a=n(6823),s=n(4209),l=n(6198),u=n(1625),c=n(81),h=n(851),d=n(9539),p=TypeError,g=function(e,t){this.stopped=e,this.result=t},f=g.prototype;e.exports=function(e,t,n){var m,v,y,A,_,C,I,E=n&&n.that,w=!(!n||!n.AS_ENTRIES),b=!(!n||!n.IS_RECORD),x=!(!n||!n.IS_ITERATOR),S=!(!n||!n.INTERRUPTED),P=i(t,E),M=function(e){return m&&d(m,"normal",e),new g(!0,e)},k=function(e){return w?(o(e),S?P(e[0],e[1],M):P(e[0],e[1])):S?P(e,M):P(e)};if(b)m=e.iterator;else if(x)m=e;else{if(v=h(e),!v)throw new p(a(e)+" is not iterable");if(s(v)){for(y=0,A=l(e);A>y;y++)if(_=k(e[y]),_&&u(f,_))return _;return new g(!1)}m=c(e,v)}C=b?e.next:m.next;while(!(I=r(C,m)).done){try{_=k(I.value)}catch(R){d(m,"throw",R)}if("object"==typeof _&&_&&u(f,_))return _}return new g(!1)}},9539:function(e,t,n){"use strict";var i=n(9565),r=n(8551),o=n(5966);e.exports=function(e,t,n){var a,s;r(e);try{if(a=o(e,"return"),!a){if("throw"===t)throw n;return n}a=i(a,e)}catch(l){s=!0,a=l}if("throw"===t)throw n;if(s)throw a;return r(a),n}},3994:function(e,t,n){"use strict";var i=n(7657).IteratorPrototype,r=n(2360),o=n(6980),a=n(687),s=n(6269),l=function(){return this};e.exports=function(e,t,n,u){var c=t+" Iterator";return e.prototype=r(i,{next:o(+!u,n)}),a(e,c,!1,!0),s[c]=l,e}},1088:function(e,t,n){"use strict";var i=n(6518),r=n(9565),o=n(6395),a=n(350),s=n(4901),l=n(3994),u=n(2787),c=n(2967),h=n(687),d=n(6699),p=n(6840),g=n(8227),f=n(6269),m=n(7657),v=a.PROPER,y=a.CONFIGURABLE,A=m.IteratorPrototype,_=m.BUGGY_SAFARI_ITERATORS,C=g("iterator"),I="keys",E="values",w="entries",b=function(){return this};e.exports=function(e,t,n,a,g,m,x){l(n,t,a);var S,P,M,k=function(e){if(e===g&&O)return O;if(!_&&e&&e in L)return L[e];switch(e){case I:return function(){return new n(this,e)};case E:return function(){return new n(this,e)};case w:return function(){return new n(this,e)}}return function(){return new n(this)}},R=t+" Iterator",T=!1,L=e.prototype,G=L[C]||L["@@iterator"]||g&&L[g],O=!_&&G||k(g),D="Array"===t&&L.entries||G;if(D&&(S=u(D.call(new e)),S!==Object.prototype&&S.next&&(o||u(S)===A||(c?c(S,A):s(S[C])||p(S,C,b)),h(S,R,!0,!0),o&&(f[R]=b))),v&&g===E&&G&&G.name!==E&&(!o&&y?d(L,"name",E):(T=!0,O=function(){return r(G,this)})),g)if(P={values:k(E),keys:m?O:k(I),entries:k(w)},x)for(M in P)(_||T||!(M in L))&&p(L,M,P[M]);else i({target:t,proto:!0,forced:_||T},P);return o&&!x||L[C]===O||p(L,C,O,{name:g}),f[t]=O,P}},7657:function(e,t,n){"use strict";var i,r,o,a=n(9039),s=n(4901),l=n(34),u=n(2360),c=n(2787),h=n(6840),d=n(8227),p=n(6395),g=d("iterator"),f=!1;[].keys&&(o=[].keys(),"next"in o?(r=c(c(o)),r!==Object.prototype&&(i=r)):f=!0);var m=!l(i)||a((function(){var e={};return i[g].call(e)!==e}));m?i={}:p&&(i=u(i)),s(i[g])||h(i,g,(function(){return this})),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:f}},6269:function(e){"use strict";e.exports={}},6198:function(e,t,n){"use strict";var i=n(8014);e.exports=function(e){return i(e.length)}},283:function(e,t,n){"use strict";var i=n(9504),r=n(9039),o=n(4901),a=n(9297),s=n(3724),l=n(350).CONFIGURABLE,u=n(3706),c=n(1181),h=c.enforce,d=c.get,p=String,g=Object.defineProperty,f=i("".slice),m=i("".replace),v=i([].join),y=s&&!r((function(){return 8!==g((function(){}),"length",{value:8}).length})),A=String(String).split("String"),_=e.exports=function(e,t,n){"Symbol("===f(p(t),0,7)&&(t="["+m(p(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||l&&e.name!==t)&&(s?g(e,"name",{value:t,configurable:!0}):e.name=t),y&&n&&a(n,"arity")&&e.length!==n.arity&&g(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&g(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(r){}var i=h(e);return a(i,"source")||(i.source=v(A,"string"==typeof t?t:"")),e};Function.prototype.toString=_((function(){return o(this)&&d(this).source||u(this)}),"toString")},3250:function(e){"use strict";var t=Math.expm1,n=Math.exp;e.exports=!t||t(10)>22025.465794806718||t(10)<22025.465794806718||-2e-17!==t(-2e-17)?function(e){var t=+e;return 0===t?t:t>-1e-6&&t<1e-6?t+t*t/2:n(t)-1}:t},741:function(e){"use strict";var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var i=+e;return(i>0?n:t)(i)}},1955:function(e,t,n){"use strict";var i,r,o,a,s,l=n(4475),u=n(3389),c=n(6080),h=n(9225).set,d=n(8265),p=n(8119),g=n(28),f=n(6765),m=n(9088),v=l.MutationObserver||l.WebKitMutationObserver,y=l.document,A=l.process,_=l.Promise,C=u("queueMicrotask");if(!C){var I=new d,E=function(){var e,t;m&&(e=A.domain)&&e.exit();while(t=I.get())try{t()}catch(n){throw I.head&&i(),n}e&&e.enter()};p||m||f||!v||!y?!g&&_&&_.resolve?(a=_.resolve(void 0),a.constructor=_,s=c(a.then,a),i=function(){s(E)}):m?i=function(){A.nextTick(E)}:(h=c(h,l),i=function(){h(E)}):(r=!0,o=y.createTextNode(""),new v(E).observe(o,{characterData:!0}),i=function(){o.data=r=!r}),C=function(e){I.head||i(),I.add(e)}}e.exports=C},6043:function(e,t,n){"use strict";var i=n(9306),r=TypeError,o=function(e){var t,n;this.promise=new e((function(e,i){if(void 0!==t||void 0!==n)throw new r("Bad Promise constructor");t=e,n=i})),this.resolve=i(t),this.reject=i(n)};e.exports.f=function(e){return new o(e)}},2603:function(e,t,n){"use strict";var i=n(655);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:i(e)}},5749:function(e,t,n){"use strict";var i=n(788),r=TypeError;e.exports=function(e){if(i(e))throw new r("The method doesn't accept regular expressions");return e}},4213:function(e,t,n){"use strict";var i=n(3724),r=n(9504),o=n(9565),a=n(9039),s=n(1072),l=n(3717),u=n(8773),c=n(8981),h=n(7055),d=Object.assign,p=Object.defineProperty,g=r([].concat);e.exports=!d||a((function(){if(i&&1!==d({b:1},d(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol("assign detection"),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!==d({},e)[n]||s(d({},t)).join("")!==r}))?function(e,t){var n=c(e),r=arguments.length,a=1,d=l.f,p=u.f;while(r>a){var f,m=h(arguments[a++]),v=d?g(s(m),d(m)):s(m),y=v.length,A=0;while(y>A)f=v[A++],i&&!o(p,m,f)||(n[f]=m[f])}return n}:d},2360:function(e,t,n){"use strict";var i,r=n(8551),o=n(6801),a=n(8727),s=n(421),l=n(397),u=n(4055),c=n(6119),h=">",d="<",p="prototype",g="script",f=c("IE_PROTO"),m=function(){},v=function(e){return d+g+h+e+d+"/"+g+h},y=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},A=function(){var e,t=u("iframe"),n="java"+g+":";return t.style.display="none",l.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(v("document.F=Object")),e.close(),e.F},_=function(){try{i=new ActiveXObject("htmlfile")}catch(t){}_="undefined"!=typeof document?document.domain&&i?y(i):A():y(i);var e=a.length;while(e--)delete _[p][a[e]];return _()};s[f]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(m[p]=r(e),n=new m,m[p]=null,n[f]=e):n=_(),void 0===t?n:o.f(n,t)}},6801:function(e,t,n){"use strict";var i=n(3724),r=n(8686),o=n(4913),a=n(8551),s=n(5397),l=n(1072);t.f=i&&!r?Object.defineProperties:function(e,t){a(e);var n,i=s(t),r=l(t),u=r.length,c=0;while(u>c)o.f(e,n=r[c++],i[n]);return e}},4913:function(e,t,n){"use strict";var i=n(3724),r=n(5917),o=n(8686),a=n(8551),s=n(6969),l=TypeError,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",p="writable";t.f=i?o?function(e,t,n){if(a(e),t=s(t),a(n),"function"===typeof e&&"prototype"===t&&"value"in n&&p in n&&!n[p]){var i=c(e,t);i&&i[p]&&(e[t]=n.value,n={configurable:d in n?n[d]:i[d],enumerable:h in n?n[h]:i[h],writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(a(e),t=s(t),a(n),r)try{return u(e,t,n)}catch(i){}if("get"in n||"set"in n)throw new l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},7347:function(e,t,n){"use strict";var i=n(3724),r=n(9565),o=n(8773),a=n(6980),s=n(5397),l=n(6969),u=n(9297),c=n(5917),h=Object.getOwnPropertyDescriptor;t.f=i?h:function(e,t){if(e=s(e),t=l(t),c)try{return h(e,t)}catch(n){}if(u(e,t))return a(!r(o.f,e,t),e[t])}},298:function(e,t,n){"use strict";var i=n(4576),r=n(5397),o=n(8480).f,a=n(7680),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],l=function(e){try{return o(e)}catch(t){return a(s)}};e.exports.f=function(e){return s&&"Window"===i(e)?l(e):o(r(e))}},8480:function(e,t,n){"use strict";var i=n(1828),r=n(8727),o=r.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,o)}},3717:function(e,t){"use strict";t.f=Object.getOwnPropertySymbols},2787:function(e,t,n){"use strict";var i=n(9297),r=n(4901),o=n(8981),a=n(6119),s=n(2211),l=a("IE_PROTO"),u=Object,c=u.prototype;e.exports=s?u.getPrototypeOf:function(e){var t=o(e);if(i(t,l))return t[l];var n=t.constructor;return r(n)&&t instanceof n?n.prototype:t instanceof u?c:null}},4124:function(e,t,n){"use strict";var i=n(9039),r=n(34),o=n(4576),a=n(5652),s=Object.isExtensible,l=i((function(){s(1)}));e.exports=l||a?function(e){return!!r(e)&&((!a||"ArrayBuffer"!==o(e))&&(!s||s(e)))}:s},1625:function(e,t,n){"use strict";var i=n(9504);e.exports=i({}.isPrototypeOf)},1828:function(e,t,n){"use strict";var i=n(9504),r=n(9297),o=n(5397),a=n(9617).indexOf,s=n(421),l=i([].push);e.exports=function(e,t){var n,i=o(e),u=0,c=[];for(n in i)!r(s,n)&&r(i,n)&&l(c,n);while(t.length>u)r(i,n=t[u++])&&(~a(c,n)||l(c,n));return c}},1072:function(e,t,n){"use strict";var i=n(1828),r=n(8727);e.exports=Object.keys||function(e){return i(e,r)}},8773:function(e,t){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!n.call({1:2},1);t.f=r?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},2967:function(e,t,n){"use strict";var i=n(6706),r=n(34),o=n(7750),a=n(3506);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=i(Object.prototype,"__proto__","set"),e(n,[]),t=n instanceof Array}catch(s){}return function(n,i){return o(n),a(i),r(n)?(t?e(n,i):n.__proto__=i,n):n}}():void 0)},2357:function(e,t,n){"use strict";var i=n(3724),r=n(9039),o=n(9504),a=n(2787),s=n(1072),l=n(5397),u=n(8773).f,c=o(u),h=o([].push),d=i&&r((function(){var e=Object.create(null);return e[2]=2,!c(e,2)})),p=function(e){return function(t){var n,r=l(t),o=s(r),u=d&&null===a(r),p=o.length,g=0,f=[];while(p>g)n=o[g++],i&&!(u?n in r:c(r,n))||h(f,e?[n,r[n]]:r[n]);return f}};e.exports={entries:p(!0),values:p(!1)}},3179:function(e,t,n){"use strict";var i=n(2140),r=n(6955);e.exports=i?{}.toString:function(){return"[object "+r(this)+"]"}},4270:function(e,t,n){"use strict";var i=n(9565),r=n(4901),o=n(34),a=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&r(n=e.toString)&&!o(s=i(n,e)))return s;if(r(n=e.valueOf)&&!o(s=i(n,e)))return s;if("string"!==t&&r(n=e.toString)&&!o(s=i(n,e)))return s;throw new a("Can't convert object to primitive value")}},5031:function(e,t,n){"use strict";var i=n(7751),r=n(9504),o=n(8480),a=n(3717),s=n(8551),l=r([].concat);e.exports=i("Reflect","ownKeys")||function(e){var t=o.f(s(e)),n=a.f;return n?l(t,n(e)):t}},9167:function(e,t,n){"use strict";var i=n(4475);e.exports=i},1103:function(e){"use strict";e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},916:function(e,t,n){"use strict";var i=n(4475),r=n(550),o=n(4901),a=n(2796),s=n(3706),l=n(8227),u=n(7290),c=n(516),h=n(6395),d=n(7388),p=r&&r.prototype,g=l("species"),f=!1,m=o(i.PromiseRejectionEvent),v=a("Promise",(function(){var e=s(r),t=e!==String(r);if(!t&&66===d)return!0;if(h&&(!p["catch"]||!p["finally"]))return!0;if(!d||d<51||!/native code/.test(e)){var n=new r((function(e){e(1)})),i=function(e){e((function(){}),(function(){}))},o=n.constructor={};if(o[g]=i,f=n.then((function(){}))instanceof i,!f)return!0}return!t&&(u||c)&&!m}));e.exports={CONSTRUCTOR:v,REJECTION_EVENT:m,SUBCLASSING:f}},550:function(e,t,n){"use strict";var i=n(4475);e.exports=i.Promise},3438:function(e,t,n){"use strict";var i=n(8551),r=n(34),o=n(6043);e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=o.f(e),a=n.resolve;return a(t),n.promise}},537:function(e,t,n){"use strict";var i=n(550),r=n(4428),o=n(916).CONSTRUCTOR;e.exports=o||!r((function(e){i.all(e).then(void 0,(function(){}))}))},1056:function(e,t,n){"use strict";var i=n(4913).f;e.exports=function(e,t,n){n in e||i(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},8265:function(e){"use strict";var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e){var t=this.head=e.next;return null===t&&(this.tail=null),e.item}}},e.exports=t},6682:function(e,t,n){"use strict";var i=n(9565),r=n(8551),o=n(4901),a=n(4576),s=n(7323),l=TypeError;e.exports=function(e,t){var n=e.exec;if(o(n)){var u=i(n,e,t);return null!==u&&r(u),u}if("RegExp"===a(e))return i(s,e,t);throw new l("RegExp#exec called on incompatible receiver")}},7323:function(e,t,n){"use strict";var i=n(9565),r=n(9504),o=n(655),a=n(7979),s=n(8429),l=n(5745),u=n(2360),c=n(1181).get,h=n(3635),d=n(8814),p=l("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,f=g,m=r("".charAt),v=r("".indexOf),y=r("".replace),A=r("".slice),_=function(){var e=/a/,t=/b*/g;return i(g,e,"a"),i(g,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),C=s.BROKEN_CARET,I=void 0!==/()??/.exec("")[1],E=_||I||C||h||d;E&&(f=function(e){var t,n,r,s,l,h,d,E=this,w=c(E),b=o(e),x=w.raw;if(x)return x.lastIndex=E.lastIndex,t=i(f,x,b),E.lastIndex=x.lastIndex,t;var S=w.groups,P=C&&E.sticky,M=i(a,E),k=E.source,R=0,T=b;if(P&&(M=y(M,"y",""),-1===v(M,"g")&&(M+="g"),T=A(b,E.lastIndex),E.lastIndex>0&&(!E.multiline||E.multiline&&"\n"!==m(b,E.lastIndex-1))&&(k="(?: "+k+")",T=" "+T,R++),n=new RegExp("^(?:"+k+")",M)),I&&(n=new RegExp("^"+k+"$(?!\\s)",M)),_&&(r=E.lastIndex),s=i(g,P?n:E,T),P?s?(s.input=A(s.input,R),s[0]=A(s[0],R),s.index=E.lastIndex,E.lastIndex+=s[0].length):E.lastIndex=0:_&&s&&(E.lastIndex=E.global?s.index+s[0].length:r),I&&s&&s.length>1&&i(p,s[0],n,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(s[l]=void 0)})),s&&S)for(s.groups=h=u(null),l=0;l<S.length;l++)d=S[l],h[d[0]]=s[d[1]];return s}),e.exports=f},7979:function(e,t,n){"use strict";var i=n(8551);e.exports=function(){var e=i(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},1034:function(e,t,n){"use strict";var i=n(9565),r=n(9297),o=n(1625),a=n(7979),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||r(e,"flags")||!o(s,e)?t:i(a,e)}},8429:function(e,t,n){"use strict";var i=n(9039),r=n(4475),o=r.RegExp,a=i((function(){var e=o("a","y");return e.lastIndex=2,null!==e.exec("abcd")})),s=a||i((function(){return!o("a","y").sticky})),l=a||i((function(){var e=o("^r","gy");return e.lastIndex=2,null!==e.exec("str")}));e.exports={BROKEN_CARET:l,MISSED_STICKY:s,UNSUPPORTED_Y:a}},3635:function(e,t,n){"use strict";var i=n(9039),r=n(4475),o=r.RegExp;e.exports=i((function(){var e=o(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)}))},8814:function(e,t,n){"use strict";var i=n(9039),r=n(4475),o=r.RegExp;e.exports=i((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},7750:function(e,t,n){"use strict";var i=n(4117),r=TypeError;e.exports=function(e){if(i(e))throw new r("Can't call method on "+e);return e}},3389:function(e,t,n){"use strict";var i=n(4475),r=n(3724),o=Object.getOwnPropertyDescriptor;e.exports=function(e){if(!r)return i[e];var t=o(i,e);return t&&t.value}},3470:function(e){"use strict";e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}},7633:function(e,t,n){"use strict";var i=n(7751),r=n(2106),o=n(8227),a=n(3724),s=o("species");e.exports=function(e){var t=i(e);a&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},687:function(e,t,n){"use strict";var i=n(4913).f,r=n(9297),o=n(8227),a=o("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!r(e,a)&&i(e,a,{configurable:!0,value:t})}},6119:function(e,t,n){"use strict";var i=n(5745),r=n(3392),o=i("keys");e.exports=function(e){return o[e]||(o[e]=r(e))}},7629:function(e,t,n){"use strict";var i=n(6395),r=n(4475),o=n(9433),a="__core-js_shared__",s=e.exports=r[a]||o(a,{});(s.versions||(s.versions=[])).push({version:"3.36.1",mode:i?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.36.1/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(e,t,n){"use strict";var i=n(7629);e.exports=function(e,t){return i[e]||(i[e]=t||{})}},2293:function(e,t,n){"use strict";var i=n(8551),r=n(5548),o=n(4117),a=n(8227),s=a("species");e.exports=function(e,t){var n,a=i(e).constructor;return void 0===a||o(n=i(a)[s])?t:r(n)}},3061:function(e,t,n){"use strict";var i=n(9039);e.exports=function(e){return i((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},8183:function(e,t,n){"use strict";var i=n(9504),r=n(1291),o=n(655),a=n(7750),s=i("".charAt),l=i("".charCodeAt),u=i("".slice),c=function(e){return function(t,n){var i,c,h=o(a(t)),d=r(n),p=h.length;return d<0||d>=p?e?"":void 0:(i=l(h,d),i<55296||i>56319||d+1===p||(c=l(h,d+1))<56320||c>57343?e?s(h,d):i:e?u(h,d,d+2):c-56320+(i-55296<<10)+65536)}};e.exports={codeAt:c(!1),charAt:c(!0)}},3063:function(e,t,n){"use strict";var i=n(9392);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(i)},533:function(e,t,n){"use strict";var i=n(9504),r=n(8014),o=n(655),a=n(2333),s=n(7750),l=i(a),u=i("".slice),c=Math.ceil,h=function(e){return function(t,n,i){var a,h,d=o(s(t)),p=r(n),g=d.length,f=void 0===i?" ":o(i);return p<=g||""===f?d:(a=p-g,h=l(f,c(a/f.length)),h.length>a&&(h=u(h,0,a)),e?d+h:h+d)}};e.exports={start:h(!1),end:h(!0)}},6098:function(e,t,n){"use strict";var i=n(9504),r=2147483647,o=36,a=1,s=26,l=38,u=700,c=72,h=128,d="-",p=/[^\0-\u007E]/,g=/[.\u3002\uFF0E\uFF61]/g,f="Overflow: input needs wider integers to process",m=o-a,v=RangeError,y=i(g.exec),A=Math.floor,_=String.fromCharCode,C=i("".charCodeAt),I=i([].join),E=i([].push),w=i("".replace),b=i("".split),x=i("".toLowerCase),S=function(e){var t=[],n=0,i=e.length;while(n<i){var r=C(e,n++);if(r>=55296&&r<=56319&&n<i){var o=C(e,n++);56320===(64512&o)?E(t,((1023&r)<<10)+(1023&o)+65536):(E(t,r),n--)}else E(t,r)}return t},P=function(e){return e+22+75*(e<26)},M=function(e,t,n){var i=0;e=n?A(e/u):e>>1,e+=A(e/t);while(e>m*s>>1)e=A(e/m),i+=o;return A(i+(m+1)*e/(e+l))},k=function(e){var t=[];e=S(e);var n,i,l=e.length,u=h,p=0,g=c;for(n=0;n<e.length;n++)i=e[n],i<128&&E(t,_(i));var m=t.length,y=m;m&&E(t,d);while(y<l){var C=r;for(n=0;n<e.length;n++)i=e[n],i>=u&&i<C&&(C=i);var w=y+1;if(C-u>A((r-p)/w))throw new v(f);for(p+=(C-u)*w,u=C,n=0;n<e.length;n++){if(i=e[n],i<u&&++p>r)throw new v(f);if(i===u){var b=p,x=o;while(1){var k=x<=g?a:x>=g+s?s:x-g;if(b<k)break;var R=b-k,T=o-k;E(t,_(P(k+R%T))),b=A(R/T),x+=o}E(t,_(P(b))),g=M(p,w,y===m),p=0,y++}}p++,u++}return I(t,"")};e.exports=function(e){var t,n,i=[],r=b(w(x(e),g,"."),".");for(t=0;t<r.length;t++)n=r[t],E(i,y(p,n)?"xn--"+k(n):n);return I(i,".")}},2333:function(e,t,n){"use strict";var i=n(1291),r=n(655),o=n(7750),a=RangeError;e.exports=function(e){var t=r(o(this)),n="",s=i(e);if(s<0||s===1/0)throw new a("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(n+=t);return n}},706:function(e,t,n){"use strict";var i=n(350).PROPER,r=n(9039),o=n(7452),a="​᠎";e.exports=function(e){return r((function(){return!!o[e]()||a[e]()!==a||i&&o[e].name!==e}))}},3802:function(e,t,n){"use strict";var i=n(9504),r=n(7750),o=n(655),a=n(7452),s=i("".replace),l=RegExp("^["+a+"]+"),u=RegExp("(^|[^"+a+"])["+a+"]+$"),c=function(e){return function(t){var n=o(r(t));return 1&e&&(n=s(n,l,"")),2&e&&(n=s(n,u,"$1")),n}};e.exports={start:c(1),end:c(2),trim:c(3)}},4495:function(e,t,n){"use strict";var i=n(7388),r=n(9039),o=n(4475),a=o.String;e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol("symbol detection");return!a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},8242:function(e,t,n){"use strict";var i=n(9565),r=n(7751),o=n(8227),a=n(6840);e.exports=function(){var e=r("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,s=o("toPrimitive");t&&!t[s]&&a(t,s,(function(e){return i(n,this)}),{arity:1})}},1296:function(e,t,n){"use strict";var i=n(4495);e.exports=i&&!!Symbol["for"]&&!!Symbol.keyFor},9225:function(e,t,n){"use strict";var i,r,o,a,s=n(4475),l=n(8745),u=n(6080),c=n(4901),h=n(9297),d=n(9039),p=n(397),g=n(7680),f=n(4055),m=n(2812),v=n(8119),y=n(9088),A=s.setImmediate,_=s.clearImmediate,C=s.process,I=s.Dispatch,E=s.Function,w=s.MessageChannel,b=s.String,x=0,S={},P="onreadystatechange";d((function(){i=s.location}));var M=function(e){if(h(S,e)){var t=S[e];delete S[e],t()}},k=function(e){return function(){M(e)}},R=function(e){M(e.data)},T=function(e){s.postMessage(b(e),i.protocol+"//"+i.host)};A&&_||(A=function(e){m(arguments.length,1);var t=c(e)?e:E(e),n=g(arguments,1);return S[++x]=function(){l(t,void 0,n)},r(x),x},_=function(e){delete S[e]},y?r=function(e){C.nextTick(k(e))}:I&&I.now?r=function(e){I.now(k(e))}:w&&!v?(o=new w,a=o.port2,o.port1.onmessage=R,r=u(a.postMessage,a)):s.addEventListener&&c(s.postMessage)&&!s.importScripts&&i&&"file:"!==i.protocol&&!d(T)?(r=T,s.addEventListener("message",R,!1)):r=P in f("script")?function(e){p.appendChild(f("script"))[P]=function(){p.removeChild(this),M(e)}}:function(e){setTimeout(k(e),0)}),e.exports={set:A,clear:_}},1240:function(e,t,n){"use strict";var i=n(9504);e.exports=i(1..valueOf)},5610:function(e,t,n){"use strict";var i=n(1291),r=Math.max,o=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):o(n,t)}},5397:function(e,t,n){"use strict";var i=n(7055),r=n(7750);e.exports=function(e){return i(r(e))}},1291:function(e,t,n){"use strict";var i=n(741);e.exports=function(e){var t=+e;return t!==t||0===t?0:i(t)}},8014:function(e,t,n){"use strict";var i=n(1291),r=Math.min;e.exports=function(e){var t=i(e);return t>0?r(t,9007199254740991):0}},8981:function(e,t,n){"use strict";var i=n(7750),r=Object;e.exports=function(e){return r(i(e))}},2777:function(e,t,n){"use strict";var i=n(9565),r=n(34),o=n(757),a=n(5966),s=n(4270),l=n(8227),u=TypeError,c=l("toPrimitive");e.exports=function(e,t){if(!r(e)||o(e))return e;var n,l=a(e,c);if(l){if(void 0===t&&(t="default"),n=i(l,e,t),!r(n)||o(n))return n;throw new u("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},6969:function(e,t,n){"use strict";var i=n(2777),r=n(757);e.exports=function(e){var t=i(e,"string");return r(t)?t:t+""}},2140:function(e,t,n){"use strict";var i=n(8227),r=i("toStringTag"),o={};o[r]="z",e.exports="[object z]"===String(o)},655:function(e,t,n){"use strict";var i=n(6955),r=String;e.exports=function(e){if("Symbol"===i(e))throw new TypeError("Cannot convert a Symbol value to a string");return r(e)}},6823:function(e){"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},3392:function(e,t,n){"use strict";var i=n(9504),r=0,o=Math.random(),a=i(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++r+o,36)}},7416:function(e,t,n){"use strict";var i=n(9039),r=n(8227),o=n(3724),a=n(6395),s=r("iterator");e.exports=!i((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n=new URLSearchParams("a=1&a=2&b=3"),i="";return e.pathname="c%20d",t.forEach((function(e,n){t["delete"]("b"),i+=n+e})),n["delete"]("a",2),n["delete"]("b",void 0),a&&(!e.toJSON||!n.has("a",1)||n.has("a",2)||!n.has("a",void 0)||n.has("b"))||!t.size&&(a||!o)||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==i||"x"!==new URL("http://x",void 0).host}))},7040:function(e,t,n){"use strict";var i=n(4495);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:function(e,t,n){"use strict";var i=n(3724),r=n(9039);e.exports=i&&r((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},2812:function(e){"use strict";var t=TypeError;e.exports=function(e,n){if(e<n)throw new t("Not enough arguments");return e}},8622:function(e,t,n){"use strict";var i=n(4475),r=n(4901),o=i.WeakMap;e.exports=r(o)&&/native code/.test(String(o))},511:function(e,t,n){"use strict";var i=n(9167),r=n(9297),o=n(1951),a=n(4913).f;e.exports=function(e){var t=i.Symbol||(i.Symbol={});r(t,e)||a(t,e,{value:o.f(e)})}},1951:function(e,t,n){"use strict";var i=n(8227);t.f=i},8227:function(e,t,n){"use strict";var i=n(4475),r=n(5745),o=n(9297),a=n(3392),s=n(4495),l=n(7040),u=i.Symbol,c=r("wks"),h=l?u["for"]||u:u&&u.withoutSetter||a;e.exports=function(e){return o(c,e)||(c[e]=s&&o(u,e)?u[e]:h("Symbol."+e)),c[e]}},7452:function(e){"use strict";e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},4601:function(e,t,n){"use strict";var i=n(7751),r=n(9297),o=n(6699),a=n(1625),s=n(2967),l=n(7740),u=n(1056),c=n(3167),h=n(2603),d=n(7584),p=n(747),g=n(3724),f=n(6395);e.exports=function(e,t,n,m){var v="stackTraceLimit",y=m?2:1,A=e.split("."),_=A[A.length-1],C=i.apply(null,A);if(C){var I=C.prototype;if(!f&&r(I,"cause")&&delete I.cause,!n)return C;var E=i("Error"),w=t((function(e,t){var n=h(m?t:e,void 0),i=m?new C(e):new C;return void 0!==n&&o(i,"message",n),p(i,w,i.stack,2),this&&a(I,this)&&c(i,this,w),arguments.length>y&&d(i,arguments[y]),i}));if(w.prototype=I,"Error"!==_?s?s(w,E):l(w,E,{name:!0}):g&&v in C&&(u(w,C,v),u(w,C,"prepareStackTrace")),l(w,C),!f)try{I.name!==_&&o(I,"name",_),I.constructor=w}catch(b){}return w}}},8706:function(e,t,n){"use strict";var i=n(6518),r=n(9039),o=n(4376),a=n(34),s=n(8981),l=n(6198),u=n(6837),c=n(4659),h=n(1469),d=n(597),p=n(8227),g=n(7388),f=p("isConcatSpreadable"),m=g>=51||!r((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),v=function(e){if(!a(e))return!1;var t=e[f];return void 0!==t?!!t:o(e)},y=!m||!d("concat");i({target:"Array",proto:!0,arity:1,forced:y},{concat:function(e){var t,n,i,r,o,a=s(this),d=h(a,0),p=0;for(t=-1,i=arguments.length;t<i;t++)if(o=-1===t?a:arguments[t],v(o))for(r=l(o),u(p+r),n=0;n<r;n++,p++)n in o&&c(d,p,o[n]);else u(p+1),c(d,p++,o);return d.length=p,d}})},3771:function(e,t,n){"use strict";var i=n(6518),r=n(4373),o=n(6469);i({target:"Array",proto:!0},{fill:r}),o("fill")},2008:function(e,t,n){"use strict";var i=n(6518),r=n(9213).filter,o=n(597),a=o("filter");i({target:"Array",proto:!0,forced:!a},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},8980:function(e,t,n){"use strict";var i=n(6518),r=n(9213).findIndex,o=n(6469),a="findIndex",s=!0;a in[]&&Array(1)[a]((function(){s=!1})),i({target:"Array",proto:!0,forced:s},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o(a)},113:function(e,t,n){"use strict";var i=n(6518),r=n(9213).find,o=n(6469),a="find",s=!0;a in[]&&Array(1)[a]((function(){s=!1})),i({target:"Array",proto:!0,forced:s},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o(a)},8350:function(e,t,n){"use strict";var i=n(6518),r=n(259),o=n(9306),a=n(8981),s=n(6198),l=n(1469);i({target:"Array",proto:!0},{flatMap:function(e){var t,n=a(this),i=s(n);return o(e),t=l(n,0),t.length=r(t,n,n,i,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},6449:function(e,t,n){"use strict";var i=n(6518),r=n(259),o=n(8981),a=n(6198),s=n(1291),l=n(1469);i({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=o(this),n=a(t),i=l(t,0);return i.length=r(i,t,t,n,0,void 0===e?1:s(e)),i}})},3418:function(e,t,n){"use strict";var i=n(6518),r=n(7916),o=n(4428),a=!o((function(e){Array.from(e)}));i({target:"Array",stat:!0,forced:a},{from:r})},4423:function(e,t,n){"use strict";var i=n(6518),r=n(9617).includes,o=n(9039),a=n(6469),s=o((function(){return!Array(1).includes()}));i({target:"Array",proto:!0,forced:s},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},3792:function(e,t,n){"use strict";var i=n(5397),r=n(6469),o=n(6269),a=n(1181),s=n(4913).f,l=n(1088),u=n(2529),c=n(6395),h=n(3724),d="Array Iterator",p=a.set,g=a.getterFor(d);e.exports=l(Array,"Array",(function(e,t){p(this,{type:d,target:i(e),index:0,kind:t})}),(function(){var e=g(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,u(void 0,!0);switch(e.kind){case"keys":return u(n,!1);case"values":return u(t[n],!1)}return u([n,t[n]],!1)}),"values");var f=o.Arguments=o.Array;if(r("keys"),r("values"),r("entries"),!c&&h&&"values"!==f.name)try{s(f,"name",{value:"values"})}catch(m){}},8598:function(e,t,n){"use strict";var i=n(6518),r=n(9504),o=n(7055),a=n(5397),s=n(4598),l=r([].join),u=o!==Object,c=u||!s("join",",");i({target:"Array",proto:!0,forced:c},{join:function(e){return l(a(this),void 0===e?",":e)}})},2062:function(e,t,n){"use strict";var i=n(6518),r=n(9213).map,o=n(597),a=o("map");i({target:"Array",proto:!0,forced:!a},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},4114:function(e,t,n){"use strict";var i=n(6518),r=n(8981),o=n(6198),a=n(4527),s=n(6837),l=n(9039),u=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),c=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},h=u||!c();i({target:"Array",proto:!0,arity:1,forced:h},{push:function(e){var t=r(this),n=o(t),i=arguments.length;s(n+i);for(var l=0;l<i;l++)t[n]=arguments[l],n++;return a(t,n),n}})},4782:function(e,t,n){"use strict";var i=n(6518),r=n(4376),o=n(3517),a=n(34),s=n(5610),l=n(6198),u=n(5397),c=n(4659),h=n(8227),d=n(597),p=n(7680),g=d("slice"),f=h("species"),m=Array,v=Math.max;i({target:"Array",proto:!0,forced:!g},{slice:function(e,t){var n,i,h,d=u(this),g=l(d),y=s(e,g),A=s(void 0===t?g:t,g);if(r(d)&&(n=d.constructor,o(n)&&(n===m||r(n.prototype))?n=void 0:a(n)&&(n=n[f],null===n&&(n=void 0)),n===m||void 0===n))return p(d,y,A);for(i=new(void 0===n?m:n)(v(A-y,0)),h=0;y<A;y++,h++)y in d&&c(i,h,d[y]);return i.length=h,i}})},6910:function(e,t,n){"use strict";var i=n(6518),r=n(9504),o=n(9306),a=n(8981),s=n(6198),l=n(4606),u=n(655),c=n(9039),h=n(4488),d=n(4598),p=n(8834),g=n(3202),f=n(7388),m=n(9160),v=[],y=r(v.sort),A=r(v.push),_=c((function(){v.sort(void 0)})),C=c((function(){v.sort(null)})),I=d("sort"),E=!c((function(){if(f)return f<70;if(!(p&&p>3)){if(g)return!0;if(m)return m<603;var e,t,n,i,r="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)v.push({k:t+i,v:n})}for(v.sort((function(e,t){return t.v-e.v})),i=0;i<v.length;i++)t=v[i].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return"DGBEFHACIJK"!==r}})),w=_||!C||!I||!E,b=function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:u(t)>u(n)?1:-1}};i({target:"Array",proto:!0,forced:w},{sort:function(e){void 0!==e&&o(e);var t=a(this);if(E)return void 0===e?y(t):y(t,e);var n,i,r=[],u=s(t);for(i=0;i<u;i++)i in t&&A(r,t[i]);h(r,b(e)),n=s(r),i=0;while(i<n)t[i]=r[i++];while(i<u)l(t,i++);return t}})},4554:function(e,t,n){"use strict";var i=n(6518),r=n(8981),o=n(5610),a=n(1291),s=n(6198),l=n(4527),u=n(6837),c=n(1469),h=n(4659),d=n(4606),p=n(597),g=p("splice"),f=Math.max,m=Math.min;i({target:"Array",proto:!0,forced:!g},{splice:function(e,t){var n,i,p,g,v,y,A=r(this),_=s(A),C=o(e,_),I=arguments.length;for(0===I?n=i=0:1===I?(n=0,i=_-C):(n=I-2,i=m(f(a(t),0),_-C)),u(_+n-i),p=c(A,i),g=0;g<i;g++)v=C+g,v in A&&h(p,g,A[v]);if(p.length=i,n<i){for(g=C;g<_-i;g++)v=g+i,y=g+n,v in A?A[y]=A[v]:d(A,y);for(g=_;g>_-i+n;g--)d(A,g-1)}else if(n>i)for(g=_-i;g>C;g--)v=g+i-1,y=g+n-1,v in A?A[y]=A[v]:d(A,y);for(g=0;g<n;g++)A[g+C]=arguments[g+2];return l(A,_-i+n),p}})},237:function(e,t,n){"use strict";var i=n(6469);i("flatMap")},3514:function(e,t,n){"use strict";var i=n(6469);i("flat")},9572:function(e,t,n){"use strict";var i=n(9297),r=n(6840),o=n(3640),a=n(8227),s=a("toPrimitive"),l=Date.prototype;i(l,s)||r(l,s,o)},6280:function(e,t,n){"use strict";var i=n(6518),r=n(4475),o=n(8745),a=n(4601),s="WebAssembly",l=r[s],u=7!==new Error("e",{cause:7}).cause,c=function(e,t){var n={};n[e]=a(e,t,u),i({global:!0,constructor:!0,arity:1,forced:u},n)},h=function(e,t){if(l&&l[e]){var n={};n[e]=a(s+"."+e,t,u),i({target:s,stat:!0,constructor:!0,arity:1,forced:u},n)}};c("Error",(function(e){return function(t){return o(e,this,arguments)}})),c("EvalError",(function(e){return function(t){return o(e,this,arguments)}})),c("RangeError",(function(e){return function(t){return o(e,this,arguments)}})),c("ReferenceError",(function(e){return function(t){return o(e,this,arguments)}})),c("SyntaxError",(function(e){return function(t){return o(e,this,arguments)}})),c("TypeError",(function(e){return function(t){return o(e,this,arguments)}})),c("URIError",(function(e){return function(t){return o(e,this,arguments)}})),h("CompileError",(function(e){return function(t){return o(e,this,arguments)}})),h("LinkError",(function(e){return function(t){return o(e,this,arguments)}})),h("RuntimeError",(function(e){return function(t){return o(e,this,arguments)}}))},2010:function(e,t,n){"use strict";var i=n(3724),r=n(350).EXISTS,o=n(9504),a=n(2106),s=Function.prototype,l=o(s.toString),u=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,c=o(u.exec),h="name";i&&!r&&a(s,h,{configurable:!0,get:function(){try{return c(u,l(this))[1]}catch(e){return""}}})},3110:function(e,t,n){"use strict";var i=n(6518),r=n(7751),o=n(8745),a=n(9565),s=n(9504),l=n(9039),u=n(4901),c=n(757),h=n(7680),d=n(6933),p=n(4495),g=String,f=r("JSON","stringify"),m=s(/./.exec),v=s("".charAt),y=s("".charCodeAt),A=s("".replace),_=s(1..toString),C=/[\uD800-\uDFFF]/g,I=/^[\uD800-\uDBFF]$/,E=/^[\uDC00-\uDFFF]$/,w=!p||l((function(){var e=r("Symbol")("stringify detection");return"[null]"!==f([e])||"{}"!==f({a:e})||"{}"!==f(Object(e))})),b=l((function(){return'"\\udf06\\ud834"'!==f("\udf06\ud834")||'"\\udead"'!==f("\udead")})),x=function(e,t){var n=h(arguments),i=d(t);if(u(i)||void 0!==e&&!c(e))return n[1]=function(e,t){if(u(i)&&(t=a(i,this,g(e),t)),!c(t))return t},o(f,null,n)},S=function(e,t,n){var i=v(n,t-1),r=v(n,t+1);return m(I,e)&&!m(E,r)||m(E,e)&&!m(I,i)?"\\u"+_(y(e,0),16):e};f&&i({target:"JSON",stat:!0,arity:3,forced:w||b},{stringify:function(e,t,n){var i=h(arguments),r=o(w?x:f,null,i);return b&&"string"==typeof r?A(r,C,S):r}})},8523:function(e,t,n){"use strict";var i=n(6468),r=n(6938);i("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r)},6033:function(e,t,n){"use strict";n(8523)},7762:function(e,t,n){"use strict";var i=n(6518),r=n(3250),o=Math.cosh,a=Math.abs,s=Math.E,l=!o||o(710)===1/0;i({target:"Math",stat:!0,forced:l},{cosh:function(e){var t=r(a(e)-1)+1;return(t+1/(t*s*s))*(s/2)}})},1367:function(e,t,n){"use strict";var i=n(6518),r=Math.log,o=Math.LN2;i({target:"Math",stat:!0},{log2:function(e){return r(e)/o}})},2892:function(e,t,n){"use strict";var i=n(6518),r=n(6395),o=n(3724),a=n(4475),s=n(9167),l=n(9504),u=n(2796),c=n(9297),h=n(3167),d=n(1625),p=n(757),g=n(2777),f=n(9039),m=n(8480).f,v=n(7347).f,y=n(4913).f,A=n(1240),_=n(3802).trim,C="Number",I=a[C],E=s[C],w=I.prototype,b=a.TypeError,x=l("".slice),S=l("".charCodeAt),P=function(e){var t=g(e,"number");return"bigint"==typeof t?t:M(t)},M=function(e){var t,n,i,r,o,a,s,l,u=g(e,"number");if(p(u))throw new b("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=_(u),t=S(u,0),43===t||45===t){if(n=S(u,2),88===n||120===n)return NaN}else if(48===t){switch(S(u,1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+u}for(o=x(u,2),a=o.length,s=0;s<a;s++)if(l=S(o,s),l<48||l>r)return NaN;return parseInt(o,i)}return+u},k=u(C,!I(" 0o1")||!I("0b1")||I("+0x1")),R=function(e){return d(w,e)&&f((function(){A(e)}))},T=function(e){var t=arguments.length<1?0:I(P(e));return R(this)?h(Object(t),this,T):t};T.prototype=w,k&&!r&&(w.constructor=T),i({global:!0,constructor:!0,wrap:!0,forced:k},{Number:T});var L=function(e,t){for(var n,i=o?m(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),r=0;i.length>r;r++)c(t,n=i[r])&&!c(e,n)&&y(e,n,v(t,n))};r&&E&&L(s[C],E),(k||r)&&L(s[C],I)},9868:function(e,t,n){"use strict";var i=n(6518),r=n(9504),o=n(1291),a=n(1240),s=n(2333),l=n(9039),u=RangeError,c=String,h=Math.floor,d=r(s),p=r("".slice),g=r(1..toFixed),f=function(e,t,n){return 0===t?n:t%2===1?f(e,t-1,n*e):f(e*e,t/2,n)},m=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},v=function(e,t,n){var i=-1,r=n;while(++i<6)r+=t*e[i],e[i]=r%1e7,r=h(r/1e7)},y=function(e,t){var n=6,i=0;while(--n>=0)i+=e[n],e[n]=h(i/t),i=i%t*1e7},A=function(e){var t=6,n="";while(--t>=0)if(""!==n||0===t||0!==e[t]){var i=c(e[t]);n=""===n?i:n+d("0",7-i.length)+i}return n},_=l((function(){return"0.000"!==g(8e-5,3)||"1"!==g(.9,0)||"1.25"!==g(1.255,2)||"1000000000000000128"!==g(0xde0b6b3a7640080,0)}))||!l((function(){g({})}));i({target:"Number",proto:!0,forced:_},{toFixed:function(e){var t,n,i,r,s=a(this),l=o(e),h=[0,0,0,0,0,0],g="",_="0";if(l<0||l>20)throw new u("Incorrect fraction digits");if(s!==s)return"NaN";if(s<=-1e21||s>=1e21)return c(s);if(s<0&&(g="-",s=-s),s>1e-21)if(t=m(s*f(2,69,1))-69,n=t<0?s*f(2,-t,1):s/f(2,t,1),n*=4503599627370496,t=52-t,t>0){v(h,0,n),i=l;while(i>=7)v(h,1e7,0),i-=7;v(h,f(10,i,1),0),i=t-1;while(i>=23)y(h,1<<23),i-=23;y(h,1<<i),v(h,1,1),y(h,2),_=A(h)}else v(h,0,n),v(h,1<<-t,0),_=A(h)+d("0",l);return l>0?(r=_.length,_=g+(r<=l?"0."+d("0",l-r)+_:p(_,0,r-l)+"."+p(_,r-l))):_=g+_,_}})},9085:function(e,t,n){"use strict";var i=n(6518),r=n(4213);i({target:"Object",stat:!0,arity:2,forced:Object.assign!==r},{assign:r})},2811:function(e,t,n){"use strict";var i=n(6518),r=n(2744),o=n(9039),a=n(34),s=n(3451).onFreeze,l=Object.freeze,u=o((function(){l(1)}));i({target:"Object",stat:!0,forced:u,sham:!r},{freeze:function(e){return l&&a(e)?l(s(e)):e}})},3851:function(e,t,n){"use strict";var i=n(6518),r=n(9039),o=n(5397),a=n(7347).f,s=n(3724),l=!s||r((function(){a(1)}));i({target:"Object",stat:!0,forced:l,sham:!s},{getOwnPropertyDescriptor:function(e,t){return a(o(e),t)}})},1278:function(e,t,n){"use strict";var i=n(6518),r=n(3724),o=n(5031),a=n(5397),s=n(7347),l=n(4659);i({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(e){var t,n,i=a(e),r=s.f,u=o(i),c={},h=0;while(u.length>h)n=r(i,t=u[h++]),void 0!==n&&l(c,t,n);return c}})},9773:function(e,t,n){"use strict";var i=n(6518),r=n(4495),o=n(9039),a=n(3717),s=n(8981),l=!r||o((function(){a.f(1)}));i({target:"Object",stat:!0,forced:l},{getOwnPropertySymbols:function(e){var t=a.f;return t?t(s(e)):[]}})},875:function(e,t,n){"use strict";var i=n(6518),r=n(9039),o=n(8981),a=n(2787),s=n(2211),l=r((function(){a(1)}));i({target:"Object",stat:!0,forced:l,sham:!s},{getPrototypeOf:function(e){return a(o(e))}})},9432:function(e,t,n){"use strict";var i=n(6518),r=n(8981),o=n(1072),a=n(9039),s=a((function(){o(1)}));i({target:"Object",stat:!0,forced:s},{keys:function(e){return o(r(e))}})},3548:function(e,t,n){"use strict";var i=n(3724),r=n(2106),o=n(34),a=n(3925),s=n(8981),l=n(7750),u=Object.getPrototypeOf,c=Object.setPrototypeOf,h=Object.prototype,d="__proto__";if(i&&u&&c&&!(d in h))try{r(h,d,{configurable:!0,get:function(){return u(s(this))},set:function(e){var t=l(this);a(e)&&o(t)&&c(t,e)}})}catch(p){}},287:function(e,t,n){"use strict";var i=n(6518),r=n(2967);i({target:"Object",stat:!0},{setPrototypeOf:r})},6099:function(e,t,n){"use strict";var i=n(2140),r=n(6840),o=n(3179);i||r(Object.prototype,"toString",o,{unsafe:!0})},6034:function(e,t,n){"use strict";var i=n(6518),r=n(2357).values;i({target:"Object",stat:!0},{values:function(e){return r(e)}})},6499:function(e,t,n){"use strict";var i=n(6518),r=n(9565),o=n(9306),a=n(6043),s=n(1103),l=n(2652),u=n(537);i({target:"Promise",stat:!0,forced:u},{all:function(e){var t=this,n=a.f(t),i=n.resolve,u=n.reject,c=s((function(){var n=o(t.resolve),a=[],s=0,c=1;l(e,(function(e){var o=s++,l=!1;c++,r(n,t,e).then((function(e){l||(l=!0,a[o]=e,--c||i(a))}),u)})),--c||i(a)}));return c.error&&u(c.value),n.promise}})},2003:function(e,t,n){"use strict";var i=n(6518),r=n(6395),o=n(916).CONSTRUCTOR,a=n(550),s=n(7751),l=n(4901),u=n(6840),c=a&&a.prototype;if(i({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(e){return this.then(void 0,e)}}),!r&&l(a)){var h=s("Promise").prototype["catch"];c["catch"]!==h&&u(c,"catch",h,{unsafe:!0})}},436:function(e,t,n){"use strict";var i,r,o,a,s=n(6518),l=n(6395),u=n(9088),c=n(4475),h=n(9565),d=n(6840),p=n(2967),g=n(687),f=n(7633),m=n(9306),v=n(4901),y=n(34),A=n(679),_=n(2293),C=n(9225).set,I=n(1955),E=n(3138),w=n(1103),b=n(8265),x=n(1181),S=n(550),P=n(916),M=n(6043),k="Promise",R=P.CONSTRUCTOR,T=P.REJECTION_EVENT,L=P.SUBCLASSING,G=x.getterFor(k),O=x.set,D=S&&S.prototype,N=S,F=D,U=c.TypeError,B=c.document,j=c.process,z=M.f,W=z,V=!!(B&&B.createEvent&&c.dispatchEvent),Y="unhandledrejection",H="rejectionhandled",q=0,X=1,Z=2,K=1,J=2,Q=function(e){var t;return!(!y(e)||!v(t=e.then))&&t},$=function(e,t){var n,i,r,o=t.value,a=t.state===X,s=a?e.ok:e.fail,l=e.resolve,u=e.reject,c=e.domain;try{s?(a||(t.rejection===J&&re(t),t.rejection=K),!0===s?n=o:(c&&c.enter(),n=s(o),c&&(c.exit(),r=!0)),n===e.promise?u(new U("Promise-chain cycle")):(i=Q(n))?h(i,n,l,u):l(n)):u(o)}catch(d){c&&!r&&c.exit(),u(d)}},ee=function(e,t){e.notified||(e.notified=!0,I((function(){var n,i=e.reactions;while(n=i.get())$(n,e);e.notified=!1,t&&!e.rejection&&ne(e)})))},te=function(e,t,n){var i,r;V?(i=B.createEvent("Event"),i.promise=t,i.reason=n,i.initEvent(e,!1,!0),c.dispatchEvent(i)):i={promise:t,reason:n},!T&&(r=c["on"+e])?r(i):e===Y&&E("Unhandled promise rejection",n)},ne=function(e){h(C,c,(function(){var t,n=e.facade,i=e.value,r=ie(e);if(r&&(t=w((function(){u?j.emit("unhandledRejection",i,n):te(Y,n,i)})),e.rejection=u||ie(e)?J:K,t.error))throw t.value}))},ie=function(e){return e.rejection!==K&&!e.parent},re=function(e){h(C,c,(function(){var t=e.facade;u?j.emit("rejectionHandled",t):te(H,t,e.value)}))},oe=function(e,t,n){return function(i){e(t,i,n)}},ae=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=Z,ee(e,!0))},se=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw new U("Promise can't be resolved itself");var i=Q(t);i?I((function(){var n={done:!1};try{h(i,t,oe(se,n,e),oe(ae,n,e))}catch(r){ae(n,r,e)}})):(e.value=t,e.state=X,ee(e,!1))}catch(r){ae({done:!1},r,e)}}};if(R&&(N=function(e){A(this,F),m(e),h(i,this);var t=G(this);try{e(oe(se,t),oe(ae,t))}catch(n){ae(t,n)}},F=N.prototype,i=function(e){O(this,{type:k,done:!1,notified:!1,parent:!1,reactions:new b,rejection:!1,state:q,value:void 0})},i.prototype=d(F,"then",(function(e,t){var n=G(this),i=z(_(this,N));return n.parent=!0,i.ok=!v(e)||e,i.fail=v(t)&&t,i.domain=u?j.domain:void 0,n.state===q?n.reactions.add(i):I((function(){$(i,n)})),i.promise})),r=function(){var e=new i,t=G(e);this.promise=e,this.resolve=oe(se,t),this.reject=oe(ae,t)},M.f=z=function(e){return e===N||e===o?new r(e):W(e)},!l&&v(S)&&D!==Object.prototype)){a=D.then,L||d(D,"then",(function(e,t){var n=this;return new N((function(e,t){h(a,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete D.constructor}catch(le){}p&&p(D,F)}s({global:!0,constructor:!0,wrap:!0,forced:R},{Promise:N}),g(N,k,!1,!0),f(k)},9391:function(e,t,n){"use strict";var i=n(6518),r=n(6395),o=n(550),a=n(9039),s=n(7751),l=n(4901),u=n(2293),c=n(3438),h=n(6840),d=o&&o.prototype,p=!!o&&a((function(){d["finally"].call({then:function(){}},(function(){}))}));if(i({target:"Promise",proto:!0,real:!0,forced:p},{finally:function(e){var t=u(this,s("Promise")),n=l(e);return this.then(n?function(n){return c(t,e()).then((function(){return n}))}:e,n?function(n){return c(t,e()).then((function(){throw n}))}:e)}}),!r&&l(o)){var g=s("Promise").prototype["finally"];d["finally"]!==g&&h(d,"finally",g,{unsafe:!0})}},3362:function(e,t,n){"use strict";n(436),n(6499),n(2003),n(7743),n(1481),n(280)},7743:function(e,t,n){"use strict";var i=n(6518),r=n(9565),o=n(9306),a=n(6043),s=n(1103),l=n(2652),u=n(537);i({target:"Promise",stat:!0,forced:u},{race:function(e){var t=this,n=a.f(t),i=n.reject,u=s((function(){var a=o(t.resolve);l(e,(function(e){r(a,t,e).then(n.resolve,i)}))}));return u.error&&i(u.value),n.promise}})},1481:function(e,t,n){"use strict";var i=n(6518),r=n(6043),o=n(916).CONSTRUCTOR;i({target:"Promise",stat:!0,forced:o},{reject:function(e){var t=r.f(this),n=t.reject;return n(e),t.promise}})},280:function(e,t,n){"use strict";var i=n(6518),r=n(7751),o=n(6395),a=n(550),s=n(916).CONSTRUCTOR,l=n(3438),u=r("Promise"),c=o&&!s;i({target:"Promise",stat:!0,forced:o||s},{resolve:function(e){return l(c&&this===u?a:this,e)}})},825:function(e,t,n){"use strict";var i=n(6518),r=n(7751),o=n(8745),a=n(566),s=n(5548),l=n(8551),u=n(34),c=n(2360),h=n(9039),d=r("Reflect","construct"),p=Object.prototype,g=[].push,f=h((function(){function e(){}return!(d((function(){}),[],e)instanceof e)})),m=!h((function(){d((function(){}))})),v=f||m;i({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(e,t){s(e),l(t);var n=arguments.length<3?e:s(arguments[2]);if(m&&!f)return d(e,t,n);if(e===n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return o(g,i,t),new(o(a,e,i))}var r=n.prototype,h=c(u(r)?r:p),v=o(e,h,t);return u(v)?v:h}})},888:function(e,t,n){"use strict";var i=n(6518),r=n(9565),o=n(34),a=n(8551),s=n(6575),l=n(7347),u=n(2787);function c(e,t){var n,i,h=arguments.length<3?e:arguments[2];return a(e)===h?e[t]:(n=l.f(e,t),n?s(n)?n.value:void 0===n.get?void 0:r(n.get,h):o(i=u(e))?c(i,t,h):void 0)}i({target:"Reflect",stat:!0},{get:c})},5472:function(e,t,n){"use strict";var i=n(6518),r=n(4475),o=n(687);i({global:!0},{Reflect:{}}),o(r.Reflect,"Reflect",!0)},4864:function(e,t,n){"use strict";var i=n(3724),r=n(4475),o=n(9504),a=n(2796),s=n(3167),l=n(6699),u=n(2360),c=n(8480).f,h=n(1625),d=n(788),p=n(655),g=n(1034),f=n(8429),m=n(1056),v=n(6840),y=n(9039),A=n(9297),_=n(1181).enforce,C=n(7633),I=n(8227),E=n(3635),w=n(8814),b=I("match"),x=r.RegExp,S=x.prototype,P=r.SyntaxError,M=o(S.exec),k=o("".charAt),R=o("".replace),T=o("".indexOf),L=o("".slice),G=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,O=/a/g,D=/a/g,N=new x(O)!==O,F=f.MISSED_STICKY,U=f.UNSUPPORTED_Y,B=i&&(!N||F||E||w||y((function(){return D[b]=!1,x(O)!==O||x(D)===D||"/a/i"!==String(x(O,"i"))}))),j=function(e){for(var t,n=e.length,i=0,r="",o=!1;i<=n;i++)t=k(e,i),"\\"!==t?o||"."!==t?("["===t?o=!0:"]"===t&&(o=!1),r+=t):r+="[\\s\\S]":r+=t+k(e,++i);return r},z=function(e){for(var t,n=e.length,i=0,r="",o=[],a=u(null),s=!1,l=!1,c=0,h="";i<=n;i++){if(t=k(e,i),"\\"===t)t+=k(e,++i);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:M(G,L(e,i+1))&&(i+=2,l=!0),r+=t,c++;continue;case">"===t&&l:if(""===h||A(a,h))throw new P("Invalid capture group name");a[h]=!0,o[o.length]=[h,c],l=!1,h="";continue}l?h+=t:r+=t}return[r,o]};if(a("RegExp",B)){for(var W=function(e,t){var n,i,r,o,a,u,c=h(S,this),f=d(e),m=void 0===t,v=[],y=e;if(!c&&f&&m&&e.constructor===W)return e;if((f||h(S,e))&&(e=e.source,m&&(t=g(y))),e=void 0===e?"":p(e),t=void 0===t?"":p(t),y=e,E&&"dotAll"in O&&(i=!!t&&T(t,"s")>-1,i&&(t=R(t,/s/g,""))),n=t,F&&"sticky"in O&&(r=!!t&&T(t,"y")>-1,r&&U&&(t=R(t,/y/g,""))),w&&(o=z(e),e=o[0],v=o[1]),a=s(x(e,t),c?this:S,W),(i||r||v.length)&&(u=_(a),i&&(u.dotAll=!0,u.raw=W(j(e),n)),r&&(u.sticky=!0),v.length&&(u.groups=v)),e!==y)try{l(a,"source",""===y?"(?:)":y)}catch(A){}return a},V=c(x),Y=0;V.length>Y;)m(W,x,V[Y++]);S.constructor=W,W.prototype=S,v(r,"RegExp",W,{constructor:!0})}C("RegExp")},7465:function(e,t,n){"use strict";var i=n(3724),r=n(3635),o=n(4576),a=n(2106),s=n(1181).get,l=RegExp.prototype,u=TypeError;i&&r&&a(l,"dotAll",{configurable:!0,get:function(){if(this!==l){if("RegExp"===o(this))return!!s(this).dotAll;throw new u("Incompatible receiver, RegExp required")}}})},7495:function(e,t,n){"use strict";var i=n(6518),r=n(7323);i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},7745:function(e,t,n){"use strict";var i=n(3724),r=n(8429).MISSED_STICKY,o=n(4576),a=n(2106),s=n(1181).get,l=RegExp.prototype,u=TypeError;i&&r&&a(l,"sticky",{configurable:!0,get:function(){if(this!==l){if("RegExp"===o(this))return!!s(this).sticky;throw new u("Incompatible receiver, RegExp required")}}})},906:function(e,t,n){"use strict";n(7495);var i=n(6518),r=n(9565),o=n(4901),a=n(8551),s=n(655),l=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),u=/./.test;i({target:"RegExp",proto:!0,forced:!l},{test:function(e){var t=a(this),n=s(e),i=t.exec;if(!o(i))return r(u,t,n);var l=r(i,t,n);return null!==l&&(a(l),!0)}})},8781:function(e,t,n){"use strict";var i=n(350).PROPER,r=n(6840),o=n(8551),a=n(655),s=n(9039),l=n(1034),u="toString",c=RegExp.prototype,h=c[u],d=s((function(){return"/a/b"!==h.call({source:"a",flags:"b"})})),p=i&&h.name!==u;(d||p)&&r(c,u,(function(){var e=o(this),t=a(e.source),n=a(l(e));return"/"+t+"/"+n}),{unsafe:!0})},2405:function(e,t,n){"use strict";var i=n(6468),r=n(6938);i("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r)},1415:function(e,t,n){"use strict";n(2405)},9907:function(e,t,n){"use strict";var i=n(6518),r=n(7240),o=n(3061);i({target:"String",proto:!0,forced:o("anchor")},{anchor:function(e){return r(this,"a","name",e)}})},1699:function(e,t,n){"use strict";var i=n(6518),r=n(9504),o=n(5749),a=n(7750),s=n(655),l=n(1436),u=r("".indexOf);i({target:"String",proto:!0,forced:!l("includes")},{includes:function(e){return!!~u(s(a(this)),s(o(e)),arguments.length>1?arguments[1]:void 0)}})},7764:function(e,t,n){"use strict";var i=n(8183).charAt,r=n(655),o=n(1181),a=n(1088),s=n(2529),l="String Iterator",u=o.set,c=o.getterFor(l);a(String,"String",(function(e){u(this,{type:l,string:r(e),index:0})}),(function(){var e,t=c(this),n=t.string,r=t.index;return r>=n.length?s(void 0,!0):(e=i(n,r),t.index+=e.length,s(e,!1))}))},778:function(e,t,n){"use strict";var i=n(6518),r=n(7240),o=n(3061);i({target:"String",proto:!0,forced:o("link")},{link:function(e){return r(this,"a","href",e)}})},1761:function(e,t,n){"use strict";var i=n(9565),r=n(9228),o=n(8551),a=n(4117),s=n(8014),l=n(655),u=n(7750),c=n(5966),h=n(7829),d=n(6682);r("match",(function(e,t,n){return[function(t){var n=u(this),r=a(t)?void 0:c(t,e);return r?i(r,t,n):new RegExp(t)[e](l(n))},function(e){var i=o(this),r=l(e),a=n(t,i,r);if(a.done)return a.value;if(!i.global)return d(i,r);var u=i.unicode;i.lastIndex=0;var c,p=[],g=0;while(null!==(c=d(i,r))){var f=l(c[0]);p[g]=f,""===f&&(i.lastIndex=h(r,s(i.lastIndex),u)),g++}return 0===g?null:p}]}))},8156:function(e,t,n){"use strict";var i=n(6518),r=n(533).start,o=n(3063);i({target:"String",proto:!0,forced:o},{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},2781:function(e,t,n){"use strict";var i=n(6518),r=n(2333);i({target:"String",proto:!0},{repeat:r})},5440:function(e,t,n){"use strict";var i=n(8745),r=n(9565),o=n(9504),a=n(9228),s=n(9039),l=n(8551),u=n(4901),c=n(4117),h=n(1291),d=n(8014),p=n(655),g=n(7750),f=n(7829),m=n(5966),v=n(2478),y=n(6682),A=n(8227),_=A("replace"),C=Math.max,I=Math.min,E=o([].concat),w=o([].push),b=o("".indexOf),x=o("".slice),S=function(e){return void 0===e?e:String(e)},P=function(){return"$0"==="a".replace(/./,"$0")}(),M=function(){return!!/./[_]&&""===/./[_]("a","$0")}(),k=!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));a("replace",(function(e,t,n){var o=M?"$":"$0";return[function(e,n){var i=g(this),o=c(e)?void 0:m(e,_);return o?r(o,e,i,n):r(t,p(i),e,n)},function(e,r){var a=l(this),s=p(e);if("string"==typeof r&&-1===b(r,o)&&-1===b(r,"$<")){var c=n(t,a,s,r);if(c.done)return c.value}var g=u(r);g||(r=p(r));var m,A=a.global;A&&(m=a.unicode,a.lastIndex=0);var _,P=[];while(1){if(_=y(a,s),null===_)break;if(w(P,_),!A)break;var M=p(_[0]);""===M&&(a.lastIndex=f(s,d(a.lastIndex),m))}for(var k="",R=0,T=0;T<P.length;T++){_=P[T];for(var L,G=p(_[0]),O=C(I(h(_.index),s.length),0),D=[],N=1;N<_.length;N++)w(D,S(_[N]));var F=_.groups;if(g){var U=E([G],D,O,s);void 0!==F&&w(U,F),L=p(i(r,void 0,U))}else L=v(G,s,O,D,F,r);O>=R&&(k+=x(s,R,O)+L,R=O+G.length)}return k+x(s,R)}]}),!k||!P||M)},5746:function(e,t,n){"use strict";var i=n(9565),r=n(9228),o=n(8551),a=n(4117),s=n(7750),l=n(3470),u=n(655),c=n(5966),h=n(6682);r("search",(function(e,t,n){return[function(t){var n=s(this),r=a(t)?void 0:c(t,e);return r?i(r,t,n):new RegExp(t)[e](u(n))},function(e){var i=o(this),r=u(e),a=n(t,i,r);if(a.done)return a.value;var s=i.lastIndex;l(s,0)||(i.lastIndex=0);var c=h(i,r);return l(i.lastIndex,s)||(i.lastIndex=s),null===c?-1:c.index}]}))},744:function(e,t,n){"use strict";var i=n(9565),r=n(9504),o=n(9228),a=n(8551),s=n(4117),l=n(7750),u=n(2293),c=n(7829),h=n(8014),d=n(655),p=n(5966),g=n(6682),f=n(8429),m=n(9039),v=f.UNSUPPORTED_Y,y=4294967295,A=Math.min,_=r([].push),C=r("".slice),I=!m((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),E="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;o("split",(function(e,t,n){var r="0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:i(t,this,e,n)}:t;return[function(t,n){var o=l(this),a=s(t)?void 0:p(t,e);return a?i(a,t,o,n):i(r,d(o),t,n)},function(e,i){var o=a(this),s=d(e);if(!E){var l=n(r,o,s,i,r!==t);if(l.done)return l.value}var p=u(o,RegExp),f=o.unicode,m=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(v?"g":"y"),I=new p(v?"^(?:"+o.source+")":o,m),w=void 0===i?y:i>>>0;if(0===w)return[];if(0===s.length)return null===g(I,s)?[s]:[];var b=0,x=0,S=[];while(x<s.length){I.lastIndex=v?0:x;var P,M=g(I,v?C(s,x):s);if(null===M||(P=A(h(I.lastIndex+(v?x:0)),s.length))===b)x=c(s,x,f);else{if(_(S,C(s,b,x)),S.length===w)return S;for(var k=1;k<=M.length-1;k++)if(_(S,M[k]),S.length===w)return S;x=b=P}}return _(S,C(s,b)),S}]}),E||!I,v)},2762:function(e,t,n){"use strict";var i=n(6518),r=n(3802).trim,o=n(706);i({target:"String",proto:!0,forced:o("trim")},{trim:function(){return r(this)}})},6761:function(e,t,n){"use strict";var i=n(6518),r=n(4475),o=n(9565),a=n(9504),s=n(6395),l=n(3724),u=n(4495),c=n(9039),h=n(9297),d=n(1625),p=n(8551),g=n(5397),f=n(6969),m=n(655),v=n(6980),y=n(2360),A=n(1072),_=n(8480),C=n(298),I=n(3717),E=n(7347),w=n(4913),b=n(6801),x=n(8773),S=n(6840),P=n(2106),M=n(5745),k=n(6119),R=n(421),T=n(3392),L=n(8227),G=n(1951),O=n(511),D=n(8242),N=n(687),F=n(1181),U=n(9213).forEach,B=k("hidden"),j="Symbol",z="prototype",W=F.set,V=F.getterFor(j),Y=Object[z],H=r.Symbol,q=H&&H[z],X=r.RangeError,Z=r.TypeError,K=r.QObject,J=E.f,Q=w.f,$=C.f,ee=x.f,te=a([].push),ne=M("symbols"),ie=M("op-symbols"),re=M("wks"),oe=!K||!K[z]||!K[z].findChild,ae=function(e,t,n){var i=J(Y,t);i&&delete Y[t],Q(e,t,n),i&&e!==Y&&Q(Y,t,i)},se=l&&c((function(){return 7!==y(Q({},"a",{get:function(){return Q(this,"a",{value:7}).a}})).a}))?ae:Q,le=function(e,t){var n=ne[e]=y(q);return W(n,{type:j,tag:e,description:t}),l||(n.description=t),n},ue=function(e,t,n){e===Y&&ue(ie,t,n),p(e);var i=f(t);return p(n),h(ne,i)?(n.enumerable?(h(e,B)&&e[B][i]&&(e[B][i]=!1),n=y(n,{enumerable:v(0,!1)})):(h(e,B)||Q(e,B,v(1,y(null))),e[B][i]=!0),se(e,i,n)):Q(e,i,n)},ce=function(e,t){p(e);var n=g(t),i=A(n).concat(fe(n));return U(i,(function(t){l&&!o(de,n,t)||ue(e,t,n[t])})),e},he=function(e,t){return void 0===t?y(e):ce(y(e),t)},de=function(e){var t=f(e),n=o(ee,this,t);return!(this===Y&&h(ne,t)&&!h(ie,t))&&(!(n||!h(this,t)||!h(ne,t)||h(this,B)&&this[B][t])||n)},pe=function(e,t){var n=g(e),i=f(t);if(n!==Y||!h(ne,i)||h(ie,i)){var r=J(n,i);return!r||!h(ne,i)||h(n,B)&&n[B][i]||(r.enumerable=!0),r}},ge=function(e){var t=$(g(e)),n=[];return U(t,(function(e){h(ne,e)||h(R,e)||te(n,e)})),n},fe=function(e){var t=e===Y,n=$(t?ie:g(e)),i=[];return U(n,(function(e){!h(ne,e)||t&&!h(Y,e)||te(i,ne[e])})),i};u||(H=function(){if(d(q,this))throw new Z("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?m(arguments[0]):void 0,t=T(e),n=function(e){var i=void 0===this?r:this;i===Y&&o(n,ie,e),h(i,B)&&h(i[B],t)&&(i[B][t]=!1);var a=v(1,e);try{se(i,t,a)}catch(s){if(!(s instanceof X))throw s;ae(i,t,a)}};return l&&oe&&se(Y,t,{configurable:!0,set:n}),le(t,e)},q=H[z],S(q,"toString",(function(){return V(this).tag})),S(H,"withoutSetter",(function(e){return le(T(e),e)})),x.f=de,w.f=ue,b.f=ce,E.f=pe,_.f=C.f=ge,I.f=fe,G.f=function(e){return le(L(e),e)},l&&(P(q,"description",{configurable:!0,get:function(){return V(this).description}}),s||S(Y,"propertyIsEnumerable",de,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!u,sham:!u},{Symbol:H}),U(A(re),(function(e){O(e)})),i({target:j,stat:!0,forced:!u},{useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),i({target:"Object",stat:!0,forced:!u,sham:!l},{create:he,defineProperty:ue,defineProperties:ce,getOwnPropertyDescriptor:pe}),i({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:ge}),D(),N(H,j),R[B]=!0},9463:function(e,t,n){"use strict";var i=n(6518),r=n(3724),o=n(4475),a=n(9504),s=n(9297),l=n(4901),u=n(1625),c=n(655),h=n(2106),d=n(7740),p=o.Symbol,g=p&&p.prototype;if(r&&l(p)&&(!("description"in g)||void 0!==p().description)){var f={},m=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:c(arguments[0]),t=u(g,this)?new p(e):void 0===e?p():p(e);return""===e&&(f[t]=!0),t};d(m,p),m.prototype=g,g.constructor=m;var v="Symbol(description detection)"===String(p("description detection")),y=a(g.valueOf),A=a(g.toString),_=/^Symbol\((.*)\)[^)]+$/,C=a("".replace),I=a("".slice);h(g,"description",{configurable:!0,get:function(){var e=y(this);if(s(f,e))return"";var t=A(e),n=v?I(t,7,-1):C(t,_,"$1");return""===n?void 0:n}}),i({global:!0,constructor:!0,forced:!0},{Symbol:m})}},1510:function(e,t,n){"use strict";var i=n(6518),r=n(7751),o=n(9297),a=n(655),s=n(5745),l=n(1296),u=s("string-to-symbol-registry"),c=s("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!l},{for:function(e){var t=a(e);if(o(u,t))return u[t];var n=r("Symbol")(t);return u[t]=n,c[n]=t,n}})},2259:function(e,t,n){"use strict";var i=n(511);i("iterator")},2675:function(e,t,n){"use strict";n(6761),n(1510),n(7812),n(3110),n(9773)},7812:function(e,t,n){"use strict";var i=n(6518),r=n(9297),o=n(757),a=n(6823),s=n(5745),l=n(1296),u=s("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!l},{keyFor:function(e){if(!o(e))throw new TypeError(a(e)+" is not a symbol");if(r(u,e))return u[e]}})},5700:function(e,t,n){"use strict";var i=n(511),r=n(8242);i("toPrimitive"),r()},3500:function(e,t,n){"use strict";var i=n(4475),r=n(7400),o=n(9296),a=n(235),s=n(6699),l=function(e){if(e&&e.forEach!==a)try{s(e,"forEach",a)}catch(t){e.forEach=a}};for(var u in r)r[u]&&l(i[u]&&i[u].prototype);l(o)},2953:function(e,t,n){"use strict";var i=n(4475),r=n(7400),o=n(9296),a=n(3792),s=n(6699),l=n(687),u=n(8227),c=u("iterator"),h=a.values,d=function(e,t){if(e){if(e[c]!==h)try{s(e,c,h)}catch(i){e[c]=h}if(l(e,t,!0),r[t])for(var n in a)if(e[n]!==a[n])try{s(e,n,a[n])}catch(i){e[n]=a[n]}}};for(var p in r)d(i[p]&&i[p].prototype,p);d(o,"DOMTokenList")},3611:function(e,t,n){"use strict";var i=n(6518),r=n(4475),o=n(2106),a=n(3724),s=TypeError,l=Object.defineProperty,u=r.self!==r;try{if(a){var c=Object.getOwnPropertyDescriptor(r,"self");!u&&c&&c.get&&c.enumerable||o(r,"self",{get:function(){return r},set:function(e){if(this!==r)throw new s("Illegal invocation");l(r,"self",{value:e,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else i({global:!0,simple:!0,forced:u},{self:r})}catch(h){}},8406:function(e,t,n){"use strict";n(3792);var i=n(6518),r=n(4475),o=n(3389),a=n(9565),s=n(9504),l=n(3724),u=n(7416),c=n(6840),h=n(2106),d=n(6279),p=n(687),g=n(3994),f=n(1181),m=n(679),v=n(4901),y=n(9297),A=n(6080),_=n(6955),C=n(8551),I=n(34),E=n(655),w=n(2360),b=n(6980),x=n(81),S=n(851),P=n(2529),M=n(2812),k=n(8227),R=n(4488),T=k("iterator"),L="URLSearchParams",G=L+"Iterator",O=f.set,D=f.getterFor(L),N=f.getterFor(G),F=o("fetch"),U=o("Request"),B=o("Headers"),j=U&&U.prototype,z=B&&B.prototype,W=r.RegExp,V=r.TypeError,Y=r.decodeURIComponent,H=r.encodeURIComponent,q=s("".charAt),X=s([].join),Z=s([].push),K=s("".replace),J=s([].shift),Q=s([].splice),$=s("".split),ee=s("".slice),te=/\+/g,ne=Array(4),ie=function(e){return ne[e-1]||(ne[e-1]=W("((?:%[\\da-f]{2}){"+e+"})","gi"))},re=function(e){try{return Y(e)}catch(t){return e}},oe=function(e){var t=K(e,te," "),n=4;try{return Y(t)}catch(i){while(n)t=K(t,ie(n--),re);return t}},ae=/[!'()~]|%20/g,se={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},le=function(e){return se[e]},ue=function(e){return K(H(e),ae,le)},ce=g((function(e,t){O(this,{type:G,target:D(e).entries,index:0,kind:t})}),L,(function(){var e=N(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,P(void 0,!0);var i=t[n];switch(e.kind){case"keys":return P(i.key,!1);case"values":return P(i.value,!1)}return P([i.key,i.value],!1)}),!0),he=function(e){this.entries=[],this.url=null,void 0!==e&&(I(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===q(e,0)?ee(e,1):e:E(e)))};he.prototype={type:L,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,i,r,o,s,l,u=this.entries,c=S(e);if(c){t=x(e,c),n=t.next;while(!(i=a(n,t)).done){if(r=x(C(i.value)),o=r.next,(s=a(o,r)).done||(l=a(o,r)).done||!a(o,r).done)throw new V("Expected sequence with length 2");Z(u,{key:E(s.value),value:E(l.value)})}}else for(var h in e)y(e,h)&&Z(u,{key:h,value:E(e[h])})},parseQuery:function(e){if(e){var t,n,i=this.entries,r=$(e,"&"),o=0;while(o<r.length)t=r[o++],t.length&&(n=$(t,"="),Z(i,{key:oe(J(n)),value:oe(X(n,"="))}))}},serialize:function(){var e,t=this.entries,n=[],i=0;while(i<t.length)e=t[i++],Z(n,ue(e.key)+"="+ue(e.value));return X(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var de=function(){m(this,pe);var e=arguments.length>0?arguments[0]:void 0,t=O(this,new he(e));l||(this.size=t.entries.length)},pe=de.prototype;if(d(pe,{append:function(e,t){var n=D(this);M(arguments.length,2),Z(n.entries,{key:E(e),value:E(t)}),l||this.length++,n.updateURL()},delete:function(e){var t=D(this),n=M(arguments.length,1),i=t.entries,r=E(e),o=n<2?void 0:arguments[1],a=void 0===o?o:E(o),s=0;while(s<i.length){var u=i[s];if(u.key!==r||void 0!==a&&u.value!==a)s++;else if(Q(i,s,1),void 0!==a)break}l||(this.size=i.length),t.updateURL()},get:function(e){var t=D(this).entries;M(arguments.length,1);for(var n=E(e),i=0;i<t.length;i++)if(t[i].key===n)return t[i].value;return null},getAll:function(e){var t=D(this).entries;M(arguments.length,1);for(var n=E(e),i=[],r=0;r<t.length;r++)t[r].key===n&&Z(i,t[r].value);return i},has:function(e){var t=D(this).entries,n=M(arguments.length,1),i=E(e),r=n<2?void 0:arguments[1],o=void 0===r?r:E(r),a=0;while(a<t.length){var s=t[a++];if(s.key===i&&(void 0===o||s.value===o))return!0}return!1},set:function(e,t){var n=D(this);M(arguments.length,1);for(var i,r=n.entries,o=!1,a=E(e),s=E(t),u=0;u<r.length;u++)i=r[u],i.key===a&&(o?Q(r,u--,1):(o=!0,i.value=s));o||Z(r,{key:a,value:s}),l||(this.size=r.length),n.updateURL()},sort:function(){var e=D(this);R(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){var t,n=D(this).entries,i=A(e,arguments.length>1?arguments[1]:void 0),r=0;while(r<n.length)t=n[r++],i(t.value,t.key,this)},keys:function(){return new ce(this,"keys")},values:function(){return new ce(this,"values")},entries:function(){return new ce(this,"entries")}},{enumerable:!0}),c(pe,T,pe.entries,{name:"entries"}),c(pe,"toString",(function(){return D(this).serialize()}),{enumerable:!0}),l&&h(pe,"size",{get:function(){return D(this).entries.length},configurable:!0,enumerable:!0}),p(de,L),i({global:!0,constructor:!0,forced:!u},{URLSearchParams:de}),!u&&v(B)){var ge=s(z.has),fe=s(z.set),me=function(e){if(I(e)){var t,n=e.body;if(_(n)===L)return t=e.headers?new B(e.headers):new B,ge(t,"content-type")||fe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),w(e,{body:b(0,E(n)),headers:b(0,t)})}return e};if(v(F)&&i({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return F(e,arguments.length>1?me(arguments[1]):{})}}),v(U)){var ve=function(e){return m(this,j),new U(e,arguments.length>1?me(arguments[1]):{})};j.constructor=ve,ve.prototype=j,i({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ve})}}e.exports={URLSearchParams:de,getState:D}},4603:function(e,t,n){"use strict";var i=n(6840),r=n(9504),o=n(655),a=n(2812),s=URLSearchParams,l=s.prototype,u=r(l.append),c=r(l["delete"]),h=r(l.forEach),d=r([].push),p=new s("a=1&a=2&b=3");p["delete"]("a",1),p["delete"]("b",void 0),p+""!=="a=2"&&i(l,"delete",(function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return c(this,e);var i=[];h(this,(function(e,t){d(i,{key:t,value:e})})),a(t,1);var r,s=o(e),l=o(n),p=0,g=0,f=!1,m=i.length;while(p<m)r=i[p++],f||r.key===s?(f=!0,c(this,r.key)):g++;while(g<m)r=i[g++],r.key===s&&r.value===l||u(this,r.key,r.value)}),{enumerable:!0,unsafe:!0})},7566:function(e,t,n){"use strict";var i=n(6840),r=n(9504),o=n(655),a=n(2812),s=URLSearchParams,l=s.prototype,u=r(l.getAll),c=r(l.has),h=new s("a=1");!h.has("a",2)&&h.has("a",void 0)||i(l,"has",(function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return c(this,e);var i=u(this,e);a(t,1);var r=o(n),s=0;while(s<i.length)if(i[s++]===r)return!0;return!1}),{enumerable:!0,unsafe:!0})},8408:function(e,t,n){"use strict";n(8406)},8721:function(e,t,n){"use strict";var i=n(3724),r=n(9504),o=n(2106),a=URLSearchParams.prototype,s=r(a.forEach);i&&!("size"in a)&&o(a,"size",{get:function(){var e=0;return s(this,(function(){e++})),e},configurable:!0,enumerable:!0})},5806:function(e,t,n){"use strict";n(7764);var i,r=n(6518),o=n(3724),a=n(7416),s=n(4475),l=n(6080),u=n(9504),c=n(6840),h=n(2106),d=n(679),p=n(9297),g=n(4213),f=n(7916),m=n(7680),v=n(8183).codeAt,y=n(6098),A=n(655),_=n(687),C=n(2812),I=n(8406),E=n(1181),w=E.set,b=E.getterFor("URL"),x=I.URLSearchParams,S=I.getState,P=s.URL,M=s.TypeError,k=s.parseInt,R=Math.floor,T=Math.pow,L=u("".charAt),G=u(/./.exec),O=u([].join),D=u(1..toString),N=u([].pop),F=u([].push),U=u("".replace),B=u([].shift),j=u("".split),z=u("".slice),W=u("".toLowerCase),V=u([].unshift),Y="Invalid authority",H="Invalid scheme",q="Invalid host",X="Invalid port",Z=/[a-z]/i,K=/[\d+-.a-z]/i,J=/\d/,Q=/^0x/i,$=/^[0-7]+$/,ee=/^\d+$/,te=/^[\da-f]+$/i,ne=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ie=/[\0\t\n\r #/:<>?@[\\\]^|]/,re=/^[\u0000-\u0020]+/,oe=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ae=/[\t\n\r]/g,se=function(e){var t,n,i,r,o,a,s,l=j(e,".");if(l.length&&""===l[l.length-1]&&l.length--,t=l.length,t>4)return e;for(n=[],i=0;i<t;i++){if(r=l[i],""===r)return e;if(o=10,r.length>1&&"0"===L(r,0)&&(o=G(Q,r)?16:8,r=z(r,8===o?1:2)),""===r)a=0;else{if(!G(10===o?ee:8===o?$:te,r))return e;a=k(r,o)}F(n,a)}for(i=0;i<t;i++)if(a=n[i],i===t-1){if(a>=T(256,5-t))return null}else if(a>255)return null;for(s=N(n),i=0;i<n.length;i++)s+=n[i]*T(256,3-i);return s},le=function(e){var t,n,i,r,o,a,s,l=[0,0,0,0,0,0,0,0],u=0,c=null,h=0,d=function(){return L(e,h)};if(":"===d()){if(":"!==L(e,1))return;h+=2,u++,c=u}while(d()){if(8===u)return;if(":"!==d()){t=n=0;while(n<4&&G(te,d()))t=16*t+k(d(),16),h++,n++;if("."===d()){if(0===n)return;if(h-=n,u>6)return;i=0;while(d()){if(r=null,i>0){if(!("."===d()&&i<4))return;h++}if(!G(J,d()))return;while(G(J,d())){if(o=k(d(),10),null===r)r=o;else{if(0===r)return;r=10*r+o}if(r>255)return;h++}l[u]=256*l[u]+r,i++,2!==i&&4!==i||u++}if(4!==i)return;break}if(":"===d()){if(h++,!d())return}else if(d())return;l[u++]=t}else{if(null!==c)return;h++,u++,c=u}}if(null!==c){a=u-c,u=7;while(0!==u&&a>0)s=l[u],l[u--]=l[c+a-1],l[c+--a]=s}else if(8!==u)return;return l},ue=function(e){for(var t=null,n=1,i=null,r=0,o=0;o<8;o++)0!==e[o]?(r>n&&(t=i,n=r),i=null,r=0):(null===i&&(i=o),++r);return r>n&&(t=i,n=r),t},ce=function(e){var t,n,i,r;if("number"==typeof e){for(t=[],n=0;n<4;n++)V(t,e%256),e=R(e/256);return O(t,".")}if("object"==typeof e){for(t="",i=ue(e),n=0;n<8;n++)r&&0===e[n]||(r&&(r=!1),i===n?(t+=n?":":"::",r=!0):(t+=D(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},he={},de=g({},he,{" ":1,'"':1,"<":1,">":1,"`":1}),pe=g({},de,{"#":1,"?":1,"{":1,"}":1}),ge=g({},pe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),fe=function(e,t){var n=v(e,0);return n>32&&n<127&&!p(t,e)?e:encodeURIComponent(e)},me={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ve=function(e,t){var n;return 2===e.length&&G(Z,L(e,0))&&(":"===(n=L(e,1))||!t&&"|"===n)},ye=function(e){var t;return e.length>1&&ve(z(e,0,2))&&(2===e.length||"/"===(t=L(e,2))||"\\"===t||"?"===t||"#"===t)},Ae=function(e){return"."===e||"%2e"===W(e)},_e=function(e){return e=W(e),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},Ce={},Ie={},Ee={},we={},be={},xe={},Se={},Pe={},Me={},ke={},Re={},Te={},Le={},Ge={},Oe={},De={},Ne={},Fe={},Ue={},Be={},je={},ze=function(e,t,n){var i,r,o,a=A(e);if(t){if(r=this.parse(a),r)throw new M(r);this.searchParams=null}else{if(void 0!==n&&(i=new ze(n,!0)),r=this.parse(a,null,i),r)throw new M(r);o=S(new x),o.bindURL(this),this.searchParams=o}};ze.prototype={type:"URL",parse:function(e,t,n){var r,o,a,s,l=this,u=t||Ce,c=0,h="",d=!1,g=!1,v=!1;e=A(e),t||(l.scheme="",l.username="",l.password="",l.host=null,l.port=null,l.path=[],l.query=null,l.fragment=null,l.cannotBeABaseURL=!1,e=U(e,re,""),e=U(e,oe,"$1")),e=U(e,ae,""),r=f(e);while(c<=r.length){switch(o=r[c],u){case Ce:if(!o||!G(Z,o)){if(t)return H;u=Ee;continue}h+=W(o),u=Ie;break;case Ie:if(o&&(G(K,o)||"+"===o||"-"===o||"."===o))h+=W(o);else{if(":"!==o){if(t)return H;h="",u=Ee,c=0;continue}if(t&&(l.isSpecial()!==p(me,h)||"file"===h&&(l.includesCredentials()||null!==l.port)||"file"===l.scheme&&!l.host))return;if(l.scheme=h,t)return void(l.isSpecial()&&me[l.scheme]===l.port&&(l.port=null));h="","file"===l.scheme?u=Ge:l.isSpecial()&&n&&n.scheme===l.scheme?u=we:l.isSpecial()?u=Pe:"/"===r[c+1]?(u=be,c++):(l.cannotBeABaseURL=!0,F(l.path,""),u=Ue)}break;case Ee:if(!n||n.cannotBeABaseURL&&"#"!==o)return H;if(n.cannotBeABaseURL&&"#"===o){l.scheme=n.scheme,l.path=m(n.path),l.query=n.query,l.fragment="",l.cannotBeABaseURL=!0,u=je;break}u="file"===n.scheme?Ge:xe;continue;case we:if("/"!==o||"/"!==r[c+1]){u=xe;continue}u=Me,c++;break;case be:if("/"===o){u=ke;break}u=Fe;continue;case xe:if(l.scheme=n.scheme,o===i)l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=m(n.path),l.query=n.query;else if("/"===o||"\\"===o&&l.isSpecial())u=Se;else if("?"===o)l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=m(n.path),l.query="",u=Be;else{if("#"!==o){l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=m(n.path),l.path.length--,u=Fe;continue}l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=m(n.path),l.query=n.query,l.fragment="",u=je}break;case Se:if(!l.isSpecial()||"/"!==o&&"\\"!==o){if("/"!==o){l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,u=Fe;continue}u=ke}else u=Me;break;case Pe:if(u=Me,"/"!==o||"/"!==L(h,c+1))continue;c++;break;case Me:if("/"!==o&&"\\"!==o){u=ke;continue}break;case ke:if("@"===o){d&&(h="%40"+h),d=!0,a=f(h);for(var y=0;y<a.length;y++){var _=a[y];if(":"!==_||v){var C=fe(_,ge);v?l.password+=C:l.username+=C}else v=!0}h=""}else if(o===i||"/"===o||"?"===o||"#"===o||"\\"===o&&l.isSpecial()){if(d&&""===h)return Y;c-=f(h).length+1,h="",u=Re}else h+=o;break;case Re:case Te:if(t&&"file"===l.scheme){u=De;continue}if(":"!==o||g){if(o===i||"/"===o||"?"===o||"#"===o||"\\"===o&&l.isSpecial()){if(l.isSpecial()&&""===h)return q;if(t&&""===h&&(l.includesCredentials()||null!==l.port))return;if(s=l.parseHost(h),s)return s;if(h="",u=Ne,t)return;continue}"["===o?g=!0:"]"===o&&(g=!1),h+=o}else{if(""===h)return q;if(s=l.parseHost(h),s)return s;if(h="",u=Le,t===Te)return}break;case Le:if(!G(J,o)){if(o===i||"/"===o||"?"===o||"#"===o||"\\"===o&&l.isSpecial()||t){if(""!==h){var I=k(h,10);if(I>65535)return X;l.port=l.isSpecial()&&I===me[l.scheme]?null:I,h=""}if(t)return;u=Ne;continue}return X}h+=o;break;case Ge:if(l.scheme="file","/"===o||"\\"===o)u=Oe;else{if(!n||"file"!==n.scheme){u=Fe;continue}switch(o){case i:l.host=n.host,l.path=m(n.path),l.query=n.query;break;case"?":l.host=n.host,l.path=m(n.path),l.query="",u=Be;break;case"#":l.host=n.host,l.path=m(n.path),l.query=n.query,l.fragment="",u=je;break;default:ye(O(m(r,c),""))||(l.host=n.host,l.path=m(n.path),l.shortenPath()),u=Fe;continue}}break;case Oe:if("/"===o||"\\"===o){u=De;break}n&&"file"===n.scheme&&!ye(O(m(r,c),""))&&(ve(n.path[0],!0)?F(l.path,n.path[0]):l.host=n.host),u=Fe;continue;case De:if(o===i||"/"===o||"\\"===o||"?"===o||"#"===o){if(!t&&ve(h))u=Fe;else if(""===h){if(l.host="",t)return;u=Ne}else{if(s=l.parseHost(h),s)return s;if("localhost"===l.host&&(l.host=""),t)return;h="",u=Ne}continue}h+=o;break;case Ne:if(l.isSpecial()){if(u=Fe,"/"!==o&&"\\"!==o)continue}else if(t||"?"!==o)if(t||"#"!==o){if(o!==i&&(u=Fe,"/"!==o))continue}else l.fragment="",u=je;else l.query="",u=Be;break;case Fe:if(o===i||"/"===o||"\\"===o&&l.isSpecial()||!t&&("?"===o||"#"===o)){if(_e(h)?(l.shortenPath(),"/"===o||"\\"===o&&l.isSpecial()||F(l.path,"")):Ae(h)?"/"===o||"\\"===o&&l.isSpecial()||F(l.path,""):("file"===l.scheme&&!l.path.length&&ve(h)&&(l.host&&(l.host=""),h=L(h,0)+":"),F(l.path,h)),h="","file"===l.scheme&&(o===i||"?"===o||"#"===o))while(l.path.length>1&&""===l.path[0])B(l.path);"?"===o?(l.query="",u=Be):"#"===o&&(l.fragment="",u=je)}else h+=fe(o,pe);break;case Ue:"?"===o?(l.query="",u=Be):"#"===o?(l.fragment="",u=je):o!==i&&(l.path[0]+=fe(o,he));break;case Be:t||"#"!==o?o!==i&&("'"===o&&l.isSpecial()?l.query+="%27":l.query+="#"===o?"%23":fe(o,he)):(l.fragment="",u=je);break;case je:o!==i&&(l.fragment+=fe(o,de));break}c++}},parseHost:function(e){var t,n,i;if("["===L(e,0)){if("]"!==L(e,e.length-1))return q;if(t=le(z(e,1,-1)),!t)return q;this.host=t}else if(this.isSpecial()){if(e=y(e),G(ne,e))return q;if(t=se(e),null===t)return q;this.host=t}else{if(G(ie,e))return q;for(t="",n=f(e),i=0;i<n.length;i++)t+=fe(n[i],he);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return p(me,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"===this.scheme&&1===t&&ve(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,i=e.password,r=e.host,o=e.port,a=e.path,s=e.query,l=e.fragment,u=t+":";return null!==r?(u+="//",e.includesCredentials()&&(u+=n+(i?":"+i:"")+"@"),u+=ce(r),null!==o&&(u+=":"+o)):"file"===t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+O(a,"/"):"",null!==s&&(u+="?"+s),null!==l&&(u+="#"+l),u},setHref:function(e){var t=this.parse(e);if(t)throw new M(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"===e)try{return new We(e.path[0]).origin}catch(n){return"null"}return"file"!==e&&this.isSpecial()?e+"://"+ce(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(A(e)+":",Ce)},getUsername:function(){return this.username},setUsername:function(e){var t=f(A(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=fe(t[n],ge)}},getPassword:function(){return this.password},setPassword:function(e){var t=f(A(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=fe(t[n],ge)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?ce(e):ce(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Re)},getHostname:function(){var e=this.host;return null===e?"":ce(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Te)},getPort:function(){var e=this.port;return null===e?"":A(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(e=A(e),""===e?this.port=null:this.parse(e,Le))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+O(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Ne))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){e=A(e),""===e?this.query=null:("?"===L(e,0)&&(e=z(e,1)),this.query="",this.parse(e,Be)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){e=A(e),""!==e?("#"===L(e,0)&&(e=z(e,1)),this.fragment="",this.parse(e,je)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var We=function(e){var t=d(this,Ve),n=C(arguments.length,1)>1?arguments[1]:void 0,i=w(t,new ze(e,!1,n));o||(t.href=i.serialize(),t.origin=i.getOrigin(),t.protocol=i.getProtocol(),t.username=i.getUsername(),t.password=i.getPassword(),t.host=i.getHost(),t.hostname=i.getHostname(),t.port=i.getPort(),t.pathname=i.getPathname(),t.search=i.getSearch(),t.searchParams=i.getSearchParams(),t.hash=i.getHash())},Ve=We.prototype,Ye=function(e,t){return{get:function(){return b(this)[e]()},set:t&&function(e){return b(this)[t](e)},configurable:!0,enumerable:!0}};if(o&&(h(Ve,"href",Ye("serialize","setHref")),h(Ve,"origin",Ye("getOrigin")),h(Ve,"protocol",Ye("getProtocol","setProtocol")),h(Ve,"username",Ye("getUsername","setUsername")),h(Ve,"password",Ye("getPassword","setPassword")),h(Ve,"host",Ye("getHost","setHost")),h(Ve,"hostname",Ye("getHostname","setHostname")),h(Ve,"port",Ye("getPort","setPort")),h(Ve,"pathname",Ye("getPathname","setPathname")),h(Ve,"search",Ye("getSearch","setSearch")),h(Ve,"searchParams",Ye("getSearchParams")),h(Ve,"hash",Ye("getHash","setHash"))),c(Ve,"toJSON",(function(){return b(this).serialize()}),{enumerable:!0}),c(Ve,"toString",(function(){return b(this).serialize()}),{enumerable:!0}),P){var He=P.createObjectURL,qe=P.revokeObjectURL;He&&c(We,"createObjectURL",l(He,P)),qe&&c(We,"revokeObjectURL",l(qe,P))}_(We,"URL"),r({global:!0,constructor:!0,forced:!a,sham:!o},{URL:We})},3296:function(e,t,n){"use strict";n(5806)},7208:function(e,t,n){"use strict";var i=n(6518),r=n(9565);i({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return r(URL.prototype.toString,this)}})},8416:function(e){function t(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach((n=>{const i=e[n],r=typeof i;"object"!==r&&"function"!==r||Object.isFrozen(i)||t(i)})),e}class n{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function i(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function r(e,...t){const n=Object.create(null);for(const i in e)n[i]=e[i];return t.forEach((function(e){for(const t in e)n[t]=e[t]})),n}const o="</span>",a=e=>!!e.scope,s=(e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map(((e,t)=>`${e}${"_".repeat(t+1)}`))].join(" ")}return`${t}${e}`};class l{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=i(e)}openNode(e){if(!a(e))return;const t=s(e.scope,{prefix:this.classPrefix});this.span(t)}closeNode(e){a(e)&&(this.buffer+=o)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const u=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class c{constructor(){this.rootNode=u(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const t=u({scope:e});this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){while(this.closeNode());}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return"string"===typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach((t=>this._walk(e,t))),e.closeNode(t)),e}static _collapse(e){"string"!==typeof e&&e.children&&(e.children.every((e=>"string"===typeof e))?e.children=[e.children.join("")]:e.children.forEach((e=>{c._collapse(e)})))}}class h extends c{constructor(e){super(),this.options=e}addText(e){""!==e&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,t){const n=e.root;t&&(n.scope=`language:${t}`),this.add(n)}toHTML(){const e=new l(this,this.options);return e.value()}finalize(){return this.closeAllNodes(),!0}}function d(e){return e?"string"===typeof e?e:e.source:null}function p(e){return m("(?=",e,")")}function g(e){return m("(?:",e,")*")}function f(e){return m("(?:",e,")?")}function m(...e){const t=e.map((e=>d(e))).join("");return t}function v(e){const t=e[e.length-1];return"object"===typeof t&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function y(...e){const t=v(e),n="("+(t.capture?"":"?:")+e.map((e=>d(e))).join("|")+")";return n}function A(e){return new RegExp(e.toString()+"|").exec("").length-1}function _(e,t){const n=e&&e.exec(t);return n&&0===n.index}const C=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function I(e,{joinWith:t}){let n=0;return e.map((e=>{n+=1;const t=n;let i=d(e),r="";while(i.length>0){const e=C.exec(i);if(!e){r+=i;break}r+=i.substring(0,e.index),i=i.substring(e.index+e[0].length),"\\"===e[0][0]&&e[1]?r+="\\"+String(Number(e[1])+t):(r+=e[0],"("===e[0]&&n++)}return r})).map((e=>`(${e})`)).join(t)}const E=/\b\B/,w="[a-zA-Z]\\w*",b="[a-zA-Z_]\\w*",x="\\b\\d+(\\.\\d+)?",S="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",P="\\b(0b[01]+)",M="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",k=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=m(t,/.*\b/,e.binary,/\b.*/)),r({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(e,t)=>{0!==e.index&&t.ignoreMatch()}},e)},R={begin:"\\\\[\\s\\S]",relevance:0},T={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[R]},L={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[R]},G={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},O=function(e,t,n={}){const i=r({scope:"comment",begin:e,end:t,contains:[]},n);i.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const o=y("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return i.contains.push({begin:m(/[ ]+/,"(",o,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),i},D=O("//","$"),N=O("/\\*","\\*/"),F=O("#","$"),U={scope:"number",begin:x,relevance:0},B={scope:"number",begin:S,relevance:0},j={scope:"number",begin:P,relevance:0},z={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[R,{begin:/\[/,end:/\]/,relevance:0,contains:[R]}]},W={scope:"title",begin:w,relevance:0},V={scope:"title",begin:b,relevance:0},Y={begin:"\\.\\s*"+b,relevance:0},H=function(e){return Object.assign(e,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})};var q=Object.freeze({__proto__:null,APOS_STRING_MODE:T,BACKSLASH_ESCAPE:R,BINARY_NUMBER_MODE:j,BINARY_NUMBER_RE:P,COMMENT:O,C_BLOCK_COMMENT_MODE:N,C_LINE_COMMENT_MODE:D,C_NUMBER_MODE:B,C_NUMBER_RE:S,END_SAME_AS_BEGIN:H,HASH_COMMENT_MODE:F,IDENT_RE:w,MATCH_NOTHING_RE:E,METHOD_GUARD:Y,NUMBER_MODE:U,NUMBER_RE:x,PHRASAL_WORDS_MODE:G,QUOTE_STRING_MODE:L,REGEXP_MODE:z,RE_STARTERS_RE:M,SHEBANG:k,TITLE_MODE:W,UNDERSCORE_IDENT_RE:b,UNDERSCORE_TITLE_MODE:V});function X(e,t){const n=e.input[e.index-1];"."===n&&t.ignoreMatch()}function Z(e,t){void 0!==e.className&&(e.scope=e.className,delete e.className)}function K(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=X,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))}function J(e,t){Array.isArray(e.illegal)&&(e.illegal=y(...e.illegal))}function Q(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function $(e,t){void 0===e.relevance&&(e.relevance=1)}const ee=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach((t=>{delete e[t]})),e.keywords=n.keywords,e.begin=m(n.beforeMatch,p(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},te=["of","and","for","in","not","or","if","then","parent","list","value"],ne="keyword";function ie(e,t,n=ne){const i=Object.create(null);return"string"===typeof e?r(n,e.split(" ")):Array.isArray(e)?r(n,e):Object.keys(e).forEach((function(n){Object.assign(i,ie(e[n],t,n))})),i;function r(e,n){t&&(n=n.map((e=>e.toLowerCase()))),n.forEach((function(t){const n=t.split("|");i[n[0]]=[e,re(n[0],n[1])]}))}}function re(e,t){return t?Number(t):oe(e)?0:1}function oe(e){return te.includes(e.toLowerCase())}const ae={},se=e=>{console.error(e)},le=(e,...t)=>{console.log(`WARN: ${e}`,...t)},ue=(e,t)=>{ae[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),ae[`${e}/${t}`]=!0)},ce=new Error;function he(e,t,{key:n}){let i=0;const r=e[n],o={},a={};for(let s=1;s<=t.length;s++)a[s+i]=r[s],o[s+i]=!0,i+=A(t[s-1]);e[n]=a,e[n]._emit=o,e[n]._multi=!0}function de(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw se("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),ce;if("object"!==typeof e.beginScope||null===e.beginScope)throw se("beginScope must be object"),ce;he(e,e.begin,{key:"beginScope"}),e.begin=I(e.begin,{joinWith:""})}}function pe(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw se("skip, excludeEnd, returnEnd not compatible with endScope: {}"),ce;if("object"!==typeof e.endScope||null===e.endScope)throw se("endScope must be object"),ce;he(e,e.end,{key:"endScope"}),e.end=I(e.end,{joinWith:""})}}function ge(e){e.scope&&"object"===typeof e.scope&&null!==e.scope&&(e.beginScope=e.scope,delete e.scope)}function fe(e){ge(e),"string"===typeof e.beginScope&&(e.beginScope={_wrap:e.beginScope}),"string"===typeof e.endScope&&(e.endScope={_wrap:e.endScope}),de(e),pe(e)}function me(e){function t(t,n){return new RegExp(d(t),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(n?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=A(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const e=this.regexes.map((e=>e[1]));this.matcherRe=t(I(e,{joinWith:"|"}),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;const t=this.matcherRe.exec(e);if(!t)return null;const n=t.findIndex(((e,t)=>t>0&&void 0!==e)),i=this.matchIndexes[n];return t.splice(0,n),Object.assign(t,i)}}class i{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];const t=new n;return this.rules.slice(e).forEach((([e,n])=>t.addRule(e,n))),t.compile(),this.multiRegexes[e]=t,t}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}exec(e){const t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;let n=t.exec(e);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const t=this.getMatcher(0);t.lastIndex=this.lastIndex+1,n=t.exec(e)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}function o(e){const t=new i;return e.contains.forEach((e=>t.addRule(e.begin,{rule:e,type:"begin"}))),e.terminatorEnd&&t.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}function a(n,i){const r=n;if(n.isCompiled)return r;[Z,Q,fe,ee].forEach((e=>e(n,i))),e.compilerExtensions.forEach((e=>e(n,i))),n.__beforeBegin=null,[K,J,$].forEach((e=>e(n,i))),n.isCompiled=!0;let s=null;return"object"===typeof n.keywords&&n.keywords.$pattern&&(n.keywords=Object.assign({},n.keywords),s=n.keywords.$pattern,delete n.keywords.$pattern),s=s||/\w+/,n.keywords&&(n.keywords=ie(n.keywords,e.case_insensitive)),r.keywordPatternRe=t(s,!0),i&&(n.begin||(n.begin=/\B|\b/),r.beginRe=t(r.begin),n.end||n.endsWithParent||(n.end=/\B|\b/),n.end&&(r.endRe=t(r.end)),r.terminatorEnd=d(r.end)||"",n.endsWithParent&&i.terminatorEnd&&(r.terminatorEnd+=(n.end?"|":"")+i.terminatorEnd)),n.illegal&&(r.illegalRe=t(n.illegal)),n.contains||(n.contains=[]),n.contains=[].concat(...n.contains.map((function(e){return ye("self"===e?n:e)}))),n.contains.forEach((function(e){a(e,r)})),n.starts&&a(n.starts,i),r.matcher=o(r),r}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=r(e.classNameAliases||{}),a(e)}function ve(e){return!!e&&(e.endsWithParent||ve(e.starts))}function ye(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map((function(t){return r(e,{variants:null},t)}))),e.cachedVariants?e.cachedVariants:ve(e)?r(e,{starts:e.starts?r(e.starts):null}):Object.isFrozen(e)?r(e):e}var Ae="11.9.0";class _e extends Error{constructor(e,t){super(e),this.name="HTMLInjectionError",this.html=t}}const Ce=i,Ie=r,Ee=Symbol("nomatch"),we=7,be=function(e){const i=Object.create(null),r=Object.create(null),o=[];let a=!0;const s="Could not find the language '{}', did you forget to load/include a language module?",l={disableAutodetect:!0,name:"Plain text",contains:[]};let u={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:h};function c(e){return u.noHighlightRe.test(e)}function d(e){let t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";const n=u.languageDetectRe.exec(t);if(n){const t=G(n[1]);return t||(le(s.replace("{}",n[1])),le("Falling back to no-highlight mode for this block.",e)),t?n[1]:"no-highlight"}return t.split(/\s+/).find((e=>c(e)||G(e)))}function v(e,t,n){let i="",r="";"object"===typeof t?(i=e,n=t.ignoreIllegals,r=t.language):(ue("10.7.0","highlight(lang, code, ...args) has been deprecated."),ue("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),r=e,i=t),void 0===n&&(n=!0);const o={code:i,language:r};B("before:highlight",o);const a=o.result?o.result:A(o.language,o.code,n);return a.code=o.code,B("after:highlight",a),a}function A(e,t,r,o){const l=Object.create(null);function c(e,t){return e.keywords[t]}function h(){if(!k.keywords)return void T.addText(L);let e=0;k.keywordPatternRe.lastIndex=0;let t=k.keywordPatternRe.exec(L),n="";while(t){n+=L.substring(e,t.index);const i=S.case_insensitive?t[0].toLowerCase():t[0],r=c(k,i);if(r){const[e,o]=r;if(T.addText(n),n="",l[i]=(l[i]||0)+1,l[i]<=we&&(O+=o),e.startsWith("_"))n+=t[0];else{const n=S.classNameAliases[e]||e;g(t[0],n)}}else n+=t[0];e=k.keywordPatternRe.lastIndex,t=k.keywordPatternRe.exec(L)}n+=L.substring(e),T.addText(n)}function d(){if(""===L)return;let e=null;if("string"===typeof k.subLanguage){if(!i[k.subLanguage])return void T.addText(L);e=A(k.subLanguage,L,!0,R[k.subLanguage]),R[k.subLanguage]=e._top}else e=I(L,k.subLanguage.length?k.subLanguage:null);k.relevance>0&&(O+=e.relevance),T.__addSublanguage(e._emitter,e.language)}function p(){null!=k.subLanguage?d():h(),L=""}function g(e,t){""!==e&&(T.startScope(t),T.addText(e),T.endScope())}function f(e,t){let n=1;const i=t.length-1;while(n<=i){if(!e._emit[n]){n++;continue}const i=S.classNameAliases[e[n]]||e[n],r=t[n];i?g(r,i):(L=r,h(),L=""),n++}}function m(e,t){return e.scope&&"string"===typeof e.scope&&T.openNode(S.classNameAliases[e.scope]||e.scope),e.beginScope&&(e.beginScope._wrap?(g(L,S.classNameAliases[e.beginScope._wrap]||e.beginScope._wrap),L=""):e.beginScope._multi&&(f(e.beginScope,t),L="")),k=Object.create(e,{parent:{value:k}}),k}function v(e,t,i){let r=_(e.endRe,i);if(r){if(e["on:end"]){const i=new n(e);e["on:end"](t,i),i.isMatchIgnored&&(r=!1)}if(r){while(e.endsParent&&e.parent)e=e.parent;return e}}if(e.endsWithParent)return v(e.parent,t,i)}function y(e){return 0===k.matcher.regexIndex?(L+=e[0],1):(F=!0,0)}function C(e){const t=e[0],i=e.rule,r=new n(i),o=[i.__beforeBegin,i["on:begin"]];for(const n of o)if(n&&(n(e,r),r.isMatchIgnored))return y(t);return i.skip?L+=t:(i.excludeBegin&&(L+=t),p(),i.returnBegin||i.excludeBegin||(L=t)),m(i,e),i.returnBegin?0:t.length}function E(e){const n=e[0],i=t.substring(e.index),r=v(k,e,i);if(!r)return Ee;const o=k;k.endScope&&k.endScope._wrap?(p(),g(n,k.endScope._wrap)):k.endScope&&k.endScope._multi?(p(),f(k.endScope,e)):o.skip?L+=n:(o.returnEnd||o.excludeEnd||(L+=n),p(),o.excludeEnd&&(L=n));do{k.scope&&T.closeNode(),k.skip||k.subLanguage||(O+=k.relevance),k=k.parent}while(k!==r.parent);return r.starts&&m(r.starts,e),o.returnEnd?0:n.length}function w(){const e=[];for(let t=k;t!==S;t=t.parent)t.scope&&e.unshift(t.scope);e.forEach((e=>T.openNode(e)))}let b={};function x(n,i){const o=i&&i[0];if(L+=n,null==o)return p(),0;if("begin"===b.type&&"end"===i.type&&b.index===i.index&&""===o){if(L+=t.slice(i.index,i.index+1),!a){const t=new Error(`0 width match regex (${e})`);throw t.languageName=e,t.badRule=b.rule,t}return 1}if(b=i,"begin"===i.type)return C(i);if("illegal"===i.type&&!r){const e=new Error('Illegal lexeme "'+o+'" for mode "'+(k.scope||"<unnamed>")+'"');throw e.mode=k,e}if("end"===i.type){const e=E(i);if(e!==Ee)return e}if("illegal"===i.type&&""===o)return 1;if(N>1e5&&N>3*i.index){const e=new Error("potential infinite loop, way more iterations than matches");throw e}return L+=o,o.length}const S=G(e);if(!S)throw se(s.replace("{}",e)),new Error('Unknown language: "'+e+'"');const P=me(S);let M="",k=o||P;const R={},T=new u.__emitter(u);w();let L="",O=0,D=0,N=0,F=!1;try{if(S.__emitTokens)S.__emitTokens(t,T);else{for(k.matcher.considerAll();;){N++,F?F=!1:k.matcher.considerAll(),k.matcher.lastIndex=D;const e=k.matcher.exec(t);if(!e)break;const n=t.substring(D,e.index),i=x(n,e);D=e.index+i}x(t.substring(D))}return T.finalize(),M=T.toHTML(),{language:e,value:M,relevance:O,illegal:!1,_emitter:T,_top:k}}catch(U){if(U.message&&U.message.includes("Illegal"))return{language:e,value:Ce(t),illegal:!0,relevance:0,_illegalBy:{message:U.message,index:D,context:t.slice(D-100,D+100),mode:U.mode,resultSoFar:M},_emitter:T};if(a)return{language:e,value:Ce(t),illegal:!1,relevance:0,errorRaised:U,_emitter:T,_top:k};throw U}}function C(e){const t={value:Ce(e),illegal:!1,relevance:0,_top:l,_emitter:new u.__emitter(u)};return t._emitter.addText(e),t}function I(e,t){t=t||u.languages||Object.keys(i);const n=C(e),r=t.filter(G).filter(D).map((t=>A(t,e,!1)));r.unshift(n);const o=r.sort(((e,t)=>{if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(G(e.language).supersetOf===t.language)return 1;if(G(t.language).supersetOf===e.language)return-1}return 0})),[a,s]=o,l=a;return l.secondBest=s,l}function E(e,t,n){const i=t&&r[t]||n;e.classList.add("hljs"),e.classList.add(`language-${i}`)}function w(e){let t=null;const n=d(e);if(c(n))return;if(B("before:highlightElement",{el:e,language:n}),e.dataset.highlighted)return void console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",e);if(e.children.length>0&&(u.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(e)),u.throwUnescapedHTML)){const t=new _e("One of your code blocks includes unescaped HTML.",e.innerHTML);throw t}t=e;const i=t.textContent,r=n?v(i,{language:n,ignoreIllegals:!0}):I(i);e.innerHTML=r.value,e.dataset.highlighted="yes",E(e,n,r.language),e.result={language:r.language,re:r.relevance,relevance:r.relevance},r.secondBest&&(e.secondBest={language:r.secondBest.language,relevance:r.secondBest.relevance}),B("after:highlightElement",{el:e,result:r,text:i})}function b(e){u=Ie(u,e)}const x=()=>{M(),ue("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function S(){M(),ue("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let P=!1;function M(){if("loading"===document.readyState)return void(P=!0);const e=document.querySelectorAll(u.cssSelector);e.forEach(w)}function k(){P&&M()}function R(t,n){let r=null;try{r=n(e)}catch(o){if(se("Language definition for '{}' could not be registered.".replace("{}",t)),!a)throw o;se(o),r=l}r.name||(r.name=t),i[t]=r,r.rawDefinition=n.bind(null,e),r.aliases&&O(r.aliases,{languageName:t})}function T(e){delete i[e];for(const t of Object.keys(r))r[t]===e&&delete r[t]}function L(){return Object.keys(i)}function G(e){return e=(e||"").toLowerCase(),i[e]||i[r[e]]}function O(e,{languageName:t}){"string"===typeof e&&(e=[e]),e.forEach((e=>{r[e.toLowerCase()]=t}))}function D(e){const t=G(e);return t&&!t.disableAutodetect}function N(e){e["before:highlightBlock"]&&!e["before:highlightElement"]&&(e["before:highlightElement"]=t=>{e["before:highlightBlock"](Object.assign({block:t.el},t))}),e["after:highlightBlock"]&&!e["after:highlightElement"]&&(e["after:highlightElement"]=t=>{e["after:highlightBlock"](Object.assign({block:t.el},t))})}function F(e){N(e),o.push(e)}function U(e){const t=o.indexOf(e);-1!==t&&o.splice(t,1)}function B(e,t){const n=e;o.forEach((function(e){e[n]&&e[n](t)}))}function j(e){return ue("10.7.0","highlightBlock will be removed entirely in v12.0"),ue("10.7.0","Please use highlightElement now."),w(e)}"undefined"!==typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",k,!1),Object.assign(e,{highlight:v,highlightAuto:I,highlightAll:M,highlightElement:w,highlightBlock:j,configure:b,initHighlighting:x,initHighlightingOnLoad:S,registerLanguage:R,unregisterLanguage:T,listLanguages:L,getLanguage:G,registerAliases:O,autoDetection:D,inherit:Ie,addPlugin:F,removePlugin:U}),e.debugMode=function(){a=!1},e.safeMode=function(){a=!0},e.versionString=Ae,e.regex={concat:m,lookahead:p,either:y,optional:f,anyNumberOfTimes:g};for(const n in q)"object"===typeof q[n]&&t(q[n]);return Object.assign(e,q),e},xe=be({});xe.newInstance=()=>be({}),e.exports=xe,xe.HighlightJS=xe,xe.default=xe},3132:function(e,t,n){"use strict";var i=n(641),r=n(953),o=n(11),a=(0,i.pM)({props:{code:{type:String,required:!0},language:{type:String,default:""},autodetect:{type:Boolean,default:!0},ignoreIllegals:{type:Boolean,default:!0}},setup:function(e){var t=(0,r.KR)(e.language);(0,i.wB)((function(){return e.language}),(function(e){t.value=e}));var n=(0,i.EW)((function(){return e.autodetect||!t.value})),a=(0,i.EW)((function(){return!n.value&&!o.A.getLanguage(t.value)}));return{className:(0,i.EW)((function(){return a.value?"":"hljs "+t.value})),highlightedCode:(0,i.EW)((function(){var i;if(a.value)return console.warn('The language "'+t.value+'" you specified could not be found.'),e.code.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;");if(n.value){var r=o.A.highlightAuto(e.code);return t.value=null!==(i=r.language)&&void 0!==i?i:"",r.value}return(r=o.A.highlight(e.code,{language:t.value,ignoreIllegals:e.ignoreIllegals})).value}))}},render:function(){return(0,i.h)("pre",{},[(0,i.h)("code",{class:this.className,innerHTML:this.highlightedCode})])}}),s={install:function(e){e.component("highlightjs",a)},component:a};t.A=s},2449:function(e,t,n){"use strict";n.d(t,{H1:function(){return h_},F3:function(){return RE},tI:function(){return FE},Lm:function(){return Ld},nX:function(){return L_},zK:function(){return GE},LH:function(){return Pd},fk:function(){return qi},fY:function(){return Yi},iZ:function(){return Un},As:function(){return XE},z3:function(){return $E},nG:function(){return WE},dZ:function(){return t_},LC:function(){return U_},qh:function(){return P_},hD:function(){return zd},p6:function(){return tw},rE:function(){return ew}});var i=JSON.parse('{"rE":"1.0.0-beta.5","p6":"01/04/2024"}'),r=n(5026),o=n(9492),a=n(5647),s=n(8578),l=(n(8706),n(1611)),u=n(2742),c=n(4109),h=n(7444),d=n(8965),p=n(7334),g={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},f=function(e){function t(e){var n;return(0,r.A)(this,t),n=(0,a.A)(this,t),n.on,n.once,n.un,n.options=e,n.id=e.id,n.insertFirst=void 0===e.insertFirst||e.insertFirst,n.stopEvent=void 0===e.stopEvent||e.stopEvent,n.element=document.createElement("div"),n.element.className=void 0!==e.className?e.className:"ol-overlay-container "+c.Q5,n.element.style.position="absolute",n.element.style.pointerEvents="auto",n.autoPan=!0===e.autoPan?{}:e.autoPan||void 0,n.rendered={transform_:"",visible:!0},n.mapPostrenderListenerKey=null,n.addChangeListener(g.ELEMENT,n.handleElementChanged),n.addChangeListener(g.MAP,n.handleMapChanged),n.addChangeListener(g.OFFSET,n.handleOffsetChanged),n.addChangeListener(g.POSITION,n.handlePositionChanged),n.addChangeListener(g.POSITIONING,n.handlePositioningChanged),void 0!==e.element&&n.setElement(e.element),n.setOffset(void 0!==e.offset?e.offset:[0,0]),n.setPositioning(e.positioning||"top-left"),void 0!==e.position&&n.setPosition(e.position),n}return(0,s.A)(t,e),(0,o.A)(t,[{key:"getElement",value:function(){return this.get(g.ELEMENT)}},{key:"getId",value:function(){return this.id}},{key:"getMap",value:function(){return this.get(g.MAP)||null}},{key:"getOffset",value:function(){return this.get(g.OFFSET)}},{key:"getPosition",value:function(){return this.get(g.POSITION)}},{key:"getPositioning",value:function(){return this.get(g.POSITIONING)}},{key:"handleElementChanged",value:function(){(0,p.gS)(this.element);var e=this.getElement();e&&this.element.appendChild(e)}},{key:"handleMapChanged",value:function(){this.mapPostrenderListenerKey&&((0,p.bf)(this.element),(0,d.JH)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var e=this.getMap();if(e){this.mapPostrenderListenerKey=(0,d.KT)(e,u.A.POSTRENDER,this.render,this),this.updatePixelPosition();var t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element),this.performAutoPan()}}},{key:"render",value:function(){this.updatePixelPosition()}},{key:"handleOffsetChanged",value:function(){this.updatePixelPosition()}},{key:"handlePositionChanged",value:function(){this.updatePixelPosition(),this.performAutoPan()}},{key:"handlePositioningChanged",value:function(){this.updatePixelPosition()}},{key:"setElement",value:function(e){this.set(g.ELEMENT,e)}},{key:"setMap",value:function(e){this.set(g.MAP,e)}},{key:"setOffset",value:function(e){this.set(g.OFFSET,e)}},{key:"setPosition",value:function(e){this.set(g.POSITION,e)}},{key:"performAutoPan",value:function(){this.autoPan&&this.panIntoView(this.autoPan)}},{key:"panIntoView",value:function(e){var t=this.getMap();if(t&&t.getTargetElement()&&this.get(g.POSITION)){var n=this.getRect(t.getTargetElement(),t.getSize()),i=this.getElement(),r=this.getRect(i,[(0,p.Gq)(i),(0,p.DK)(i)]);e=e||{};var o=void 0===e.margin?20:e.margin;if(!(0,h.ms)(n,r)){var a=r[0]-n[0],s=n[2]-r[2],l=r[1]-n[1],u=n[3]-r[3],c=[0,0];if(a<0?c[0]=a-o:s<0&&(c[0]=Math.abs(s)+o),l<0?c[1]=l-o:u<0&&(c[1]=Math.abs(u)+o),0!==c[0]||0!==c[1]){var d=t.getView().getCenterInternal(),f=t.getPixelFromCoordinateInternal(d);if(!f)return;var m=[f[0]+c[0],f[1]+c[1]],v=e.animation||{};t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(m),duration:v.duration,easing:v.easing})}}}}},{key:"getRect",value:function(e,t){var n=e.getBoundingClientRect(),i=n.left+window.pageXOffset,r=n.top+window.pageYOffset;return[i,r,i+t[0],r+t[1]]}},{key:"setPositioning",value:function(e){this.set(g.POSITIONING,e)}},{key:"setVisible",value:function(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}},{key:"updatePixelPosition",value:function(){var e=this.getMap(),t=this.getPosition();if(e&&e.isRendered()&&t){var n=e.getPixelFromCoordinate(t),i=e.getSize();this.updateRenderedPosition(n,i)}else this.setVisible(!1)}},{key:"updateRenderedPosition",value:function(e,t){var n=this.element.style,i=this.getOffset(),r=this.getPositioning();this.setVisible(!0);var o=Math.round(e[0]+i[0])+"px",a=Math.round(e[1]+i[1])+"px",s="0%",l="0%";"bottom-right"==r||"center-right"==r||"top-right"==r?s="-100%":"bottom-center"!=r&&"center-center"!=r&&"top-center"!=r||(s="-50%"),"bottom-left"==r||"bottom-center"==r||"bottom-right"==r?l="-100%":"center-left"!=r&&"center-center"!=r&&"center-right"!=r||(l="-50%");var u="translate(".concat(s,", ").concat(l,") translate(").concat(o,", ").concat(a,")");this.rendered.transform_!=u&&(this.rendered.transform_=u,n.transform=u)}},{key:"getOptions",value:function(){return this.options}}])}(l.A),m=f,v=n(7645),y=n(4497),A=(n(2062),n(4114),n(4782),n(9432),n(6099),n(7495),n(5440),n(3500),n(7582)),_=(n(6280),n(9357)),C=n(9611),I=n(5752),E=n(8409),w=function(e){function t(e,n,i){var o;return(0,r.A)(this,t),o=(0,a.A)(this,t),i=i||{},o.tileCoord=e,o.state=n,o.interimTile=null,o.key="",o.transition_=void 0===i.transition?250:i.transition,o.transitionStarts_={},o.interpolate=!!i.interpolate,o}return(0,s.A)(t,e),(0,o.A)(t,[{key:"changed",value:function(){this.dispatchEvent(A.A.CHANGE)}},{key:"release",value:function(){this.state===C.A.ERROR&&this.setState(C.A.EMPTY)}},{key:"getKey",value:function(){return this.key+"/"+this.tileCoord}},{key:"getInterimTile",value:function(){var e=this.interimTile;if(!e)return this;do{if(e.getState()==C.A.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this}},{key:"refreshInterimChain",value:function(){var e=this.interimTile;if(e){var t=this;do{if(e.getState()==C.A.LOADED){e.interimTile=null;break}e.getState()==C.A.LOADING?t=e:e.getState()==C.A.IDLE?t.interimTile=e.interimTile:t=e,e=t.interimTile}while(e)}}},{key:"getTileCoord",value:function(){return this.tileCoord}},{key:"getState",value:function(){return this.state}},{key:"setState",value:function(e){if(this.state!==C.A.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}},{key:"load",value:function(){(0,I.b0)()}},{key:"getAlpha",value:function(e,t){if(!this.transition_)return 1;var n=this.transitionStarts_[e];if(n){if(-1===n)return 1}else n=t,this.transitionStarts_[e]=n;var i=t-n+1e3/60;return i>=this.transition_?1:(0,E.a6)(i/this.transition_)}},{key:"inTransition",value:function(e){return!!this.transition_&&-1!==this.transitionStarts_[e]}},{key:"endTransition",value:function(e){this.transition_&&(this.transitionStarts_[e]=-1)}}])}(_.A),b=w,x=function(e){function t(e,n,i,o,s,l){var u;return(0,r.A)(this,t),u=(0,a.A)(this,t,[e,n,l]),u.extent=null,u.format_=o,u.features_=null,u.loader_,u.projection=null,u.resolution,u.tileLoadFunction_=s,u.url_=i,u.key=i,u}return(0,s.A)(t,e),(0,o.A)(t,[{key:"getFormat",value:function(){return this.format_}},{key:"getFeatures",value:function(){return this.features_}},{key:"load",value:function(){this.state==C.A.IDLE&&(this.setState(C.A.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))}},{key:"onLoad",value:function(e,t){this.setFeatures(e)}},{key:"onError",value:function(){this.setState(C.A.ERROR)}},{key:"setFeatures",value:function(e){this.features_=e,this.setState(C.A.LOADED)}},{key:"setLoader",value:function(e){this.loader_=e}}])}(b),S=x,P=n(1097),M=function(){function e(t){(0,r.A)(this,e),this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return(0,o.A)(e,[{key:"canExpireCache",value:function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}},{key:"expireCache",value:function(e){while(this.canExpireCache())this.pop()}},{key:"clear",value:function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}},{key:"containsKey",value:function(e){return this.entries_.hasOwnProperty(e)}},{key:"forEach",value:function(e){var t=this.oldest_;while(t)e(t.value_,t.key_,this),t=t.newer}},{key:"get",value:function(e,t){var n=this.entries_[e];return(0,P.v)(void 0!==n,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_}},{key:"remove",value:function(e){var t=this.entries_[e];return(0,P.v)(void 0!==t,"Tried to get a value for a key that does not exist in the cache"),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}},{key:"getCount",value:function(){return this.count_}},{key:"getKeys",value:function(){var e,t=new Array(this.count_),n=0;for(e=this.newest_;e;e=e.older)t[n++]=e.key_;return t}},{key:"getValues",value:function(){var e,t=new Array(this.count_),n=0;for(e=this.newest_;e;e=e.older)t[n++]=e.value_;return t}},{key:"peekLast",value:function(){return this.oldest_.value_}},{key:"peekLastKey",value:function(){return this.oldest_.key_}},{key:"peekFirstKey",value:function(){return this.newest_.key_}},{key:"peek",value:function(e){var t;return null===(t=this.entries_[e])||void 0===t?void 0:t.value_}},{key:"pop",value:function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}},{key:"replace",value:function(e,t){this.get(e),this.entries_[e].value_=t}},{key:"set",value:function(e,t){(0,P.v)(!(e in this.entries_),"Tried to set a value for a key that is used already");var n={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[e]=n,++this.count_}},{key:"setSize",value:function(e){this.highWaterMark=e}}])}(),k=M,R=n(8676);n(2892);function T(e,t,n,i){return void 0!==i?(i[0]=e,i[1]=t,i[2]=n,i):[e,t,n]}function L(e,t,n){return e+"/"+t+"/"+n}function G(e){return L(e[0],e[1],e[2])}function O(e){var t=e.substring(e.lastIndexOf("/")+1,e.length).split(",").map(Number),n=(0,R.A)(t,3),i=n[0],r=n[1],o=n[2];return L(i,r,o)}function D(e){return e.split("/").map(Number)}function N(e){return(e[1]<<e[0])+e[2]}function F(e,t){var n=e[0],i=e[1],r=e[2];if(t.getMinZoom()>n||n>t.getMaxZoom())return!1;var o=t.getFullTileRange(n);return!o||o.containsXY(i,r)}var U=function(e){function t(){return(0,r.A)(this,t),(0,a.A)(this,t,arguments)}return(0,s.A)(t,e),(0,o.A)(t,[{key:"clear",value:function(){while(this.getCount()>0)this.pop().release();(0,v.A)((0,y.A)(t.prototype),"clear",this).call(this)}},{key:"expireCache",value:function(e){while(this.canExpireCache()){var t=this.peekLast();if(t.getKey()in e)break;this.pop().release()}}},{key:"pruneExceptNewestZ",value:function(){var e=this;if(0!==this.getCount()){var t=this.peekFirstKey(),n=D(t),i=n[0];this.forEach((function(t){t.tileCoord[0]!==i&&(e.remove(G(t.tileCoord)),t.release())}))}}}])}(k),B=U,j=function(){function e(t,n,i,o){(0,r.A)(this,e),this.minX=t,this.maxX=n,this.minY=i,this.maxY=o}return(0,o.A)(e,[{key:"contains",value:function(e){return this.containsXY(e[1],e[2])}},{key:"containsTileRange",value:function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}},{key:"containsXY",value:function(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}},{key:"equals",value:function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}},{key:"extend",value:function(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}},{key:"getHeight",value:function(){return this.maxY-this.minY+1}},{key:"getSize",value:function(){return[this.getWidth(),this.getHeight()]}},{key:"getWidth",value:function(){return this.maxX-this.minX+1}},{key:"intersects",value:function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}])}();function z(e,t,n,i,r){return void 0!==r?(r.minX=e,r.maxX=t,r.minY=n,r.maxY=i,r):new j(e,t,n,i)}var W=j,V=n(8994),Y=n(5674),H=n(1814),q=n(6232),X=n(5689),Z=[0,0,0],K=5,J=function(){function e(t){var n,i=this;if((0,r.A)(this,e),this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,(0,P.v)((0,q.WC)(this.resolutions_,(function(e,t){return t-e}),!0),"`resolutions` must be sorted in descending order"),!t.origins)for(var o=0,a=this.resolutions_.length-1;o<a;++o)if(n){if(this.resolutions_[o]/this.resolutions_[o+1]!==n){n=void 0;break}}else n=this.resolutions_[o]/this.resolutions_[o+1];this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,(0,P.v)(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));var s=t.extent;void 0===s||this.origin_||this.origins_||(this.origin_=(0,h.Py)(s)),(0,P.v)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,(0,P.v)(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:V.R,(0,P.v)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=void 0!==s?s:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(e,t){var n=new W(Math.min(0,e[0]),Math.max(e[0]-1,-1),Math.min(0,e[1]),Math.max(e[1]-1,-1));if(s){var r=i.getTileRangeForExtentAndZ(s,t);n.minX=Math.max(r.minX,n.minX),n.maxX=Math.min(r.maxX,n.maxX),n.minY=Math.max(r.minY,n.minY),n.maxY=Math.min(r.maxY,n.maxY)}return n})):s&&this.calculateTileRanges_(s)}return(0,o.A)(e,[{key:"forEachTileCoord",value:function(e,t,n){for(var i=this.getTileRangeForExtentAndZ(e,t),r=i.minX,o=i.maxX;r<=o;++r)for(var a=i.minY,s=i.maxY;a<=s;++a)n([t,r,a])}},{key:"forEachTileCoordParentTileRange",value:function(e,t,n,i){var r,o,a,s=null,l=e[0]-1;2===this.zoomFactor_?(o=e[1],a=e[2]):s=this.getTileCoordExtent(e,i);while(l>=this.minZoom){if(void 0!==o&&void 0!==a?(o=Math.floor(o/2),a=Math.floor(a/2),r=z(o,o,a,a,n)):r=this.getTileRangeForExtentAndZ(s,l,n),t(l,r))return!0;--l}return!1}},{key:"getExtent",value:function(){return this.extent_}},{key:"getMaxZoom",value:function(){return this.maxZoom}},{key:"getMinZoom",value:function(){return this.minZoom}},{key:"getOrigin",value:function(e){return this.origin_?this.origin_:this.origins_[e]}},{key:"getResolution",value:function(e){return this.resolutions_[e]}},{key:"getResolutions",value:function(){return this.resolutions_}},{key:"getTileCoordChildTileRange",value:function(e,t,n){if(e[0]<this.maxZoom){if(2===this.zoomFactor_){var i=2*e[1],r=2*e[2];return z(i,i+1,r,r+1,t)}var o=this.getTileCoordExtent(e,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(o,e[0]+1,t)}return null}},{key:"getTileRangeForTileCoordAndZ",value:function(e,t,n){if(t>this.maxZoom||t<this.minZoom)return null;var i=e[0],r=e[1],o=e[2];if(t===i)return z(r,o,r,o,n);if(this.zoomFactor_){var a=Math.pow(this.zoomFactor_,t-i),s=Math.floor(r*a),l=Math.floor(o*a);if(t<i)return z(s,s,l,l,n);var u=Math.floor(a*(r+1))-1,c=Math.floor(a*(o+1))-1;return z(s,u,l,c,n)}var h=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(h,t,n)}},{key:"getTileRangeForExtentAndZ",value:function(e,t,n){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,Z);var i=Z[1],r=Z[2];this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,Z);var o=Z[1],a=Z[2];return z(i,o,r,a,n)}},{key:"getTileCoordCenter",value:function(e){var t=this.getOrigin(e[0]),n=this.getResolution(e[0]),i=(0,X.xq)(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*i[0]*n,t[1]-(e[2]+.5)*i[1]*n]}},{key:"getTileCoordExtent",value:function(e,t){var n=this.getOrigin(e[0]),i=this.getResolution(e[0]),r=(0,X.xq)(this.getTileSize(e[0]),this.tmpSize_),o=n[0]+e[1]*r[0]*i,a=n[1]-(e[2]+1)*r[1]*i,s=o+r[0]*i,l=a+r[1]*i;return(0,h.N)(o,a,s,l,t)}},{key:"getTileCoordForCoordAndResolution",value:function(e,t,n){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,n)}},{key:"getTileCoordForXYAndResolution_",value:function(e,t,n,i,r){var o=this.getZForResolution(n),a=n/this.getResolution(o),s=this.getOrigin(o),l=(0,X.xq)(this.getTileSize(o),this.tmpSize_),u=a*(e-s[0])/n/l[0],c=a*(s[1]-t)/n/l[1];return i?(u=(0,Y.mk)(u,K)-1,c=(0,Y.mk)(c,K)-1):(u=(0,Y.RI)(u,K),c=(0,Y.RI)(c,K)),T(o,u,c,r)}},{key:"getTileCoordForXYAndZ_",value:function(e,t,n,i,r){var o=this.getOrigin(n),a=this.getResolution(n),s=(0,X.xq)(this.getTileSize(n),this.tmpSize_),l=(e-o[0])/a/s[0],u=(o[1]-t)/a/s[1];return i?(l=(0,Y.mk)(l,K)-1,u=(0,Y.mk)(u,K)-1):(l=(0,Y.RI)(l,K),u=(0,Y.RI)(u,K)),T(n,l,u,r)}},{key:"getTileCoordForCoordAndZ",value:function(e,t,n){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,n)}},{key:"getTileCoordResolution",value:function(e){return this.resolutions_[e[0]]}},{key:"getTileSize",value:function(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}},{key:"getFullTileRange",value:function(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}},{key:"getZForResolution",value:function(e,t){var n=(0,q.FT)(this.resolutions_,e,t||0);return(0,Y.qE)(n,this.minZoom,this.maxZoom)}},{key:"tileCoordIntersectsViewport",value:function(e,t){return(0,H.sj)(t,0,t.length,2,this.getTileCoordExtent(e))}},{key:"calculateTileRanges_",value:function(e){for(var t=this.resolutions_.length,n=new Array(t),i=this.minZoom;i<t;++i)n[i]=this.getTileRangeForExtentAndZ(e,i);this.fullTileRanges_=n}}])}(),Q=J,$=(n(8598),n(875),{TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"}),ee=n(9078),te=n(3437),ne=n(5857);function ie(e){var t=e.getDefaultTileGrid();return t||(t=le(e),e.setDefaultTileGrid(t)),t}function re(e,t,n){var i=t[0],r=e.getTileCoordCenter(t),o=ue(n);if(!(0,h.Ym)(o,r)){var a=(0,h.RG)(o),s=Math.ceil((o[0]-r[0])/a);return r[0]+=a*s,e.getTileCoordForCoordAndZ(r,i)}return t}function oe(e,t,n,i){i=void 0!==i?i:"top-left";var r=se(e,t,n);return new Q({extent:e,origin:(0,h.qF)(e,i),resolutions:r,tileSize:n})}function ae(e){var t=e||{},n=t.extent||(0,ne.Jt)("EPSG:3857").getExtent(),i={extent:n,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:se(n,t.maxZoom,t.tileSize,t.maxResolution)};return new Q(i)}function se(e,t,n,i){t=void 0!==t?t:V.L,n=(0,X.xq)(void 0!==n?n:V.R);var r=(0,h.Oq)(e),o=(0,h.RG)(e);i=i>0?i:Math.max(o/n[0],r/n[1]);for(var a=t+1,s=new Array(a),l=0;l<a;++l)s[l]=i/Math.pow(2,l);return s}function le(e,t,n,i){var r=ue(e);return oe(r,t,n,i)}function ue(e){e=(0,ne.Jt)(e);var t=e.getExtent();if(!t){var n=180*ne.Ig.degrees/e.getMetersPerUnit();t=(0,h.N)(-n,-n,n,n)}return t}var ce=function(e){function t(e){var n;(0,r.A)(this,t),n=(0,a.A)(this,t,[{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}]),n.on,n.once,n.un,n.opaque_=void 0!==e.opaque&&e.opaque,n.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,n.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;var i=[256,256];return n.tileGrid&&(0,X.xq)(n.tileGrid.getTileSize(n.tileGrid.getMinZoom()),i),n.tileCache=new B(e.cacheSize||0),n.tmpSize=[0,0],n.key_=e.key||"",n.tileOptions={transition:e.transition,interpolate:e.interpolate},n.zDirection=e.zDirection?e.zDirection:0,n}return(0,s.A)(t,e),(0,o.A)(t,[{key:"canExpireCache",value:function(){return this.tileCache.canExpireCache()}},{key:"expireCache",value:function(e,t){var n=this.getTileCacheForProjection(e);n&&n.expireCache(t)}},{key:"forEachLoadedTile",value:function(e,t,n,i){var r=this.getTileCacheForProjection(e);if(!r)return!1;for(var o,a,s,l=!0,u=n.minX;u<=n.maxX;++u)for(var c=n.minY;c<=n.maxY;++c)a=L(t,u,c),s=!1,r.containsKey(a)&&(o=r.get(a),s=o.getState()===C.A.LOADED,s&&(s=!1!==i(o))),s||(l=!1);return l}},{key:"getGutterForProjection",value:function(e){return 0}},{key:"getKey",value:function(){return this.key_}},{key:"setKey",value:function(e){this.key_!==e&&(this.key_=e,this.changed())}},{key:"getOpaque",value:function(e){return this.opaque_}},{key:"getResolutions",value:function(e){var t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}},{key:"getTile",value:function(e,t,n,i,r){return(0,I.b0)()}},{key:"getTileGrid",value:function(){return this.tileGrid}},{key:"getTileGridForProjection",value:function(e){return this.tileGrid?this.tileGrid:ie(e)}},{key:"getTileCacheForProjection",value:function(e){var t=this.getProjection();return(0,P.v)(null===t||(0,ne.tI)(t,e),"A VectorTile source can only be rendered if it has a projection compatible with the view projection."),this.tileCache}},{key:"getTilePixelRatio",value:function(e){return this.tilePixelRatio_}},{key:"getTilePixelSize",value:function(e,t,n){var i=this.getTileGridForProjection(n),r=this.getTilePixelRatio(t),o=(0,X.xq)(i.getTileSize(e),this.tmpSize);return 1==r?o:(0,X.hs)(o,r,this.tmpSize)}},{key:"getTileCoordForTileUrlFunction",value:function(e,t){t=void 0!==t?t:this.getProjection();var n=this.getTileGridForProjection(t);return this.getWrapX()&&t.isGlobal()&&(e=re(n,e,t)),F(e,n)?e:null}},{key:"clear",value:function(){this.tileCache.clear()}},{key:"refresh",value:function(){this.clear(),(0,v.A)((0,y.A)(t.prototype),"refresh",this).call(this)}},{key:"updateCacheSize",value:function(e,t){var n=this.getTileCacheForProjection(t);e>n.highWaterMark&&(n.highWaterMark=e)}},{key:"useTile",value:function(e,t,n,i){}}])}(te.A),he=function(e){function t(e,n){var i;return(0,r.A)(this,t),i=(0,a.A)(this,t,[e]),i.tile=n,i}return(0,s.A)(t,e),(0,o.A)(t)}(ee.Ay),de=ce;n(8781);function pe(e,t){var n=/\{z\}/g,i=/\{x\}/g,r=/\{y\}/g,o=/\{-y\}/g;return function(a,s,l){if(a)return e.replace(n,a[0].toString()).replace(i,a[1].toString()).replace(r,a[2].toString()).replace(o,(function(){var e=a[0],n=t.getFullTileRange(e);if(!n)throw new Error("The {-y} placeholder requires a tile grid with extent");var i=n.getHeight()-a[2]-1;return i.toString()}))}}function ge(e,t){for(var n=e.length,i=new Array(n),r=0;r<n;++r)i[r]=pe(e[r],t);return fe(i)}function fe(e){return 1===e.length?e[0]:function(t,n,i){if(t){var r=N(t),o=(0,Y.xP)(r,e.length);return e[o](t,n,i)}}}function me(e){var t=[],n=/\{([a-z])-([a-z])\}/.exec(e);if(n){var i,r=n[1].charCodeAt(0),o=n[2].charCodeAt(0);for(i=r;i<=o;++i)t.push(e.replace(n[0],String.fromCharCode(i)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(e),n){for(var a=parseInt(n[2],10),s=parseInt(n[1],10);s<=a;s++)t.push(e.replace(n[0],s.toString()));return t}return t.push(e),t}var ve=function(e){function t(e){var n;return(0,r.A)(this,t),n=(0,a.A)(this,t,[{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}]),n.generateTileUrlFunction_=n.tileUrlFunction===t.prototype.tileUrlFunction,n.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(n.tileUrlFunction=e.tileUrlFunction),n.urls=null,e.urls?n.setUrls(e.urls):e.url&&n.setUrl(e.url),n.tileLoadingKeys_={},n}return(0,s.A)(t,e),(0,o.A)(t,[{key:"getTileLoadFunction",value:function(){return this.tileLoadFunction}},{key:"getTileUrlFunction",value:function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}},{key:"getUrls",value:function(){return this.urls}},{key:"handleTileChange",value:function(e){var t,n=e.target,i=(0,I.v6)(n),r=n.getState();r==C.A.LOADING?(this.tileLoadingKeys_[i]=!0,t=$.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],t=r==C.A.ERROR?$.TILELOADERROR:r==C.A.LOADED?$.TILELOADEND:void 0),void 0!=t&&this.dispatchEvent(new he(t,n))}},{key:"setTileLoadFunction",value:function(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}},{key:"setTileUrlFunction",value:function(e,t){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),"undefined"!==typeof t?this.setKey(t):this.changed()}},{key:"setUrl",value:function(e){var t=me(e);this.urls=t,this.setUrls(t)}},{key:"setUrls",value:function(e){this.urls=e;var t=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(ge(e,this.tileGrid),t):this.setKey(t)}},{key:"tileUrlFunction",value:function(e,t,n){}},{key:"useTile",value:function(e,t,n){var i=L(e,t,n);this.tileCache.containsKey(i)&&this.tileCache.get(i)}}])}(de),ye=ve,Ae=[],_e=function(e){function t(e,n,i,o){var s;return(0,r.A)(this,t),s=(0,a.A)(this,t,[e,n,{transition:0}]),s.context_={},s.executorGroups={},s.declutterExecutorGroups={},s.loadingSourceTiles=0,s.hitDetectionImageData={},s.replayState_={},s.sourceTiles=[],s.errorTileKeys={},s.wantedResolution,s.getSourceTiles=o.bind(void 0,s),s.wrappedTileCoord=i,s}return(0,s.A)(t,e),(0,o.A)(t,[{key:"getContext",value:function(e){var t=(0,I.v6)(e);return t in this.context_||(this.context_[t]=(0,p.Y)(1,1,Ae)),this.context_[t]}},{key:"hasContext",value:function(e){return(0,I.v6)(e)in this.context_}},{key:"getImage",value:function(e){return this.hasContext(e)?this.getContext(e).canvas:null}},{key:"getReplayState",value:function(e){var t=(0,I.v6)(e);return t in this.replayState_||(this.replayState_[t]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[t]}},{key:"load",value:function(){this.getSourceTiles()}},{key:"release",value:function(){for(var e in this.context_){var n=this.context_[e];(0,p.Yg)(n),Ae.push(n.canvas),delete this.context_[e]}(0,v.A)((0,y.A)(t.prototype),"release",this).call(this)}}])}(b),Ce=_e,Ie=n(6811),Ee=n(5519),we=function(e){function t(e){var n;(0,r.A)(this,t);var i=e.projection||"EPSG:3857",o=e.extent||ue(i),s=e.tileGrid||ae({extent:o,maxResolution:e.maxResolution,maxZoom:void 0!==e.maxZoom?e.maxZoom:22,minZoom:e.minZoom,tileSize:e.tileSize||512});return n=(0,a.A)(this,t,[{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,interpolate:!0,opaque:!1,projection:i,state:e.state,tileGrid:s,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:xe,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:void 0===e.zDirection?1:e.zDirection}]),n.format_=e.format?e.format:null,n.sourceTileCache=new B(n.tileCache.highWaterMark),n.overlaps_=void 0==e.overlaps||e.overlaps,n.tileClass=e.tileClass?e.tileClass:S,n.tileGrids_={},n}return(0,s.A)(t,e),(0,o.A)(t,[{key:"getFeaturesInExtent",value:function(e){var t=[],n=this.tileCache;if(0===n.getCount())return t;var i=D(n.peekFirstKey())[0],r=this.tileGrid;return n.forEach((function(n){if(n.tileCoord[0]===i&&n.getState()===C.A.LOADED)for(var o=n.getSourceTiles(),a=0,s=o.length;a<s;++a){var l=o[a],u=l.tileCoord;if((0,h.HY)(e,r.getTileCoordExtent(u))){var c=l.getFeatures();if(c)for(var d=0,p=c.length;d<p;++d){var g=c[d],f=g.getGeometry();(0,h.HY)(e,f.getExtent())&&t.push(g)}}}})),t}},{key:"getOverlaps",value:function(){return this.overlaps_}},{key:"clear",value:function(){this.tileCache.clear(),this.sourceTileCache.clear()}},{key:"expireCache",value:function(e,n){var i=this.getTileCacheForProjection(e),r=Object.keys(n).reduce((function(e,t){var n=O(t),r=i.peek(n);if(r)for(var o=r.sourceTiles,a=0,s=o.length;a<s;++a)e[o[a].getKey()]=!0;return e}),{});(0,v.A)((0,y.A)(t.prototype),"expireCache",this).call(this,e,n),this.sourceTileCache.expireCache(r)}},{key:"getSourceTiles",value:function(e,t,n){var i=this;if(n.getState()===C.A.IDLE){n.setState(C.A.LOADING);var r=n.wrappedTileCoord,o=this.getTileGridForProjection(t),a=o.getTileCoordExtent(r),s=r[0],l=o.getResolution(s);(0,h.r)(a,-l,a);var u=this.tileGrid,c=u.getExtent();c&&(0,h._N)(a,c,a);var d=u.getZForResolution(l,this.zDirection);u.forEachTileCoord(a,d,(function(r){var o=i.tileUrlFunction(r,e,t),a=i.sourceTileCache.containsKey(o)?i.sourceTileCache.get(o):new i.tileClass(r,o?C.A.IDLE:C.A.EMPTY,o,i.format_,i.tileLoadFunction);n.sourceTiles.push(a);var s=a.getState();if(s<C.A.LOADED){var l=function e(t){i.handleTileChange(t);var r=a.getState();if(r===C.A.LOADED||r===C.A.ERROR){var o=a.getKey();o in n.errorTileKeys?a.getState()===C.A.LOADED&&delete n.errorTileKeys[o]:n.loadingSourceTiles--,r===C.A.ERROR?n.errorTileKeys[o]=!0:a.removeEventListener(A.A.CHANGE,e),0===n.loadingSourceTiles&&n.setState((0,Ie.p)(n.errorTileKeys)?C.A.LOADED:C.A.ERROR)}};a.addEventListener(A.A.CHANGE,l),n.loadingSourceTiles++}s===C.A.IDLE&&(a.extent=u.getTileCoordExtent(r),a.projection=t,a.resolution=u.getResolution(r[0]),i.sourceTileCache.set(o,a),a.load())})),n.loadingSourceTiles||n.setState(n.sourceTiles.some((function(e){return e.getState()===C.A.ERROR}))?C.A.ERROR:C.A.LOADED)}return n.sourceTiles}},{key:"getTile",value:function(e,t,n,i,r){var o,a=this,s=L(e,t,n),l=this.getKey();if(this.tileCache.containsKey(s)&&(o=this.tileCache.get(s),o.key===l))return o;var u=[e,t,n],c=this.getTileCoordForTileUrlFunction(u,r),d=this.getTileGrid().getExtent(),p=this.getTileGridForProjection(r);if(c&&d){var g=p.getTileCoordExtent(c);(0,h.r)(g,-p.getResolution(e),g),(0,h.HY)(d,g)||(c=null)}var f=!0;if(null!==c){var m=this.tileGrid,v=p.getResolution(e),y=m.getZForResolution(v,1),A=p.getTileCoordExtent(c);(0,h.r)(A,-v,A),m.forEachTileCoord(A,y,(function(e){f=f&&!a.tileUrlFunction(e,i,r)}))}var _=new Ce(u,f?C.A.EMPTY:C.A.IDLE,c,this.getSourceTiles.bind(this,i,r));return _.key=l,o?(_.interimTile=o,_.refreshInterimChain(),this.tileCache.replace(s,_)):this.tileCache.set(s,_),_}},{key:"getTileGridForProjection",value:function(e){var t=e.getCode(),n=this.tileGrids_[t];if(!n){for(var i=this.tileGrid,r=i.getResolutions().slice(),o=r.map((function(e,t){return i.getOrigin(t)})),a=r.map((function(e,t){return i.getTileSize(t)})),s=V.L+1,l=r.length;l<s;++l)r.push(r[l-1]/2),o.push(o[l-1]),a.push(a[l-1]);n=new Q({extent:i.getExtent(),origins:o,resolutions:r,tileSizes:a}),this.tileGrids_[t]=n}return n}},{key:"getTilePixelRatio",value:function(e){return e}},{key:"getTilePixelSize",value:function(e,t,n){var i=this.getTileGridForProjection(n),r=(0,X.xq)(i.getTileSize(e),this.tmpSize);return[Math.round(r[0]*t),Math.round(r[1]*t)]}},{key:"updateCacheSize",value:function(e,n){(0,v.A)((0,y.A)(t.prototype),"updateCacheSize",this).call(this,2*e,n),this.sourceTileCache.highWaterMark=this.getTileCacheForProjection(n).highWaterMark}}])}(ye),be=we;function xe(e,t){e.setLoader((function(n,i,r){(0,Ee.m8)(t,e.getFormat(),n,i,r,e.onLoad.bind(e),e.onError.bind(e))}))}var Se=n(8347),Pe=n(2299),Me=function(e){function t(e,n,i,o,s,l){var u;return(0,r.A)(this,t),u=(0,a.A)(this,t,[e,n,l]),u.crossOrigin_=o,u.src_=i,u.key=i,u.image_=new Image,null!==o&&(u.image_.crossOrigin=o),u.unlisten_=null,u.tileLoadFunction_=s,u}return(0,s.A)(t,e),(0,o.A)(t,[{key:"getImage",value:function(){return this.image_}},{key:"setImage",value:function(e){this.image_=e,this.state=C.A.LOADED,this.unlistenImage_(),this.changed()}},{key:"handleImageError_",value:function(){this.state=C.A.ERROR,this.unlistenImage_(),this.image_=ke(),this.changed()}},{key:"handleImageLoad_",value:function(){var e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=C.A.LOADED:this.state=C.A.EMPTY,this.unlistenImage_(),this.changed()}},{key:"load",value:function(){this.state==C.A.ERROR&&(this.state=C.A.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==C.A.IDLE&&(this.state=C.A.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=(0,Pe.f6)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}},{key:"unlistenImage_",value:function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}])}(b);function ke(){var e=(0,p.Y)(1,1);return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas}var Re,Te=Me,Le=n(8129),Ge=.5,Oe=(n(1367),10),De=.25,Ne=function(){function e(t,n,i,o,a,s){var l=this;(0,r.A)(this,e),this.sourceProj_=t,this.targetProj_=n;var u={},c=(0,ne.RG)(this.targetProj_,this.sourceProj_);this.transformInv_=function(e){var t=e[0]+"/"+e[1];return u[t]||(u[t]=c(e)),u[t]},this.maxSourceExtent_=o,this.errorThresholdSquared_=a*a,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!o&&!!this.sourceProj_.getExtent()&&(0,h.RG)(o)>=(0,h.RG)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,h.RG)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,h.RG)(this.targetProj_.getExtent()):null;var d=(0,h.Py)(i),p=(0,h.WU)(i),g=(0,h.k_)(i),f=(0,h.R)(i),m=this.transformInv_(d),v=this.transformInv_(p),y=this.transformInv_(g),A=this.transformInv_(f),_=Oe+(s?Math.max(0,Math.ceil(Math.log2((0,h.UG)(i)/(s*s*256*256)))):0);if(this.addQuad_(d,p,g,f,m,v,y,A,_),this.wrapsXInSource_){var C=1/0;this.triangles_.forEach((function(e,t,n){C=Math.min(C,e.source[0][0],e.source[1][0],e.source[2][0])})),this.triangles_.forEach((function(e){if(Math.max(e.source[0][0],e.source[1][0],e.source[2][0])-C>l.sourceWorldWidth_/2){var t=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];t[0][0]-C>l.sourceWorldWidth_/2&&(t[0][0]-=l.sourceWorldWidth_),t[1][0]-C>l.sourceWorldWidth_/2&&(t[1][0]-=l.sourceWorldWidth_),t[2][0]-C>l.sourceWorldWidth_/2&&(t[2][0]-=l.sourceWorldWidth_);var n=Math.min(t[0][0],t[1][0],t[2][0]),i=Math.max(t[0][0],t[1][0],t[2][0]);i-n<l.sourceWorldWidth_/2&&(e.source=t)}}))}u={}}return(0,o.A)(e,[{key:"addTriangle_",value:function(e,t,n,i,r,o){this.triangles_.push({source:[i,r,o],target:[e,t,n]})}},{key:"addQuad_",value:function(e,t,n,i,r,o,a,s,l){var u=(0,h.Tr)([r,o,a,s]),c=this.sourceWorldWidth_?(0,h.RG)(u)/this.sourceWorldWidth_:null,d=this.sourceWorldWidth_,p=this.sourceProj_.canWrapX()&&c>.5&&c<1,g=!1;if(l>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var f=(0,h.Tr)([e,t,n,i]),m=(0,h.RG)(f)/this.targetWorldWidth_;g=m>De||g}!p&&this.sourceProj_.isGlobal()&&c&&(g=c>De||g)}if(!(!g&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3]))||(0,h.HY)(u,this.maxSourceExtent_)){var v=0;if(!g&&(!isFinite(r[0])||!isFinite(r[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(s[0])||!isFinite(s[1])))if(l>0)g=!0;else if(v=(isFinite(r[0])&&isFinite(r[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(a[0])&&isFinite(a[1])?0:2)+(isFinite(s[0])&&isFinite(s[1])?0:1),1!=v&&2!=v&&4!=v&&8!=v)return;if(l>0){if(!g){var y,A=[(e[0]+n[0])/2,(e[1]+n[1])/2],_=this.transformInv_(A);if(p){var C=((0,Y.xP)(r[0],d)+(0,Y.xP)(a[0],d))/2;y=C-(0,Y.xP)(_[0],d)}else y=(r[0]+a[0])/2-_[0];var I=(r[1]+a[1])/2-_[1],E=y*y+I*I;g=E>this.errorThresholdSquared_}if(g){if(Math.abs(e[0]-n[0])<=Math.abs(e[1]-n[1])){var w=[(t[0]+n[0])/2,(t[1]+n[1])/2],b=this.transformInv_(w),x=[(i[0]+e[0])/2,(i[1]+e[1])/2],S=this.transformInv_(x);this.addQuad_(e,t,w,x,r,o,b,S,l-1),this.addQuad_(x,w,n,i,S,b,a,s,l-1)}else{var P=[(e[0]+t[0])/2,(e[1]+t[1])/2],M=this.transformInv_(P),k=[(n[0]+i[0])/2,(n[1]+i[1])/2],R=this.transformInv_(k);this.addQuad_(e,P,k,i,r,M,R,s,l-1),this.addQuad_(P,t,n,k,M,o,a,R,l-1)}return}}if(p){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&v)&&this.addTriangle_(e,n,i,r,a,s),0==(14&v)&&this.addTriangle_(e,n,t,r,a,o),v&&(0==(13&v)&&this.addTriangle_(t,i,e,o,s,r),0==(7&v)&&this.addTriangle_(t,i,n,o,s,a))}}},{key:"calculateSourceExtent",value:function(){var e=(0,h.S5)();return this.triangles_.forEach((function(t,n,i){var r=t.source;(0,h.$C)(e,r[0]),(0,h.$C)(e,r[1]),(0,h.$C)(e,r[2])})),e}},{key:"getTriangles",value:function(){return this.triangles_}}])}(),Fe=Ne,Ue=[];function Be(e,t,n,i,r){e.beginPath(),e.moveTo(0,0),e.lineTo(t,n),e.lineTo(i,r),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(t,i)+1,Math.max(n,r)),e.restore()}function je(e,t){return Math.abs(e[4*t]-210)>2||Math.abs(e[4*t+3]-191.25)>2}function ze(){if(void 0===Re){var e=(0,p.Y)(6,6,Ue);e.globalCompositeOperation="lighter",e.fillStyle="rgba(210, 0, 0, 0.75)",Be(e,4,5,4,0),Be(e,4,5,0,5);var t=e.getImageData(0,0,3,3).data;Re=je(t,0)||je(t,4)||je(t,8),(0,p.Yg)(e),Ue.push(e.canvas)}return Re}function We(e,t,n,i){var r=(0,ne.pd)(n,t,e),o=(0,ne.hO)(t,i,n),a=t.getMetersPerUnit();void 0!==a&&(o*=a);var s=e.getMetersPerUnit();void 0!==s&&(o/=s);var l=e.getExtent();if(!l||(0,h.Ym)(l,r)){var u=(0,ne.hO)(e,o,r)/o;isFinite(u)&&u>0&&(o/=u)}return o}function Ve(e,t,n,i){var r=(0,h.q1)(n),o=We(e,t,r,i);return(!isFinite(o)||o<=0)&&(0,h.sB)(n,(function(n){return o=We(e,t,n,i),isFinite(o)&&o>0})),o}function Ye(e,t,n,i,r,o,a,s,l,u,c,d,g){var f=(0,p.Y)(Math.round(n*e),Math.round(n*t),Ue);if(d||(f.imageSmoothingEnabled=!1),0===l.length)return f.canvas;function m(e){return Math.round(e*n)/n}f.scale(n,n),f.globalCompositeOperation="lighter";var v,y=(0,h.S5)();if(l.forEach((function(e,t,n){(0,h.X$)(y,e.extent)})),!g||1!==l.length||0!==u){var A=(0,h.RG)(y),_=(0,h.Oq)(y);v=(0,p.Y)(Math.round(n*A/i),Math.round(n*_/i),Ue),d||(v.imageSmoothingEnabled=!1);var C=n/i;l.forEach((function(e,t,n){var i=e.extent[0]-y[0],r=-(e.extent[3]-y[3]),o=(0,h.RG)(e.extent),a=(0,h.Oq)(e.extent);e.image.width>0&&e.image.height>0&&v.drawImage(e.image,u,u,e.image.width-2*u,e.image.height-2*u,i*C,r*C,o*C,a*C)}))}var I=(0,h.Py)(a);return s.getTriangles().forEach((function(e,t,r){var a=e.source,s=e.target,u=a[0][0],c=a[0][1],p=a[1][0],g=a[1][1],A=a[2][0],_=a[2][1],C=m((s[0][0]-I[0])/o),E=m(-(s[0][1]-I[1])/o),w=m((s[1][0]-I[0])/o),b=m(-(s[1][1]-I[1])/o),x=m((s[2][0]-I[0])/o),S=m(-(s[2][1]-I[1])/o),P=u,M=c;u=0,c=0,p-=P,g-=M,A-=P,_-=M;var k=[[p,g,0,0,w-C],[A,_,0,0,x-C],[0,0,p,g,b-E],[0,0,A,_,S-E]],R=(0,Y.KU)(k);if(R){if(f.save(),f.beginPath(),ze()||!d){f.moveTo(w,b);for(var T=4,L=C-w,G=E-b,O=0;O<T;O++)f.lineTo(w+m((O+1)*L/T),b+m(O*G/(T-1))),O!=T-1&&f.lineTo(w+m((O+1)*L/T),b+m((O+1)*G/(T-1)));f.lineTo(x,S)}else f.moveTo(w,b),f.lineTo(C,E),f.lineTo(x,S);var D;if(f.clip(),f.transform(R[0],R[2],R[1],R[3],C,E),f.translate(y[0]-P,y[3]-M),v)D=v.canvas,f.scale(i/n,-i/n);else{var N=l[0],F=N.extent;D=N.image,f.scale((0,h.RG)(F)/D.width,-(0,h.Oq)(F)/D.height)}f.drawImage(D,0,0),f.restore()}})),v&&((0,p.Yg)(v),Ue.push(v.canvas)),c&&(f.save(),f.globalCompositeOperation="source-over",f.strokeStyle="black",f.lineWidth=1,s.getTriangles().forEach((function(e,t,n){var i=e.target,r=(i[0][0]-I[0])/o,a=-(i[0][1]-I[1])/o,s=(i[1][0]-I[0])/o,l=-(i[1][1]-I[1])/o,u=(i[2][0]-I[0])/o,c=-(i[2][1]-I[1])/o;f.beginPath(),f.moveTo(s,l),f.lineTo(r,a),f.lineTo(u,c),f.closePath(),f.stroke()})),f.restore()),f.canvas}var He=function(e){function t(e,n,i,o,s,l,u,c,d,p,g,f){var m;(0,r.A)(this,t),m=(0,a.A)(this,t,[s,C.A.IDLE,f]),m.renderEdges_=void 0!==g&&g,m.pixelRatio_=u,m.gutter_=c,m.canvas_=null,m.sourceTileGrid_=n,m.targetTileGrid_=o,m.wrappedTileCoord_=l||s,m.sourceTiles_=[],m.sourcesListenerKeys_=null,m.sourceZ_=0;var v=o.getTileCoordExtent(m.wrappedTileCoord_),y=m.targetTileGrid_.getExtent(),A=m.sourceTileGrid_.getExtent(),_=y?(0,h._N)(v,y):v;if(0===(0,h.UG)(_))return m.state=C.A.EMPTY,(0,Le.A)(m);var I=e.getExtent();I&&(A=A?(0,h._N)(A,I):I);var E=o.getResolution(m.wrappedTileCoord_[0]),w=Ve(e,i,_,E);if(!isFinite(w)||w<=0)return m.state=C.A.EMPTY,(0,Le.A)(m);var b=void 0!==p?p:Ge;if(m.triangulation_=new Fe(e,i,_,A,w*b,E),0===m.triangulation_.getTriangles().length)return m.state=C.A.EMPTY,(0,Le.A)(m);m.sourceZ_=n.getZForResolution(w);var x=m.triangulation_.calculateSourceExtent();if(A&&(e.canWrapX()?(x[1]=(0,Y.qE)(x[1],A[1],A[3]),x[3]=(0,Y.qE)(x[3],A[1],A[3])):x=(0,h._N)(x,A)),(0,h.UG)(x)){for(var S=n.getTileRangeForExtentAndZ(x,m.sourceZ_),P=S.minX;P<=S.maxX;P++)for(var M=S.minY;M<=S.maxY;M++){var k=d(m.sourceZ_,P,M,u);k&&m.sourceTiles_.push(k)}0===m.sourceTiles_.length&&(m.state=C.A.EMPTY)}else m.state=C.A.EMPTY;return m}return(0,s.A)(t,e),(0,o.A)(t,[{key:"getImage",value:function(){return this.canvas_}},{key:"reproject_",value:function(){var e=this,t=[];if(this.sourceTiles_.forEach((function(n){n&&n.getState()==C.A.LOADED&&t.push({extent:e.sourceTileGrid_.getTileCoordExtent(n.tileCoord),image:n.getImage()})})),this.sourceTiles_.length=0,0===t.length)this.state=C.A.ERROR;else{var n=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(n),r="number"===typeof i?i:i[0],o="number"===typeof i?i:i[1],a=this.targetTileGrid_.getResolution(n),s=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Ye(r,o,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),a,l,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=C.A.LOADED}this.changed()}},{key:"load",value:function(){var e=this;if(this.state==C.A.IDLE){this.state=C.A.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((function(n){var i=n.getState();if(i==C.A.IDLE||i==C.A.LOADING){t++;var r=(0,d.KT)(n,A.A.CHANGE,(function(e){var i=n.getState();i!=C.A.LOADED&&i!=C.A.ERROR&&i!=C.A.EMPTY||((0,d.JH)(r),t--,0===t&&(this.unlistenSources_(),this.reproject_()))}),e);e.sourcesListenerKeys_.push(r)}})),0===t?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function(e,t,n){var i=e.getState();i==C.A.IDLE&&e.load()}))}}},{key:"unlistenSources_",value:function(){this.sourcesListenerKeys_.forEach(d.JH),this.sourcesListenerKeys_=null}},{key:"release",value:function(){this.canvas_&&((0,p.Yg)(this.canvas_.getContext("2d")),Ue.push(this.canvas_),this.canvas_=null),(0,v.A)((0,y.A)(t.prototype),"release",this).call(this)}}])}(b),qe=He,Xe=function(e){function t(e){var n;return(0,r.A)(this,t),n=(0,a.A)(this,t,[{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Ze,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:void 0===e.interpolate||e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}]),n.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,n.tileClass=void 0!==e.tileClass?e.tileClass:Te,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,n.renderReprojectionEdges_=!1,n}return(0,s.A)(t,e),(0,o.A)(t,[{key:"canExpireCache",value:function(){if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}},{key:"expireCache",value:function(e,t){var n=this.getTileCacheForProjection(e);for(var i in this.tileCache.expireCache(this.tileCache==n?t:{}),this.tileCacheForProjection){var r=this.tileCacheForProjection[i];r.expireCache(r==n?t:{})}}},{key:"getGutterForProjection",value:function(e){return this.getProjection()&&e&&!(0,ne.tI)(this.getProjection(),e)?0:this.getGutter()}},{key:"getGutter",value:function(){return 0}},{key:"getKey",value:function(){var e=(0,v.A)((0,y.A)(t.prototype),"getKey",this).call(this);return this.getInterpolate()||(e+=":disable-interpolation"),e}},{key:"getOpaque",value:function(e){return!(this.getProjection()&&e&&!(0,ne.tI)(this.getProjection(),e))&&(0,v.A)((0,y.A)(t.prototype),"getOpaque",this).call(this,e)}},{key:"getTileGridForProjection",value:function(e){var t=this.getProjection();if(this.tileGrid&&(!t||(0,ne.tI)(t,e)))return this.tileGrid;var n=(0,I.v6)(e);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=ie(e)),this.tileGridForProjection[n]}},{key:"getTileCacheForProjection",value:function(e){var t=this.getProjection();if(!t||(0,ne.tI)(t,e))return this.tileCache;var n=(0,I.v6)(e);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new B(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]}},{key:"createTile_",value:function(e,t,n,i,r,o){var a=[e,t,n],s=this.getTileCoordForTileUrlFunction(a,r),l=s?this.tileUrlFunction(s,i,r):void 0,u=new this.tileClass(a,void 0!==l?C.A.IDLE:C.A.EMPTY,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=o,u.addEventListener(A.A.CHANGE,this.handleTileChange.bind(this)),u}},{key:"getTile",value:function(e,t,n,i,r){var o=this,a=this.getProjection();if(!a||!r||(0,ne.tI)(a,r))return this.getTileInternal(e,t,n,i,a||r);var s,l=this.getTileCacheForProjection(r),u=[e,t,n],c=G(u);l.containsKey(c)&&(s=l.get(c));var h=this.getKey();if(s&&s.key==h)return s;var d=this.getTileGridForProjection(a),p=this.getTileGridForProjection(r),g=this.getTileCoordForTileUrlFunction(u,r),f=new qe(a,d,r,p,u,g,this.getTilePixelRatio(i),this.getGutter(),(function(e,t,n,i){return o.getTileInternal(e,t,n,i,a)}),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return f.key=h,s?(f.interimTile=s,f.refreshInterimChain(),l.replace(c,f)):l.set(c,f),f}},{key:"getTileInternal",value:function(e,t,n,i,r){var o=null,a=L(e,t,n),s=this.getKey();if(this.tileCache.containsKey(a)){if(o=this.tileCache.get(a),o.key!=s){var l=o;o=this.createTile_(e,t,n,i,r,s),l.getState()==C.A.IDLE?o.interimTile=l.interimTile:o.interimTile=l,o.refreshInterimChain(),this.tileCache.replace(a,o)}}else o=this.createTile_(e,t,n,i,r,s),this.tileCache.set(a,o);return o}},{key:"setRenderReprojectionEdges",value:function(e){if(this.renderReprojectionEdges_!=e){for(var t in this.renderReprojectionEdges_=e,this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}}},{key:"setTileGridForProjection",value:function(e,t){var n=(0,ne.Jt)(e);if(n){var i=(0,I.v6)(n);i in this.tileGridForProjection||(this.tileGridForProjection[i]=t)}}},{key:"clear",value:function(){for(var e in(0,v.A)((0,y.A)(t.prototype),"clear",this).call(this),this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}}])}(ye);function Ze(e,t){e.getImage().src=t}var Ke=Xe,Je=4;n(4423),n(1699);function Qe(e,t){var n=[];Object.keys(t).forEach((function(e){null!==t[e]&&void 0!==t[e]&&n.push(e+"="+encodeURIComponent(t[e]))}));var i=n.join("&");return e=e.replace(/[?&]$/,""),e+=e.includes("?")?"&":"?",e+i}var $e=n(5109),et=n(1410),tt=n(9258);function nt(e){return Array.isArray(e)?Math.min.apply(Math,(0,tt.A)(e)):e}var it=function(e){function t(e,n,i,o,s,l,u){var c;(0,r.A)(this,t);var d=e.getExtent();d&&e.canWrapX()&&(d=d.slice(),d[0]=-1/0,d[2]=1/0);var p=n.getExtent();p&&n.canWrapX()&&(p=p.slice(),p[0]=-1/0,p[2]=1/0);var g=p?(0,h._N)(i,p):i,f=(0,h.q1)(g),m=We(e,n,f,o),v=Ge,y=new Fe(e,n,g,d,m*v,o),A=y.calculateSourceExtent(),_=(0,h.Im)(A)?null:l(A,m,s),C=_?et.A.IDLE:et.A.EMPTY,I=_?_.getPixelRatio():1;return c=(0,a.A)(this,t,[i,o,I,C]),c.targetProj_=n,c.maxSourceExtent_=d,c.triangulation_=y,c.targetResolution_=o,c.targetExtent_=i,c.sourceImage_=_,c.sourcePixelRatio_=I,c.interpolate_=u,c.canvas_=null,c.sourceListenerKey_=null,c}return(0,s.A)(t,e),(0,o.A)(t,[{key:"disposeInternal",value:function(){this.state==et.A.LOADING&&this.unlistenSource_(),(0,v.A)((0,y.A)(t.prototype),"disposeInternal",this).call(this)}},{key:"getImage",value:function(){return this.canvas_}},{key:"getProjection",value:function(){return this.targetProj_}},{key:"reproject_",value:function(){var e=this.sourceImage_.getState();if(e==et.A.LOADED){var t=(0,h.RG)(this.targetExtent_)/this.targetResolution_,n=(0,h.Oq)(this.targetExtent_)/this.targetResolution_;this.canvas_=Ye(t,n,this.sourcePixelRatio_,nt(this.sourceImage_.getResolution()),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_,!0)}this.state=e,this.changed()}},{key:"load",value:function(){if(this.state==et.A.IDLE){this.state=et.A.LOADING,this.changed();var e=this.sourceImage_.getState();e==et.A.LOADED||e==et.A.ERROR?this.reproject_():(this.sourceListenerKey_=(0,d.KT)(this.sourceImage_,A.A.CHANGE,(function(e){var t=this.sourceImage_.getState();t!=et.A.LOADED&&t!=et.A.ERROR||(this.unlistenSource_(),this.reproject_())}),this),this.sourceImage_.load())}}},{key:"unlistenSource_",value:function(){(0,d.JH)(this.sourceListenerKey_),this.sourceListenerKey_=null}}])}(Pe.Ay),rt=it,ot={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"},at=function(e){function t(e,n){var i;return(0,r.A)(this,t),i=(0,a.A)(this,t,[e]),i.image=n,i}return(0,s.A)(t,e),(0,o.A)(t)}(ee.Ay),st=function(e){function t(e){var n;return(0,r.A)(this,t),n=(0,a.A)(this,t,[{attributions:e.attributions,projection:e.projection,state:e.state,interpolate:void 0===e.interpolate||e.interpolate}]),n.on,n.once,n.un,n.loader=e.loader||null,n.resolutions_=void 0!==e.resolutions?e.resolutions:null,n.reprojectedImage_=null,n.reprojectedRevision_=0,n.image=null,n.wantedExtent_,n.wantedResolution_,n.static_=!!e.loader&&0===e.loader.length,n.wantedProjection_=null,n}return(0,s.A)(t,e),(0,o.A)(t,[{key:"getResolutions",value:function(){return this.resolutions_}},{key:"setResolutions",value:function(e){this.resolutions_=e}},{key:"findNearestResolution",value:function(e){var t=this.getResolutions();if(t){var n=(0,q.FT)(t,e,0);e=t[n]}return e}},{key:"getImage",value:function(e,t,n,i){var r=this,o=this.getProjection();if(!o||!i||(0,ne.tI)(o,i))return o&&(i=o),this.getImageInternal(e,t,n,i);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&(0,ne.tI)(this.reprojectedImage_.getProjection(),i)&&this.reprojectedImage_.getResolution()==t&&(0,h.aI)(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new rt(o,i,e,t,n,(function(e,t,n){return r.getImageInternal(e,t,n,o)}),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}},{key:"getImageInternal",value:function(e,t,n,i){if(this.loader){var r=ut(e,t,n,1),o=this.findNearestResolution(t);if(this.image&&(this.static_||this.wantedProjection_===i&&(this.wantedExtent_&&(0,h.ms)(this.wantedExtent_,r)||(0,h.ms)(this.image.getExtent(),r))&&(this.wantedResolution_&&nt(this.wantedResolution_)===o||nt(this.image.getResolution())===o)))return this.image;this.wantedProjection_=i,this.wantedExtent_=r,this.wantedResolution_=o,this.image=new Pe.Ay(r,o,n,this.loader),this.image.addEventListener(A.A.CHANGE,this.handleImageChange.bind(this))}return this.image}},{key:"handleImageChange",value:function(e){var t,n=e.target;switch(n.getState()){case et.A.LOADING:this.loading=!0,t=ot.IMAGELOADSTART;break;case et.A.LOADED:this.loading=!1,t=ot.IMAGELOADEND;break;case et.A.ERROR:this.loading=!1,t=ot.IMAGELOADERROR;break;default:return}this.hasListener(t)&&this.dispatchEvent(new at(t,n))}}])}(te.A);function lt(e,t){e.getImage().src=t}function ut(e,t,n,i){var r=t/n,o=(0,h.q1)(e),a=(0,Y.mk)((0,h.RG)(e)/r,Je),s=(0,Y.mk)((0,h.Oq)(e)/r,Je),l=(0,Y.mk)((i-1)*a/2,Je),u=a+2*l,c=(0,Y.mk)((i-1)*s/2,Je),d=s+2*c;return(0,h.Bg)(o,r,0,[u,d])}var ct=st,ht="1.3.0",dt=[101,101];function pt(e,t,n,i,r){r["WIDTH"]=n[0],r["HEIGHT"]=n[1];var o,a=i.getAxisOrientation(),s=(0,$e.Z)(r["VERSION"],"1.3")>=0;return r[s?"CRS":"SRS"]=i.getCode(),o=s&&"ne"==a.substr(0,2)?[t[1],t[0],t[3],t[2]]:t,r["BBOX"]=o.join(","),Qe(e,r)}function gt(e,t,n,i,r,o,a){o=Object.assign({REQUEST:"GetMap"},o);var s=t/n,l=[(0,Y.LI)((0,h.RG)(e)/s,Je),(0,Y.LI)((0,h.Oq)(e)/s,Je)];if(1!=n)switch(a){case"geoserver":var u=90*n+.5|0;"FORMAT_OPTIONS"in o?o["FORMAT_OPTIONS"]+=";dpi:"+u:o["FORMAT_OPTIONS"]="dpi:"+u;break;case"mapserver":o["MAP_RESOLUTION"]=90*n;break;case"carmentaserver":case"qgis":o["DPI"]=90*n;break;default:throw new Error("Unknown `serverType` configured")}var c=pt(r,e,l,i,o);return c}function ft(e,t){return Object.assign({REQUEST:t,SERVICE:"WMS",VERSION:ht,FORMAT:"image/png",STYLES:"",TRANSPARENT:!0},e)}function mt(e){var t=void 0===e.hidpi||e.hidpi,n=(0,ne.Jt)(e.projection||"EPSG:3857"),i=e.ratio||1.5,r=e.load||Pe.D4;return function(o,a,s){o=ut(o,a,s,i),1==s||t&&void 0!==e.serverType||(s=1);var l=gt(o,a,s,n,e.url,ft(e.params,"GetMap"),e.serverType),u=new Image;return null!==e.crossOrigin&&(u.crossOrigin=e.crossOrigin),r(u,l).then((function(e){return{image:e,extent:o,pixelRatio:s}}))}}function vt(e,t,n){if(void 0!==e.url){var i=(0,ne.Jt)(e.projection||"EPSG:3857"),r=(0,h.Bg)(t,n,0,dt),o={QUERY_LAYERS:e.params["LAYERS"],INFO_FORMAT:"application/json"};Object.assign(o,ft(e.params,"GetFeatureInfo"),e.params);var a=(0,Y.RI)((t[0]-r[0])/n,Je),s=(0,Y.RI)((r[3]-t[1])/n,Je),l=(0,$e.Z)(o["VERSION"],"1.3")>=0;return o[l?"I":"X"]=a,o[l?"J":"Y"]=s,pt(e.url,r,dt,i,o)}}function yt(e,t){if(void 0!==e.url){var n={SERVICE:"WMS",VERSION:ht,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===e.params||void 0===e.params["LAYER"]){var i=e.params.LAYERS,r=!Array.isArray(i)||1===i.length;if(!r)return;n["LAYER"]=i}if(void 0!==t){var o=(0,ne.Jt)(e.projection||"EPSG:3857").getMetersPerUnit()||1,a=28e-5;n["SCALE"]=t*o/a}return Object.assign(n,e.params),Qe(e.url,n)}}var At=function(e){function t(e){var n;(0,r.A)(this,t),e=e||{};var i=Object.assign({},e.params),o=!("TRANSPARENT"in i)||i["TRANSPARENT"];return n=(0,a.A)(this,t,[{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:!o,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:e.zDirection}]),n.gutter_=void 0!==e.gutter?e.gutter:0,n.params_=i,n.v13_=!0,n.serverType_=e.serverType,n.hidpi_=void 0===e.hidpi||e.hidpi,n.tmpExtent_=(0,h.S5)(),n.updateV13_(),n.setKey(n.getKeyForParams_()),n}return(0,s.A)(t,e),(0,o.A)(t,[{key:"getFeatureInfoUrl",value:function(e,t,n,i){var r=(0,ne.Jt)(n),o=this.getProjection()||r,a=this.getTileGrid();a||(a=this.getTileGridForProjection(o));var s=(0,ne.pd)(e,r,o),l=We(o,r,e,t),u=a.getZForResolution(l,this.zDirection),c=a.getResolution(u),d=a.getTileCoordForCoordAndZ(s,u);if(!(a.getResolutions().length<=d[0])){var p=a.getTileCoordExtent(d,this.tmpExtent_),g=this.gutter_;0!==g&&(p=(0,h.r)(p,c*g,p));var f={QUERY_LAYERS:this.params_["LAYERS"]};Object.assign(f,ft(this.params_,"GetFeatureInfo"),i);var m=Math.floor((s[0]-p[0])/c),v=Math.floor((p[3]-s[1])/c);return f[this.v13_?"I":"X"]=m,f[this.v13_?"J":"Y"]=v,this.getRequestUrl_(d,p,1,o||r,f)}}},{key:"getLegendUrl",value:function(e,t){if(void 0!==this.urls[0]){var n={SERVICE:"WMS",VERSION:ht,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===t||void 0===t["LAYER"]){var i=this.params_.LAYERS,r=!Array.isArray(i)||1===i.length;if(!r)return;n["LAYER"]=i}if(void 0!==e){var o=this.getProjection()?this.getProjection().getMetersPerUnit():1,a=28e-5;n["SCALE"]=e*o/a}return Object.assign(n,t),Qe(this.urls[0],n)}}},{key:"getGutter",value:function(){return this.gutter_}},{key:"getParams",value:function(){return this.params_}},{key:"getRequestUrl_",value:function(e,t,n,i,r){var o=this.urls;if(o){var a;if(1==o.length)a=o[0];else{var s=(0,Y.xP)(N(e),o.length);a=o[s]}return gt(t,(this.tileGrid||this.getTileGridForProjection(i)).getResolution(e[0]),n,i,a,r,this.serverType_)}}},{key:"getTilePixelRatio",value:function(e){return this.hidpi_&&void 0!==this.serverType_?e:1}},{key:"getKeyForParams_",value:function(){var e=0,t=[];for(var n in this.params_)t[e++]=n+"-"+this.params_[n];return t.join("/")}},{key:"updateParams",value:function(e){Object.assign(this.params_,e),this.updateV13_(),this.setKey(this.getKeyForParams_())}},{key:"updateV13_",value:function(){var e=this.params_["VERSION"]||ht;this.v13_=(0,$e.Z)(e,"1.3")>=0}},{key:"tileUrlFunction",value:function(e,t,n){var i=this.getTileGrid();if(i||(i=this.getTileGridForProjection(n)),!(i.getResolutions().length<=e[0])){1==t||this.hidpi_&&void 0!==this.serverType_||(t=1);var r=i.getResolution(e[0]),o=i.getTileCoordExtent(e,this.tmpExtent_),a=this.gutter_;0!==a&&(o=(0,h.r)(o,r*a,o));var s=Object.assign({},ft(this.params_,"GetMap"));return this.getRequestUrl_(e,o,t,n,s)}}}])}(Ke),_t=At,Ct=(n(113),n(8980),n(2010),function(e){function t(e){var n;(0,r.A)(this,t);var i=void 0!==e.requestEncoding?e.requestEncoding:"KVP",o=e.tileGrid,s=e.urls;return void 0===s&&void 0!==e.url&&(s=me(e.url)),n=(0,a.A)(this,t,[{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:o,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,urls:s,wrapX:void 0!==e.wrapX&&e.wrapX,transition:e.transition,zDirection:e.zDirection}]),n.version_=void 0!==e.version?e.version:"1.0.0",n.format_=void 0!==e.format?e.format:"image/jpeg",n.dimensions_=void 0!==e.dimensions?e.dimensions:{},n.layer_=e.layer,n.matrixSet_=e.matrixSet,n.style_=e.style,n.requestEncoding_=i,n.setKey(n.getKeyForDimensions_()),s&&s.length>0&&(n.tileUrlFunction=fe(s.map(n.createFromWMTSTemplate.bind(n)))),n}return(0,s.A)(t,e),(0,o.A)(t,[{key:"setUrls",value:function(e){this.urls=e;var t=e.join("\n");this.setTileUrlFunction(fe(e.map(this.createFromWMTSTemplate.bind(this))),t)}},{key:"getDimensions",value:function(){return this.dimensions_}},{key:"getFormat",value:function(){return this.format_}},{key:"getLayer",value:function(){return this.layer_}},{key:"getMatrixSet",value:function(){return this.matrixSet_}},{key:"getRequestEncoding",value:function(){return this.requestEncoding_}},{key:"getStyle",value:function(){return this.style_}},{key:"getVersion",value:function(){return this.version_}},{key:"getKeyForDimensions_",value:function(){var e=this.urls?this.urls.slice(0):[];for(var t in this.dimensions_)e.push(t+"-"+this.dimensions_[t]);return e.join("/")}},{key:"updateDimensions",value:function(e){Object.assign(this.dimensions_,e),this.setKey(this.getKeyForDimensions_())}},{key:"createFromWMTSTemplate",value:function(e){var t=this.requestEncoding_,n={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};"KVP"==t&&Object.assign(n,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),e="KVP"==t?Qe(e,n):e.replace(/\{(\w+?)\}/g,(function(e,t){return t.toLowerCase()in n?n[t.toLowerCase()]:e}));var i=this.tileGrid,r=this.dimensions_;return function(n,o,a){if(n){var s={TileMatrix:i.getMatrixId(n[0]),TileCol:n[1],TileRow:n[2]};Object.assign(s,r);var l=e;return l="KVP"==t?Qe(l,s):l.replace(/\{(\w+?)\}/g,(function(e,t){return s[t]})),l}}}}])}(Ke)),It=Ct;var Et=n(8653),wt=function(e){function t(e){var n;return(0,r.A)(this,t),e=e||{},n=(0,a.A)(this,t,[{attributions:e.attributions,interpolate:e.interpolate,projection:e.projection,resolutions:e.resolutions}]),n.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null,n.url_=e.url,n.imageLoadFunction_=void 0!==e.imageLoadFunction?e.imageLoadFunction:lt,n.params_=e.params,n.serverType_=e.serverType,n.hidpi_=void 0===e.hidpi||e.hidpi,n.renderedRevision_=0,n.ratio_=void 0!==e.ratio?e.ratio:1.5,n.loaderProjection_=null,n}return(0,s.A)(t,e),(0,o.A)(t,[{key:"getFeatureInfoUrl",value:function(e,t,n,i){var r=(0,ne.Jt)(n),o=this.getProjection();o&&o!==r&&(t=We(o,r,e,t),e=(0,ne.pd)(e,r,o));var a={url:this.url_,params:(0,Et.A)((0,Et.A)({},this.params_),i),projection:o||r};return vt(a,e,t)}},{key:"getLegendUrl",value:function(e,t){return yt({url:this.url_,params:(0,Et.A)((0,Et.A)({},this.params_),t)},e)}},{key:"getParams",value:function(){return this.params_}},{key:"getImageInternal",value:function(e,n,i,r){var o=this;return void 0===this.url_?null:(this.loader&&this.loaderProjection_===r||(this.loaderProjection_=r,this.loader=mt({crossOrigin:this.crossOrigin_,params:this.params_,projection:r,serverType:this.serverType_,hidpi:this.hidpi_,url:this.url_,ratio:this.ratio_,load:function(e,t){return o.image.setImage(e),o.imageLoadFunction_(o.image,t),(0,Pe.D4)(e)}})),(0,v.A)((0,y.A)(t.prototype),"getImageInternal",this).call(this,e,n,i,r))}},{key:"getImageLoadFunction",value:function(){return this.imageLoadFunction_}},{key:"getUrl",value:function(){return this.url_}},{key:"setImageLoadFunction",value:function(e){this.imageLoadFunction_=e,this.changed()}},{key:"setUrl",value:function(e){e!=this.url_&&(this.url_=e,this.loader=null,this.changed())}},{key:"updateParams",value:function(e){Object.assign(this.params_,e),this.changed()}},{key:"changed",value:function(){this.image=null,(0,v.A)((0,y.A)(t.prototype),"changed",this).call(this)}}])}(ct),bt=wt,xt=(n(2008),n(4554),n(3844)),St=n(2686),Pt=n(856),Mt=n(6425),kt=n(6273),Rt=n(9331),Tt=n(6505),Lt=n(2535),Gt={SELECT:"select"},Ot=function(e){function t(e,n,i,o){var s;return(0,r.A)(this,t),s=(0,a.A)(this,t,[e]),s.selected=n,s.deselected=i,s.mapBrowserEvent=o,s}return(0,s.A)(t,e),(0,o.A)(t)}(ee.Ay),Dt={},Nt=function(e){function t(e){var n,i;if((0,r.A)(this,t),n=(0,a.A)(this,t),n.on,n.once,n.un,e=e||{},n.boundAddFeature_=n.addFeature_.bind(n),n.boundRemoveFeature_=n.removeFeature_.bind(n),n.condition_=e.condition?e.condition:Lt.t5,n.addCondition_=e.addCondition?e.addCondition:Lt.Zm,n.removeCondition_=e.removeCondition?e.removeCondition:Lt.Zm,n.toggleCondition_=e.toggleCondition?e.toggleCondition:Lt.Kg,n.multi_=!!e.multi&&e.multi,n.filter_=e.filter?e.filter:Rt.rT,n.hitTolerance_=e.hitTolerance?e.hitTolerance:0,n.style_=void 0!==e.style?e.style:Ft(),n.features_=e.features||new xt.A,e.layers)if("function"===typeof e.layers)i=e.layers;else{var o=e.layers;i=function(e){return o.includes(e)}}else i=Rt.rT;return n.layerFilter_=i,n.featureLayerAssociation_={},n}return(0,s.A)(t,e),(0,o.A)(t,[{key:"addFeatureLayerAssociation_",value:function(e,t){this.featureLayerAssociation_[(0,I.v6)(e)]=t}},{key:"getFeatures",value:function(){return this.features_}},{key:"getHitTolerance",value:function(){return this.hitTolerance_}},{key:"getLayer",value:function(e){return this.featureLayerAssociation_[(0,I.v6)(e)]}},{key:"setHitTolerance",value:function(e){this.hitTolerance_=e}},{key:"setMap",value:function(e){var n=this.getMap();n&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),(0,v.A)((0,y.A)(t.prototype),"setMap",this).call(this,e),e?(this.features_.addEventListener(St.A.ADD,this.boundAddFeature_),this.features_.addEventListener(St.A.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(St.A.ADD,this.boundAddFeature_),this.features_.removeEventListener(St.A.REMOVE,this.boundRemoveFeature_))}},{key:"addFeature_",value:function(e){var t=e.element;if(this.style_&&this.applySelectedStyle_(t),!this.getLayer(t)){var n=this.getMap().getAllLayers().find((function(e){if(e instanceof kt.A&&e.getSource()&&e.getSource().hasFeature(t))return e}));n&&this.addFeatureLayerAssociation_(t,n)}}},{key:"removeFeature_",value:function(e){this.style_&&this.restorePreviousStyle_(e.element)}},{key:"getStyle",value:function(){return this.style_}},{key:"applySelectedStyle_",value:function(e){var t=(0,I.v6)(e);t in Dt||(Dt[t]=e.getStyle()),e.setStyle(this.style_)}},{key:"restorePreviousStyle_",value:function(e){for(var n=this.getMap().getInteractions().getArray(),i=n.length-1;i>=0;--i){var r=n[i];if(r!==this&&r instanceof t&&r.getStyle()&&-1!==r.getFeatures().getArray().lastIndexOf(e))return void e.setStyle(r.getStyle())}var o=(0,I.v6)(e);e.setStyle(Dt[o]),delete Dt[o]}},{key:"removeFeatureLayerAssociation_",value:function(e){delete this.featureLayerAssociation_[(0,I.v6)(e)]}},{key:"handleEvent",value:function(e){var t=this;if(!this.condition_(e))return!0;var n=this.addCondition_(e),i=this.removeCondition_(e),r=this.toggleCondition_(e),o=!n&&!i&&!r,a=e.map,s=this.getFeatures(),l=[],u=[];if(o){(0,Ie.I)(this.featureLayerAssociation_),a.forEachFeatureAtPixel(e.pixel,(function(e,n){if(e instanceof Pt.A&&t.filter_(e,n))return t.addFeatureLayerAssociation_(e,n),u.push(e),!t.multi_}),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var c=s.getLength()-1;c>=0;--c){var h=s.item(c),d=u.indexOf(h);d>-1?u.splice(d,1):(s.remove(h),l.push(h))}0!==u.length&&s.extend(u)}else{a.forEachFeatureAtPixel(e.pixel,(function(e,o){if(e instanceof Pt.A&&t.filter_(e,o))return!n&&!r||s.getArray().includes(e)?(i||r)&&s.getArray().includes(e)&&(l.push(e),t.removeFeatureLayerAssociation_(e)):(t.addFeatureLayerAssociation_(e,o),u.push(e)),!t.multi_}),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var p=l.length-1;p>=0;--p)s.remove(l[p]);s.extend(u)}return(u.length>0||l.length>0)&&this.dispatchEvent(new Ot(Gt.SELECT,u,l,e)),!0}}])}(Mt.Ay);function Ft(){var e=(0,Tt.mY)();return(0,q.X$)(e["Polygon"],e["LineString"]),(0,q.X$)(e["GeometryCollection"],e["LineString"]),function(t){return t.getGeometry()?e[t.getGeometry().getType()]:null}}var Ut=Nt,Bt=n(4119),jt=(n(6910),n(3156)),zt=n(8225),Wt=n(5596),Vt=n(1127),Yt=n(299),Ht=n(8474),qt=n(3313),Xt=0,Zt=1,Kt=[0,0,0,0],Jt=[],Qt={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"},$t=function(e){function t(e,n,i){var o;return(0,r.A)(this,t),o=(0,a.A)(this,t,[e]),o.features=n,o.mapBrowserEvent=i,o}return(0,s.A)(t,e),(0,o.A)(t)}(ee.Ay),en=function(e){function t(e){var n,i;if((0,r.A)(this,t),n=(0,a.A)(this,t,[e]),n.on,n.once,n.un,n.boundHandleFeatureChange_=n.handleFeatureChange_.bind(n),n.condition_=e.condition?e.condition:Lt.fs,n.defaultDeleteCondition_=function(e){return(0,Lt.Js)(e)&&(0,Lt.t5)(e)},n.deleteCondition_=e.deleteCondition?e.deleteCondition:n.defaultDeleteCondition_,n.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:Lt.Gk,n.vertexFeature_=null,n.vertexSegments_=null,n.lastPixel_=[0,0],n.ignoreNextSingleClick_=!1,n.featuresBeingModified_=null,n.rBush_=new Vt.A,n.pixelTolerance_=void 0!==e.pixelTolerance?e.pixelTolerance:10,n.snappedToVertex_=!1,n.changingFeature_=!1,n.dragSegments_=[],n.overlay_=new kt.A({source:new Se.A({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:on(),updateWhileAnimating:!0,updateWhileInteracting:!0}),n.SEGMENT_WRITERS_={Point:n.writePointGeometry_.bind(n),LineString:n.writeLineStringGeometry_.bind(n),LinearRing:n.writeLineStringGeometry_.bind(n),Polygon:n.writePolygonGeometry_.bind(n),MultiPoint:n.writeMultiPointGeometry_.bind(n),MultiLineString:n.writeMultiLineStringGeometry_.bind(n),MultiPolygon:n.writeMultiPolygonGeometry_.bind(n),Circle:n.writeCircleGeometry_.bind(n),GeometryCollection:n.writeGeometryCollectionGeometry_.bind(n)},n.source_=null,n.hitDetection_=null,e.features?i=e.features:e.source&&(n.source_=e.source,i=new xt.A(n.source_.getFeatures()),n.source_.addEventListener(Yt.A.ADDFEATURE,n.handleSourceAdd_.bind(n)),n.source_.addEventListener(Yt.A.REMOVEFEATURE,n.handleSourceRemove_.bind(n))),!i)throw new Error("The modify interaction requires features, a source or a layer");return e.hitDetection&&(n.hitDetection_=e.hitDetection),n.features_=i,n.features_.forEach(n.addFeature_.bind(n)),n.features_.addEventListener(St.A.ADD,n.handleFeatureAdd_.bind(n)),n.features_.addEventListener(St.A.REMOVE,n.handleFeatureRemove_.bind(n)),n.lastPointerEvent_=null,n.delta_=[0,0],n.snapToPointer_=void 0===e.snapToPointer?!n.hitDetection_:e.snapToPointer,n}return(0,s.A)(t,e),(0,o.A)(t,[{key:"addFeature_",value:function(e){var t=e.getGeometry();if(t){var n=this.SEGMENT_WRITERS_[t.getType()];n&&n(e,t)}var i=this.getMap();i&&i.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,i),e.addEventListener(A.A.CHANGE,this.boundHandleFeatureChange_)}},{key:"willModifyFeatures_",value:function(e,t){if(!this.featuresBeingModified_){this.featuresBeingModified_=new xt.A;for(var n=this.featuresBeingModified_.getArray(),i=0,r=t.length;i<r;++i)for(var o=t[i],a=0,s=o.length;a<s;++a){var l=o[a].feature;l&&!n.includes(l)&&this.featuresBeingModified_.push(l)}0===this.featuresBeingModified_.getLength()?this.featuresBeingModified_=null:this.dispatchEvent(new $t(Qt.MODIFYSTART,this.featuresBeingModified_,e))}}},{key:"removeFeature_",value:function(e){this.removeFeatureSegmentData_(e),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.removeEventListener(A.A.CHANGE,this.boundHandleFeatureChange_)}},{key:"removeFeatureSegmentData_",value:function(e){var t=this.rBush_,n=[];t.forEach((function(t){e===t.feature&&n.push(t)}));for(var i=n.length-1;i>=0;--i){for(var r=n[i],o=this.dragSegments_.length-1;o>=0;--o)this.dragSegments_[o][0]===r&&this.dragSegments_.splice(o,1);t.remove(r)}}},{key:"setActive",value:function(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),(0,v.A)((0,y.A)(t.prototype),"setActive",this).call(this,e)}},{key:"setMap",value:function(e){this.overlay_.setMap(e),(0,v.A)((0,y.A)(t.prototype),"setMap",this).call(this,e)}},{key:"getOverlay",value:function(){return this.overlay_}},{key:"handleSourceAdd_",value:function(e){e.feature&&this.features_.push(e.feature)}},{key:"handleSourceRemove_",value:function(e){e.feature&&this.features_.remove(e.feature)}},{key:"handleFeatureAdd_",value:function(e){this.addFeature_(e.element)}},{key:"handleFeatureChange_",value:function(e){if(!this.changingFeature_){var t=e.target;this.removeFeature_(t),this.addFeature_(t)}}},{key:"handleFeatureRemove_",value:function(e){this.removeFeature_(e.element)}},{key:"writePointGeometry_",value:function(e,t){var n=t.getCoordinates(),i={feature:e,geometry:t,segment:[n,n]};this.rBush_.insert(t.getExtent(),i)}},{key:"writeMultiPointGeometry_",value:function(e,t){for(var n=t.getCoordinates(),i=0,r=n.length;i<r;++i){var o=n[i],a={feature:e,geometry:t,depth:[i],index:i,segment:[o,o]};this.rBush_.insert(t.getExtent(),a)}}},{key:"writeLineStringGeometry_",value:function(e,t){for(var n=t.getCoordinates(),i=0,r=n.length-1;i<r;++i){var o=n.slice(i,i+2),a={feature:e,geometry:t,index:i,segment:o};this.rBush_.insert((0,h.Tr)(o),a)}}},{key:"writeMultiLineStringGeometry_",value:function(e,t){for(var n=t.getCoordinates(),i=0,r=n.length;i<r;++i)for(var o=n[i],a=0,s=o.length-1;a<s;++a){var l=o.slice(a,a+2),u={feature:e,geometry:t,depth:[i],index:a,segment:l};this.rBush_.insert((0,h.Tr)(l),u)}}},{key:"writePolygonGeometry_",value:function(e,t){for(var n=t.getCoordinates(),i=0,r=n.length;i<r;++i)for(var o=n[i],a=0,s=o.length-1;a<s;++a){var l=o.slice(a,a+2),u={feature:e,geometry:t,depth:[i],index:a,segment:l};this.rBush_.insert((0,h.Tr)(l),u)}}},{key:"writeMultiPolygonGeometry_",value:function(e,t){for(var n=t.getCoordinates(),i=0,r=n.length;i<r;++i)for(var o=n[i],a=0,s=o.length;a<s;++a)for(var l=o[a],u=0,c=l.length-1;u<c;++u){var d=l.slice(u,u+2),p={feature:e,geometry:t,depth:[a,i],index:u,segment:d};this.rBush_.insert((0,h.Tr)(d),p)}}},{key:"writeCircleGeometry_",value:function(e,t){var n=t.getCenter(),i={feature:e,geometry:t,index:Xt,segment:[n,n]},r={feature:e,geometry:t,index:Zt,segment:[n,n]},o=[i,r];i.featureSegments=o,r.featureSegments=o,this.rBush_.insert((0,h.dP)(n),i);var a=t,s=(0,ne.Tf)();if(s&&this.getMap()){var l=this.getMap().getView().getProjection();a=a.clone().transform(s,l),a=(0,qt.nD)(a).transform(l,s)}this.rBush_.insert(a.getExtent(),r)}},{key:"writeGeometryCollectionGeometry_",value:function(e,t){for(var n=t.getGeometriesArray(),i=0;i<n.length;++i){var r=n[i],o=this.SEGMENT_WRITERS_[r.getType()];o(e,r)}}},{key:"createOrUpdateVertexFeature_",value:function(e,t,n){var i=this.vertexFeature_;if(i){var r=i.getGeometry();r.setCoordinates(e)}else i=new Pt.A(new zt.A(e)),this.vertexFeature_=i,this.overlay_.getSource().addFeature(i);return i.set("features",t),i.set("geometries",n),i}},{key:"handleEvent",value:function(e){return!e.originalEvent||(this.lastPointerEvent_=e,e.map.getView().getInteracting()||e.type!=jt.A.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(n=!(e.type!=jt.A.SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),e.type==jt.A.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),(0,v.A)((0,y.A)(t.prototype),"handleEvent",this).call(this,e)&&!n);var n}},{key:"handleDragEvent",value:function(e){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(e,this.dragSegments_);for(var t=[e.coordinate[0]+this.delta_[0],e.coordinate[1]+this.delta_[1]],n=[],i=[],r=0,o=this.dragSegments_.length;r<o;++r){var a=this.dragSegments_[r],s=a[0],l=s.feature;n.includes(l)||n.push(l);var u=s.geometry;i.includes(u)||i.push(u);var c=s.depth,h=void 0,d=s.segment,p=a[1];while(t.length<u.getStride())t.push(d[p][t.length]);switch(u.getType()){case"Point":h=t,d[0]=t,d[1]=t;break;case"MultiPoint":h=u.getCoordinates(),h[s.index]=t,d[0]=t,d[1]=t;break;case"LineString":h=u.getCoordinates(),h[s.index+p]=t,d[p]=t;break;case"MultiLineString":h=u.getCoordinates(),h[c[0]][s.index+p]=t,d[p]=t;break;case"Polygon":h=u.getCoordinates(),h[c[0]][s.index+p]=t,d[p]=t;break;case"MultiPolygon":h=u.getCoordinates(),h[c[1]][c[0]][s.index+p]=t,d[p]=t;break;case"Circle":if(d[0]=t,d[1]=t,s.index===Xt)this.changingFeature_=!0,u.setCenter(t),this.changingFeature_=!1;else{this.changingFeature_=!0;var g=e.map.getView().getProjection(),f=(0,Ht.Io)((0,ne.Ad)(u.getCenter(),g),(0,ne.Ad)(t,g)),m=(0,ne.Tf)();if(m){var v=u.clone().transform(m,g);v.setRadius(f),f=v.transform(g,m).getRadius()}u.setRadius(f),this.changingFeature_=!1}break;default:}h&&this.setGeometryCoordinates_(u,h)}this.createOrUpdateVertexFeature_(t,n,i)}},{key:"handleDownEvent",value:function(e){if(!this.condition_(e))return!1;var t=e.coordinate;this.handlePointerAtPixel_(e.pixel,e.map,t),this.dragSegments_.length=0,this.featuresBeingModified_=null;var n=this.vertexFeature_;if(n){var i=e.map.getView().getProjection(),r=[],o=n.getGeometry().getCoordinates(),a=(0,h.Tr)([o]),s=this.rBush_.getInExtent(a),l={};s.sort(tn);for(var u=0,c=s.length;u<c;++u){var d=s[u],p=d.segment,g=(0,I.v6)(d.geometry),f=d.depth;if(f&&(g+="-"+f.join("-")),l[g]||(l[g]=new Array(2)),"Circle"!==d.geometry.getType()||d.index!==Zt)if(!(0,Ht.aI)(p[0],o)||l[g][0])if(!(0,Ht.aI)(p[1],o)||l[g][1])(0,I.v6)(p)in this.vertexSegments_&&!l[g][0]&&!l[g][1]&&this.insertVertexCondition_(e)&&r.push(d);else{if(l[g][0]&&0===l[g][0].index){var m=d.geometry.getCoordinates();switch(d.geometry.getType()){case"LineString":case"MultiLineString":continue;case"MultiPolygon":m=m[f[1]];case"Polygon":if(d.index!==m[f[0]].length-2)continue;break;default:}}this.dragSegments_.push([d,1]),l[g][1]=d}else this.dragSegments_.push([d,0]),l[g][0]=d;else{var v=rn(t,d,i);(0,Ht.aI)(v,o)&&!l[g][0]&&(this.dragSegments_.push([d,0]),l[g][0]=d)}}r.length&&this.willModifyFeatures_(e,[r]);for(var y=r.length-1;y>=0;--y)this.insertVertex_(r[y],o)}return!!this.vertexFeature_}},{key:"handleUpEvent",value:function(e){for(var t=this.dragSegments_.length-1;t>=0;--t){var n=this.dragSegments_[t][0],i=n.geometry;if("Circle"===i.getType()){var r=i.getCenter(),o=n.featureSegments[0],a=n.featureSegments[1];o.segment[0]=r,o.segment[1]=r,a.segment[0]=r,a.segment[1]=r,this.rBush_.update((0,h.dP)(r),o);var s=i,l=(0,ne.Tf)();if(l){var u=e.map.getView().getProjection();s=s.clone().transform(l,u),s=(0,qt.nD)(s).transform(u,l)}this.rBush_.update(s.getExtent(),a)}else this.rBush_.update((0,h.Tr)(n.segment),n)}return this.featuresBeingModified_&&(this.dispatchEvent(new $t(Qt.MODIFYEND,this.featuresBeingModified_,e)),this.featuresBeingModified_=null),!1}},{key:"handlePointerMove_",value:function(e){this.lastPixel_=e.pixel,this.handlePointerAtPixel_(e.pixel,e.map,e.coordinate)}},{key:"handlePointerAtPixel_",value:function(e,t,n){var i,r,o=this,a=n||t.getCoordinateFromPixel(e),s=t.getView().getProjection(),l=function(e,t){return nn(a,e,s)-nn(a,t,s)};if(this.hitDetection_){var u="object"===(0,Bt.A)(this.hitDetection_)?function(e){return e===o.hitDetection_}:void 0;t.forEachFeatureAtPixel(e,(function(e,t,n){n&&"Point"===n.getType()&&(n=new zt.A((0,ne.te)(n.getCoordinates(),s)));var a=n||e.getGeometry();if(e instanceof Pt.A&&o.features_.getArray().includes(e)){r=a;var l=e.getGeometry().getFlatCoordinates().slice(0,2);i=[{feature:e,geometry:r,segment:[l,l]}]}return!0}),{layerFilter:u})}if(!i){var c=(0,ne.SD)((0,h.dP)(a,Kt),s),d=t.getView().getResolution()*this.pixelTolerance_,p=(0,ne.JR)((0,h.r)(c,d,Kt),s);i=this.rBush_.getInExtent(p)}if(i&&i.length>0){var g=i.sort(l)[0],f=g.segment,m=rn(a,g,s),v=t.getPixelFromCoordinate(m),y=(0,Ht.Io)(e,v);if(r||y<=this.pixelTolerance_){var A={};if(A[(0,I.v6)(f)]=!0,this.snapToPointer_||(this.delta_[0]=m[0]-a[0],this.delta_[1]=m[1]-a[1]),"Circle"===g.geometry.getType()&&g.index===Zt)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(m,[g.feature],[g.geometry]);else{var _=t.getPixelFromCoordinate(f[0]),C=t.getPixelFromCoordinate(f[1]),E=(0,Ht.hG)(v,_),w=(0,Ht.hG)(v,C);y=Math.sqrt(Math.min(E,w)),this.snappedToVertex_=y<=this.pixelTolerance_,this.snappedToVertex_&&(m=E>w?f[1]:f[0]),this.createOrUpdateVertexFeature_(m,[g.feature],[g.geometry]);var b={};b[(0,I.v6)(g.geometry)]=!0;for(var x=1,S=i.length;x<S;++x){var P=i[x].segment;if(!((0,Ht.aI)(f[0],P[0])&&(0,Ht.aI)(f[1],P[1])||(0,Ht.aI)(f[0],P[1])&&(0,Ht.aI)(f[1],P[0])))break;var M=(0,I.v6)(i[x].geometry);M in b||(b[M]=!0,A[(0,I.v6)(P)]=!0)}}return void(this.vertexSegments_=A)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)}},{key:"insertVertex_",value:function(e,t){var n,i=e.segment,r=e.feature,o=e.geometry,a=e.depth,s=e.index;while(t.length<o.getStride())t.push(0);switch(o.getType()){case"MultiLineString":n=o.getCoordinates(),n[a[0]].splice(s+1,0,t);break;case"Polygon":n=o.getCoordinates(),n[a[0]].splice(s+1,0,t);break;case"MultiPolygon":n=o.getCoordinates(),n[a[1]][a[0]].splice(s+1,0,t);break;case"LineString":n=o.getCoordinates(),n.splice(s+1,0,t);break;default:return}this.setGeometryCoordinates_(o,n);var l=this.rBush_;l.remove(e),this.updateSegmentIndices_(o,s,a,1);var u={segment:[i[0],t],feature:r,geometry:o,depth:a,index:s};l.insert((0,h.Tr)(u.segment),u),this.dragSegments_.push([u,1]);var c={segment:[t,i[1]],feature:r,geometry:o,depth:a,index:s+1};l.insert((0,h.Tr)(c.segment),c),this.dragSegments_.push([c,0]),this.ignoreNextSingleClick_=!0}},{key:"removePoint",value:function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=jt.A.POINTERDRAG){var e=this.lastPointerEvent_;this.willModifyFeatures_(e,this.dragSegments_);var t=this.removeVertex_();return this.featuresBeingModified_&&this.dispatchEvent(new $t(Qt.MODIFYEND,this.featuresBeingModified_,e)),this.featuresBeingModified_=null,t}return!1}},{key:"removeVertex_",value:function(){var e,t,n,i,r,o,a,s,l,u,c,d=this.dragSegments_,p={},g=!1;for(r=d.length-1;r>=0;--r)n=d[r],u=n[0],c=(0,I.v6)(u.feature),u.depth&&(c+="-"+u.depth.join("-")),c in p||(p[c]={}),0===n[1]?(p[c].right=u,p[c].index=u.index):1==n[1]&&(p[c].left=u,p[c].index=u.index+1);for(c in p){switch(l=p[c].right,a=p[c].left,o=p[c].index,s=o-1,u=void 0!==a?a:l,s<0&&(s=0),i=u.geometry,t=i.getCoordinates(),e=t,g=!1,i.getType()){case"MultiLineString":t[u.depth[0]].length>2&&(t[u.depth[0]].splice(o,1),g=!0);break;case"LineString":t.length>2&&(t.splice(o,1),g=!0);break;case"MultiPolygon":e=e[u.depth[1]];case"Polygon":e=e[u.depth[0]],e.length>4&&(o==e.length-1&&(o=0),e.splice(o,1),g=!0,0===o&&(e.pop(),e.push(e[0]),s=e.length-1));break;default:}if(g){this.setGeometryCoordinates_(i,t);var f=[];if(void 0!==a&&(this.rBush_.remove(a),f.push(a.segment[0])),void 0!==l&&(this.rBush_.remove(l),f.push(l.segment[1])),void 0!==a&&void 0!==l){var m={depth:u.depth,feature:u.feature,geometry:u.geometry,index:s,segment:f};this.rBush_.insert((0,h.Tr)(m.segment),m)}this.updateSegmentIndices_(i,o,u.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),d.length=0}}return g}},{key:"setGeometryCoordinates_",value:function(e,t){this.changingFeature_=!0,e.setCoordinates(t),this.changingFeature_=!1}},{key:"updateSegmentIndices_",value:function(e,t,n,i){this.rBush_.forEachInExtent(e.getExtent(),(function(r){r.geometry===e&&(void 0===n||void 0===r.depth||(0,q.aI)(r.depth,n))&&r.index>t&&(r.index+=i)}))}}])}(Wt.A);function tn(e,t){return e.index-t.index}function nn(e,t,n){var i=t.geometry;if("Circle"===i.getType()){var r=i;if(t.index===Zt){var o=(0,ne.Tf)();o&&(r=r.clone().transform(o,n));var a=(0,Ht.hG)(r.getCenter(),(0,ne.Ad)(e,n)),s=Math.sqrt(a)-r.getRadius();return s*s}}var l=(0,ne.Ad)(e,n);return Jt[0]=(0,ne.Ad)(t.segment[0],n),Jt[1]=(0,ne.Ad)(t.segment[1],n),(0,Ht.$x)(l,Jt)}function rn(e,t,n){var i=t.geometry;if("Circle"===i.getType()&&t.index===Zt){var r=i,o=(0,ne.Tf)();return o&&(r=r.clone().transform(o,n)),(0,ne.te)(r.getClosestPoint((0,ne.Ad)(e,n)),n)}var a=(0,ne.Ad)(e,n);return Jt[0]=(0,ne.Ad)(t.segment[0],n),Jt[1]=(0,ne.Ad)(t.segment[1],n),(0,ne.te)((0,Ht.sG)(a,Jt),n)}function on(){var e=(0,Tt.mY)();return function(t,n){return e["Point"]}}var an=en,sn=n(3665),ln=n(6320),un=n(3371),cn=function(e){function t(e,n,i){var o;return(0,r.A)(this,t),o=(0,a.A)(this,t),void 0!==i&&void 0===n?o.setFlatCoordinates(i,e):(n=n||0,o.setCenterAndRadius(e,n,i)),o}return(0,s.A)(t,e),(0,o.A)(t,[{key:"clone",value:function(){var e=new t(this.flatCoordinates.slice(),void 0,this.layout);return e.applyProperties(this),e}},{key:"closestPointXY",value:function(e,t,n,i){var r=this.flatCoordinates,o=e-r[0],a=t-r[1],s=o*o+a*a;if(s<i){if(0===s)for(var l=0;l<this.stride;++l)n[l]=r[l];else{var u=this.getRadius()/Math.sqrt(s);n[0]=r[0]+u*o,n[1]=r[1]+u*a;for(var c=2;c<this.stride;++c)n[c]=r[c]}return n.length=this.stride,s}return i}},{key:"containsXY",value:function(e,t){var n=this.flatCoordinates,i=e-n[0],r=t-n[1];return i*i+r*r<=this.getRadiusSquared_()}},{key:"getCenter",value:function(){return this.flatCoordinates.slice(0,this.stride)}},{key:"computeExtent",value:function(e){var t=this.flatCoordinates,n=t[this.stride]-t[0];return(0,h.N)(t[0]-n,t[1]-n,t[0]+n,t[1]+n,e)}},{key:"getRadius",value:function(){return Math.sqrt(this.getRadiusSquared_())}},{key:"getRadiusSquared_",value:function(){var e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],t=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+t*t}},{key:"getType",value:function(){return"Circle"}},{key:"intersectsExtent",value:function(e){var t=this.getExtent();if((0,h.HY)(e,t)){var n=this.getCenter();return e[0]<=n[0]&&e[2]>=n[0]||(e[1]<=n[1]&&e[3]>=n[1]||(0,h.sB)(e,this.intersectsCoordinate.bind(this)))}return!1}},{key:"setCenter",value:function(e){var t=this.stride,n=this.flatCoordinates[t]-this.flatCoordinates[0],i=e.slice();i[t]=i[0]+n;for(var r=1;r<t;++r)i[t+r]=e[r];this.setFlatCoordinates(this.layout,i),this.changed()}},{key:"setCenterAndRadius",value:function(e,t,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]);var i=this.flatCoordinates,r=(0,ln._n)(i,0,e,this.stride);i[r++]=i[0]+t;for(var o=1,a=this.stride;o<a;++o)i[r++]=i[o];i.length=r,this.changed()}},{key:"getCoordinates",value:function(){return null}},{key:"setCoordinates",value:function(e,t){}},{key:"setRadius",value:function(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()}},{key:"rotate",value:function(e,t){var n=this.getCenter(),i=this.getStride();this.setCenter((0,un.e$)(n,0,n.length,i,e,t,n)),this.changed()}}])}(sn.Ay);cn.prototype.transform;var hn=cn,dn=n(7739),pn=n(776),gn=n(3496),fn=n(9020),mn=n(8957),vn=n(5522),yn=n(5258),An={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"},_n=function(e){function t(e,n){var i;return(0,r.A)(this,t),i=(0,a.A)(this,t,[e]),i.feature=n,i}return(0,s.A)(t,e),(0,o.A)(t)}(ee.Ay);function Cn(e,t){for(var n=[],i=0;i<t.length;++i){var r=t[i],o=r.getGeometry();bn(e,o,n)}return n}function In(e,t){return(0,Y.hG)(e[0],e[1],t[0],t[1])}function En(e,t){var n=e.length;return t<0?e[t+n]:t>=n?e[t-n]:e[t]}function wn(e,t,n){var i,r;t<n?(i=t,r=n):(i=n,r=t);var o=Math.ceil(i),a=Math.floor(r);if(o>a){var s=Rn(e,i),l=Rn(e,r);return In(s,l)}var u=0;if(i<o){var c=Rn(e,i),h=En(e,o);u+=In(c,h)}if(a<r){var d=En(e,a),p=Rn(e,r);u+=In(d,p)}for(var g=o;g<a-1;++g){var f=En(e,g),m=En(e,g+1);u+=In(f,m)}return u}function bn(e,t,n){if(t instanceof gn.A)Pn(e,t.getCoordinates(),!1,n);else if(t instanceof mn.A)for(var i=t.getCoordinates(),r=0,o=i.length;r<o;++r)Pn(e,i[r],!1,n);else if(t instanceof qt.Ay)for(var a=t.getCoordinates(),s=0,l=a.length;s<l;++s)Pn(e,a[s],!0,n);else if(t instanceof yn.A)for(var u=t.getCoordinates(),c=0,h=u.length;c<h;++c)for(var d=u[c],p=0,g=d.length;p<g;++p)Pn(e,d[p],!0,n);else if(t instanceof dn.A)for(var f=t.getGeometries(),m=0;m<f.length;++m)bn(e,f[m],n);else;}var xn={index:-1,endIndex:NaN};function Sn(e,t,n,i){for(var r=e[0],o=e[1],a=1/0,s=-1,l=NaN,u=0;u<t.targets.length;++u){for(var c=t.targets[u],h=c.coordinates,d=1/0,p=void 0,g=0;g<h.length-1;++g){var f=h[g],m=h[g+1],v=kn(r,o,f,m);v.squaredDistance<d&&(d=v.squaredDistance,p=g+v.along)}d<a&&(a=d,c.ring&&t.targetIndex===u&&(c.endIndex>c.startIndex?p<c.startIndex&&(p+=h.length):c.endIndex<c.startIndex&&p>c.startIndex&&(p-=h.length)),l=p,s=u)}var y=t.targets[s],A=y.ring;if(t.targetIndex===s&&A){var _=Rn(y.coordinates,l),C=n.getPixelFromCoordinate(_);(0,Ht.Io)(C,t.startPx)>i&&(A=!1)}if(A){var I=y.coordinates,E=I.length,w=y.startIndex,b=l;if(w<b){var x=wn(I,w,b),S=wn(I,w,b-E);S<x&&(l-=E)}else{var P=wn(I,w,b),M=wn(I,w,b+E);M<P&&(l+=E)}}return xn.index=s,xn.endIndex=l,xn}function Pn(e,t,n,i){for(var r=e[0],o=e[1],a=0,s=t.length-1;a<s;++a){var l=t[a],u=t[a+1],c=kn(r,o,l,u);if(0===c.squaredDistance){var h=a+c.along;return void i.push({coordinates:t,ring:n,startIndex:h,endIndex:h})}}}var Mn={along:0,squaredDistance:0};function kn(e,t,n,i){var r=n[0],o=n[1],a=i[0],s=i[1],l=a-r,u=s-o,c=0,h=r,d=o;return 0===l&&0===u||(c=(0,Y.qE)(((e-r)*l+(t-o)*u)/(l*l+u*u),0,1),h+=l*c,d+=u*c),Mn.along=c,Mn.squaredDistance=(0,Y.Mg)((0,Y.hG)(e,t,h,d),10),Mn}function Rn(e,t){var n=e.length,i=Math.floor(t),r=t-i;i>=n?i-=n:i<0&&(i+=n);var o=i+1;o>=n&&(o-=n);var a=e[i],s=a[0],l=a[1],u=e[o],c=u[0]-s,h=u[1]-l;return[s+c*r,l+h*r]}var Tn=function(e){function t(e){var n;(0,r.A)(this,t);var i=e;i.stopDown||(i.stopDown=Rt.W8),n=(0,a.A)(this,t,[i]),n.on,n.once,n.un,n.shouldHandle_=!1,n.downPx_=null,n.downTimeout_,n.lastDragTime_,n.pointerType_,n.freehand_=!1,n.source_=e.source?e.source:null,n.features_=e.features?e.features:null,n.snapTolerance_=e.snapTolerance?e.snapTolerance:12,n.type_=e.type,n.mode_=Gn(n.type_),n.stopClick_=!!e.stopClick,n.minPoints_=e.minPoints?e.minPoints:"Polygon"===n.mode_?3:2,n.maxPoints_="Circle"===n.mode_?2:e.maxPoints?e.maxPoints:1/0,n.finishCondition_=e.finishCondition?e.finishCondition:Rt.rT,n.geometryLayout_=e.geometryLayout?e.geometryLayout:"XY";var o=e.geometryFunction;if(!o){var s,l=n.mode_;if("Circle"===l)o=function(e,t,n){var i=t||new hn([NaN,NaN]),r=(0,ne.Ad)(e[0],n),o=(0,Ht.hG)(r,(0,ne.Ad)(e[e.length-1],n));i.setCenterAndRadius(r,Math.sqrt(o),this.geometryLayout_);var a=(0,ne.Tf)();return a&&i.transform(n,a),i};else"Point"===l?s=zt.A:"LineString"===l?s=gn.A:"Polygon"===l&&(s=qt.Ay),o=function(e,t,n){return t?"Polygon"===l?e[0].length?t.setCoordinates([e[0].concat([e[0][0]])],this.geometryLayout_):t.setCoordinates([],this.geometryLayout_):t.setCoordinates(e,this.geometryLayout_):t=new s(e,this.geometryLayout_),t}}return n.geometryFunction_=o,n.dragVertexDelay_=void 0!==e.dragVertexDelay?e.dragVertexDelay:500,n.finishCoordinate_=null,n.sketchFeature_=null,n.sketchPoint_=null,n.sketchCoords_=null,n.sketchLine_=null,n.sketchLineCoords_=null,n.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,n.overlay_=new kt.A({source:new Se.A({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:Ln(),updateWhileInteracting:!0}),n.geometryName_=e.geometryName,n.condition_=e.condition?e.condition:Lt.TS,n.freehandCondition_,e.freehand?n.freehandCondition_=Lt.Gk:n.freehandCondition_=e.freehandCondition?e.freehandCondition:Lt.Kg,n.traceCondition_,n.setTrace(e.trace||!1),n.traceState_={active:!1},n.traceSource_=e.traceSource||e.source||null,n.addChangeListener(pn.A.ACTIVE,n.updateState_),n}return(0,s.A)(t,e),(0,o.A)(t,[{key:"setTrace",value:function(e){var t;t=e?!0===e?Lt.Gk:e:Lt.Zm,this.traceCondition_=t}},{key:"setMap",value:function(e){(0,v.A)((0,y.A)(t.prototype),"setMap",this).call(this,e),this.updateState_()}},{key:"getOverlay",value:function(){return this.overlay_}},{key:"handleEvent",value:function(e){e.originalEvent.type===A.A.CONTEXTMENU&&e.originalEvent.preventDefault(),this.freehand_="Point"!==this.mode_&&this.freehandCondition_(e);var n=e.type===jt.A.POINTERMOVE,i=!0;if(!this.freehand_&&this.lastDragTime_&&e.type===jt.A.POINTERDRAG){var r=Date.now();r-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,n=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)}return this.freehand_&&e.type===jt.A.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e.coordinate),i=!1):this.freehand_&&e.type===jt.A.POINTERDOWN?i=!1:n&&this.getPointerCount()<2?(i=e.type===jt.A.POINTERMOVE,i&&this.freehand_?(this.handlePointerMove_(e),this.shouldHandle_&&e.originalEvent.preventDefault()):("mouse"===e.originalEvent.pointerType||e.type===jt.A.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(e)):e.type===jt.A.DBLCLICK&&(i=!1),(0,v.A)((0,y.A)(t.prototype),"handleEvent",this).call(this,e)&&i}},{key:"handleDownEvent",value:function(e){var t=this;return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=e.pixel,this.finishCoordinate_||this.startDrawing_(e.coordinate),!0):this.condition_(e)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout((function(){t.handlePointerMove_(new fn.A(jt.A.POINTERMOVE,e.map,e.originalEvent,!1,e.frameState))}),this.dragVertexDelay_),this.downPx_=e.pixel,!0):(this.lastDragTime_=void 0,!1)}},{key:"deactivateTrace_",value:function(){this.traceState_={active:!1}}},{key:"toggleTraceState_",value:function(e){if(this.traceSource_&&this.traceCondition_(e))if(this.traceState_.active)this.deactivateTrace_();else{var t=this.getMap(),n=t.getCoordinateFromPixel([e.pixel[0]-this.snapTolerance_,e.pixel[1]+this.snapTolerance_]),i=t.getCoordinateFromPixel([e.pixel[0]+this.snapTolerance_,e.pixel[1]-this.snapTolerance_]),r=(0,h.Tr)([n,i]),o=this.traceSource_.getFeaturesInExtent(r);if(0!==o.length){var a=Cn(e.coordinate,o);a.length&&(this.traceState_={active:!0,startPx:e.pixel.slice(),targets:a,targetIndex:-1})}}}},{key:"addOrRemoveTracedCoordinates_",value:function(e,t){var n=e.startIndex<=e.endIndex,i=e.startIndex<=t;n===i?n&&t>e.endIndex||!n&&t<e.endIndex?this.addTracedCoordinates_(e,e.endIndex,t):(n&&t<e.endIndex||!n&&t>e.endIndex)&&this.removeTracedCoordinates_(t,e.endIndex):(this.removeTracedCoordinates_(e.startIndex,e.endIndex),this.addTracedCoordinates_(e,e.startIndex,t))}},{key:"removeTracedCoordinates_",value:function(e,t){if(e!==t){var n=0;if(e<t){var i=Math.ceil(e),r=Math.floor(t);r===t&&(r-=1),n=r-i+1}else{var o=Math.floor(e),a=Math.ceil(t);a===t&&(a+=1),n=o-a+1}n>0&&this.removeLastPoints_(n)}}},{key:"addTracedCoordinates_",value:function(e,t,n){if(t!==n){var i=[];if(t<n){var r=Math.ceil(t),o=Math.floor(n);o===n&&(o-=1);for(var a=r;a<=o;++a)i.push(En(e.coordinates,a))}else{var s=Math.floor(t),l=Math.ceil(n);l===n&&(l+=1);for(var u=s;u>=l;--u)i.push(En(e.coordinates,u))}i.length&&this.appendCoordinates(i)}}},{key:"updateTrace_",value:function(e){var t=this.traceState_;if(t.active&&!(-1===t.targetIndex&&(0,Ht.Io)(t.startPx,e.pixel)<this.snapTolerance_)){var n=Sn(e.coordinate,t,this.getMap(),this.snapTolerance_);if(t.targetIndex!==n.index){if(-1!==t.targetIndex){var i=t.targets[t.targetIndex];this.removeTracedCoordinates_(i.startIndex,i.endIndex)}var r=t.targets[n.index];this.addTracedCoordinates_(r,r.startIndex,n.endIndex)}else{var o=t.targets[t.targetIndex];this.addOrRemoveTracedCoordinates_(o,n.endIndex)}t.targetIndex=n.index;var a=t.targets[t.targetIndex];a.endIndex=n.endIndex;var s=Rn(a.coordinates,a.endIndex),l=this.getMap().getPixelFromCoordinate(s);e.coordinate=s,e.pixel=[Math.round(l[0]),Math.round(l[1])]}}},{key:"handleUpEvent",value:function(e){var t=!0;if(0===this.getPointerCount()){this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(e);var n=this.traceState_.active;if(this.toggleTraceState_(e),this.shouldHandle_){var i=!this.finishCoordinate_;i&&this.startDrawing_(e.coordinate),!i&&this.freehand_?this.finishDrawing():this.freehand_||i&&"Point"!==this.mode_||(this.atFinish_(e.pixel,n)?this.finishCondition_(e)&&this.finishDrawing():this.addToDrawing_(e.coordinate)),t=!1}else this.freehand_&&this.abortDrawing()}return!t&&this.stopClick_&&e.preventDefault(),t}},{key:"handlePointerMove_",value:function(e){if(this.pointerType_=e.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var t=this.downPx_,n=e.pixel,i=t[0]-n[0],r=t[1]-n[1],o=i*i+r*r;if(this.shouldHandle_=this.freehand_?o>this.squaredClickTolerance_:o<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?(this.updateTrace_(e),this.modifyDrawing_(e.coordinate)):this.createOrUpdateSketchPoint_(e.coordinate.slice())}},{key:"atFinish_",value:function(e,t){var n=!1;if(this.sketchFeature_){var i=!1,r=[this.finishCoordinate_],o=this.mode_;if("Point"===o)n=!0;else if("Circle"===o)n=2===this.sketchCoords_.length;else if("LineString"===o)i=!t&&this.sketchCoords_.length>this.minPoints_;else if("Polygon"===o){var a=this.sketchCoords_;i=a[0].length>this.minPoints_,r=[a[0][0],a[0][a[0].length-2]],r=t?[a[0][0]]:[a[0][0],a[0][a[0].length-2]]}if(i)for(var s=this.getMap(),l=0,u=r.length;l<u;l++){var c=r[l],h=s.getPixelFromCoordinate(c),d=e[0]-h[0],p=e[1]-h[1],g=this.freehand_?1:this.snapTolerance_;if(n=Math.sqrt(d*d+p*p)<=g,n){this.finishCoordinate_=c;break}}}return n}},{key:"createOrUpdateSketchPoint_",value:function(e){if(this.sketchPoint_){var t=this.sketchPoint_.getGeometry();t.setCoordinates(e)}else this.sketchPoint_=new Pt.A(new zt.A(e)),this.updateSketchFeatures_()}},{key:"createOrUpdateCustomSketchLine_",value:function(e){this.sketchLine_||(this.sketchLine_=new Pt.A);var t=e.getLinearRing(0),n=this.sketchLine_.getGeometry();n?(n.setFlatCoordinates(t.getLayout(),t.getFlatCoordinates()),n.changed()):(n=new gn.A(t.getFlatCoordinates(),t.getLayout()),this.sketchLine_.setGeometry(n))}},{key:"startDrawing_",value:function(e){var t=this.getMap().getView().getProjection(),n=(0,sn.dn)(this.geometryLayout_);while(e.length<n)e.push(0);this.finishCoordinate_=e,"Point"===this.mode_?this.sketchCoords_=e.slice():"Polygon"===this.mode_?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new Pt.A(new gn.A(this.sketchLineCoords_)));var i=this.geometryFunction_(this.sketchCoords_,void 0,t);this.sketchFeature_=new Pt.A,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(i),this.updateSketchFeatures_(),this.dispatchEvent(new _n(An.DRAWSTART,this.sketchFeature_))}},{key:"modifyDrawing_",value:function(e){var t,n,i=this.getMap(),r=this.sketchFeature_.getGeometry(),o=i.getView().getProjection(),a=(0,sn.dn)(this.geometryLayout_);while(e.length<a)e.push(0);if("Point"===this.mode_?n=this.sketchCoords_:"Polygon"===this.mode_?(t=this.sketchCoords_[0],n=t[t.length-1],this.atFinish_(i.getPixelFromCoordinate(e))&&(e=this.finishCoordinate_.slice())):(t=this.sketchCoords_,n=t[t.length-1]),n[0]=e[0],n[1]=e[1],this.geometryFunction_(this.sketchCoords_,r,o),this.sketchPoint_){var s=this.sketchPoint_.getGeometry();s.setCoordinates(e)}if("Polygon"===r.getType()&&"Polygon"!==this.mode_)this.createOrUpdateCustomSketchLine_(r);else if(this.sketchLineCoords_){var l=this.sketchLine_.getGeometry();l.setCoordinates(this.sketchLineCoords_)}this.updateSketchFeatures_()}},{key:"addToDrawing_",value:function(e){var t,n,i=this.sketchFeature_.getGeometry(),r=this.getMap().getView().getProjection(),o=this.mode_;"LineString"===o||"Circle"===o?(this.finishCoordinate_=e.slice(),n=this.sketchCoords_,n.length>=this.maxPoints_&&(this.freehand_?n.pop():t=!0),n.push(e.slice()),this.geometryFunction_(n,i,r)):"Polygon"===o&&(n=this.sketchCoords_[0],n.length>=this.maxPoints_&&(this.freehand_?n.pop():t=!0),n.push(e.slice()),t&&(this.finishCoordinate_=n[0]),this.geometryFunction_(this.sketchCoords_,i,r)),this.createOrUpdateSketchPoint_(e.slice()),this.updateSketchFeatures_(),t&&this.finishDrawing()}},{key:"removeLastPoints_",value:function(e){if(this.sketchFeature_){for(var t=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection(),i=this.mode_,r=0;r<e;++r){var o=void 0;if("LineString"===i||"Circle"===i){if(o=this.sketchCoords_,o.splice(-2,1),o.length>=2){this.finishCoordinate_=o[o.length-2].slice();var a=this.finishCoordinate_.slice();o[o.length-1]=a,this.createOrUpdateSketchPoint_(a)}this.geometryFunction_(o,t,n),"Polygon"===t.getType()&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(t)}else if("Polygon"===i){o=this.sketchCoords_[0],o.splice(-2,1);var s=this.sketchLine_.getGeometry();if(o.length>=2){var l=o[o.length-2].slice();o[o.length-1]=l,this.createOrUpdateSketchPoint_(l)}s.setCoordinates(o),this.geometryFunction_(this.sketchCoords_,t,n)}if(1===o.length){this.abortDrawing();break}}this.updateSketchFeatures_()}}},{key:"removeLastPoint",value:function(){this.removeLastPoints_(1)}},{key:"finishDrawing",value:function(){var e=this.abortDrawing_();if(e){var t=this.sketchCoords_,n=e.getGeometry(),i=this.getMap().getView().getProjection();"LineString"===this.mode_?(t.pop(),this.geometryFunction_(t,n,i)):"Polygon"===this.mode_&&(t[0].pop(),this.geometryFunction_(t,n,i),t=n.getCoordinates()),"MultiPoint"===this.type_?e.setGeometry(new vn.A([t])):"MultiLineString"===this.type_?e.setGeometry(new mn.A([t])):"MultiPolygon"===this.type_&&e.setGeometry(new yn.A([t])),this.dispatchEvent(new _n(An.DRAWEND,e)),this.features_&&this.features_.push(e),this.source_&&this.source_.addFeature(e)}}},{key:"abortDrawing_",value:function(){this.finishCoordinate_=null;var e=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),this.deactivateTrace_(),e}},{key:"abortDrawing",value:function(){var e=this.abortDrawing_();e&&this.dispatchEvent(new _n(An.DRAWABORT,e))}},{key:"appendCoordinates",value:function(e){var t,n=this.mode_,i=!this.sketchFeature_;if(i&&this.startDrawing_(e[0]),"LineString"===n||"Circle"===n)t=this.sketchCoords_;else{if("Polygon"!==n)return;t=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[]}i&&t.shift(),t.pop();for(var r=0;r<e.length;r++)this.addToDrawing_(e[r]);var o=e[e.length-1];this.addToDrawing_(o),this.modifyDrawing_(o)}},{key:"extend",value:function(e){var t=e.getGeometry(),n=t;this.sketchFeature_=e,this.sketchCoords_=n.getCoordinates();var i=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=i.slice(),this.sketchCoords_.push(i.slice()),this.sketchPoint_=new Pt.A(new zt.A(i)),this.updateSketchFeatures_(),this.dispatchEvent(new _n(An.DRAWSTART,this.sketchFeature_))}},{key:"updateSketchFeatures_",value:function(){var e=[];this.sketchFeature_&&e.push(this.sketchFeature_),this.sketchLine_&&e.push(this.sketchLine_),this.sketchPoint_&&e.push(this.sketchPoint_);var t=this.overlay_.getSource();t.clear(!0),t.addFeatures(e)}},{key:"updateState_",value:function(){var e=this.getMap(),t=this.getActive();e&&t||this.abortDrawing(),this.overlay_.setMap(t?e:null)}}])}(Wt.A);function Ln(){var e=(0,Tt.mY)();return function(t,n){return e[t.getGeometry().getType()]}}function Gn(e){switch(e){case"Point":case"MultiPoint":return"Point";case"LineString":case"MultiLineString":return"LineString";case"Polygon":case"MultiPolygon":return"Polygon";case"Circle":return"Circle";default:throw new Error("Invalid type: "+e)}}var On=Tn,Dn=n(9043),Nn=n(3065),Fn={getLogger:function(e){!{NODE_ENV:"production",BASE_URL:"/geoportal-extensions-openlayers-samples/"}.VERBOSE?Nn.disableAll():Nn.enableAll();var t=e||"default";return Nn.getLogger(t)},disableAll:function(){var e=Nn.getLoggers();for(const t in e)if(Object.hasOwnProperty.call(e,t)){const n=e[t];n.disableAll()}},enableAll:function(){var e=Nn.getLoggers();for(const t in e)if(Object.hasOwnProperty.call(e,t)){const n=e[t];n.enableAll()}}},Un=Fn,Bn={proxifyUrl:function(e,t){var n=Un.getLogger("proxifyUrl");if(!t||!t.hasOwnProperty("proxyUrl")||null===t.proxyUrl||0===t.proxyUrl.trim().length)return e;if(t.noProxyDomains&&Array.isArray(t.noProxyDomains)&&t.noProxyDomains.length>0)for(var i in t.noProxyDomains)if(n.trace("[ProxyUtils] proxifyUrl : analyzing "+t.noProxyDomains[i]),-1!==e.indexOf(t.noProxyDomains[i]))return n.info("[ProxyUtils] proxifyUrl : "+e+" found in noProxyDomains list ("+t.noProxyDomains[i]+")."),e;return t.proxyUrl+encodeURIComponent(e)}},jn=Bn,zn=Un.getLogger("GfiUtils"),Wn={getLayerFormat:function(e){var t="function"===typeof e.getType?e.getType():null,n=e.getSource();if(t){if("VECTOR"===t||"VECTOR_TILE"===t)return"vector";if("TILE"===t)return n.tileGrid?"wmts":"wms";if("IMAGE"===t)return"wms"}else{if(n instanceof _t||n instanceof bt)return"wms";if(n instanceof It)return"wmts";if(n instanceof Se.A||n instanceof be)return"vector"}return"unknown"},displayInfo:function(e,t,n,i,r){if(zn.trace("[Gfi] : displayInfo..."),i||(i="text/html"),null!==n){var o=null,a=null,s=n;s=s.replace(/\n/g,""),s=s.replace(/(>)\s*(<)/g,"$1$2");var l="undefined"!==typeof window?window:null;if("object"===typeof exports&&null===window){var u=require("xmldom").DOMParser;a=new u,o=a.parseFromString(s,i)}else if(l.DOMParser)a=new l.DOMParser,o=a.parseFromString(s,i);else{if(!l.ActiveXObject)return zn.log("Incompatible environment for DOM Parser !"),!1;o=new l.ActiveXObject("Microsoft.XMLDOM"),o.async=!1,o.loadXML(s)}var c=o.getElementsByTagName("body");if(c&&1===c.length&&!c[0].hasChildNodes())return!1;var h=document.createElement("div");h.className="gp-feature-info-div";var d=document.createElement("input");d.type="button",d.className="gp-styling-button closer",d.onclick=function(){return e.featuresOverlay&&(e.removeOverlay(e.featuresOverlay),e.featuresOverlay=null),!1};var p=document.createElement("div");return p.className="gp-features-content-div",p.innerHTML=n,h.appendChild(p),h.appendChild(d),e.featuresOverlay&&(e.removeOverlay(e.featuresOverlay),e.featuresOverlay=null),e.featuresOverlay=new m({element:h,autoPan:r.autoPan,autoPanAnimation:r.autoPanAnimation,autoPanMargin:r.autoPanMargin,positioning:"bottom-center",insertFirst:!1,stopEvent:!0}),e.addOverlay(e.featuresOverlay),e.featuresOverlay.setPosition(t),e.featuresOverlay.render(),!0}},features2html:function(e,t){var n=document.createElement("div");return t.forEach((function(e){var t=e.getProperties();if(t.hasOwnProperty("render"))n.insertAdjacentHTML("beforeend",t["render"]);else{if(t.hasOwnProperty("name")){var i=document.createElement("div");i.className="gp-att-name-div",i.insertAdjacentHTML("afterbegin",t["name"]),n.appendChild(i)}if(t.hasOwnProperty("description")){var r=document.createElement("div");r.className="gp-att-description-div",r.insertAdjacentHTML("afterbegin",t["description"]),n.appendChild(r)}var o=null,a=!1,s=null,l=null,u=null,c=["fill","fill-opacity","stroke","stroke-opacity","stroke-width","marker-symbol","marker-color","marker-size","geometry","value","name","description","styleUrl","extensionsNode_","icon"];for(o in t)if(void 0!==t[o]&&-1===c.indexOf(o)){a||(s=document.createElement("div"),s.className="gp-att-others-div",l=document.createElement("ul"),a=!0),u=document.createElement("li");var h=document.createElement("span");h.className="gp-attname-others-span",h.appendChild(document.createTextNode(o+" : ")),u.appendChild(h),u.appendChild(document.createTextNode(t[o])),l.appendChild(u)}l&&(s.appendChild(l),n.appendChild(s))}}),e),n.hasChildNodes()||(n=null),n},layerGetFeatureAtCoordinates:function(e,t,n){var i=e.getPixelFromCoordinate(n);return e.hasFeatureAtPixel(i,(function(e){return e===t}))},displayVectorFeatureInfo:function(e,t,n,i){var r=e.getPixelFromCoordinate(t),o=[];if(e.forEachFeatureAtPixel(r,(function(e,t){(!n||n.indexOf(t)>-1)&&o.push(e)})),0===o.length)return!1;var a=this.features2html(e,o);return null!==a&&(this.displayInfo(e,t,a.innerHTML,"text/html",i),!0)},displayFeatureInfo:function(e,t,n,i,r){for(var o={},a=0;a<n.length;a++){var s=n[a],l=s.obj.getZIndex();o[l]||(o[l]=[]),o[l].push(s)}var u=[],c=Object.keys(o);c.sort((function(e,t){return t-e}));for(var h=!1,d=0;d<c.length;d++)for(var p=c[d],g=0;g<o[p].length;++g){var f=o[p][g].obj,m=o[p][g].infoFormat||"text/html",v=!0;if(f.minResolution&&f.minResolution>e.getResolution()&&(v=!1),v&&f.maxResolution&&f.maxResolution<e.getResolution()&&(v=!1),f.getVisible()&&v){var y=this.getLayerFormat(f);if("vector"===y){!h&&this.layerGetFeatureAtCoordinates(e,f,t)&&u.push({format:y,scope:this,coordinate:t});continue}if("wms"!==y&&"wmts"!==y){zn.log("[ERROR] DisplayFeatureInfo - layer format '"+y+"' not allowed");continue}var A=e.getView().getResolution(),_=null;_="wmts"===y?f.getSource().getFeatureInfoUrl.call(f.getSource(),t,A,e.getView().getProjection(),{INFOFORMAT:m}):f.getSource().getFeatureInfoUrl.call(f.getSource(),t,A,e.getView().getProjection(),{INFO_FORMAT:m}),u.push({format:m,url:jn.proxifyUrl(_,i),scope:this,coordinate:t})}}var C=null;function I(e,t,n){if(0!==e.length){var i=0;t(e[0],r)}function r(o){i++,o||i===e.length?n():t(e[i],r)}}var E=this;I(u,(function(t,n){if("vector"===t.format){if(!C){C=[];for(var i=0;i<c.length;i++)for(var a=c[i],s=0;s<o[a].length;++s)C.push(o[a][s].obj)}n(t.scope.displayVectorFeatureInfo(e,t.coordinate,C,r))}else Dn.Ay.Protocols.XHR.call({url:t.url,method:"GET",scope:t.scope,onResponse:function(i){var o=!1;0!==i.trim().length&&-1===i.indexOf("ServiceExceptionReport")&&-1===i.indexOf("java.lang.NullPointerException")&&-1===i.indexOf("java.lang.OutOfMemoryError")&&-1===i.indexOf("not queryable")||(o=!0);var a=!o&&E.displayInfo(e,t.coordinate,i,"text/html",r);n(a)},onFailure:function(e){zn.log(e),n(!1)}})}),(function(){zn.trace("Finish sync to GFI !")}))},getPosition:function(e,t){if(e.coordinate)return e.coordinate;var n=[0,0];if(e.offsetX||e.offsetY)n[0]=e.offsetX,n[1]=e.offsetY;else if("touch"===e.pointerType){var i=e.pointers[0];n[0]=i.pageX,n[1]=i.pageY}var r=t.getCoordinateFromPixel(n);return r},onDisplayFeatureInfo:function(e,t){if(t.isActive()){zn.trace(e);var n=t.getMap();if("contextmenu"===e.type||"dblclick"===e.type)e.preventDefault();else if("singleclick"===e.type)for(var i=n.getInteractions().getArray(),r=0;r<i.length;r++)if(i[r].getActive()&&(i[r]instanceof Ut||i[r]instanceof an||i[r]instanceof On))return;var o={};t._proxyUrl&&(o.proxyUrl=t._proxyUrl),t._noProxyDomains&&(o.noProxyDomains=t._noProxyDomains);var a={};t._autoPan&&(a.autoPan=t._autoPan),t._autoPanAnimation&&(a.autoPanAnimation=t._autoPanAnimation),t._autoPanMargin&&(a.autoPanMargin=t._autoPanMargin);for(var s=[],l=0;l<t._layers.length;++l){var u=t._layers[l].event?t._layers[l].event:t._defaultEvent;if(u===e.type){var c=s.push(t._layers[l])-1;s[c].infoFormat||(s[c].infoFormat=t._defaultInfoFormat)}}var h=this.getPosition(e,n);this.displayFeatureInfo(n,h,s,o,a)}}},Vn=Wn;window.ol&&(window.ol.gp?window.ol.gp.GfiUtils=Wn:window.ol.gp={GfiUtils:Wn});var Yn=n(6993),Hn={detectSupport:function(){var e=!0,t=window.navigator.userAgent.toLowerCase();return-1===t.indexOf("iphone")&&-1===t.indexOf("ipod")&&-1===t.indexOf("ipad")&&-1===t.indexOf("android")&&-1===t.indexOf("mobile")&&-1===t.indexOf("blackberry")&&-1===t.indexOf("tablet")&&-1===t.indexOf("phone")&&-1===t.indexOf("touch")||(e=!1),-1===t.indexOf("msie")&&-1===t.indexOf("trident")||(e=!0),e},assign:function(e,t){for(var n in e=e||{},t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},mergeParams:function(e,t,n){if(e&&t)for(var i in"undefined"===typeof n&&(n=!0),t)t.hasOwnProperty(i)&&("object"===typeof t[i]?e.hasOwnProperty(i)?this.mergeParams(e[i],t[i],n):e[i]=t[i]:e.hasOwnProperty(i)?n&&(e[i]=t[i]):e[i]=t[i])}},qn=Hn,Xn=Un.getLogger("interactions"),Zn={_extensions:["Measures","ElevationPath","Drawing"],_options:{current:null,clean:null},unset:function(e,t){Xn.trace("unset()");var n={};qn.mergeParams(n,this._options),qn.mergeParams(n,t);for(var i=e.getInteractions().getArray(),r=0;r<i.length;r++)if(i[r].getActive()&&(i[r]instanceof On||i[r]instanceof Ut||i[r]instanceof an)){var o=i[r].getProperties(),a=o.name;if("undefined"!==typeof a&&this._extensions.indexOf(a)>-1){if(n.current&&n.current===a)continue;i[r].setActive(!1);var s=o.source;if("undefined"!==typeof s&&s instanceof Yn.A)for(var l in n)if(n.hasOwnProperty(l)){if("current"===l)continue;if("function"===typeof s[l]){var u=Array.isArray(n[l])?n[l]:[n[l]];s[l].apply(s,u)}}}else i[r].setActive(!1)}}},Kn=Zn,Jn={lightOrange:"data:image/png;base64,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IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOjkyYWVkNjM2LWY3MDMtNDAzOC1hNzM4LWZiYzYxYzZlMTljNCIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5NWMzZWI3NC0zYWRmLTRkYzUtOWZjZS1iODQ4NTc3Nzg4ODQiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0NjI3ZDg3NC1lZDIyLTRiZTUtYTlkNS00NDlmMzVhZDIxYzgiCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJMaW51eCIKICAgR0lNUDpUaW1lU3RhbXA9IjE2ODQ5NDE5Mjc4OTUzMDYiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4zMCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphM2U3ZWQ1MS0xNTI4LTRhYjAtODVjOS0zNzNkNzgxZGM2ZmMiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoTGludXgpIgogICAgICBzdEV2dDp3aGVuPSIyMDIzLTA1LTI0VDE3OjI1OjI3KzAyOjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PofUkY4AAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfnBRgPGRuA4VZTAAAFcElEQVRYw82YW2xbVRaGv7XP8bHjXByHQkNhWigdVX1AikRBMBoQ8wASl4fRqPDAAxIPKAVxeRqQRohHBEVCaoGKUBCl4qHcNKCZVKMRRQxtgTaACLRKqlwB14NzM2ni2D2XvXjgBFXQOnFiA1uy/HB89u9/7bX+vf4l1HnpK57hTNCE0AzqAS5gAAuEID5KiWSiLPf4tp7YUjcSu4yLZzdi2IJyNXANcBlwAdAKzAHTwDhwDKEPywC+GZWHbPi7IKOvZIWguAnlr8BtwJ+AxDJeDYCPgF6Ed0hkh+Weov5mZLTHJMDeBjwYk0itYJtKTOpZML3SbYNfnYz2SBr0buARYENcFytdFvga2AGyT7p14Vcjoz3ShOgdKDuAi+pUewpMIDyCypvSreWGk9HdroOEV2F4A1hfTxGJCX2D5U7U/UzuD6NaXq49NRJhBsOjwMVLEtE4gaL4W5cV3IsxPEoizDT0ZLTHcSH6M/BWLLlVwpQKuPzhb+i8sRkv04Y/e5rvPigxtnM9trKU2k0D28A5LN3RsmXbrbFOU8DtQLpqfJqu97nh6TydmzvwWpOI8VDbxqbrkmz62yk+/Ps6yoe8KkeV/hHHfgrMNyrNEkBX1SAktgRs3T7ApV1rSWayiEkDLmLSJDNZLu1ay9btAyS2BEsEuWuZ99WKyRhgHeCcn8wGw/qbOnAS3jmfOwmP9Td1kNhQDduJcUwjyciS0RJXMMkWkPPUo/z4XFxZRhZII8mEwFCsT+f5xXTE7FAOteduItVaZodyhNPVZDeKccJGkxmsChIMOvTt6aRSzIP+7A9rRKWYp29PJ8GgsyqcVauZSADaj+IDTecWvBlD4e01HKjM07XtOOuuy+A2X0BYmib/8SxfvLWRYm8LdqZaCvkI/SDBci6nld0ze7KCLa4F3gSurR4MB5x1FnMhiCeor9hJiPKmWpbGp3EU2IbJFuTe5XfStbczLxgP7K0IPcCFDWhnJoFuMAek2/oNbWdku/WxHATejT1JPZcPvINysFYiK+gAFkXTK6H+MyhXADeseJ9fmrVDM6X080/+p1M2/yFsD1zjEIauEeMAqNpQE16oaKiqwfjYeLk+fuYl10HDq7DsBTavxs8o6FzFKez/dM3rLx9LjUyVxcb7yVkfzmpXFbACJURHIxgyxkyu1ml6qL0Z4YX4xl7Jfrrgm9Ov9bX/e++x1tHCgkQ11lgELGA4sBp3iHRbH5GDwJPAFLXo6KJnDmTh/aG2w2/3t47VSGQxs1zAE9U2s9pEjx3hXuBloCa7G1rxv8o3f/7SkUz/UFFWMqGRWMpHAqsDbl00KGotIXM7MawF7gKSS5oJJRospI7v+rD96Ikp8aV2EgrkVPW4OnIy6SVL9ZubvZgyaOVyYDfwl2oNqVWiXNEb231oTe+/BrzvK9Gy01MFyoiOKzIEmqsEfjGf/39U1yHgosJFUXhlFMl+z9E/nkvhVNHZsjux+9Caf77RnyzMBaJLmW4RrWAlB3Y4Uh13HLOA4wQjo6O2IRPNxVV4JuG5Et2SSelzjtFLzsZQ0NIZ8/2rx7K9+/paxqbKvyh4Bc4AFQxzau23Dow7FS+nHmfEUz05OqINH8+evXJPJVOuE93XkY4eSziaXcQpB2b+vZNt7+/8IPPl2OxPRMJ4dDsLzIho3hpzamJ6aqJ0ei6qtZAasmZ2OS1RyOMd6egBIzSFVoKj4y1Hnvhv+8cD02ZOkEmgIKITVnXKWDs1ksvNrgbTbRSZ46cypY50aWcllIsyKXvr8GTyi9f6WvePFGVQhO8EPW2NzI+OfV2pF2bDTgbg8D/aJeVUspd1BK3/G24u7/skO3+iYP3h3LdhI/B+AGodUpo8WKwoAAAAAElFTkSuQmCC",darkOrange:"data:image/png;base64,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czpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOjIxNDZjMzUzLWIxZjItNGVjOC04NzQ3LTIwMGEyYWExM2ViMyIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2NGViNmI2Ni03Y2I2LTRkZGUtYTI3OS01MGY0ZWFiZGFhODAiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1ODRhM2VjZC1kNGFmLTQ3NjItYjA1ZS04ODk2MGQ4ZTk0Y2MiCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJMaW51eCIKICAgR0lNUDpUaW1lU3RhbXA9IjE2ODQ5NDE5MDM3ODI2MTQiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4zMCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDoxYzNjOGRkZi1kMjVkLTQ4YzQtYTAwYS0yMmU3ZDYwMzg1YjYiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoTGludXgpIgogICAgICBzdEV2dDp3aGVuPSIyMDIzLTA1LTI0VDE3OjI1OjAzKzAyOjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PuhCAHgAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfnBRgPGQOTjc4FAAAFdklEQVRYw82YW2gcZRTHf+eb2dlkc9lsrFYr2notfSgWxKKiog8VvIFI9UFQEaWtYPFJfREfRRSEeqlttViLD/WGisYXrShWpfWC1WpSN5eN3cZumkuTzWY3c/mOD9lI0WSTTXbVA8M8zMz3n//5zvl/5xyhxqb3ewYvaERpAvUAFzCABUIQH6GAHyvKa76tJbbUjMRW4+LbC7GsQbgCWA+sAs4AWoA8MAxkgEMo32LoxDO98oIN/xdk9IGUYEYvRrgduAW4Gogt4NMA+BroQHkfm+qW3aP6n5HRTSYG9hZga5lEwyKWKZVJvQCmQ3bZ4F8no5skAXov8BiwspwXizUL9APPgOyVXTr5r5HRzdKI1TsRngHOqlHuKTCI8hhG3padWqw7GX3IddDwcixvAefXUkTKhH7HcBfifi8vh1E1H1cfGkGYxPI4cM68RGw5zf3y3S7IuedgeZwgTNZ1Z3Sz46LRNcA7Zcmd25yGgPWP/M7q65toTLZSHBvn6OcFDm07n6g0n9oNAxsR54DsjBYs2251QWAbgFuBREX/tF3rc9+zA6xa3U5jSxwxHmpbueyqOOvvOM7rj67g1JfedFTNagngVtR+B0zUK8xiwLqKTmhcE3Dblk4uXbecRDKFmATgIiZBIpni0nXLuW1LJ41rgnmcvG6B59WiyRhgBeDM+UZipWHthnbcmDf7b8Y81m5oJ7GyErZTxjH1JCPzesu4ghtvBpkjH2X6uXFlAVEg9SMjhEAamFsyp4Yjcuks1s6uXdZacuksU8OVZDcC0mW8OpFRQqBruvqdwwpdDh+9cjaF0QHQv/2wRhRGB6afdzkVkKZxtDoyVaqZBKCHEXygcXafjhi63l3G9tIEGzYe4ZKrksSbzmCqMEz6mzE+eedC+juaiUYqhZCPchgkqKB4SzxntqQEO7oceBu4srIzHIitsMTOBOMJ1leCkxAMmEpRWt6Vg8BGTConOxZeSVdfzmwxHmpvRtkJnFmHcuYksBkxH8tO69e1nJEd1sdhP/BBuUippfnA+3jsr5ZI9TnzV33mFcB/DuEi4LpFr/PPZu3LkanES08fOltWnxe2Ba5xCEPXiHEAVG2oMS9UNFTVINOXKdamn3nQdSC8HMMeYPVS+hkFzQdObl9m2Zu7+xt6hkKx5fXktGumdNXyZQUKiPZGkDbGnFxqp+kh9kaUHeUTezHr6WRkxt/oa/toT39Lby6QqMoci4BJDB8vpTtEdlkflf3A08AQ1ejoTM8cyeRnudYD72Zb+qokMhNZLuCJaqtZaqDLLi0i7EHYDVTV7oZW/J9PNf3wanfycLoki5nQSFnKewKrnW5NNMhtKRDlt6EsB+4G4vM2/UrUNd5w5Pl028FfiuJL9SQUyKrqEXXkaNyLF2o3N9vUYKB0AbAduKFSQWqVKFv0+rYfXdbx4aB3qqQLDk8VKCKaUSQNmi0F/ujAwB9RTYeAMwoXabg2QvZ5jl4ym8Ip6FjgDm7/bdl7bw3Ec/lItEJyWyAS0RJWsmC7I9WM45hJHCfo6e21dZlozlju3pjnSnRT0tMXHdFzT8dQ0EJoTr2eSXXs7W/uG/pnwiswBZQw5NXaYw5knJKXVY8p8VSP9vZo3cezp1v2nniDK9FD7V70RMxoaganGJmJT0+0frbtt+RPfVN/EQnLo9sxYEREB6wxxweHhwYL4/mo2kSqi43c5zRH8GS7Fz1shMZQJTg41PzVU7+2fdNZNHlBTgI5ER20qkPG2qGebHZsSTpULzJH8slCe6ywrWTlrGTM3tw9Ef/xjUzLvp6idIlwQtBxa2Sit6+/VCvMuu0MwIE726RBSqlViaDli6Gm4t6e1MQveet3Z4+F9cD7Ewo4WRJBbaaSAAAAAElFTkSuQmCC",red:"data:image/png;base64,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293bv2fa/f0ASM5yljz/NiUAAA0aaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOmI5YjA2YTAwLWZkOTQtNDc5MC1hNzIzLTlkMGUwNGRiNTRlNyIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1MTQ3ZGU5Yi1kOTA0LTRlNWYtYjIyYy0wZmMzOGRmMWI3ZGEiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4YzBjNTI2YS1lYTkyLTQxYWItODM5Yy05OWFhYTM0YjdlYzciCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJMaW51eCIKICAgR0lNUDpUaW1lU3RhbXA9IjE2ODQ5NDE2NDAxNTU0MjYiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4zMCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowMjQ4MDc5ZS1kMTYyLTQxZmItOGViYS1lMzY2NTRiNGRjMjYiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoTGludXgpIgogICAgICBzdEV2dDp3aGVuPSIyMDIzLTA1LTI0VDE3OjIwOjQwKzAyOjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PkaovgIAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfnBRgPFCiKn0kIAAAFfUlEQVRYw82YTWxc1RXHf+e+N2/GH+Px2IEEV02AgqIsIkwgoYS2ahepVGCBUOiCRRdsAAnECthErBBCICGFj4gqRQqBRSABUrVm1URtCSATJ5ASZCPHH0kGgx1/xJl5nvH7uIcFY4iIM/GzZyhHenqL994993/u+f/fOUeos+nNnkHCJoQWRD0UFzCARYhQCVB8NFWWTwNbT99SNxC3GZfIXg9sADYDWxCuRekEskARYQplFPgEOAr045ph6bXRzwKM3pEX5mduQLkHuAvYCqSW8GkIfAT0IBwknT8lH87o/w2M3mpSqL0LeLQKIrOMZSpVUC8hpkf6bPiTg9FbpBn0L8ATwLoqL5ZrFjgNPAeyV47p3E8GRjdLE6r3oTwHXF0n7ikwgfAEIvvlqJYbDkY3uw4a3YLyNrC2niJSBXQG4c+Ie0yORnGSj5OnRhzlUJ4ErrkikBAoAjPVe7ik4F6D8iRxlGvoyegmx4X4NwgHgM6a8fUyIfc8doZbf99Ca66N0uwF+v7tc3DnWoJK6gqep1C2g3NEjsdLlm03GXSbAe4GmmvGZ91vA3Y8P8aN6ztoyaYxxsPaNrbcnmbbvV/x9ONdnPnA+w71otaMcDfYPqDUmDQTUgjdNYPQsSHkgYf62di9mmwujzHNgIsxzWRzeTZ2r+aBh/rp2BDWDLLQjSzpf7VMMIpB6QKcy77Tuc6wdVsHbspbfJspj63bOuhcV8u3g9KFJtufWQbHakfLdQUv3YrI4qwQ+e65616Jr6mknE4KJgIGgctLZnEq5vRgAWsXLyKttZweLFCcqiW7cdVP1DgwQoQwUNPJxIDDG7vXMDszBvqjDWvM7MwYb+xew8SAUzNowgCSDEwyNVMJQU8AAdC06DvBtOG/76xirlLi3u0nufn2HJmWTir+FJ9+PMu7B66nr6eVYLpWCgUoJ0DCGoq3wv/MbXkhmlkN7Ad+XTMY4kBTl6XlKnA8IQ4U/xyUx8wlB3ZpKvcC23Hz49K79Ep6GeWM8VB7J8pfgasaUM6cAx5EzPvSZ4OGljNy1AYIh4C/L6lASWYBcBCHQ0mBJOfM94rk+WjwAsKvgN8te51LK7kPpm3zK89OrZH1v4zaQ9c4RJFrxDgAqjbSlBcpGqlqODoyWq5TP1OtnoU9wPqV9DMKWlRnfJ+/6q3XKpmhSRVbXU8uuhb6Hq1eVsBHdDiGQWPMuZV1mpuMB/aPCK8CXcsMjs6pufCm3/7PPZXs8LhKnJBjMTCH4f2VdIfIcRsgcgh4FpgkiY4u9Mwqc4fn2468M58dSQhkIbNcwBPVNrPSRJdjWgb2AK8BidrdSCX4PGw5/re53IlBK8uZ0EhVyodCq/1uXTTIzfrExZ0oq4H7gfQSmv54IMqcfNFv7/0ilkCSg1CgoKon1ZEv017ar9/cbEvGEFeuQ9mF8IdaBamFuBB7I7tKq3r+EXjnK0tPTxUoIzqqyCBooRIGM2NjX8d1HQIuKFys0cYY2eeJ3riYwinorHUndvmr3nt7Pj1eVNEa5LZALKIVrBTAnopVRx3HzOE44dDwsG3IRHPBxrtTnkv8p5yjLzvoLy72oaC+mvOvz+V79pZbRyYvJbwC80AFQ1GtPevAqFPxCuoxL57ql8ND2vDx7MVW2JTOuMQPdxDvSInmF/yU1ZT+Nd92eGcp97+RH4BE1XHHLDAtomPWmK8mpiYn/AvFOCmRGmLTm53WOOKpDhM/YqApQsLe+dYPnym1f9xvTVGQc8C4iE5Y1Ulj7eRQoTC7Ih1qFJiTQc7vwN9ZUbk6Z+ydp6L0Z2+Ws/uGrAyI8I2gF6yR0vDI6Uq9fDbsZACO3NQuGa3kr3XC7H+ClvJeP1/6IrbBqbNno0b4+xbMlmARngcRbAAAAABJRU5ErkJggg==",turquoiseBlue:"data:image/png;base64,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/MUi8H5G35QHBm+BvjV3bu1znD4AWZpV+gY4OARGS5S97vHu3u65/XunPb8fN2tyj8UDOK0AAA0aaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOjEwNGNlNWFhLTE1YzctNGI4Yi1iOGU1LTFmYWQyNWFiYzBhZCIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpkNDMyZTY1Zi0xOThhLTQxM2EtYWYyMy1jNzhlNzczNGRlN2QiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoyNzExODVkMi03MWZiLTRhZDMtYTJmMi1iNjM3OWU3MDc1OTEiCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJMaW51eCIKICAgR0lNUDpUaW1lU3RhbXA9IjE2ODQ5NDE4NjYyMzgzMjQiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4zMCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo1NGFiYzNkYS1lZWJiLTRlZjctYjdjNS04ZDRjODY5OGVjODMiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoTGludXgpIgogICAgICBzdEV2dDp3aGVuPSIyMDIzLTA1LTI0VDE3OjI0OjI2KzAyOjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/Pj0tlUwAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfnBRgPGBru/VeEAAAABmJLR0QA/wD/AP+gvaeTAAAFO0lEQVRYw9WYe2xTVRzHTx97dYS5B1UHa+/tY12dDoOKWyIGlfgHkCkSNTHGwHxA3NiAP/A5x4CMKEzdYL29YyAyBxKQZbI+NvYIaowaH9Ogi2GRbGjcFrbBNrq2a2/9nq5LCFnbbfSOeZJPTs/t6Tm/7/39zu+cU0IiXc7WSImNX0BsZiVYAhigmah5tHklsZrjSYtJSuZtaeSiiJU3gHUwfC9oARfBIHBP1DzaPH1eRuzmp0E6aTgSNX9EWMwSvOkMGPgG+CpguG8a0H7nA78zkMYqye0V0lYXDSHrYUw7cE5TxM04/b+38+vJ+RPRt0eIjVeAAhhyCQizFDKJEBjndaCY49Di4+CRlzFxfwSE3Ciol9i4DSBujoRUy7HIszFxdwSF3CioBy8qm1g5ufhirHwyJqwHrrDGWTlg8hFL1URN2+EF0XFPkyYuSWwhUVgnT2CygXBG3dFcM7bz1/au1u7OK9/93eWidUlHe1dCc810EsUAsXOPQZCI3rGZ6Wb4EXAEM0SCUFnZduz6T/09l4bHXYOCz+f0+XxeWg+7XYM/4vnKtlqHJHSIOrAHlYMFYmawRNCKycaDGZLVfMRdf/nPDpfXM+abotDnpy93dtzXfNgdZg+im2uimJ6h66UTeIMZsrat1jvkdPRRb/imLt4hl6N3DfqFEIPvOMzDJYspJsWfbUKEyFNttcKoyzkKo4UgYoRRt3OE9guT1br984nsmQ7gCWbIipaj4xeu9v/hFQTPlG7B89+u9v9O+4UQQ8f/BSlaVM8kgBOhji4p9mpvwQ+Wfwddjp6bQw2u8g44HT3535/tTUa/0Eccvg4sFDE1m2PBZkx2LVRqVcLQvG/PDDX1/tVxze38x+UZH6O1He28b764qgwtxOcf327eBGLFE9NikiD3qzDZhVBJgCJH3KubDnkfbD4s5Jw74qM1bcvDnxq8/vHt1SrS9InIJ2m7OQ4UYsKhCB9lJqHj0gPsHJzPvsS9w8rRRPDptI40M8PlH9fOJ5M5K008rsZmIwi5gc4QN9Zja8zn+5epch9PTFepU1iGuVunVqeyS9g0iv8zy96l0WiSjIsXx28iJEJhaONkMGB5YP14bkmI1SzIz1T0pRa9VKnNzCjUMcwWUAS2BtgWYLJN+xTo1OyrOhW7xsAwqnSGkd3i+uGjkT5Xw6DLt3AdEKQNB4YXbdtwQpuVuRtG7pwhxWA7vJgRib0nDuSDvtkIkjYcHE3aVWjRLL9/zyyETPK2Vq3OidAaOhiPDLcbxo3MRIik0eReWPnO15pHHiqbpYhS6hkNw7wAz0To6GM5hAzH3wkDa6b7x4bEwnkUfMnP6idX7Nex7GxElIDNerV6hU6jSdbp9RHck2w0w/FaGGoJm7KtnCfmWNlF1fOrK3Q6bekMRFABO7QM8yxewFLUi+5JSxPpAmcxy0gjt1Rytir4NcHKCfJTH/al5j1j1hr0pWEML55YD+x2GP6cVqNZZjQYEvUsG4vP4v8jKju5L1p6qnytxGKa6qogyOorBpVbXvxMe69xdxABb9I0DAGvIIRWp7NsBsJIoWVZKfaXuf+jMKp2b6z8+Adb4aErNwpCCh5J2pnfoH0ga08g7invBfaQjXjjuQifhyEgLdNolJP5UqR17y+QnSwvk1i565OZK6F8RzubvWwvDH8LvKZnmHXY8HKws+sNLJtI5muJ/7hYElOzJ1V+fN9R7CVDClPJOVXuqo06vS4HQjTwgDKDZRXk/1JiD7wrieFLk6T1lczCXUVK7aPZinS9XrTw+Q+Tql7SUmvGuQAAAABJRU5ErkJggg==",defaultOffset:[-25.5,-32]},Qn=Jn,$n=n(8616),ei=n(5274),ti=n(7379),ni=n(5782),ii=n(8343),ri=n(6121),oi={hex:function(e){if(e>255)throw new Error("'"+e+"'' is greater than 255(0xff);");var t=Number(e).toString(16);return("0"+t).slice(-2)},num:function(e){return parseInt(e,16)},arrayToRgba:function(e){if(!Array.isArray(e))throw new Error("Not an array !");var t=e[0],n=e[1],i=e[2],r=e[3]||1,o="rgba("+t+", "+n+", "+i+", "+parseFloat(r)+")";return o},arrayToHex:function(e){if(!Array.isArray(e))throw new Error("Not an array !");var t=e[0],n=e[1],i=e[2],r=e[3],o=[this.hex(t),this.hex(n),this.hex(i)],a={};return a.hex="#"+o.join(""),r&&(a.opacity=parseFloat(r)),a},rgbaToHex:function(e){var t=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(0?.?\d+)\s*)?\)/,n=t.exec(e);if(!n)throw new Error("Invalid format: "+e);var i=n[1],r=n[2],o=n[3],a=n[4],s=[this.hex(i),this.hex(r),this.hex(o)],l={};return l.hex="#"+s.join(""),a&&(l.opacity=parseFloat(a)),l},hexToRgba:function(e,t){var n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;if(!e)throw new Error("Invalid format");e=e.replace(n,(function(e,t,n,i){return t+t+n+n+i+i}));var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);i=i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null;var r=i?"rgba("+i.r+", "+i.g+", "+i.b+", "+t+")":null;return r},isHex:function(e){if(!e)return!1;if("#"!==e.charAt(0))return!1;var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,n=t.exec(e);return!!n},isRGB:function(e){if(!e)return!1;var t=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(0?.?\d+)\s*)?\)/,n=t.exec(e);return!!n}},ai=oi,si=Un.getLogger("styling");Pt.A.prototype.setPropertyFill=function(){var e=this.getStyle();if(e&&(!Array.isArray(e)||0!==e.length)){var t=e.getFill();if(t){var n=t.getColor();if(Array.isArray(n)){var i="rgba(";i+=n[0]+",",i+=n[1]+",",i+=n[2]+",",i+=n[3]+")",n=i}if(ai.isRGB(n)){var r=ai.rgbaToHex(n);this.set("fill",r.hex),this.set("fill-opacity",r.opacity)}else this.set("fill",n),this.set("fill-opacity",1)}}},Pt.A.prototype.setPropertyStroke=function(){var e=this.getStyle();if(e&&(!Array.isArray(e)||0!==e.length)){var t=e.getStroke();if(t){var n=t.getColor();if(Array.isArray(n)){var i="rgba(";i+=n[0]+",",i+=n[1]+",",i+=n[2]+",",i+=n[3]+")",n=i}if(ai.isRGB(n)){var r=ai.rgbaToHex(n);this.set("stroke",r.hex),this.set("stroke-opacity",r.opacity)}else this.set("stroke",n),this.set("stroke-opacity",1);this.set("stroke-width",t.getWidth())}}},Pt.A.prototype.setPropertyLabel=function(){var e=this.getStyle();if(e&&(!Array.isArray(e)||0!==e.length)){var t=void 0!==this.get("name"),n=e.getText();if(n&&t){var i=e.getText().getFill();if(i){var r=i.getColor();if(Array.isArray(r)){var o="rgba(";o+=r[0]+",",o+=r[1]+",",o+=r[2]+",",o+=r[3]+")",r=o}if(ai.isRGB(r)){var a=ai.rgbaToHex(r);this.set("label-fill",a.hex),this.set("label-fill-opacity",a.opacity)}else this.set("label-fill",r),this.set("label-fill-opacity",1)}var s=e.getText().getStroke();if(s){var l=s.getColor();if(Array.isArray(l)){var u="rgba(";u+=l[0]+",",u+=l[1]+",",u+=l[2]+",",u+=l[3]+")",l=u}if(ai.isRGB(l)){var c=ai.rgbaToHex(l);this.set("label-stroke",c.hex),this.set("label-stroke-opacity",c.opacity)}else this.set("label-stroke",l),this.set("label-stroke-opacity",1);this.set("label-stroke-width",s.getWidth())}this.set("label-font",e.getText().getFont()||li.DEFAULT_TEXT.font),this.set("label-textAlign",e.getText().getTextAlign()||li.DEFAULT_TEXT.textAlign)}}},Pt.A.prototype.setPropertyMarker=function(){var e=this.getStyle();if(e&&(!Array.isArray(e)||0!==e.length)){var t=e.getImage();if(t)if(t instanceof ti.A){var n=t.getColor();if(Array.isArray(n)){var i="rgba(";i+=n[0]+",",i+=n[1]+",",i+=n[2]+",",i+=n[3]+")",n=i}if(n){var r=ai.rgbaToHex(n);this.set("marker-color",r.hex)}var o=t.getScale();switch(Math.round(2*o)/2){case 0:case.5:this.set("marker-size","small");break;case 1:this.set("marker-size","medium");break;case 1.5:case 2:this.set("marker-size","large");break;default:break}var a=t.getSrc();a&&this.set("marker-symbol",a),this.unset("circle-fill"),this.unset("circle-fill-opacity"),this.unset("circle-stroke"),this.unset("circle-stroke-width"),this.unset("circle-stroke-opacity"),this.unset("circle-radius")}else{var s=t.getFill();if(s){var l=s.getColor();if(Array.isArray(l)){var u="rgba(";u+=l[0]+",",u+=l[1]+",",u+=l[2]+",",u+=l[3]+")",l=u}if(ai.isRGB(l)){var c=ai.rgbaToHex(l);this.set("circle-fill",c.hex),this.set("circle-fill-opacity",c.opacity)}else this.set("circle-fill",l),this.set("circle-fill-opacity",1)}var h=t.getStroke();if(h){var d=h.getColor();if(Array.isArray(d)){var p="rgba(";p+=d[0]+",",p+=d[1]+",",p+=d[2]+",",p+=d[3]+")",d=p}if(ai.isRGB(d)){var g=ai.rgbaToHex(d);this.set("circle-stroke",g.hex),this.set("circle-stroke-opacity",g.opacity)}else this.set("circle-stroke",d),this.set("circle-stroke-opacity",1);this.set("circle-stroke-width",h.getWidth())}var f=t.getRadius();this.set("circle-radius",f)}}};var li={APPLY_CONVERT_GEOM_GPX:!0,DEFAULT_ICON:{src:Qn["lightOrange"],anchor:[.5,1],scale:1},DEFAULT_CIRCLE:{radius:10,fill:{opacity:1,color:[0,0,0,1]},stroke:{width:1,opacity:1,color:[0,0,0,1]}},DEFAULT_STROKE:{width:5,opacity:1,color:[250,250,250,1]},DEFAULT_FILL:{opacity:1,color:[0,0,0,1]},DEFAULT_TEXT:{font:"16px sans",textAlign:"left",stroke:{color:[250,250,250,1],width:5,opactity:1},fill:{opacity:1,color:[0,0,0,1]}},getListTags:function(){return["type","fill","fill-opacity","stroke","stroke-opacity","stroke-width","circle-fill","circle-fill-opacity","circle-stroke","circle-stroke-opacity","circle-stroke-width","circle-radius","marker-symbol","marker-color","marker-size","label-fill","label-fill-opacity","label-stroke","label-stroke-width","label-stroke-opacity","label-font","label-textAlign"]},defineStyleFromProperties:function(e){var t=null,n={},i=null;if(e.get("marker-color")||e.get("marker-size")||e.get("marker-symbol")){i={},i["src"]=this.DEFAULT_ICON.src,i["anchor"]=this.DEFAULT_ICON.anchor;var r=e.get("marker-symbol");r&&-1!==r.search("data:image/png;base64")&&(i["src"]=r);var o=e.get("marker-color");ai.isHex(o)&&(i["color"]=ai.hexToRgba(o,1));var a=e.get("marker-size");if(a)switch(a){case"small":i["scale"]=.5;break;case"medium":i["scale"]=1;break;case"large":i["scale"]=1.5;break;default:i["scale"]=this.DEFAULT_ICON.scale;break}}var s=null;(e.get("stroke")||e.get("stroke-opacity")||e.get("stroke-width"))&&(s={},s["color"]=ai.hexToRgba(e.get("stroke"),+e.get("stroke-opacity")||this.DEFAULT_STROKE.opacity),s["width"]=+e.get("stroke-width")||this.DEFAULT_STROKE.width);var l=null;(e.get("fill")||e.get("fill-opacity"))&&(l={},l["color"]=ai.hexToRgba(e.get("fill"),+e.get("fill-opacity")||this.DEFAULT_FILL.opacity));var u=null,c=null,h=""!==e.get("name");h&&((e.get("label-fill")||e.get("label-fill-opacity"))&&(c={},c["color"]=ai.hexToRgba(e.get("label-fill"),+e.get("label-fill-opacity")||this.DEFAULT_TEXT.fill.opacity)),(e.get("label-stroke")||e.get("label-stroke-opacity")||e.get("label-stroke-width"))&&(u={},u["color"]=ai.hexToRgba(e.get("label-stroke"),+e.get("label-stroke-opacity")||this.DEFAULT_TEXT.stroke.opacity),u["width"]=+e.get("label-stroke-width")||this.DEFAULT_TEXT.stroke.width));var d=e.get("circle-radius")||this.DEFAULT_CIRCLE.radius,p=null;(e.get("circle-stroke")||e.get("circle-stroke-opacity")||e.get("circle-stroke-width"))&&(p={},p["color"]=ai.hexToRgba(e.get("circle-stroke"),+e.get("circle-stroke-opacity")||this.DEFAULT_CIRCLE.stroke.opacity),p["width"]=+e.get("circle-stroke-width")||this.DEFAULT_CIRCLE.stroke.width);var g=null;(e.get("circle-fill")||e.get("circle-fill-opacity"))&&(g={},g["color"]=ai.hexToRgba(e.get("circle-fill"),+e.get("circle-fill-opacity")||this.DEFAULT_CIRCLE.fill.opacity));var f=e.getGeometry().getType();switch(f){case"Circle":case"Point":case"MultiPoint":var m=!1,v={};if(p&&(v["stroke"]=new ni.A(p)),g&&(v["fill"]=new ii.A(g)),0!==Object.keys(v).length&&(m=!0,v["radius"]=+d,n["image"]=new ei.A(v)),i&&(n["image"]=new ti.A(i)),h){var y={};if(u&&(y["stroke"]=new ni.A(u)),c&&(y["fill"]=new ii.A(c)),0!==Object.keys(y).length)y["text"]=e.get("name"),y["textAlign"]=e.get("label-textAlign")||this.DEFAULT_TEXT.textAlign,y["font"]=e.get("label-font")||this.DEFAULT_TEXT.font,n["text"]=new ri.A(Object.assign({},this.DEFAULT_TEXT,y));else if(i||m){var A=new ri.A(Object.assign({},this.DEFAULT_TEXT,{fill:new ii.A(this.DEFAULT_TEXT.fill),stroke:new ni.A(this.DEFAULT_TEXT.stroke)}));if(A){var _=A.clone();_.setText(e.get("name")),n["text"]=_}}}break;case"Polygon":case"MultiPolygon":s&&(n["stroke"]=new ni.A(s)),l&&(n["fill"]=new ii.A(l));break;case"LineString":case"MultiLineString":if(s&&(n["stroke"]=new ni.A(s)),this.APPLY_CONVERT_GEOM_GPX&&l){var C=e.get("type");if(C&&("Polygon"===C||"MultiPolygon"===C)){n["fill"]=new ii.A(l);var I=e.clone(),E="LineString"===f?qt.Ay:yn.A;e.setGeometry(new E([I.getGeometry().getCoordinates()]))}}break;default:break}return 0!==Object.keys(n).length&&(t=new Tt.Ay(n)),t},defineStyleFunctionByDefault:function(e){if(!e)return[];if(0===Object.keys(e).length)return[];var t=(t,n)=>{var i=null,r=t.getGeometry().getType();switch(r){case"Point":case"MultiPoint":var o={};if(e.getImage()&&(o["image"]=e.getImage()),e.getText()&&t.get("name")){var a=e.getText().clone();a.setText(t.get("name")),o["text"]=a}i=new Tt.Ay(o);break;case"Circle":var s={},l={};if(e.getFill()&&(l.fill=e.getFill()),e.getStroke()&&(l.stroke=e.getStroke()),e.getText()&&t.get("name")){var u=e.getText().clone();u.setText(t.get("name")),s.text=u}0!==Object.keys(l).length&&(l.radius=3,s.image=new ei.A(l)),i=new Tt.Ay(s);break;case"Polygon":case"MultiPolygon":var c={};e.getFill()&&(c.fill=e.getFill()),e.getStroke()&&(c.stroke=e.getStroke()),i=new Tt.Ay(c);break;case"LineString":case"LinearRing":case"MultiLineString":var h={};e.getStroke()&&(h.stroke=e.getStroke()),i=new Tt.Ay(h);break}return[i]};return t},definePropertiesFromStyleByType:function(e){var t=e.getGeometry().getType();switch(t){case"Point":case"MultiPoint":e.setPropertyMarker(),e.setPropertyLabel();break;case"LineString":case"MultiLineString":e.setPropertyStroke();break;case"Polygon":case"MultiPolygon":e.setPropertyStroke(),e.setPropertyFill();break;default:break}},definePropertiesFromStyle:function(e){var t=e.getStyle()||e.getStyleFunction();if(t){if("function"===typeof t){var n=t.call(this,e,0);if(!n||0===n.length)return;t=Array.isArray(n)?n[0]:n,e.setStyle(t)}this.definePropertiesFromStyleByType(e)}},defineTagFromStyle:function(e,t){return si.trace("todo..."),null}},ui=li,ci=Un.getLogger("parser"),hi={parse:function(e){var t=null,n=null,i="undefined"!==typeof window?window:null;if("object"===typeof exports&&null===window){var r=require("xmldom").DOMParser;n=new r,t=n.parseFromString(e,"text/xml")}else i.DOMParser?(n=new i.DOMParser,t=n.parseFromString(e,"text/xml")):i.ActiveXObject?(t=new i.ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.loadXML(e)):ci.log("Incompatible environment for DOM Parser !");var o=t.querySelector("parsererror");return o?(console.error(o),null):(ci.trace(t),t)},toString:function(e){var t=new XMLSerializer,n=t.serializeToString(e);return ci.trace(n),n},format:function(e){var t=/(>)\s*(<)(\/*)/g,n=/ *(.*) +\n/g,i=/(<.+>)(.+\n)/g;e=e.replace(t,"$1\n$2$3").replace(n,"$1\n").replace(i,"$1\n$2");for(var r="",o=e.split("\n"),a=0,s="other",l={"single->single":0,"single->closing":-1,"single->opening":0,"single->other":0,"closing->single":0,"closing->closing":-1,"closing->opening":0,"closing->other":0,"opening->single":1,"opening->closing":0,"opening->opening":1,"opening->other":1,"other->single":0,"other->closing":-1,"other->opening":0,"other->other":0},u=0;u<o.length;u++){var c=o[u],h=Boolean(c.match(/<.+\/>/)),d=Boolean(c.match(/<\/.+>/)),p=Boolean(c.match(/<[^!].*>/)),g=h?"single":d?"closing":p?"opening":"other",f=s+"->"+g;s=g;var m="";a+=l[f];for(var v=0;v<a;v++)m+="\t";"opening->closing"===f?r=r.substr(0,r.length-1)+c+"\n":r+=m+c+"\n"}return ci.trace(r),r}},di=hi,pi=Un.getLogger("extended KML format"),gi=class e extends $n.Ay{constructor(t){if(super(t),!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return t=t||{},this.source=null,this.extensions=t.extensions||null,t.defaultStyle&&!Array.isArray(t.defaultStyle)&&(t.defaultStyle=[t.defaultStyle]),null!==t.defaultStyle&&"undefined"!==typeof t.defaultStyle||(t.defaultStyle=[]),this}_processKml(e,t,n){for(var i="#document"===e.nodeName?e.childNodes[0].childNodes:e.childNodes,r=i,o=0;o<i.length;o++){const e=i[o];if("Document"===e.nodeName){r=e.childNodes;break}if("Placemark"===e.nodeName){r=[e];break}}for(var a={},s=-1,l=0;l<r.length;l++){var u=r[l];switch(u.nodeName){case"Style":var c=u.attributes[0];if(c&&"id"===c.nodeName){var h=c.nodeValue,d=u;a[h]=d}break;case"Placemark":s++;for(var p=u.childNodes,g=!1,f=!1,m=!1,v=null,y=null,A=null,_=u,C=0;C<p.length;C++)switch(p[C].nodeName){case"Polygon":m=!0;break;case"LineString":f=!0;break;case"Point":g=!0;break;case"Style":y=p[C],v=p[C].childNodes;break;case"styleUrl":var I=p[C].textContent.slice(1);a[I]&&(v=a[I].childNodes);break;case"ExtendedData":A=p[C].childNodes;break;case"name":_=null;break;default:}if(A){pi.log("ExtendedData :",A);var E=n.extendedData;E&&"function"===typeof E&&E(t[s],A)}if(_){pi.log("Name :",_);var w=n.nameData;w&&"function"===typeof w&&w(t[s],_)}if(g&&v&&0!==v.length){for(var b=null,x=null,S=0;S<v.length;S++)switch(v[S].nodeName){case"LabelStyle":b=v[S];break;case"IconStyle":x=v[S];break;default:}var P=t[s].getProperties().name,M=t[s].getProperties().description,k=P||M;if(pi.trace(k),!x&&b){var R=n.labelStyle;R&&"function"===typeof R&&R(t[s],b)}else if(x&&!b){var T=n.iconStyle;T&&"function"===typeof T&&T(t[s],x)}else if(x&&b){var L=n.iconLabelStyle;L&&"function"===typeof L&&L(t[s],x,b)}}else{var G=t[s],O=G.getStyle();if(O&&"function"===typeof O){var D=O.call(this,G,0);D&&0!==D.length&&(O=D[0])}if(m){var N=n.polygonStyle;N&&"function"===typeof N&&N(t[s],v)}if(f){var F=n.lineStringStyle;F&&"function"===typeof F&&F(t[s],v)}if(g&&O){var U=O.getImage();if(U&&U instanceof ei.A){var B=n.circleStyle;B&&"function"===typeof B&&B(t[s],y)}else if(U&&U instanceof ti.A){var j=n.pointStyle;j&&"function"===typeof j&&j(t[s],y)}}}break;default:pi.trace("tag is not processing !")}}}writeFeatures(e,t){pi.log("overload : ol.format.KML.writeFeatures");var n=super.writeFeaturesNode(e,t);if(null===n)return null;this.hasOwnProperty("extensions")&&this._writeRootExtensions(n,this.extensions);var i=this._writeExtendStylesFeatures(n,e,t),r=di.format(i);return""===r?null:r}_writeExtendStylesFeatures(e,t,n){function i(e,t){var n=e.toString(16);"#"===n.charAt(0)&&(n=n.slice(1)),t=t||1,t=parseInt(255*t,10),t=t.toString(16);var i=t;return i+=n.substr(4,2),i+=n.substr(2,2),i+=n.substr(0,2),i.toLowerCase()}var r=function(t,n){if(pi.trace("label with style :",n),t&&t.getStyle()instanceof Tt.Ay){var r=t.getStyle().getText();if(!r)return;var o="Sans",a="16px",s=r.getFont();if(s){var l=s.split(" ",2);a=l[0],o=l[1]}var u=t.getStyle().getText().getStroke();if(!u)return;if(u instanceof ni.A){var c=i("#FFFFFF"),h=u.getColor();if(Array.isArray(h)){var d="rgba(";d+=h[0]+",",d+=h[1]+",",d+=h[2]+",",d+=h[3]+")",h=d}if(ai.isRGB(h)){var p=ai.rgbaToHex(h);c=i(p.hex,p.opacity)}else c=i(h);var g=u.getWidth()||"0",f="1";if(n&&0===n.getElementsByTagName("LabelStyleSimpleExtensionGroup").length){var m=document.createElementNS(e.namespaceURI,"LabelStyleSimpleExtensionGroup");m.setAttribute("fontSize",a),m.setAttribute("fontFamily",o),m.setAttribute("haloColor",c),m.setAttribute("haloRadius",g),m.setAttribute("haloOpacity",f),n.appendChild(m)}}var v=t.getStyle().getImage();if(!v)return;if(v instanceof ei.A){var y=null,A=null;if(v.getStroke()){if(A=v.getStroke().getWidth(),y=v.getStroke().getColor(),Array.isArray(y)){var _="rgba(";_+=y[0]+",",_+=y[1]+",",_+=y[2]+",",_+=y[3]+")",y=_}if(ai.isRGB(y)){var C=ai.rgbaToHex(y);y=i(C.hex,C.opacity)}else y=i(y)}var I=null;if(v.getFill()){if(I=v.getFill().getColor(),Array.isArray(I)){var E="rgba(";E+=I[0]+",",E+=I[1]+",",E+=I[2]+",",E+=I[3]+")",I=E}if(ai.isRGB(I)){var w=ai.rgbaToHex(I);I=i(w.hex,w.opacity)}else I=i(I)}if(n&&0===n.getElementsByTagName("ObjectSimpleExtensionGroup").length){var b=document.createElementNS(e.namespaceURI,"ObjectSimpleExtensionGroup");b.setAttribute("type","circle"),b.setAttribute("radius",v.getRadius()),b.setAttribute("fillColor",I),b.setAttribute("strokeColor",y),b.setAttribute("strokeWidth",A),n.appendChild(b)}}}},o=function(t,n){if(pi.trace("marker with style (hotspot):",n),t&&t.getStyle()instanceof Tt.Ay){var i=t.getStyle().getImage();if(!i)return;if(i instanceof ti.A){var r=0,o=0,a="pixels",s="pixels",l=i.getSize(),u=i.getAnchor();if(u.length&&(r=u[0],o=u[1],o="fraction"===s?1===o?0:1-o:"pixels"===s&&o===l[1]?0:l[1]-o),n&&0===n.getElementsByTagName("hotSpot").length){var c=document.createElementNS(e.namespaceURI,"hotSpot");c.setAttribute("x",r),c.setAttribute("y",o),c.setAttribute("xunits",a),c.setAttribute("yunits",s),n.appendChild(c)}}}},a=function(t,n){if(t&&t.getStyle()instanceof Tt.Ay){var r=t.getStyle().getImage();if(!r)return;if(r instanceof ei.A){var o=null,a=null;if(r.getStroke()){if(a=r.getStroke().getWidth(),o=r.getStroke().getColor(),Array.isArray(o)){var s="rgba(";s+=o[0]+",",s+=o[1]+",",s+=o[2]+",",s+=o[3]+")",o=s}if(ai.isRGB(o)){var l=ai.rgbaToHex(o);o=i(l.hex,l.opacity)}else o=i(o)}var u=null;if(r.getFill()){if(u=r.getFill().getColor(),Array.isArray(u)){var c="rgba(";c+=u[0]+",",c+=u[1]+",",c+=u[2]+",",c+=u[3]+")",u=c}if(ai.isRGB(u)){var h=ai.rgbaToHex(u);u=i(h.hex,h.opacity)}else u=i(u)}if(n&&0===n.getElementsByTagName("ObjectSimpleExtensionGroup").length){var d=document.createElementNS(e.namespaceURI,"LabelStyle"),p=document.createElementNS(e.namespaceURI,"ObjectSimpleExtensionGroup");p.setAttribute("type","circle"),p.setAttribute("radius",r.getRadius()),p.setAttribute("fillColor",u),p.setAttribute("strokeColor",o),p.setAttribute("strokeWidth",a),d.appendChild(p),n.appendChild(d)}}}},s=function(e,t){},l=function(e,t,n){pi.trace("write an icon with a label"),o(e,t),r(e,n)},u=function(e,t){for(var n=0;n<t.length;n++){var i=t[n];if("name"===i.nodeName)return}var r=e.getProperties().name;if(r){var o=document.createElement("name");o.innerHTML=r,t.appendChild(o)}},c=function(e,t){if(t&&t.length){for(var n=[],i=0;i<t.length;i++){const e=t[i];if("Data"===e.nodeName){var r=e.getAttribute("name");ui.getListTags().includes(r)&&n.push(e)}}n&&n.length&&n.forEach((e=>{e.remove()}))}};this._processKml(e,t,{labelStyle:r,iconStyle:o,iconLabelStyle:l,circleStyle:a,pointStyle:s,nameData:u,extendedData:c});var h=di.toString(e);return h||null}_writeRootExtensions(e,t){var n=document.createElementNS(e.namespaceURI,"ExtendedData");for(const a in t)if(Object.hasOwnProperty.call(t,a)){const o=t[a];var i=document.createElementNS(e.namespaceURI,"Data");i.setAttribute("name",a);var r=document.createTextNode(JSON.stringify(o));i.appendChild(r),n.appendChild(i)}var o=e.firstChild;e.insertBefore(n,o)}readFeatures(e,t){pi.log("overload : ol.format.KML.readFeatures"),"string"===typeof e?this.source=di.parse(e):null!==e&&(this.source=e);var n=this._readExtendStylesFeatures(e,t);return pi.trace("Styles étendus",n),n.forEach((e=>{ui.definePropertiesFromStyle(e)})),n}_readExtendStylesFeatures(e,t){var n=super.readFeatures(e,t),i=null,r="";if(r="string"===typeof e?e:e.documentElement.outerHTML,r=r.replace(/\n/g,""),r=r.replace(/(>)\s*(<)/g,"$1$2"),i=di.parse(r),null===i)return n;function o(e){var t="";t+=e.substr(6,2),t+=e.substr(4,2),t+=e.substr(2,2);for(var n=parseInt(t,16).toString(16),i="",r=n.length||0,o=0;o<6-r;o++)i+="0";return n="#"+i+n,n}var a=function(e,t){if(pi.trace("label with style :",t),e){for(var n=e.getProperties().name,i=o("ff000000"),r="#FFFFFF",a=0,s="Sans",l="16px",u=null,c=5,h="#000000",d="#ffffff",p=1,g=!1,f=!1,m=t.childNodes,v=0;v<m.length;v++)switch(m[v].nodeName){case"scale":break;case"colorMode":break;case"color":i=o(m[v].textContent);break;case"LabelStyleSimpleExtensionGroup":g=!0;for(var y=m[v].attributes,A=0;A<y.length;A++)switch(y[A].nodeName){case"fontFamily":s=y[A].nodeValue;break;case"fontSize":l=y[A].nodeValue;break;case"haloColor":r=o(y[A].nodeValue);break;case"haloRadius":a=parseInt(y[A].nodeValue,10);break;case"haloOpacity":break;default:}break;case"ObjectSimpleExtensionGroup":f=!0;for(var _=m[v].attributes,C=0;C<_.length;C++)switch(_[C].nodeName){case"type":u=_[C].nodeValue;break;case"radius":c=parseInt(_[C].nodeValue,10);break;case"fillColor":var I=_[C].nodeValue,E=Math.round(ai.num(I.substr(0,2))/255*10)/10,w=o(I);h=ai.hexToRgba(w,E);break;case"strokeColor":var b=_[C].nodeValue,x=Math.round(ai.num(b.substr(0,2))/255*10)/10,S=o(b);d=ai.hexToRgba(S,x);break;case"strokeWidth":p=parseInt(_[C].nodeValue,10);break;default:}break;default:}var P=null;f&&"circle"===u?P=new ei.A({radius:c,fill:new ii.A({color:h}),stroke:new ni.A({color:d,width:p})}):g&&(P=new ti.A({src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGNiYAAAAAkAAxkR2eQAAAAASUVORK5CYII=",size:[51,38],anchor:[25.5,38],anchorOrigin:"top-left",anchorXUnits:"pixels",anchorYUnits:"pixels"})),e.setStyle(new Tt.Ay({image:P,text:new ri.A({font:l+" "+s,textAlign:"left",text:n,fill:new ii.A({color:i}),stroke:new ni.A({color:r,width:a})})}))}},s=function(e,t){pi.trace("hotspot :",t);for(var n=null,i=null,r=o("ffffffff"),a=!1,s=51,l=38,u=!1,c=25.5,h="pixels",d=38,p="pixels",g=t.childNodes,f=!1,m=0;m<g.length;m++)switch(g[m].nodeName){case"Icon":f=!0;for(var v=g[m].childNodes,y=0;y<v.length;y++)switch(v[y].nodeName){case"href":n=v[y].textContent;break;case"gx:w":a=!0,s=parseFloat(v[y].textContent);break;case"gx:h":a=!0,l=parseFloat(v[y].textContent);break;default:}break;case"hotSpot":u=!0;for(var A=g[m].attributes,_=0;_<A.length;_++)switch(A[_].nodeName){case"x":c=parseFloat(A[_].nodeValue);break;case"y":d=parseFloat(A[_].nodeValue);break;case"yunits":h=A[_].nodeValue;break;case"xunits":p=A[_].nodeValue;break;default:}break;case"scale":i=parseFloat(g[m].textContent);break;case"color":r=o(g[m].textContent);break;default:}var C=null;if(f){var I={src:n||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGNiYAAAAAkAAxkR2eQAAAAASUVORK5CYII=",color:r,crossOrigin:"anonymous",scale:i||1};a&&qn.mergeParams(I,{size:[s,l]}),u&&qn.mergeParams(I,{anchor:[c,d],anchorOrigin:"bottom-left",anchorXUnits:h||"pixels",anchorYUnits:p||"pixels"}),C=new ti.A(I)}var E=e.getStyleFunction();if(E){var w=E(e,0);if(w&&!Array.isArray(w)&&(w=[w]),w&&0!==w.length){var b=1===w.length?w[0]:w[w.length-1];e.setStyle(new Tt.Ay({image:C,text:b.getText()}))}}},l=function(e,t){if(pi.trace("extendData :",t),e){for(var n={},i=e.get("name")||"",r=e.get("description")||"",o=null,a=0;a<t.length;a++){var s=t[a],l=s.attributes[0],u=s.childNodes;if("name"===l.nodeName)switch(l.nodeValue){case"label":i=s.textContent,n.name=i;break;case"title":case"attributetitle":for(var c=0;c<u.length;c++)"value"===u[c].nodeName&&(o=u[c].textContent);break;default:n[l.nodeValue]=s.textContent;break}}o&&(r=r?o+" : "+r:o,n.description=r),Object.keys(n).length&&e.setProperties(n,!0)}},u=function(e,t,n){pi.trace("display icon and label"),a(e,n),s(e,t)},c=function(e,t){};return this._processKml(i,n,{lineStringStyle:c,polygonStyle:c,pointStyle:c,labelStyle:this.showPointNames_?a:null,iconStyle:s,iconLabelStyle:this.showPointNames_?u:s,extendedData:l}),n}readRootExtensions(e){for(var t={},n="#document"===this.source.nodeName?this.source.childNodes[0]:this.source,i=n.childNodes,r=0;r<i.length;r++){var o=i[r];if("ExtendedData"===o.nodeName)for(var a=o.childNodes,s=0;s<a.length;s++){var l=a[s];if("Data"===l.nodeName){var u=l.attributes[0];if(u&&"name"===u.nodeName&&u.nodeValue===e){t=JSON.parse(l.textContent);break}}}}return t}},fi=gi;window.ol&&window.ol.format&&(window.ol.format.KMLExtended=gi);var mi=n(7881),vi=class e extends mi.A{constructor(t){if(super(t),!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");if(this.options=t||{},this.options.readExtensions&&"function"===typeof this.options.readExtensions){var n=this.options.readExtensions;this.options.readExtensions=function(e,t){this.readExtensions(e,t),n.call(this,e,t)}}else this.options.readExtensions=this.readExtensions;return null!==this.options.defaultStyle&&"undefined"!==typeof this.options.defaultStyle||(this.options.defaultStyle={}),this.source=null,this}readFeatures(e,t){var n=super.readFeatures(e,t);"string"===typeof e?this.source=di.parse(e):null!==e&&(this.source=e);var i=this;return n.forEach((function(e,t,n){e.setId(t+1);var r=e.getProperties().desc;r&&e.setProperties({description:r});var o=e.getStyleFunction();if(!o){var a=ui.defineStyleFunctionByDefault(i.options.defaultStyle);a&&e.setStyle(a)}})),n}writeFeatures(e,t){if(e.forEach((function(t,n,i){var r=t.getProperties().description;r&&t.setProperties({desc:r}),ui.definePropertiesFromStyle(t);var o=t.getGeometry().getType();if("Polygon"===o){var a=t.clone();a.set("type",o),a.setGeometry(new gn.A(t.getGeometry().getCoordinates())),e.push(a),i.splice(n,1)}else if("MultiPolygon"===o){var s=t.clone();s.set("type",o),s.setGeometry(new mn.A(t.getGeometry().getCoordinates())),e.push(s),i.splice(n,1)}})),void 0!==this.options.orderBy){var n=this.options.orderBy;if(n){var i=function(e,t){var i=e.get(n)||0,r=t.get(n)||0;return i.toString().localeCompare(r.toString(),void 0,{numeric:!0})};e.sort(i)}}var r=super.writeFeaturesNode(e,t);if(null===r)return null;this.options.hasOwnProperty("extensions")&&this.writeRootExtensions_(r,this.options.extensions),this.processExtensions_(r,e,{extensions:this.writeExtensions_});var o=di.toString(r);if(!o)return null;var a=di.format(o);return""===a?null:a}readExtensions(e,t){var n=t;if(!t){var i=e.getProperties();for(const e in i)if(Object.hasOwnProperty.call(i,e)){const t=i[e];if(t instanceof Node){n=t;break}}}if(n){for(var r=0;r<n.childNodes.length;r++){var o=n.childNodes[r];1===o.nodeType&&e.set(o.nodeName,o.textContent)}ui.APPLY_CONVERT_GEOM_GPX=!0;var a=ui.defineStyleFromProperties(e);a&&e.setStyle(a)}else console.warn("node not found !")}readRootExtensions(e){for(var t={},n=this.source.childNodes[0],i=n.childNodes,r=0;r<i.length;r++){var o=i[r];if("metadata"===o.nodeName)for(var a=o.childNodes,s=0;s<a.length;s++){var l=a[s];if("extensions"===l.nodeName)for(var u=l.childNodes,c=0;c<u.length;c++){var h=u[c];if("data"===h.nodeName){var d=h.attributes[0];if(d&&"name"===d.nodeName&&d.nodeValue===e){t=JSON.parse(h.textContent);break}}}}}return t}writeRootExtensions_(e,t,n){var i=document.createElement("metadata"),r=document.createElement("extensions");function o(e,t){for(const u in t)if(Object.hasOwnProperty.call(t,u)){var n=t[u]||"",i=document.createElement(u);if("string"===typeof n||"number"===typeof n)i.innerHTML=n,e.appendChild(i);else if(n instanceof Array){i.setAttribute("type","array"),i.setAttribute("index",n.length);for(let e=0;e<n.length;e++){var r=n[e]||"",a=document.createElement("value");if("string"===typeof r||"number"===typeof r)a.innerHTML=r,i.appendChild(a);else if(r instanceof Array){a.setAttribute("type","array"),a.setAttribute("index",r.length);for(let e=0;e<r.length;e++){var s=r[e]||"",l=document.createElement("value");"string"!==typeof s&&"number"!==typeof s||(l.innerHTML=s,a.appendChild(l))}i.appendChild(a)}else r instanceof Object&&i.appendChild(o(a,r))}e.appendChild(i)}else n instanceof Object&&e.appendChild(o(i,n))}return e}if(n)o(r,t);else for(const u in t)if(Object.hasOwnProperty.call(t,u)){const e=t[u];var a=document.createElement("data");a.setAttribute("name",u);var s=document.createTextNode(JSON.stringify(e));a.appendChild(s),r.appendChild(a)}i.appendChild(r);var l=e.firstChild;e.insertBefore(i,l)}writeExtensions_(e,t){var n=document.createElementNS(t.parentNode.namespaceURI,"extensions");ui.getListTags().forEach((i=>{if(e.get(i)){var r=document.createElementNS(t.parentNode.namespaceURI,i);r.innerHTML=e.get(i),n.appendChild(r)}})),t.appendChild(n)}processExtensions_(e,t,n){for(var i=-1,r=e.childNodes,o=0;o<r.length;o++){var a=r[o];switch(a.nodeName){case"wpt":case"rte":case"trk":i++;var s=t[i],l=s.getStyle();if(l){var u=n.extensions;u&&"function"===typeof u&&u(s,a)}break;case"metadata":break;default:console.warn("nodename unknown :",a.nodeName);break}}}},yi=vi;window.ol&&window.ol.format&&(window.ol.format.GPXExtended=vi);var Ai=n(8131),_i=class e extends Ai.A{constructor(t){if(super(t),!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return this.options=t||{},null!==this.options.defaultStyle&&"undefined"!==typeof this.options.defaultStyle||(this.options.defaultStyle={}),this.source=null,this}readFeatures(e,t){var n=super.readFeatures(e,t);return"string"===typeof e?this.source=JSON.parse(e):null!==e&&(this.source=e),n.forEach((e=>{var t=e.getStyleFunction();if(t){var n=t.call(this,e,0);n&&0!==n.length&&e.setStyle(n[0])}else{var i=ui.defineStyleFromProperties(e);if(i)e.setStyle(i);else{var r=ui.defineStyleFunctionByDefault(this.options.defaultStyle);r&&(e.setStyle(r),ui.definePropertiesFromStyle(e))}}})),n}writeFeatures(e,t){e.forEach((function(e){ui.definePropertiesFromStyle(e)}));var n=this.writeFeaturesObject(e,t);return this.options.hasOwnProperty("extensions")&&Object.assign(n,this.options.extensions),JSON.stringify(n)}readRootExtensions(e){return this.source[e]}},Ci=_i;window.ol&&window.ol.format&&(window.ol.format.GeoJSONExtended=_i);var Ii=class extends It{constructor(e){super(e)}getFeatureInfoUrl(e,t,n,i){var r=this.options&&this.options.tilePixelRatio?this.options.tilePixelRatio:1,o=this.tileGrid,a=this.tileGrid.getTileCoordForCoordAndResolution(e,t),s=function(e,t,n){var i=[0,0,0],r=(0,h.S5)(),o=e[1],a=e[2],s=t.getTileCoordExtent(e),l=n.getExtent();if(null!=l&&n.isGlobal()){var u=Math.ceil((0,h.RG)(l)/(0,h.RG)(s));o%=u,i[0]=e[0],i[1]=o,i[2]=e[2],s=t.getTileCoordExtent(i,r)}return(0,h.HY)(s,l)?[e[0],o,a]:null},l=o.getTileCoordExtent(a),u=s(a,o,n);if(!(o.getResolutions().length<=a[0])){var c=o.getResolution(a[0]),d=o.getMatrixIds()[a[0]],p={SERVICE:"WMTS",VERSION:"1.0.0",REQUEST:"GetFeatureInfo",LAYER:this.getLayer(),TILECOL:u[1],TILEROW:u[2],TILEMATRIX:d,TILEMATRIXSET:this.getMatrixSet(),FORMAT:this.getFormat()||"image/png",STYLE:this.getStyle()||"normal"};qn.assign(p,i);var g=Math.floor((e[0]-l[0])/(c/r)),f=Math.floor((l[3]-e[1])/(c/r)),m=o.getTileSize(a[0]);g=Math.min(g,(m[0]|m)-1),f=Math.max(f,0),p["I"]=g,p["J"]=f;var v=this.urls[0],y=Dn.Ay.Helper.normalyzeUrl(v,p);return y}}},Ei=Ii;window.ol&&window.ol.source&&(window.ol.source.WMTSExtended=Ii);var wi=function(e){function t(e){var n;return(0,r.A)(this,t),n=(0,a.A)(this,t,[{extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes}]),n.matrixIds_=e.matrixIds,n}return(0,s.A)(t,e),(0,o.A)(t,[{key:"getMatrixId",value:function(e){return this.matrixIds_[e]}},{key:"getMatrixIds",value:function(){return this.matrixIds_}}])}(Q),bi=wi;var xi={getZoomLevelFromScaleDenominator:function(e,t){var n={};switch(t){case"EPSG:2154":n={0:104579.224549894,1:52277.5323537905,2:26135.4870785954,3:13066.8913818,4:6533.2286041135,5:3266.5595244627,6:1633.2660045974,7:816.629554986,8:408.3139146768,9:204.1567415109,10:102.0783167832,11:51.0391448966,12:25.5195690743,13:12.7597836936,14:6.379891636,15:3.1899457653,16:1.5949728695,17:.7974864315,18:.3987432149,19:.1993716073,20:.0996858037,21:.0498429018};break;default:n={0:156543.033928041,1:78271.51696402048,2:39135.758482010235,3:19567.87924100512,4:9783.93962050256,5:4891.96981025128,6:2445.98490512564,7:1222.99245256282,8:611.49622628141,9:305.7481131407048,10:152.8740565703525,11:76.43702828517624,12:38.21851414258813,13:19.10925707129406,14:9.554628535647032,15:4.777314267823516,16:2.388657133911758,17:1.194328566955879,18:.5971642834779395,19:.2985821417389697,20:.1492910708694849,21:.0746455354347424};break}var i=28e-5*e;for(var r in n)if(n.hasOwnProperty(r)&&n[r]<=i)return r=parseInt(r,10),r;return 0},getAttributions:function(e){var t=e.zoom,n=[];if(null!=e.originators&&e.visibility)for(var i,r=0,o=e.originators.length;r<o;r++){i=!0;for(var a=e.originators[r],s=e.originators[r].constraints||[],l=0,u=s.length;l<u;l++){var c=s[l];i=!0;var h=this.getZoomLevelFromScaleDenominator(c.maxScaleDenominator,e.crs),d=this.getZoomLevelFromScaleDenominator(c.minScaleDenominator,e.crs)||21;h&&h>t&&(i=!1),i&&d&&d<t&&(i=!1);var p=c.bbox;if(i&&p){i=!1;var g=e.extent;if(g){var f=[p.top,p.left,p.bottom,p.right];if(this.intersects(g,f)){i=!0;break}}}}if(i){var m=a.logo,v=a.url,y=a.name?a.name:"",A=a.attribution,_=document.createElement("div");_.className="gp-control-attribution";var C=null;C=document.createElement("a"),C.className="gp-control-attribution-link",C.target="_blank",_.appendChild(C),v&&(C.href=v);var I=!!m,E=null;I?(E=document.createElement("img"),C?(E.className="gp-control-attribution-image",C.appendChild(E)):(E.className="",_.appendChild(E)),E.src=m,E.title=A||y,E.style.height="30px",E.style.width="30px"):C.textContent=y||(A||(v||"")),n.push(_.innerHTML+" ")}}return n},intersects:function(e,t){var n=e[1]<=t[3]&&t[1]<=e[3],i=e[2]<=t[0]&&t[2]<=e[0];return n&&i}},Si=xi,Pi={configuration:{},isConfigLoaded:function(){if(this.configuration&&0!==Object.keys(this.configuration).length)return!0;var e="undefined"!==typeof window?window:"undefined"!==typeof self?self:"undefined"!==typeof global?global:{};return!!(e.Gp&&e.Gp.Config&&e.Gp.Config.layers&&0!==Object.keys(e.Gp.Config.layers).length)&&(this.configuration=e.Gp.Config,!0)}},Mi=Pi,ki=(Un.getLogger("sourcewmts"),class extends Ei{constructor(e){if(!e.layer)throw new Error("ERROR PARAM_MISSING : layer");if("string"!==typeof e.layer)throw new Error("ERROR WRONG TYPE : layer");if("undefined"===typeof e.ssl&&(e.ssl=!0),!Mi.isConfigLoaded())throw new Error("ERROR : contract key configuration has to be loaded to load Geoportal layers.");var t=Mi.configuration.getLayerId(e.layer,"WMTS");if(!t)throw new Error(`ERROR : WMTS Layer ID ${e.layer} cannot be found in Geoportal Configuration. Make sure that this resource is included in your contract key.`);if(!Mi.configuration.getLayerConf(t))throw new Error("ERROR : WMTS Layer configuration cannot be found in Geoportal....");var n=Mi.configuration.getLayerParams(e.layer,"WMTS"),r=!1===e.ssl?"http://":"https://",o={"gp-ol-ext":i.olExtVersion||i.rE};n.url.includes("/private/")&&(o["apikey"]=e.apiKey||Mi.configuration.getLayerKey(t)[0]);var a={url:Dn.Ay.Helper.normalyzeUrl(n.url.replace(/(http|https):\/\//,r),o,!1),version:n.version,style:n.styles,format:n.format,projection:n.projection,maxZoom:Si.getZoomLevelFromScaleDenominator(n.minScale),layer:e.layer,matrixSet:n.TMSLink,tileGrid:new bi({resolutions:n.nativeResolutions,matrixIds:n.matrixIds,origin:[n.tileMatrices[0].topLeftCorner.x,n.tileMatrices[0].topLeftCorner.y]})};return qn.mergeParams(a,e.olParams),e.olParams&&!n.originators&&(n.originators=e.olParams.attributions),super(a),this._originators=n.originators,this._legends=e.legends||n.legends,this._metadata=e.metadata||n.metadata,this._description=e.description||n.description,this._title=e.title||n.title,this._quicklookUrl=e.quicklookUrl||n.quicklookUrl,this}}),Ri=ki;window.ol&&window.ol.source&&(window.ol.source.GeoportalWMTS=ki);Un.getLogger("sourcewms");var Ti=class extends _t{constructor(e){if(!e.layer)throw new Error("ERROR PARAM_MISSING : layer");if("string"!==typeof e.layer)throw new Error("ERROR WRONG TYPE : layer");if("undefined"===typeof e.ssl&&(e.ssl=!0),!Mi.isConfigLoaded())throw new Error("ERROR : contract key configuration has to be loaded to load Geoportal layers.");var t=Mi.configuration.getLayerId(e.layer,"WMS");if(!t)throw new Error(`ERROR : WMS Layer ID ${e.layer} cannot be found in Geoportal Configuration. Make sure that this resource is included in your contract key.`);if(!Mi.configuration.getLayerConf(t))throw new Error("ERROR : WMS Layer configuration cannot be found in Geoportal....");var n=Mi.configuration.getLayerParams(e.layer,"WMS"),r=!1===e.ssl?"http://":"https://",o={"gp-ol-ext":i.olExtVersion||i.rE};n.url.includes("/private/")&&(o["apikey"]=e.apiKey||Mi.configuration.getLayerKey(t)[0]);var a={url:Dn.Ay.Helper.normalyzeUrl(n.url.replace(/(http|https):\/\//,r),o,!1),params:{SERVICE:"WMS",LAYERS:e.layer,VERSION:n.version,STYLES:n.styles,FORMAT:n.format}};return qn.mergeParams(a,e.olParams),e.olParams&&!n.originators&&(n.originators=e.olParams.attributions),super(a),this._originators=n.originators,this._legends=e.legends||n.legends,this._metadata=e.metadata||n.metadata,this._title=e.title||n.title,this._description=e.description||n.description,this._quicklookUrl=e.quicklookUrl||n.quicklookUrl,this}},Li=Ti;window.ol&&window.ol.source&&(window.ol.source.GeoportalWMS=Ti);var Gi=n(2425),Oi={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"},Di=function(e){function t(e){var n;(0,r.A)(this,t),e=e||{};var i=Object.assign({},e);return delete i.preload,delete i.useInterimTilesOnError,n=(0,a.A)(this,t,[i]),n.on,n.once,n.un,n.setPreload(void 0!==e.preload?e.preload:0),n.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError),n}return(0,s.A)(t,e),(0,o.A)(t,[{key:"getPreload",value:function(){return this.get(Oi.PRELOAD)}},{key:"setPreload",value:function(e){this.set(Oi.PRELOAD,e)}},{key:"getUseInterimTilesOnError",value:function(){return this.get(Oi.USE_INTERIM_TILES_ON_ERROR)}},{key:"setUseInterimTilesOnError",value:function(e){this.set(Oi.USE_INTERIM_TILES_ON_ERROR,e)}},{key:"getData",value:function(e){return(0,v.A)((0,y.A)(t.prototype),"getData",this).call(this,e)}}])}(Gi.A),Ni=Di,Fi=n(3525),Ui=n(1194),Bi=function(e){function t(e){var n;return(0,r.A)(this,t),n=(0,a.A)(this,t,[e]),n.extentChanged=!0,n.renderedExtent_=null,n.renderedPixelRatio,n.renderedProjection=null,n.renderedRevision,n.renderedTiles=[],n.newTiles_=!1,n.tmpExtent=(0,h.S5)(),n.tmpTileRange_=new W(0,0,0,0),n}return(0,s.A)(t,e),(0,o.A)(t,[{key:"isDrawableTile",value:function(e){var t=this.getLayer(),n=e.getState(),i=t.getUseInterimTilesOnError();return n==C.A.LOADED||n==C.A.EMPTY||n==C.A.ERROR&&!i}},{key:"getTile",value:function(e,t,n,i){var r=i.pixelRatio,o=i.viewState.projection,a=this.getLayer(),s=a.getSource(),l=s.getTile(e,t,n,r,o);return l.getState()==C.A.ERROR&&a.getUseInterimTilesOnError()&&a.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(l)||(l=l.getInterimTile()),l}},{key:"getData",value:function(e){var t=this.frameState;if(!t)return null;var n=this.getLayer(),i=(0,Ui.Bb)(t.pixelToCoordinateTransform,e.slice()),r=n.getExtent();if(r&&!(0,h.Ym)(r,i))return null;for(var o=t.pixelRatio,a=t.viewState.projection,s=t.viewState,l=n.getRenderSource(),u=l.getTileGridForProjection(s.projection),c=l.getTilePixelRatio(t.pixelRatio),d=u.getZForResolution(s.resolution);d>=u.getMinZoom();--d){var p=u.getTileCoordForCoordAndZ(i,d),g=l.getTile(d,p[1],p[2],o,a);if(!(g instanceof Te||g instanceof qe)||g instanceof qe&&g.getState()===C.A.EMPTY)return null;if(g.getState()===C.A.LOADED){var f=u.getOrigin(d),m=(0,X.xq)(u.getTileSize(d)),v=u.getResolution(d),y=Math.floor(c*((i[0]-f[0])/v-p[1]*m[0])),A=Math.floor(c*((f[1]-i[1])/v-p[2]*m[1])),_=Math.round(c*l.getGutterForProjection(s.projection));return this.getImageData(g.getImage(),y+_,A+_)}}return null}},{key:"loadedTileCallback",value:function(e,n,i){return!!this.isDrawableTile(i)&&(0,v.A)((0,y.A)(t.prototype),"loadedTileCallback",this).call(this,e,n,i)}},{key:"prepareFrame",value:function(e){return!!this.getLayer().getSource()}},{key:"renderFrame",value:function(e,t){var n=e.layerStatesArray[e.layerIndex],i=e.viewState,r=i.projection,o=i.resolution,a=i.center,s=i.rotation,l=e.pixelRatio,u=this.getLayer(),c=u.getSource(),d=c.getRevision(),p=c.getTileGridForProjection(r),g=p.getZForResolution(o,c.zDirection),f=p.getResolution(g),m=e.extent,v=e.viewState.resolution,y=c.getTilePixelRatio(l),A=Math.round((0,h.RG)(m)/v*l),_=Math.round((0,h.Oq)(m)/v*l),E=n.extent&&(0,ne.SD)(n.extent,r);E&&(m=(0,h._N)(m,(0,ne.SD)(n.extent,r)));var w=f*A/2/y,b=f*_/2/y,x=[a[0]-w,a[1]-b,a[0]+w,a[1]+b],S=p.getTileRangeForExtentAndZ(m,g),P={};P[g]={};var M=this.createLoadedTileFinder(c,r,P),k=this.tmpExtent,R=this.tmpTileRange_;this.newTiles_=!1;for(var T=s?(0,h.Yw)(i.center,v,s,e.size):void 0,L=S.minX;L<=S.maxX;++L)for(var G=S.minY;G<=S.maxY;++G)if(!s||p.tileCoordIntersectsViewport([g,L,G],T)){var O=this.getTile(g,L,G,e);if(this.isDrawableTile(O)){var D=(0,I.v6)(this);if(O.getState()==C.A.LOADED){P[g][O.tileCoord.toString()]=O;var N=O.inTransition(D);N&&1!==n.opacity&&(O.endTransition(D),N=!1),this.newTiles_||!N&&this.renderedTiles.includes(O)||(this.newTiles_=!0)}if(1===O.getAlpha(D,e.time))continue}var F=p.getTileCoordChildTileRange(O.tileCoord,R,k),U=!1;F&&(U=M(g+1,F)),U||p.forEachTileCoordParentTileRange(O.tileCoord,M,R,k)}var B=f/o*l/y;(0,Ui.Zz)(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/l,1/l,s,-A/2,-_/2);var j=(0,Ui.dI)(this.pixelTransform);this.useContainer(t,j,this.getBackground(e));var z=this.context,W=z.canvas;(0,Ui.T9)(this.inversePixelTransform,this.pixelTransform),(0,Ui.Zz)(this.tempTransform,A/2,_/2,B,B,0,-A/2,-_/2),W.width!=A||W.height!=_?(W.width=A,W.height=_):this.containerReused||z.clearRect(0,0,A,_),E&&this.clipUnrotated(z,e,E),c.getInterpolate()||(z.imageSmoothingEnabled=!1),this.preRender(z,e),this.renderedTiles.length=0;var V,Y,H,X=Object.keys(P).map(Number);X.sort(q.V_),1!==n.opacity||this.containerReused&&!c.getOpaque(e.viewState.projection)?(V=[],Y=[]):X=X.reverse();for(var Z=X.length-1;Z>=0;--Z){var K=X[Z],J=c.getTilePixelSize(K,l,r),Q=p.getResolution(K),$=Q/f,ee=J[0]*$*B,te=J[1]*$*B,ie=p.getTileCoordForCoordAndZ((0,h.Py)(x),K),re=p.getTileCoordExtent(ie),oe=(0,Ui.Bb)(this.tempTransform,[y*(re[0]-x[0])/f,y*(x[3]-re[3])/f]),ae=y*c.getGutterForProjection(r),se=P[K];for(var le in se){var ue=se[le],ce=ue.tileCoord,he=ie[1]-ce[1],de=Math.round(oe[0]-(he-1)*ee),pe=ie[2]-ce[2],ge=Math.round(oe[1]-(pe-1)*te),fe=Math.round(oe[0]-he*ee),me=Math.round(oe[1]-pe*te),ve=de-fe,ye=ge-me,Ae=g===K,_e=Ae&&1!==ue.getAlpha((0,I.v6)(this),e.time),Ce=!1;if(!_e)if(V){H=[fe,me,fe+ve,me,fe+ve,me+ye,fe,me+ye];for(var Ie=0,Ee=V.length;Ie<Ee;++Ie)if(g!==K&&K<Y[Ie]){var we=V[Ie];(0,h.HY)([fe,me,fe+ve,me+ye],[we[0],we[3],we[4],we[7]])&&(Ce||(z.save(),Ce=!0),z.beginPath(),z.moveTo(H[0],H[1]),z.lineTo(H[2],H[3]),z.lineTo(H[4],H[5]),z.lineTo(H[6],H[7]),z.moveTo(we[6],we[7]),z.lineTo(we[4],we[5]),z.lineTo(we[2],we[3]),z.lineTo(we[0],we[1]),z.clip())}V.push(H),Y.push(K)}else z.clearRect(fe,me,ve,ye);this.drawTileImage(ue,e,fe,me,ve,ye,ae,Ae),V&&!_e?(Ce&&z.restore(),this.renderedTiles.unshift(ue)):this.renderedTiles.push(ue),this.updateUsedTiles(e.usedTiles,c,ue)}}return this.renderedRevision=d,this.renderedResolution=f,this.extentChanged=!this.renderedExtent_||!(0,h.aI)(this.renderedExtent_,x),this.renderedExtent_=x,this.renderedPixelRatio=l,this.renderedProjection=r,this.manageTilePyramid(e,c,p,l,r,m,g,u.getPreload()),this.scheduleExpireCache(e,c),this.postRender(z,e),n.extent&&z.restore(),z.imageSmoothingEnabled=!0,j!==W.style.transform&&(W.style.transform=j),this.container}},{key:"drawTileImage",value:function(e,t,n,i,r,o,a,s){var l=this.getTileImage(e);if(l){var u=(0,I.v6)(this),c=t.layerStatesArray[t.layerIndex],h=c.opacity*(s?e.getAlpha(u,t.time):1),d=h!==this.context.globalAlpha;d&&(this.context.save(),this.context.globalAlpha=h),this.context.drawImage(l,a,a,l.width-2*a,l.height-2*a,n,i,r,o),d&&this.context.restore(),h!==c.opacity?t.animate=!0:s&&e.endTransition(u)}}},{key:"getImage",value:function(){var e=this.context;return e?e.canvas:null}},{key:"getTileImage",value:function(e){return e.getImage()}},{key:"scheduleExpireCache",value:function(e,t){if(t.canExpireCache()){var n=function(e,t,n){var i=(0,I.v6)(e);i in n.usedTiles&&e.expireCache(n.viewState.projection,n.usedTiles[i])}.bind(null,t);e.postRenderFunctions.push(n)}}},{key:"updateUsedTiles",value:function(e,t,n){var i=(0,I.v6)(t);i in e||(e[i]={}),e[i][n.getKey()]=!0}},{key:"manageTilePyramid",value:function(e,t,n,i,r,o,a,s,l){var u=(0,I.v6)(t);u in e.wantedTiles||(e.wantedTiles[u]={});var c,d,p,g,f,m,v=e.wantedTiles[u],y=e.tileQueue,A=n.getMinZoom(),_=e.viewState.rotation,E=_?(0,h.Yw)(e.viewState.center,e.viewState.resolution,_,e.size):void 0,w=0;for(m=A;m<=a;++m)for(d=n.getTileRangeForExtentAndZ(o,m,d),p=n.getResolution(m),g=d.minX;g<=d.maxX;++g)for(f=d.minY;f<=d.maxY;++f)_&&!n.tileCoordIntersectsViewport([m,g,f],E)||(a-m<=s?(++w,c=t.getTile(m,g,f,i,r),c.getState()==C.A.IDLE&&(v[c.getKey()]=!0,y.isKeyQueued(c.getKey())||y.enqueue([c,u,n.getTileCoordCenter(c.tileCoord),p])),void 0!==l&&l(c)):t.useTile(m,g,f,r));t.updateCacheSize(w,r)}}])}(Fi.A),ji=Bi,zi=function(e){function t(e){return(0,r.A)(this,t),(0,a.A)(this,t,[e])}return(0,s.A)(t,e),(0,o.A)(t,[{key:"createRenderer",value:function(){return new ji(this)}}])}(Ni),Wi=zi,Vi=class extends Wi{constructor(e){if(!e.layer)throw new Error("ERROR PARAM_MISSING : layer");if("string"!==typeof e.layer)throw new Error("ERROR WRONG TYPE : layer");if("undefined"===typeof e.ssl&&(e.ssl=!0),!Mi.isConfigLoaded())throw new Error("ERROR : contract key configuration has to be loaded to load Geoportal layers.");var t;e.olParams&&e.olParams.sourceParams&&(t=e.olParams.sourceParams);var n=new Ri({layer:e.layer,ssl:e.ssl,apiKey:e.apiKey,olParams:t}),i={source:n};if(void 0!==n.getLayer()){var r,o=Mi.configuration.getLayerId(e.layer,"WMTS"),a=Mi.configuration.getGlobalConstraints(o);if(a&&a.projection)"string"===typeof a.projection&&(r=(0,ne.Jt)(a.projection)),r&&r.getUnits()&&("m"===r.getUnits()?(i.minResolution=28e-5*(a.minScale-1),i.maxResolution=28e-5*(a.maxScale+1)):"degrees"===r.getUnits()&&(i.minResolution=28e-5*(a.minScale-1)*180/(6378137*Math.PI),i.maxResolution=28e-5*(a.maxScale+1)*180/(6378137*Math.PI)))}return qn.mergeParams(i,e.olParams),super(i),this}},Yi=Vi;window.ol&&window.ol.layer&&(window.ol.layer.GeoportalWMTS=Vi);var Hi=class extends Wi{constructor(e){if(!e.layer)throw new Error("ERROR PARAM_MISSING : layer");if("string"!==typeof e.layer)throw new Error("ERROR WRONG TYPE : layer");if("undefined"===typeof e.ssl&&(e.ssl=!0),!Mi.isConfigLoaded())throw new Error("ERROR : contract key configuration has to be loaded to load Geoportal layers.");var t;e.olParams&&e.olParams.sourceParams&&(t=e.olParams.sourceParams);var n=new Li({layer:e.layer,ssl:e.ssl,apiKey:e.apiKey,olParams:t}),i={source:n};if(void 0!==n.getParams().LAYERS){var r=Mi.configuration.getLayerId(e.layer,"WMS"),o=Mi.configuration.getGlobalConstraints(r);if(t&&t.projection){var a,s=[o.extent.left,o.extent.bottom,o.extent.right,o.extent.top];i.extent=(0,ne.DI)(s,"EPSG:4326",t.projection),"string"===typeof t.projection?a=(0,ne.Jt)(t.projection):"object"===typeof t.projection&&t.projection.getCode()&&(a=(0,ne.Jt)(t.projection.getCode())),a&&a.getUnits()&&("m"===a.getUnits()?(i.minResolution=28e-5*(o.minScale-1),i.maxResolution=28e-5*(o.maxScale+1)):"degrees"===a.getUnits()&&(i.minResolution=28e-5*(o.minScale-1)*180/(6378137*Math.PI),i.maxResolution=28e-5*(o.maxScale+1)*180/(6378137*Math.PI)))}}return qn.mergeParams(i,e.olParams),super(i),this}},qi=Hi;window.ol&&window.ol.layer&&(window.ol.layer.GeoportalWMS=Hi);var Xi=n(6420),Zi=n(5073),Ki=n(6264),Ji=n(6940),Qi=n(923),$i=n(4405),er={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},tr={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]},nr=function(e){function t(e){var n;return(0,r.A)(this,t),n=(0,a.A)(this,t,[e]),n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.renderedLayerRevision_,n.renderedPixelToCoordinateTransform_=null,n.renderedRotation_,n.tmpTransform_=(0,Ui.vt)(),n}return(0,s.A)(t,e),(0,o.A)(t,[{key:"prepareTile",value:function(e,t,n){var i,r=e.getState();return r!==C.A.LOADED&&r!==C.A.ERROR||(this.updateExecutorGroup_(e,t,n),this.tileImageNeedsRender_(e)&&(i=!0)),i}},{key:"getTile",value:function(e,n,i,r){var o=r.pixelRatio,a=r.viewState,s=a.resolution,l=a.projection,u=this.getLayer(),c=u.getSource().getTile(e,n,i,o,l),h=r.viewHints,d=!(h[Ji.A.ANIMATING]||h[Ji.A.INTERACTING]);!d&&c.wantedResolution||(c.wantedResolution=s);var p=this.prepareTile(c,o,l);return p&&(d||Date.now()-r.time<8)&&"vector"!==u.getRenderMode()&&this.renderTileImage_(c,r),(0,v.A)((0,y.A)(t.prototype),"getTile",this).call(this,e,n,i,r)}},{key:"isDrawableTile",value:function(e){var n=this.getLayer();return(0,v.A)((0,y.A)(t.prototype),"isDrawableTile",this).call(this,e)&&("vector"===n.getRenderMode()?(0,I.v6)(n)in e.executorGroups:e.hasContext(n))}},{key:"getTileImage",value:function(e){return e.getImage(this.getLayer())}},{key:"prepareFrame",value:function(e){var n=this.getLayer().getRevision();return this.renderedLayerRevision_!==n&&(this.renderedLayerRevision_=n,this.renderedTiles.length=0),(0,v.A)((0,y.A)(t.prototype),"prepareFrame",this).call(this,e)}},{key:"updateExecutorGroup_",value:function(e,t,n){var i=this,r=this.getLayer(),o=r.getRevision(),a=r.getRenderOrder()||null,s=e.wantedResolution,l=e.getReplayState(r);if(l.dirty||l.renderedResolution!==s||l.renderedRevision!=o||l.renderedRenderOrder!=a){var u=r.getSource(),c=r.getDeclutter(),d=u.getTileGrid(),p=u.getTileGridForProjection(n),g=p.getTileCoordExtent(e.wrappedTileCoord),f=u.getSourceTiles(t,n,e),m=(0,I.v6)(r);delete e.hitDetectionImageData[m],e.executorGroups[m]=[],c&&(e.declutterExecutorGroups[m]=[]),l.dirty=!1;for(var v=function(){var n=f[y];if(n.getState()!=C.A.LOADED)return 1;var o=n.tileCoord,p=d.getTileCoordExtent(o),v=(0,h._N)(g,p),A=(0,h.r)(v,r.getRenderBuffer()*s,i.tmpExtent),_=(0,h.aI)(p,v)?null:A,I=new Zi.A(0,A,s,t),E=c?new Zi.A(0,v,s,t):void 0,w=(0,$i.j)(s,t),b=function(e){var t,n=e.getStyleFunction()||r.getStyleFunction();if(n&&(t=n(e,s)),t){var i=this.renderFeature(e,w,t,I,E);l.dirty=l.dirty||i}},x=n.getFeatures();a&&a!==l.renderedRenderOrder&&x.sort(a);for(var S=0,P=x.length;S<P;++S){var M=x[S];_&&!(0,h.HY)(_,M.getGeometry().getExtent())||b.call(i,M)}var k=I.finish(),R="vector"!==r.getRenderMode()&&c&&1===f.length?null:v,T=new Ki.A(R,s,t,u.getOverlaps(),k,r.getRenderBuffer());if(e.executorGroups[m].push(T),E){var L=new Ki.A(null,s,t,u.getOverlaps(),E.finish(),r.getRenderBuffer());e.declutterExecutorGroups[m].push(L)}},y=0,A=f.length;y<A;++y)v();l.renderedRevision=o,l.renderedRenderOrder=a,l.renderedResolution=s}}},{key:"forEachFeatureAtCoordinate",value:function(e,t,n,i,r){var o=t.viewState.resolution,a=t.viewState.rotation;n=void 0==n?0:n;var s=this.getLayer(),l=s.getSource(),u=l.getTileGridForProjection(t.viewState.projection),c=(0,h.Tr)([e]);(0,h.r)(c,o*n,c);for(var d,p={},g=function(e,t,n){var o=e.getId();void 0===o&&(o=(0,I.v6)(e));var a=p[o];if(a){if(!0!==a&&n<a.distanceSq){if(0===n)return p[o]=!0,r.splice(r.lastIndexOf(a),1),i(e,s,t);a.geometry=t,a.distanceSq=n}}else{if(0===n)return p[o]=!0,i(e,s,t);r.push(p[o]={feature:e,layer:s,geometry:t,distanceSq:n,callback:i})}},f=this.renderedTiles,m=function(){var i=f[v],r=u.getTileCoordExtent(i.wrappedTileCoord);if(!(0,h.HY)(r,c))return 1;var l=(0,I.v6)(s),p=[i.executorGroups[l]],m=i.declutterExecutorGroups[l];m&&p.push(m),p.some((function(i){for(var r=i===m?t.declutterTree.all().map((function(e){return e.value})):null,s=0,l=i.length;s<l;++s){var u=i[s];if(d=u.forEachFeatureAtCoordinate(e,o,a,n,g,r),d)return!0}}))},v=0,y=f.length;!d&&v<y;++v)m();return d}},{key:"getFeatures",value:function(e){var t=this;return new Promise((function(n,i){for(var r,o=t.getLayer(),a=(0,I.v6)(o),s=o.getSource(),l=t.renderedProjection,u=l.getExtent(),c=t.renderedResolution,d=s.getTileGridForProjection(l),p=(0,Ui.Bb)(t.renderedPixelToCoordinateTransform_,e.slice()),g=d.getTileCoordForCoordAndResolution(p,c),f=0,m=t.renderedTiles.length;f<m;++f)if(g.toString()===t.renderedTiles[f].tileCoord.toString()){if(r=t.renderedTiles[f],r.getState()===C.A.LOADED){var v=d.getTileCoordExtent(r.tileCoord);s.getWrapX()&&l.canWrapX()&&!(0,h.ms)(u,v)&&(0,Ht.Li)(p,l);break}r=void 0}if(!r||r.loadingSourceTiles>0)n([]);else{var y=d.getTileCoordExtent(r.wrappedTileCoord),A=(0,h.Py)(y),_=[(p[0]-A[0])/c,(A[1]-p[1])/c],E=r.getSourceTiles().reduce((function(e,t){return e.concat(t.getFeatures())}),[]),w=r.hitDetectionImageData[a];if(!w){var b=(0,X.xq)(d.getTileSize(d.getZForResolution(c,s.zDirection))),x=t.renderedRotation_,S=[t.getRenderTransform(d.getTileCoordCenter(r.wrappedTileCoord),c,0,Qi.tF,b[0]*Qi.tF,b[1]*Qi.tF,0)];w=(0,Qi._7)(b,S,E,o.getStyleFunction(),d.getTileCoordExtent(r.wrappedTileCoord),r.getReplayState(o).renderedResolution,x),r.hitDetectionImageData[a]=w}n((0,Qi.F8)(_,E,w))}}))}},{key:"handleFontsChanged",value:function(){var e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()}},{key:"handleStyleImageChange_",value:function(e){this.renderIfReadyAndVisible()}},{key:"renderDeclutter",value:function(e){var t=this.context,n=t.globalAlpha;t.globalAlpha=this.getLayer().getOpacity();for(var i=e.viewHints,r=!(i[Ji.A.ANIMATING]||i[Ji.A.INTERACTING]),o=this.renderedTiles,a=0,s=o.length;a<s;++a){var l=o[a],u=l.declutterExecutorGroups[(0,I.v6)(this.getLayer())];if(u)for(var c=u.length-1;c>=0;--c)u[c].execute(this.context,1,this.getTileRenderTransform(l,e),e.viewState.rotation,r,void 0,e.declutterTree)}t.globalAlpha=n}},{key:"getTileRenderTransform",value:function(e,t){var n=t.pixelRatio,i=t.viewState,r=i.center,o=i.resolution,a=i.rotation,s=t.size,l=Math.round(s[0]*n),u=Math.round(s[1]*n),c=this.getLayer().getSource(),h=c.getTileGridForProjection(t.viewState.projection),d=e.tileCoord,p=h.getTileCoordExtent(e.wrappedTileCoord),g=h.getTileCoordExtent(d,this.tmpExtent)[0]-p[0],f=(0,Ui.lw)((0,Ui.hs)(this.inversePixelTransform.slice(),1/n,1/n),this.getRenderTransform(r,o,a,n,l,u,g));return f}},{key:"postRender",value:function(e,n){var i=n.viewHints,r=!(i[Ji.A.ANIMATING]||i[Ji.A.INTERACTING]);this.renderedPixelToCoordinateTransform_=n.pixelToCoordinateTransform.slice(),this.renderedRotation_=n.viewState.rotation;var o=this.getLayer(),a=o.getRenderMode(),s=e.globalAlpha;e.globalAlpha=o.getOpacity();for(var l=tr[a],u=n.viewState,c=u.rotation,d=o.getSource(),p=d.getTileGridForProjection(u.projection),g=p.getZForResolution(u.resolution,d.zDirection),f=this.renderedTiles,m=[],A=[],_=!0,C=f.length-1;C>=0;--C){var E=f[C];_=_&&!E.getReplayState(o).dirty;var w=E.executorGroups[(0,I.v6)(o)].filter((function(e){return e.hasExecutors(l)}));if(0!==w.length){var b=this.getTileRenderTransform(E,n),x=E.tileCoord[0],S=!1,P=w[0].getClipCoords(b);if(P){for(var M=0,k=m.length;M<k;++M)if(g!==x&&x<A[M]){var R=m[M];(0,h.HY)([P[0],P[3],P[4],P[7]],[R[0],R[3],R[4],R[7]])&&(S||(e.save(),S=!0),e.beginPath(),e.moveTo(P[0],P[1]),e.lineTo(P[2],P[3]),e.lineTo(P[4],P[5]),e.lineTo(P[6],P[7]),e.moveTo(R[6],R[7]),e.lineTo(R[4],R[5]),e.lineTo(R[2],R[3]),e.lineTo(R[0],R[1]),e.clip())}m.push(P),A.push(x)}for(var T=0,L=w.length;T<L;++T){var G=w[T];G.execute(e,1,b,c,r,l)}S&&e.restore()}}e.globalAlpha=s,this.ready=_,(0,v.A)((0,y.A)(t.prototype),"postRender",this).call(this,e,n)}},{key:"renderFeature",value:function(e,t,n,i,r){if(!n)return!1;var o=!1;if(Array.isArray(n))for(var a=0,s=n.length;a<s;++a)o=(0,$i.nl)(i,e,n[a],t,this.boundHandleStyleImageChange_,void 0,r)||o;else o=(0,$i.nl)(i,e,n,t,this.boundHandleStyleImageChange_,void 0,r);return o}},{key:"tileImageNeedsRender_",value:function(e){var t=this.getLayer();if("vector"===t.getRenderMode())return!1;var n=e.getReplayState(t),i=t.getRevision(),r=e.wantedResolution;return n.renderedTileResolution!==r||n.renderedTileRevision!==i}},{key:"renderTileImage_",value:function(e,t){var n=this.getLayer(),i=e.getReplayState(n),r=n.getRevision(),o=e.executorGroups[(0,I.v6)(n)];i.renderedTileRevision=r;var a=e.wrappedTileCoord,s=a[0],l=n.getSource(),u=t.pixelRatio,c=t.viewState,h=c.projection,d=l.getTileGridForProjection(h),p=d.getResolution(e.tileCoord[0]),g=t.pixelRatio/e.wantedResolution*p,f=d.getResolution(s),m=e.getContext(n);u=Math.round(Math.max(u,g/u));var v=l.getTilePixelSize(s,u,h);m.canvas.width=v[0],m.canvas.height=v[1];var y=u/g;if(1!==y){var A=(0,Ui.cL)(this.tmpTransform_);(0,Ui.hs)(A,y,y),m.setTransform.apply(m,A)}var _=d.getTileCoordExtent(a,this.tmpExtent),C=g/f,E=(0,Ui.cL)(this.tmpTransform_);(0,Ui.hs)(E,C,-C),(0,Ui.Tl)(E,-_[0],-_[3]);for(var w=0,b=o.length;w<b;++w){var x=o[w];x.execute(m,y,E,0,!0,er[n.getRenderMode()])}i.renderedTileResolution=e.wantedResolution}}])}(ji),ir=nr,rr=function(e){function t(e){var n;(0,r.A)(this,t),e=e||{};var i=Object.assign({},e);delete i.preload,delete i.useInterimTilesOnError,n=(0,a.A)(this,t,[i]),n.on,n.once,n.un;var o=e.renderMode||"hybrid";return(0,P.v)("hybrid"==o||"vector"==o,"`renderMode` must be `'hybrid'` or `'vector'`"),n.renderMode_=o,n.setPreload(e.preload?e.preload:0),n.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError),n.getBackground,n.setBackground,n}return(0,s.A)(t,e),(0,o.A)(t,[{key:"createRenderer",value:function(){return new ir(this)}},{key:"getFeatures",value:function(e){return(0,v.A)((0,y.A)(t.prototype),"getFeatures",this).call(this,e)}},{key:"getRenderMode",value:function(){return this.renderMode_}},{key:"getPreload",value:function(){return this.get(Oi.PRELOAD)}},{key:"getUseInterimTilesOnError",value:function(){return this.get(Oi.USE_INTERIM_TILES_ON_ERROR)}},{key:"setPreload",value:function(e){this.set(Oi.PRELOAD,e)}},{key:"setUseInterimTilesOnError",value:function(e){this.set(Oi.USE_INTERIM_TILES_ON_ERROR,e)}}])}(Xi.A),or=rr;n(6033),n(7764),n(2953),n(3677);n(2285);n(3296),n(7208),n(8408),n(4603),n(7566),n(8721);function ar(e,t,n,i){var r=document.createElement("script"),o="olc_"+(0,I.v6)(t);function a(){delete window[o],r.parentNode.removeChild(r)}r.async=!0,r.src=e+(e.includes("?")?"&":"?")+(i||"callback")+"="+o;var s=setTimeout((function(){a(),n&&n()}),1e4);window[o]=function(e){clearTimeout(s),a(),t(e)},document.head.appendChild(r)}var sr=function(e){function t(e){var n;if((0,r.A)(this,t),n=(0,a.A)(this,t,[{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:(0,ne.Jt)("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:"loading",tileLoadFunction:e.tileLoadFunction,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:e.zDirection}]),n.tileJSON_=null,n.tileSize_=e.tileSize,e.url)if(e.jsonp)ar(e.url,n.handleTileJSONResponse.bind(n),n.handleTileJSONError.bind(n));else{var i=new XMLHttpRequest;i.addEventListener("load",n.onXHRLoad_.bind(n)),i.addEventListener("error",n.onXHRError_.bind(n)),i.open("GET",e.url),i.send()}else{if(!e.tileJSON)throw new Error("Either `url` or `tileJSON` options must be provided");n.handleTileJSONResponse(e.tileJSON)}return n}return(0,s.A)(t,e),(0,o.A)(t,[{key:"onXHRLoad_",value:function(e){var t=e.target;if(!t.status||t.status>=200&&t.status<300){var n;try{n=JSON.parse(t.responseText)}catch(i){return void this.handleTileJSONError()}this.handleTileJSONResponse(n)}else this.handleTileJSONError()}},{key:"onXHRError_",value:function(e){this.handleTileJSONError()}},{key:"getTileJSON",value:function(){return this.tileJSON_}},{key:"handleTileJSONResponse",value:function(e){var t,n=(0,ne.Jt)("EPSG:4326"),i=this.getProjection();if(void 0!==e["bounds"]){var r=(0,ne.FO)(n,i);t=(0,h.NW)(e["bounds"],r)}var o=ue(i),a=e["minzoom"]||0,s=e["maxzoom"]||22,l=ae({extent:o,maxZoom:s,minZoom:a,tileSize:this.tileSize_});if(this.tileGrid=l,this.tileUrlFunction=ge(e["tiles"],l),e["attribution"]&&!this.getAttributions()){var u=void 0!==t?t:o;this.setAttributions((function(t){return(0,h.HY)(u,t.extent)?[e["attribution"]]:null}))}this.tileJSON_=e,this.setState("ready")}},{key:"handleTileJSONError",value:function(){this.setState("error")}}])}(Ke),lr=sr,ur=n(2910),cr=n(5335),hr=n(7083),dr=n(3077),pr=n(1853),gr=function(e){function t(e){var n;return(0,r.A)(this,t),n=(0,a.A)(this,t),e=e||{},n.dataProjection=new hr.A({code:"",units:"tile-pixels"}),n.featureClass_=e.featureClass?e.featureClass:dr.Ay,n.geometryName_=e.geometryName,n.layerName_=e.layerName?e.layerName:"layer",n.layers_=e.layers?e.layers:null,n.idProperty_=e.idProperty,n.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"],n}return(0,s.A)(t,e),(0,o.A)(t,[{key:"readRawGeometry_",value:function(e,t,n,i){e.pos=t.geometry;var r=e.readVarint()+e.pos,o=1,a=0,s=0,l=0,u=0,c=0;while(e.pos<r){if(!a){var h=e.readVarint();o=7&h,a=h>>3}if(a--,1===o||2===o)s+=e.readSVarint(),l+=e.readSVarint(),1===o&&u>c&&(i.push(u),c=u),n.push(s,l),u+=2;else{if(7!==o)throw new Error("Invalid command found in the PBF");u>c&&(n.push(n[c],n[c+1]),u+=2)}}u>c&&(i.push(u),c=u)}},{key:"createFeature_",value:function(e,t,n){var i,r=t.type;if(0===r)return null;var o,a=t.properties;this.idProperty_?(o=a[this.idProperty_],delete a[this.idProperty_]):o=t.id,a[this.layerName_]=t.layer.name;var s=[],l=[];this.readRawGeometry_(e,t,s,l);var u=Ar(r,l.length);if(this.featureClass_===dr.Ay)i=new this.featureClass_(u,s,l,2,a,o),i.transform(n.dataProjection);else{var c;if("Polygon"==u){var h=(0,pr.yJ)(s,l);c=h.length>1?new yn.A(s,"XY",h):new qt.Ay(s,"XY",l)}else c="Point"===u?new zt.A(s,"XY"):"LineString"===u?new gn.A(s,"XY"):"MultiPoint"===u?new vn.A(s,"XY"):"MultiLineString"===u?new mn.A(s,"XY",l):null;var d=this.featureClass_;i=new d,this.geometryName_&&i.setGeometryName(this.geometryName_);var p=(0,ur.hX)(c,!1,n);i.setGeometry(p),void 0!==o&&i.setId(o),i.setProperties(a,!0)}return i}},{key:"getType",value:function(){return"arraybuffer"}},{key:"readFeatures",value:function(e,t){var n=this.layers_;t=this.adaptOptions(t);var i=(0,ne.Jt)(t.dataProjection);i.setWorldExtent(t.extent),t.dataProjection=i;var r=new cr(e),o=r.readFields(fr,{}),a=[];for(var s in o)if(!n||n.includes(s)){var l=o[s],u=l?[0,0,l.extent,l.extent]:null;i.setExtent(u);for(var c=0,h=l.length;c<h;++c){var d=yr(r,l,c),p=this.createFeature_(r,d,t);null!==p&&a.push(p)}}return a}},{key:"readProjection",value:function(e){return this.dataProjection}},{key:"setLayers",value:function(e){this.layers_=e}}])}(ur.Ay);function fr(e,t,n){if(3===e){var i={keys:[],values:[],features:[]},r=n.readVarint()+n.pos;n.readFields(mr,i,r),i.length=i.features.length,i.length&&(t[i.name]=i)}}function mr(e,t,n){if(15===e)t.version=n.readVarint();else if(1===e)t.name=n.readString();else if(5===e)t.extent=n.readVarint();else if(2===e)t.features.push(n.pos);else if(3===e)t.keys.push(n.readString());else if(4===e){var i=null,r=n.readVarint()+n.pos;while(n.pos<r)e=n.readVarint()>>3,i=1===e?n.readString():2===e?n.readFloat():3===e?n.readDouble():4===e?n.readVarint64():5===e?n.readVarint():6===e?n.readSVarint():7===e?n.readBoolean():null;t.values.push(i)}}function vr(e,t,n){if(1==e)t.id=n.readVarint();else if(2==e){var i=n.readVarint()+n.pos;while(n.pos<i){var r=t.layer.keys[n.readVarint()],o=t.layer.values[n.readVarint()];t.properties[r]=o}}else 3==e?t.type=n.readVarint():4==e&&(t.geometry=n.pos)}function yr(e,t,n){e.pos=t.features[n];var i=e.readVarint()+e.pos,r={layer:t,type:0,properties:{}};return e.readFields(vr,r,i),r}function Ar(e,t){var n;return 1===e?n=1===t?"Point":"MultiPoint":2===e?n=1===t?"LineString":"MultiLineString":3===e&&(n="Polygon"),n}var _r=gr,Cr=n(4549),Ir=n(8911),Er=(n(3139),n(4705),n(3311)),wr=n(8655);function br(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}var xr,Sr={},Pr={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Mr(e){return e=Math.round(e),e<0?0:e>255?255:e}function kr(e){return e<0?0:e>1?1:e}function Rr(e){return"%"===e[e.length-1]?Mr(parseFloat(e)/100*255):Mr(parseInt(e))}function Tr(e){return"%"===e[e.length-1]?kr(parseFloat(e)/100):kr(parseFloat(e))}function Lr(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function Gr(e){var t=e.replace(/ /g,"").toLowerCase();if(t in Pr)return Pr[t].slice();if("#"===t[0]){if(4===t.length){var n=parseInt(t.substr(1),16);return n>=0&&n<=4095?[(3840&n)>>4|(3840&n)>>8,240&n|(240&n)>>4,15&n|(15&n)<<4,1]:null}if(7===t.length){n=parseInt(t.substr(1),16);return n>=0&&n<=16777215?[(16711680&n)>>16,(65280&n)>>8,255&n,1]:null}return null}var i=t.indexOf("("),r=t.indexOf(")");if(-1!==i&&r+1===t.length){var o=t.substr(0,i),a=t.substr(i+1,r-(i+1)).split(","),s=1;switch(o){case"rgba":if(4!==a.length)return null;s=Tr(a.pop());case"rgb":return 3!==a.length?null:[Rr(a[0]),Rr(a[1]),Rr(a[2]),s];case"hsla":if(4!==a.length)return null;s=Tr(a.pop());case"hsl":if(3!==a.length)return null;var l=(parseFloat(a[0])%360+360)%360/360,u=Tr(a[1]),c=Tr(a[2]),h=c<=.5?c*(u+1):c+u-c*u,d=2*c-h;return[Mr(255*Lr(d,h,l+1/3)),Mr(255*Lr(d,h,l)),Mr(255*Lr(d,h,l-1/3)),s];default:return null}}return null}try{xr=Sr.parseCSSColor=Gr}catch(nw){}class Or{constructor(e,t,n,i=1){this.r=e,this.g=t,this.b=n,this.a=i}static parse(e){if(!e)return;if(e instanceof Or)return e;if("string"!==typeof e)return;const t=xr(e);return t?new Or(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3]):void 0}toString(){const[e,t,n,i]=this.toArray();return`rgba(${Math.round(e)},${Math.round(t)},${Math.round(n)},${i})`}toArray(){const{r:e,g:t,b:n,a:i}=this;return 0===i?[0,0,0,0]:[255*e/i,255*t/i,255*n/i,i]}toArray01(){const{r:e,g:t,b:n,a:i}=this;return 0===i?[0,0,0,0]:[e/i,t/i,n/i,i]}toArray01PremultipliedAlpha(){const{r:e,g:t,b:n,a:i}=this;return[e,t,n,i]}}Or.black=new Or(0,0,0,1),Or.white=new Or(1,1,1,1),Or.transparent=new Or(0,0,0,0),Or.red=new Or(1,0,0,1),Or.blue=new Or(0,0,1,1);var Dr=Or;function Nr(e){return"object"===typeof e?["literal",e]:e}function Fr(e,t){let n=e.stops;if(!n)return Ur(e,t);const i=n&&"object"===typeof n[0][0],r=i||void 0!==e.property,o=i||!r;return n=n.map((e=>!r&&t.tokens&&"string"===typeof e[1]?[e[0],Zr(e[1])]:[e[0],Nr(e[1])])),i?jr(e,t,n):o?Yr(e,t,n):Vr(e,t,n)}function Ur(e,t){const n=["get",e.property];if(void 0===e.default)return"string"===t.type?["string",n]:n;if("enum"===t.type)return["match",n,Object.keys(t.values),n,e.default];{const i=["color"===t.type?"to-color":t.type,n,Nr(e.default)];return"array"===t.type&&i.splice(1,0,t.value,t.length||null),i}}function Br(e){switch(e.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function jr(e,t,n){const i={},r={},o=[];for(let s=0;s<n.length;s++){const t=n[s],a=t[0].zoom;void 0===i[a]&&(i[a]={zoom:a,type:e.type,property:e.property,default:e.default},r[a]=[],o.push(a)),r[a].push([t[0].value,t[1]])}const a=Xr({},t);if("exponential"===a){const n=[Br(e),["linear"],["zoom"]];for(const e of o){const o=Vr(i[e],t,r[e]);qr(n,e,o,!1)}return n}{const e=["step",["zoom"]];for(const n of o){const o=Vr(i[n],t,r[n]);qr(e,n,o,!0)}return Hr(e),e}}function zr(e,t){return void 0!==e?e:void 0!==t?t:void 0}function Wr(e,t){const n=Nr(zr(e.default,t.default));return void 0===n&&"resolvedImage"===t.type?"":n}function Vr(e,t,n){const i=Xr(e,t),r=["get",e.property];if("categorical"===i&&"boolean"===typeof n[0][0]){const i=["case"];for(const e of n)i.push(["==",r,e[0]],e[1]);return i.push(Wr(e,t)),i}if("categorical"===i){const i=["match",r];for(const e of n)qr(i,e[0],e[1],!1);return i.push(Wr(e,t)),i}if("interval"===i){const t=["step",["number",r]];for(const e of n)qr(t,e[0],e[1],!0);return Hr(t),void 0===e.default?t:["case",["==",["typeof",r],"number"],t,Nr(e.default)]}if("exponential"===i){const t=void 0!==e.base?e.base:1,i=[Br(e),1===t?["linear"]:["exponential",t],["number",r]];for(const e of n)qr(i,e[0],e[1],!1);return void 0===e.default?i:["case",["==",["typeof",r],"number"],i,Nr(e.default)]}throw new Error(`Unknown property function type ${i}`)}function Yr(e,t,n,i=["zoom"]){const r=Xr(e,t);let o,a=!1;if("interval"===r)o=["step",i],a=!0;else{if("exponential"!==r)throw new Error(`Unknown zoom function type "${r}"`);{const t=void 0!==e.base?e.base:1;o=[Br(e),1===t?["linear"]:["exponential",t],i]}}for(const s of n)qr(o,s[0],s[1],a);return Hr(o),o}function Hr(e){"step"===e[0]&&3===e.length&&(e.push(0),e.push(e[3]))}function qr(e,t,n,i){e.length>3&&t===e[e.length-2]||(i&&2===e.length||e.push(t),e.push(n))}function Xr(e,t){return e.type?e.type:t.expression.interpolated?"exponential":"interval"}function Zr(e){const t=["concat"],n=/{([^{}]+)}/g;let i=0;for(let r=n.exec(e);null!==r;r=n.exec(e)){const o=e.slice(i,n.lastIndex-r[0].length);i=n.lastIndex,o.length>0&&t.push(o),t.push(["get",r[1]])}if(1===t.length)return e;if(i<e.length)t.push(e.slice(i));else if(2===t.length)return["to-string",t[1]];return t}class Kr extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}var Jr=Kr;class Qr{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[n,i]of t)this.bindings[n]=i}concat(e){return new Qr(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}var $r=Qr;const eo={kind:"null"},to={kind:"number"},no={kind:"string"},io={kind:"boolean"},ro={kind:"color"},oo={kind:"object"},ao={kind:"value"},so={kind:"error"},lo={kind:"collator"},uo={kind:"formatted"},co={kind:"resolvedImage"};function ho(e,t){return{kind:"array",itemType:e,N:t}}function po(e){if("array"===e.kind){const t=po(e.itemType);return"number"===typeof e.N?`array<${t}, ${e.N}>`:"value"===e.itemType.kind?"array":`array<${t}>`}return e.kind}const go=[eo,to,no,io,ro,uo,oo,ho(ao),co];function fo(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!fo(e.itemType,t.itemType))&&("number"!==typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(const e of go)if(!fo(e,t))return null}return`Expected ${po(e)} but found ${po(t)} instead.`}function mo(e,t){return t.some((t=>t.kind===e.kind))}function vo(e,t){return t.some((t=>"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"===typeof e:t===typeof e))}class yo{constructor(e,t,n){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Ao{constructor(e,t,n,i,r){this.text=e.normalize?e.normalize():e,this.image=t,this.scale=n,this.fontStack=i,this.textColor=r}}class _o{constructor(e){this.sections=e}static fromString(e){return new _o([new Ao(e,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some((e=>0!==e.text.length||e.image&&0!==e.image.name.length))}static factory(e){return e instanceof _o?e:_o.fromString(e)}toString(){return 0===this.sections.length?"":this.sections.map((e=>e.text)).join("")}serialize(){const e=["format"];for(const t of this.sections){if(t.image){e.push(["image",t.image.name]);continue}e.push(t.text);const n={};t.fontStack&&(n["text-font"]=["literal",t.fontStack.split(",")]),t.scale&&(n["font-scale"]=t.scale),t.textColor&&(n["text-color"]=["rgba"].concat(t.textColor.toArray())),e.push(n)}return e}}class Co{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new Co({name:e,available:!1}):null}serialize(){return["image",this.name]}}function Io(e,t,n,i){if(!("number"===typeof e&&e>=0&&e<=255&&"number"===typeof t&&t>=0&&t<=255&&"number"===typeof n&&n>=0&&n<=255)){const r="number"===typeof i?[e,t,n,i]:[e,t,n];return`Invalid rgba value [${r.join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}return"undefined"===typeof i||"number"===typeof i&&i>=0&&i<=1?null:`Invalid rgba value [${[e,t,n,i].join(", ")}]: 'a' must be between 0 and 1.`}function Eo(e){if(null===e)return!0;if("string"===typeof e)return!0;if("boolean"===typeof e)return!0;if("number"===typeof e)return!0;if(e instanceof Dr)return!0;if(e instanceof yo)return!0;if(e instanceof _o)return!0;if(e instanceof Co)return!0;if(Array.isArray(e)){for(const t of e)if(!Eo(t))return!1;return!0}if("object"===typeof e){for(const t in e)if(!Eo(e[t]))return!1;return!0}return!1}function wo(e){if(null===e)return eo;if("string"===typeof e)return no;if("boolean"===typeof e)return io;if("number"===typeof e)return to;if(e instanceof Dr)return ro;if(e instanceof yo)return lo;if(e instanceof _o)return uo;if(e instanceof Co)return co;if(Array.isArray(e)){const t=e.length;let n;for(const i of e){const e=wo(i);if(n){if(n===e)continue;n=ao;break}n=e}return ho(n||ao,t)}return oo}function bo(e){const t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof Dr||e instanceof _o||e instanceof Co?e.toString():JSON.stringify(e)}class xo{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(2!==e.length)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!Eo(e[1]))return t.error("invalid value");const n=e[1];let i=wo(n);const r=t.expectedType;return"array"!==i.kind||0!==i.N||!r||"array"!==r.kind||"number"===typeof r.N&&0!==r.N||(i=r),new xo(i,n)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Dr?["rgba"].concat(this.value.toArray()):this.value instanceof _o?this.value.serialize():this.value}}var So=xo;class Po{constructor(e){this.name="ExpressionEvaluationError",this.message=e}toJSON(){return this.message}}var Mo=Po;const ko={string:no,number:to,boolean:io,object:oo};class Ro{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let n,i=1;const r=e[0];if("array"===r){let r,o;if(e.length>2){const n=e[1];if("string"!==typeof n||!(n in ko)||"object"===n)return t.error('The item type argument of "array" must be one of string, number, boolean',1);r=ko[n],i++}else r=ao;if(e.length>3){if(null!==e[2]&&("number"!==typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);o=e[2],i++}n=ho(r,o)}else n=ko[r];const o=[];for(;i<e.length;i++){const n=t.parse(e[i],i,ao);if(!n)return null;o.push(n)}return new Ro(n,o)}evaluate(e){for(let t=0;t<this.args.length;t++){const n=this.args[t].evaluate(e),i=fo(this.type,wo(n));if(!i)return n;if(t===this.args.length-1)throw new Mo(`Expected value to be of type ${po(this.type)}, but found ${po(wo(n))} instead.`)}return null}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}serialize(){const e=this.type,t=[e.kind];if("array"===e.kind){const n=e.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){t.push(n.kind);const i=e.N;("number"===typeof i||this.args.length>1)&&t.push(i)}}return t.concat(this.args.map((e=>e.serialize())))}}var To=Ro;class Lo{constructor(e){this.type=uo,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[1];if(!Array.isArray(n)&&"object"===typeof n)return t.error("First argument must be an image or text section.");const i=[];let r=!1;for(let o=1;o<=e.length-1;++o){const n=e[o];if(r&&"object"===typeof n&&!Array.isArray(n)){r=!1;let e=null;if(n["font-scale"]&&(e=t.parse(n["font-scale"],1,to),!e))return null;let o=null;if(n["text-font"]&&(o=t.parse(n["text-font"],1,ho(no)),!o))return null;let a=null;if(n["text-color"]&&(a=t.parse(n["text-color"],1,ro),!a))return null;const s=i[i.length-1];s.scale=e,s.font=o,s.textColor=a}else{const n=t.parse(e[o],1,ao);if(!n)return null;const a=n.type.kind;if("string"!==a&&"value"!==a&&"null"!==a&&"resolvedImage"!==a)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");r=!0,i.push({content:n,scale:null,font:null,textColor:null})}}return new Lo(i)}evaluate(e){const t=t=>{const n=t.content.evaluate(e);return wo(n)===co?new Ao("",n,null,null,null):new Ao(bo(n),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)};return new _o(this.sections.map(t))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor)}outputDefined(){return!1}serialize(){const e=["format"];for(const t of this.sections){e.push(t.content.serialize());const n={};t.scale&&(n["font-scale"]=t.scale.serialize()),t.font&&(n["text-font"]=t.font.serialize()),t.textColor&&(n["text-color"]=t.textColor.serialize()),e.push(n)}return e}}class Go{constructor(e){this.type=co,this.input=e}static parse(e,t){if(2!==e.length)return t.error("Expected two arguments.");const n=t.parse(e[1],1,no);return n?new Go(n):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),n=Co.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Oo={"to-boolean":io,"to-color":ro,"to-number":to,"to-string":no};class Do{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[0];if(("to-boolean"===n||"to-string"===n)&&2!==e.length)return t.error("Expected one argument.");const i=Oo[n],r=[];for(let o=1;o<e.length;o++){const n=t.parse(e[o],o,ao);if(!n)return null;r.push(n)}return new Do(i,r)}evaluate(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){let t,n;for(const i of this.args){if(t=i.evaluate(e),n=null,t instanceof Dr)return t;if("string"===typeof t){const n=e.parseColor(t);if(n)return n}else if(Array.isArray(t)&&(n=t.length<3||t.length>4?`Invalid rbga value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:Io(t[0],t[1],t[2],t[3]),!n))return new Dr(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new Mo(n||`Could not parse color from value '${"string"===typeof t?t:String(JSON.stringify(t))}'`)}if("number"===this.type.kind){let t=null;for(const n of this.args){if(t=n.evaluate(e),null===t)return 0;const i=Number(t);if(!isNaN(i))return i}throw new Mo(`Could not convert ${JSON.stringify(t)} to number.`)}return"formatted"===this.type.kind?_o.fromString(bo(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?Co.fromString(bo(this.args[0].evaluate(e))):bo(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}serialize(){if("formatted"===this.type.kind)return new Lo([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new Go(this.args[0]).serialize();const e=[`to-${this.type.kind}`];return this.eachChild((t=>{e.push(t.serialize())})),e}}var No=Do;const Fo=["Unknown","Point","LineString","Polygon"];class Uo{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&void 0!==this.feature.id?this.feature.id:null}geometryType(){return this.feature?"number"===typeof this.feature.type?Fo[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const e=this.featureDistanceData.center,t=this.featureDistanceData.scale,{x:n,y:i}=this.featureTileCoord,r=n*t-e[0],o=i*t-e[1],a=this.featureDistanceData.bearing[0],s=this.featureDistanceData.bearing[1],l=a*r+s*o;return l}return 0}parseColor(e){let t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=Dr.parse(e)),t}}var Bo=Uo;class jo{constructor(e,t,n,i){this.name=e,this.type=t,this._evaluate=n,this.args=i}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map((e=>e.serialize())))}static parse(e,t){const n=e[0],i=jo.definitions[n];if(!i)return t.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0);const r=Array.isArray(i)?i[0]:i.type,o=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,a=o.filter((([t])=>!Array.isArray(t)||t.length===e.length-1));let s=null;for(const[l,u]of a){s=new Ea(t.registry,t.path,null,t.scope);const i=[];let o=!1;for(let t=1;t<e.length;t++){const n=e[t],r=Array.isArray(l)?l[t-1]:l.type,a=s.parse(n,1+i.length,r);if(!a){o=!0;break}i.push(a)}if(!o)if(Array.isArray(l)&&l.length!==i.length)s.error(`Expected ${l.length} arguments, but found ${i.length} instead.`);else{for(let e=0;e<i.length;e++){const t=Array.isArray(l)?l[e]:l.type,n=i[e];s.concat(e+1).checkSubtype(t,n.type)}if(0===s.errors.length)return new jo(n,r,u,i)}}if(1===a.length)t.errors.push(...s.errors);else{const n=a.length?a:o,i=n.map((([e])=>zo(e))).join(" | "),r=[];for(let o=1;o<e.length;o++){const n=t.parse(e[o],1+r.length);if(!n)return null;r.push(po(n.type))}t.error(`Expected arguments of type ${i}, but found (${r.join(", ")}) instead.`)}return null}static register(e,t){jo.definitions=t;for(const n in t)e[n]=jo}}function zo(e){return Array.isArray(e)?`(${e.map(po).join(", ")})`:`(${po(e.type)}...)`}var Wo=jo;class Vo{constructor(e,t,n){this.type=lo,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(2!==e.length)return t.error("Expected one argument.");const n=e[1];if("object"!==typeof n||Array.isArray(n))return t.error("Collator options argument must be an object.");const i=t.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,io);if(!i)return null;const r=t.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,io);if(!r)return null;let o=null;return n["locale"]&&(o=t.parse(n["locale"],1,no),!o)?null:new Vo(i,r,o)}evaluate(e){return new yo(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}serialize(){const e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e["locale"]=this.locale.serialize()),["collator",e]}}const Yo=8192;function Ho(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function qo(e){return(180+e)/360}function Xo(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function Zo(e,t){return!(e[0]<=t[0])&&(!(e[2]>=t[2])&&(!(e[1]<=t[1])&&!(e[3]>=t[3])))}function Ko(e,t){const n=qo(e[0]),i=Xo(e[1]),r=Math.pow(2,t.z);return[Math.round(n*r*Yo),Math.round(i*r*Yo)]}function Jo(e,t,n){const i=e[0]-t[0],r=e[1]-t[1],o=e[0]-n[0],a=e[1]-n[1];return i*a-o*r===0&&i*o<=0&&r*a<=0}function Qo(e,t,n){return t[1]>e[1]!==n[1]>e[1]&&e[0]<(n[0]-t[0])*(e[1]-t[1])/(n[1]-t[1])+t[0]}function $o(e,t){let n=!1;for(let i=0,r=t.length;i<r;i++){const r=t[i];for(let t=0,i=r.length;t<i-1;t++){if(Jo(e,r[t],r[t+1]))return!1;Qo(e,r[t],r[t+1])&&(n=!n)}}return n}function ea(e,t){for(let n=0;n<t.length;n++)if($o(e,t[n]))return!0;return!1}function ta(e,t){return e[0]*t[1]-e[1]*t[0]}function na(e,t,n,i){const r=e[0]-n[0],o=e[1]-n[1],a=t[0]-n[0],s=t[1]-n[1],l=i[0]-n[0],u=i[1]-n[1],c=r*u-l*o,h=a*u-l*s;return c>0&&h<0||c<0&&h>0}function ia(e,t,n,i){const r=[t[0]-e[0],t[1]-e[1]],o=[i[0]-n[0],i[1]-n[1]];return 0!==ta(o,r)&&!(!na(e,t,n,i)||!na(n,i,e,t))}function ra(e,t,n){for(const i of n)for(let n=0;n<i.length-1;++n)if(ia(e,t,i[n],i[n+1]))return!0;return!1}function oa(e,t){for(let n=0;n<e.length;++n)if(!$o(e[n],t))return!1;for(let n=0;n<e.length-1;++n)if(ra(e[n],e[n+1],t))return!1;return!0}function aa(e,t){for(let n=0;n<t.length;n++)if(oa(e,t[n]))return!0;return!1}function sa(e,t,n){const i=[];for(let r=0;r<e.length;r++){const o=[];for(let i=0;i<e[r].length;i++){const a=Ko(e[r][i],n);Ho(t,a),o.push(a)}i.push(o)}return i}function la(e,t,n){const i=[];for(let r=0;r<e.length;r++){const o=sa(e[r],t,n);i.push(o)}return i}function ua(e,t,n,i){if(e[0]<n[0]||e[0]>n[2]){const t=.5*i;let r=e[0]-n[0]>t?-i:n[0]-e[0]>t?i:0;0===r&&(r=e[0]-n[2]>t?-i:n[2]-e[0]>t?i:0),e[0]+=r}Ho(t,e)}function ca(e){e[0]=e[1]=1/0,e[2]=e[3]=-1/0}function ha(e,t,n,i){const r=Math.pow(2,i.z)*Yo,o=[i.x*Yo,i.y*Yo],a=[];if(!e)return a;for(const s of e)for(const e of s){const i=[e.x+o[0],e.y+o[1]];ua(i,t,n,r),a.push(i)}return a}function da(e,t,n,i){const r=Math.pow(2,i.z)*Yo,o=[i.x*Yo,i.y*Yo],a=[];if(!e)return a;for(const s of e){const e=[];for(const n of s){const i=[n.x+o[0],n.y+o[1]];Ho(t,i),e.push(i)}a.push(e)}if(t[2]-t[0]<=r/2){ca(t);for(const e of a)for(const i of e)ua(i,t,n,r)}return a}function pa(e,t){const n=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],r=e.canonicalID();if(!r)return!1;if("Polygon"===t.type){const o=sa(t.coordinates,i,r),a=ha(e.geometry(),n,i,r);if(!Zo(n,i))return!1;for(const e of a)if(!$o(e,o))return!1}if("MultiPolygon"===t.type){const o=la(t.coordinates,i,r),a=ha(e.geometry(),n,i,r);if(!Zo(n,i))return!1;for(const e of a)if(!ea(e,o))return!1}return!0}function ga(e,t){const n=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],r=e.canonicalID();if(!r)return!1;if("Polygon"===t.type){const o=sa(t.coordinates,i,r),a=da(e.geometry(),n,i,r);if(!Zo(n,i))return!1;for(const e of a)if(!oa(e,o))return!1}if("MultiPolygon"===t.type){const o=la(t.coordinates,i,r),a=da(e.geometry(),n,i,r);if(!Zo(n,i))return!1;for(const e of a)if(!aa(e,o))return!1}return!0}class fa{constructor(e,t){this.type=io,this.geojson=e,this.geometries=t}static parse(e,t){if(2!==e.length)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(Eo(e[1])){const t=e[1];if("FeatureCollection"===t.type)for(let e=0;e<t.features.length;++e){const n=t.features[e].geometry.type;if("Polygon"===n||"MultiPolygon"===n)return new fa(t,t.features[e].geometry)}else if("Feature"===t.type){const e=t.geometry.type;if("Polygon"===e||"MultiPolygon"===e)return new fa(t,t.geometry)}else if("Polygon"===t.type||"MultiPolygon"===t.type)return new fa(t,t)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return pa(e,this.geometries);if("LineString"===e.geometryType())return ga(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var ma=fa;function va(e){if(e instanceof Wo){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof ma)return!1;let t=!0;return e.eachChild((e=>{t&&!va(e)&&(t=!1)})),t}function ya(e){if(e instanceof Wo&&"feature-state"===e.name)return!1;let t=!0;return e.eachChild((e=>{t&&!ya(e)&&(t=!1)})),t}function Aa(e,t){if(e instanceof Wo&&t.indexOf(e.name)>=0)return!1;let n=!0;return e.eachChild((e=>{n&&!Aa(e,t)&&(n=!1)})),n}class _a{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(2!==e.length||"string"!==typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");const n=e[1];return t.scope.has(n)?new _a(n,t.scope.get(n)):t.error(`Unknown variable "${n}". Make sure "${n}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var Ca=_a;class Ia{constructor(e,t=[],n,i=new $r,r=[]){this.registry=e,this.path=t,this.key=t.map((e=>`[${e}]`)).join(""),this.scope=i,this.errors=r,this.expectedType=n}parse(e,t,n,i,r={}){return t?this.concat(t,n,i)._parse(e,r):this._parse(e,r)}_parse(e,t){function n(e,t,n){return"assert"===n?new To(t,[e]):"coerce"===n?new No(t,[e]):e}if(null!==e&&"string"!==typeof e&&"boolean"!==typeof e&&"number"!==typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const i=e[0];if("string"!==typeof i)return this.error(`Expression name must be a string, but found ${typeof i} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const r=this.registry[i];if(r){let i=r.parse(e,this);if(!i)return null;if(this.expectedType){const e=this.expectedType,r=i.type;if("string"!==e.kind&&"number"!==e.kind&&"boolean"!==e.kind&&"object"!==e.kind&&"array"!==e.kind||"value"!==r.kind)if("color"!==e.kind&&"formatted"!==e.kind&&"resolvedImage"!==e.kind||"value"!==r.kind&&"string"!==r.kind){if(this.checkSubtype(e,r))return null}else i=n(i,e,t.typeAnnotation||"coerce");else i=n(i,e,t.typeAnnotation||"assert")}if(!(i instanceof So)&&"resolvedImage"!==i.type.kind&&wa(i)){const e=new Bo;try{i=new So(i.type,i.evaluate(e))}catch(nw){return this.error(nw.message),null}}return i}return this.error(`Unknown expression "${i}". If you wanted a literal array, use ["literal", [...]].`,0)}return"undefined"===typeof e?this.error("'undefined' value invalid. Use null instead."):"object"===typeof e?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof e} instead.`)}concat(e,t,n){const i="number"===typeof e?this.path.concat(e):this.path,r=n?this.scope.concat(n):this.scope;return new Ia(this.registry,i,t||null,r,this.errors)}error(e,...t){const n=`${this.key}${t.map((e=>`[${e}]`)).join("")}`;this.errors.push(new Jr(n,e))}checkSubtype(e,t){const n=fo(e,t);return n&&this.error(n),n}}var Ea=Ia;function wa(e){if(e instanceof Ca)return wa(e.boundExpression);if(e instanceof Wo&&"error"===e.name)return!1;if(e instanceof Vo)return!1;if(e instanceof ma)return!1;const t=e instanceof No||e instanceof To;let n=!0;return e.eachChild((e=>{n=t?n&&wa(e):n&&e instanceof So})),!!n&&(va(e)&&Aa(e,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"]))}function ba(e,t){const n=e.length-1;let i,r,o=0,a=n,s=0;while(o<=a)if(s=Math.floor((o+a)/2),i=e[s],r=e[s+1],i<=t){if(s===n||t<r)return s;o=s+1}else{if(!(i>t))throw new Mo("Input is not a number.");a=s-1}return 0}class xa{constructor(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[i,r]of n)this.labels.push(i),this.outputs.push(r)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!==0)return t.error("Expected an even number of arguments.");const n=t.parse(e[1],1,to);if(!n)return null;const i=[];let r=null;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);for(let o=1;o<e.length;o+=2){const n=1===o?-1/0:e[o],a=e[o+1],s=o,l=o+1;if("number"!==typeof n)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',s);if(i.length&&i[i.length-1][0]>=n)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',s);const u=t.parse(a,l,r);if(!u)return null;r=r||u.type,i.push([n,u])}return new xa(r,n,i)}evaluate(e){const t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);const i=this.input.evaluate(e);if(i<=t[0])return n[0].evaluate(e);const r=t.length;if(i>=t[r-1])return n[r-1].evaluate(e);const o=ba(t,i);return n[o].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))}serialize(){const e=["step",this.input.serialize()];for(let t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e}}var Sa=xa,Pa=Ma;function Ma(e,t,n,i){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(i-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=i,this.p2x=n,this.p2y=i}Ma.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},Ma.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},Ma.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},Ma.prototype.solveCurveX=function(e,t){var n,i,r,o,a;for("undefined"===typeof t&&(t=1e-6),r=e,a=0;a<8;a++){if(o=this.sampleCurveX(r)-e,Math.abs(o)<t)return r;var s=this.sampleCurveDerivativeX(r);if(Math.abs(s)<1e-6)break;r-=o/s}if(n=0,i=1,r=e,r<n)return n;if(r>i)return i;while(n<i){if(o=this.sampleCurveX(r),Math.abs(o-e)<t)return r;e>o?n=r:i=r,r=.5*(i-n)+n}return r},Ma.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var ka=br(Pa);function Ra(e,t,n){return e*(1-n)+t*n}function Ta(e,t,n){return new Dr(Ra(e.r,t.r,n),Ra(e.g,t.g,n),Ra(e.b,t.b,n),Ra(e.a,t.a,n))}function La(e,t,n){return e.map(((e,i)=>Ra(e,t[i],n)))}var Ga=Object.freeze({__proto__:null,number:Ra,color:Ta,array:La});const Oa=.95047,Da=1,Na=1.08883,Fa=4/29,Ua=6/29,Ba=3*Ua*Ua,ja=Ua*Ua*Ua,za=Math.PI/180,Wa=180/Math.PI;function Va(e){return e>ja?Math.pow(e,1/3):e/Ba+Fa}function Ya(e){return e>Ua?e*e*e:Ba*(e-Fa)}function Ha(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function qa(e){return e/=255,e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Xa(e){const t=qa(e.r),n=qa(e.g),i=qa(e.b),r=Va((.4124564*t+.3575761*n+.1804375*i)/Oa),o=Va((.2126729*t+.7151522*n+.072175*i)/Da),a=Va((.0193339*t+.119192*n+.9503041*i)/Na);return{l:116*o-16,a:500*(r-o),b:200*(o-a),alpha:e.a}}function Za(e){let t=(e.l+16)/116,n=isNaN(e.a)?t:t+e.a/500,i=isNaN(e.b)?t:t-e.b/200;return t=Da*Ya(t),n=Oa*Ya(n),i=Na*Ya(i),new Dr(Ha(3.2404542*n-1.5371385*t-.4985314*i),Ha(-.969266*n+1.8760108*t+.041556*i),Ha(.0556434*n-.2040259*t+1.0572252*i),e.alpha)}function Ka(e,t,n){return{l:Ra(e.l,t.l,n),a:Ra(e.a,t.a,n),b:Ra(e.b,t.b,n),alpha:Ra(e.alpha,t.alpha,n)}}function Ja(e){const{l:t,a:n,b:i}=Xa(e),r=Math.atan2(i,n)*Wa;return{h:r<0?r+360:r,c:Math.sqrt(n*n+i*i),l:t,alpha:e.a}}function Qa(e){const t=e.h*za,n=e.c,i=e.l;return Za({l:i,a:Math.cos(t)*n,b:Math.sin(t)*n,alpha:e.alpha})}function $a(e,t,n){const i=t-e;return e+n*(i>180||i<-180?i-360*Math.round(i/360):i)}function es(e,t,n){return{h:$a(e.h,t.h,n),c:Ra(e.c,t.c,n),l:Ra(e.l,t.l,n),alpha:Ra(e.alpha,t.alpha,n)}}const ts={forward:Xa,reverse:Za,interpolate:Ka},ns={forward:Ja,reverse:Qa,interpolate:es};class is{constructor(e,t,n,i,r){this.type=e,this.operator=t,this.interpolation=n,this.input=i,this.labels=[],this.outputs=[];for(const[o,a]of r)this.labels.push(o),this.outputs.push(a)}static interpolationFactor(e,t,n,i){let r=0;if("exponential"===e.name)r=rs(t,e.base,n,i);else if("linear"===e.name)r=rs(t,1,n,i);else if("cubic-bezier"===e.name){const o=e.controlPoints,a=new ka(o[0],o[1],o[2],o[3]);r=a.solve(rs(t,1,n,i))}return r}static parse(e,t){let[n,i,r,...o]=e;if(!Array.isArray(i)||0===i.length)return t.error("Expected an interpolation type expression.",1);if("linear"===i[0])i={name:"linear"};else if("exponential"===i[0]){const e=i[1];if("number"!==typeof e)return t.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:e}}else{if("cubic-bezier"!==i[0])return t.error(`Unknown interpolation type ${String(i[0])}`,1,0);{const e=i.slice(1);if(4!==e.length||e.some((e=>"number"!==typeof e||e<0||e>1)))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:e}}}if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!==0)return t.error("Expected an even number of arguments.");if(r=t.parse(r,2,to),!r)return null;const a=[];let s=null;"interpolate-hcl"===n||"interpolate-lab"===n?s=ro:t.expectedType&&"value"!==t.expectedType.kind&&(s=t.expectedType);for(let l=0;l<o.length;l+=2){const e=o[l],n=o[l+1],i=l+3,r=l+4;if("number"!==typeof e)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',i);if(a.length&&a[a.length-1][0]>=e)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',i);const u=t.parse(n,r,s);if(!u)return null;s=s||u.type,a.push([e,u])}return"number"===s.kind||"color"===s.kind||"array"===s.kind&&"number"===s.itemType.kind&&"number"===typeof s.N?new is(s,n,i,r,a):t.error(`Type ${po(s)} is not interpolatable.`)}evaluate(e){const t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);const i=this.input.evaluate(e);if(i<=t[0])return n[0].evaluate(e);const r=t.length;if(i>=t[r-1])return n[r-1].evaluate(e);const o=ba(t,i),a=t[o],s=t[o+1],l=is.interpolationFactor(this.interpolation,i,a,s),u=n[o].evaluate(e),c=n[o+1].evaluate(e);return"interpolate"===this.operator?Ga[this.type.kind.toLowerCase()](u,c,l):"interpolate-hcl"===this.operator?ns.reverse(ns.interpolate(ns.forward(u),ns.forward(c),l)):ts.reverse(ts.interpolate(ts.forward(u),ts.forward(c),l))}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))}serialize(){let e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const t=[this.operator,e,this.input.serialize()];for(let n=0;n<this.labels.length;n++)t.push(this.labels[n],this.outputs[n].serialize());return t}}function rs(e,t,n,i){const r=i-n,o=e-n;return 0===r?0:1===t?o/r:(Math.pow(t,o)-1)/(Math.pow(t,r)-1)}var os=is;class as{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expectected at least one argument.");let n=null;const i=t.expectedType;i&&"value"!==i.kind&&(n=i);const r=[];for(const a of e.slice(1)){const e=t.parse(a,1+r.length,n,void 0,{typeAnnotation:"omit"});if(!e)return null;n=n||e.type,r.push(e)}const o=i&&r.some((e=>fo(i,e.type)));return new as(o?ao:n,r)}evaluate(e){let t,n=null,i=0;for(const r of this.args){if(i++,n=r.evaluate(e),n&&n instanceof Co&&!n.available&&(t||(t=n),n=null,i===this.args.length))return t;if(null!==n)break}return n}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}serialize(){const e=["coalesce"];return this.eachChild((t=>{e.push(t.serialize())})),e}}var ss=as;class ls{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const n=[];for(let r=1;r<e.length-1;r+=2){const i=e[r];if("string"!==typeof i)return t.error(`Expected string, but found ${typeof i} instead.`,r);if(/[^a-zA-Z0-9_]/.test(i))return t.error("Variable names must contain only alphanumeric characters or '_'.",r);const o=t.parse(e[r+1],r+1);if(!o)return null;n.push([i,o])}const i=t.parse(e[e.length-1],e.length-1,t.expectedType,n);return i?new ls(n,i):null}outputDefined(){return this.result.outputDefined()}serialize(){const e=["let"];for(const[t,n]of this.bindings)e.push(t,n.serialize());return e.push(this.result.serialize()),e}}var us=ls;class cs{constructor(e,t,n){this.type=e,this.index=t,this.input=n}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,to),i=t.parse(e[2],2,ho(t.expectedType||ao));if(!n||!i)return null;const r=i.type;return new cs(r.itemType,n,i)}evaluate(e){const t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new Mo(`Array index out of bounds: ${t} < 0.`);if(t>=n.length)throw new Mo(`Array index out of bounds: ${t} > ${n.length-1}.`);if(t!==Math.floor(t))throw new Mo(`Array index must be an integer, but found ${t} instead.`);return n[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var hs=cs;class ds{constructor(e,t){this.type=io,this.needle=e,this.haystack=t}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,ao),i=t.parse(e[2],2,ao);return n&&i?mo(n.type,[io,no,to,eo,ao])?new ds(n,i):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${po(n.type)} instead`):null}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(null==n)return!1;if(!vo(t,["boolean","string","number","null"]))throw new Mo(`Expected first argument to be of type boolean, string, number or null, but found ${po(wo(t))} instead.`);if(!vo(n,["string","array"]))throw new Mo(`Expected second argument to be of type array or string, but found ${po(wo(n))} instead.`);return n.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var ps=ds;class gs{constructor(e,t,n){this.type=to,this.needle=e,this.haystack=t,this.fromIndex=n}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,ao),i=t.parse(e[2],2,ao);if(!n||!i)return null;if(!mo(n.type,[io,no,to,eo,ao]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${po(n.type)} instead`);if(4===e.length){const r=t.parse(e[3],3,to);return r?new gs(n,i,r):null}return new gs(n,i)}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!vo(t,["boolean","string","number","null"]))throw new Mo(`Expected first argument to be of type boolean, string, number or null, but found ${po(wo(t))} instead.`);if(!vo(n,["string","array"]))throw new Mo(`Expected second argument to be of type array or string, but found ${po(wo(n))} instead.`);if(this.fromIndex){const i=this.fromIndex.evaluate(e);return n.indexOf(t,i)}return n.indexOf(t)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var fs=gs;class ms{constructor(e,t,n,i,r,o){this.inputType=e,this.type=t,this.input=n,this.cases=i,this.outputs=r,this.otherwise=o}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!==1)return t.error("Expected an even number of arguments.");let n,i;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);const r={},o=[];for(let l=2;l<e.length-1;l+=2){let a=e[l];const s=e[l+1];Array.isArray(a)||(a=[a]);const u=t.concat(l);if(0===a.length)return u.error("Expected at least one branch label.");for(const e of a){if("number"!==typeof e&&"string"!==typeof e)return u.error("Branch labels must be numbers or strings.");if("number"===typeof e&&Math.abs(e)>Number.MAX_SAFE_INTEGER)return u.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"===typeof e&&Math.floor(e)!==e)return u.error("Numeric branch labels must be integer values.");if(n){if(u.checkSubtype(n,wo(e)))return null}else n=wo(e);if("undefined"!==typeof r[String(e)])return u.error("Branch labels must be unique.");r[String(e)]=o.length}const c=t.parse(s,l,i);if(!c)return null;i=i||c.type,o.push(c)}const a=t.parse(e[1],1,ao);if(!a)return null;const s=t.parse(e[e.length-1],e.length-1,i);return s?"value"!==a.type.kind&&t.concat(1).checkSubtype(n,a.type)?null:new ms(n,i,a,r,o,s):null}evaluate(e){const t=this.input.evaluate(e),n=wo(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise;return n.evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const e=["match",this.input.serialize()],t=Object.keys(this.cases).sort(),n=[],i={};for(const o of t){const e=i[this.cases[o]];void 0===e?(i[this.cases[o]]=n.length,n.push([this.cases[o],[o]])):n[e][1].push(o)}const r=e=>"number"===this.inputType.kind?Number(e):e;for(const[o,a]of n)1===a.length?e.push(r(a[0])):e.push(a.map(r)),e.push(this.outputs[o].serialize());return e.push(this.otherwise.serialize()),e}}var vs=ms;class ys{constructor(e,t,n){this.type=e,this.branches=t,this.otherwise=n}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!==0)return t.error("Expected an odd number of arguments.");let n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);const i=[];for(let o=1;o<e.length-1;o+=2){const r=t.parse(e[o],o,io);if(!r)return null;const a=t.parse(e[o+1],o+1,n);if(!a)return null;i.push([r,a]),n=n||a.type}const r=t.parse(e[e.length-1],e.length-1,n);return r?new ys(n,i,r):null}evaluate(e){for(const[t,n]of this.branches)if(t.evaluate(e))return n.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,n]of this.branches)e(t),e(n);e(this.otherwise)}outputDefined(){return this.branches.every((([e,t])=>t.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const e=["case"];return this.eachChild((t=>{e.push(t.serialize())})),e}}var As=ys;class _s{constructor(e,t,n,i){this.type=e,this.input=t,this.beginIndex=n,this.endIndex=i}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,ao),i=t.parse(e[2],2,to);if(!n||!i)return null;if(!mo(n.type,[ho(ao),no,ao]))return t.error(`Expected first argument to be of type array or string, but found ${po(n.type)} instead`);if(4===e.length){const r=t.parse(e[3],3,to);return r?new _s(n.type,n,i,r):null}return new _s(n.type,n,i)}evaluate(e){const t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);if(!vo(t,["string","array"]))throw new Mo(`Expected first argument to be of type array or string, but found ${po(wo(t))} instead.`);if(this.endIndex){const i=this.endIndex.evaluate(e);return t.slice(n,i)}return t.slice(n)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var Cs=_s;function Is(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function Es(e,t,n){return t===n}function ws(e,t,n){return t!==n}function bs(e,t,n){return t<n}function xs(e,t,n){return t>n}function Ss(e,t,n){return t<=n}function Ps(e,t,n){return t>=n}function Ms(e,t,n,i){return 0===i.compare(t,n)}function ks(e,t,n,i){return!Ms(e,t,n,i)}function Rs(e,t,n,i){return i.compare(t,n)<0}function Ts(e,t,n,i){return i.compare(t,n)>0}function Ls(e,t,n,i){return i.compare(t,n)<=0}function Gs(e,t,n,i){return i.compare(t,n)>=0}function Os(e,t,n){const i="=="!==e&&"!="!==e;return class r{constructor(e,t,n){this.type=io,this.lhs=e,this.rhs=t,this.collator=n,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}static parse(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");const n=e[0];let o=t.parse(e[1],1,ao);if(!o)return null;if(!Is(n,o.type))return t.concat(1).error(`"${n}" comparisons are not supported for type '${po(o.type)}'.`);let a=t.parse(e[2],2,ao);if(!a)return null;if(!Is(n,a.type))return t.concat(2).error(`"${n}" comparisons are not supported for type '${po(a.type)}'.`);if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error(`Cannot compare types '${po(o.type)}' and '${po(a.type)}'.`);i&&("value"===o.type.kind&&"value"!==a.type.kind?o=new To(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new To(o.type,[a])));let s=null;if(4===e.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(s=t.parse(e[3],3,lo),!s)return null}return new r(o,a,s)}evaluate(r){const o=this.lhs.evaluate(r),a=this.rhs.evaluate(r);if(i&&this.hasUntypedArgument){const t=wo(o),n=wo(a);if(t.kind!==n.kind||"string"!==t.kind&&"number"!==t.kind)throw new Mo(`Expected arguments for "${e}" to be (string, string) or (number, number), but found (${t.kind}, ${n.kind}) instead.`)}if(this.collator&&!i&&this.hasUntypedArgument){const e=wo(o),n=wo(a);if("string"!==e.kind||"string"!==n.kind)return t(r,o,a)}return this.collator?n(r,o,a,this.collator.evaluate(r)):t(r,o,a)}eachChild(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}outputDefined(){return!0}serialize(){const t=[e];return this.eachChild((e=>{t.push(e.serialize())})),t}}}const Ds=Os("==",Es,Ms),Ns=Os("!=",ws,ks),Fs=Os("<",bs,Rs),Us=Os(">",xs,Ts),Bs=Os("<=",Ss,Ls),js=Os(">=",Ps,Gs);class zs{constructor(e,t,n,i,r,o){this.type=no,this.number=e,this.locale=t,this.currency=n,this.unit=i,this.minFractionDigits=r,this.maxFractionDigits=o}static parse(e,t){if(3!==e.length)return t.error("Expected two arguments.");const n=t.parse(e[1],1,to);if(!n)return null;const i=e[2];if("object"!==typeof i||Array.isArray(i))return t.error("NumberFormat options argument must be an object.");let r=null;if(i["locale"]&&(r=t.parse(i["locale"],1,no),!r))return null;let o=null;if(i["currency"]&&(o=t.parse(i["currency"],1,no),!o))return null;let a=null;if(i["unit"]&&(a=t.parse(i["unit"],1,no),!a))return null;let s=null;if(i["min-fraction-digits"]&&(s=t.parse(i["min-fraction-digits"],1,to),!s))return null;let l=null;return i["max-fraction-digits"]&&(l=t.parse(i["max-fraction-digits"],1,to),!l)?null:new zs(n,r,o,a,s,l)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(e):void 0,unit:this.unit?this.unit.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.unit&&e(this.unit),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const e={};return this.locale&&(e["locale"]=this.locale.serialize()),this.currency&&(e["currency"]=this.currency.serialize()),this.unit&&(e["unit"]=this.unit.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}class Ws{constructor(e){this.type=to,this.input=e}static parse(e,t){if(2!==e.length)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const n=t.parse(e[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?t.error(`Expected argument of type string or array, but found ${po(n.type)} instead.`):new Ws(n):null}evaluate(e){const t=this.input.evaluate(e);if("string"===typeof t)return t.length;if(Array.isArray(t))return t.length;throw new Mo(`Expected value to be of type string or array, but found ${po(wo(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){const e=["length"];return this.eachChild((t=>{e.push(t.serialize())})),e}}var Vs=Ws;const Ys={"==":Ds,"!=":Ns,">":Us,"<":Fs,">=":js,"<=":Bs,array:To,at:hs,boolean:To,case:As,coalesce:ss,collator:Vo,format:Lo,image:Go,in:ps,"index-of":fs,interpolate:os,"interpolate-hcl":os,"interpolate-lab":os,length:Vs,let:us,literal:So,match:vs,number:To,"number-format":zs,object:To,slice:Cs,step:Sa,string:To,"to-boolean":No,"to-color":No,"to-number":No,"to-string":No,var:Ca,within:ma};function Hs(e,[t,n,i,r]){t=t.evaluate(e),n=n.evaluate(e),i=i.evaluate(e);const o=r?r.evaluate(e):1,a=Io(t,n,i,o);if(a)throw new Mo(a);return new Dr(t/255*o,n/255*o,i/255*o,o)}function qs(e,t){return e in t}function Xs(e,t){const n=t[e];return"undefined"===typeof n?null:n}function Zs(e,t,n,i){while(n<=i){const r=n+i>>1;if(t[r]===e)return!0;t[r]>e?i=r-1:n=r+1}return!1}function Ks(e){return{type:e}}Wo.register(Ys,{error:[so,[no],(e,[t])=>{throw new Mo(t.evaluate(e))}],typeof:[no,[ao],(e,[t])=>po(wo(t.evaluate(e)))],"to-rgba":[ho(to,4),[ro],(e,[t])=>t.evaluate(e).toArray()],rgb:[ro,[to,to,to],Hs],rgba:[ro,[to,to,to,to],Hs],has:{type:io,overloads:[[[no],(e,[t])=>qs(t.evaluate(e),e.properties())],[[no,oo],(e,[t,n])=>qs(t.evaluate(e),n.evaluate(e))]]},get:{type:ao,overloads:[[[no],(e,[t])=>Xs(t.evaluate(e),e.properties())],[[no,oo],(e,[t,n])=>Xs(t.evaluate(e),n.evaluate(e))]]},"feature-state":[ao,[no],(e,[t])=>Xs(t.evaluate(e),e.featureState||{})],properties:[oo,[],e=>e.properties()],"geometry-type":[no,[],e=>e.geometryType()],id:[ao,[],e=>e.id()],zoom:[to,[],e=>e.globals.zoom],pitch:[to,[],e=>e.globals.pitch||0],"distance-from-center":[to,[],e=>e.distanceFromCenter()],"heatmap-density":[to,[],e=>e.globals.heatmapDensity||0],"line-progress":[to,[],e=>e.globals.lineProgress||0],"sky-radial-progress":[to,[],e=>e.globals.skyRadialProgress||0],accumulated:[ao,[],e=>void 0===e.globals.accumulated?null:e.globals.accumulated],"+":[to,Ks(to),(e,t)=>{let n=0;for(const i of t)n+=i.evaluate(e);return n}],"*":[to,Ks(to),(e,t)=>{let n=1;for(const i of t)n*=i.evaluate(e);return n}],"-":{type:to,overloads:[[[to,to],(e,[t,n])=>t.evaluate(e)-n.evaluate(e)],[[to],(e,[t])=>-t.evaluate(e)]]},"/":[to,[to,to],(e,[t,n])=>t.evaluate(e)/n.evaluate(e)],"%":[to,[to,to],(e,[t,n])=>t.evaluate(e)%n.evaluate(e)],ln2:[to,[],()=>Math.LN2],pi:[to,[],()=>Math.PI],e:[to,[],()=>Math.E],"^":[to,[to,to],(e,[t,n])=>Math.pow(t.evaluate(e),n.evaluate(e))],sqrt:[to,[to],(e,[t])=>Math.sqrt(t.evaluate(e))],log10:[to,[to],(e,[t])=>Math.log(t.evaluate(e))/Math.LN10],ln:[to,[to],(e,[t])=>Math.log(t.evaluate(e))],log2:[to,[to],(e,[t])=>Math.log(t.evaluate(e))/Math.LN2],sin:[to,[to],(e,[t])=>Math.sin(t.evaluate(e))],cos:[to,[to],(e,[t])=>Math.cos(t.evaluate(e))],tan:[to,[to],(e,[t])=>Math.tan(t.evaluate(e))],asin:[to,[to],(e,[t])=>Math.asin(t.evaluate(e))],acos:[to,[to],(e,[t])=>Math.acos(t.evaluate(e))],atan:[to,[to],(e,[t])=>Math.atan(t.evaluate(e))],min:[to,Ks(to),(e,t)=>Math.min(...t.map((t=>t.evaluate(e))))],max:[to,Ks(to),(e,t)=>Math.max(...t.map((t=>t.evaluate(e))))],abs:[to,[to],(e,[t])=>Math.abs(t.evaluate(e))],round:[to,[to],(e,[t])=>{const n=t.evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[to,[to],(e,[t])=>Math.floor(t.evaluate(e))],ceil:[to,[to],(e,[t])=>Math.ceil(t.evaluate(e))],"filter-==":[io,[no,ao],(e,[t,n])=>e.properties()[t.value]===n.value],"filter-id-==":[io,[ao],(e,[t])=>e.id()===t.value],"filter-type-==":[io,[no],(e,[t])=>e.geometryType()===t.value],"filter-<":[io,[no,ao],(e,[t,n])=>{const i=e.properties()[t.value],r=n.value;return typeof i===typeof r&&i<r}],"filter-id-<":[io,[ao],(e,[t])=>{const n=e.id(),i=t.value;return typeof n===typeof i&&n<i}],"filter->":[io,[no,ao],(e,[t,n])=>{const i=e.properties()[t.value],r=n.value;return typeof i===typeof r&&i>r}],"filter-id->":[io,[ao],(e,[t])=>{const n=e.id(),i=t.value;return typeof n===typeof i&&n>i}],"filter-<=":[io,[no,ao],(e,[t,n])=>{const i=e.properties()[t.value],r=n.value;return typeof i===typeof r&&i<=r}],"filter-id-<=":[io,[ao],(e,[t])=>{const n=e.id(),i=t.value;return typeof n===typeof i&&n<=i}],"filter->=":[io,[no,ao],(e,[t,n])=>{const i=e.properties()[t.value],r=n.value;return typeof i===typeof r&&i>=r}],"filter-id->=":[io,[ao],(e,[t])=>{const n=e.id(),i=t.value;return typeof n===typeof i&&n>=i}],"filter-has":[io,[ao],(e,[t])=>t.value in e.properties()],"filter-has-id":[io,[],e=>null!==e.id()&&void 0!==e.id()],"filter-type-in":[io,[ho(no)],(e,[t])=>t.value.indexOf(e.geometryType())>=0],"filter-id-in":[io,[ho(ao)],(e,[t])=>t.value.indexOf(e.id())>=0],"filter-in-small":[io,[no,ho(ao)],(e,[t,n])=>n.value.indexOf(e.properties()[t.value])>=0],"filter-in-large":[io,[no,ho(ao)],(e,[t,n])=>Zs(e.properties()[t.value],n.value,0,n.value.length-1)],all:{type:io,overloads:[[[io,io],(e,[t,n])=>t.evaluate(e)&&n.evaluate(e)],[Ks(io),(e,t)=>{for(const n of t)if(!n.evaluate(e))return!1;return!0}]]},any:{type:io,overloads:[[[io,io],(e,[t,n])=>t.evaluate(e)||n.evaluate(e)],[Ks(io),(e,t)=>{for(const n of t)if(n.evaluate(e))return!0;return!1}]]},"!":[io,[io],(e,[t])=>!t.evaluate(e)],"is-supported-script":[io,[no],(e,[t])=>{const n=e.globals&&e.globals.isSupportedScript;return!n||n(t.evaluate(e))}],upcase:[no,[no],(e,[t])=>t.evaluate(e).toUpperCase()],downcase:[no,[no],(e,[t])=>t.evaluate(e).toLowerCase()],concat:[no,Ks(ao),(e,t)=>t.map((t=>bo(t.evaluate(e)))).join("")],"resolved-locale":[no,[lo],(e,[t])=>t.evaluate(e).resolvedLocale()]});var Js=Ys;function Qs(e){return{result:"success",value:e}}function $s(e){return{result:"error",value:e}}function el(e){return"data-driven"===e["property-type"]}function tl(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function nl(e){return!!e.expression&&e.expression.interpolated}function il(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)}class rl{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new Bo,this._defaultValue=t?dl(t):null,this._enumValues=t&&"enum"===t.type?t.values:null}evaluateWithoutErrorHandling(e,t,n,i,r,o,a,s){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=i||null,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=o,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=s||null,this.expression.evaluate(this._evaluator)}evaluate(e,t,n,i,r,o,a,s){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=i||null,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=o||null,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=s||null;try{const e=this.expression.evaluate(this._evaluator);if(null===e||void 0===e||"number"===typeof e&&e!==e)return this._defaultValue;if(this._enumValues&&!(e in this._enumValues))throw new Mo(`Expected value to be one of ${Object.keys(this._enumValues).map((e=>JSON.stringify(e))).join(", ")}, but found ${JSON.stringify(e)} instead.`);return e}catch(nw){return this._warningHistory[nw.message]||(this._warningHistory[nw.message]=!0,"undefined"!==typeof console&&console.warn(nw.message)),this._defaultValue}}}function ol(e){return Array.isArray(e)&&e.length>0&&"string"===typeof e[0]&&e[0]in Js}function al(e,t){const n=new Ea(Js,[],t?hl(t):void 0),i=n.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return i?Qs(new rl(i,t)):$s(n.errors)}class sl{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!ya(t.expression)}evaluateWithoutErrorHandling(e,t,n,i,r,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,i,r,o)}evaluate(e,t,n,i,r,o){return this._styleExpression.evaluate(e,t,n,i,r,o)}}class ll{constructor(e,t,n,i){this.kind=e,this.zoomStops=n,this._styleExpression=t,this.isStateDependent="camera"!==e&&!ya(t.expression),this.interpolationType=i}evaluateWithoutErrorHandling(e,t,n,i,r,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,i,r,o)}evaluate(e,t,n,i,r,o){return this._styleExpression.evaluate(e,t,n,i,r,o)}interpolationFactor(e,t,n){return this.interpolationType?os.interpolationFactor(this.interpolationType,e,t,n):0}}function ul(e,t){if(e=al(e,t),"error"===e.result)return e;const n=e.value.expression,i=va(n);if(!i&&!el(t))return $s([new Jr("","data expressions not supported")]);const r=Aa(n,["zoom","pitch","distance-from-center"]);if(!r&&!tl(t))return $s([new Jr("","zoom expressions not supported")]);const o=cl(n);if(!o&&!r)return $s([new Jr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(o instanceof Jr)return $s([o]);if(o instanceof os&&!nl(t))return $s([new Jr("",'"interpolate" expressions cannot be used with this property')]);if(!o)return Qs(new sl(i?"constant":"source",e.value));const a=o instanceof os?o.interpolation:void 0;return Qs(new ll(i?"camera":"composite",e.value,o.labels,a))}function cl(e){let t=null;if(e instanceof us)t=cl(e.result);else if(e instanceof ss){for(const n of e.args)if(t=cl(n),t)break}else(e instanceof Sa||e instanceof os)&&e.input instanceof Wo&&"zoom"===e.input.name&&(t=e);return t instanceof Jr||e.eachChild((e=>{const n=cl(e);n instanceof Jr?t=n:!t&&n?t=new Jr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&n&&t!==n&&(t=new Jr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),t}function hl(e){const t={color:ro,string:no,number:to,enum:no,boolean:io,formatted:uo,resolvedImage:co};return"array"===e.type?ho(t[e.value]||ao,e.length):t[e.type]}function dl(e){return"color"===e.type&&(il(e.default)||Array.isArray(e.default))?new Dr(0,0,0,0):"color"===e.type?Dr.parse(e.default)||null:void 0===e.default?null:e.default}function pl(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function gl(e){if(Array.isArray(e))return e.map(gl);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){const t={};for(const n in e)t[n]=gl(e[n]);return t}return pl(e)}var fl={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},fog:{type:"fog"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},projection:{type:"projection"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{},sky:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"},"fill-extrusion-edge-radius":{type:"number",private:!0,default:0,minimum:0,maximum:1,"property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_symbol:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature","pitch","distance-from-center"]}},filter_fill:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_line:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_circle:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},"filter_fill-extrusion":{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_heatmap:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Camera"},pitch:{group:"Camera"},"distance-from-center":{group:"Camera"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},"sky-radial-progress":{group:"sky"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},fog:{range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"high-color":{type:"color","property-type":"data-constant",default:"#245cdf",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"space-color":{type:"color","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,.2,7,.1],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"star-intensity":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],5,.35,6,0],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},projection:{name:{type:"enum",values:{albers:{},equalEarth:{},equirectangular:{},lambertConformalConic:{},mercator:{},naturalEarth:{},winkelTripel:{},globe:{}},default:"mercator",required:!0},center:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-180,-90],maximum:[180,90],transition:!1,requires:[{name:["albers","lambertConformalConic"]}]},parallels:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-90,-90],maximum:[90,90],transition:!1,requires:[{name:["albers","lambertConformalConic"]}]}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,requires:["source"]}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant",type:"number",private:!0,default:0,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant",type:"number",private:!0,default:3,minimum:0,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,requires:["fill-extrusion-edge-radius"]}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!1,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{type:"array",value:"number",length:2,default:[0,0],minimum:[0,0],maximum:[1,1],transition:!1,requires:[{source:"geojson",has:{lineMetrics:!0}}],"property-type":"constant"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{},atmosphere:{}},default:"atmosphere",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],transition:!1,requires:[{"sky-type":"gradient"}],expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};function ml(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!==typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(const t of e.slice(1))if(!ml(t)&&"boolean"!==typeof t)return!1;return!0;default:return!0}}function vl(e,t="fill"){if(null===e||void 0===e)return{filter:()=>!0,needGeometry:!1,needFeature:!1};ml(e)||(e=Sl(e));const n=e;let i=!0;try{i=yl(n)}catch(nw){console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n${JSON.stringify(n,null,2)}\n        `)}const r=fl[`filter_${t}`],o=al(i,r);let a=null;if("error"===o.result)throw new Error(o.value.map((e=>`${e.key}: ${e.message}`)).join(", "));a=(e,t,n)=>o.value.evaluate(e,t,{},n);let s=null,l=null;if(i!==n){const e=al(n,r);if("error"===e.result)throw new Error(e.value.map((e=>`${e.key}: ${e.message}`)).join(", "));s=(t,n,i,r,o)=>e.value.evaluate(t,n,{},i,void 0,void 0,r,o),l=!va(e.value.expression)}const u=xl(i);return{filter:a,dynamicFilter:s||void 0,needGeometry:u,needFeature:!!l}}function yl(e){if(!Cl(e))return e;let t=gl(e);return _l(t),t=Al(t),t}function Al(e){if(!Array.isArray(e))return e;const t=wl(e);return!0===t?t:t.map((e=>Al(e)))}function _l(e){let t=!1;const n=[];if("case"===e[0]){for(let i=1;i<e.length-1;i+=2)t=t||Cl(e[i]),n.push(e[i+1]);n.push(e[e.length-1])}else if("match"===e[0]){t=t||Cl(e[1]);for(let t=2;t<e.length-1;t+=2)n.push(e[t+1]);n.push(e[e.length-1])}else if("step"===e[0]){t=t||Cl(e[1]);for(let t=1;t<e.length-1;t+=2)n.push(e[t+1])}t&&(e.length=0,e.push("any",...n));for(let i=1;i<e.length;i++)_l(e[i])}function Cl(e){if(!Array.isArray(e))return!1;if(Il(e[0]))return!0;for(let t=1;t<e.length;t++){const n=e[t];if(Cl(n))return!0}return!1}function Il(e){return"pitch"===e||"distance-from-center"===e}const El=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function wl(e){if(El.has(e[0]))for(let t=1;t<e.length;t++){const n=e[t];if(Cl(n))return!0}return e}function bl(e,t){return e<t?-1:e>t?1:0}function xl(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(let t=1;t<e.length;t++)if(xl(e[t]))return!0;return!1}function Sl(e){if(!e)return!0;const t=e[0];if(e.length<=1)return"any"!==t;const n="=="===t?Pl(e[1],e[2],"=="):"!="===t?Tl(Pl(e[1],e[2],"==")):"<"===t||">"===t||"<="===t||">="===t?Pl(e[1],e[2],t):"any"===t?Ml(e.slice(1)):"all"===t?["all"].concat(e.slice(1).map(Sl)):"none"===t?["all"].concat(e.slice(1).map(Sl).map(Tl)):"in"===t?kl(e[1],e.slice(2)):"!in"===t?Tl(kl(e[1],e.slice(2))):"has"===t?Rl(e[1]):"!has"===t?Tl(Rl(e[1])):"within"!==t||e;return n}function Pl(e,t,n){switch(e){case"$type":return[`filter-type-${n}`,t];case"$id":return[`filter-id-${n}`,t];default:return[`filter-${n}`,e,t]}}function Ml(e){return["any"].concat(e.map(Sl))}function kl(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((e=>typeof e!==typeof t[0]))?["filter-in-large",e,["literal",t.sort(bl)]]:["filter-in-small",e,["literal",t]]}}function Rl(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function Tl(e){return["!",e]}var Ll=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Gl(e,t){const n={};for(const i in e)"ref"!==i&&(n[i]=e[i]);return Ll.forEach((e=>{e in t&&(n[e]=t[e])})),n}function Ol(e){e=e.slice();const t=Object.create(null);for(let n=0;n<e.length;n++)t[e[n].id]=e[n];for(let n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=Gl(e[n],t[e[n].ref]));return e}var Dl={thin:100,hairline:100,"ultra-light":100,"extra-light":100,light:200,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,heavy:800,black:800,"extra-bold":800,"ultra-black":900,"extra-black":900,"ultra-bold":900,"heavy-black":900,fat:900,poster:900},Nl=" ",Fl=/(italic|oblique)$/i,Ul={},Bl=function(e,t,n){var i=Ul[e];if(!i){Array.isArray(e)||(e=[e]);for(var r,o,a=400,s="normal",l=[],u=0,c=e.length;u<c;++u){var h=e[u],d=h.split(" "),p=d[d.length-1].toLowerCase();for(var g in"normal"==p||"italic"==p||"oblique"==p?(s=o?s:p,d.pop(),p=d[d.length-1].toLowerCase()):Fl.test(p)&&(p=p.replace(Fl,""),s=o?s:d[d.length-1].replace(p,"")),Dl){var f=d.length>1?d[d.length-2].toLowerCase():"";if(p==g||p==g.replace("-","")||f+"-"+p==g){a=r?a:Dl[g],d.pop(),f&&g.startsWith(f)&&d.pop();break}}r||"number"!=typeof p||(a=p);var m=d.join(Nl).replace("Klokantech Noto Sans","Noto Sans");-1!==m.indexOf(Nl)&&(m='"'+m+'"'),l.push(m)}i=Ul[e]=[s,a,l]}return i[0]+Nl+i[1]+Nl+t+"px"+(n?"/"+n:"")+Nl+i[2]},jl=br(Bl);const zl="https://api.mapbox.com";function Wl(e){const t="mapbox://";return 0!==e.indexOf(t)?"":e.slice(t.length)}function Vl(e,t,n){const i=Wl(e);if(!i)return decodeURI(new URL(e,n).href);const r="sprites/";if(0!==i.indexOf(r))throw new Error(`unexpected sprites url: ${e}`);const o=i.slice(r.length);return`${zl}/styles/v1/${o}/sprite?access_token=${t}`}function Yl(e,t){const n=Wl(e);if(!n)return decodeURI(new URL(e,location.href).href);const i="styles/";if(0!==n.indexOf(i))throw new Error(`unexpected style url: ${e}`);const r=n.slice(i.length);return`${zl}/styles/v1/${r}?&access_token=${t}`}function Hl(e,t,n,i){const r=new URL(e,i),o=Wl(e);if(!o)return t?(r.searchParams.has(n)||r.searchParams.set(n,t),decodeURI(r.href)):decodeURI(r.href);if("mapbox.satellite"===o){const e=window.devicePixelRatio>=1.5?"@2x":"";return`https://api.mapbox.com/v4/${o}/{z}/{x}/{y}${e}.webp?access_token=${t}`}return`https://{a-d}.tiles.mapbox.com/v4/${o}/{z}/{x}/{y}.vector.pbf?access_token=${t}`}const ql={},Xl={};let Zl=0;function Kl(e){return e.id||(e.id=Zl++),e.id}function Jl(e,t){return Kl(e)+"."+(0,I.v6)(t)}function Ql(e){let t=ql[e.id];return t||(t={},ql[Kl(e)]=t),t}function $l(e){let t=Xl[e.id];return t||(t={},Xl[Kl(e)]=t),t}function eu(e){return e*Math.PI/180}const tu=function(){const e=[];for(let t=78271.51696402048;e.length<=24;t/=2)e.push(t);return e}();new Q({extent:(0,ne.Jt)("EPSG:3857").getExtent(),resolutions:tu});function nu(e,t){if("undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas)return new OffscreenCanvas(e,t);const n=document.createElement("canvas");return n.width=e,n.height=t,n}function iu(e,t){let n=0;const i=t.length;for(;n<i;++n){const r=t[n];if(r<e&&n+1<i){const i=t[n]/t[n+1];return n+Math.log(t[n]/e)/Math.log(i)}}return i-1}const ru={};function ou(e,t,n={},i){if(t in ru)return i&&(i.request=ru[t][0]),ru[t][1];const r=n.transformRequest&&n.transformRequest(t,e)||t,o=(0,Rt.hq)((()=>r)).then((e=>(e instanceof Request||(e=new Request(e)),e.headers.get("Accept")||e.headers.set("Accept","application/json"),i&&(i.request=e),fetch(e).then((function(e){return delete ru[t],e.ok?e.json():Promise.reject(new Error("Error fetching source "+t))})).catch((function(e){return delete ru[t],Promise.reject(new Error("Error fetching source "+t))})))));return ru[t]=[r,o],o}function au(e,t){if("string"!==typeof e)return Promise.resolve(e);if(!e.trim().startsWith("{"))return e=Yl(e,t.accessToken),ou("Style",e,t);try{const t=JSON.parse(e);return Promise.resolve(t)}catch($s){return Promise.reject($s)}}const su={};function lu(e,t,n={}){const i=[t,JSON.stringify(e)].toString();let r=su[i];if(!r||n.transformRequest){let o;n.transformRequest&&(o=(e,t)=>{const i=n.transformRequest&&n.transformRequest(t,"Tiles")||t;if(e instanceof S)e.setLoader(((t,n,r)=>{(0,Rt.hq)((()=>i)).then((n=>{fetch(n).then((e=>e.arrayBuffer())).then((n=>{const i=e.getFormat(),o=i.readFeatures(n,{extent:t,featureProjection:r});e.setFeatures(o)})).catch((t=>e.setState(C.A.ERROR)))}))}));else{const t=e.getImage();(0,Rt.hq)((()=>i)).then((n=>{n instanceof Request?fetch(n).then((e=>e.blob())).then((e=>{const n=URL.createObjectURL(e);t.addEventListener("load",(()=>URL.revokeObjectURL(n))),t.addEventListener("error",(()=>URL.revokeObjectURL(n))),t.src=n})).catch((t=>e.setState(C.A.ERROR))):t.src=n}))}});const a=e.url;if(a&&!e.tiles){const i=Hl(a,n.accessToken,n.accessTokenParam||"access_token",t||location.href);if(a.startsWith("mapbox://"))r=Promise.resolve({tileJson:Object.assign({},e,{url:void 0,tiles:me(i)}),tileLoadFunction:o});else{const e={};r=ou("Source",i,n,e).then((function(t){return t.tiles=t.tiles.map((function(i){return"tms"===t.scheme&&(i=i.replace("{y}","{-y}")),Hl(i,n.accessToken,n.accessTokenParam||"access_token",e.request.url)})),Promise.resolve({tileJson:t,tileLoadFunction:o})}))}}else e=Object.assign({},e,{tiles:e.tiles.map((function(i){return"tms"===e.scheme&&(i=i.replace("{y}","{-y}")),Hl(i,n.accessToken,n.accessTokenParam||"access_token",t||location.href)}))}),r=Promise.resolve({tileJson:Object.assign({},e),tileLoadFunction:o});su[i]=r}return r}function uu(e,t,n,i){const r=document.createElement("canvas"),o=[2*n*t.pixelRatio+t.width,2*n*t.pixelRatio+t.height];r.width=o[0],r.height=o[1];const a=r.getContext("2d");a.drawImage(e,t.x,t.y,t.width,t.height,n*t.pixelRatio,n*t.pixelRatio,t.width,t.height);const s=a.getImageData(0,0,o[0],o[1]);a.globalCompositeOperation="destination-over",a.fillStyle=`rgba(${255*i.r},${255*i.g},${255*i.b},${i.a})`;const l=s.data;for(let u=0,c=s.width;u<c;++u)for(let e=0,i=s.height;e<i;++e){const i=4*(e*c+u),r=l[i+3];r>0&&a.arc(u,e,n*t.pixelRatio,0,2*Math.PI)}return a.fill(),r}function cu(e,t,n){const i=Math.max(0,Math.min(1,(n-e)/(t-e)));return i*i*(3-2*i)}function hu(e,t,n){const i=document.createElement("canvas");i.width=t.width,i.height=t.height;const r=i.getContext("2d");r.drawImage(e,t.x,t.y,t.width,t.height,0,0,t.width,t.height);const o=r.getImageData(0,0,t.width,t.height),a=o.data;for(let s=0,l=o.width;s<l;++s)for(let e=0,t=o.height;e<t;++e){const t=4*(e*l+s),i=a[t+3]/255,r=.75,o=.1,u=cu(r-o,r+o,i);u>0?(a[t+0]=Math.round(255*n.r*u),a[t+1]=Math.round(255*n.g*u),a[t+2]=Math.round(255*n.b*u),a[t+3]=Math.round(255*u)):a[t+3]=0}return r.putImageData(o,0,0),i}const du=Array(256).join(" ");function pu(e,t){if(t>=.05){let n="";const i=e.split("\n"),r=du.slice(0,Math.round(t/.1));for(let e=0,t=i.length;e<t;++e)e>0&&(n+="\n"),n+=i[e].split("").join(r);return n}return e}let gu;function fu(){return gu||(gu=nu(1,1).getContext("2d")),gu}function mu(e,t){return fu().measureText(e).width+(e.length-1)*t}const vu={};function yu(e,t,n,i){if(-1!==e.indexOf("\n")){const r=e.split("\n"),o=[];for(let e=0,a=r.length;e<a;++e)o.push(yu(r[e],t,n,i));return o.join("\n")}const r=n+","+t+","+e+","+i;let o=vu[r];if(!o){const a=e.split(" ");if(a.length>1){const e=fu();e.font=t;const r=e.measureText("M").width,s=r*n;let l="";const u=[];for(let t=0,n=a.length;t<n;++t){const e=a[t],n=l+(l?" ":"")+e;mu(n,i)<=s?l=n:(l&&u.push(l),l=e)}l&&u.push(l);for(let t=0,n=u.length;t<n&&n>1;++t){const e=u[t];if(mu(e,i)<.35*s){const r=t>0?mu(u[t-1],i):1/0,o=t<n-1?mu(u[t+1],i):1/0;u.splice(t,1),n-=1,r<o?(u[t-1]+=" "+e,t-=1):u[t]=e+" "+u[t]}}for(let t=0,n=u.length-1;t<n;++t){const e=u[t],r=u[t+1];if(mu(e,i)>.7*s&&mu(r,i)<.6*s){const o=e.split(" "),a=o.pop();mu(a,i)<.2*s&&(u[t]=o.join(" "),u[t+1]=a+" "+r),n-=1}}o=u.join("\n")}else o=e;o=pu(o,i),vu[r]=o}return o}const Au=/font-family: ?([^;]*);/,_u=/("|')/g;let Cu;function Iu(e){if(!Cu){Cu={};const e=document.styleSheets;for(let t=0,n=e.length;t<n;++t){const n=e[t];try{const e=n.rules||n.cssRules;if(e)for(let t=0,n=e.length;t<n;++t){const n=e[t];if(5==n.type){const e=n.cssText.match(Au);Cu[e[1].replace(_u,"")]=!0}}}catch(nw){}}}return e in Cu}const Eu={};function wu(e,t="https://cdn.jsdelivr.net/npm/@fontsource/{font-family}/{fontweight}{-fontstyle}.css"){const n=e.toString();if(n in Eu)return Eu[n];const i=[];for(let r=0,o=e.length;r<o;++r){e[r]=e[r].replace("Arial Unicode MS","Arial");const t=e[r],n=jl(t,1);(0,Ir.fZ)(n);const o=n.split(" ");i.push([o.slice(3).join(" ").replace(/"/g,""),o[1],o[0]])}for(let r=0,o=i.length;r<o;++r){const e=i[r],n=e[0];if(!Iu(n)&&100!==Ir.yY.get(`${e[2]}\n${e[1]} \n${n}`)){const i=t.replace("{font-family}",n.replace(/ /g,"-").toLowerCase()).replace("{Font+Family}",n.replace(/ /g,"+")).replace("{fontweight}",e[1]).replace("{-fontstyle}",e[2].replace("normal","").replace(/(.+)/,"-$1")).replace("{fontstyle}",e[2]);if(!document.querySelector('link[href="'+i+'"]')){const e=document.createElement("link");e.href=i,e.rel="stylesheet",document.head.appendChild(e)}}}return Eu[n]=e,e}const bu={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},xu={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},Su=function(e,t){const n=ul(e,t);if("error"===n.result)throw new Error(n.value.map((e=>`${e.key}: ${e.message}`)).join(", "));return n.value},Pu={},Mu={zoom:0};let ku,Ru;function Tu(e,t,n,i,r,o,a){const s=e.id;o||(o={},console.warn("No functionCache provided to getValue()")),o[s]||(o[s]={});const l=o[s];if(!l[n]){let i=(e[t]||Pu)[n];const r=fl[`${t}_${e.type}`][n];void 0===i&&(i=r.default);let o=ol(i);if(!o&&il(i)&&(i=Fr(i,r),o=!0),o){const e=Su(i,r);l[n]=e.evaluate.bind(e)}else"color"==r.type&&(i=Dr.parse(i)),l[n]=function(){return i}}return Mu.zoom=i,l[n](Mu,r,a)}function Lu(e,t,n,i,r){const o=Tu(e,"layout",`${i}-allow-overlap`,t,n,r);if(!o)return"declutter";const a=Tu(e,"layout",`${i}-ignore-placement`,t,n,r);return a?"none":"obstacle"}function Gu(e,t,n,i,r){return r||console.warn("No filterCache provided to evaluateFilter()"),e in r||(r[e]=vl(t).filter),Mu.zoom=i,r[e](Mu,n)}let Ou=!1;function Du(e,t){if(e){if(!Ou&&(0===e.a||0===t))return;const n=e.a;return t=void 0===t?1:t,0===n?"transparent":"rgba("+Math.round(255*e.r/n)+","+Math.round(255*e.g/n)+","+Math.round(255*e.b/n)+","+n*t+")"}return e}const Nu=/\{[^{}}]*\}/g;function Fu(e,t){return e.replace(Nu,(function(e){return t[e.slice(1,-1)]||""}))}let Uu=!1;const Bu={};function ju(e,t,n,i=tu,r=void 0,o=void 0,a=void 0,s=void 0){if("string"==typeof t&&(t=JSON.parse(t)),8!=t.version)throw new Error("glStyle version 8 required.");let l,u,c;if(Bu[Jl(t,e)]=Array.from(arguments),o)if("undefined"!==typeof Image){const t=new Image;let n;(0,Rt.hq)((()=>o)).then((e=>{e instanceof Request?fetch(e).then((e=>e.blob())).then((e=>{n=URL.createObjectURL(e),t.src=n})).catch((()=>{})):(t.crossOrigin="anonymous",t.src=e,n&&URL.revokeObjectURL(n))})),t.onload=function(){l=t,u=[t.width,t.height],e.changed(),t.onload=null}}else if("undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){const e=self;e.postMessage({action:"loadImage",src:o}),e.addEventListener("message",(function(e){"imageLoaded"===e.data.action&&e.data.src===o&&(l=e.data.image,u=[l.width,l.height])}))}const h=Ol(t.layers),d={},p=[],g={},f={},m=Ql(t),v=$l(t);let y;for(let E=0,w=h.length;E<w;++E){const e=h[E],i=e.id;if("string"==typeof n&&e.source==n||Array.isArray(n)&&-1!==n.indexOf(i)){const n=e["source-layer"];if(y){if(e.source!==y)throw new Error(`Layer "${i}" does not use source "${y}`)}else{y=e.source;const n=t.sources[y];if(!n)throw new Error(`Source "${y}" is not defined`);const i=n.type;if("vector"!==i&&"geojson"!==i)throw new Error(`Source "${y}" is not of type "vector" or "geojson", but "${i}"`)}let r=d[n];r||(r=[],d[n]=r),r.push({layer:e,index:E}),p.push(i)}}const A=new ni.A,_=new ii.A,C=[],I=function(n,o,h){const p=n.getProperties(),y=d[p.layer];if(!y)return;let I=i.indexOf(o);-1==I&&(I=iu(o,i));const E=bu[n.getGeometry().getType()],w={id:n.getId(),properties:p,type:E},b=e.get("mapbox-featurestate")[n.getId()];let x,S=-1;for(let i=0,d=y.length;i<d;++i){const d=y[i],P=d.layer,M=P.id;if(void 0!==h&&h!==M)continue;const k=P.layout||Pu,R=P.paint||Pu;if("none"===k.visibility||"minzoom"in P&&I<P.minzoom||"maxzoom"in P&&I>=P.maxzoom)continue;const T=P.filter;if(!T||Gu(M,T,w,I,v)){let i,h,v,y,M,T;x=P;const L=d.index;if(3==E&&("fill"==P.type||"fill-extrusion"==P.type))if(h=Tu(P,"paint",P.type+"-opacity",I,w,m,b),P.type+"-pattern"in R){const e=Tu(P,"paint",P.type+"-pattern",I,w,m,b);if(e){const t="string"===typeof e?Fu(e,p):e.toString();if(l&&r&&r[t]){++S,T=C[S],T&&T.getFill()&&!T.getStroke()&&!T.getText()||(T=new Tt.Ay({fill:new ii.A}),C[S]=T),v=T.getFill(),T.setZIndex(L);const e=t+"."+h;let n=f[e];if(!n){const i=r[t],o=nu(i.width,i.height),a=o.getContext("2d");a.globalAlpha=h,a.drawImage(l,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n=a.createPattern(o,"repeat"),f[e]=n}v.setColor(n)}}}else i=Du(Tu(P,"paint",P.type+"-color",I,w,m,b),h),P.type+"-outline-color"in R&&(M=Du(Tu(P,"paint",P.type+"-outline-color",I,w,m,b),h)),M||(M=i),(i||M)&&(++S,T=C[S],(!T||i&&!T.getFill()||!i&&T.getFill()||M&&!T.getStroke()||!M&&T.getStroke()||T.getText())&&(T=new Tt.Ay({fill:i?new ii.A:void 0,stroke:M?new ni.A:void 0}),C[S]=T),i&&(v=T.getFill(),v.setColor(i)),M&&(y=T.getStroke(),y.setColor(M),y.setWidth(.5)),T.setZIndex(L));if(1!=E&&"line"==P.type){i="line-pattern"in R?void 0:Du(Tu(P,"paint","line-color",I,w,m,b),Tu(P,"paint","line-opacity",I,w,m,b));const e=Tu(P,"paint","line-width",I,w,m,b);i&&e>0&&(++S,T=C[S],T&&T.getStroke()&&!T.getFill()&&!T.getText()||(T=new Tt.Ay({stroke:new ni.A}),C[S]=T),y=T.getStroke(),y.setLineCap(Tu(P,"layout","line-cap",I,w,m,b)),y.setLineJoin(Tu(P,"layout","line-join",I,w,m,b)),y.setMiterLimit(Tu(P,"layout","line-miter-limit",I,w,m,b)),y.setColor(i),y.setWidth(e),y.setLineDash(R["line-dasharray"]?Tu(P,"paint","line-dasharray",I,w,m,b).map((function(t){return t*e})):null),T.setZIndex(L))}let G,O,D,N,F,U,B,j,z,W=!1,V=null,Y=0;if((1==E||2==E)&&"icon-image"in k){const t=Tu(P,"layout","icon-image",I,w,m,b);if(t){let i;G="string"===typeof t?Fu(t,p):t.toString();const a=s?s(e,G):void 0;if(l&&r&&r[G]||a){const e=Tu(P,"layout","icon-rotation-alignment",I,w,m,b);if(2==E){const t=n.getGeometry();if(t.getFlatMidpoint||t.getFlatMidpoints){const n=t.getExtent(),r=Math.sqrt(Math.max(Math.pow((n[2]-n[0])/o,2),Math.pow((n[3]-n[1])/o,2)));if(r>150){const n="MultiLineString"===t.getType()?t.getFlatMidpoints():t.getFlatMidpoint();Ru||(ku=[NaN,NaN],Ru=new dr.Ay("Point",ku,[],2,{},void 0)),i=Ru,ku[0]=n[0],ku[1]=n[1];const r=Tu(P,"layout","symbol-placement",I,w,m,b);if("line"===r&&"map"===e){const e=t.getStride(),i=t.getFlatCoordinates();for(let t=0,r=i.length-e;t<r;t+=e){const r=i[t],o=i[t+1],a=i[t+e],s=i[t+e+1],l=Math.min(r,a),u=Math.min(o,s),c=Math.max(r,a),h=Math.max(o,s);if(n[0]>=l&&n[0]<=c&&n[1]>=u&&n[1]<=h){Y=Math.atan2(o-s,a-r);break}}}}}}if(2!==E||i){const t=Tu(P,"layout","icon-size",I,w,m,b),n=void 0!==R["icon-color"]?Tu(P,"paint","icon-color",I,w,m,b):null;if(!n||0!==n.a){const i=Tu(P,"paint","icon-halo-color",I,w,m,b),o=Tu(P,"paint","icon-halo-width",I,w,m,b);let s=`${G}.${t}.${o}.${i}`;if(null!==n&&(s+=`.${n}`),O=g[s],!O){const h=Lu(P,I,w,"icon",m);let d;"icon-offset"in k&&(d=Tu(P,"layout","icon-offset",I,w,m,b).slice(0),d[0]*=t,d[1]*=-t);let p=n?[255*n.r,255*n.g,255*n.b,n.a]:void 0;if(a){const n={color:p,rotateWithView:"map"===e,displacement:d,declutterMode:h,scale:t};"string"===typeof a?n.src=a:(n.img=a,n.imgSize=[a.width,a.height]),O=new ti.A(n)}else{const a=r[G];let s,g,f;o?a.sdf?(s=uu(hu(l,a,n),{x:0,y:0,width:a.width,height:a.height,pixelRatio:a.pixelRatio},o,i),p=void 0):s=uu(l,a,o,i):(a.sdf?(c||(c=hu(l,{x:0,y:0,width:u[0],height:u[1]},{r:1,g:1,b:1,a:1})),s=c):s=l,g=[a.width,a.height],f=[a.x,a.y]),O=new ti.A({color:p,img:s,imgSize:u,size:g,offset:f,rotateWithView:"map"===e,scale:t/a.pixelRatio,displacement:d,declutterMode:h})}g[s]=O}}O&&(++S,T=C[S],T&&T.getImage()&&!T.getFill()&&!T.getStroke()||(T=new Tt.Ay,C[S]=T),T.setGeometry(i),O.setRotation(Y+eu(Tu(P,"layout","icon-rotate",I,w,m,b))),O.setOpacity(Tu(P,"paint","icon-opacity",I,w,m,b)),O.setAnchor(xu[Tu(P,"layout","icon-anchor",I,w,m,b)]),T.setImage(O),V=T.getText(),T.setText(void 0),T.setZIndex(L),W=!0,D=!1)}else D=!0}}}if(1==E&&"circle"===P.type){++S,T=C[S],T&&T.getImage()&&!T.getFill()&&!T.getStroke()||(T=new Tt.Ay,C[S]=T);const e="circle-radius"in R?Tu(P,"paint","circle-radius",I,w,m,b):5,t=Du(Tu(P,"paint","circle-stroke-color",I,w,m,b),Tu(P,"paint","circle-stroke-opacity",I,w,m,b)),n=Tu(P,"paint","circle-translate",I,w,m,b),i=Du(Tu(P,"paint","circle-color",I,w,m,b),Tu(P,"paint","circle-opacity",I,w,m,b)),r=Tu(P,"paint","circle-stroke-width",I,w,m,b),o=e+"."+t+"."+i+"."+r+"."+n[0]+"."+n[1];O=g[o],O||(O=new ei.A({radius:e,displacement:[n[0],-n[1]],stroke:t&&r>0?new ni.A({width:r,color:t}):void 0,fill:i?new ii.A({color:i}):void 0,declutterMode:"none"}),g[o]=O),T.setImage(O),V=T.getText(),T.setText(void 0),T.setGeometry(void 0),T.setZIndex(L),W=!0}if("text-field"in k){B=Math.round(Tu(P,"layout","text-size",I,w,m,b));const e=Tu(P,"layout","text-font",I,w,m,b);U=Tu(P,"layout","text-line-height",I,w,m,b),F=jl(a?a(e,t.metadata?t.metadata["ol:webfonts"]:void 0):e,B,U),F.includes("sans-serif")||(F+=",sans-serif"),j=Tu(P,"layout","text-letter-spacing",I,w,m,b),z=Tu(P,"layout","text-max-width",I,w,m,b);const n=Tu(P,"layout","text-field",I,w,m,b);N="object"===typeof n&&n.sections?1===n.sections.length?n.toString():n.sections.reduce(((t,n,i)=>{const r=n.fontStack?n.fontStack.split(","):e,o=jl(a?a(r):r,B*(n.scale||1),U);let s=n.text;if("\n"===s)return t.push("\n",""),t;if(2!=E){s=yu(s,o,z,j).split("\n");for(let e=0,n=s.length;e<n;++e)e>0&&t.push("\n",""),t.push(s[e],o);return t}t.push(pu(s,j),o)}),[]):Fu(n,p).trim(),h=Tu(P,"paint","text-opacity",I,w,m,b)}if(N&&h&&!D){W||(++S,T=C[S],T&&T.getText()&&!T.getFill()&&!T.getStroke()||(T=new Tt.Ay,C[S]=T),T.setImage(void 0),T.setGeometry(void 0));const e=Lu(P,I,w,"text",m);T.getText()||T.setText(V),V=T.getText(),(!V||"getDeclutterMode"in V&&V.getDeclutterMode()!==e)&&(V=new ri.A({padding:[2,2,2,2],declutterMode:e}),T.setText(V));const t=Tu(P,"layout","text-transform",I,w,m,b);"uppercase"==t?N=Array.isArray(N)?N.map(((e,t)=>t%2?e:e.toUpperCase())):N.toUpperCase():"lowercase"==t&&(N=Array.isArray(N)?N.map(((e,t)=>t%2?e:e.toLowerCase())):N.toLowerCase());const n=Array.isArray(N)?N:2==E?pu(N,j):yu(N,F,z,j);V.setText(n),V.setFont(F),V.setRotation(eu(Tu(P,"layout","text-rotate",I,w,m,b)));const i=Tu(P,"layout","text-anchor",I,w,m,b),r=W||1==E?"point":Tu(P,"layout","symbol-placement",I,w,m,b);let o;if("line-center"===r?(V.setPlacement("line"),o="center"):V.setPlacement(r),"line"===r&&"function"===typeof V.setRepeat){const e=Tu(P,"layout","symbol-spacing",I,w,m,b);V.setRepeat(2*e)}V.setOverflow("point"===r);let a=Tu(P,"paint","text-halo-width",I,w,m,b);const s=Tu(P,"layout","text-offset",I,w,m,b),l=Tu(P,"paint","text-translate",I,w,m,b);let u=0,c=0;if("point"==r){o="center",-1!==i.indexOf("left")?(o="left",c=a):-1!==i.indexOf("right")&&(o="right",c=-a);const e=Tu(P,"layout","text-rotation-alignment",I,w,m,b);V.setRotateWithView("map"==e)}else V.setMaxAngle(eu(Tu(P,"layout","text-max-angle",I,w,m,b))*N.length/n.length),V.setRotateWithView(!1);V.setTextAlign(o);let d="middle";0==i.indexOf("bottom")?(d="bottom",u=-a-.5*(U-1)*B):0==i.indexOf("top")&&(d="top",u=a+.5*(U-1)*B),V.setTextBaseline(d);const p=Tu(P,"layout","text-justify",I,w,m,b);V.setJustify("auto"===p?void 0:p),V.setOffsetX(s[0]*B+c+l[0]),V.setOffsetY(s[1]*B+u+l[1]),_.setColor(Du(Tu(P,"paint","text-color",I,w,m,b),h)),V.setFill(_);const g=Du(Tu(P,"paint","text-halo-color",I,w,m,b),h);if(g&&a>0){A.setColor(g),a*=2;const e=.5*B;A.setWidth(a<=e?a:e),V.setStroke(A)}else V.setStroke(void 0);const f=Tu(P,"layout","text-padding",I,w,m,b),v=V.getPadding();f!==v[0]&&(v[0]=f,v[1]=f,v[2]=f,v[3]=f),T.setZIndex(L)}}}return S>-1?(C.length=S+1,Uu&&("set"in n?n.set("mapbox-layer",x):n.getProperties()["mapbox-layer"]=x),C):void 0};return e.setStyle(I),e.set("mapbox-source",y),e.set("mapbox-layers",p),e.set("mapbox-featurestate",e.get("mapbox-featurestate")||{}),I}function zu(e,t=512){return e.getExtent()?ae({extent:e.getExtent(),tileSize:t,maxZoom:22}).getResolutions():tu}function Wu(e,t){if(!t.accessToken){t=Object.assign({},t);const n=new URL(e).searchParams;n.forEach(((e,n)=>{t.accessToken=e,t.accessTokenParam=n}))}return t}function Vu(e,t,n="",i={},r=void 0){let o,a,s,l,u=!0;return"string"===typeof n||Array.isArray(n)?l=n:(s=n,l=s.source||s.layers,i=s),"string"===typeof i?(o=i,s={}):(o=i.styleUrl,s=i),!1===s.updateSource&&(u=!1),r||(r=s.resolutions),o||"string"!==typeof t||t.trim().startsWith("{")||(o=t),o&&(o=o.startsWith("data:")?location.href:Yl(o,s.accessToken),s=Wu(o,s)),new Promise((function(n,i){au(t,s).then((function(t){if(8!=t.version)return i(new Error("glStyle version 8 required."));if(!(e instanceof kt.A||e instanceof or))return i(new Error("Can only apply to VectorLayer or VectorTileLayer"));const c=e instanceof or?"vector":"geojson";if(l?a=Array.isArray(l)?t.layers.find((function(e){return e.id===l[0]})).source:l:(a=Object.keys(t.sources).find((function(e){return t.sources[e].type===c})),l=a),!a)return i(new Error(`No ${c} source found in the glStyle.`));function h(){if(!u)return Promise.resolve();if(e instanceof or)return qu(t.sources[a],o,s).then((function(t){const n=e.getSource();if(n?t!==n&&(n.setTileUrlFunction(t.getTileUrlFunction()),"function"===typeof n.setUrls&&"function"===typeof t.getUrls&&n.setUrls(t.getUrls()),n.format_||(n.format_=t.format_),n.getAttributions()||n.setAttributions(t.getAttributions()),n.getTileLoadFunction()===xe&&n.setTileLoadFunction(t.getTileLoadFunction()),(0,ne.tI)(n.getProjection(),t.getProjection())&&(n.tileGrid=t.getTileGrid())):e.setSource(t),!isFinite(e.getMaxResolution())&&!isFinite(e.getMinZoom())){const t=e.getSource().getTileGrid();e.setMaxResolution(t.getResolution(t.getMinZoom()))}}));const n=t.sources[a];let i=e.getSource();i&&i.get("mapbox-source")===n||(i=Zu(n,o,s));const r=e.getSource();return r?i!==r&&(r.getAttributions()||r.setAttributions(i.getAttributions()),r.format_||(r.format_=i.getFormat()),r.url_=i.getUrl()):e.setSource(i),Promise.resolve()}let d,p,g,f;function m(){if(f||t.sprite&&!p)f?(e.setStyle(f),h().then(n).catch(i)):i(new Error("Something went wrong trying to apply style."));else{if(s.projection&&!r){const e=(0,ne.Jt)(s.projection),t=e.getUnits();"m"!==t&&(r=tu.map((e=>e/Er.I[t])))}f=ju(e,t,l,r,p,g,wu,s.getImage),e.getStyle()?h().then(n).catch(i):i(new Error(`Nothing to show for source [${a}]`))}}if(t.sprite){const e=new URL(Vl(t.sprite,s.accessToken,o||location.href));d=window.devicePixelRatio>=1.5?.5:1;const n=.5==d?"@2x":"";let r=e.origin+e.pathname+n+".json"+e.search;new Promise((function(t,n){ou("Sprite",r,s).then(t).catch((function(i){r=e.origin+e.pathname+".json"+e.search,ou("Sprite",r,s).then(t).catch(n)}))})).then((function(t){if(void 0===t&&i(new Error("No sprites found.")),p=t,g=e.origin+e.pathname+n+".png"+e.search,s.transformRequest){const e=s.transformRequest(g,"SpriteImage")||g;(e instanceof Request||e instanceof Promise)&&(g=e)}m()})).catch((function(e){i(new Error(`Sprites cannot be loaded: ${r}: ${e.message}`))}))}else m()})).catch(i)}))}function Yu(e,t){const n=e.bounds;if(n){const e=(0,ne.Rb)([n[0],n[1]],t),i=(0,ne.Rb)([n[2],n[3]],t);return[e[0],e[1],i[0],i[1]]}return(0,ne.Jt)(t).getExtent()}function Hu(e,t,n){const i=new lr({tileJSON:t,tileSize:e.tileSize||t.tileSize||512}),r=i.getTileJSON(),o=i.getTileGrid(),a=(0,ne.Jt)(n.projection||"EPSG:3857"),s=Yu(r,a),l=a.getExtent(),u=r.minzoom||0,c=r.maxzoom||22,d={attributions:i.getAttributions(),projection:a,tileGrid:new Q({origin:l?(0,h.Py)(l):o.getOrigin(0),extent:s||o.getExtent(),minZoom:u,resolutions:zu(a,t.tileSize).slice(0,c+1),tileSize:o.getTileSize(0)})};return Array.isArray(r.tiles)?d.urls=r.tiles:d.url=r.tiles,d}function qu(e,t,n){return new Promise((function(i,r){lu(e,t,n).then((function({tileJson:t,tileLoadFunction:r}){const o=Hu(e,t,n);o.tileLoadFunction=r,o.format=new _r,i(new be(o))})).catch(r)}))}function Xu(e){const t=e?e.getCode():"EPSG:3857";return`{bbox-${t.toLowerCase().replace(/[^a-z0-9]/g,"-")}}`}function Zu(e,t,n){const i=n.projection?new Ai.A({dataProjection:n.projection}):new Ai.A,r=e.data,o={};if("string"==typeof r){const o=Hl(r,n.accessToken,n.accessTokenParam||"access_token",t||location.href);if(/\{bbox-[0-9a-z-]+\}/.test(o)){const t=(e,t,n)=>{const i=Xu(n);return o.replace(i,`${e.join(",")}`)},r=new Se.A({attributions:e.attribution,format:i,loader:(e,i,o,a,s)=>{const l="function"===typeof t?t(e,i,o):t;ou("GeoJSON",l,n).then((e=>{const t=r.getFormat().readFeatures(e,{featureProjection:o});r.addFeatures(t),a(t)})).catch((t=>{r.removeLoadedExtent(e),s()}))},strategy:wr.Qk});return r.set("mapbox-source",e),r}const a=new Se.A({attributions:e.attribution,format:i,url:o,loader:(e,t,i,r,s)=>{ou("GeoJSON",o,n).then((e=>{const t=a.getFormat().readFeatures(e,{featureProjection:i});a.addFeatures(t),r(t)})).catch((t=>{a.removeLoadedExtent(e),s()}))}});return a}o.features=i.readFeatures(r,{featureProjection:(0,ne.Tf)()||"EPSG:3857"});const a=new Se.A(Object.assign({attributions:e.attribution,format:i},o));return a.set("mapbox-source",e),a}ee.Ay;var Ku=class extends or{constructor(e,t){if(!e.layer)throw new Error("ERROR PARAM_MISSING : layer");if("string"!==typeof e.layer)throw new Error("ERROR WRONG TYPE : layer");"undefined"===typeof e.ssl&&(e.ssl=!0);var n=!1===e.ssl?"http://":"https://";if(!Mi.isConfigLoaded())throw new Error("ERROR : contract key configuration has to be loaded to load Geoportal layers.");var i=e.layer+"$GEOPORTAIL:GPP:TMS",r=Mi.configuration.getLayerConf(i);if(!r)throw new Error("ERROR : Layer ID not found into the catalogue !?");for(var o=null,a="",s=e.style,l=0;l<r.styles.length;l++){var u=r.styles[l];if(s&&u.name===s){o=u.url,a=u.title;break}if(!s&&u.current){s=u.name,o=u.url,a=u.title;break}}if(!o)throw new Error("ERROR : Style URL not found !?");o.replace(/(http|https):\/\//,n);var c=new be({state:"loading",format:new _r});c._originators=r.originators,c._legends=r.legends,c._metadata=r.metadata,c._description=r.description,c._title=r.title+" ("+a+")",c._quicklookUrl=r.quicklookUrl;var h={source:c};return qn.mergeParams(h,t),e.olParams&&!r.originators&&(c._originators=e.olParams.attributions),super(h),this.protocol=n,this.sourceId=e.source,this.styleUrl=o,this.setStyleMapBox(),this}setStyleMapBox(){var e=this;fetch(this.styleUrl,{credentials:"same-origin"}).then((function(t){t.ok&&t.json().then((function(t){e.onStyleMapBoxLoad(t)}))})).catch((function(t){e.onStyleMapBoxError(t)}))}onStyleMapBoxLoad(e){this.sourceId||(this.sourceId=Object.keys(e.sources)[0]);var t=e.sources[this.sourceId];if(t)if("vector"===t.type){var n=this.getSource();if(t.url){t.url.replace(/(http|https):\/\//,this.protocol);var i=new lr({url:t.url}),r=this,o=i.on("change",(function(){if("ready"===i.getState()){var e=i.getTileJSON();if(!e)return;r.set("mapbox-extensions",e);for(var a=Array.isArray(e.tiles)?e.tiles:[e.tiles],s=0;s<t.tiles.length;s++)a[s].replace(/(http|https):\/\//,this.protocol);n.setUrls(a),(0,Cr.e)(o)}}))}if(t.tiles){for(var a=0;a<t.tiles.length;a++)t.tiles[a].replace(/(http|https):\/\//,this.protocol);n.setUrls(t.tiles)}Vu(this,e,this.sourceId).then((()=>{n.setState("ready"),this.set("mapbox-styles",e)})).catch((e=>{this.onStyleMapBoxError(e)}))}else this.onStyleMapBoxError({message:"ERROR : Source TYPE not permitted !"});else this.onStyleMapBoxError({message:"ERROR : Source ID not found !? !"})}onStyleMapBoxError(e){var t=this.getSource();t.setState("error"),console.error(e.message)}};window.ol&&window.ol.layer&&(window.ol.layer.GeoportalMapBox=Ku);var Ju=class extends Yn.A{constructor(e){super(e)}setPosition(e){var t=new ec(this);t.set(e)}},Qu=Ju;const $u=["top-left","top-right","bottom-left","bottom-right"];class ec{constructor(e){return this.caller=e,this.#e("top-left"),this.#e("top-right"),this.#e("bottom-left"),this.#e("bottom-right"),this}#t(e){var t=document.getElementById("position-container-"+e);return!!t}#e(e){if(!this.#t(e)){var t=document.createElement("div");t.id="position-container-"+e,t.className="position-container-"+e;var n=this.caller.getMap().getOverlayContainerStopEvent();n.appendChild(t)}}#n(e){const t=e=>{var t=document.getElementById("position-container-"+e),n=t.offsetWidth;return n},n=e=>{e.style.top="unset",e.style.bottom="unset",e.style.left="unset",e.style.right="unset"};n(this.caller.element),this.caller.element.style.position="unset";var i=Array.from(this.caller.element.getElementsByClassName("GPpanel"));if(0!==i.length){i.forEach((e=>{n(e)}));var r=i[0];switch(e.toLowerCase()){case"top-left":r.style.top="0px",r.style.left=t(e)+"px";break;case"bottom-left":r.style.bottom="0px",r.style.left=t(e)+"px";break;case"top-right":r.style.top="0px",r.style.right=t(e)+"px";break;case"bottom-right":r.style.bottom="0px",r.style.right=t(e)+"px";break;default:break}}}set(e){$u.includes(e.toLowerCase())&&(this.#n(e),document.getElementById("position-container-"+e).appendChild(this.caller.element))}}var tc={generate:function(){var e=Math.floor(Date.now());return function(){return e++}}(),name:function(e){var t=null,n=e.lastIndexOf("-");return t=-1===n?e:e.substring(0,n),t},index:function(e){var t=null,n=this.name(e),i=n.lastIndexOf("_");return-1!==i&&(t=n.substring(i+1)),t},uuid:function(e){var t=null,n=e.lastIndexOf("-");return-1!==n&&(t=parseInt(e.substring(n+1),10)),t}},nc=tc;
/**!
 * Sortable 1.15.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function ic(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function rc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ic(Object(n),!0).forEach((function(t){ac(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ic(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oc(e){return oc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(e)}function ac(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sc(){return sc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},sc.apply(this,arguments)}function lc(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}function uc(e,t){if(null==e)return{};var n,i,r=lc(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var cc="1.15.2";function hc(e){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var dc=hc(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),pc=hc(/Edge/i),gc=hc(/firefox/i),fc=hc(/safari/i)&&!hc(/chrome/i)&&!hc(/android/i),mc=hc(/iP(ad|od|hone)/i),vc=hc(/chrome/i)&&hc(/android/i),yc={capture:!1,passive:!1};function Ac(e,t,n){e.addEventListener(t,n,!dc&&yc)}function _c(e,t,n){e.removeEventListener(t,n,!dc&&yc)}function Cc(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(n){return!1}return!1}}function Ic(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Ec(e,t,n,i){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&Cc(e,t):Cc(e,t))||i&&e===n)return e;if(e===n)break}while(e=Ic(e))}return null}var wc,bc=/\s+/g;function xc(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(bc," ").replace(" "+t+" "," ");e.className=(i+(n?" "+t:"")).replace(bc," ")}}function Sc(e,t,n){var i=e&&e.style;if(i){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in i||-1!==t.indexOf("webkit")||(t="-webkit-"+t),i[t]=n+("string"===typeof n?"":"px")}}function Pc(e,t){var n="";if("string"===typeof e)n=e;else do{var i=Sc(e,"transform");i&&"none"!==i&&(n=i+" "+n)}while(!t&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function Mc(e,t,n){if(e){var i=e.getElementsByTagName(t),r=0,o=i.length;if(n)for(;r<o;r++)n(i[r],r);return i}return[]}function kc(){var e=document.scrollingElement;return e||document.documentElement}function Rc(e,t,n,i,r){if(e.getBoundingClientRect||e===window){var o,a,s,l,u,c,h;if(e!==window&&e.parentNode&&e!==kc()?(o=e.getBoundingClientRect(),a=o.top,s=o.left,l=o.bottom,u=o.right,c=o.height,h=o.width):(a=0,s=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,h=window.innerWidth),(t||n)&&e!==window&&(r=r||e.parentNode,!dc))do{if(r&&r.getBoundingClientRect&&("none"!==Sc(r,"transform")||n&&"static"!==Sc(r,"position"))){var d=r.getBoundingClientRect();a-=d.top+parseInt(Sc(r,"border-top-width")),s-=d.left+parseInt(Sc(r,"border-left-width")),l=a+o.height,u=s+o.width;break}}while(r=r.parentNode);if(i&&e!==window){var p=Pc(r||e),g=p&&p.a,f=p&&p.d;p&&(a/=f,s/=g,h/=g,c/=f,l=a+c,u=s+h)}return{top:a,left:s,bottom:l,right:u,width:h,height:c}}}function Tc(e,t,n){var i=Fc(e,!0),r=Rc(e)[t];while(i){var o=Rc(i)[n],a=void 0;if(a="top"===n||"left"===n?r>=o:r<=o,!a)return i;if(i===kc())break;i=Fc(i,!1)}return!1}function Lc(e,t,n,i){var r=0,o=0,a=e.children;while(o<a.length){if("none"!==a[o].style.display&&a[o]!==Zh.ghost&&(i||a[o]!==Zh.dragged)&&Ec(a[o],n.draggable,e,!1)){if(r===t)return a[o];r++}o++}return null}function Gc(e,t){var n=e.lastElementChild;while(n&&(n===Zh.ghost||"none"===Sc(n,"display")||t&&!Cc(n,t)))n=n.previousElementSibling;return n||null}function Oc(e,t){var n=0;if(!e||!e.parentNode)return-1;while(e=e.previousElementSibling)"TEMPLATE"===e.nodeName.toUpperCase()||e===Zh.clone||t&&!Cc(e,t)||n++;return n}function Dc(e){var t=0,n=0,i=kc();if(e)do{var r=Pc(e),o=r.a,a=r.d;t+=e.scrollLeft*o,n+=e.scrollTop*a}while(e!==i&&(e=e.parentNode));return[t,n]}function Nc(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var i in t)if(t.hasOwnProperty(i)&&t[i]===e[n][i])return Number(n);return-1}function Fc(e,t){if(!e||!e.getBoundingClientRect)return kc();var n=e,i=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=Sc(n);if(n.clientWidth<n.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!n.getBoundingClientRect||n===document.body)return kc();if(i||t)return n;i=!0}}}while(n=n.parentNode);return kc()}function Uc(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Bc(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function jc(e,t){return function(){if(!wc){var n=arguments,i=this;1===n.length?e.call(i,n[0]):e.apply(i,n),wc=setTimeout((function(){wc=void 0}),t)}}}function zc(){clearTimeout(wc),wc=void 0}function Wc(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Vc(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function Yc(e,t,n){var i={};return Array.from(e.children).forEach((function(r){var o,a,s,l;if(Ec(r,t.draggable,e,!1)&&!r.animated&&r!==n){var u=Rc(r);i.left=Math.min(null!==(o=i.left)&&void 0!==o?o:1/0,u.left),i.top=Math.min(null!==(a=i.top)&&void 0!==a?a:1/0,u.top),i.right=Math.max(null!==(s=i.right)&&void 0!==s?s:-1/0,u.right),i.bottom=Math.max(null!==(l=i.bottom)&&void 0!==l?l:-1/0,u.bottom)}})),i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}var Hc="Sortable"+(new Date).getTime();function qc(){var e,t=[];return{captureAnimationState:function(){if(t=[],this.options.animation){var e=[].slice.call(this.el.children);e.forEach((function(e){if("none"!==Sc(e,"display")&&e!==Zh.ghost){t.push({target:e,rect:Rc(e)});var n=rc({},t[t.length-1].rect);if(e.thisAnimationDuration){var i=Pc(e,!0);i&&(n.top-=i.f,n.left-=i.e)}e.fromRect=n}}))}},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(Nc(t,{target:e}),1)},animateAll:function(n){var i=this;if(!this.options.animation)return clearTimeout(e),void("function"===typeof n&&n());var r=!1,o=0;t.forEach((function(e){var t=0,n=e.target,a=n.fromRect,s=Rc(n),l=n.prevFromRect,u=n.prevToRect,c=e.rect,h=Pc(n,!0);h&&(s.top-=h.f,s.left-=h.e),n.toRect=s,n.thisAnimationDuration&&Bc(l,s)&&!Bc(a,s)&&(c.top-s.top)/(c.left-s.left)===(a.top-s.top)/(a.left-s.left)&&(t=Zc(c,l,u,i.options)),Bc(s,a)||(n.prevFromRect=a,n.prevToRect=s,t||(t=i.options.animation),i.animate(n,c,s,t)),t&&(r=!0,o=Math.max(o,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),r?e=setTimeout((function(){"function"===typeof n&&n()}),o):"function"===typeof n&&n(),t=[]},animate:function(e,t,n,i){if(i){Sc(e,"transition",""),Sc(e,"transform","");var r=Pc(this.el),o=r&&r.a,a=r&&r.d,s=(t.left-n.left)/(o||1),l=(t.top-n.top)/(a||1);e.animatingX=!!s,e.animatingY=!!l,Sc(e,"transform","translate3d("+s+"px,"+l+"px,0)"),this.forRepaintDummy=Xc(e),Sc(e,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),Sc(e,"transform","translate3d(0,0,0)"),"number"===typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){Sc(e,"transition",""),Sc(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),i)}}}}function Xc(e){return e.offsetWidth}function Zc(e,t,n,i){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*i.animation}var Kc=[],Jc={initializeByDefault:!0},Qc={mount:function(e){for(var t in Jc)Jc.hasOwnProperty(t)&&!(t in e)&&(e[t]=Jc[t]);Kc.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),Kc.push(e)},pluginEvent:function(e,t,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var r=e+"Global";Kc.forEach((function(i){t[i.pluginName]&&(t[i.pluginName][r]&&t[i.pluginName][r](rc({sortable:t},n)),t.options[i.pluginName]&&t[i.pluginName][e]&&t[i.pluginName][e](rc({sortable:t},n)))}))},initializePlugins:function(e,t,n,i){for(var r in Kc.forEach((function(i){var r=i.pluginName;if(e.options[r]||i.initializeByDefault){var o=new i(e,t,e.options);o.sortable=e,o.options=e.options,e[r]=o,sc(n,o.defaults)}})),e.options)if(e.options.hasOwnProperty(r)){var o=this.modifyOption(e,r,e.options[r]);"undefined"!==typeof o&&(e.options[r]=o)}},getEventProperties:function(e,t){var n={};return Kc.forEach((function(i){"function"===typeof i.eventProperties&&sc(n,i.eventProperties.call(t[i.pluginName],e))})),n},modifyOption:function(e,t,n){var i;return Kc.forEach((function(r){e[r.pluginName]&&r.optionListeners&&"function"===typeof r.optionListeners[t]&&(i=r.optionListeners[t].call(e[r.pluginName],n))})),i}};function $c(e){var t=e.sortable,n=e.rootEl,i=e.name,r=e.targetEl,o=e.cloneEl,a=e.toEl,s=e.fromEl,l=e.oldIndex,u=e.newIndex,c=e.oldDraggableIndex,h=e.newDraggableIndex,d=e.originalEvent,p=e.putSortable,g=e.extraEventProperties;if(t=t||n&&n[Hc],t){var f,m=t.options,v="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||dc||pc?(f=document.createEvent("Event"),f.initEvent(i,!0,!0)):f=new CustomEvent(i,{bubbles:!0,cancelable:!0}),f.to=a||n,f.from=s||n,f.item=r||n,f.clone=o,f.oldIndex=l,f.newIndex=u,f.oldDraggableIndex=c,f.newDraggableIndex=h,f.originalEvent=d,f.pullMode=p?p.lastPutMode:void 0;var y=rc(rc({},g),Qc.getEventProperties(i,t));for(var A in y)f[A]=y[A];n&&n.dispatchEvent(f),m[v]&&m[v].call(t,f)}}var eh=["evt"],th=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.evt,r=uc(n,eh);Qc.pluginEvent.bind(Zh)(e,t,rc({dragEl:ih,parentEl:rh,ghostEl:oh,rootEl:ah,nextEl:sh,lastDownEl:lh,cloneEl:uh,cloneHidden:ch,dragStarted:Eh,putSortable:mh,activeSortable:Zh.active,originalEvent:i,oldIndex:hh,oldDraggableIndex:ph,newIndex:dh,newDraggableIndex:gh,hideGhostForTarget:Yh,unhideGhostForTarget:Hh,cloneNowHidden:function(){ch=!0},cloneNowShown:function(){ch=!1},dispatchSortableEvent:function(e){nh({sortable:t,name:e,originalEvent:i})}},r))};function nh(e){$c(rc({putSortable:mh,cloneEl:uh,targetEl:ih,rootEl:ah,oldIndex:hh,oldDraggableIndex:ph,newIndex:dh,newDraggableIndex:gh},e))}var ih,rh,oh,ah,sh,lh,uh,ch,hh,dh,ph,gh,fh,mh,vh,yh,Ah,_h,Ch,Ih,Eh,wh,bh,xh,Sh,Ph=!1,Mh=!1,kh=[],Rh=!1,Th=!1,Lh=[],Gh=!1,Oh=[],Dh="undefined"!==typeof document,Nh=mc,Fh=pc||dc?"cssFloat":"float",Uh=Dh&&!vc&&!mc&&"draggable"in document.createElement("div"),Bh=function(){if(Dh){if(dc)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),jh=function(e,t){var n=Sc(e),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=Lc(e,0,t),o=Lc(e,1,t),a=r&&Sc(r),s=o&&Sc(o),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Rc(r).width,u=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+Rc(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&a["float"]&&"none"!==a["float"]){var c="left"===a["float"]?"left":"right";return!o||"both"!==s.clear&&s.clear!==c?"horizontal":"vertical"}return r&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||l>=i&&"none"===n[Fh]||o&&"none"===n[Fh]&&l+u>i)?"vertical":"horizontal"},zh=function(e,t,n){var i=n?e.left:e.top,r=n?e.right:e.bottom,o=n?e.width:e.height,a=n?t.left:t.top,s=n?t.right:t.bottom,l=n?t.width:t.height;return i===a||r===s||i+o/2===a+l/2},Wh=function(e,t){var n;return kh.some((function(i){var r=i[Hc].options.emptyInsertThreshold;if(r&&!Gc(i)){var o=Rc(i),a=e>=o.left-r&&e<=o.right+r,s=t>=o.top-r&&t<=o.bottom+r;return a&&s?n=i:void 0}})),n},Vh=function(e){function t(e,n){return function(i,r,o,a){var s=i.options.group.name&&r.options.group.name&&i.options.group.name===r.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"===typeof e)return t(e(i,r,o,a),n)(i,r,o,a);var l=(n?i:r).options.group.name;return!0===e||"string"===typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},i=e.group;i&&"object"==oc(i)||(i={name:i}),n.name=i.name,n.checkPull=t(i.pull,!0),n.checkPut=t(i.put),n.revertClone=i.revertClone,e.group=n},Yh=function(){!Bh&&oh&&Sc(oh,"display","none")},Hh=function(){!Bh&&oh&&Sc(oh,"display","")};Dh&&!vc&&document.addEventListener("click",(function(e){if(Mh)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Mh=!1,!1}),!0);var qh=function(e){if(ih){e=e.touches?e.touches[0]:e;var t=Wh(e.clientX,e.clientY);if(t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[Hc]._onDragOver(n)}}},Xh=function(e){ih&&ih.parentNode[Hc]._isOutsideThisEl(e.target)};function Zh(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=sc({},t),e[Hc]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return jh(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Zh.supportPointer&&"PointerEvent"in window&&!fc,emptyInsertThreshold:5};for(var i in Qc.initializePlugins(this,e,n),n)!(i in t)&&(t[i]=n[i]);for(var r in Vh(t),this)"_"===r.charAt(0)&&"function"===typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!t.forceFallback&&Uh,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?Ac(e,"pointerdown",this._onTapStart):(Ac(e,"mousedown",this._onTapStart),Ac(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(Ac(e,"dragover",this),Ac(e,"dragenter",this)),kh.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),sc(this,qc())}function Kh(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Jh(e,t,n,i,r,o,a,s){var l,u,c=e[Hc],h=c.options.onMove;return!window.CustomEvent||dc||pc?(l=document.createEvent("Event"),l.initEvent("move",!0,!0)):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=i,l.related=r||t,l.relatedRect=o||Rc(t),l.willInsertAfter=s,l.originalEvent=a,e.dispatchEvent(l),h&&(u=h.call(c,l,a)),u}function Qh(e){e.draggable=!1}function $h(){Gh=!1}function ed(e,t,n){var i=Rc(Lc(n.el,0,n.options,!0)),r=Yc(n.el,n.options,oh),o=10;return t?e.clientX<r.left-o||e.clientY<i.top&&e.clientX<i.right:e.clientY<r.top-o||e.clientY<i.bottom&&e.clientX<i.left}function td(e,t,n){var i=Rc(Gc(n.el,n.options.draggable)),r=Yc(n.el,n.options,oh),o=10;return t?e.clientX>r.right+o||e.clientY>i.bottom&&e.clientX>i.left:e.clientY>r.bottom+o||e.clientX>i.right&&e.clientY>i.top}function nd(e,t,n,i,r,o,a,s){var l=i?e.clientY:e.clientX,u=i?n.height:n.width,c=i?n.top:n.left,h=i?n.bottom:n.right,d=!1;if(!a)if(s&&xh<u*r){if(!Rh&&(1===bh?l>c+u*o/2:l<h-u*o/2)&&(Rh=!0),Rh)d=!0;else if(1===bh?l<c+xh:l>h-xh)return-bh}else if(l>c+u*(1-r)/2&&l<h-u*(1-r)/2)return id(t);return d=d||a,d&&(l<c+u*o/2||l>h-u*o/2)?l>c+u/2?1:-1:0}function id(e){return Oc(ih)<Oc(e)?1:-1}function rd(e){var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;while(n--)i+=t.charCodeAt(n);return i.toString(36)}function od(e){Oh.length=0;var t=e.getElementsByTagName("input"),n=t.length;while(n--){var i=t[n];i.checked&&Oh.push(i)}}function ad(e){return setTimeout(e,0)}function sd(e){return clearTimeout(e)}Zh.prototype={constructor:Zh,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(wh=null)},_getDirection:function(e,t){return"function"===typeof this.options.direction?this.options.direction.call(this,e,t,ih):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,i=this.options,r=i.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(a||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,u=i.filter;if(od(n),!ih&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||i.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!fc||!s||"SELECT"!==s.tagName.toUpperCase())&&(s=Ec(s,i.draggable,n,!1),(!s||!s.animated)&&lh!==s)){if(hh=Oc(s),ph=Oc(s,i.draggable),"function"===typeof u){if(u.call(this,e,s,this))return nh({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),th("filter",t,{evt:e}),void(r&&e.cancelable&&e.preventDefault())}else if(u&&(u=u.split(",").some((function(i){if(i=Ec(l,i.trim(),n,!1),i)return nh({sortable:t,rootEl:i,name:"filter",targetEl:s,fromEl:n,toEl:n}),th("filter",t,{evt:e}),!0})),u))return void(r&&e.cancelable&&e.preventDefault());i.handle&&!Ec(l,i.handle,n,!1)||this._prepareDragStart(e,a,s)}}},_prepareDragStart:function(e,t,n){var i,r=this,o=r.el,a=r.options,s=o.ownerDocument;if(n&&!ih&&n.parentNode===o){var l=Rc(n);if(ah=o,ih=n,rh=ih.parentNode,sh=ih.nextSibling,lh=n,fh=a.group,Zh.dragged=ih,vh={target:ih,clientX:(t||e).clientX,clientY:(t||e).clientY},Ch=vh.clientX-l.left,Ih=vh.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,ih.style["will-change"]="all",i=function(){th("delayEnded",r,{evt:e}),Zh.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!gc&&r.nativeDraggable&&(ih.draggable=!0),r._triggerDragStart(e,t),nh({sortable:r,name:"choose",originalEvent:e}),xc(ih,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){Mc(ih,e.trim(),Qh)})),Ac(s,"dragover",qh),Ac(s,"mousemove",qh),Ac(s,"touchmove",qh),Ac(s,"mouseup",r._onDrop),Ac(s,"touchend",r._onDrop),Ac(s,"touchcancel",r._onDrop),gc&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ih.draggable=!0),th("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(pc||dc))i();else{if(Zh.eventCanceled)return void this._onDrop();Ac(s,"mouseup",r._disableDelayedDrag),Ac(s,"touchend",r._disableDelayedDrag),Ac(s,"touchcancel",r._disableDelayedDrag),Ac(s,"mousemove",r._delayedDragTouchMoveHandler),Ac(s,"touchmove",r._delayedDragTouchMoveHandler),a.supportPointer&&Ac(s,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(i,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ih&&Qh(ih),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;_c(e,"mouseup",this._disableDelayedDrag),_c(e,"touchend",this._disableDelayedDrag),_c(e,"touchcancel",this._disableDelayedDrag),_c(e,"mousemove",this._delayedDragTouchMoveHandler),_c(e,"touchmove",this._delayedDragTouchMoveHandler),_c(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?Ac(document,"pointermove",this._onTouchMove):Ac(document,t?"touchmove":"mousemove",this._onTouchMove):(Ac(ih,"dragend",this),Ac(ah,"dragstart",this._onDragStart));try{document.selection?ad((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(e,t){if(Ph=!1,ah&&ih){th("dragStarted",this,{evt:t}),this.nativeDraggable&&Ac(document,"dragover",Xh);var n=this.options;!e&&xc(ih,n.dragClass,!1),xc(ih,n.ghostClass,!0),Zh.active=this,e&&this._appendGhost(),nh({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(yh){this._lastX=yh.clientX,this._lastY=yh.clientY,Yh();var e=document.elementFromPoint(yh.clientX,yh.clientY),t=e;while(e&&e.shadowRoot){if(e=e.shadowRoot.elementFromPoint(yh.clientX,yh.clientY),e===t)break;t=e}if(ih.parentNode[Hc]._isOutsideThisEl(e),t)do{if(t[Hc]){var n=void 0;if(n=t[Hc]._onDragOver({clientX:yh.clientX,clientY:yh.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Hh()}},_onTouchMove:function(e){if(vh){var t=this.options,n=t.fallbackTolerance,i=t.fallbackOffset,r=e.touches?e.touches[0]:e,o=oh&&Pc(oh,!0),a=oh&&o&&o.a,s=oh&&o&&o.d,l=Nh&&Sh&&Dc(Sh),u=(r.clientX-vh.clientX+i.x)/(a||1)+(l?l[0]-Lh[0]:0)/(a||1),c=(r.clientY-vh.clientY+i.y)/(s||1)+(l?l[1]-Lh[1]:0)/(s||1);if(!Zh.active&&!Ph){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(oh){o?(o.e+=u-(Ah||0),o.f+=c-(_h||0)):o={a:1,b:0,c:0,d:1,e:u,f:c};var h="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");Sc(oh,"webkitTransform",h),Sc(oh,"mozTransform",h),Sc(oh,"msTransform",h),Sc(oh,"transform",h),Ah=u,_h=c,yh=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!oh){var e=this.options.fallbackOnBody?document.body:ah,t=Rc(ih,!0,Nh,!0,e),n=this.options;if(Nh){Sh=e;while("static"===Sc(Sh,"position")&&"none"===Sc(Sh,"transform")&&Sh!==document)Sh=Sh.parentNode;Sh!==document.body&&Sh!==document.documentElement?(Sh===document&&(Sh=kc()),t.top+=Sh.scrollTop,t.left+=Sh.scrollLeft):Sh=kc(),Lh=Dc(Sh)}oh=ih.cloneNode(!0),xc(oh,n.ghostClass,!1),xc(oh,n.fallbackClass,!0),xc(oh,n.dragClass,!0),Sc(oh,"transition",""),Sc(oh,"transform",""),Sc(oh,"box-sizing","border-box"),Sc(oh,"margin",0),Sc(oh,"top",t.top),Sc(oh,"left",t.left),Sc(oh,"width",t.width),Sc(oh,"height",t.height),Sc(oh,"opacity","0.8"),Sc(oh,"position",Nh?"absolute":"fixed"),Sc(oh,"zIndex","100000"),Sc(oh,"pointerEvents","none"),Zh.ghost=oh,e.appendChild(oh),Sc(oh,"transform-origin",Ch/parseInt(oh.style.width)*100+"% "+Ih/parseInt(oh.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,i=e.dataTransfer,r=n.options;th("dragStart",this,{evt:e}),Zh.eventCanceled?this._onDrop():(th("setupClone",this),Zh.eventCanceled||(uh=Vc(ih),uh.removeAttribute("id"),uh.draggable=!1,uh.style["will-change"]="",this._hideClone(),xc(uh,this.options.chosenClass,!1),Zh.clone=uh),n.cloneId=ad((function(){th("clone",n),Zh.eventCanceled||(n.options.removeCloneOnHide||ah.insertBefore(uh,ih),n._hideClone(),nh({sortable:n,name:"clone"}))})),!t&&xc(ih,r.dragClass,!0),t?(Mh=!0,n._loopId=setInterval(n._emulateDragOver,50)):(_c(document,"mouseup",n._onDrop),_c(document,"touchend",n._onDrop),_c(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",r.setData&&r.setData.call(n,i,ih)),Ac(document,"drop",n),Sc(ih,"transform","translateZ(0)")),Ph=!0,n._dragStartId=ad(n._dragStarted.bind(n,t,e)),Ac(document,"selectstart",n),Eh=!0,fc&&Sc(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,i,r,o=this.el,a=e.target,s=this.options,l=s.group,u=Zh.active,c=fh===l,h=s.sort,d=mh||u,p=this,g=!1;if(!Gh){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=Ec(a,s.draggable,o,!0),M("dragOver"),Zh.eventCanceled)return g;if(ih.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||p._ignoreWhileAnimating===a)return R(!1);if(Mh=!1,u&&!s.disabled&&(c?h||(i=rh!==ah):mh===this||(this.lastPutMode=fh.checkPull(this,u,ih,e))&&l.checkPut(this,u,ih,e))){if(r="vertical"===this._getDirection(e,a),t=Rc(ih),M("dragOverValid"),Zh.eventCanceled)return g;if(i)return rh=ah,k(),this._hideClone(),M("revert"),Zh.eventCanceled||(sh?ah.insertBefore(ih,sh):ah.appendChild(ih)),R(!0);var f=Gc(o,s.draggable);if(!f||td(e,r,this)&&!f.animated){if(f===ih)return R(!1);if(f&&o===e.target&&(a=f),a&&(n=Rc(a)),!1!==Jh(ah,o,ih,t,a,n,e,!!a))return k(),f&&f.nextSibling?o.insertBefore(ih,f.nextSibling):o.appendChild(ih),rh=o,T(),R(!0)}else if(f&&ed(e,r,this)){var m=Lc(o,0,s,!0);if(m===ih)return R(!1);if(a=m,n=Rc(a),!1!==Jh(ah,o,ih,t,a,n,e,!1))return k(),o.insertBefore(ih,m),rh=o,T(),R(!0)}else if(a.parentNode===o){n=Rc(a);var v,y,A=0,_=ih.parentNode!==o,C=!zh(ih.animated&&ih.toRect||t,a.animated&&a.toRect||n,r),I=r?"top":"left",E=Tc(a,"top","top")||Tc(ih,"top","top"),w=E?E.scrollTop:void 0;if(wh!==a&&(v=n[I],Rh=!1,Th=!C&&s.invertSwap||_),A=nd(e,a,n,r,C?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,Th,wh===a),0!==A){var b=Oc(ih);do{b-=A,y=rh.children[b]}while(y&&("none"===Sc(y,"display")||y===oh))}if(0===A||y===a)return R(!1);wh=a,bh=A;var x=a.nextElementSibling,S=!1;S=1===A;var P=Jh(ah,o,ih,t,a,n,e,S);if(!1!==P)return 1!==P&&-1!==P||(S=1===P),Gh=!0,setTimeout($h,30),k(),S&&!x?o.appendChild(ih):a.parentNode.insertBefore(ih,S?x:a),E&&Wc(E,0,w-E.scrollTop),rh=ih.parentNode,void 0===v||Th||(xh=Math.abs(v-Rc(a)[I])),T(),R(!0)}if(o.contains(ih))return R(!1)}return!1}function M(s,l){th(s,p,rc({evt:e,isOwner:c,axis:r?"vertical":"horizontal",revert:i,dragRect:t,targetRect:n,canSort:h,fromSortable:d,target:a,completed:R,onMove:function(n,i){return Jh(ah,o,ih,t,n,Rc(n),e,i)},changed:T},l))}function k(){M("dragOverAnimationCapture"),p.captureAnimationState(),p!==d&&d.captureAnimationState()}function R(t){return M("dragOverCompleted",{insertion:t}),t&&(c?u._hideClone():u._showClone(p),p!==d&&(xc(ih,mh?mh.options.ghostClass:u.options.ghostClass,!1),xc(ih,s.ghostClass,!0)),mh!==p&&p!==Zh.active?mh=p:p===Zh.active&&mh&&(mh=null),d===p&&(p._ignoreWhileAnimating=a),p.animateAll((function(){M("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(a===ih&&!ih.animated||a===o&&!a.animated)&&(wh=null),s.dragoverBubble||e.rootEl||a===document||(ih.parentNode[Hc]._isOutsideThisEl(e.target),!t&&qh(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),g=!0}function T(){dh=Oc(ih),gh=Oc(ih,s.draggable),nh({sortable:p,name:"change",toEl:o,newIndex:dh,newDraggableIndex:gh,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){_c(document,"mousemove",this._onTouchMove),_c(document,"touchmove",this._onTouchMove),_c(document,"pointermove",this._onTouchMove),_c(document,"dragover",qh),_c(document,"mousemove",qh),_c(document,"touchmove",qh)},_offUpEvents:function(){var e=this.el.ownerDocument;_c(e,"mouseup",this._onDrop),_c(e,"touchend",this._onDrop),_c(e,"pointerup",this._onDrop),_c(e,"touchcancel",this._onDrop),_c(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;dh=Oc(ih),gh=Oc(ih,n.draggable),th("drop",this,{evt:e}),rh=ih&&ih.parentNode,dh=Oc(ih),gh=Oc(ih,n.draggable),Zh.eventCanceled||(Ph=!1,Th=!1,Rh=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),sd(this.cloneId),sd(this._dragStartId),this.nativeDraggable&&(_c(document,"drop",this),_c(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),fc&&Sc(document.body,"user-select",""),Sc(ih,"transform",""),e&&(Eh&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),oh&&oh.parentNode&&oh.parentNode.removeChild(oh),(ah===rh||mh&&"clone"!==mh.lastPutMode)&&uh&&uh.parentNode&&uh.parentNode.removeChild(uh),ih&&(this.nativeDraggable&&_c(ih,"dragend",this),Qh(ih),ih.style["will-change"]="",Eh&&!Ph&&xc(ih,mh?mh.options.ghostClass:this.options.ghostClass,!1),xc(ih,this.options.chosenClass,!1),nh({sortable:this,name:"unchoose",toEl:rh,newIndex:null,newDraggableIndex:null,originalEvent:e}),ah!==rh?(dh>=0&&(nh({rootEl:rh,name:"add",toEl:rh,fromEl:ah,originalEvent:e}),nh({sortable:this,name:"remove",toEl:rh,originalEvent:e}),nh({rootEl:rh,name:"sort",toEl:rh,fromEl:ah,originalEvent:e}),nh({sortable:this,name:"sort",toEl:rh,originalEvent:e})),mh&&mh.save()):dh!==hh&&dh>=0&&(nh({sortable:this,name:"update",toEl:rh,originalEvent:e}),nh({sortable:this,name:"sort",toEl:rh,originalEvent:e})),Zh.active&&(null!=dh&&-1!==dh||(dh=hh,gh=ph),nh({sortable:this,name:"end",toEl:rh,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){th("nulling",this),ah=ih=rh=oh=sh=uh=lh=ch=vh=yh=Eh=dh=gh=hh=ph=wh=bh=mh=fh=Zh.dragged=Zh.ghost=Zh.clone=Zh.active=null,Oh.forEach((function(e){e.checked=!0})),Oh.length=Ah=_h=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":ih&&(this._onDragOver(e),Kh(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e,t=[],n=this.el.children,i=0,r=n.length,o=this.options;i<r;i++)e=n[i],Ec(e,o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||rd(e));return t},sort:function(e,t){var n={},i=this.el;this.toArray().forEach((function(e,t){var r=i.children[t];Ec(r,this.options.draggable,i,!1)&&(n[e]=r)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(i.removeChild(n[e]),i.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Ec(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var i=Qc.modifyOption(this,e,t);n[e]="undefined"!==typeof i?i:t,"group"===e&&Vh(n)},destroy:function(){th("destroy",this);var e=this.el;e[Hc]=null,_c(e,"mousedown",this._onTapStart),_c(e,"touchstart",this._onTapStart),_c(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(_c(e,"dragover",this),_c(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),kh.splice(kh.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ch){if(th("hideClone",this),Zh.eventCanceled)return;Sc(uh,"display","none"),this.options.removeCloneOnHide&&uh.parentNode&&uh.parentNode.removeChild(uh),ch=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ch){if(th("showClone",this),Zh.eventCanceled)return;ih.parentNode!=ah||this.options.group.revertClone?sh?ah.insertBefore(uh,sh):ah.appendChild(uh):ah.insertBefore(uh,ih),this.options.group.revertClone&&this.animate(ih,uh),Sc(uh,"display",""),ch=!1}}else this._hideClone()}},Dh&&Ac(document,"touchmove",(function(e){(Zh.active||Ph)&&e.cancelable&&e.preventDefault()})),Zh.utils={on:Ac,off:_c,css:Sc,find:Mc,is:function(e,t){return!!Ec(e,t,e,!1)},extend:Uc,throttle:jc,closest:Ec,toggleClass:xc,clone:Vc,index:Oc,nextTick:ad,cancelNextTick:sd,detectDirection:jh,getChild:Lc},Zh.get=function(e){return e[Hc]},Zh.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Zh.utils=rc(rc({},Zh.utils),e.utils)),Qc.mount(e)}))},Zh.create=function(e,t){return new Zh(e,t)},Zh.version=cc;var ld,ud,cd,hd,dd,pd,gd=[],fd=!1;function md(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"===typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?Ac(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Ac(document,"pointermove",this._handleFallbackAutoScroll):t.touches?Ac(document,"touchmove",this._handleFallbackAutoScroll):Ac(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?_c(document,"dragover",this._handleAutoScroll):(_c(document,"pointermove",this._handleFallbackAutoScroll),_c(document,"touchmove",this._handleFallbackAutoScroll),_c(document,"mousemove",this._handleFallbackAutoScroll)),yd(),vd(),zc()},nulling:function(){dd=ud=ld=fd=pd=cd=hd=null,gd.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,i=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(i,r);if(dd=e,t||this.options.forceAutoScrollFallback||pc||dc||fc){Ad(e,this.options,o,t);var a=Fc(o,!0);!fd||pd&&i===cd&&r===hd||(pd&&yd(),pd=setInterval((function(){var o=Fc(document.elementFromPoint(i,r),!0);o!==a&&(a=o,vd()),Ad(e,n.options,o,t)}),10),cd=i,hd=r)}else{if(!this.options.bubbleScroll||Fc(o,!0)===kc())return void vd();Ad(e,this.options,Fc(o,!1),!1)}}},sc(e,{pluginName:"scroll",initializeByDefault:!0})}function vd(){gd.forEach((function(e){clearInterval(e.pid)})),gd=[]}function yd(){clearInterval(pd)}var Ad=jc((function(e,t,n,i){if(t.scroll){var r,o=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,u=kc(),c=!1;ud!==n&&(ud=n,vd(),ld=t.scroll,r=t.scrollFn,!0===ld&&(ld=Fc(n,!0)));var h=0,d=ld;do{var p=d,g=Rc(p),f=g.top,m=g.bottom,v=g.left,y=g.right,A=g.width,_=g.height,C=void 0,I=void 0,E=p.scrollWidth,w=p.scrollHeight,b=Sc(p),x=p.scrollLeft,S=p.scrollTop;p===u?(C=A<E&&("auto"===b.overflowX||"scroll"===b.overflowX||"visible"===b.overflowX),I=_<w&&("auto"===b.overflowY||"scroll"===b.overflowY||"visible"===b.overflowY)):(C=A<E&&("auto"===b.overflowX||"scroll"===b.overflowX),I=_<w&&("auto"===b.overflowY||"scroll"===b.overflowY));var P=C&&(Math.abs(y-o)<=s&&x+A<E)-(Math.abs(v-o)<=s&&!!x),M=I&&(Math.abs(m-a)<=s&&S+_<w)-(Math.abs(f-a)<=s&&!!S);if(!gd[h])for(var k=0;k<=h;k++)gd[k]||(gd[k]={});gd[h].vx==P&&gd[h].vy==M&&gd[h].el===p||(gd[h].el=p,gd[h].vx=P,gd[h].vy=M,clearInterval(gd[h].pid),0==P&&0==M||(c=!0,gd[h].pid=setInterval(function(){i&&0===this.layer&&Zh.active._onTouchMove(dd);var t=gd[this.layer].vy?gd[this.layer].vy*l:0,n=gd[this.layer].vx?gd[this.layer].vx*l:0;"function"===typeof r&&"continue"!==r.call(Zh.dragged.parentNode[Hc],n,t,e,dd,gd[this.layer].el)||Wc(gd[this.layer].el,n,t)}.bind({layer:h}),24))),h++}while(t.bubbleScroll&&d!==u&&(d=Fc(d,!1)));fd=c}}),30),_d=function(e){var t=e.originalEvent,n=e.putSortable,i=e.dragEl,r=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=n||r;a();var u=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,c=document.elementFromPoint(u.clientX,u.clientY);s(),l&&!l.el.contains(c)&&(o("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function Cd(){}function Id(){}Cd.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=Lc(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:_d},sc(Cd,{pluginName:"revertOnSpill"}),Id.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,i=n||this.sortable;i.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),i.animateAll()},drop:_d},sc(Id,{pluginName:"removeOnSpill"});Zh.mount(new md),Zh.mount(Id,Cd);var Ed=Zh,wd={_createDraggableElement:function(e,t){navigator.userAgent.match(/chrome|chromium|crios/i)?Ed.create(e,{handle:".GPlayerName",draggable:".draggable-layer",ghostClass:"GPghostLayer",animation:200,forceFallback:!0,onEnd:function(e){t._onDragAndDropLayerClick(e)}}):Ed.create(e,{handle:".GPlayerName",draggable:".draggable-layer",ghostClass:"GPghostLayer",animation:200,onEnd:function(e){t._onDragAndDropLayerClick(e)}})},_addUID:function(e){var t=this._uid?e+"-"+this._uid:e;return t},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPlayerSwitcher"),e.className="GPwidget gpf-widget",e},_createMainLayersShowElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPshowLayersList"),e.type="checkbox",e},_createMainLayersElement:function(){var e=document.createElement("dialog");return e.id=this._addUID("GPlayersList"),e.className="GPpanel gpf-panel fr-modal",e},_createMainLayersDivElement:function(){var e=document.createElement("div");return e.className="gpf-panel__body fr-modal__body",e},_createMainPictoElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPshowLayersListPicto"),t.className="GPshowOpen GPshowAdvancedToolPicto gpf-btn gpf-btn-icon-layerswitcher fr-btn",t.htmlFor=this._addUID("GPshowLayersList"),t.title="Afficher/masquer le gestionnaire de couches",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener?t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;if(t.target.setAttribute("aria-pressed",!n),document.getElementById(e._addUID("GPshowLayersList")).checked=n,document.getElementById(e._addUID("GPshowLayersList")).checked){for(var i=document.getElementsByClassName("GPlayerInfoOpened"),r=0;r<i.length;r++)i[r].className="GPlayerInfo";document.getElementById(e._addUID("GPlayerInfoPanel")).className="GPlayerInfoPanelClosed"}})):t.attachEvent&&t.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;if(t.target.setAttribute("aria-pressed",!n),document.getElementById(e._addUID("GPshowLayersList")).checked){for(var i=document.getElementsByClassName("GPlayerInfoOpened"),r=0;r<i.length;r++)i[r].className="GPlayerInfo";document.getElementById(e._addUID("GPlayerInfoPanel")).className="GPlayerInfoPanelClosed"}})),t},_createMainInfoElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPlayerInfoPanel"),e.className="GPpanel GPlayerInfoPanelClosed gpf-panel fr-modal",e},_createContainerLayerElement:function(e){var t=document.createElement("div");t.id=this._addUID("GPlayerSwitcher_ID_"+e.id),t.className="GPlayerSwitcher_layer gpf-panel__content fr-modal__content draggable-layer",t.appendChild(this._createBasicToolElement(e));for(var n=this._createAdvancedToolShowElement(e),i=0;i<n.length;i++)t.appendChild(n[i]);return t.appendChild(this._createAdvancedToolElement(e)),t},_createBasicToolElement:function(e){var t=document.createElement("div");t.id=this._addUID("GPbasicTools_ID_"+e.id),t.className="GPlayerBasicTools",t.appendChild(this._createBasicToolNameElement(e));for(var n=this._createBasicToolVisibilityElement(e),i=0;i<n.length;i++)t.appendChild(n[i]);return t},_createBasicToolNameElement:function(e){var t=document.createElement("label");return t.id=this._addUID("GPname_ID_"+e.id),t.className="GPlayerName gpf-label fr-label",t.title=e.description||e.title,t.innerHTML=e.title,t},_createBasicToolVisibilityElement:function(e){var t=[],n="undefined"===typeof e.visibility||e.visibility,i=this._addUID("GPvisibility_ID_"+e.id),r=document.createElement("input");r.id=i,r.type="checkbox",r.checked=n;var o=document.createElement("label");o.htmlFor=i,o.id=this._addUID("GPvisibilityPicto_ID_"+e.id),o.className="GPlayerVisibility gpf-label fr-label",o.title="Afficher/masquer la couche";var a=this;return r.addEventListener?r.addEventListener("click",(function(e){a._onVisibilityLayerClick(e)})):r.attachEvent&&r.attachEvent("onclick",(function(e){a._onVisibilityLayerClick(e)})),t.push(r),t.push(o),t},_createAdvancedToolShowElement:function(e){var t=[],n=document.createElement("label");n.id=this._addUID("GPshowAdvancedToolsPicto_ID_"+e.id),n.htmlFor=this._addUID("GPshowAdvancedTools_ID_"+e.id),n.title="Plus d'outils",n.className="GPshowMoreOptions GPshowLayerAdvancedTools gpf-label fr-label";var i=document.createElement("input");return i.type="checkbox",i.id=this._addUID("GPshowAdvancedTools_ID_"+e.id),t.push(i),t.push(n),t},_createAdvancedToolElement:function(e){var t=document.createElement("div");if(t.id=this._addUID("GPadvancedTools_ID_"+e.id),t.className="GPlayerAdvancedTools",t.appendChild(this._createAdvancedToolDeleteElement(e)),e.title&&e.description&&t.appendChild(this._createAdvancedToolInformationElement(e)),"feature"!==e.type)for(var n=this._createAdvancedToolOpacityElement(e),i=0;i<n.length;i++)t.appendChild(n[i]);return t},_createAdvancedToolDeleteElement:function(e){var t=document.createElement("div");t.id=this._addUID("GPremove_ID_"+e.id),t.className="GPlayerRemove",t.title="Supprimer la couche",t.layerId=e.id;var n=this;return t.addEventListener?t.addEventListener("click",(function(e){n._onDropLayerClick(e)})):t.attachEvent&&t.attachEvent("onclick",(function(e){n._onDropLayerClick(e)})),t},_createAdvancedToolInformationElement:function(e){var t=document.createElement("div");t.id=this._addUID("GPinfo_ID_"+e.id),t.className="GPlayerInfo",t.title="Informations/légende",t.layerId=e.id;var n=this;return t.addEventListener?t.addEventListener("click",(function(e){n._onOpenLayerInfoClick(e)})):t.attachEvent&&t.attachEvent("onclick",(function(e){n._onOpenLayerInfoClick(e)})),t},_createAdvancedToolOpacityElement:function(e){var t=[],n=document.createElement("div");n.id=this._addUID("GPopacity_ID_"+e.id),n.className="GPlayerOpacity",n.title="Opacité";var i="undefined"!==typeof e.opacity?e.opacity:1;i=Math.round(100*i);var r=document.createElement("input");r.id=this._addUID("GPopacityValueDiv_ID_"+e.id),r.type="range",r.value=i,r.ariaLabel="Opacité";var o=this;r.addEventListener?r.addEventListener("change",(function(e){o._onChangeLayerOpacity(e)})):r.attachEvent&&r.attachEvent("onchange",(function(e){o._onChangeLayerOpacity(e)})),r.addEventListener?r.addEventListener("input",(function(e){o._onChangeLayerOpacity(e)})):r.attachEvent&&r.attachEvent("oninput",(function(e){o._onChangeLayerOpacity(e)})),n.appendChild(r);var a=document.createElement("div");a.id=this._addUID("GPopacityValueDiv_ID_"+e.id),a.className="GPlayerOpacityValue";var s=document.createElement("span");return s.id=this._addUID("GPopacityValue_ID_"+e.id),s.innerHTML=i+"%",a.appendChild(s),t.push(n),t.push(a),t},_createContainerLayerInfoElement:function(e){var t=document.createElement("div");t.id=this._addUID("GPlayerInfoContent");var n=document.createElement("div");if(n.id=this._addUID("GPlayerInfoTitle"),n.innerHTML=e.title,t.appendChild(n),e.quicklookUrl){var i=document.createElement("div");i.id=this._addUID("GPlayerInfoQuicklook"),i.title="Afficher un aperçu de la couche";var r=document.createElement("a");r.href=e.quicklookUrl,r.appendChild(i),t.appendChild(r)}var o=document.createElement("div");o.id=this._addUID("GPlayerInfoClose"),o.title="Fermer la fenêtre";var a=this,s=function(){document.getElementById(a._addUID("GPlayerInfoPanel")).className="GPlayerInfoPanelClosed";for(var e=document.getElementsByClassName("GPlayerInfoOpened"),t=0;t<e.length;t++)e[t].className="GPlayerInfo"};o.addEventListener?o.addEventListener("click",s):o.attachEvent&&o.attachEvent("onclick",s),t.appendChild(o);var l=document.createElement("div");if(l.id=this._addUID("GPlayerInfoDescription"),l.innerHTML=e.description,t.appendChild(l),e.metadata){var u=document.createElement("div");u.id=this._addUID("GPlayerInfoMetadata");var c=document.createElement("div");c.className="GPlayerInfoSubtitle",c.innerHTML="Métadonnées",u.appendChild(c);for(var h=0;h<e.metadata.length;h++){var d=e.metadata[h].url,p=document.createElement("div");p.className="GPlayerInfoLink";var g=document.createElement("a");g.href=d,g.innerHTML=d,p.appendChild(g),u.appendChild(p)}0!==e.metadata.length&&t.appendChild(u)}if(e.legends){var f=document.createElement("div");f.id=this._addUID("GPlayerInfoLegend");var m=document.createElement("div");m.className="GPlayerInfoSubtitle",m.innerHTML="Légende",f.appendChild(m);for(var v={},y=e.maxScaleDenominator||56e7,A=0;A<e.legends.length;A++){var _=e.legends[A].minScaleDenominator;if(_){var C=_.toString();_=Math.round(parseInt(C.substring(0,3),10)/10)*Math.pow(10,C.length-2)}else _=270;v[_]=e.legends[A]}for(var I in v)if(v.hasOwnProperty(I)){var E=v[I].url;if("string"===typeof E&&-1===E.toLowerCase().indexOf("nolegend.jpg")){var w=document.createElement("div");w.className="GPlayerInfoLink",y=v[I].maxScaleDenominator||y;var b=document.createElement("a");b.href=E,b.innerHTML="Du 1/"+I+" au 1/"+y,w.appendChild(b),f.appendChild(w)}else delete v[I]}0!==Object.keys(v).length&&t.appendChild(f)}return t}},bd=wd,xd=Un.getLogger("layerswitcher"),Sd=class e extends Qu{constructor(t){t=t||{};var n=t.options||{},i=t.layers||[];if(super({element:n.element,target:n.target,render:n.render}),!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");if(!Array.isArray(i))throw new Error("ERROR WRONG_TYPE : layers should be an array");if("object"!==typeof n)throw new Error("ERROR WRONG_TYPE : options should be an object");return this._initialize(n,i),this.container=this._initContainer(n),this.element?this.element.appendChild(this.container):this.element=this.container,this}setMap(e){if(e)this._addMapLayers(e),this._listeners.onMoveListener=e.on("moveend",(()=>this._onMapMoveEnd(e))),this._listeners.onAddListener=e.getLayers().on("add",(e=>{var t,n=e.element;n.hasOwnProperty("gpLayerId")?t=n.gpLayerId:(t=this._layerId,n.gpLayerId=t,this._layerId++),this._layers[t]||this.addLayer(n)})),this._listeners.onRemoveListener=e.getLayers().on("remove",(e=>{var t=e.element,n=t.gpLayerId;this._layers[n]&&this.removeLayer(t)}));else{(0,Cr.e)(this._listeners.onMoveListener),(0,Cr.e)(this._listeners.onAddListener),(0,Cr.e)(this._listeners.onRemoveListener);for(var t=this._layersOrder.length-1;t>=0;t--)this._layersOrder[t].layer.setZIndex(0)}super.setMap(e),this.options.position&&this.setPosition(this.options.position)}addLayer(e,t){var n=this.getMap();if(t=t||{},e){var i=e.gpLayerId;if("undefined"!==typeof i){var r=!1;if(n.getLayers().forEach((e=>{e.gpLayerId===i&&(r=!0)})),r)if(this._layers[i]){for(var o in t)t.hasOwnProperty(o)&&(this._layers[i][o]=t[o]);if(t.title){var a=document.getElementById(this._addUID("GPname_ID_"+i));a&&(a.innerHTML=t.title,a.title=t.description||t.title)}var s=document.getElementById(this._addUID("GPinfo_ID_"+i));if(!document.getElementById(this._addUID("GPinfo_ID_"+i))&&t.description){var l=document.getElementById(this._addUID("GPadvancedTools_ID_"+i));l&&l.appendChild(this._createAdvancedToolInformationElement({id:i}))}s&&"GPlayerInfoOpened"===s.className&&(document.getElementById(this._addUID("GPlayerInfoPanel")).className="GPlayerInfoPanelClosed",s.className="GPlayerInfo")}else{var u=this.getLayerInfo(e)||{},c=e.getOpacity(),h=e.getVisible(),d=this.isInRange(e,n),p={layer:e,id:i,opacity:null!=c?c:1,visibility:null==h||h,inRange:null==d||d,title:null!=t.title?t.title:u._title||i,description:t.description||u._description||null,legends:t.legends||u._legends||[],metadata:t.metadata||u._metadata||[],quicklookUrl:t.quicklookUrl||u._quicklookUrl||null};this._layers[i]=p;var g=this._createLayerDiv(p);this._layers[i].div=g,e.getZIndex&&0!==e.getZIndex()&&"undefined"!==typeof e.getZIndex()||e._forceNullzIndex?this._updateLayersOrder():(this._layersOrder.unshift(p),this._lastZIndex++,e.setZIndex(this._lastZIndex),this._layerListContainer.insertBefore(g,this._layerListContainer.firstChild)),this._listeners.updateLayerOpacity=e.on("change:opacity",(e=>this._updateLayerOpacity(e))),this._listeners.updateLayerVisibility=e.on("change:visible",(e=>this._updateLayerVisibility(e))),null==this._layers[i].onZIndexChangeEvent&&(this._layers[i].onZIndexChangeEvent=e.on("change:zIndex",(()=>this._updateLayersOrder())))}else xd.log("[ERROR] LayerSwitcher:addLayer - configuration cannot be set for ",e," layer (layer is not in map.getLayers() )")}else xd.trace("[WARN] LayerSwitcher:addLayer - configuration cannot be set for this layer (layer id not found)",e)}else xd.log("[ERROR] LayerSwitcher:addLayer - missing layer parameter")}removeLayer(e){if(e){(0,Cr.e)(this._listeners.updateLayerOpacity),(0,Cr.e)(this._listeners.updateLayerVisibility),xd.trace(e);var t=e.gpLayerId,n=document.getElementById(this._addUID("GPlayersList")).firstChild,i=document.getElementById(this._addUID("GPinfo_ID_"+t));i&&"GPlayerInfoOpened"===i.className&&(document.getElementById(this._addUID("GPlayerInfoPanel")).className="GPlayerInfoPanelClosed",i.className="GPlayerInfo");var r=document.getElementById(this._addUID("GPlayerSwitcher_ID_"+t));r&&n.removeChild(r);var o=Math.abs(e.getZIndex()-this._lastZIndex);this._layersOrder.splice(o,1),this._lastZIndex--;for(var a=this._layersOrder,s=0;s<a.length;s++)a[s].layer.setZIndex(this._lastZIndex-s);delete this._layers[t]}}setCollapsed(e){if(void 0!==e){var t=!document.getElementById(this._addUID("GPshowLayersList")).checked;if(!(e&&t||!e&&!t)){if(!t){for(var n=document.getElementsByClassName("GPlayerInfoOpened"),i=0;i<n.length;i++)n[i].className="GPlayerInfo";document.getElementById(this._addUID("GPlayerInfoPanel")).className="GPlayerInfoPanelClosed"}document.getElementById(this._addUID("GPshowLayersList")).checked=!e}}else xd.log("[ERROR] LayerSwitcher:setCollapsed - missing collapsed parameter")}getCollapsed(){return this.collapsed}setRemovable(e,t){if(e){var n=e.gpLayerId;if(null!=n){var i=document.getElementById(this._addUID("GPremove_ID_"+n));i&&(!1===t?i.style.display="none":!0===t&&(i.style.display="block"))}else xd.log("[LayerSwitcher:setRemovable] layer should be added to map before calling setRemovable method")}}_initialize(e,t){this._uid=nc.generate(),this.options=e,this.options.layers=t,this._layers={},this._layersOrder=[],this._layersIndex={},this._lastZIndex=0,this._layerId=0,this.collapsed=void 0===e.collapsed||e.collapsed,this._layerListContainer=null,this._listeners={};for(var n=0;n<t.length;n++){var i=t[n].layer;if(i){var r;i.hasOwnProperty("gpLayerId")?r=i.gpLayerId:(r=this._layerId,i.gpLayerId=r,this._layerId++);var o=t[n].config||{},a=i.getOpacity(),s=i.getVisible(),l={layer:i,id:r,opacity:null!=a?a:1,visibility:null==s||s,title:null!=o.title?o.title:o.id?o.id:r,description:o.description||null,legends:o.legends||[],metadata:o.metadata||[],quicklookUrl:o.quicklookUrl||null};this._layers[r]=l}}}_initContainer(){var e=this._createMainContainerElement(),t=this._createMainLayersShowElement();e.appendChild(t),this.collapsed?this.collapsed=!0:(t.checked="checked",this.collapsed=!1);var n=this,i=function(e){this.collapsed=!e.target.checked,this.dispatchEvent("change:collapsed")};t.addEventListener("click",(function(e){i.call(n,e)}));var r=this._createMainPictoElement();e.appendChild(r);var o=this._createMainLayersElement();e.appendChild(o);var a=this._layerListContainer=this._createMainLayersDivElement();o.appendChild(a),this._createDraggableElement(a,this);var s=this._createMainInfoElement();return e.appendChild(s),e}_addMapLayers(e){for(var t in this._layersIndex={},e.getLayers().forEach((t=>{var n;t.hasOwnProperty("gpLayerId")?n=t.gpLayerId:(n=this._layerId,t.gpLayerId=n,this._layerId++);var i=this.getLayerInfo(t)||{};if(this._layers[n])this._layers[n].opacity=t.getOpacity(),this._layers[n].visibility=t.getVisible(),this._layers[n].inRange=this.isInRange(t,e);else{var r=t.getOpacity(),o=t.getVisible(),a=this.isInRange(t,e),s={layer:t,id:n,opacity:null!=r?r:1,visibility:null==o||o,inRange:null==a||a,title:i._title||n,description:i._description||null,legends:i._legends||[],metadata:i._metadata||[],quicklookUrl:i._quicklookUrl||null};this._layers[n]=s}if(this._listeners.updateLayerOpacity=t.on("change:opacity",(e=>this._updateLayerOpacity(e))),this._listeners._updateLayerVisibility=t.on("change:visible",(e=>this._updateLayerVisibility(e))),void 0!==t.getZIndex){var l=t.getZIndex()||0;this._layersIndex[l]&&Array.isArray(this._layersIndex[l])||(this._layersIndex[l]=[]),this._layersIndex[l].push(this._layers[n])}})),this._layersIndex)if(this._layersIndex.hasOwnProperty(t))for(var n=this._layersIndex[t],i=0;i<n.length;i++)this._layersOrder.unshift(n[i]),this._lastZIndex++,n[i].layer.setZIndex(this._lastZIndex),null==this._layers[n[i].layer.gpLayerId].onZIndexChangeEvent&&(this._layers[n[i].layer.gpLayerId].onZIndexChangeEvent=n[i].layer.on("change:zIndex",(()=>this._updateLayersOrder())));for(var r=0;r<this._layersOrder.length;r++){var o=this._layersOrder[r],a=this._createLayerDiv(o);this._layerListContainer.appendChild(a),this._layers[o.id].div=a}}_createLayerDiv(e){var t=e.legends&&0!==e.legends.length,n=e.metadata&&0!==e.metadata.length,i=e.quicklookUrl;(t||n||i)&&(e.displayInformationElement=!0);var r=this._createContainerLayerElement(e);return e.inRange||r.classList.add("outOfRange"),r}_onChangeLayerOpacity(e){var t=e.target.id,n=nc.index(t),i=this._layers[n].layer,r=e.target.value,o=document.getElementById(this._addUID("GPopacityValue_ID_"+n));o.innerHTML=r+"%",i.setOpacity(r/100)}_updateLayerOpacity(e){var t=e.target.getOpacity();t>1&&(t=1),t<0&&(t=0);var n=e.target.gpLayerId,i=document.getElementById(this._addUID("GPopacityValueDiv_ID_"+n));i&&(i.value=Math.round(100*t));var r=document.getElementById(this._addUID("GPopacityValue_ID_"+n));r&&(r.innerHTML=Math.round(100*t)+"%")}_onVisibilityLayerClick(e){var t=e.target.id,n=nc.index(t),i=this._layers[n].layer;i.setVisible(e.target.checked)}_updateLayerVisibility(e){var t=e.target.getVisible(),n=e.target.gpLayerId,i=document.getElementById(this._addUID("GPvisibility_ID_"+n));i&&(i.checked=t)}_updateLayersOrder(){var e=this.getMap();if(e){var t,n;for(var i in this._layersIndex={},e.getLayers().forEach((e=>{n=e.gpLayerId,(0,Cr.e)(this._layers[n].onZIndexChangeEvent),this._layers[n].onZIndexChangeEvent=null,t=null,void 0!==e.getZIndex&&(t=e.getZIndex(),this._layersIndex[t]&&Array.isArray(this._layersIndex[t])||(this._layersIndex[t]=[]),this._layersIndex[t].push(this._layers[n]))})),this._lastZIndex=0,this._layersOrder=[],this._layersIndex)if(this._layersIndex.hasOwnProperty(i))for(var r=this._layersIndex[i],o=0;o<r.length;o++)this._layersOrder.unshift(r[o]),this._lastZIndex++,null==this._layers[r[o].layer.gpLayerId].onZIndexChangeEvent&&(this._layers[r[o].layer.gpLayerId].onZIndexChangeEvent=r[o].layer.on("change:zIndex",(()=>this._updateLayersOrder())));if(this._layerListContainer){while(this._layerListContainer.firstChild)this._layerListContainer.removeChild(this._layerListContainer.firstChild);for(var a=0;a<this._layersOrder.length;a++){var s=this._layersOrder[a];this._layerListContainer.appendChild(s.div)}}else xd.log("[ol.control.LayerSwitcher] _updateLayersOrder : layer list container not found to update layers order ?!")}}_onOpenLayerInfoClick(e){var t,n,i=e.target.id,r=nc.index(i),o=this._layers[r];if(i=document.getElementById(e.target.id),"GPlayerInfoOpened"===i.className)return void 0!==i.classList&&(i.classList.remove("GPlayerInfoOpened"),i.classList.add("GPlayerInfo")),t=document.getElementById(this._addUID("GPlayerInfoPanel")),void 0!==t.classList&&(t.classList.remove("GPpanel"),t.classList.remove("GPlayerInfoPanelOpened"),t.classList.add("GPlayerInfoPanelClosed")),n=document.getElementById(this._addUID("GPlayerInfoContent")),void t.removeChild(n);for(var a=document.getElementsByClassName("GPlayerInfoOpened"),s=0;s<a.length;s++)a[s].className="GPlayerInfo";void 0!==i.classList&&(i.classList.remove("GPlayerInfo"),i.classList.add("GPlayerInfoOpened")),t=document.getElementById(this._addUID("GPlayerInfoPanel")),void 0!==t.classList&&(t.classList.add("GPpanel"),t.classList.remove("GPlayerInfoPanelClosed"),t.classList.add("GPlayerInfoPanelOpened")),n=document.getElementById(this._addUID("GPlayerInfoContent")),n&&t.removeChild(n);var l={title:o.title,description:o.description,quicklookUrl:o.quicklookUrl,metadata:o.metadata,legends:o.legends},u=o.layer.getMaxResolution();l._maxScaleDenominator=u===1/0?56e7:Math.round(u/28e-5);var c=this._createContainerLayerInfoElement(l);t.appendChild(c)}_onDropLayerClick(e){var t=e.target.id,n=nc.index(t),i=this._layers[n].layer;this.getMap().getLayers().remove(i)}_onDragAndDropLayerClick(){var e=this.getMap(),t=document.querySelectorAll("div.GPlayerSwitcher_layer"),n=t.length;this._layersOrder=[];for(var i=0;i<t.length;i++){var r=t[i].id,o=nc.index(r),a=this._layers[o].layer;(0,Cr.e)(this._layers[o].onZIndexChangeEvent),this._layers[o].onZIndexChangeEvent=null,a.setZIndex&&(a.setZIndex(n),this._layersOrder.push(this._layers[o]),n--),null==this._layers[o].onZIndexChangeEvent&&(this._layers[o].onZIndexChangeEvent=a.on("change:zIndex",(()=>this._updateLayersOrder())))}e.updateSize()}_onMapMoveEnd(e){e.getLayers().forEach((t=>{var n=t.gpLayerId;if(this._layers[n]){var i,r=this._layers[n];this.isInRange(t,e)&&!r.inRange?(r.inRange=!0,i=document.getElementById(this._addUID("GPlayerSwitcher_ID_"+n)),i.classList.remove("outOfRange")):!this.isInRange(t,e)&&r.inRange&&(r.inRange=!1,i=document.getElementById(this._addUID("GPlayerSwitcher_ID_"+n)),i.classList.add("outOfRange"))}}))}getLayerDOMId(e){var t=null;return this.getMap().getLayers().forEach((n=>{n===e&&(t=n.hasOwnProperty("gpLayerId")?n.gpLayerId:null)})),null!==t?this._addUID("GPlayerSwitcher_ID_"+t):null}isInRange(e,t){if(t){var n=t.getView().getResolution();if(n>e.getMaxResolution()||n<e.getMinResolution())return!1;var i=t.getView().calculateExtent(t.getSize()),r=e.getExtent();return!(r&&!(0,h.HY)(i,r))}}getLayerInfo(e){var t={};if(void 0!==e.getProperties&&void 0!==e.getSource){var n=e.getProperties(),i=n.source;i&&(t._title=i._title||n.id||"",t._description=i._description||"",t._quicklookUrl=i._quicklookUrl||"",t._metadata=i._metadata||[],t._legends=i._legends||[])}return t}};Object.assign(Sd.prototype,bd);var Pd=Sd;window.ol&&window.ol.control&&(window.ol.control.LayerSwitcher=Sd);var Md={_addUID:function(e){var t=this._uid?e+"-"+this._uid:e;return t},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPgetFeatureInfo"),e.className="GPwidget gpf-widget",e},_createMainPictoElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPgetFeatureInfoPicto"),t.className="GPshowOpen GPshowAdvancedToolPicto GPgetFeatureInfoPicto gpf-btn gpf-btn-icon-getfeatureinfo fr-btn",t.title="activer/desactiver l'interrogation des couches",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener?t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onActivateGetFeatureInfoElementChange(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onActivateGetFeatureInfoElementChange(t)})),t}},kd=Md,Rd=Un.getLogger("getfeatureinfo"),Td=class e extends Qu{constructor(t){t=t||{};var n=t.options||{},i=t.layers||[];if(super({element:n.element,target:n.target,render:n.render}),!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");if(!Array.isArray(i))throw new Error("ERROR WRONG_TYPE : layers should be an array");if("object"!==typeof n)throw new Error("ERROR WRONG_TYPE : options should be an object");return this._initialize(n,i),this._container=this._initContainer(n),this.element?this.element.appendChild(this._container):this.element=this._container,this}_initialize(e,t){if(this._uid=nc.generate(),this.options=e,this.options.layers=t,this._events={dblclick:!1,singleclick:!1,contextmenu:!1},this._eventsHandler={},"undefined"===typeof e.auto||"boolean"===typeof e.auto)if(this._auto=e.auto||!1,"undefined"===typeof e.active||"boolean"===typeof e.active)if(this._active="undefined"===typeof e.active||e.active,e.defaultEvent&&"string"!==typeof e.defaultEvent)Rd.log("[ERROR] GetFeatureInfo:_initialize - defaultEvent parameter should be a string");else if(this._defaultEvent=e.defaultEvent||"singleclick",this._isValidEvent(this._defaultEvent))if(e.defaultInfoFormat&&"string"!==typeof e.defaultInfoFormat)Rd.log("[ERROR] GetFeatureInfo:_initialize - defaultInfoFormat parameter should be a string");else if(this._defaultInfoFormat=e.defaultInfoFormat||"text/html",e.cursorStyle&&"string"!==typeof e.cursorStyle)Rd.log("[ERROR] GetFeatureInfo:_initialize - cursorStyle parameter should be a string");else{if(this._cursorStyle=e.cursorStyle||"pointer",e.proxyUrl){if("string"!==typeof e.proxyUrl)return void Rd.log("[ERROR] GetFeatureInfo:_initialize - proxyUrl parameter should be a string");this._proxyUrl=e.proxyUrl}if(e.noProxyDomains){if(!Array.isArray(e.noProxyDomains))return void Rd.log("[ERROR] GetFeatureInfo:_initialize - noProxyDomains parameter should be a array");this._noProxyDomains=e.noProxyDomains}if("undefined"===typeof e.autoPan||"boolean"===typeof e.autoPan){if(this._autoPan="undefined"===typeof e.autoPan||e.autoPan,e.autoPanAnimation){if(e.autoPanAnimation.duration&&"number"!==typeof e.autoPanAnimation.duration)return void Rd.log("[ERROR] GetFeatureInfo:_initialize - autoPanAnimation parameter is invalid : duration should be a number.");if(e.autoPanAnimation.easing&&"function"!==typeof e.autoPanAnimation.easing)return void Rd.log("[ERROR] GetFeatureInfo:_initialize - autoPanAnimation parameter is invalid : easing should be a ol.easing function or a custom function.");this._autoPanAnimation=e.autoPanAnimation}if(e.autoPanMargin){if("number"!==typeof e.autoPanMargin)return void Rd.log("[ERROR] GetFeatureInfo:_initialize - autoPanMargin parameter should be a number");this._autoPanMargin=e.autoPanMargin}Array.isArray(t)?(this._setLayers(t),this._activateGetFeatureInfoButton=null):Rd.log("[ERROR] GetFeatureInfo:_initialize - layers parameter should be an array")}else Rd.log("[ERROR] GetFeatureInfo:_initialize - autoPan parameter should be a boolean")}else Rd.log("[ERROR] GetFeatureInfo:_initialize - _defaultEvent '"+this._defaultEvent+"' is not a valid event");else Rd.log("[ERROR] GetFeatureInfo:_initialize - active parameter should be a boolean");else Rd.log("[ERROR] GetFeatureInfo:_initialize - auto parameter should be a boolean")}setMap(e){if(e){if(this._updateEvents(e),this._cursorStyle&&this._active&&this._activateCursor(!0,e),e.getLayers().on("remove",(t=>{for(var n=0;n<this._layers.length;++n)if(this._layers[n].obj===t.element){this._layers.splice(n,1);break}this._updateEvents(e)})),this._auto){var t=!1;e.getLayers().forEach((e=>{var n=Vn.getLayerFormat(e);this._hasLayer(e)||"vector"!==n||(this._layers.push({obj:e}),t=!0)})),t&&this._updateEvents(e),e.getLayers().on("add",(t=>{var n=Vn.getLayerFormat(t.element);"vector"===n&&this._layers.push({obj:t.element}),this._updateEvents(e)}))}}else this._clearEvents(),this._activateCursor(!1);super.setMap(e),this.options.position&&this.setPosition(this.options.position)}getLayers(){return this._layers}setDefaultEvent(e){"string"===typeof e?e&&this._isValidEvent(e)?(this._defaultEvent=e,this._updateEvents()):Rd.log("[ERROR] GetFeatureInfo:setDefaultEvent - event '"+e+"' is not allowed."):Rd.log("[ERROR] GetFeatureInfo:setDefaultEvent - eventName parameter should be a string")}setCursorStyle(e){"string"===typeof e?(this._active&&(!this._cursorStyle&&e?this._activateCursor(!0):this._cursorStyle&&!e&&this._activateCursor(!1)),this._cursorStyle=e):Rd.log("[ERROR] GetFeatureInfo:setCursorStyle - cursorStyle parameter should be a string")}setActive(e){this._setActive(e),this._activateGetFeatureInfoButton.setAttribute("aria-pressed",e)}_setActive(e){"boolean"===typeof e?this._active!==e&&(this._active=e,this._cursorStyle&&this._activateCursor(e)):Rd.log("[ERROR] GetFeatureInfo:_setActive - active parameter should be a boolean")}isActive(){return this._active}setHidden(e){this.element.style.visibility=e?"hidden":""}isHidden(){return"hidden"===this.element.style.visibility}setLayers(e){this._setLayers(e),this._updateEvents()}_isValidEvent(e){return Object.keys(this._events).indexOf(e)>-1}_activateEvent(e,t){var n=this,i=function(e){Vn.onDisplayFeatureInfo(e,n)};"contextmenu"===e?t.getViewport().addEventListener(e,i):t.on(e,i),this._eventsHandler[e]=i,this._events[e]=!0}_deactivateEvent(e,t){"contextmenu"===e?t.getViewport().removeEventListener(e,this._eventsHandler[e]):t.un(e,this._eventsHandler[e]),delete this._eventsHandler[e],this._events[e]=!1}_updateEvents(e){e||(e=this.getMap());for(var t=[],n=0;n<this._layers.length;++n){var i=this._layers[n].event?this._layers[n].event:this._defaultEvent;t.indexOf(i)<0&&t.push(i)}for(var r in this._events)!this._events[r]&&t.indexOf(r)>=0?this._activateEvent(r,e):this._events[r]&&t.indexOf(r)<0&&this._deactivateEvent(r,e)}_clearEvents(){var e=this.getMap();for(var t in this._events)this._events[t]&&this._deactivateEvent(t,e)}_hasLayer(e){for(var t=0;t<this._layers.length;++t)if(this._layers[t].obj===e)return!0;return!1}_activateCursor(e,t){if(t||(t=this.getMap()),e){if(this._eventsHandler.hasOwnProperty("pointermove"))return void Rd.log("[ERROR] _activateCursor - inconsistent state: pointermove event handler already registered");var n=this,i=function(e){var i=t.forEachFeatureAtPixel(e.pixel,((e,t)=>{for(var i=n.getLayers(),r=0;r<i.length;++r)if(i[r].obj===t)return!0}));t.getTargetElement().style.cursor=i?n._cursorStyle:""};this._eventsHandler["pointermove"]=i,t.on("pointermove",i)}else this._eventsHandler.hasOwnProperty("pointermove")&&(t.un("pointermove",this._eventsHandler["pointermove"]),delete this._eventsHandler["pointermove"]),t.getTargetElement().style.cursor=""}_setLayers(e){if(e&&Array.isArray(e)){this._layers=[];for(var t=0;t<e.length;++t){var n=this._layers.push({})-1;e[t].event&&(this._isValidEvent(e[t].event)?this._layers[n].event=e[t].event:Rd.log("[ERROR] GetFeatureInfo:setLayers - layer event '"+this._layers[t].event+"' is not allowed.")),e[t].infoFormat&&(this._layers[n].infoFormat=e[t].infoFormat),this._layers[n].obj=e[t].obj}}else Rd.log("[ERROR] GetFeatureInfo:setLayers - gfiLayers parameter should be a array")}onActivateGetFeatureInfoElementChange(e){var t=e.target.getAttribute("aria-pressed");this._setActive("true"===t)}_initContainer(e){var t=this._createMainContainerElement(),n=this._createMainPictoElement();if(t.appendChild(n),"undefined"!==typeof e.hidden){if("boolean"!==typeof e.hidden)return void Rd.log("[ERROR] GetFeatureInfo:_initContainer - hidden parameter should be a boolean");e.hidden&&(t.style.visibility="hidden")}return t}};Object.assign(Td.prototype,kd);var Ld=Td;window.ol&&window.ol.control&&(window.ol.control.GetFeatureInfo=Td);var Gd={advancedSearchFiltersByDefault:{PositionOfInterest:[{name:"category",title:"Type",value:["cimetière","aérodrome","réservoir","administratif","construction linéaire","construction ponctuelle","construction surfacique","cours d'eau","détail hydrographique","détail orographique","équipement de transport","plan d'eau","poste de transformation","terrain de sport","transport par câble","zone d'activité ou d'intérêt","zone d'habitation","lieu-dit non habité"]},{name:"postcode",title:"Code postal"},{name:"citycode",title:"Code INSEE"}],StreetAddress:[{name:"city",title:"Ville"},{name:"postcode",title:"Code postal"},{name:"citycode",title:"Code INSEE"}],CadastralParcel:[{name:"departmentcode",title:"Code département (INSEE)",description:"Code INSEE du département (ex: 01, 94)"},{name:"municipalitycode",title:"Code commune (INSEE)",description:"Code INSEE de la commune : 3 chiffres (ex: 067)"},{name:"city",title:"Nom commune",description:"Nom de la commune"},{name:"oldmunicipalitycode",title:"Commune absorbée",description:"Commune absorbée : 3 chiffres (ex: 000, 001)"},{name:"districtcode",title:"Arrondissement",description:"Arrondissement : 3 chiffres (ex: 004, 012)"},{name:"section",title:"Section",description:"Section Cadastrale : 2 caractères (chiffre et/ou lettre)"},{name:"number",title:"Numéro",description:"Numéro de la parcelle : 4 chiffres (ex: 0041, 0250)"},{name:"sheet",title:"Feuille",description:"Numéro de la feuille cadastrale"}]},zoomToResultsByDefault:function(e){var t=15,n=e.service,i=e.fields,r=e.type,o={1:11,2:12,3:13,4:14,5:15,6:16,7:17,8:17};return"SuggestedLocation"===n&&"PositionOfInterest"===r&&(t=o[i.classification]),"GeocodedLocation"===n&&"PositionOfInterest"===r&&(t=o[i.importance]||14),"StreetAddress"===r&&(t=17),"CadastralParcel"===r&&(t=17),t}},Od=Gd,Dd={getGeocodedLocationFreeform:function(e){var t=e.placeAttributes;if(t.label)return t.label;if("PositionOfInterest"===e.type){var n=t.toponym;return t.category&&Array.isArray(t.category)&&t.category.length>=2&&"administratif"===t.category[0]?n=n+", "+t.category[1]:t.postcode&&(n=n+", "+t.postcode[0],t.city&&(n=n+" "+t.city[0])),n}return"StreetAddress"===e.type?(t.housenumber?t.housenumber+" ":"")+t.street+" "+(t.postcode?t.postcode+", ":"")+t.city:"CadastralParcel"===e.type?t.id:"..."},getSuggestedLocationFreeform:function(e){if(e.fullText)return e.fullText;var t=[];return t.push(e.street||""),t.push(e.postalCode||""),t.push(e.commune||""),"PositionOfInterest"===e.type&&(t.push(e.poi||""),t.push(e.kind||"")),t.join(" - ")}},Nd=Dd,Fd={_addUID:function(e){var t=this._uid?e+"-"+this._uid:e;return t},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPsearchEngine"),e.className="GPwidget gpf-widget",e},_createShowSearchEnginePictoElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPshowSearchEnginePicto"),t.className="GPshowOpen GPshowAdvancedToolPicto gpf-btn gpf-btn-icon-search fr-btn",t.title="Afficher/masquer la recherche par lieux",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),document.getElementById(e._addUID("GPautoCompleteList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPautoCompleteList")).classList.replace("gpf-visible","gpf-hidden"),document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("gpf-visible","gpf-hidden");var i=document.getElementById(e._addUID("GPshowAdvancedSearch"));i&&(i.style.display=null,document.getElementById(e._addUID("GPadvancedSearchPanel")).style.display="none");var r="#GPsearchInput-"+e._uid;document.querySelector(r+" input").disabled=!1,e.onShowSearchEngineClick()})),t},_createSearchInputElement:function(e){var t=this,n=document.createElement("form");n.id=this._addUID("GPsearchInput"),n.className="gpf-panel__content fr-modal__content",n.addEventListener("submit",(function(e){return e.preventDefault(),""===document.getElementById(t._addUID("GPsearchInputText")).value||(document.getElementById(t._addUID("GPgeocodeResultsList")).classList.replace("GPelementHidden","GPelementVisible"),document.getElementById(t._addUID("GPgeocodeResultsList")).classList.replace("gpf-hidden","gpf-visible"),document.getElementById(t._addUID("GPautoCompleteList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(t._addUID("GPautoCompleteList")).classList.replace("gpf-visible","gpf-hidden"),t.onGeocodingSearchSubmit(e)),!1}));var i=document.createElement("input");return i.id=this._addUID("GPsearchInputText"),i.className="GPsearchInputText gpf-input fr-input",i.type="text",i.placeholder=e,i.autocomplete="off",i.addEventListener("keyup",(function(e){var n=e.which||e.keyCode;13!==n&&10!==n&&38!==n&&40!==n&&(document.getElementById(t._addUID("GPgeocodeResultsList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(t._addUID("GPgeocodeResultsList")).classList.replace("gpf-visible","gpf-hidden"),i.value.length>2?(document.getElementById(t._addUID("GPautoCompleteList")).classList.replace("GPelementHidden","GPelementVisible"),document.getElementById(t._addUID("GPautoCompleteList")).classList.replace("gpf-hidden","gpf-visible")):(document.getElementById(t._addUID("GPautoCompleteList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(t._addUID("GPautoCompleteList")).classList.replace("gpf-visible","gpf-hidden")),t.onAutoCompleteSearchText(e))})),i.addEventListener("keydown",(function(e){var n=e.which||e.keyCode,i=document.getElementById(t._addUID("GPautocompleteResults"));if(i){var r=i.getElementsByClassName("GPautoCompleteProposal current"),o=i.getElementsByClassName("GPautoCompleteProposal"),a=o.length;if(a){var s=null;if(!r.length)return s=o[0],s.className="GPautoCompleteProposal current",s.style.color="#000000",void(s.style["background-color"]="#CEDBEF");s=r[0];var l=parseInt(nc.index(s.id),10),u=l===a-1?o[0]:o[l+1],c=0===l?o[a-1]:o[l-1];switch(s.style["background-color"]="",s.style.color="",c.style["background-color"]="",c.style.color="",u.style["background-color"]="",u.style.color="",n){case 38:s.className="GPautoCompleteProposal",c.className="GPautoCompleteProposal current",c.style.color="#000000",c.style["background-color"]="#CEDBEF";break;case 40:s.className="GPautoCompleteProposal",u.className="GPautoCompleteProposal current",u.style.color="#000000",u.style["background-color"]="#CEDBEF";break;case 13:e.preventDefault(),s.click(e);break}s.focus()}}})),n.appendChild(i),n.appendChild(this._createSearchResetElement()),n},_createSearchResetElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPsearchInputReset"),t.className="GPshowOpen gpf-btn gpf-btn-icon-close fr-btn",t.addEventListener("click",(function(t){document.getElementById(e._addUID("GPsearchInputText")).value="",document.getElementById(e._addUID("GPautoCompleteList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPautoCompleteList")).classList.replace("gpf-visible","gpf-hidden"),document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("gpf-visible","gpf-hidden"),e.onSearchResetClick()})),t},_createShowAdvancedSearchElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPshowAdvancedSearch"),t.className="GPshowOpen GPshowAdvancedToolPicto gpf-btn fr-btn",t.title="Ouvrir la recherche avancée",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n);var i="#GPsearchInput-"+e._uid;document.querySelector(i+" input").disabled=!0,document.getElementById(e._addUID("GPautoCompleteList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPautoCompleteList")).classList.replace("gpf-visible","gpf-hidden"),document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("gpf-visible","gpf-hidden"),document.getElementById(e._addUID("GPshowAdvancedSearch")).style.display="none",document.getElementById(e._addUID("GPadvancedSearchPanel")).style.display="inline-block"})),t},_createAdvancedSearchPanelElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPadvancedSearchPanel"),e.className="GPpanel gpf-panel fr-modal",e},_createAdvancedSearchPanelDivElement:function(){var e=document.createElement("div");return e.className="gpf-panel__body fr-modal__body",e},_createGeocodeResultsElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPgeocodeResultsList"),e.className="GPpanel GPelementHidden gpf-panel gpf-hidden fr-modal",e.appendChild(this._createGeocodeResultsHeaderElement()),e},_createAutoCompleteElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPautoCompleteList"),e.className="GPautoCompleteList GPelementHidden gpf-panel fr-modal gpf-hidden ",e},_createAutoCompleteListElement:function(){var e=this,t=document.createElement("div");return t.id=this._addUID("GPautocompleteResults"),t.className="gpf-panel__list",t.addEventListener?t.addEventListener("click",(function(t){e.onAutoCompletedResultsItemClick(t),document.getElementById(e._addUID("GPautoCompleteList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPautoCompleteList")).classList.replace("gpf-visible","gpf-hidden")}),!1):t.attachEvent&&t.attachEvent("onclick",(function(t){e.onAutoCompletedResultsItemClick(t),document.getElementById(e._addUID("GPautoCompleteList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPautoCompleteList")).classList.replace("gpf-visible","gpf-hidden")})),t},_createAutoCompletedLocationElement:function(e,t){var n=document.getElementById(this._addUID("GPautocompleteResults")),i=document.createElement("div");i.id=this._addUID("AutoCompletedLocation_"+t),i.className="GPautoCompleteProposal gpf-panel__items",i.innerHTML=Nd.getSuggestedLocationFreeform(e),i.addEventListener?i.addEventListener("click",(function(e){n.click(e)}),!1):i.attachEvent&&i.attachEvent("onclick",(function(e){n.click(e)})),n.appendChild(i)},_createAdvancedSearchPanelHeaderElement:function(){var e=this,t=document.createElement("div");t.className="GPpanelHeader gpf-panel__header fr-modal__header";var n=document.createElement("div");n.className="GPpanelTitle gpf-panel__title fr-modal__title",n.innerHTML="Recherche avancée",t.appendChild(n);var i=document.createElement("button");i.id=this._addUID("GPadvancedSearchClose"),i.className="GPpanelClose gpf-btn gpf-icon-close fr-btn--close fr-btn",i.title="Fermer la recherche avancée",i.addEventListener?i.addEventListener("click",(function(){var t="#GPsearchInput-"+e._uid;document.querySelector(t+" input").disabled=!1,document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("gpf-visible","gpf-hidden"),document.getElementById(e._addUID("GPshowAdvancedSearch")).style.display="inline-block",document.getElementById(e._addUID("GPshowAdvancedSearch")).setAttribute("aria-pressed",!1),document.getElementById(e._addUID("GPadvancedSearchPanel")).style.display="none"}),!1):i.attachEvent&&i.attachEvent("onclick",(function(){var t="#GPsearchInput-"+e._uid;document.querySelector(t+" input").disabled=!1,document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("gpf-visible","gpf-hidden"),document.getElementById(e._addUID("GPshowAdvancedSearch")).style.display="inline-block",document.getElementById(e._addUID("GPshowAdvancedSearch")).setAttribute("aria-pressed",!1),document.getElementById(e._addUID("GPadvancedSearchPanel")).style.display="none"}));var r=document.createElement("span");return r.className="GPelementHidden gpf-visible",r.innerText="Fermer",i.appendChild(r),t.appendChild(i),t},_createAdvancedSearchPanelFormElement:function(e){var t=this,n=document.createElement("form");n.id=this._addUID("GPadvancedSearchForm"),n.className="gpf-panel__content fr-modal__content",n.addEventListener("submit",(function(e){e.preventDefault();for(var n=[],i="#GPadvancedSearchFilters-"+t._uid,r=document.querySelectorAll(i+" > div > div > input"),o=0;o<r.length;o++){var a=r[o];n.push({key:a.name,value:a.value})}return t.onGeocodingAdvancedSearchSubmit(e,n),document.getElementById(t._addUID("GPgeocodeResultsList")).classList.replace("GPelementHidden","GPelementVisible"),document.getElementById(t._addUID("GPgeocodeResultsList")).classList.replace("gpf-hidden","gpf-visible"),!1}));var i=document.createElement("div");i.className="GPflexInput gpf-flex";var r=document.createElement("label");r.className="GPadvancedSearchCodeLabel gpf-label fr-label",r.innerHTML="Recherche par",i.appendChild(r);var o=this._createAdvancedSearchFormCodeElement(e);return i.appendChild(o),n.appendChild(i),n},_createAdvancedSearchFormCodeElement:function(e){var t=this,n=document.createElement("select");n.id=this._addUID("GPadvancedSearchCode"),n.className="GPadvancedSearchCode gpf-select fr-select",n.addEventListener("change",(function(e){t.onGeocodingAdvancedSearchCodeChange(e)}),!1),e||(e=[{id:"PositionOfInterest",title:"Lieux/toponymes"},{id:"StreetAddress",title:"Adresses"},{id:"CadastralParcel",title:"Parcelles cadastrales"}]);for(var i=0;i<e.length;i++){var r=document.createElement("option");r.value=e[i].id,r.text=e[i].title,n.appendChild(r)}return n},_createAdvancedSearchFormInputElement:function(){var e=document.createElement("input");return e.type="submit",e.id=this._addUID("GPadvancedSearchSubmit"),e.className="GPsubmit gpf-btn gpf-btn-submit fr-btn",e.value="Chercher",e},_createAdvancedSearchFormFiltersElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPadvancedSearchFilters"),e},_createAdvancedSearchFiltersTableElement:function(e,t){var n=document.createElement("div");return n.id=this._addUID(e),t||(n.style.display="none"),n},_createAdvancedSearchFiltersAttributElement:function(e){var t=null,n=e.name,i=e.title,r=e.description,o=e.code,a=e.value,s=document.createElement("div");s.className="GPflexInput gpf-flex";var l=document.createElement("label");l.className="GPadvancedSearchFilterLabel gpf-label fr-label",l.htmlFor=n,l.title=r||i,l.innerHTML=i,s.appendChild(l);var u=document.createElement("input");if(u.id=n,u.className="GPadvancedSearchFilterInput gpf-input fr-input",u.type="text",u.name=n,a)if(Array.isArray(a)){var c=n+"_list";u.setAttribute("list",c);var h=document.createElement("datalist");h.id=c;for(var d=0;d<a.length;++d){var p=document.createElement("option");p.value=a[d],h.appendChild(p)}s.appendChild(h)}else u.value=a;return s.appendChild(u),t=document.getElementById(this._addUID(o)),t?t.appendChild(s):t=s,t},_createGeocodeResultsHeaderElement:function(){var e=this,t=document.createElement("div");t.className="GPpanelHeader gpf-panel__header fr-modal__header";var n=document.createElement("div");n.className="GPpanelTitle gpf-panel__title fr-modal__title",n.innerHTML="Résultats de la recherche",t.appendChild(n);var i=document.createElement("button");i.id=this._addUID("GPgeocodeResultsClose"),i.className="GPpanelClose gpf-btn gpf-icon-close fr-btn--close fr-btn",i.title="Fermer la fenêtre de résultats",i.addEventListener?i.addEventListener("click",(function(){document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("gpf-visible","gpf-hidden")}),!1):i.attachEvent&&i.attachEvent("onclick",(function(){document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("gpf-visible","gpf-hidden")}));var r=document.createElement("span");return r.className="GPelementHidden gpf-visible",r.innerText="Fermer",i.appendChild(r),t.appendChild(i),t},_createGeocodeResultsListElement:function(){var e=this,t=document.createElement("div");return t.id=this._addUID("GPgeocodeResults"),t.className="gpf-panel__list",t.setAttribute("tabindex","0"),t.addEventListener?t.addEventListener("click",(function(t){t.ctrlKey||(document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("gpf-visible","gpf-hidden")),e.onGeocodedResultsItemClick(t)}),!1):t.attachEvent&&t.attachEvent("onclick",(function(t){t.ctrlKey||(document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("gpf-visible","gpf-hidden")),e.onGeocodedResultsItemClick(t)})),t},_createGeocodedLocationElement:function(e,t){var n=document.getElementById(this._addUID("GPgeocodeResults")),i=document.createElement("div");i.id=this._addUID("GeocodedLocation_"+t),i.className="GPautoCompleteProposal gpf-panel__items",i.innerHTML="string"===typeof e?e:Nd.getGeocodedLocationFreeform(e),n.appendChild(i)}},Ud=Fd,Bd=Un.getLogger("searchengine"),jd=class e extends Qu{constructor(t){if(t=t||{},super({element:t.element,target:t.target,render:t.render}),!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return this.initialize(t),this.container=this._initContainer(),this.element?this.element.appendChild(this.container):this.element=this.container,this}setMap(e){e||this._clearResults(),this.collapsed||this._showSearchEngineButton.setAttribute("aria-pressed",!0),super.setMap(e),this.options.position&&this.setPosition(this.options.position)}getCollapsed(){return this.collapsed}setCollapsed(e){void 0!==e?e&&this.collapsed||!e&&!this.collapsed||(this._showSearchEngineButton.click(),this.collapsed=e):Bd.log("[ERROR] SearchEngine:setCollapsed - missing collapsed parameter")}getData(){return this._geocodedLocations}initialize(e){this._checkInputOptions(e),this.options={collapsed:!0,zoomTo:"",resources:{geocode:"",autocomplete:[]},displayAdvancedSearch:!0,advancedSearch:{},geocodeOptions:{serviceOptions:{}},autocompleteOptions:{serviceOptions:{},triggerGeocode:!1,triggerDelay:1e3},displayMarker:!0,markerStyle:"lightOrange",placeholder:"Rechercher un lieu, une adresse"},qn.mergeParams(this.options,e),""===this.options.resources.geocode&&(this.options.resources.geocode="address,poi"),0===this.options.resources.autocomplete.length&&(this.options.resources.autocomplete=["PositionOfInterest","StreetAddress"]),this.collapsed=this.options.collapsed,this._uid=nc.generate(),this._showSearchEngineButton=null,this._inputSearchContainer=null,this._autocompleteContainer=null,this._suggestedContainer=null,this._suggestedLocations=[],this._geocodedContainer=null,this._geocodedLocations=[],this._filterContainer=null,this._currentGeocodingCode=null,this._currentGeocodingLocation=null,this._advancedSearchFilters={},this._initAdvancedSearchFilters(),this._advancedSearchCodes=[],this._initAdvancedSearchCodes(),this._marker=null;var t=this.options.markerStyle;this._markerUrl=-1===Object.keys(Qn).indexOf(t)?Qn["lightOrange"]:Qn[t],this._displayMarker=this.options.displayMarker,this._popupContent=null,this._popupDiv=this._initPopupDiv(),this._popupOverlay=null,this._triggerHandler=null}_checkInputOptions(e){var t;if(e.resources)if("object"===typeof e.resources){var n=e.resources.geocode;if(n)if(Array.isArray(n)){var i=["StreetAddress","PositionOfInterest","CadastralParcel","Administratif"];for(t=0;t<n.length;t++)-1===i.indexOf(n[t])&&Bd.log("[SearchEngine] options.resources.geocode : "+n[t]+" is not a resource for geocode")}else Bd.log("[SearchEngine] 'options.resources.geocode' parameter should be an array"),n=null;var r=e.resources.autocomplete;if(r)if(Array.isArray(r)){var o=["StreetAddress","PositionOfInterest"];for(t=0;t<r.length;t++)-1===o.indexOf(r[t])&&Bd.log("[SearchEngine] options.resources.autocomplete : "+r[t]+" is not a resource for autocomplete")}else Bd.log("[SearchEngine] 'options.resources.autocomplete' parameter should be an array"),r=null}else Bd.log("[SearchEngine] 'resources' parameter should be an object"),e.resources=null}_initAdvancedSearchCodes(){var e=this.options.resources.geocode;"location"===e&&(e=["PositionOfInterest","StreetAddress","CadastralParcel"]),Array.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++)switch(e[t]){case"PositionOfInterest":this._advancedSearchCodes.push({id:"PositionOfInterest",title:"Lieux/toponymes"});break;case"StreetAddress":this._advancedSearchCodes.push({id:"StreetAddress",title:"Adresses"});break;case"CadastralParcel":this._advancedSearchCodes.push({id:"CadastralParcel",title:"Parcelles cadastrales"});break;default:break}0===this._advancedSearchCodes.length&&(this._advancedSearchCodes=[{id:"StreetAddress",title:"Adresses"},{id:"PositionOfInterest",title:"Lieux/toponymes"},{id:"CadastralParcel",title:"Cadastre"}]),Bd.log("advancedSearchCodes",this._advancedSearchCodes)}_initAdvancedSearchFilters(){this._advancedSearchFilters=Od.advancedSearchFiltersByDefault;var e=this.options.advancedSearch;qn.assign(this._advancedSearchFilters,e),Bd.log("advancedSearchFilters",this._advancedSearchFilters)}_initPopupDiv(){var e=this,t=document.createElement("div");t.className="gp-feature-info-div";var n=document.createElement("input");return n.type="button",n.className="gp-styling-button closer",n.onclick=function(){return null!=e._popupOverlay&&e._popupOverlay.setPosition(void 0),!1},this._popupContent=document.createElement("div"),this._popupContent.className="gp-features-content-div",this._popupContent.style["min-width"]="200px",t.appendChild(this._popupContent),t.appendChild(n),t}_initContainer(){var e=this._createMainContainerElement(),t=this._showSearchEngineButton=this._createShowSearchEnginePictoElement();e.appendChild(t);var n=this._inputSearchContainer=this._createSearchInputElement(this.options.placeholder),i=this;if(n.addEventListener?n.addEventListener("click",(function(){i.onAutoCompleteInputClick()})):n.attachEvent&&n.attachEvent("onclick",(function(){i.onAutoCompleteInputClick()})),e.appendChild(n),this.options.displayAdvancedSearch){var r=this._createShowAdvancedSearchElement();e.appendChild(r);var o=this._createAdvancedSearchPanelElement(),a=this._createAdvancedSearchPanelDivElement(),s=this._createAdvancedSearchPanelHeaderElement(),l=this._createAdvancedSearchPanelFormElement(this._advancedSearchCodes),u=this._filterContainer=this._createAdvancedSearchFormFiltersElement();this._setFilter(this._advancedSearchCodes[0].id);var c=this._createAdvancedSearchFormInputElement();l.appendChild(u),l.appendChild(c),a.appendChild(s),a.appendChild(l),o.appendChild(a),e.appendChild(o)}var h=this._autocompleteContainer=this._createAutoCompleteElement(),d=this._suggestedContainer=this._createAutoCompleteListElement();h.appendChild(d),e.appendChild(h);var p=this._createGeocodeResultsElement(),g=this._geocodedContainer=this._createGeocodeResultsListElement();return p.appendChild(g),e.appendChild(p),e}_setFilter(e){for(var t=this._filterContainer,n=!1,i=0;i<this._advancedSearchCodes.length;i++)if(this._advancedSearchCodes[i].id===e){n=!0;break}if(n){this._currentGeocodingCode=e;while(t.firstChild)t.removeChild(t.firstChild);var r=this._advancedSearchFilters[e];if(r&&0!==r.length){for(var o=this._createAdvancedSearchFiltersTableElement(e,!0),a=0;a<r.length;a++){var s=this._createAdvancedSearchFiltersAttributElement(r[a]);o.appendChild(s)}return t.appendChild(o),t}}else while(t.firstChild)t.removeChild(t.firstChild)}_requestAutoComplete(e){if(e&&("object"!==typeof e||0!==Object.keys(e).length)&&e.text){Bd.log(e);var t={};qn.assign(t,this.options.autocompleteOptions.serviceOptions),qn.assign(t,e);var n=this.options.resources.autocomplete;n&&Array.isArray(n)&&(t.type||(t.type=n)),t.apiKey=t.apiKey||this.options.apiKey,"boolean"!==typeof t.ssl&&("boolean"===typeof this.options.ssl?t.ssl=this.options.ssl:t.ssl=!0),Bd.log(t),Dn.Ay.Services.autoComplete(t)}}_fillAutoCompletedLocationListContainer(e){if(e&&0!==e.length){var t=this._suggestedContainer;if(t.childElementCount)while(t.firstChild)t.removeChild(t.firstChild);this._displaySuggestedLocation();for(var n=0;n<e.length;n++)this._createAutoCompletedLocationElement(e[n],n)}}_requestGeocoding(e){if(e&&("object"!==typeof e||0!==Object.keys(e).length)&&null!==e.query){Bd.log(e);var t={};qn.assign(t,this.options.geocodeOptions.serviceOptions),qn.assign(t,e);var n=this,i=!(null===this.options.geocodeOptions.serviceOptions.onFailure||"function"!==typeof this.options.geocodeOptions.serviceOptions.onFailure),r=!(null===this.options.geocodeOptions.serviceOptions.onSuccess||"function"!==typeof this.options.geocodeOptions.serviceOptions.onSuccess);if(r){var o=function(t){e.onSuccess.call(n,t),n.options.geocodeOptions.serviceOptions.onSuccess.call(n,t)};t.onSuccess=o}if(i){var a=function(t){e.onFailure.call(n,t),n.options.geocodeOptions.serviceOptions.onFailure.call(n,t)};t.onFailure=a}var s=this.options.resources.geocode;s&&(t.index||(t.index=s)),t.apiKey=t.apiKey||this.options.apiKey,"boolean"!==typeof t.ssl&&("boolean"===typeof this.options.ssl?t.ssl=this.options.ssl:t.ssl=!0),Bd.log(t),Dn.Ay.Services.geocode(t)}}_fillGeocodedLocationListContainer(e){if(e&&0!==e.length){var t=this._geocodedContainer;if(t.childElementCount)while(t.firstChild)t.removeChild(t.firstChild);for(var n=0;n<e.length;n++)Bd.log(e[n]),this._createGeocodedLocationElement(e[n],n);this._geocodedLocations=e}else this._clearGeocodedLocation()}_setLabel(e){document.getElementById("GPsearchInputText-"+this._uid).value=e}_setPosition(e,t){var n=this.getMap().getView();n.setCenter(e),n.setZoom(t)}_setMarker(e,t){var n=this.getMap(),i=this;if(null!=this._marker&&(n.removeOverlay(this._marker),this._marker=null),e){var r=document.createElement("img");r.src=this._markerUrl,r.addEventListener?r.addEventListener("click",(function(){i._onResultMarkerSelect(t)})):r.attachEvent&&r.attachEvent("onclick",(function(){i._onResultMarkerSelect(t)})),this._marker=new m({position:e,offset:[-25.5,-38],element:r,stopEvent:!1}),n.addOverlay(this._marker)}}_getZoom(e){var t=this.getMap(),n=this.options.zoomTo,i=null;if("function"===typeof n&&(Bd.trace("zoom function"),i=n.call(this,e)),"number"===typeof n&&(Bd.trace("zoom level"),i=n),"string"===typeof n)if("auto"===n)Bd.trace("zoom auto"),i=Od.zoomToResultsByDefault(e);else{Bd.trace("zoom level parsing");var r=parseInt(n,10);isNaN(r)||(Bd.trace("zoom parsing"),i=r)}Number.isInteger=Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e},i&&""!==i&&Number.isInteger(i)||(Bd.trace("zoom not found, current zoom..."),i=t.getView().getZoom());var o=t.minZoom,a=t.maxZoom;return i<o&&(Bd.trace("zoom level min..."),i=o),i>a&&(Bd.trace("zoom level max..."),i=a),Bd.trace("zoom",i),i}_onResultMarkerSelect(e){var t=this.getMap(),n="";if("string"!==typeof e)if("GeocodedLocation"===e.service){n="<ul>";var i=e.location.placeAttributes;for(var r in i)i.hasOwnProperty(r)&&"trueGeometry"!==r&&"extraFields"!==r&&"houseNumberInfos"!==r&&"_count"!==r&&(n+="<li>",n+='<span class="gp-attname-others-span">'+r.toUpperCase()+" : </span>",n+=i[r],n+=" </li>");n+=" </ul>"}else n="SuggestedLocation"===e.service?Nd.getSuggestedLocationFreeform(e.location):"sans informations.";else n=e;this._popupContent.innerHTML=n,this._popupOverlay?this._popupOverlay.setPosition(this._marker.getPosition()):(this._popupOverlay=new m({element:this._popupDiv,positioning:"bottom-center",position:this._marker.getPosition(),offset:[0,-42]}),t.addOverlay(this._popupOverlay))}onShowSearchEngineClick(){var e=this.getMap();Kn.unset(e);var t=this._showSearchEngineButton.ariaPressed;this.collapsed=!("true"===t),this.dispatchEvent("change:collapsed")}onSearchResetClick(){this._clearResults()}onAutoCompleteInputClick(){var e=document.getElementById("GPsearchInputText-"+this._uid);e&&!e.disabled&&e.value.length>2&&this._displaySuggestedLocation()}onAutoCompleteSearchText(e){var t=e.target.value;if(t)if(this._currentGeocodingLocation=t,t.length<3)this._clearSuggestedLocation();else{var n=this.options.autocompleteOptions.triggerGeocode,i=this.options.autocompleteOptions.triggerDelay,r=this;this._requestAutoComplete({text:t,onSuccess:function(e){if(Bd.log("request from AutoComplete",e),e){r._suggestedLocations=e.suggestedLocations,r._locationsToBeDisplayed=[];for(var t=0;t<r._suggestedLocations.length;t++){var n=r._suggestedLocations[t];n.position&&0===n.position.x&&0===n.position.y&&n.fullText?r._getGeocodeCoordinatesFromFullText(n,t):r._locationsToBeDisplayed.push(n)}r._fillAutoCompletedLocationListContainer(r._locationsToBeDisplayed),r._triggerHandler&&(clearTimeout(r._triggerHandler),r._triggerHandler=null,Bd.warn("Cancel a geocode request !"))}},onFailure:function(e){r._clearSuggestedLocation(),Bd.log(e.message),"No suggestion matching the search"===e.message&&n&&(r._triggerHandler&&(clearTimeout(r._triggerHandler),Bd.warn("Cancel the last geocode request !")),r._triggerHandler=setTimeout((function(){Bd.warn("Launch a geocode request (code postal) !"),r._requestGeocoding({location:t,onSuccess:function(e){if(Bd.log("request from Geocoding",e),e){r._locationsToBeDisplayed=[];for(var t=e.locations,n=0;n<t.length;n++){var i=t[n];i.fullText=Nd.getGeocodedLocationFreeform(i),i.position={x:i.position.lon,y:i.position.lat},r._locationsToBeDisplayed.push(i)}r._fillAutoCompletedLocationListContainer(t)}},onFailure:function(e){Bd.log(e.message)}})}),i))}});var o=this.getMap();o.on("click",this._hideSuggestedLocation,this),o.on("pointerdrag",this._hideSuggestedLocation,this)}}_getGeocodeCoordinatesFromFullText(e,t){var n=this;Dn.Ay.Services.geocode({apiKey:this.options.apiKey,ssl:this.options.ssl,q:Nd.getSuggestedLocationFreeform(e),index:e.type,onSuccess:function(e){Bd.log("request from Geocoding (coordinates null)",e),e.locations&&0!==e.locations.length&&e.locations[0].position&&n._suggestedLocations&&n._suggestedLocations[t]&&(n._suggestedLocations[t].position={lon:e.locations[0].position.y,lat:e.locations[0].position.x},n._locationsToBeDisplayed.unshift(n._suggestedLocations[t]),n._fillAutoCompletedLocationListContainer(n._locationsToBeDisplayed))},onFailure:function(){n._suggestedLocations&&n._suggestedLocations[t]&&n._createAutoCompletedLocationElement(n._suggestedLocations[t],t)}})}onAutoCompletedResultsItemClick(e){var t=nc.index(e.target.id);if(Bd.log(t),Bd.log(this._locationsToBeDisplayed[t]),t){var n=[this._locationsToBeDisplayed[t].position.x,this._locationsToBeDisplayed[t].position.y],i={service:"SuggestedLocation",location:this._locationsToBeDisplayed[t]},r=Nd.getSuggestedLocationFreeform(this._locationsToBeDisplayed[t]);this._setLabel(r),this._currentGeocodingLocation=r;var o=this.getMap().getView(),a=o.getProjection().getCode();"EPSG:4326"!==a&&(n=(0,ne.pd)(n,"EPSG:4326",a));var s=this._getZoom(i);this._setPosition(n,s),this._displayMarker&&this._setMarker(n,i),this.dispatchEvent({type:"searchengine:autocomplete:click",location:this._locationsToBeDisplayed[t]})}}onGeocodingSearchSubmit(e){var t=e.target[0].value;if(t){this._currentGeocodingLocation=t;var n=this;this._requestGeocoding({query:t,onSuccess:function(e){if(Bd.log("request from Geocoding",e),e){var t=e.locations;n._fillGeocodedLocationListContainer(t)}},onFailure:function(e){n._clearGeocodedLocation(),Bd.log(e.message)}})}}onGeocodedResultsItemClick(e){var t=nc.index(e.target.id);if(t){var n=[this._geocodedLocations[t].position.lon,this._geocodedLocations[t].position.lat],i={service:"GeocodedLocation",location:this._geocodedLocations[t]},r=Nd.getGeocodedLocationFreeform(this._geocodedLocations[t]);this._setLabel(r);var o=this.getMap().getView(),a=o.getProjection().getCode();"EPSG:4326"!==a&&(n=(0,ne.pd)(n,"EPSG:4326",a));var s=this._getZoom(i);this._setPosition(n,s),this._displayMarker&&this._setMarker(n,i),this.dispatchEvent({type:"searchengine:geocode:click",location:this._geocodedLocations[t]})}}onGeocodingAdvancedSearchCodeChange(e){Bd.log(e);var t=e.target.selectedIndex,n=e.target.options[t].value;n&&this._setFilter(n)}onGeocodingAdvancedSearchSubmit(e,t){if(Bd.log(t),t&&0!==t.length){for(var n,i={},r=0;r<t.length;r++){var o=t[r];o.value&&(i[o.key]=o.value)}var a=document.getElementById("GPsearchInputText-"+this._uid);n=a.value,"CadastralParcel"===this._currentGeocodingCode&&(n="");var s=this;this._requestGeocoding({query:n,index:this._currentGeocodingCode,filters:i,onSuccess:function(e){if(Bd.log(e),e){var t=e.locations;s._fillGeocodedLocationListContainer(t)}},onFailure:function(e){s._clearGeocodedLocation(),Bd.log(e.message)}})}}_getCadastralParcelRequestParams(e){var t,n="",i=e.department;i?(t=i.length,n=2===t?i:1===t?"0"+i:i.substring(0,2)):n="__";var r=e.commune;r?(t=r.length,n+=3===t?r:2===t?"_"+r:1===t?"__"+r:r.substring(0,3)):n+="___";var o=e.insee;o&&5===o.length&&(n=o);var a=e.absorbedCity;a?(t=a.length,3===t?n+=a:t<3?2===t?n+="_"+a:1===t&&(n+="__"+a):n+=a.substring(0,3)):n+="___";var s=e.section;s?(t=s.length,n+=2===t?s:1===t?"_"+s:s.substring(0,2)):n+="__";var l=e.number;return l?(t=l.length,n+=4===t?l:3===t?"_"+l:2===t?"__"+l:1===t?"___"+l:l.substring(0,4)):n+="___",Bd.log("location : "+n),n}_clearResults(){var e=this.getMap();this._currentGeocodingLocation=null,this._clearSuggestedLocation(),this._clearGeocodedLocation(),this._setMarker(),null!=this._popupOverlay&&(e.removeOverlay(this._popupOverlay),this._popupOverlay=null)}_clearSuggestedLocation(){if(this._suggestedLocations=[],this._suggestedContainer)while(this._suggestedContainer.firstChild)this._suggestedContainer.removeChild(this._suggestedContainer.firstChild)}_hideSuggestedLocation(){this._autocompleteContainer&&(this._autocompleteContainer.classList.replace("GPelementVisible","GPelementHidden"),this._autocompleteContainer.classList.replace("gpf-visible","gpf-hidden"))}_displaySuggestedLocation(){this._autocompleteContainer&&(this._autocompleteContainer.classList.replace("GPelementHidden","GPelementVisible"),this._autocompleteContainer.classList.replace("gpf-hidden","gpf-visible"))}_clearGeocodedLocation(){if(this._geocodedLocations=[],this._geocodedContainer)while(this._geocodedContainer.firstChild)this._geocodedContainer.removeChild(this._geocodedContainer.firstChild)}};Object.assign(jd.prototype,Ud);var zd=jd;window.ol&&window.ol.control&&(window.ol.control.SearchEngine=jd);var Wd={modulo:function(e,t){var n=e%t;return n*t<0?n+t:n},decimalToDMS:function(e,t,n){var i=this.modulo(e+180,360)-180,r=Math.abs(3600*i),o=n||0,a=Math.pow(10,o),s=Math.floor(r/3600),l=Math.floor((r-3600*s)/60),u=r-3600*s-60*l;u=Math.ceil(u*a)/a,u>=60&&(u=0,l+=1),l>=60&&(l=0,s+=1);var c=t.charAt(i<0?1:0);return{d:s,m:l,s:u,direction:c}},toInteger:function(e,t){var n=t||10,i=parseInt(e,n);return!isNaN(i)&&isFinite(i)?i:null},isInteger:function(e){if(isNaN(e))return!1;var t=parseFloat(e);return(0|t)===t},toFloat:function(e){var t=parseFloat(e);return!isNaN(t)&&isFinite(t)?t:null}},Vd=Wd,Yd=Un.getLogger("draggable"),Hd={dragElement:function(e,t,n){var i,r,o=!1,a={x:0,y:0};function s(t){t=t||window.event,t.preventDefault(),o=!0,t._pageX=t._pageX||t.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),t._pageY=t._pageY||t.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop),a.x=t._pageX-e.offsetLeft,a.y=t._pageY-e.offsetTop,document.addEventListener("mouseup",l,!0),document.addEventListener("mousemove",u,!0)}function l(){o=!1,document.removeEventListener("mouseup",l,!0),document.removeEventListener("mousemove",u,!0)}function u(t){if(t=t||window.event,o){t._pageX=t._pageX||t.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),t._pageY=t._pageY||t.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop);var s=n?n.offsetLeft:e.parentElement.offsetLeft,l=n?n.offsetTop:e.parentElement.parentElement.offsetTop;Yd.trace("parent offset",s,l),i=t._pageX-a.x<0-s?0-s:t._pageX-a.x+e.clientWidth>document.body.clientWidth?document.body.clientWidth-e.clientWidth:t._pageX-a.x,Yd.trace("left/right constraint",i),r=t._pageY-a.y<0-l?0-l:t._pageY-a.y+e.clientHeight>document.body.clientHeight?document.body.clientHeight-e.clientHeight:t._pageY-a.y,Yd.trace("top/bottom constraint",r),e.style.top=r+"px",e.style.bottom="unset",e.style.left=i+"px",e.style.right="unset"}}t?t.addEventListener("mousedown",s,!0):e.addEventListener("mousedown",s,!0)}},qd=Hd;function Xd(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}var Zd=1,Kd=2,Jd=3,Qd=4,$d=5,ep=6378137,tp=6356752.314,np=.0066943799901413165,ip=484813681109536e-20,rp=Math.PI/2,op=.16666666666666666,ap=.04722222222222222,sp=.022156084656084655,lp=1e-10,up=.017453292519943295,cp=57.29577951308232,hp=Math.PI/4,dp=2*Math.PI,pp=3.14159265359,gp={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},fp={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},mp=/[\s_\-\/\(\)]/g;function vp(e,t){if(e[t])return e[t];var n,i,r=Object.keys(e),o=t.toLowerCase().replace(mp,""),a=-1;while(++a<r.length)if(n=r[a],i=n.toLowerCase().replace(mp,""),i===o)return e[n]}function yp(e){var t,n,i,r={},o=e.split("+").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n=t.split("=");return n.push(!0),e[n[0].toLowerCase()]=n[1],e}),{}),a={proj:"projName",datum:"datumCode",rf:function(e){r.rf=parseFloat(e)},lat_0:function(e){r.lat0=e*up},lat_1:function(e){r.lat1=e*up},lat_2:function(e){r.lat2=e*up},lat_ts:function(e){r.lat_ts=e*up},lon_0:function(e){r.long0=e*up},lon_1:function(e){r.long1=e*up},lon_2:function(e){r.long2=e*up},alpha:function(e){r.alpha=parseFloat(e)*up},gamma:function(e){r.rectified_grid_angle=parseFloat(e)},lonc:function(e){r.longc=e*up},x_0:function(e){r.x0=parseFloat(e)},y_0:function(e){r.y0=parseFloat(e)},k_0:function(e){r.k0=parseFloat(e)},k:function(e){r.k0=parseFloat(e)},a:function(e){r.a=parseFloat(e)},b:function(e){r.b=parseFloat(e)},r_a:function(){r.R_A=!0},zone:function(e){r.zone=parseInt(e,10)},south:function(){r.utmSouth=!0},towgs84:function(e){r.datum_params=e.split(",").map((function(e){return parseFloat(e)}))},to_meter:function(e){r.to_meter=parseFloat(e)},units:function(e){r.units=e;var t=vp(fp,e);t&&(r.to_meter=t.to_meter)},from_greenwich:function(e){r.from_greenwich=e*up},pm:function(e){var t=vp(gp,e);r.from_greenwich=(t||parseFloat(e))*up},nadgrids:function(e){"@null"===e?r.datumCode="none":r.nadgrids=e},axis:function(e){var t="ewnsud";3===e.length&&-1!==t.indexOf(e.substr(0,1))&&-1!==t.indexOf(e.substr(1,1))&&-1!==t.indexOf(e.substr(2,1))&&(r.axis=e)},approx:function(){r.approx=!0}};for(t in o)n=o[t],t in a?(i=a[t],"function"===typeof i?i(n):r[i]=n):r[t]=n;return"string"===typeof r.datumCode&&"WGS84"!==r.datumCode&&(r.datumCode=r.datumCode.toLowerCase()),r}var Ap=Tp,_p=1,Cp=2,Ip=3,Ep=4,wp=5,bp=-1,xp=/\s/,Sp=/[A-Za-z]/,Pp=/[A-Za-z84_]/,Mp=/[,\]]/,kp=/[\d\.E\-\+]/;function Rp(e){if("string"!==typeof e)throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=_p}function Tp(e){var t=new Rp(e);return t.output()}function Lp(e,t,n){Array.isArray(t)&&(n.unshift(t),t=null);var i=t?{}:e,r=n.reduce((function(e,t){return Gp(t,e),e}),i);t&&(e[t]=r)}function Gp(e,t){if(Array.isArray(e)){var n=e.shift();if("PARAMETER"===n&&(n=e.shift()),1===e.length)return Array.isArray(e[0])?(t[n]={},void Gp(e[0],t[n])):void(t[n]=e[0]);if(e.length)if("TOWGS84"!==n){if("AXIS"===n)return n in t||(t[n]=[]),void t[n].push(e);var i;switch(Array.isArray(n)||(t[n]={}),n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return t[n]={name:e[0].toLowerCase(),convert:e[1]},void(3===e.length&&Gp(e[2],t[n]));case"SPHEROID":case"ELLIPSOID":return t[n]={name:e[0],a:e[1],rf:e[2]},void(4===e.length&&Gp(e[3],t[n]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return e[0]=["name",e[0]],void Lp(t,n,e);default:i=-1;while(++i<e.length)if(!Array.isArray(e[i]))return Gp(e,t[n]);return Lp(t,n,e)}}else t[n]=e;else t[n]=!0}else t[e]=!0}Rp.prototype.readCharicter=function(){var e=this.text[this.place++];if(this.state!==Ep)while(xp.test(e)){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case _p:return this.neutral(e);case Cp:return this.keyword(e);case Ep:return this.quoted(e);case wp:return this.afterquote(e);case Ip:return this.number(e);case bp:return}},Rp.prototype.afterquote=function(e){if('"'===e)return this.word+='"',void(this.state=Ep);if(Mp.test(e))return this.word=this.word.trim(),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in afterquote yet, index '+this.place)},Rp.prototype.afterItem=function(e){return","===e?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=_p)):"]"===e?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=_p,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=bp))):void 0},Rp.prototype.number=function(e){if(!kp.test(e)){if(Mp.test(e))return this.word=parseFloat(this.word),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in number yet, index '+this.place)}this.word+=e},Rp.prototype.quoted=function(e){'"'!==e?this.word+=e:this.state=wp},Rp.prototype.keyword=function(e){if(Pp.test(e))this.word+=e;else{if("["===e){var t=[];return t.push(this.word),this.level++,null===this.root?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,void(this.state=_p)}if(!Mp.test(e))throw new Error("havn't handled \""+e+'" in keyword yet, index '+this.place);this.afterItem(e)}},Rp.prototype.neutral=function(e){if(Sp.test(e))return this.word=e,void(this.state=Cp);if('"'===e)return this.word="",void(this.state=Ep);if(kp.test(e))return this.word=e,void(this.state=Ip);if(!Mp.test(e))throw new Error("havn't handled \""+e+'" in neutral yet, index '+this.place);this.afterItem(e)},Rp.prototype.output=function(){while(this.place<this.text.length)this.readCharicter();if(this.state===bp)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var Op=.017453292519943295;function Dp(e,t){var n=t[0],i=t[1];!(n in e)&&i in e&&(e[n]=e[i],3===t.length&&(e[n]=t[2](e[n])))}function Np(e){return e*Op}function Fp(e){if("GEOGCS"===e.type?e.projName="longlat":"LOCAL_CS"===e.type?(e.projName="identity",e.local=!0):"object"===typeof e.PROJECTION?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.AXIS){for(var t="",n=0,i=e.AXIS.length;n<i;++n){var r=[e.AXIS[n][0].toLowerCase(),e.AXIS[n][1].toLowerCase()];-1!==r[0].indexOf("north")||("y"===r[0]||"lat"===r[0])&&"north"===r[1]?t+="n":-1!==r[0].indexOf("south")||("y"===r[0]||"lat"===r[0])&&"south"===r[1]?t+="s":-1!==r[0].indexOf("east")||("x"===r[0]||"lon"===r[0])&&"east"===r[1]?t+="e":-1===r[0].indexOf("west")&&("x"!==r[0]&&"lon"!==r[0]||"west"!==r[1])||(t+="w")}2===t.length&&(t+="u"),3===t.length&&(e.axis=t)}e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),"metre"===e.units&&(e.units="meter"),e.UNIT.convert&&("GEOGCS"===e.type?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var o=e.GEOGCS;function a(t){var n=e.to_meter||1;return t*n}"GEOGCS"===e.type&&(o=e),o&&(o.DATUM?e.datumCode=o.DATUM.name.toLowerCase():e.datumCode=o.name.toLowerCase(),"d_"===e.datumCode.slice(0,2)&&(e.datumCode=e.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==e.datumCode&&"new_zealand_1949"!==e.datumCode||(e.datumCode="nzgd49"),"wgs_1984"!==e.datumCode&&"world_geodetic_system_1984"!==e.datumCode||("Mercator_Auxiliary_Sphere"===e.PROJECTION&&(e.sphere=!0),e.datumCode="wgs84"),"_ferro"===e.datumCode.slice(-6)&&(e.datumCode=e.datumCode.slice(0,-6)),"_jakarta"===e.datumCode.slice(-8)&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),o.DATUM&&o.DATUM.SPHEROID&&(e.ellps=o.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===e.ellps.toLowerCase().slice(0,13)&&(e.ellps="intl"),e.a=o.DATUM.SPHEROID.a,e.rf=parseFloat(o.DATUM.SPHEROID.rf,10)),o.DATUM&&o.DATUM.TOWGS84&&(e.datum_params=o.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),"ch1903+"===e.datumCode&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a);var s=function(t){return Dp(e,t)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Np],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Np],["x0","false_easting",a],["y0","false_northing",a],["long0","central_meridian",Np],["lat0","latitude_of_origin",Np],["lat0","standard_parallel_1",Np],["lat1","standard_parallel_1",Np],["lat2","standard_parallel_2",Np],["azimuth","Azimuth"],["alpha","azimuth",Np],["srsCode","name"]];l.forEach(s),e.long0||!e.longc||"Albers_Conic_Equal_Area"!==e.projName&&"Lambert_Azimuthal_Equal_Area"!==e.projName||(e.long0=e.longc),e.lat_ts||!e.lat1||"Stereographic_South_Pole"!==e.projName&&"Polar Stereographic (variant B)"!==e.projName?!e.lat_ts&&e.lat0&&"Polar_Stereographic"===e.projName&&(e.lat_ts=e.lat0,e.lat0=Np(e.lat0>0?90:-90)):(e.lat0=Np(e.lat1>0?90:-90),e.lat_ts=e.lat1)}function Up(e){var t=Ap(e),n=t.shift(),i=t.shift();t.unshift(["name",i]),t.unshift(["type",n]);var r={};return Gp(t,r),Fp(r),r}function Bp(e){var t=this;if(2===arguments.length){var n=arguments[1];"string"===typeof n?"+"===n.charAt(0)?Bp[e]=yp(arguments[1]):Bp[e]=Up(arguments[1]):Bp[e]=n}else if(1===arguments.length){if(Array.isArray(e))return e.map((function(e){Array.isArray(e)?Bp.apply(t,e):Bp(e)}));if("string"===typeof e){if(e in Bp)return Bp[e]}else"EPSG"in e?Bp["EPSG:"+e.EPSG]=e:"ESRI"in e?Bp["ESRI:"+e.ESRI]=e:"IAU2000"in e?Bp["IAU2000:"+e.IAU2000]=e:console.log(e);return}}Xd(Bp);var jp=Bp;function zp(e){return"string"===typeof e}function Wp(e){return e in jp}var Vp=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function Yp(e){return Vp.some((function(t){return e.indexOf(t)>-1}))}var Hp=["3857","900913","3785","102113"];function qp(e){var t=vp(e,"authority");if(t){var n=vp(t,"epsg");return n&&Hp.indexOf(n)>-1}}function Xp(e){var t=vp(e,"extension");if(t)return vp(t,"proj4")}function Zp(e){return"+"===e[0]}function Kp(e){if(!zp(e))return e;if(Wp(e))return jp[e];if(Yp(e)){var t=Up(e);if(qp(t))return jp["EPSG:3857"];var n=Xp(t);return n?yp(n):t}return Zp(e)?yp(e):void 0}var Jp=Kp;function Qp(e,t){var n,i;if(e=e||{},!t)return e;for(i in t)n=t[i],void 0!==n&&(e[i]=n);return e}function $p(e,t,n){var i=e*t;return n/Math.sqrt(1-i*i)}function eg(e){return e<0?-1:1}function tg(e){return Math.abs(e)<=pp?e:e-eg(e)*dp}function ng(e,t,n){var i=e*n,r=.5*e;return i=Math.pow((1-i)/(1+i),r),Math.tan(.5*(rp-t))/i}function ig(e,t){for(var n,i,r=.5*e,o=rp-2*Math.atan(t),a=0;a<=15;a++)if(n=e*Math.sin(o),i=rp-2*Math.atan(t*Math.pow((1-n)/(1+n),r))-o,o+=i,Math.abs(i)<=1e-10)return o;return-9999}function rg(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=$p(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function og(e){var t,n,i=e.x,r=e.y;if(r*cp>90&&r*cp<-90&&i*cp>180&&i*cp<-180)return null;if(Math.abs(Math.abs(r)-rp)<=lp)return null;if(this.sphere)t=this.x0+this.a*this.k0*tg(i-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(hp+.5*r));else{var o=Math.sin(r),a=ng(this.e,r,o);t=this.x0+this.a*this.k0*tg(i-this.long0),n=this.y0-this.a*this.k0*Math.log(a)}return e.x=t,e.y=n,e}function ag(e){var t,n,i=e.x-this.x0,r=e.y-this.y0;if(this.sphere)n=rp-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var o=Math.exp(-r/(this.a*this.k0));if(n=ig(this.e,o),-9999===n)return null}return t=tg(this.long0+i/(this.a*this.k0)),e.x=t,e.y=n,e}var sg=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"],lg={init:rg,forward:og,inverse:ag,names:sg};function ug(){}function cg(e){return e}var hg=["longlat","identity"],dg={init:ug,forward:cg,inverse:cg,names:hg},pg=[lg,dg],gg={},fg=[];function mg(e,t){var n=fg.length;return e.names?(fg[n]=e,e.names.forEach((function(e){gg[e.toLowerCase()]=n})),this):(console.log(t),!0)}function vg(e){if(!e)return!1;var t=e.toLowerCase();return"undefined"!==typeof gg[t]&&fg[gg[t]]?fg[gg[t]]:void 0}function yg(){pg.forEach(mg)}var Ag={start:yg,add:mg,get:vg},_g={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:6378249.2,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},Cg=_g.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};function Ig(e,t,n,i){var r=e*e,o=t*t,a=(r-o)/r,s=0;i?(e*=1-a*(op+a*(ap+a*sp)),r=e*e,a=0):s=Math.sqrt(a);var l=(r-o)/o;return{es:a,e:s,ep2:l}}function Eg(e,t,n,i,r){if(!e){var o=vp(_g,i);o||(o=Cg),e=o.a,t=o.b,n=o.rf}return n&&!t&&(t=(1-1/n)*e),(0===n||Math.abs(e-t)<lp)&&(r=!0,t=e),{a:e,b:t,rf:n,sphere:r}}_g.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var wg={};function bg(e,t,n,i,r,o,a){var s={};return s.datum_type=void 0===e||"none"===e?$d:Qd,t&&(s.datum_params=t.map(parseFloat),0===s.datum_params[0]&&0===s.datum_params[1]&&0===s.datum_params[2]||(s.datum_type=Zd),s.datum_params.length>3&&(0===s.datum_params[3]&&0===s.datum_params[4]&&0===s.datum_params[5]&&0===s.datum_params[6]||(s.datum_type=Kd,s.datum_params[3]*=ip,s.datum_params[4]*=ip,s.datum_params[5]*=ip,s.datum_params[6]=s.datum_params[6]/1e6+1))),a&&(s.datum_type=Jd,s.grids=a),s.a=n,s.b=i,s.es=r,s.ep2=o,s}wg.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},wg.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},wg.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},wg.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},wg.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},wg.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},wg.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},wg.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},wg.militargeographische_institut={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},wg.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},wg.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},wg.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},wg.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},wg.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},wg.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},wg.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},wg.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},wg.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};var xg=bg,Sg={};function Pg(e,t){var n=new DataView(t),i=Tg(n),r=Lg(n,i),o=Og(n,r,i),a={header:r,subgrids:o};return Sg[e]=a,a}function Mg(e){if(void 0===e)return null;var t=e.split(",");return t.map(kg)}function kg(e){if(0===e.length)return null;var t="@"===e[0];return t&&(e=e.slice(1)),"null"===e?{name:"null",mandatory:!t,grid:null,isNull:!0}:{name:e,mandatory:!t,grid:Sg[e]||null,isNull:!1}}function Rg(e){return e/3600*Math.PI/180}function Tg(e){var t=e.getInt32(8,!1);return 11!==t&&(t=e.getInt32(8,!0),11!==t&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function Lg(e,t){return{nFields:e.getInt32(8,t),nSubgridFields:e.getInt32(24,t),nSubgrids:e.getInt32(40,t),shiftType:Gg(e,56,64).trim(),fromSemiMajorAxis:e.getFloat64(120,t),fromSemiMinorAxis:e.getFloat64(136,t),toSemiMajorAxis:e.getFloat64(152,t),toSemiMinorAxis:e.getFloat64(168,t)}}function Gg(e,t,n){return String.fromCharCode.apply(null,new Uint8Array(e.buffer.slice(t,n)))}function Og(e,t,n){for(var i=176,r=[],o=0;o<t.nSubgrids;o++){var a=Ng(e,i,n),s=Fg(e,i,a,n),l=Math.round(1+(a.upperLongitude-a.lowerLongitude)/a.longitudeInterval),u=Math.round(1+(a.upperLatitude-a.lowerLatitude)/a.latitudeInterval);r.push({ll:[Rg(a.lowerLongitude),Rg(a.lowerLatitude)],del:[Rg(a.longitudeInterval),Rg(a.latitudeInterval)],lim:[l,u],count:a.gridNodeCount,cvs:Dg(s)}),i+=176+16*a.gridNodeCount}return r}function Dg(e){return e.map((function(e){return[Rg(e.longitudeShift),Rg(e.latitudeShift)]}))}function Ng(e,t,n){return{name:Gg(e,t+8,t+16).trim(),parent:Gg(e,t+24,t+24+8).trim(),lowerLatitude:e.getFloat64(t+72,n),upperLatitude:e.getFloat64(t+88,n),lowerLongitude:e.getFloat64(t+104,n),upperLongitude:e.getFloat64(t+120,n),latitudeInterval:e.getFloat64(t+136,n),longitudeInterval:e.getFloat64(t+152,n),gridNodeCount:e.getInt32(t+168,n)}}function Fg(e,t,n,i){for(var r=t+176,o=16,a=[],s=0;s<n.gridNodeCount;s++){var l={latitudeShift:e.getFloat32(r+s*o,i),longitudeShift:e.getFloat32(r+s*o+4,i),latitudeAccuracy:e.getFloat32(r+s*o+8,i),longitudeAccuracy:e.getFloat32(r+s*o+12,i)};a.push(l)}return a}function Ug(e,t){if(!(this instanceof Ug))return new Ug(e);t=t||function(e){if(e)throw e};var n=Jp(e);if("object"===typeof n){var i=Ug.projections.get(n.projName);if(i){if(n.datumCode&&"none"!==n.datumCode){var r=vp(wg,n.datumCode);r&&(n.datum_params=n.datum_params||(r.towgs84?r.towgs84.split(","):null),n.ellps=r.ellipse,n.datumName=r.datumName?r.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var o=Eg(n.a,n.b,n.rf,n.ellps,n.sphere),a=Ig(o.a,o.b,o.rf,n.R_A),s=Mg(n.nadgrids),l=n.datum||xg(n.datumCode,n.datum_params,o.a,o.b,a.es,a.ep2,s);Qp(this,n),Qp(this,i),this.a=o.a,this.b=o.b,this.rf=o.rf,this.sphere=o.sphere,this.es=a.es,this.e=a.e,this.ep2=a.ep2,this.datum=l,this.init(),t(null,this)}else t(e)}else t(e)}Ug.projections=Ag,Ug.projections.start();var Bg=Ug;function jg(e,t){return e.datum_type===t.datum_type&&(!(e.a!==t.a||Math.abs(e.es-t.es)>5e-11)&&(e.datum_type===Zd?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:e.datum_type!==Kd||e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6]))}function zg(e,t,n){var i,r,o,a,s=e.x,l=e.y,u=e.z?e.z:0;if(l<-rp&&l>-1.001*rp)l=-rp;else if(l>rp&&l<1.001*rp)l=rp;else{if(l<-rp)return{x:-1/0,y:-1/0,z:e.z};if(l>rp)return{x:1/0,y:1/0,z:e.z}}return s>Math.PI&&(s-=2*Math.PI),r=Math.sin(l),a=Math.cos(l),o=r*r,i=n/Math.sqrt(1-t*o),{x:(i+u)*a*Math.cos(s),y:(i+u)*a*Math.sin(s),z:(i*(1-t)+u)*r}}function Wg(e,t,n,i){var r,o,a,s,l,u,c,h,d,p,g,f,m,v,y,A,_=1e-12,C=_*_,I=30,E=e.x,w=e.y,b=e.z?e.z:0;if(r=Math.sqrt(E*E+w*w),o=Math.sqrt(E*E+w*w+b*b),r/n<_){if(v=0,o/n<_)return y=rp,A=-i,{x:e.x,y:e.y,z:e.z}}else v=Math.atan2(w,E);a=b/o,s=r/o,l=1/Math.sqrt(1-t*(2-t)*s*s),h=s*(1-t)*l,d=a*l,m=0;do{m++,c=n/Math.sqrt(1-t*d*d),A=r*h+b*d-c*(1-t*d*d),u=t*c/(c+A),l=1/Math.sqrt(1-u*(2-u)*s*s),p=s*(1-u)*l,g=a*l,f=g*h-p*d,h=p,d=g}while(f*f>C&&m<I);return y=Math.atan(g/Math.abs(p)),{x:v,y:y,z:A}}function Vg(e,t,n){if(t===Zd)return{x:e.x+n[0],y:e.y+n[1],z:e.z+n[2]};if(t===Kd){var i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],l=n[5],u=n[6];return{x:u*(e.x-l*e.y+s*e.z)+i,y:u*(l*e.x+e.y-a*e.z)+r,z:u*(-s*e.x+a*e.y+e.z)+o}}}function Yg(e,t,n){if(t===Zd)return{x:e.x-n[0],y:e.y-n[1],z:e.z-n[2]};if(t===Kd){var i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],l=n[5],u=n[6],c=(e.x-i)/u,h=(e.y-r)/u,d=(e.z-o)/u;return{x:c+l*h-s*d,y:-l*c+h+a*d,z:s*c-a*h+d}}}function Hg(e){return e===Zd||e===Kd}function qg(e,t,n){if(jg(e,t))return n;if(e.datum_type===$d||t.datum_type===$d)return n;var i=e.a,r=e.es;if(e.datum_type===Jd){var o=Xg(e,!1,n);if(0!==o)return;i=ep,r=np}var a=t.a,s=t.b,l=t.es;if(t.datum_type===Jd&&(a=ep,s=tp,l=np),r===l&&i===a&&!Hg(e.datum_type)&&!Hg(t.datum_type))return n;if(n=zg(n,r,i),Hg(e.datum_type)&&(n=Vg(n,e.datum_type,e.datum_params)),Hg(t.datum_type)&&(n=Yg(n,t.datum_type,t.datum_params)),n=Wg(n,l,a,s),t.datum_type===Jd){var u=Xg(t,!0,n);if(0!==u)return}return n}function Xg(e,t,n){if(null===e.grids||0===e.grids.length)return console.log("Grid shift grids not found"),-1;var i={x:-n.x,y:n.y},r={x:Number.NaN,y:Number.NaN},o=[];e:for(var a=0;a<e.grids.length;a++){var s=e.grids[a];if(o.push(s.name),s.isNull){r=i;break}if(s.mandatory,null!==s.grid)for(var l=s.grid.subgrids,u=0,c=l.length;u<c;u++){var h=l[u],d=(Math.abs(h.del[1])+Math.abs(h.del[0]))/1e4,p=h.ll[0]-d,g=h.ll[1]-d,f=h.ll[0]+(h.lim[0]-1)*h.del[0]+d,m=h.ll[1]+(h.lim[1]-1)*h.del[1]+d;if(!(g>i.y||p>i.x||m<i.y||f<i.x)&&(r=Zg(i,t,h),!isNaN(r.x)))break e}else if(s.mandatory)return console.log("Unable to find mandatory grid '"+s.name+"'"),-1}return isNaN(r.x)?(console.log("Failed to find a grid shift table for location '"+-i.x*cp+" "+i.y*cp+" tried: '"+o+"'"),-1):(n.x=-r.x,n.y=r.y,0)}function Zg(e,t,n){var i={x:Number.NaN,y:Number.NaN};if(isNaN(e.x))return i;var r={x:e.x,y:e.y};r.x-=n.ll[0],r.y-=n.ll[1],r.x=tg(r.x-Math.PI)+Math.PI;var o=Kg(r,n);if(t){if(isNaN(o.x))return i;o.x=r.x-o.x,o.y=r.y-o.y;var a,s,l=9,u=1e-12;do{if(s=Kg(o,n),isNaN(s.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}a={x:r.x-(s.x+o.x),y:r.y-(s.y+o.y)},o.x+=a.x,o.y+=a.y}while(l--&&Math.abs(a.x)>u&&Math.abs(a.y)>u);if(l<0)return console.log("Inverse grid shift iterator failed to converge."),i;i.x=tg(o.x+n.ll[0]),i.y=o.y+n.ll[1]}else isNaN(o.x)||(i.x=e.x+o.x,i.y=e.y+o.y);return i}function Kg(e,t){var n,i={x:e.x/t.del[0],y:e.y/t.del[1]},r={x:Math.floor(i.x),y:Math.floor(i.y)},o={x:i.x-1*r.x,y:i.y-1*r.y},a={x:Number.NaN,y:Number.NaN};if(r.x<0||r.x>=t.lim[0])return a;if(r.y<0||r.y>=t.lim[1])return a;n=r.y*t.lim[0]+r.x;var s={x:t.cvs[n][0],y:t.cvs[n][1]};n++;var l={x:t.cvs[n][0],y:t.cvs[n][1]};n+=t.lim[0];var u={x:t.cvs[n][0],y:t.cvs[n][1]};n--;var c={x:t.cvs[n][0],y:t.cvs[n][1]},h=o.x*o.y,d=o.x*(1-o.y),p=(1-o.x)*(1-o.y),g=(1-o.x)*o.y;return a.x=p*s.x+d*l.x+g*c.x+h*u.x,a.y=p*s.y+d*l.y+g*c.y+h*u.y,a}function Jg(e,t,n){var i,r,o,a=n.x,s=n.y,l=n.z||0,u={};for(o=0;o<3;o++)if(!t||2!==o||void 0!==n.z)switch(0===o?(i=a,r=-1!=="ew".indexOf(e.axis[o])?"x":"y"):1===o?(i=s,r=-1!=="ns".indexOf(e.axis[o])?"y":"x"):(i=l,r="z"),e.axis[o]){case"e":u[r]=i;break;case"w":u[r]=-i;break;case"n":u[r]=i;break;case"s":u[r]=-i;break;case"u":void 0!==n[r]&&(u.z=i);break;case"d":void 0!==n[r]&&(u.z=-i);break;default:return null}return u}function Qg(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t}function $g(e){ef(e.x),ef(e.y)}function ef(e){if("function"===typeof Number.isFinite){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if("number"!==typeof e||e!==e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function tf(e,t){return(e.datum.datum_type===Zd||e.datum.datum_type===Kd||e.datum.datum_type===Jd)&&"WGS84"!==t.datumCode||(t.datum.datum_type===Zd||t.datum.datum_type===Kd||t.datum.datum_type===Jd)&&"WGS84"!==e.datumCode}function nf(e,t,n,i){var r;n=Array.isArray(n)?Qg(n):{x:n.x,y:n.y,z:n.z,m:n.m};var o=void 0!==n.z;if($g(n),e.datum&&t.datum&&tf(e,t)&&(r=new Bg("WGS84"),n=nf(e,r,n,i),e=r),i&&"enu"!==e.axis&&(n=Jg(e,!1,n)),"longlat"===e.projName)n={x:n.x*up,y:n.y*up,z:n.z||0};else if(e.to_meter&&(n={x:n.x*e.to_meter,y:n.y*e.to_meter,z:n.z||0}),n=e.inverse(n),!n)return;if(e.from_greenwich&&(n.x+=e.from_greenwich),n=qg(e.datum,t.datum,n),n)return t.from_greenwich&&(n={x:n.x-t.from_greenwich,y:n.y,z:n.z||0}),"longlat"===t.projName?n={x:n.x*cp,y:n.y*cp,z:n.z||0}:(n=t.forward(n),t.to_meter&&(n={x:n.x/t.to_meter,y:n.y/t.to_meter,z:n.z||0})),i&&"enu"!==t.axis?Jg(t,!0,n):(n&&!o&&delete n.z,n)}var rf=Bg("WGS84");function of(e,t,n,i){var r,o,a;return Array.isArray(n)?(r=nf(e,t,n,i)||{x:NaN,y:NaN},n.length>2?"undefined"!==typeof e.name&&"geocent"===e.name||"undefined"!==typeof t.name&&"geocent"===t.name?"number"===typeof r.z?[r.x,r.y,r.z].concat(n.splice(3)):[r.x,r.y,n[2]].concat(n.splice(3)):[r.x,r.y].concat(n.splice(2)):[r.x,r.y]):(o=nf(e,t,n,i),a=Object.keys(n),2===a.length||a.forEach((function(i){if("undefined"!==typeof e.name&&"geocent"===e.name||"undefined"!==typeof t.name&&"geocent"===t.name){if("x"===i||"y"===i||"z"===i)return}else if("x"===i||"y"===i)return;o[i]=n[i]})),o)}function af(e){return e instanceof Bg?e:e.oProj?e.oProj:Bg(e)}function sf(e,t,n){e=af(e);var i,r=!1;return"undefined"===typeof t?(t=e,e=rf,r=!0):("undefined"!==typeof t.x||Array.isArray(t))&&(n=t,t=e,e=rf,r=!0),t=af(t),n?of(e,t,n):(i={forward:function(n,i){return of(e,t,n,i)},inverse:function(n,i){return of(t,e,n,i)}},r&&(i.oProj=t),i)}var lf=sf,uf=6,cf="AJSAJS",hf="AFAFAF",df=65,pf=73,gf=79,ff=86,mf=90,vf={forward:yf,inverse:Af,toPoint:_f};function yf(e,t){return t=t||5,xf(Ef({lat:e[1],lon:e[0]}),t)}function Af(e){var t=wf(kf(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]}function _f(e){var t=wf(kf(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function Cf(e){return e*(Math.PI/180)}function If(e){return e/Math.PI*180}function Ef(e){var t,n,i,r,o,a,s,l,u,c=e.lat,h=e.lon,d=6378137,p=.00669438,g=.9996,f=Cf(c),m=Cf(h);u=Math.floor((h+180)/6)+1,180===h&&(u=60),c>=56&&c<64&&h>=3&&h<12&&(u=32),c>=72&&c<84&&(h>=0&&h<9?u=31:h>=9&&h<21?u=33:h>=21&&h<33?u=35:h>=33&&h<42&&(u=37)),t=6*(u-1)-180+3,l=Cf(t),n=p/(1-p),i=d/Math.sqrt(1-p*Math.sin(f)*Math.sin(f)),r=Math.tan(f)*Math.tan(f),o=n*Math.cos(f)*Math.cos(f),a=Math.cos(f)*(m-l),s=d*((1-p/4-3*p*p/64-5*p*p*p/256)*f-(3*p/8+3*p*p/32+45*p*p*p/1024)*Math.sin(2*f)+(15*p*p/256+45*p*p*p/1024)*Math.sin(4*f)-35*p*p*p/3072*Math.sin(6*f));var v=g*i*(a+(1-r+o)*a*a*a/6+(5-18*r+r*r+72*o-58*n)*a*a*a*a*a/120)+5e5,y=g*(s+i*Math.tan(f)*(a*a/2+(5-r+9*o+4*o*o)*a*a*a*a/24+(61-58*r+r*r+600*o-330*n)*a*a*a*a*a*a/720));return c<0&&(y+=1e7),{northing:Math.round(y),easting:Math.round(v),zoneNumber:u,zoneLetter:bf(c)}}function wf(e){var t=e.northing,n=e.easting,i=e.zoneLetter,r=e.zoneNumber;if(r<0||r>60)return null;var o,a,s,l,u,c,h,d,p,g,f=.9996,m=6378137,v=.00669438,y=(1-Math.sqrt(1-v))/(1+Math.sqrt(1-v)),A=n-5e5,_=t;i<"N"&&(_-=1e7),d=6*(r-1)-180+3,o=v/(1-v),h=_/f,p=h/(m*(1-v/4-3*v*v/64-5*v*v*v/256)),g=p+(3*y/2-27*y*y*y/32)*Math.sin(2*p)+(21*y*y/16-55*y*y*y*y/32)*Math.sin(4*p)+151*y*y*y/96*Math.sin(6*p),a=m/Math.sqrt(1-v*Math.sin(g)*Math.sin(g)),s=Math.tan(g)*Math.tan(g),l=o*Math.cos(g)*Math.cos(g),u=m*(1-v)/Math.pow(1-v*Math.sin(g)*Math.sin(g),1.5),c=A/(a*f);var C=g-a*Math.tan(g)/u*(c*c/2-(5+3*s+10*l-4*l*l-9*o)*c*c*c*c/24+(61+90*s+298*l+45*s*s-252*o-3*l*l)*c*c*c*c*c*c/720);C=If(C);var I,E=(c-(1+2*s+l)*c*c*c/6+(5-2*l+28*s-3*l*l+8*o+24*s*s)*c*c*c*c*c/120)/Math.cos(g);if(E=d+If(E),e.accuracy){var w=wf({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});I={top:w.lat,right:w.lon,bottom:C,left:E}}else I={lat:C,lon:E};return I}function bf(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function xf(e,t){var n="00000"+e.easting,i="00000"+e.northing;return e.zoneNumber+e.zoneLetter+Sf(e.easting,e.northing,e.zoneNumber)+n.substr(n.length-5,t)+i.substr(i.length-5,t)}function Sf(e,t,n){var i=Pf(n),r=Math.floor(e/1e5),o=Math.floor(t/1e5)%20;return Mf(r,o,i)}function Pf(e){var t=e%uf;return 0===t&&(t=uf),t}function Mf(e,t,n){var i=n-1,r=cf.charCodeAt(i),o=hf.charCodeAt(i),a=r+e-1,s=o+t,l=!1;a>mf&&(a=a-mf+df-1,l=!0),(a===pf||r<pf&&a>pf||(a>pf||r<pf)&&l)&&a++,(a===gf||r<gf&&a>gf||(a>gf||r<gf)&&l)&&(a++,a===pf&&a++),a>mf&&(a=a-mf+df-1),s>ff?(s=s-ff+df-1,l=!0):l=!1,(s===pf||o<pf&&s>pf||(s>pf||o<pf)&&l)&&s++,(s===gf||o<gf&&s>gf||(s>gf||o<gf)&&l)&&(s++,s===pf&&s++),s>ff&&(s=s-ff+df-1);var u=String.fromCharCode(a)+String.fromCharCode(s);return u}function kf(e){if(e&&0===e.length)throw"MGRSPoint coverting from nothing";var t,n=e.length,i=null,r="",o=0;while(!/[A-Z]/.test(t=e.charAt(o))){if(o>=2)throw"MGRSPoint bad conversion from: "+e;r+=t,o++}var a=parseInt(r,10);if(0===o||o+3>n)throw"MGRSPoint bad conversion from: "+e;var s=e.charAt(o++);if(s<="A"||"B"===s||"Y"===s||s>="Z"||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+e;i=e.substring(o,o+=2);var l=Pf(a),u=Rf(i.charAt(0),l),c=Tf(i.charAt(1),l);while(c<Lf(s))c+=2e6;var h=n-o;if(h%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+e;var d,p,g,f,m,v=h/2,y=0,A=0;return v>0&&(d=1e5/Math.pow(10,v),p=e.substring(o,o+v),y=parseFloat(p)*d,g=e.substring(o+v),A=parseFloat(g)*d),f=y+u,m=A+c,{easting:f,northing:m,zoneLetter:s,zoneNumber:a,accuracy:d}}function Rf(e,t){var n=cf.charCodeAt(t-1),i=1e5,r=!1;while(n!==e.charCodeAt(0)){if(n++,n===pf&&n++,n===gf&&n++,n>mf){if(r)throw"Bad character: "+e;n=df,r=!0}i+=1e5}return i}function Tf(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;var n=hf.charCodeAt(t-1),i=0,r=!1;while(n!==e.charCodeAt(0)){if(n++,n===pf&&n++,n===gf&&n++,n>ff){if(r)throw"Bad character: "+e;n=df,r=!0}i+=1e5}return i}function Lf(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function Gf(e,t,n){if(!(this instanceof Gf))return new Gf(e,t,n);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if("object"===typeof e)this.x=e.x,this.y=e.y,this.z=e.z||0;else if("string"===typeof e&&"undefined"===typeof t){var i=e.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=e,this.y=t,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Gf.fromMGRS=function(e){return new Gf(_f(e))},Gf.prototype.toMGRS=function(e){return yf([this.x,this.y],e)};var Of=Gf,Df=1,Nf=.25,Ff=.046875,Uf=.01953125,Bf=.01068115234375,jf=.75,zf=.46875,Wf=.013020833333333334,Vf=.007120768229166667,Yf=.3645833333333333,Hf=.005696614583333333,qf=.3076171875;function Xf(e){var t=[];t[0]=Df-e*(Nf+e*(Ff+e*(Uf+e*Bf))),t[1]=e*(jf-e*(Ff+e*(Uf+e*Bf)));var n=e*e;return t[2]=n*(zf-e*(Wf+e*Vf)),n*=e,t[3]=n*(Yf-e*Hf),t[4]=n*e*qf,t}function Zf(e,t,n,i){return n*=t,t*=t,i[0]*e-n*(i[1]+t*(i[2]+t*(i[3]+t*i[4])))}var Kf=20;function Jf(e,t,n){for(var i=1/(1-t),r=e,o=Kf;o;--o){var a=Math.sin(r),s=1-t*a*a;if(s=(Zf(r,a,Math.cos(r),n)-e)*(s*Math.sqrt(s))*i,r-=s,Math.abs(s)<lp)return r}return r}function Qf(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Xf(this.es),this.ml0=Zf(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function $f(e){var t,n,i,r=e.x,o=e.y,a=tg(r-this.long0),s=Math.sin(o),l=Math.cos(o);if(this.es){var u=l*a,c=Math.pow(u,2),h=this.ep2*Math.pow(l,2),d=Math.pow(h,2),p=Math.abs(l)>lp?Math.tan(o):0,g=Math.pow(p,2),f=Math.pow(g,2);t=1-this.es*Math.pow(s,2),u/=Math.sqrt(t);var m=Zf(o,s,l,this.en);n=this.a*(this.k0*u*(1+c/6*(1-g+h+c/20*(5-18*g+f+14*h-58*g*h+c/42*(61+179*f-f*g-479*g)))))+this.x0,i=this.a*(this.k0*(m-this.ml0+s*a*u/2*(1+c/12*(5-g+9*h+4*d+c/30*(61+f-58*g+270*h-330*g*h+c/56*(1385+543*f-f*g-3111*g))))))+this.y0}else{var v=l*Math.sin(a);if(Math.abs(Math.abs(v)-1)<lp)return 93;if(n=.5*this.a*this.k0*Math.log((1+v)/(1-v))+this.x0,i=l*Math.cos(a)/Math.sqrt(1-Math.pow(v,2)),v=Math.abs(i),v>=1){if(v-1>lp)return 93;i=0}else i=Math.acos(i);o<0&&(i=-i),i=this.a*this.k0*(i-this.lat0)+this.y0}return e.x=n,e.y=i,e}function em(e){var t,n,i,r,o=(e.x-this.x0)*(1/this.a),a=(e.y-this.y0)*(1/this.a);if(this.es)if(t=this.ml0+a/this.k0,n=Jf(t,this.es,this.en),Math.abs(n)<rp){var s=Math.sin(n),l=Math.cos(n),u=Math.abs(l)>lp?Math.tan(n):0,c=this.ep2*Math.pow(l,2),h=Math.pow(c,2),d=Math.pow(u,2),p=Math.pow(d,2);t=1-this.es*Math.pow(s,2);var g=o*Math.sqrt(t)/this.k0,f=Math.pow(g,2);t*=u,i=n-t*f/(1-this.es)*.5*(1-f/12*(5+3*d-9*c*d+c-4*h-f/30*(61+90*d-252*c*d+45*p+46*c-f/56*(1385+3633*d+4095*p+1574*p*d)))),r=tg(this.long0+g*(1-f/6*(1+2*d+c-f/20*(5+28*d+24*p+8*c*d+6*c-f/42*(61+662*d+1320*p+720*p*d))))/l)}else i=rp*eg(a),r=0;else{var m=Math.exp(o/this.k0),v=.5*(m-1/m),y=this.lat0+a/this.k0,A=Math.cos(y);t=Math.sqrt((1-Math.pow(A,2))/(1+Math.pow(v,2))),i=Math.asin(t),a<0&&(i=-i),r=0===v&&0===A?0:tg(Math.atan2(v,A)+this.long0)}return e.x=r,e.y=i,e}var tm=["Fast_Transverse_Mercator","Fast Transverse Mercator"],nm={init:Qf,forward:$f,inverse:em,names:tm};function im(e){var t=Math.exp(e);return t=(t-1/t)/2,t}function rm(e,t){e=Math.abs(e),t=Math.abs(t);var n=Math.max(e,t),i=Math.min(e,t)/(n||1);return n*Math.sqrt(1+Math.pow(i,2))}function om(e){var t=1+e,n=t-1;return 0===n?e:e*Math.log(t)/n}function am(e){var t=Math.abs(e);return t=om(t*(1+t/(rm(1,t)+1))),e<0?-t:t}function sm(e,t){var n,i=2*Math.cos(2*t),r=e.length-1,o=e[r],a=0;while(--r>=0)n=i*o-a+e[r],a=o,o=n;return t+n*Math.sin(2*t)}function lm(e,t){var n,i=2*Math.cos(t),r=e.length-1,o=e[r],a=0;while(--r>=0)n=i*o-a+e[r],a=o,o=n;return Math.sin(t)*n}function um(e){var t=Math.exp(e);return t=(t+1/t)/2,t}function cm(e,t,n){var i,r,o=Math.sin(t),a=Math.cos(t),s=im(n),l=um(n),u=2*a*l,c=-2*o*s,h=e.length-1,d=e[h],p=0,g=0,f=0;while(--h>=0)i=g,r=p,g=d,p=f,d=u*g-i-c*p+e[h],f=c*g-r+u*p;return u=o*l,c=a*s,[u*d-c*f,u*f+c*d]}function hm(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(nm.init.apply(this),this.forward=nm.forward,this.inverse=nm.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),n=t;this.cgb[0]=t*(2+t*(-2/3+t*(t*(116/45+t*(26/45+t*(-2854/675)))-2))),this.cbg[0]=t*(t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))-2),n*=t,this.cgb[1]=n*(7/3+t*(t*(-227/45+t*(2704/315+t*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),n*=t,this.cgb[2]=n*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=n*(-26/15+t*(34/21+t*(1.6+t*(-12686/2835)))),n*=t,this.cgb[3]=n*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=n*(1237/630+t*(t*(-24832/14175)-2.4)),n*=t,this.cgb[4]=n*(4174/315+t*(-144838/6237)),this.cbg[4]=n*(-734/315+t*(109598/31185)),n*=t,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=t*(t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))-.5),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=n*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=n*(13/48+t*(t*(557/1440+t*(281/630+t*(-1983433/1935360)))-.6)),n*=t,this.utg[2]=n*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=n*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),n*=t,this.utg[3]=n*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=n*(49561/161280+t*(-179/168+t*(6601661/7257600))),n*=t,this.utg[4]=n*(-4583/161280+t*(108847/3991680)),this.gtu[4]=n*(34729/80640+t*(-3418889/1995840)),n*=t,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=.6650675310896665*n;var i=sm(this.cbg,this.lat0);this.Zb=-this.Qn*(i+lm(this.gtu,2*i))}function dm(e){var t=tg(e.x-this.long0),n=e.y;n=sm(this.cbg,n);var i=Math.sin(n),r=Math.cos(n),o=Math.sin(t),a=Math.cos(t);n=Math.atan2(i,a*r),t=Math.atan2(o*r,rm(i,r*a)),t=am(Math.tan(t));var s,l,u=cm(this.gtu,2*n,2*t);return n+=u[0],t+=u[1],Math.abs(t)<=2.623395162778?(s=this.a*(this.Qn*t)+this.x0,l=this.a*(this.Qn*n+this.Zb)+this.y0):(s=1/0,l=1/0),e.x=s,e.y=l,e}function pm(e){var t,n,i=(e.x-this.x0)*(1/this.a),r=(e.y-this.y0)*(1/this.a);if(r=(r-this.Zb)/this.Qn,i/=this.Qn,Math.abs(i)<=2.623395162778){var o=cm(this.utg,2*r,2*i);r+=o[0],i+=o[1],i=Math.atan(im(i));var a=Math.sin(r),s=Math.cos(r),l=Math.sin(i),u=Math.cos(i);r=Math.atan2(a*u,rm(l,u*s)),i=Math.atan2(l,u*s),t=tg(i+this.long0),n=sm(this.cgb,r)}else t=1/0,n=1/0;return e.x=t,e.y=n,e}var gm=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"],fm={init:hm,forward:dm,inverse:pm,names:gm};function mm(e,t){if(void 0===e){if(e=Math.floor(30*(tg(t)+Math.PI)/Math.PI)+1,e<0)return 0;if(e>60)return 60}return e}var vm="etmerc";function ym(){var e=mm(this.zone,this.long0);if(void 0===e)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*up,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,fm.init.apply(this),this.forward=fm.forward,this.inverse=fm.inverse}var Am=["Universal Transverse Mercator System","utm"],_m={init:ym,names:Am,dependsOn:vm};function Cm(e,t){return Math.pow((1-e)/(1+e),t)}var Im=20;function Em(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+hp)/(Math.pow(Math.tan(.5*this.lat0+hp),this.C)*Cm(this.e*e,this.ratexp))}function wm(e){var t=e.x,n=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+hp),this.C)*Cm(this.e*Math.sin(n),this.ratexp))-rp,e.x=this.C*t,e}function bm(e){for(var t=1e-14,n=e.x/this.C,i=e.y,r=Math.pow(Math.tan(.5*i+hp)/this.K,1/this.C),o=Im;o>0;--o){if(i=2*Math.atan(r*Cm(this.e*Math.sin(e.y),-.5*this.e))-rp,Math.abs(i-e.y)<t)break;e.y=i}return o?(e.x=n,e.y=i,e):null}var xm=["gauss"],Sm={init:Em,forward:wm,inverse:bm,names:xm};function Pm(){Sm.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function Mm(e){var t,n,i,r;return e.x=tg(e.x-this.long0),Sm.forward.apply(this,[e]),t=Math.sin(e.y),n=Math.cos(e.y),i=Math.cos(e.x),r=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*n*i),e.x=r*n*Math.sin(e.x),e.y=r*(this.cosc0*t-this.sinc0*n*i),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function km(e){var t,n,i,r,o;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,o=rm(e.x,e.y)){var a=2*Math.atan2(o,this.R2);t=Math.sin(a),n=Math.cos(a),r=Math.asin(n*this.sinc0+e.y*t*this.cosc0/o),i=Math.atan2(e.x*t,o*this.cosc0*n-e.y*this.sinc0*t)}else r=this.phic0,i=0;return e.x=i,e.y=r,Sm.inverse.apply(this,[e]),e.x=tg(e.x+this.long0),e}var Rm=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"],Tm={init:Pm,forward:Mm,inverse:km,names:Rm};function Lm(e,t,n){return t*=n,Math.tan(.5*(rp+e))*Math.pow((1-t)/(1+t),.5*n)}function Gm(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=lp&&(this.k0=.5*(1+eg(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=lp&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=lp&&Math.abs(Math.cos(this.lat_ts))>lp&&(this.k0=.5*this.cons*$p(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/ng(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=$p(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-rp,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function Om(e){var t,n,i,r,o,a,s=e.x,l=e.y,u=Math.sin(l),c=Math.cos(l),h=tg(s-this.long0);return Math.abs(Math.abs(s-this.long0)-Math.PI)<=lp&&Math.abs(l+this.lat0)<=lp?(e.x=NaN,e.y=NaN,e):this.sphere?(t=2*this.k0/(1+this.sinlat0*u+this.coslat0*c*Math.cos(h)),e.x=this.a*t*c*Math.sin(h)+this.x0,e.y=this.a*t*(this.coslat0*u-this.sinlat0*c*Math.cos(h))+this.y0,e):(n=2*Math.atan(this.ssfn_(l,u,this.e))-rp,r=Math.cos(n),i=Math.sin(n),Math.abs(this.coslat0)<=lp?(o=ng(this.e,l*this.con,this.con*u),a=2*this.a*this.k0*o/this.cons,e.x=this.x0+a*Math.sin(s-this.long0),e.y=this.y0-this.con*a*Math.cos(s-this.long0),e):(Math.abs(this.sinlat0)<lp?(t=2*this.a*this.k0/(1+r*Math.cos(h)),e.y=t*i):(t=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*i+this.cosX0*r*Math.cos(h))),e.y=t*(this.cosX0*i-this.sinX0*r*Math.cos(h))+this.y0),e.x=t*r*Math.sin(h)+this.x0,e))}function Dm(e){var t,n,i,r,o;e.x-=this.x0,e.y-=this.y0;var a=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var s=2*Math.atan(a/(2*this.a*this.k0));return t=this.long0,n=this.lat0,a<=lp?(e.x=t,e.y=n,e):(n=Math.asin(Math.cos(s)*this.sinlat0+e.y*Math.sin(s)*this.coslat0/a),t=Math.abs(this.coslat0)<lp?this.lat0>0?tg(this.long0+Math.atan2(e.x,-1*e.y)):tg(this.long0+Math.atan2(e.x,e.y)):tg(this.long0+Math.atan2(e.x*Math.sin(s),a*this.coslat0*Math.cos(s)-e.y*this.sinlat0*Math.sin(s))),e.x=t,e.y=n,e)}if(Math.abs(this.coslat0)<=lp){if(a<=lp)return n=this.lat0,t=this.long0,e.x=t,e.y=n,e;e.x*=this.con,e.y*=this.con,i=a*this.cons/(2*this.a*this.k0),n=this.con*ig(this.e,i),t=this.con*tg(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else r=2*Math.atan(a*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,a<=lp?o=this.X0:(o=Math.asin(Math.cos(r)*this.sinX0+e.y*Math.sin(r)*this.cosX0/a),t=tg(this.long0+Math.atan2(e.x*Math.sin(r),a*this.cosX0*Math.cos(r)-e.y*this.sinX0*Math.sin(r)))),n=-1*ig(this.e,Math.tan(.5*(rp+o)));return e.x=t,e.y=n,e}var Nm=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"],Fm={init:Gm,forward:Om,inverse:Dm,names:Nm,ssfn_:Lm};function Um(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),n=this.a,i=this.rf,r=1/i,o=2*r-Math.pow(r,2),a=this.e=Math.sqrt(o);this.R=this.k0*n*Math.sqrt(1-o)/(1-o*Math.pow(t,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+e/2)),u=Math.log((1+a*t)/(1-a*t));this.K=s-this.alpha*l+this.alpha*a/2*u}function Bm(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),i=-this.alpha*(t+n)+this.K,r=2*(Math.atan(Math.exp(i))-Math.PI/4),o=this.alpha*(e.x-this.lambda0),a=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(o))),s=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(o));return e.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,e.x=this.R*a+this.x0,e}function jm(e){var t=e.x-this.x0,n=e.y-this.y0,i=t/this.R,r=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(i)),a=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(r))),s=this.lambda0+a/this.alpha,l=0,u=o,c=-1e3,h=0;while(Math.abs(u-c)>1e-7){if(++h>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),c=u,u=2*Math.atan(Math.exp(l))-Math.PI/2}return e.x=s,e.y=u,e}var zm=["somerc"],Wm={init:Um,forward:Bm,inverse:jm,names:zm},Vm=1e-7;function Ym(e){var t=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],n="object"===typeof e.PROJECTION?Object.keys(e.PROJECTION)[0]:e.PROJECTION;return"no_uoff"in e||"no_off"in e||-1!==t.indexOf(n)}function Hm(){var e,t,n,i,r,o,a,s,l,u,c,h=0,d=0,p=0,g=0,f=0,m=0,v=0;this.no_off=Ym(this),this.no_rot="no_rot"in this;var y=!1;"alpha"in this&&(y=!0);var A=!1;if("rectified_grid_angle"in this&&(A=!0),y&&(v=this.alpha),A&&(h=this.rectified_grid_angle*up),y||A)d=this.longc;else if(p=this.long1,f=this.lat1,g=this.long2,m=this.lat2,Math.abs(f-m)<=Vm||(e=Math.abs(f))<=Vm||Math.abs(e-rp)<=Vm||Math.abs(Math.abs(this.lat0)-rp)<=Vm||Math.abs(Math.abs(m)-rp)<=Vm)throw new Error;var _=1-this.es;t=Math.sqrt(_),Math.abs(this.lat0)>lp?(s=Math.sin(this.lat0),n=Math.cos(this.lat0),e=1-this.es*s*s,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/_),this.A=this.B*this.k0*t/e,i=this.B*t/(n*Math.sqrt(e)),r=i*i-1,r<=0?r=0:(r=Math.sqrt(r),this.lat0<0&&(r=-r)),this.E=r+=i,this.E*=Math.pow(ng(this.e,this.lat0,s),this.B)):(this.B=1/t,this.A=this.k0,this.E=i=r=1),y||A?(y?(c=Math.asin(Math.sin(v)/i),A||(h=v)):(c=h,v=Math.asin(i*Math.sin(c))),this.lam0=d-Math.asin(.5*(r-1/r)*Math.tan(c))/this.B):(o=Math.pow(ng(this.e,f,Math.sin(f)),this.B),a=Math.pow(ng(this.e,m,Math.sin(m)),this.B),r=this.E/o,l=(a-o)/(a+o),u=this.E*this.E,u=(u-a*o)/(u+a*o),e=p-g,e<-Math.pi?g-=dp:e>Math.pi&&(g+=dp),this.lam0=tg(.5*(p+g)-Math.atan(u*Math.tan(.5*this.B*(p-g))/l)/this.B),c=Math.atan(2*Math.sin(this.B*tg(p-this.lam0))/(r-1/r)),h=v=Math.asin(i*Math.sin(c))),this.singam=Math.sin(c),this.cosgam=Math.cos(c),this.sinrot=Math.sin(h),this.cosrot=Math.cos(h),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A,this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(i*i-1)/Math.cos(v))),this.lat0<0&&(this.u_0=-this.u_0)),r=.5*c,this.v_pole_n=this.ArB*Math.log(Math.tan(hp-r)),this.v_pole_s=this.ArB*Math.log(Math.tan(hp+r))}function qm(e){var t,n,i,r,o,a,s,l,u={};if(e.x=e.x-this.lam0,Math.abs(Math.abs(e.y)-rp)>lp){if(o=this.E/Math.pow(ng(this.e,e.y,Math.sin(e.y)),this.B),a=1/o,t=.5*(o-a),n=.5*(o+a),r=Math.sin(this.B*e.x),i=(t*this.singam-r*this.cosgam)/n,Math.abs(Math.abs(i)-1)<lp)throw new Error;l=.5*this.ArB*Math.log((1-i)/(1+i)),a=Math.cos(this.B*e.x),s=Math.abs(a)<Vm?this.A*e.x:this.ArB*Math.atan2(t*this.cosgam+r*this.singam,a)}else l=e.y>0?this.v_pole_n:this.v_pole_s,s=this.ArB*e.y;return this.no_rot?(u.x=s,u.y=l):(s-=this.u_0,u.x=l*this.cosrot+s*this.sinrot,u.y=s*this.cosrot-l*this.sinrot),u.x=this.a*u.x+this.x0,u.y=this.a*u.y+this.y0,u}function Xm(e){var t,n,i,r,o,a,s,l={};if(e.x=(e.x-this.x0)*(1/this.a),e.y=(e.y-this.y0)*(1/this.a),this.no_rot?(n=e.y,t=e.x):(n=e.x*this.cosrot-e.y*this.sinrot,t=e.y*this.cosrot+e.x*this.sinrot+this.u_0),i=Math.exp(-this.BrA*n),r=.5*(i-1/i),o=.5*(i+1/i),a=Math.sin(this.BrA*t),s=(a*this.cosgam+r*this.singam)/o,Math.abs(Math.abs(s)-1)<lp)l.x=0,l.y=s<0?-rp:rp;else{if(l.y=this.E/Math.sqrt((1+s)/(1-s)),l.y=ig(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(r*this.cosgam-a*this.singam,Math.cos(this.BrA*t))}return l.x+=this.lam0,l}var Zm=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"],Km={init:Hm,forward:qm,inverse:Xm,names:Zm};function Jm(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<lp)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),n=Math.cos(this.lat1),i=$p(this.e,t,n),r=ng(this.e,this.lat1,t),o=Math.sin(this.lat2),a=Math.cos(this.lat2),s=$p(this.e,o,a),l=ng(this.e,this.lat2,o),u=ng(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>lp?this.ns=Math.log(i/s)/Math.log(r/l):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=i/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(u,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function Qm(e){var t=e.x,n=e.y;Math.abs(2*Math.abs(n)-Math.PI)<=lp&&(n=eg(n)*(rp-2*lp));var i,r,o=Math.abs(Math.abs(n)-rp);if(o>lp)i=ng(this.e,n,Math.sin(n)),r=this.a*this.f0*Math.pow(i,this.ns);else{if(o=n*this.ns,o<=0)return null;r=0}var a=this.ns*tg(t-this.long0);return e.x=this.k0*(r*Math.sin(a))+this.x0,e.y=this.k0*(this.rh-r*Math.cos(a))+this.y0,e}function $m(e){var t,n,i,r,o,a=(e.x-this.x0)/this.k0,s=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(a*a+s*s),n=1):(t=-Math.sqrt(a*a+s*s),n=-1);var l=0;if(0!==t&&(l=Math.atan2(n*a,n*s)),0!==t||this.ns>0){if(n=1/this.ns,i=Math.pow(t/(this.a*this.f0),n),r=ig(this.e,i),-9999===r)return null}else r=-rp;return o=tg(l/this.ns+this.long0),e.x=o,e.y=r,e}var ev=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"],tv={init:Jm,forward:Qm,inverse:$m,names:ev};function nv(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function iv(e){var t,n,i,r,o,a,s,l=e.x,u=e.y,c=tg(l-this.long0);return t=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/t)-this.s45),i=-c*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),o=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(r)),a=this.n*o,s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),e.y=s*Math.cos(a)/1,e.x=s*Math.sin(a)/1,this.czech||(e.y*=-1,e.x*=-1),e}function rv(e){var t,n,i,r,o,a,s,l,u=e.x;e.x=e.y,e.y=u,this.czech||(e.y*=-1,e.x*=-1),a=Math.sqrt(e.x*e.x+e.y*e.y),o=Math.atan2(e.y,e.x),r=o/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/a,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),n=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(t)),e.x=this.long0-n/this.alfa,s=t,l=0;var c=0;do{e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-e.y)<1e-10&&(l=1),s=e.y,c+=1}while(0===l&&c<15);return c>=15?null:e}var ov=["Krovak","krovak"],av={init:nv,forward:iv,inverse:rv,names:ov};function sv(e,t,n,i,r){return e*r-t*Math.sin(2*r)+n*Math.sin(4*r)-i*Math.sin(6*r)}function lv(e){return 1-.25*e*(1+e/16*(3+1.25*e))}function uv(e){return.375*e*(1+.25*e*(1+.46875*e))}function cv(e){return.05859375*e*e*(1+.75*e)}function hv(e){return e*e*e*(35/3072)}function dv(e,t,n){var i=t*n;return e/Math.sqrt(1-i*i)}function pv(e){return Math.abs(e)<rp?e:e-eg(e)*Math.PI}function gv(e,t,n,i,r){var o,a;o=e/t;for(var s=0;s<15;s++)if(a=(e-(t*o-n*Math.sin(2*o)+i*Math.sin(4*o)-r*Math.sin(6*o)))/(t-2*n*Math.cos(2*o)+4*i*Math.cos(4*o)-6*r*Math.cos(6*o)),o+=a,Math.abs(a)<=1e-10)return o;return NaN}function fv(){this.sphere||(this.e0=lv(this.es),this.e1=uv(this.es),this.e2=cv(this.es),this.e3=hv(this.es),this.ml0=this.a*sv(this.e0,this.e1,this.e2,this.e3,this.lat0))}function mv(e){var t,n,i=e.x,r=e.y;if(i=tg(i-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(r)*Math.sin(i)),n=this.a*(Math.atan2(Math.tan(r),Math.cos(i))-this.lat0);else{var o=Math.sin(r),a=Math.cos(r),s=dv(this.a,this.e,o),l=Math.tan(r)*Math.tan(r),u=i*Math.cos(r),c=u*u,h=this.es*a*a/(1-this.es),d=this.a*sv(this.e0,this.e1,this.e2,this.e3,r);t=s*u*(1-c*l*(1/6-(8-l+8*h)*c/120)),n=d-this.ml0+s*o/a*c*(.5+(5-l+6*h)*c/24)}return e.x=t+this.x0,e.y=n+this.y0,e}function vv(e){e.x-=this.x0,e.y-=this.y0;var t,n,i=e.x/this.a,r=e.y/this.a;if(this.sphere){var o=r+this.lat0;t=Math.asin(Math.sin(o)*Math.cos(i)),n=Math.atan2(Math.tan(i),Math.cos(o))}else{var a=this.ml0/this.a+r,s=gv(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-rp)<=lp)return e.x=this.long0,e.y=rp,r<0&&(e.y*=-1),e;var l=dv(this.a,this.e,Math.sin(s)),u=l*l*l/this.a/this.a*(1-this.es),c=Math.pow(Math.tan(s),2),h=i*this.a/l,d=h*h;t=s-l*Math.tan(s)/u*h*h*(.5-(1+3*c)*h*h/24),n=h*(1-d*(c/3+(1+3*c)*c*d/15))/Math.cos(s)}return e.x=tg(n+this.long0),e.y=pv(t),e}var yv=["Cassini","Cassini_Soldner","cass"],Av={init:fv,forward:mv,inverse:vv,names:yv};function _v(e,t){var n;return e>1e-7?(n=e*t,(1-e*e)*(t/(1-n*n)-.5/e*Math.log((1-n)/(1+n)))):2*t}var Cv=1,Iv=2,Ev=3,wv=4;function bv(){var e,t=Math.abs(this.lat0);if(Math.abs(t-rp)<lp?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<lp?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=_v(this.e,1),this.mmf=.5/(1-this.es),this.apa=Gv(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=_v(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function xv(e){var t,n,i,r,o,a,s,l,u,c,h=e.x,d=e.y;if(h=tg(h-this.long0),this.sphere){if(o=Math.sin(d),c=Math.cos(d),i=Math.cos(h),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n=this.mode===this.EQUIT?1+c*i:1+this.sinph0*o+this.cosph0*c*i,n<=lp)return null;n=Math.sqrt(2/n),t=n*c*Math.sin(h),n*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*c*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(d+this.lat0)<lp)return null;n=hp-.5*d,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),t=n*Math.sin(h),n*=i}}else{switch(s=0,l=0,u=0,i=Math.cos(h),r=Math.sin(h),o=Math.sin(d),a=_v(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(s=a/this.qp,l=Math.sqrt(1-s*s)),this.mode){case this.OBLIQ:u=1+this.sinb1*s+this.cosb1*l*i;break;case this.EQUIT:u=1+l*i;break;case this.N_POLE:u=rp+d,a=this.qp-a;break;case this.S_POLE:u=d-rp,a=this.qp+a;break}if(Math.abs(u)<lp)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:u=Math.sqrt(2/u),n=this.mode===this.OBLIQ?this.ymf*u*(this.cosb1*s-this.sinb1*l*i):(u=Math.sqrt(2/(1+l*i)))*s*this.ymf,t=this.xmf*u*l*r;break;case this.N_POLE:case this.S_POLE:a>=0?(t=(u=Math.sqrt(a))*r,n=i*(this.mode===this.S_POLE?u:-u)):t=n=0;break}}return e.x=this.a*t+this.x0,e.y=this.a*n+this.y0,e}function Sv(e){e.x-=this.x0,e.y-=this.y0;var t,n,i,r,o,a,s,l=e.x/this.a,u=e.y/this.a;if(this.sphere){var c,h=0,d=0;if(c=Math.sqrt(l*l+u*u),n=.5*c,n>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(d=Math.sin(n),h=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(c)<=lp?0:Math.asin(u*d/c),l*=d,u=h*c;break;case this.OBLIQ:n=Math.abs(c)<=lp?this.lat0:Math.asin(h*this.sinph0+u*d*this.cosph0/c),l*=d*this.cosph0,u=(h-Math.sin(n)*this.sinph0)*c;break;case this.N_POLE:u=-u,n=rp-n;break;case this.S_POLE:n-=rp;break}t=0!==u||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(l,u):0}else{if(s=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(l/=this.dd,u*=this.dd,a=Math.sqrt(l*l+u*u),a<lp)return e.x=this.long0,e.y=this.lat0,e;r=2*Math.asin(.5*a/this.rq),i=Math.cos(r),l*=r=Math.sin(r),this.mode===this.OBLIQ?(s=i*this.sinb1+u*r*this.cosb1/a,o=this.qp*s,u=a*this.cosb1*i-u*this.sinb1*r):(s=u*r/a,o=this.qp*s,u=a*i)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(u=-u),o=l*l+u*u,!o)return e.x=this.long0,e.y=this.lat0,e;s=1-o/this.qp,this.mode===this.S_POLE&&(s=-s)}t=Math.atan2(l,u),n=Ov(Math.asin(s),this.apa)}return e.x=tg(this.long0+t),e.y=n,e}var Pv=.3333333333333333,Mv=.17222222222222222,kv=.10257936507936508,Rv=.06388888888888888,Tv=.0664021164021164,Lv=.016415012942191543;function Gv(e){var t,n=[];return n[0]=e*Pv,t=e*e,n[0]+=t*Mv,n[1]=t*Rv,t*=e,n[0]+=t*kv,n[1]+=t*Tv,n[2]=t*Lv,n}function Ov(e,t){var n=e+e;return e+t[0]*Math.sin(n)+t[1]*Math.sin(n+n)+t[2]*Math.sin(n+n+n)}var Dv=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],Nv={init:bv,forward:xv,inverse:Sv,names:Dv,S_POLE:Cv,N_POLE:Iv,EQUIT:Ev,OBLIQ:wv};function Fv(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)}function Uv(){Math.abs(this.lat1+this.lat2)<lp||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=$p(this.e3,this.sin_po,this.cos_po),this.qs1=_v(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=$p(this.e3,this.sin_po,this.cos_po),this.qs2=_v(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=_v(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>lp?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function Bv(e){var t=e.x,n=e.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var i=_v(this.e3,this.sin_phi),r=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,o=this.ns0*tg(t-this.long0),a=r*Math.sin(o)+this.x0,s=this.rh-r*Math.cos(o)+this.y0;return e.x=a,e.y=s,e}function jv(e){var t,n,i,r,o,a;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),i=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),i=-1),r=0,0!==t&&(r=Math.atan2(i*e.x,i*e.y)),i=t*this.ns0/this.a,this.sphere?a=Math.asin((this.c-i*i)/(2*this.ns0)):(n=(this.c-i*i)/this.ns0,a=this.phi1z(this.e3,n)),o=tg(r/this.ns0+this.long0),e.x=o,e.y=a,e}function zv(e,t){var n,i,r,o,a,s=Fv(.5*t);if(e<lp)return s;for(var l=e*e,u=1;u<=25;u++)if(n=Math.sin(s),i=Math.cos(s),r=e*n,o=1-r*r,a=.5*o*o/i*(t/(1-l)-n/o+.5/e*Math.log((1-r)/(1+r))),s+=a,Math.abs(a)<=1e-7)return s;return null}var Wv=["Albers_Conic_Equal_Area","Albers","aea"],Vv={init:Uv,forward:Bv,inverse:jv,names:Wv,phi1z:zv};function Yv(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function Hv(e){var t,n,i,r,o,a,s,l,u=e.x,c=e.y;return i=tg(u-this.long0),t=Math.sin(c),n=Math.cos(c),r=Math.cos(i),a=this.sin_p14*t+this.cos_p14*n*r,o=1,a>0||Math.abs(a)<=lp?(s=this.x0+this.a*o*n*Math.sin(i)/a,l=this.y0+this.a*o*(this.cos_p14*t-this.sin_p14*n*r)/a):(s=this.x0+this.infinity_dist*n*Math.sin(i),l=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*n*r)),e.x=s,e.y=l,e}function qv(e){var t,n,i,r,o,a;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(r=Math.atan2(t,this.rc),n=Math.sin(r),i=Math.cos(r),a=Fv(i*this.sin_p14+e.y*n*this.cos_p14/t),o=Math.atan2(e.x*n,t*this.cos_p14*i-e.y*this.sin_p14*n),o=tg(this.long0+o)):(a=this.phic0,o=0),e.x=o,e.y=a,e}var Xv=["gnom"],Zv={init:Yv,forward:Hv,inverse:qv,names:Xv};function Kv(e,t){var n=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-n)<1e-6)return t<0?-1*rp:rp;for(var i,r,o,a,s=Math.asin(.5*t),l=0;l<30;l++)if(r=Math.sin(s),o=Math.cos(s),a=e*r,i=Math.pow(1-a*a,2)/(2*o)*(t/(1-e*e)-r/(1-a*a)+.5/e*Math.log((1-a)/(1+a))),s+=i,Math.abs(i)<=1e-10)return s;return NaN}function Jv(){this.sphere||(this.k0=$p(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function Qv(e){var t,n,i=e.x,r=e.y,o=tg(i-this.long0);if(this.sphere)t=this.x0+this.a*o*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var a=_v(this.e,Math.sin(r));t=this.x0+this.a*this.k0*o,n=this.y0+this.a*a*.5/this.k0}return e.x=t,e.y=n,e}function $v(e){var t,n;return e.x-=this.x0,e.y-=this.y0,this.sphere?(t=tg(this.long0+e.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(n=Kv(this.e,2*e.y*this.k0/this.a),t=tg(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=n,e}var ey=["cea"],ty={init:Jv,forward:Qv,inverse:$v,names:ey};function ny(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function iy(e){var t=e.x,n=e.y,i=tg(t-this.long0),r=pv(n-this.lat0);return e.x=this.x0+this.a*i*this.rc,e.y=this.y0+this.a*r,e}function ry(e){var t=e.x,n=e.y;return e.x=tg(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=pv(this.lat0+(n-this.y0)/this.a),e}var oy=["Equirectangular","Equidistant_Cylindrical","eqc"],ay={init:ny,forward:iy,inverse:ry,names:oy},sy=20;function ly(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=lv(this.es),this.e1=uv(this.es),this.e2=cv(this.es),this.e3=hv(this.es),this.ml0=this.a*sv(this.e0,this.e1,this.e2,this.e3,this.lat0)}function uy(e){var t,n,i,r=e.x,o=e.y,a=tg(r-this.long0);if(i=a*Math.sin(o),this.sphere)Math.abs(o)<=lp?(t=this.a*a,n=-1*this.a*this.lat0):(t=this.a*Math.sin(i)/Math.tan(o),n=this.a*(pv(o-this.lat0)+(1-Math.cos(i))/Math.tan(o)));else if(Math.abs(o)<=lp)t=this.a*a,n=-1*this.ml0;else{var s=dv(this.a,this.e,Math.sin(o))/Math.tan(o);t=s*Math.sin(i),n=this.a*sv(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+s*(1-Math.cos(i))}return e.x=t+this.x0,e.y=n+this.y0,e}function cy(e){var t,n,i,r,o,a,s,l,u;if(i=e.x-this.x0,r=e.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=lp)t=tg(i/this.a+this.long0),n=0;else{var c;for(a=this.lat0+r/this.a,s=i*i/this.a/this.a+a*a,l=a,o=sy;o;--o)if(c=Math.tan(l),u=-1*(a*(l*c+1)-l-.5*(l*l+s)*c)/((l-a)/c-1),l+=u,Math.abs(u)<=lp){n=l;break}t=tg(this.long0+Math.asin(i*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(r+this.ml0)<=lp)n=0,t=tg(this.long0+i/this.a);else{var h,d,p,g,f;for(a=(this.ml0+r)/this.a,s=i*i/this.a/this.a+a*a,l=a,o=sy;o;--o)if(f=this.e*Math.sin(l),h=Math.sqrt(1-f*f)*Math.tan(l),d=this.a*sv(this.e0,this.e1,this.e2,this.e3,l),p=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),g=d/this.a,u=(a*(h*g+1)-g-.5*h*(g*g+s))/(this.es*Math.sin(2*l)*(g*g+s-2*a*g)/(4*h)+(a-g)*(h*p-2/Math.sin(2*l))-p),l-=u,Math.abs(u)<=lp){n=l;break}h=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),t=tg(this.long0+Math.asin(i*h/this.a)/Math.sin(n))}return e.x=t,e.y=n,e}var hy=["Polyconic","poly"],dy={init:ly,forward:uy,inverse:cy,names:hy};function py(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function gy(e){var t,n=e.x,i=e.y,r=i-this.lat0,o=n-this.long0,a=r/ip*1e-5,s=o,l=1,u=0;for(t=1;t<=10;t++)l*=a,u+=this.A[t]*l;var c,h,d=u,p=s,g=1,f=0,m=0,v=0;for(t=1;t<=6;t++)c=g*d-f*p,h=f*d+g*p,g=c,f=h,m=m+this.B_re[t]*g-this.B_im[t]*f,v=v+this.B_im[t]*g+this.B_re[t]*f;return e.x=v*this.a+this.x0,e.y=m*this.a+this.y0,e}function fy(e){var t,n,i,r=e.x,o=e.y,a=r-this.x0,s=o-this.y0,l=s/this.a,u=a/this.a,c=1,h=0,d=0,p=0;for(t=1;t<=6;t++)n=c*l-h*u,i=h*l+c*u,c=n,h=i,d=d+this.C_re[t]*c-this.C_im[t]*h,p=p+this.C_im[t]*c+this.C_re[t]*h;for(var g=0;g<this.iterations;g++){var f,m,v=d,y=p,A=l,_=u;for(t=2;t<=6;t++)f=v*d-y*p,m=y*d+v*p,v=f,y=m,A+=(t-1)*(this.B_re[t]*v-this.B_im[t]*y),_+=(t-1)*(this.B_im[t]*v+this.B_re[t]*y);v=1,y=0;var C=this.B_re[1],I=this.B_im[1];for(t=2;t<=6;t++)f=v*d-y*p,m=y*d+v*p,v=f,y=m,C+=t*(this.B_re[t]*v-this.B_im[t]*y),I+=t*(this.B_im[t]*v+this.B_re[t]*y);var E=C*C+I*I;d=(A*C+_*I)/E,p=(_*C-A*I)/E}var w=d,b=p,x=1,S=0;for(t=1;t<=9;t++)x*=w,S+=this.D[t]*x;var P=this.lat0+S*ip*1e5,M=this.long0+b;return e.x=M,e.y=P,e}var my=["New_Zealand_Map_Grid","nzmg"],vy={init:py,forward:gy,inverse:fy,names:my};function yy(){}function Ay(e){var t=e.x,n=e.y,i=tg(t-this.long0),r=this.x0+this.a*i,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return e.x=r,e.y=o,e}function _y(e){e.x-=this.x0,e.y-=this.y0;var t=tg(this.long0+e.x/this.a),n=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=n,e}var Cy=["Miller_Cylindrical","mill"],Iy={init:yy,forward:Ay,inverse:_y,names:Cy},Ey=20;function wy(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Xf(this.es)}function by(e){var t,n,i=e.x,r=e.y;if(i=tg(i-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(r),a=Ey;a;--a){var s=(this.m*r+Math.sin(r)-o)/(this.m+Math.cos(r));if(r-=s,Math.abs(s)<lp)break}else r=1!==this.n?Math.asin(this.n*Math.sin(r)):r;t=this.a*this.C_x*i*(this.m+Math.cos(r)),n=this.a*this.C_y*r}else{var l=Math.sin(r),u=Math.cos(r);n=this.a*Zf(r,l,u,this.en),t=this.a*i*u/Math.sqrt(1-this.es*l*l)}return e.x=t,e.y=n,e}function xy(e){var t,n,i,r;return e.x-=this.x0,i=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,i/=this.C_x*(this.m+Math.cos(t)),this.m?t=Fv((this.m*t+Math.sin(t))/this.n):1!==this.n&&(t=Fv(Math.sin(t)/this.n)),i=tg(i+this.long0),t=pv(t)):(t=Jf(e.y/this.a,this.es,this.en),r=Math.abs(t),r<rp?(r=Math.sin(t),n=this.long0+e.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(t)),i=tg(n)):r-lp<rp&&(i=this.long0)),e.x=i,e.y=t,e}var Sy=["Sinusoidal","sinu"],Py={init:wy,forward:by,inverse:xy,names:Sy};function My(){}function ky(e){var t=e.x,n=e.y,i=tg(t-this.long0),r=n,o=Math.PI*Math.sin(n);while(1){var a=-(r+Math.sin(r)-o)/(1+Math.cos(r));if(r+=a,Math.abs(a)<lp)break}r/=2,Math.PI/2-Math.abs(n)<lp&&(i=0);var s=.900316316158*this.a*i*Math.cos(r)+this.x0,l=1.4142135623731*this.a*Math.sin(r)+this.y0;return e.x=s,e.y=l,e}function Ry(e){var t,n;e.x-=this.x0,e.y-=this.y0,n=e.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),t=Math.asin(n);var i=tg(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),n=(2*t+Math.sin(2*t))/Math.PI,Math.abs(n)>1&&(n=1);var r=Math.asin(n);return e.x=i,e.y=r,e}var Ty=["Mollweide","moll"],Ly={init:My,forward:ky,inverse:Ry,names:Ty};function Gy(){Math.abs(this.lat1+this.lat2)<lp||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=lv(this.es),this.e1=uv(this.es),this.e2=cv(this.es),this.e3=hv(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=$p(this.e,this.sinphi,this.cosphi),this.ml1=sv(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<lp?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=$p(this.e,this.sinphi,this.cosphi),this.ml2=sv(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=sv(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function Oy(e){var t,n=e.x,i=e.y;if(this.sphere)t=this.a*(this.g-i);else{var r=sv(this.e0,this.e1,this.e2,this.e3,i);t=this.a*(this.g-r)}var o=this.ns*tg(n-this.long0),a=this.x0+t*Math.sin(o),s=this.y0+this.rh-t*Math.cos(o);return e.x=a,e.y=s,e}function Dy(e){var t,n,i,r;e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns>=0?(n=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(n=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var o=0;if(0!==n&&(o=Math.atan2(t*e.x,t*e.y)),this.sphere)return r=tg(this.long0+o/this.ns),i=pv(this.g-n/this.a),e.x=r,e.y=i,e;var a=this.g-n/this.a;return i=gv(a,this.e0,this.e1,this.e2,this.e3),r=tg(this.long0+o/this.ns),e.x=r,e.y=i,e}var Ny=["Equidistant_Conic","eqdc"],Fy={init:Gy,forward:Oy,inverse:Dy,names:Ny};function Uy(){this.R=this.a}function By(e){var t,n,i=e.x,r=e.y,o=tg(i-this.long0);Math.abs(r)<=lp&&(t=this.x0+this.R*o,n=this.y0);var a=Fv(2*Math.abs(r/Math.PI));(Math.abs(o)<=lp||Math.abs(Math.abs(r)-rp)<=lp)&&(t=this.x0,n=r>=0?this.y0+Math.PI*this.R*Math.tan(.5*a):this.y0+Math.PI*this.R*-Math.tan(.5*a));var s=.5*Math.abs(Math.PI/o-o/Math.PI),l=s*s,u=Math.sin(a),c=Math.cos(a),h=c/(u+c-1),d=h*h,p=h*(2/u-1),g=p*p,f=Math.PI*this.R*(s*(h-g)+Math.sqrt(l*(h-g)*(h-g)-(g+l)*(d-g)))/(g+l);o<0&&(f=-f),t=this.x0+f;var m=l+h;return f=Math.PI*this.R*(p*m-s*Math.sqrt((g+l)*(l+1)-m*m))/(g+l),n=r>=0?this.y0+f:this.y0-f,e.x=t,e.y=n,e}function jy(e){var t,n,i,r,o,a,s,l,u,c,h,d,p;return e.x-=this.x0,e.y-=this.y0,h=Math.PI*this.R,i=e.x/h,r=e.y/h,o=i*i+r*r,a=-Math.abs(r)*(1+o),s=a-2*r*r+i*i,l=-2*a+1+2*r*r+o*o,p=r*r/l+(2*s*s*s/l/l/l-9*a*s/l/l)/27,u=(a-s*s/3/l)/l,c=2*Math.sqrt(-u/3),h=3*p/u/c,Math.abs(h)>1&&(h=h>=0?1:-1),d=Math.acos(h)/3,n=e.y>=0?(-c*Math.cos(d+Math.PI/3)-s/3/l)*Math.PI:-(-c*Math.cos(d+Math.PI/3)-s/3/l)*Math.PI,t=Math.abs(i)<lp?this.long0:tg(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(i*i-r*r)+o*o))/2/i),e.x=t,e.y=n,e}var zy=["Van_der_Grinten_I","VanDerGrinten","vandg"],Wy={init:Uy,forward:By,inverse:jy,names:zy};function Vy(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function Yy(e){var t,n,i,r,o,a,s,l,u,c,h,d,p,g,f,m,v,y,A,_,C,I,E,w=e.x,b=e.y,x=Math.sin(e.y),S=Math.cos(e.y),P=tg(w-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=lp?(e.x=this.x0+this.a*(rp-b)*Math.sin(P),e.y=this.y0-this.a*(rp-b)*Math.cos(P),e):Math.abs(this.sin_p12+1)<=lp?(e.x=this.x0+this.a*(rp+b)*Math.sin(P),e.y=this.y0+this.a*(rp+b)*Math.cos(P),e):(y=this.sin_p12*x+this.cos_p12*S*Math.cos(P),m=Math.acos(y),v=m?m/Math.sin(m):1,e.x=this.x0+this.a*v*S*Math.sin(P),e.y=this.y0+this.a*v*(this.cos_p12*x-this.sin_p12*S*Math.cos(P)),e):(t=lv(this.es),n=uv(this.es),i=cv(this.es),r=hv(this.es),Math.abs(this.sin_p12-1)<=lp?(o=this.a*sv(t,n,i,r,rp),a=this.a*sv(t,n,i,r,b),e.x=this.x0+(o-a)*Math.sin(P),e.y=this.y0-(o-a)*Math.cos(P),e):Math.abs(this.sin_p12+1)<=lp?(o=this.a*sv(t,n,i,r,rp),a=this.a*sv(t,n,i,r,b),e.x=this.x0+(o+a)*Math.sin(P),e.y=this.y0+(o+a)*Math.cos(P),e):(s=x/S,l=dv(this.a,this.e,this.sin_p12),u=dv(this.a,this.e,x),c=Math.atan((1-this.es)*s+this.es*l*this.sin_p12/(u*S)),h=Math.atan2(Math.sin(P),this.cos_p12*Math.tan(c)-this.sin_p12*Math.cos(P)),A=0===h?Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):Math.abs(Math.abs(h)-Math.PI)<=lp?-Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):Math.asin(Math.sin(P)*Math.cos(c)/Math.sin(h)),d=this.e*this.sin_p12/Math.sqrt(1-this.es),p=this.e*this.cos_p12*Math.cos(h)/Math.sqrt(1-this.es),g=d*p,f=p*p,_=A*A,C=_*A,I=C*A,E=I*A,m=l*A*(1-_*f*(1-f)/6+C/8*g*(1-2*f)+I/120*(f*(4-7*f)-3*d*d*(1-7*f))-E/48*g),e.x=this.x0+m*Math.sin(h),e.y=this.y0+m*Math.cos(h),e))}function Hy(e){var t,n,i,r,o,a,s,l,u,c,h,d,p,g,f,m,v,y,A,_,C,I,E,w;if(e.x-=this.x0,e.y-=this.y0,this.sphere){if(t=Math.sqrt(e.x*e.x+e.y*e.y),t>2*rp*this.a)return;return n=t/this.a,i=Math.sin(n),r=Math.cos(n),o=this.long0,Math.abs(t)<=lp?a=this.lat0:(a=Fv(r*this.sin_p12+e.y*i*this.cos_p12/t),s=Math.abs(this.lat0)-rp,o=Math.abs(s)<=lp?this.lat0>=0?tg(this.long0+Math.atan2(e.x,-e.y)):tg(this.long0-Math.atan2(-e.x,e.y)):tg(this.long0+Math.atan2(e.x*i,t*this.cos_p12*r-e.y*this.sin_p12*i))),e.x=o,e.y=a,e}return l=lv(this.es),u=uv(this.es),c=cv(this.es),h=hv(this.es),Math.abs(this.sin_p12-1)<=lp?(d=this.a*sv(l,u,c,h,rp),t=Math.sqrt(e.x*e.x+e.y*e.y),p=d-t,a=gv(p/this.a,l,u,c,h),o=tg(this.long0+Math.atan2(e.x,-1*e.y)),e.x=o,e.y=a,e):Math.abs(this.sin_p12+1)<=lp?(d=this.a*sv(l,u,c,h,rp),t=Math.sqrt(e.x*e.x+e.y*e.y),p=t-d,a=gv(p/this.a,l,u,c,h),o=tg(this.long0+Math.atan2(e.x,e.y)),e.x=o,e.y=a,e):(t=Math.sqrt(e.x*e.x+e.y*e.y),m=Math.atan2(e.x,e.y),g=dv(this.a,this.e,this.sin_p12),v=Math.cos(m),y=this.e*this.cos_p12*v,A=-y*y/(1-this.es),_=3*this.es*(1-A)*this.sin_p12*this.cos_p12*v/(1-this.es),C=t/g,I=C-A*(1+A)*Math.pow(C,3)/6-_*(1+3*A)*Math.pow(C,4)/24,E=1-A*I*I/2-C*I*I*I/6,f=Math.asin(this.sin_p12*Math.cos(I)+this.cos_p12*Math.sin(I)*v),o=tg(this.long0+Math.asin(Math.sin(m)*Math.sin(I)/Math.cos(f))),w=Math.sin(f),a=Math.atan2((w-this.es*E*this.sin_p12)*Math.tan(f),w*(1-this.es)),e.x=o,e.y=a,e)}var qy=["Azimuthal_Equidistant","aeqd"],Xy={init:Vy,forward:Yy,inverse:Hy,names:qy};function Zy(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function Ky(e){var t,n,i,r,o,a,s,l,u=e.x,c=e.y;return i=tg(u-this.long0),t=Math.sin(c),n=Math.cos(c),r=Math.cos(i),a=this.sin_p14*t+this.cos_p14*n*r,o=1,(a>0||Math.abs(a)<=lp)&&(s=this.a*o*n*Math.sin(i),l=this.y0+this.a*o*(this.cos_p14*t-this.sin_p14*n*r)),e.x=s,e.y=l,e}function Jy(e){var t,n,i,r,o,a,s;return e.x-=this.x0,e.y-=this.y0,t=Math.sqrt(e.x*e.x+e.y*e.y),n=Fv(t/this.a),i=Math.sin(n),r=Math.cos(n),a=this.long0,Math.abs(t)<=lp?(s=this.lat0,e.x=a,e.y=s,e):(s=Fv(r*this.sin_p14+e.y*i*this.cos_p14/t),o=Math.abs(this.lat0)-rp,Math.abs(o)<=lp?(a=this.lat0>=0?tg(this.long0+Math.atan2(e.x,-e.y)):tg(this.long0-Math.atan2(-e.x,e.y)),e.x=a,e.y=s,e):(a=tg(this.long0+Math.atan2(e.x*i,t*this.cos_p14*r-e.y*this.sin_p14*i)),e.x=a,e.y=s,e))}var Qy=["ortho"],$y={init:Zy,forward:Ky,inverse:Jy,names:Qy},eA={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},tA={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function nA(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=rp-hp/2?this.face=eA.TOP:this.lat0<=-(rp-hp/2)?this.face=eA.BOTTOM:Math.abs(this.long0)<=hp?this.face=eA.FRONT:Math.abs(this.long0)<=rp+hp?this.face=this.long0>0?eA.RIGHT:eA.LEFT:this.face=eA.BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function iA(e){var t,n,i,r,o,a,s={x:0,y:0},l={value:0};if(e.x-=this.long0,t=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(e.y)):e.y,n=e.x,this.face===eA.TOP)r=rp-t,n>=hp&&n<=rp+hp?(l.value=tA.AREA_0,i=n-rp):n>rp+hp||n<=-(rp+hp)?(l.value=tA.AREA_1,i=n>0?n-pp:n+pp):n>-(rp+hp)&&n<=-hp?(l.value=tA.AREA_2,i=n+rp):(l.value=tA.AREA_3,i=n);else if(this.face===eA.BOTTOM)r=rp+t,n>=hp&&n<=rp+hp?(l.value=tA.AREA_0,i=-n+rp):n<hp&&n>=-hp?(l.value=tA.AREA_1,i=-n):n<-hp&&n>=-(rp+hp)?(l.value=tA.AREA_2,i=-n-rp):(l.value=tA.AREA_3,i=n>0?-n+pp:-n-pp);else{var u,c,h,d,p,g,f;this.face===eA.RIGHT?n=aA(n,+rp):this.face===eA.BACK?n=aA(n,+pp):this.face===eA.LEFT&&(n=aA(n,-rp)),d=Math.sin(t),p=Math.cos(t),g=Math.sin(n),f=Math.cos(n),u=p*f,c=p*g,h=d,this.face===eA.FRONT?(r=Math.acos(u),i=oA(r,h,c,l)):this.face===eA.RIGHT?(r=Math.acos(c),i=oA(r,h,-u,l)):this.face===eA.BACK?(r=Math.acos(-u),i=oA(r,h,-c,l)):this.face===eA.LEFT?(r=Math.acos(-c),i=oA(r,h,u,l)):(r=i=0,l.value=tA.AREA_0)}return a=Math.atan(12/pp*(i+Math.acos(Math.sin(i)*Math.cos(hp))-rp)),o=Math.sqrt((1-Math.cos(r))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(i))))),l.value===tA.AREA_1?a+=rp:l.value===tA.AREA_2?a+=pp:l.value===tA.AREA_3&&(a+=1.5*pp),s.x=o*Math.cos(a),s.y=o*Math.sin(a),s.x=s.x*this.a+this.x0,s.y=s.y*this.a+this.y0,e.x=s.x,e.y=s.y,e}function rA(e){var t,n,i,r,o,a,s,l,u,c,h,d,p={lam:0,phi:0},g={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,n=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),t=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?g.value=tA.AREA_0:e.y>=0&&e.y>=Math.abs(e.x)?(g.value=tA.AREA_1,t-=rp):e.x<0&&-e.x>=Math.abs(e.y)?(g.value=tA.AREA_2,t=t<0?t+pp:t-pp):(g.value=tA.AREA_3,t+=rp),u=pp/12*Math.tan(t),o=Math.sin(u)/(Math.cos(u)-1/Math.sqrt(2)),a=Math.atan(o),i=Math.cos(t),r=Math.tan(n),s=1-i*i*r*r*(1-Math.cos(Math.atan(1/Math.cos(a)))),s<-1?s=-1:s>1&&(s=1),this.face===eA.TOP)l=Math.acos(s),p.phi=rp-l,g.value===tA.AREA_0?p.lam=a+rp:g.value===tA.AREA_1?p.lam=a<0?a+pp:a-pp:g.value===tA.AREA_2?p.lam=a-rp:p.lam=a;else if(this.face===eA.BOTTOM)l=Math.acos(s),p.phi=l-rp,g.value===tA.AREA_0?p.lam=-a+rp:g.value===tA.AREA_1?p.lam=-a:g.value===tA.AREA_2?p.lam=-a-rp:p.lam=a<0?-a-pp:-a+pp;else{var f,m,v;f=s,u=f*f,v=u>=1?0:Math.sqrt(1-u)*Math.sin(a),u+=v*v,m=u>=1?0:Math.sqrt(1-u),g.value===tA.AREA_1?(u=m,m=-v,v=u):g.value===tA.AREA_2?(m=-m,v=-v):g.value===tA.AREA_3&&(u=m,m=v,v=-u),this.face===eA.RIGHT?(u=f,f=-m,m=u):this.face===eA.BACK?(f=-f,m=-m):this.face===eA.LEFT&&(u=f,f=m,m=-u),p.phi=Math.acos(-v)-rp,p.lam=Math.atan2(m,f),this.face===eA.RIGHT?p.lam=aA(p.lam,-rp):this.face===eA.BACK?p.lam=aA(p.lam,-pp):this.face===eA.LEFT&&(p.lam=aA(p.lam,+rp))}0!==this.es&&(c=p.phi<0?1:0,h=Math.tan(p.phi),d=this.b/Math.sqrt(h*h+this.one_minus_f_squared),p.phi=Math.atan(Math.sqrt(this.a*this.a-d*d)/(this.one_minus_f*d)),c&&(p.phi=-p.phi));return p.lam+=this.long0,e.x=p.lam,e.y=p.phi,e}function oA(e,t,n,i){var r;return e<lp?(i.value=tA.AREA_0,r=0):(r=Math.atan2(t,n),Math.abs(r)<=hp?i.value=tA.AREA_0:r>hp&&r<=rp+hp?(i.value=tA.AREA_1,r-=rp):r>rp+hp||r<=-(rp+hp)?(i.value=tA.AREA_2,r=r>=0?r-pp:r+pp):(i.value=tA.AREA_3,r+=rp)),r}function aA(e,t){var n=e+t;return n<-pp?n+=dp:n>+pp&&(n-=dp),n}var sA=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"],lA={init:nA,forward:iA,inverse:rA,names:sA},uA=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],cA=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],hA=.8487,dA=1.3523,pA=cp/5,gA=1/pA,fA=18,mA=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))},vA=function(e,t){return e[1]+t*(2*e[2]+3*t*e[3])};function yA(e,t,n,i){for(var r=t;i;--i){var o=e(r);if(r-=o,Math.abs(o)<n)break}return r}function AA(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function _A(e){var t=tg(e.x-this.long0),n=Math.abs(e.y),i=Math.floor(n*pA);i<0?i=0:i>=fA&&(i=fA-1),n=cp*(n-gA*i);var r={x:mA(uA[i],n)*t,y:mA(cA[i],n)};return e.y<0&&(r.y=-r.y),r.x=r.x*this.a*hA+this.x0,r.y=r.y*this.a*dA+this.y0,r}function CA(e){var t={x:(e.x-this.x0)/(this.a*hA),y:Math.abs(e.y-this.y0)/(this.a*dA)};if(t.y>=1)t.x/=uA[fA][0],t.y=e.y<0?-rp:rp;else{var n=Math.floor(t.y*fA);for(n<0?n=0:n>=fA&&(n=fA-1);;)if(cA[n][0]>t.y)--n;else{if(!(cA[n+1][0]<=t.y))break;++n}var i=cA[n],r=5*(t.y-i[0])/(cA[n+1][0]-i[0]);r=yA((function(e){return(mA(i,e)-t.y)/vA(i,e)}),r,lp,100),t.x/=mA(uA[n],r),t.y=(5*n+r)*up,e.y<0&&(t.y=-t.y)}return t.x=tg(t.x+this.long0),t}var IA=["Robinson","robin"],EA={init:AA,forward:_A,inverse:CA,names:IA};function wA(){this.name="geocent"}function bA(e){var t=zg(e,this.es,this.a);return t}function xA(e){var t=Wg(e,this.es,this.a,this.b);return t}var SA=["Geocentric","geocentric","geocent","Geocent"],PA={init:wA,forward:bA,inverse:xA,names:SA},MA={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},kA={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function RA(){if(Object.keys(kA).forEach(function(e){if("undefined"===typeof this[e])this[e]=kA[e].def;else{if(kA[e].num&&isNaN(this[e]))throw new Error("Invalid parameter value, must be numeric "+e+" = "+this[e]);kA[e].num&&(this[e]=parseFloat(this[e]))}kA[e].degrees&&(this[e]=this[e]*up)}.bind(this)),Math.abs(Math.abs(this.lat0)-rp)<lp?this.mode=this.lat0<0?MA.S_POLE:MA.N_POLE:Math.abs(this.lat0)<lp?this.mode=MA.EQUIT:(this.mode=MA.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var e=this.tilt,t=this.azi;this.cg=Math.cos(t),this.sg=Math.sin(t),this.cw=Math.cos(e),this.sw=Math.sin(e)}function TA(e){e.x-=this.long0;var t,n,i,r,o=Math.sin(e.y),a=Math.cos(e.y),s=Math.cos(e.x);switch(this.mode){case MA.OBLIQ:n=this.sinph0*o+this.cosph0*a*s;break;case MA.EQUIT:n=a*s;break;case MA.S_POLE:n=-o;break;case MA.N_POLE:n=o;break}switch(n=this.pn1/(this.p-n),t=n*a*Math.sin(e.x),this.mode){case MA.OBLIQ:n*=this.cosph0*o-this.sinph0*a*s;break;case MA.EQUIT:n*=o;break;case MA.N_POLE:n*=-a*s;break;case MA.S_POLE:n*=a*s;break}return i=n*this.cg+t*this.sg,r=1/(i*this.sw*this.h1+this.cw),t=(t*this.cg-n*this.sg)*this.cw*r,n=i*r,e.x=t*this.a,e.y=n*this.a,e}function LA(e){e.x/=this.a,e.y/=this.a;var t,n,i,r={x:e.x,y:e.y};i=1/(this.pn1-e.y*this.sw),t=this.pn1*e.x*i,n=this.pn1*e.y*this.cw*i,e.x=t*this.cg+n*this.sg,e.y=n*this.cg-t*this.sg;var o=rm(e.x,e.y);if(Math.abs(o)<lp)r.x=0,r.y=e.y;else{var a,s;switch(s=1-o*o*this.pfact,s=(this.p-Math.sqrt(s))/(this.pn1/o+o/this.pn1),a=Math.sqrt(1-s*s),this.mode){case MA.OBLIQ:r.y=Math.asin(a*this.sinph0+e.y*s*this.cosph0/o),e.y=(a-this.sinph0*Math.sin(r.y))*o,e.x*=s*this.cosph0;break;case MA.EQUIT:r.y=Math.asin(e.y*s/o),e.y=a*o,e.x*=s;break;case MA.N_POLE:r.y=Math.asin(a),e.y=-e.y;break;case MA.S_POLE:r.y=-Math.asin(a);break}r.x=Math.atan2(e.x,e.y)}return e.x=r.x+this.long0,e.y=r.y,e}var GA=["Tilted_Perspective","tpers"],OA={init:RA,forward:TA,inverse:LA,names:GA};function DA(){if(this.flip_axis="x"===this.sweep?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,0!==this.es){var e=1-this.es,t=1/e;this.radius_p=Math.sqrt(e),this.radius_p2=e,this.radius_p_inv2=t,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function NA(e){var t,n,i,r,o=e.x,a=e.y;if(o-=this.long0,"ellipse"===this.shape){a=Math.atan(this.radius_p2*Math.tan(a));var s=this.radius_p/rm(this.radius_p*Math.cos(a),Math.sin(a));if(n=s*Math.cos(o)*Math.cos(a),i=s*Math.sin(o)*Math.cos(a),r=s*Math.sin(a),(this.radius_g-n)*n-i*i-r*r*this.radius_p_inv2<0)return e.x=Number.NaN,e.y=Number.NaN,e;t=this.radius_g-n,this.flip_axis?(e.x=this.radius_g_1*Math.atan(i/rm(r,t)),e.y=this.radius_g_1*Math.atan(r/t)):(e.x=this.radius_g_1*Math.atan(i/t),e.y=this.radius_g_1*Math.atan(r/rm(i,t)))}else"sphere"===this.shape&&(t=Math.cos(a),n=Math.cos(o)*t,i=Math.sin(o)*t,r=Math.sin(a),t=this.radius_g-n,this.flip_axis?(e.x=this.radius_g_1*Math.atan(i/rm(r,t)),e.y=this.radius_g_1*Math.atan(r/t)):(e.x=this.radius_g_1*Math.atan(i/t),e.y=this.radius_g_1*Math.atan(r/rm(i,t))));return e.x=e.x*this.a,e.y=e.y*this.a,e}function FA(e){var t,n,i,r,o=-1,a=0,s=0;if(e.x=e.x/this.a,e.y=e.y/this.a,"ellipse"===this.shape){this.flip_axis?(s=Math.tan(e.y/this.radius_g_1),a=Math.tan(e.x/this.radius_g_1)*rm(1,s)):(a=Math.tan(e.x/this.radius_g_1),s=Math.tan(e.y/this.radius_g_1)*rm(1,a));var l=s/this.radius_p;if(t=a*a+l*l+o*o,n=2*this.radius_g*o,i=n*n-4*t*this.C,i<0)return e.x=Number.NaN,e.y=Number.NaN,e;r=(-n-Math.sqrt(i))/(2*t),o=this.radius_g+r*o,a*=r,s*=r,e.x=Math.atan2(a,o),e.y=Math.atan(s*Math.cos(e.x)/o),e.y=Math.atan(this.radius_p_inv2*Math.tan(e.y))}else if("sphere"===this.shape){if(this.flip_axis?(s=Math.tan(e.y/this.radius_g_1),a=Math.tan(e.x/this.radius_g_1)*Math.sqrt(1+s*s)):(a=Math.tan(e.x/this.radius_g_1),s=Math.tan(e.y/this.radius_g_1)*Math.sqrt(1+a*a)),t=a*a+s*s+o*o,n=2*this.radius_g*o,i=n*n-4*t*this.C,i<0)return e.x=Number.NaN,e.y=Number.NaN,e;r=(-n-Math.sqrt(i))/(2*t),o=this.radius_g+r*o,a*=r,s*=r,e.x=Math.atan2(a,o),e.y=Math.atan(s*Math.cos(e.x)/o)}return e.x=e.x+this.long0,e}var UA=["Geostationary Satellite View","Geostationary_Satellite","geos"],BA={init:DA,forward:NA,inverse:FA,names:UA};function jA(e){e.Proj.projections.add(nm),e.Proj.projections.add(fm),e.Proj.projections.add(_m),e.Proj.projections.add(Tm),e.Proj.projections.add(Fm),e.Proj.projections.add(Wm),e.Proj.projections.add(Km),e.Proj.projections.add(tv),e.Proj.projections.add(av),e.Proj.projections.add(Av),e.Proj.projections.add(Nv),e.Proj.projections.add(Vv),e.Proj.projections.add(Zv),e.Proj.projections.add(ty),e.Proj.projections.add(ay),e.Proj.projections.add(dy),e.Proj.projections.add(vy),e.Proj.projections.add(Iy),e.Proj.projections.add(Py),e.Proj.projections.add(Ly),e.Proj.projections.add(Fy),e.Proj.projections.add(Wy),e.Proj.projections.add(Xy),e.Proj.projections.add($y),e.Proj.projections.add(lA),e.Proj.projections.add(EA),e.Proj.projections.add(PA),e.Proj.projections.add(OA),e.Proj.projections.add(BA)}lf.defaultDatum="WGS84",lf.Proj=Bg,lf.WGS84=new lf.Proj("WGS84"),lf.Point=Of,lf.toPoint=Qg,lf.defs=jp,lf.nadgrid=Pg,lf.transform=nf,lf.mgrs=vf,lf.version="__VERSION__",jA(lf);var zA=lf,WA=n(2899),VA=Un.getLogger("CRS");function YA(e){const t=Object.keys(e.defs);VA.trace("proj. codes :",t);const n=t.length;let i,r;for(i=0;i<n;++i){const n=t[i];if(!(0,ne.Jt)(n)){const t=e.defs(n);(0,ne.bF)(new hr.A({code:n,axisOrientation:t.axis,metersPerUnit:t.to_meter,units:t.units}))}}for(i=0;i<n;++i){const o=t[i],a=(0,ne.Jt)(o);for(r=0;r<n;++r){const n=t[r],i=(0,ne.Jt)(n);if(!(0,WA.Jt)(o,n))if(e.defs[o]===e.defs[n])(0,ne.O3)([a,i]);else{const t=e(o,n);(0,ne.hB)(a,i,t.forward,t.inverse)}}}}var HA={isLoaded:!1,get:function(e){if(""!==e&&null!==e&&"undefined"!==typeof e){var t=e.split(":");if(2===t.length){var n=t[0],i=t[1];if(this.hasOwnProperty(n)&&this[n].hasOwnProperty(i))return this[n][i]}}},exist:function(e){if(""===e||null===e||"undefined"===typeof e)return!1;var t=e.split(":");if(2!==t.length)return!1;var n=t[0],i=t[1];return!!this.hasOwnProperty(n)&&!!this[n].hasOwnProperty(i)},load:function(e){if(!this.isLoaded){for(var t=["IGNF","EPSG","CRS"],n=0;n<t.length;n++){var i=t[n],r=this[i];for(var o in r)if(r.hasOwnProperty(o)){var a=i+":"+o;e.defs(a,this.get(a))}}this.isLoaded=!0}},loadByDefault:function(e){var t={EPSG:{2154:HA["EPSG"]["2154"],27571:HA["EPSG"]["27571"],27572:HA["EPSG"]["27572"],27573:HA["EPSG"]["27573"],27574:HA["EPSG"]["27574"]},CRS:{84:HA["CRS"]["84"]},IGNF:{LAMB93:HA["IGNF"]["LAMB93"],LAMBE:HA["IGNF"]["LAMBE"],LAMB1:HA["IGNF"]["LAMB1"],LAMB2:HA["IGNF"]["LAMB2"],LAMB3:HA["IGNF"]["LAMB3"],LAMB4:HA["IGNF"]["LAMB4"],RGF93G:HA["IGNF"]["RGF93G"],WGS84G:HA["IGNF"]["WGS84G"]}};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];for(var r in i)if(i.hasOwnProperty(r)){var o=n+":"+r;e.defs(o,i[r])}}},loadByName:function(e,t){if(!this.exist(t))return!1;try{e.defs(t,this.get(t))}catch(nw){return!1}return!0},EPSG:{4978:"+proj=geocent +datum=WGS84 +units=m +no_defs ",3857:"+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs",3785:"+title=WGS 84 / Pseudo-Mercator (deprecated) +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs",4149:"+title=CH1903 +proj=longlat +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +no_defs ",4150:"+title=CH1903plus +proj=longlat +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +no_defs ",4151:"+title=CHTRF95 +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ",4171:"+title=RGF93 +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ",4230:"+title=ED50 +proj=longlat +ellps=intl +no_defs ",4235:"+title=Guyane Francaise +proj=longlat +ellps=intl +no_defs ",4258:"+title=ETRS89 +proj=longlat +ellps=GRS80 +no_defs ",4275:"+title=NTF +proj=longlat +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +no_defs ",4322:"+title=WGS 72 +proj=longlat +ellps=WGS72 +no_defs ",4326:"+title=WGS 84 +proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs ",4467:"+proj=utm +zone=21 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",4470:"+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ",4471:"+proj=utm +zone=38 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",4474:"+proj=utm +zone=38 +south +ellps=intl +towgs84=-382,-59,-262,0,0,0,0 +units=m +no_defs ",4558:"+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ",4559:"+proj=utm +zone=20 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",4621:"+title=Fort Marigot +proj=longlat +ellps=intl +towgs84=137,248,-430,0,0,0,0 +no_defs ",4622:"+title=Guadeloupe 1948 +proj=longlat +ellps=intl +no_defs ",4623:"+title=CSG67 +proj=longlat +ellps=intl +towgs84=-186,230,110,0,0,0,0 +no_defs ",4624:"+title=RGFG95 +proj=longlat +ellps=GRS80 +towgs84=2,2,-2,0,0,0,0 +no_defs ",4625:"+title=Martinique 1938 +proj=longlat +ellps=intl +no_defs ",4626:"+title=Reunion 1947 +proj=longlat +ellps=intl +no_defs ",4627:"+title=RGR92 +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ",4628:"+title=Tahiti 52 +proj=longlat +ellps=intl +towgs84=162,117,154,0,0,0,0 +no_defs ",4629:"+title=Tahaa 54 +proj=longlat +ellps=intl +no_defs ",4630:"+title=IGN72 Nuku Hiva +proj=longlat +ellps=intl +no_defs ",4632:"+title=Combani 1950 +proj=longlat +ellps=intl +towgs84=-382,-59,-262,0,0,0,0 +no_defs ",4633:"+title=IGN56 Lifou +proj=longlat +ellps=intl +no_defs ",4634:"+title=IGN72 Grand Terre +proj=longlat +ellps=intl +no_defs ",4637:"+title=Perroud 1950 +proj=longlat +ellps=intl +towgs84=325,154,172,0,0,0,0 +no_defs ",4638:"+title=Saint Pierre et Miquelon 1950 +proj=longlat +ellps=clrk66 +towgs84=30,430,368,0,0,0,0 +no_defs ",4640:"+title=RRAF 1991 +proj=longlat +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +no_defs ",4641:"+title=IGN53 Mare +proj=longlat +ellps=intl +no_defs ",4645:"+title=RGNC 1991 +proj=longlat +ellps=intl +towgs84=0,0,0,0,0,0,0 +no_defs ",4687:"+proj=longlat +ellps=GRS80 +no_defs ",4662:"+title=IGN72 Grande Terre +proj=longlat +ellps=intl +no_defs ",4689:"+title=IGN63 Hiva Oa +proj=longlat +ellps=intl +no_defs ",4690:"+title=Tahiti 79 +proj=longlat +ellps=intl +no_defs ",4691:"+title=Moorea 87 +proj=longlat +ellps=intl +towgs84=215.525,149.593,176.229,-3.2624,-1.692,-1.1571,10.4773 +no_defs ",4692:"+title=Maupiti 83 +proj=longlat +ellps=intl +towgs84=217.037,86.959,23.956,0,0,0,0 +no_defs ",4698:"+title=IGN 1962 Kerguelen +proj=longlat +ellps=intl +towgs84=145,-187,103,0,0,0,0 +no_defs ",4749:"+title=RGNC91-93 +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ",4750:"+title=ST87 Ouvea +proj=longlat +ellps=WGS84 +towgs84=-56.263,16.136,-22.856,0,0,0,0 +no_defs ",4807:"+title=NTF (Paris) +proj=longlat +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +no_defs ",2056:"+title=CH1903+ / LV95 +proj=somerc +lat_0=46.95240555555556 +lon_0=7.439583333333333 +x_0=2600000 +y_0=1200000 +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +units=m +no_defs ",2154:"+title=RGF93 / Lambert-93 +proj=lcc +lat_1=49 +lat_2=44 +lat_0=46.5 +lon_0=3 +x_0=700000 +y_0=6600000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",2213:"+title=ETRS89 / TM 30 NE +proj=tmerc +lat_0=0 +lon_0=30 +k=0.9996 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ",2969:"+title=Fort Marigot / UTM zone 20N +proj=utm +zone=20 +ellps=intl +towgs84=137,248,-430,0,0,0,0 +units=m +no_defs ",2970:"+title=Guadeloupe 1948 / UTM zone 20N +proj=utm +zone=20 +ellps=intl +units=m +no_defs ",2971:"+title=CSG67 / UTM zone 22N +proj=utm +zone=22 +ellps=intl +towgs84=-186,230,110,0,0,0,0 +units=m +no_defs ",2972:"+title=RGFG95 / UTM zone 22N +proj=utm +zone=22 +ellps=GRS80 +towgs84=2,2,-2,0,0,0,0 +units=m +no_defs ",2973:"+title=Martinique 1938 / UTM zone 20N +proj=utm +zone=20 +ellps=intl +units=m +no_defs ",2975:"+title=RGR92 / UTM zone 40S +proj=utm +zone=40 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",2976:"+title=Tahiti 52 / UTM zone 6S +proj=utm +zone=6 +south +ellps=intl +towgs84=162,117,154,0,0,0,0 +units=m +no_defs ",2977:"+title=Tahaa 54 / UTM zone 5S +proj=utm +zone=5 +south +ellps=intl +units=m +no_defs ",2978:"+title=IGN72 Nuku Hiva / UTM zone 7S +proj=utm +zone=7 +south +ellps=intl +units=m +no_defs ",2980:"+title=Combani 1950 / UTM zone 38S +proj=utm +zone=38 +south +ellps=intl +towgs84=-382,-59,-262,0,0,0,0 +units=m +no_defs ",2981:"+title=IGN56 Lifou / UTM zone 58S +proj=utm +zone=58 +south +ellps=intl +units=m +no_defs ",2982:"+title=IGN72 Grand Terre / UTM zone 58S (deprecated) +proj=utm +zone=58 +south +ellps=intl +units=m +no_defs ",2984:"+title=RGNC 1991 / Lambert New Caledonia (deprecated) +proj=lcc +lat_1=-20.66666666666667 +lat_2=-22.33333333333333 +lat_0=-21.5 +lon_0=166 +x_0=400000 +y_0=300000 +ellps=intl +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",2986:"+title=Terre Adelie 1950 +proj=stere +towgs84=324.9120,153.2820,172.0260 +a=6378388.0000 +rf=297.0000000000000 +lat_0=-90.000000000 +lon_0=140.000000000 +lat_ts=-67.000000000 +k=0.96027295 +x_0=300000.000 +y_0=-2299363.482 +units=m +no_defs",2987:"+title=Saint Pierre et Miquelon 1950 / UTM zone 21N +proj=utm +zone=21 +ellps=clrk66 +towgs84=30,430,368,0,0,0,0 +units=m +no_defs ",2989:"+title=RRAF 1991 / UTM zone 20N +proj=utm +zone=20 +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",2990:"+title=Reunion 1947 / TM Reunion (deprecated) +proj=tmerc +lat_0=-21.11666666666667 +lon_0=55.53333333333333 +k=1 +x_0=50000 +y_0=160000 +ellps=intl +units=m +no_defs ",2995:"+title=IGN53 Mare / UTM zone 58S +proj=utm +zone=58 +south +ellps=intl +units=m +no_defs ",3038:"+proj=utm +zone=26 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3039:"+proj=utm +zone=27 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3040:"+proj=utm +zone=28 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3041:"+proj=utm +zone=29 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3045:"+proj=utm +zone=33 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3046:"+proj=utm +zone=34 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3047:"+proj=utm +zone=35 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3048:"+proj=utm +zone=36 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3049:"+proj=utm +zone=37 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3050:"+proj=utm +zone=38 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3051:"+proj=utm +zone=39 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3034:"+title=ETRS89 / ETRS-LCC +proj=lcc +lat_1=35 +lat_2=65 +lat_0=52 +lon_0=10 +x_0=4000000 +y_0=2800000 +ellps=GRS80 +units=m +no_defs ",3035:"+title=ETRS89 / ETRS-LAEA +proj=laea +lat_0=52 +lon_0=10 +x_0=4321000 +y_0=3210000 +ellps=GRS80 +units=m +no_defs ",3042:"+title=ETRS89 / ETRS-TM30 +proj=utm +zone=30 +ellps=GRS80 +units=m +no_defs ",3043:"+title=ETRS89 / ETRS-TM31 +proj=utm +zone=31 +ellps=GRS80 +units=m +no_defs ",3044:"+title=ETRS89 / ETRS-TM32 +proj=utm +zone=32 +ellps=GRS80 +units=m +no_defs ",25828:"+proj=utm +zone=28 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",25829:"+proj=utm +zone=29 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",25833:"+proj=utm +zone=33 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",25834:"+proj=utm +zone=34 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",25835:"+proj=utm +zone=35 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",25836:"+proj=utm +zone=36 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",25837:"+proj=utm +zone=37 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",25838:"+proj=utm +zone=38 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3060:"+title=IGN72 Grande Terre / UTM zone 58S +proj=utm +zone=58 +south +ellps=intl +units=m +no_defs ",3163:"+title=RGNC91-93 / Lambert New Caledonia +proj=lcc +lat_1=-20.66666666666667 +lat_2=-22.33333333333333 +lat_0=-21.5 +lon_0=166 +x_0=400000 +y_0=300000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3164:"+title=ST87 Ouvea / UTM zone 58S +proj=utm +zone=58 +south +ellps=WGS84 +towgs84=-56.263,16.136,-22.856,0,0,0,0 +units=m +no_defs ",3165:"+title=NEA74 Noumea / Noumea Lambert +proj=lcc +lat_1=-22.24469175 +lat_2=-22.29469175 +lat_0=-22.26969175 +lon_0=166.44242575 +x_0=0.66 +y_0=1.02 +ellps=intl +units=m +no_defs ",3166:"+title=NEA74 Noumea / Noumea Lambert 2 +proj=lcc +lat_1=-22.24472222222222 +lat_2=-22.29472222222222 +lat_0=-22.26972222222222 +lon_0=166.4425 +x_0=8.313000000000001 +y_0=-2.354 +ellps=intl +units=m +no_defs ",3169:"+title=RGNC91-93 / UTM zone 57S +proj=utm +zone=57 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3170:"+title=RGNC91-93 / UTM zone 58S +proj=utm +zone=58 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3171:"+title=RGNC91-93 / UTM zone 59S +proj=utm +zone=59 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3172:"+title=IGN53 Mare / UTM zone 59S +proj=utm +zone=59 +south +ellps=intl +units=m +no_defs ",3296:"+title=RGPF / UTM zone 5S +proj=utm +zone=5 +south +ellps=GRS80 +units=m +no_defs ",3297:"+title=RGPF / UTM zone 6S +proj=utm +zone=6 +south +ellps=GRS80 +units=m +no_defs ",3298:"+title=RGPF / UTM zone 7S +proj=utm +zone=7 +south +ellps=GRS80 +units=m +no_defs ",3299:"+title=RGPF / UTM zone 8S +proj=utm +zone=8 +south +ellps=GRS80 +units=m +no_defs ",3302:"+title=IGN63 Hiva Oa / UTM zone 7S +proj=utm +zone=7 +south +ellps=intl +units=m +no_defs ",3303:"+title=Fatu Iva 72 / UTM zone 7S +proj=utm +zone=7 +south +ellps=intl +towgs84=347.103,1078.12,2623.92,-33.8875,70.6773,-9.3943,186.074 +units=m +no_defs ",3304:"+title=Tahiti 79 / UTM zone 6S +proj=utm +zone=6 +south +ellps=intl +units=m +no_defs ",3305:"+title=Moorea 87 / UTM zone 6S +proj=utm +zone=6 +south +ellps=intl +towgs84=215.525,149.593,176.229,-3.2624,-1.692,-1.1571,10.4773 +units=m +no_defs ",3306:"+title=Maupiti 83 / UTM zone 5S +proj=utm +zone=5 +south +ellps=intl +towgs84=217.037,86.959,23.956,0,0,0,0 +units=m +no_defs ",3312:"+title=CSG67 / UTM zone 21N +proj=utm +zone=21 +ellps=intl +towgs84=-186,230,110,0,0,0,0 +units=m +no_defs ",3313:"+title=RGFG95 / UTM zone 21N +proj=utm +zone=21 +ellps=GRS80 +towgs84=2,2,-2,0,0,0,0 +units=m +no_defs ",3336:"+title=IGN 1962 Kerguelen / UTM zone 42S +proj=utm +zone=42 +south +ellps=intl +towgs84=145,-187,103,0,0,0,0 +units=m +no_defs ",3395:"+title=WGS 84 / World Mercator +proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",3727:"+title=Reunion 1947 / TM Reunion +proj=tmerc +lat_0=-21.11666666666667 +lon_0=55.53333333333333 +k=1 +x_0=160000 +y_0=50000 +ellps=intl +units=m +no_defs ",21781:"+title=CH1903 / LV03 +proj=somerc +lat_0=46.95240555555556 +lon_0=7.439583333333333 +x_0=600000 +y_0=200000 +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +units=m +no_defs ",25830:"+title=ETRS89 / UTM zone 30N +proj=utm +zone=30 +ellps=GRS80 +units=m +no_defs ",25831:"+title=ETRS89 / UTM zone 31N +proj=utm +zone=31 +ellps=GRS80 +units=m +no_defs ",25832:"+title=ETRS89 / UTM zone 32N +proj=utm +zone=32 +ellps=GRS80 +units=m +no_defs ",27561:"+title=NTF (Paris) / Lambert Nord France +proj=lcc +lat_1=49.50000000000001 +lat_0=49.50000000000001 +lon_0=0 +k_0=0.999877341 +x_0=600000 +y_0=200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27562:"+title=NTF (Paris) / Lambert Centre France +proj=lcc +lat_1=46.8 +lat_0=46.8 +lon_0=0 +k_0=0.99987742 +x_0=600000 +y_0=200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27563:"+title=NTF (Paris) / Lambert Sud France +proj=lcc +lat_1=44.10000000000001 +lat_0=44.10000000000001 +lon_0=0 +k_0=0.9998774990000001 +x_0=600000 +y_0=200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27564:"+title=NTF (Paris) / Lambert Corse +proj=lcc +lat_1=42.16500000000001 +lat_0=42.16500000000001 +lon_0=0 +k_0=0.9999447100000001 +x_0=234.358 +y_0=185861.369 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27571:"+title=NTF (Paris) / Lambert zone I +proj=lcc +lat_1=49.50000000000001 +lat_0=49.50000000000001 +lon_0=0 +k_0=0.999877341 +x_0=600000 +y_0=1200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27572:"+title=NTF (Paris) / Lambert zone II +proj=lcc +lat_1=46.8 +lat_0=46.8 +lon_0=0 +k_0=0.99987742 +x_0=600000 +y_0=2200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27573:"+title=NTF (Paris) / Lambert zone III +proj=lcc +lat_1=44.10000000000001 +lat_0=44.10000000000001 +lon_0=0 +k_0=0.9998774990000001 +x_0=600000 +y_0=3200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27574:"+title=NTF (Paris) / Lambert zone IV +proj=lcc +lat_1=42.16500000000001 +lat_0=42.16500000000001 +lon_0=0 +k_0=0.9999447100000001 +x_0=234.358 +y_0=4185861.369 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27581:"+title=NTF (Paris) / France I (deprecated) +proj=lcc +lat_1=49.50000000000001 +lat_0=49.50000000000001 +lon_0=0 +k_0=0.999877341 +x_0=600000 +y_0=1200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27582:"+title=NTF (Paris) / France II (deprecated) +proj=lcc +lat_1=46.8 +lat_0=46.8 +lon_0=0 +k_0=0.99987742 +x_0=600000 +y_0=2200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27583:"+title=NTF (Paris) / France III (deprecated) +proj=lcc +lat_1=44.10000000000001 +lat_0=44.10000000000001 +lon_0=0 +k_0=0.9998774990000001 +x_0=600000 +y_0=3200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27584:"+title=NTF (Paris) / France IV (deprecated) +proj=lcc +lat_1=42.16500000000001 +lat_0=42.16500000000001 +lon_0=0 +k_0=0.9999447100000001 +x_0=234.358 +y_0=4185861.369 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27591:"+title=NTF (Paris) / Nord France (deprecated) +proj=lcc +lat_1=49.50000000000001 +lat_0=49.50000000000001 +lon_0=0 +k_0=0.999877341 +x_0=600000 +y_0=200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27592:"+title=NTF (Paris) / Centre France (deprecated) +proj=lcc +lat_1=46.8 +lat_0=46.8 +lon_0=0 +k_0=0.99987742 +x_0=600000 +y_0=200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27593:"+title=NTF (Paris) / Sud France (deprecated) +proj=lcc +lat_1=44.10000000000001 +lat_0=44.10000000000001 +lon_0=0 +k_0=0.9998774990000001 +x_0=600000 +y_0=200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27594:"+title=NTF (Paris) / Corse (deprecated) +proj=lcc +lat_1=42.16500000000001 +lat_0=42.16500000000001 +lon_0=0 +k_0=0.9999447100000001 +x_0=234.358 +y_0=185861.369 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",32601:"+proj=utm +zone=1 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32602:"+proj=utm +zone=2 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32603:"+proj=utm +zone=3 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32604:"+proj=utm +zone=4 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32605:"+proj=utm +zone=5 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32606:"+proj=utm +zone=6 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32607:"+proj=utm +zone=7 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32608:"+proj=utm +zone=8 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32609:"+proj=utm +zone=9 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32610:"+proj=utm +zone=10 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32611:"+proj=utm +zone=11 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32612:"+proj=utm +zone=12 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32613:"+proj=utm +zone=13 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32614:"+proj=utm +zone=14 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32615:"+proj=utm +zone=15 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32616:"+proj=utm +zone=16 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32617:"+proj=utm +zone=17 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32618:"+proj=utm +zone=18 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32619:"+proj=utm +zone=19 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32620:"+proj=utm +zone=20 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32621:"+proj=utm +zone=21 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32622:"+proj=utm +zone=22 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32623:"+proj=utm +zone=23 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32624:"+proj=utm +zone=24 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32625:"+proj=utm +zone=25 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32626:"+proj=utm +zone=26 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32627:"+proj=utm +zone=27 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32628:"+proj=utm +zone=28 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32629:"+proj=utm +zone=29 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32630:"+proj=utm +zone=30 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32631:"+proj=utm +zone=31 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32632:"+proj=utm +zone=32 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32633:"+proj=utm +zone=33 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32634:"+proj=utm +zone=34 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32635:"+proj=utm +zone=35 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32636:"+proj=utm +zone=36 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32637:"+proj=utm +zone=37 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32638:"+proj=utm +zone=38 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32639:"+proj=utm +zone=39 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32640:"+proj=utm +zone=40 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32641:"+proj=utm +zone=41 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32642:"+proj=utm +zone=42 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32643:"+proj=utm +zone=43 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32644:"+proj=utm +zone=44 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32645:"+proj=utm +zone=45 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32646:"+proj=utm +zone=46 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32647:"+proj=utm +zone=47 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32648:"+proj=utm +zone=48 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32649:"+proj=utm +zone=49 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32650:"+proj=utm +zone=50 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32651:"+proj=utm +zone=51 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32652:"+proj=utm +zone=52 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32653:"+proj=utm +zone=53 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32654:"+proj=utm +zone=54 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32655:"+proj=utm +zone=55 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32656:"+proj=utm +zone=56 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32657:"+proj=utm +zone=57 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32658:"+proj=utm +zone=58 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32659:"+proj=utm +zone=59 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32660:"+proj=utm +zone=60 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32661:"+proj=stere +lat_0=90 +lat_ts=90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32662:"+title=WGS 84 / Plate Carree +proj=eqc +lat_ts=0 +lon_0=0 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32701:"+proj=utm +zone=1 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32702:"+proj=utm +zone=2 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32703:"+proj=utm +zone=3 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32704:"+proj=utm +zone=4 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32705:"+proj=utm +zone=5 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32706:"+proj=utm +zone=6 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32707:"+proj=utm +zone=7 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32708:"+proj=utm +zone=8 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32709:"+proj=utm +zone=9 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32710:"+proj=utm +zone=10 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32711:"+proj=utm +zone=11 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32712:"+proj=utm +zone=12 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32713:"+proj=utm +zone=13 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32714:"+proj=utm +zone=14 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32715:"+proj=utm +zone=15 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32716:"+proj=utm +zone=16 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32717:"+proj=utm +zone=17 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32718:"+proj=utm +zone=18 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32719:"+proj=utm +zone=19 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32720:"+proj=utm +zone=20 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32721:"+proj=utm +zone=21 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32722:"+proj=utm +zone=22 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32723:"+proj=utm +zone=23 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32724:"+proj=utm +zone=24 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32725:"+proj=utm +zone=25 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32726:"+proj=utm +zone=26 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32727:"+proj=utm +zone=27 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32728:"+proj=utm +zone=28 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32729:"+proj=utm +zone=29 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32730:"+proj=utm +zone=30 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32731:"+proj=utm +zone=31 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32732:"+proj=utm +zone=32 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32733:"+proj=utm +zone=33 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32734:"+proj=utm +zone=34 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32735:"+proj=utm +zone=35 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32736:"+proj=utm +zone=36 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32737:"+proj=utm +zone=37 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32738:"+proj=utm +zone=38 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32739:"+proj=utm +zone=39 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32740:"+proj=utm +zone=40 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32741:"+proj=utm +zone=41 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32742:"+proj=utm +zone=42 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32743:"+proj=utm +zone=43 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32744:"+proj=utm +zone=44 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32745:"+proj=utm +zone=45 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32746:"+proj=utm +zone=46 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32747:"+proj=utm +zone=47 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32748:"+proj=utm +zone=48 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32749:"+proj=utm +zone=49 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32750:"+proj=utm +zone=50 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32751:"+proj=utm +zone=51 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32752:"+proj=utm +zone=52 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32753:"+proj=utm +zone=53 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32754:"+proj=utm +zone=54 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32755:"+proj=utm +zone=55 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32756:"+proj=utm +zone=56 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32757:"+proj=utm +zone=57 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32758:"+proj=utm +zone=58 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32759:"+proj=utm +zone=59 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32760:"+proj=utm +zone=60 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32761:"+proj=stere +lat_0=-90 +lat_ts=-90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",310024802:"+title=Geoportail - France metropolitaine +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=46.500000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310915814:"+title=Geoportail - Antilles francaises +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=15.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310486805:"+title=Geoportail - Guyane +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=4.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310700806:"+title=Geoportail - Reunion et dependances +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-21.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310702807:"+title=Geoportail - Mayotte +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-12.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310706808:"+title=Geoportail - Saint-Pierre et Miquelon +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=47.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310547809:"+title=Geoportail - Nouvelle-Caledonie +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-22.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310642810:"+title=Geoportail - Wallis et Futuna +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.000000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-14.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310032811:"+title=Geoportail - Polynesie francaise +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-15.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310642812:"+title=Geoportail - Kerguelen +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-49.500000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310642801:"+title=Geoportail - Crozet +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-46.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310642813:"+title=Geoportail - Amsterdam et Saint-Paul +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-38.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310642901:"+title=Geoportail - Monde +proj=mill +towgs84=0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.000000 +a=6378137.0000 +rf=298.2572221010000 +lon_0=0.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",5489:"+title=RGAF09 geographiques (dms) +proj=longlat +nadgrids=@null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137 +rf=298.257222101 +units=m +no_defs",5490:"+title=RGAF09 UTM Nord Fuseau 20 +proj=tmerc +nadgrids=@null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137 +rf=298.257222101 +lat_0=0.000000000 +lon_0=-63.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs"},CRS:{84:"+title=WGS 84 longitude-latitude +proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs "},IGNF:{AMST63:"+title=Amsterdam 1963 +proj=geocent +towgs84=109.753,-528.133,-362.244,0,0,0,0 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",CROZ63:"+title=Crozet 1963 +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",CSG67:"+title=Guyane CSG67 +proj=geocent +towgs84=-193.0660,236.9930,105.4470,0.4814,-0.8074,0.1276,1.564900 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",ED50:"+title=ED50 +proj=geocent +towgs84=-84.0000,-97.0000,-117.0000 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",ETRS89:"+title=Systeme de reference terrestre Europeen (1989) +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",GUAD48:"+title=Guadeloupe Ste Anne +proj=geocent +towgs84=-472.2900,-5.6300,-304.1200,0.4362,-0.8374,0.2563,1.898400 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",GUADFM49:"+title=Guadeloupe Fort Marigot +proj=geocent +towgs84=136.5960,248.1480,-429.7890 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",IGN63:"+title=IGN 1963 (Hiva Oa, Tahuata, Mohotani) +proj=geocent +towgs84=410.7210,55.0490,80.7460,-2.5779,-2.3514,-0.6664,17.331100 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",IGN72:"+title=IGN 1972 Grande-Terre / Ile des Pins +proj=geocent +towgs84=-11.6400,-348.6000,291.6800 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",KERG62CAR:"+title=Kerguelen - K0 +proj=geocent +towgs84=144.8990,-186.7700,100.9230 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",MART38:"+title=Martinique Fort-Desaix +proj=geocent +towgs84=126.9260,547.9390,130.4090,-2.7867,5.1612,-0.8584,13.822650 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",MAYO50:"+title=Mayotte Combani +proj=geocent +towgs84=-599.9280,-275.5520,-195.6650,-0.0835,-0.4715,0.0602,49.281400 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",MOOREA87:"+title=Moorea 1987 +proj=geocent +towgs84=215.9820,149.5930,176.2290,3.2624,1.6920,1.1571,10.477300 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",NTF:"+title=Nouvelle Triangulation Francaise +proj=geocent +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +units=m +no_defs",NUKU72:"+title=IGN 1972 Nuku Hiva +proj=geocent +towgs84=165.7320,216.7200,180.5050,-0.6434,-0.4512,-0.0791,7.420400 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",REUN47:"+title=Reunion 1947 +proj=geocent +towgs84=789.5240,-626.4860,-89.9040,0.6006,76.7946,-10.5788,-32.324100 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",RGF93:"+title=Reseau geodesique francais 1993 +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGFG95:"+title=Reseau geodesique francais de Guyane 1995 +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGM04:"+title=RGM04 (Reseau Geodesique de Mayotte 2004) +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGNC:"+title=Reseau Geodesique de Nouvelle-Caledonie +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGPF:"+title=RGPF (Reseau Geodesique de Polynesie Francaise) +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGR92:"+title=Reseau geodesique Reunion 1992 +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGSPM06:"+title=Reseau Geodesique Saint-Pierre-et-Miquelon (2006) +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGTAAF07:"+title=Reseau Geodesique des TAAF (2007) +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RRAF91:"+title=RRAF 1991 (Reseau de Reference des Antilles Francaises) +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",STPL69:"+title=Saint-Paul 1969 +proj=geocent +towgs84=225.571,-346.608,-46.567,0,0,0,0 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",STPM50:"+title=St Pierre et Miquelon 1950 +proj=geocent +towgs84=-95.5930,573.7630,173.4420,-0.9602,1.2510,-1.3918,42.626500 +a=6378206.4000 +rf=294.9786982000000 +units=m +no_defs",TAHAA:"+title=Raiatea - Tahaa 51-54 (Tahaa, Base Terme Est) +proj=geocent +towgs84=72.4380,345.9180,79.4860,-1.6045,-0.8823,-0.5565,1.374600 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",TAHI79:"+title=IGN79 (Tahiti) Iles de la Societe +proj=geocent +towgs84=221.5250,152.9480,176.7680,2.3847,1.3896,0.8770,11.474100 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",TERA50:"+title=Pointe Geologie - Perroud 1950 +proj=geocent +towgs84=324.9120,153.2820,172.0260 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",WALL78:"+title=Wallis-Uvea 1978 (MOP78) +proj=geocent +towgs84=253.0000,-133.0000,-127.0000 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",WGS72:"+title=World Geodetic System 1972 +proj=geocent +towgs84=0.0000,12.0000,6.0000 +a=6378135.0000 +rf=298.2600000000000 +units=m +no_defs",WGS84:"+title=World Geodetic System 1984 +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",AMST63GEO:"+title=Amsterdam 1963 +proj=longlat +towgs84=109.753,-528.133,-362.244,0,0,0,0 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",CROZ63GEO:"+title=Crozet 1963 +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",CSG67GEO:"+title=Guyane CSG67 +proj=longlat +towgs84=-193.0660,236.9930,105.4470,0.4814,-0.8074,0.1276,1.564900 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",ED50G:"+title=ED50 +proj=longlat +towgs84=-84.0000,-97.0000,-117.0000 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",GUAD48GEO:"+title=Guadeloupe Ste Anne +proj=longlat +towgs84=-472.2900,-5.6300,-304.1200,0.4362,-0.8374,0.2563,1.898400 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",GUADFM49GEO:"+title=Guadeloupe Fort Marigot +proj=longlat +towgs84=136.5960,248.1480,-429.7890 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",IGN63GEO:"+title=IGN 1963 (Hiva Oa, Tahuata, Mohotani) +proj=longlat +towgs84=410.7210,55.0490,80.7460,-2.5779,-2.3514,-0.6664,17.331100 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",IGN72GEO:"+title=IGN 1972 Grande-Terre / Ile des Pins +proj=longlat +towgs84=-11.6400,-348.6000,291.6800 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",KERG62GEO:"+title=Kerguelen - K0 +proj=longlat +towgs84=144.8990,-186.7700,100.9230 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",MART38GEO:"+title=Martinique Fort-Desaix +proj=longlat +towgs84=126.9260,547.9390,130.4090,-2.7867,5.1612,-0.8584,13.822650 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",MAYO50GEO:"+title=Mayotte Combani +proj=longlat +towgs84=-599.9280,-275.5520,-195.6650,-0.0835,-0.4715,0.0602,49.281400 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",MOOREA87GEO:"+title=Moorea 1987 +proj=longlat +towgs84=215.9820,149.5930,176.2290,3.2624,1.6920,1.1571,10.477300 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",NTFG:"+title=Nouvelle Triangulation Francaise Greenwich degres sexagesimaux +proj=longlat +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +units=m +no_defs",NTFP:"+title=Nouvelle Triangulation Francaise Paris grades +proj=longlat +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +units=m +no_defs",NUKU72GEO:"+title=IGN 1972 Nuku Hiva +proj=longlat +towgs84=165.7320,216.7200,180.5050,-0.6434,-0.4512,-0.0791,7.420400 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",REUN47GEO:"+title=Reunion 1947 +proj=longlat +towgs84=789.5240,-626.4860,-89.9040,0.6006,76.7946,-10.5788,-32.324100 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",RGF93G:"+title=Reseau geodesique francais 1993 +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGFG95GEO:"+title=Reseau geodesique francais de Guyane 1995 +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGM04GEO:"+title=RGM04 (Reseau Geodesique de Mayotte 2004) +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGNCGEO:"+title=Reseau Geodesique de Nouvelle-Caledonie +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGPFGEO:"+title=RGPF (Reseau Geodesique de Polynesie Francaise) +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGR92GEO:"+title=Reseau geodesique de la Reunion 1992 +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGSPM06GEO:"+title=Saint-Pierre-et-Miquelon (2006) +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGTAAF07G:"+title=Reseau Geodesique des TAAF (2007) (dms) +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",STPL69GEO:"+title=Saint-Paul 1969 +proj=longlat +towgs84=225.571,-346.608,-46.567,0,0,0,0 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",STPM50GEO:"+title=St Pierre et Miquelon 1950  +proj=longlat +towgs84=-95.5930,573.7630,173.4420,-0.9602,1.2510,-1.3918,42.626500 +a=6378206.4000 +rf=294.9786982000000 +units=m +no_defs",TAHAAGEO:"+title=Raiatea - Tahaa 51-54 (Tahaa, Base Terme Est) +proj=longlat +towgs84=72.4380,345.9180,79.4860,-1.6045,-0.8823,-0.5565,1.374600 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",TAHI79GEO:"+title=IGN79 (Tahiti) Iles de la Societe +proj=longlat +towgs84=221.5250,152.9480,176.7680,2.3847,1.3896,0.8770,11.474100 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",TERA50G:"+title=Pointe Geologie - Perroud 1950 +proj=longlat +towgs84=324.9120,153.2820,172.0260 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",WALL78GEO:"+title=Wallis - Uvea 1978 (MOP78) +proj=longlat +towgs84=253.0000,-133.0000,-127.0000 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",WGS72G:"+title=WGS72 +proj=longlat +towgs84=0.0000,12.0000,6.0000 +a=6378135.0000 +rf=298.2600000000000 +units=m +no_defs",WGS84G:"+title=World Geodetic System 1984 +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",WGS84RRAFGEO:"+title=Reseau de reference des Antilles francaises (1988-1991) +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",XGEO:"+title=Systeme CIO-BIH +proj=longlat +towgs84=0.0000,0.0000,0.5000,0.0000,0.0000,0.0140,-0.100000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",AMST63UTM43S:"+title=Amsterdam 1963 UTM fuseau 43 Sud +proj=tmerc +towgs84=109.753,-528.133,-362.244,0,0,0,0 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=75.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",CROZ63UTM39S:"+title=Crozet 1963 +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=51.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",CSG67UTM21:"+title=Guyane CSG67 UTM fuseau 21 +proj=tmerc +towgs84=-193.0660,236.9930,105.4470,0.4814,-0.8074,0.1276,1.564900 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-57.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",CSG67UTM22:"+title=Guyane CSG67 UTM fuseau 22 +proj=tmerc +towgs84=-193.0660,236.9930,105.4470,0.4814,-0.8074,0.1276,1.564900 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-51.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",GEOPORTALANF:"+title=Geoportail - Antilles francaises +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=15.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALASP:"+title=Geoportail - Amsterdam et Saint-Paul +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-38.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALCRZ:"+title=Geoportail - Crozet +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-46.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALFXX:"+title=Geoportail - France metropolitaine +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=46.500000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALGUF:"+title=Geoportail - Guyane +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=4.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALKER:"+title=Geoportail - Kerguelen +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-49.500000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALMYT:"+title=Geoportail - Mayotte +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-12.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALNCL:"+title=Geoportail - Nouvelle-Caledonie +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-22.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALPYF:"+title=Geoportail - Polynesie francaise +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-15.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALREU:"+title=Geoportail - Reunion et dependances +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-21.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALSPM:"+title=Geoportail - Saint-Pierre et Miquelon +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=47.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALWLF:"+title=Geoportail - Wallis et Futuna +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-14.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GUAD48UTM20:"+title=Guadeloupe Ste Anne +proj=tmerc +towgs84=-472.2900,-5.6300,-304.1200,0.4362,-0.8374,0.2563,1.898400 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-63.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",GUADFM49U20:"+title=Guadeloupe Fort Marigot  +proj=tmerc +towgs84=136.5960,248.1480,-429.7890 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-63.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",IGN63UTM7S:"+title=IGN 1963 - Hiva Oa, Tahuata, Mohotani - UTM fuseau 7 Sud +proj=tmerc +towgs84=410.7210,55.0490,80.7460,-2.5779,-2.3514,-0.6664,17.331100 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-141.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",IGN72UTM58S:"+title=IGN 1972 - UTM fuseau 58 Sud +proj=tmerc +towgs84=-11.6400,-348.6000,291.6800 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=165.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",KERG62UTM42S:"+title=Kerguelen 1962 +proj=tmerc +towgs84=144.8990,-186.7700,100.9230 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=69.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",LAMB1:"+title=Lambert I +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=49.500000000 +lon_0=0.000000000 +k_0=0.99987734 +lat_1=49.500000000 +x_0=600000.000 +y_0=200000.000 +units=m +no_defs",LAMB1C:"+title=Lambert I Carto +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=49.500000000 +lon_0=0.000000000 +k_0=0.99987734 +lat_1=49.500000000 +x_0=600000.000 +y_0=1200000.000 +units=m +no_defs",LAMB2:"+title=Lambert II +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=46.800000000 +lon_0=0.000000000 +k_0=0.99987742 +lat_1=46.800000000 +x_0=600000.000 +y_0=200000.000 +units=m +no_defs",LAMB2C:"+title=Lambert II Carto +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=46.800000000 +lon_0=0.000000000 +k_0=0.99987742 +lat_1=46.800000000 +x_0=600000.000 +y_0=2200000.000 +units=m +no_defs",LAMB3:"+title=Lambert III +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=44.100000000 +lon_0=0.000000000 +k_0=0.99987750 +lat_1=44.100000000 +x_0=600000.000 +y_0=200000.000 +units=m +no_defs",LAMB3C:"+title=Lambert III Carto +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=44.100000000 +lon_0=0.000000000 +k_0=0.99987750 +lat_1=44.100000000 +x_0=600000.000 +y_0=3200000.000 +units=m +no_defs",LAMB4:"+title=Lambert IV +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=42.165000000 +lon_0=0.000000000 +k_0=0.99994471 +lat_1=42.165000000 +x_0=234.358 +y_0=185861.369 +units=m +no_defs",LAMB4C:"+title=Lambert IV Carto +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=42.165000000 +lon_0=0.000000000 +k_0=0.99994471 +lat_1=42.165000000 +x_0=234.358 +y_0=4185861.369 +units=m +no_defs",LAMB93:"+title=Lambert 93 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=46.500000000 +lon_0=3.000000000 +lat_1=44.000000000 +lat_2=49.000000000 +x_0=700000.000 +y_0=6600000.000 +units=m +no_defs",RGF93CC42:"+title=Lambert conique conforme Zone 1 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=42.000000000 +lon_0=3.000000000 +lat_1=41.200000000 +lat_2=42.800000000 +x_0=1700000.000 +y_0=1200000.000 +units=m +no_defs",RGF93CC43:"+title=Lambert conique conforme Zone 2 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=43.000000000 +lon_0=3.000000000 +lat_1=42.200000000 +lat_2=43.800000000 +x_0=1700000.000 +y_0=2200000.000 +units=m +no_defs",RGF93CC44:"+title=Lambert conique conforme Zone 3 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=44.000000000 +lon_0=3.000000000 +lat_1=43.200000000 +lat_2=44.800000000 +x_0=1700000.000 +y_0=3200000.000 +units=m +no_defs",RGF93CC45:"+title=Lambert conique conforme Zone 4 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=45.000000000 +lon_0=3.000000000 +lat_1=44.200000000 +lat_2=45.800000000 +x_0=1700000.000 +y_0=4200000.000 +units=m +no_defs",RGF93CC46:"+title=Lambert conique conforme Zone 5 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=46.000000000 +lon_0=3.000000000 +lat_1=45.200000000 +lat_2=46.800000000 +x_0=1700000.000 +y_0=5200000.000 +units=m +no_defs",RGF93CC47:"+title=Lambert conique conforme Zone 6 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=47.000000000 +lon_0=3.000000000 +lat_1=46.200000000 +lat_2=47.800000000 +x_0=1700000.000 +y_0=6200000.000 +units=m +no_defs",RGF93CC48:"+title=Lambert conique conforme Zone 7 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=48.000000000 +lon_0=3.000000000 +lat_1=47.200000000 +lat_2=48.800000000 +x_0=1700000.000 +y_0=7200000.000 +units=m +no_defs",RGF93CC49:"+title=Lambert conique conforme Zone 8 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=49.000000000 +lon_0=3.000000000 +lat_1=48.200000000 +lat_2=49.800000000 +x_0=1700000.000 +y_0=8200000.000 +units=m +no_defs",RGF93CC50:"+title=Lambert conique conforme Zone 9 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=50.000000000 +lon_0=3.000000000 +lat_1=49.200000000 +lat_2=50.800000000 +x_0=1700000.000 +y_0=9200000.000 +units=m +no_defs",LAMBE:"+title=Lambert II etendu +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=46.800000000 +lon_0=0.000000000 +k_0=0.99987742 +lat_1=46.800000000 +x_0=600000.000 +y_0=2200000.000 +units=m +no_defs",MART38UTM20:"+title=Martinique Fort-Desaix +proj=tmerc +towgs84=126.9260,547.9390,130.4090,-2.7867,5.1612,-0.8584,13.822650 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-63.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",MAYO50UTM38S:"+title=Mayotte Combani +proj=tmerc +towgs84=-599.9280,-275.5520,-195.6650,-0.0835,-0.4715,0.0602,49.281400 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=45.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",MILLER:"+title=Geoportail - Monde +proj=mill +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lon_0=0.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",MOOREA87U6S:"+title=Moorea 1987 - UTM fuseau 6 Sud +proj=tmerc +towgs84=215.9820,149.5930,176.2290,3.2624,1.6920,1.1571,10.477300 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-147.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",NUKU72U7S:"+title=IGN 1972 Nuku Hiva - UTM fuseau 7 Sud +proj=tmerc +towgs84=165.7320,216.7200,180.5050,-0.6434,-0.4512,-0.0791,7.420400 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-141.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGM04UTM38S:"+title=UTM fuseau 38 Sud (Reseau Geodesique de Mayotte 2004) +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=45.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGNCUTM57S:"+title=Reseau Geodesique de Nouvelle-Caledonie - UTM fuseau 57 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=159.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGNCUTM58S:"+title=Reseau Geodesique de Nouvelle-Caledonie - UTM fuseau 58 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=165.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGNCUTM59S:"+title=Reseau Geodesique de Nouvelle-Caledonie - UTM fuseau 59 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=171.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGPFUTM5S:"+title=RGPF - UTM fuseau 5 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-153.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGPFUTM6S:"+title=RGPF - UTM fuseau 6 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-147.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGPFUTM7S:"+title=RGPF - UTM fuseau 7 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-141.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGR92UTM40S:"+title=RGR92 UTM fuseau 40 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=57.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGSPM06U21:"+title=Saint-Pierre-et-Miquelon (2006) UTM Fuseau 21 Nord +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-57.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",STPL69UTM43S:"+title=Saint-Paul 1969 UTM fuseau 43 Sud +proj=tmerc +towgs84=225.571,-346.608,-46.567,0,0,0,0 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=75.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",STPM50UTM21:"+title=St Pierre et Miquelon 1950 +proj=tmerc +towgs84=-95.5930,573.7630,173.4420,-0.9602,1.2510,-1.3918,42.626500 +a=6378206.4000 +rf=294.9786982000000 +lat_0=0.000000000 +lon_0=-57.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",TAHAAUTM05S:"+title=Tahaa 1951 +proj=tmerc +towgs84=72.4380,345.9180,79.4860,-1.6045,-0.8823,-0.5565,1.374600 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-153.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",TAHI51UTM06S:"+title=Tahiti-Terme Nord UTM fuseau 6 Sud +proj=tmerc +towgs84=162.0000,117.0000,154.0000 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-147.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",TAHI79UTM6S:"+title=Tahiti 1979 +proj=tmerc +towgs84=221.5250,152.9480,176.7680,2.3847,1.3896,0.8770,11.474100 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-147.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",TERA50STEREO:"+title=Terre Adelie 1950 +proj=stere +towgs84=324.9120,153.2820,172.0260 +a=6378388.0000 +rf=297.0000000000000 +lat_0=-90.000000000 +lon_0=140.000000000 +lat_ts=-67 +k=0.96027295 +x_0=300000.000 +y_0=-2299363.482 +units=m +no_defs",UTM01SW84:"+title=World Geodetic System 1984 UTM fuseau 01 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-177.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",UTM20W84GUAD:"+title=World Geodetic System 1984 UTM fuseau 20 Nord-Guadeloupe +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-63.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM20W84MART:"+title=World Geodetic System 1984 UTM fuseau 20 Nord-Martinique +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-63.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM22RGFG95:"+title=RGFG95 UTM fuseau 22 Nord-Guyane +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-51.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM39SW84:"+title=World Geodetic System 1984 UTM fuseau 39 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=51.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",UTM42SW84:"+title=World Geodetic System 1984 UTM fuseau 42 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=69.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",UTM43SW84:"+title=World Geodetic System 1984 UTM fuseau 43 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=75.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",WALL78UTM1S:"+title=Wallis-Uvea 1978 (MOP78) UTM 1 SUD +proj=tmerc +towgs84=253.0000,-133.0000,-127.0000 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-177.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",ETRS89GEO:"+title=ETRS89 geographiques (dms) +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",ETRS89LAEA:"+title=ETRS89 Lambert Azimutal Equal Area +proj=laea +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=52.000000000 +lon_0=10.000000000 +x_0=4321000.000 +y_0=3210000.000 +units=m +no_defs",ETRS89LCC:"+title=ETRS89 Lambert Conformal Conic +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=52.000000000 +lon_0=9.999999995 +lat_1=35.000000000 +lat_2=65.000000000 +x_0=4000000.000 +y_0=2800000.000 +units=m +no_defs",UTM26ETRS89:"+title=Europe - de 30d a 24d Ouest +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-27.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM27ETRS89:"+title=Europe - de 24d a 18d Ouest +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-21.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM28ETRS89:"+title=Europe - de 18d a 12d Ouest +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-15.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM29ETRS89:"+title=Europe - de 12d a 6d Ouest +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-9.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM30ETRS89:"+title=Europe - de -6d a 0d Ouest +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-3.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM31ETRS89:"+title=Europe - de 0d a 6d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=3.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM32ETRS89:"+title=Europe - de 6d a 12d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=9.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM33ETRS89:"+title=Europe - de 12d a 18d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=15.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM34ETRS89:"+title=Europe - de 18d a 24d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=21.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM35ETRS89:"+title=Europe - de 24d a 30d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=27.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM36ETRS89:"+title=Europe - de 30d a 36d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=33.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM37ETRS89:"+title=Europe - de 36d a 42d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=39.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM38ETRS89:"+title=Europe - de 42d a 48d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=45.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs"}},qA=HA,XA=Un.getLogger("CRS"),ZA={projectionsExtent:{"EPSG:2154":{left:-9.62,bottom:41.18,right:10.3,top:51.54},"EPSG:27572":{left:-4.87,bottom:42.33,right:8.23,top:51.14}},load:function(){if(XA.trace("Loading custom definitions projections"),!qA.isLoaded){qA.load(zA);try{YA(zA),window.ol&&window.ol.proj&&window.ol.proj.proj4&&(window.ol.proj.proj4.register=YA,window.ol.proj.proj4.register(zA))}catch(nw){XA.error(nw)}}},loadByDefault:function(){if(XA.trace("Loading custom definitions projections by default"),!qA.isLoaded){qA.loadByDefault(zA);try{YA(zA),window.ol&&window.ol.proj&&window.ol.proj.proj4&&(window.ol.proj.proj4.register=YA,window.ol.proj.proj4.register(zA))}catch(nw){XA.error(nw)}}},loadByName:function(e){if(XA.trace("Loading a custom definition projection : ",e),!qA.isLoaded){qA.loadByName(zA,e);try{YA(zA),window.ol&&window.ol.proj&&window.ol.proj.proj4&&(window.ol.proj.proj4.register=YA,window.ol.proj.proj4.register(zA))}catch(nw){XA.error(nw)}}},overload:function(){for(var e in XA.trace("Loading projections aera (extent)"),this.projectionsExtent)if(this.projectionsExtent.hasOwnProperty(e)){var t=this.projectionsExtent[e],n=(0,ne.Jt)(e),i=(0,ne.RG)("EPSG:4326",n),r=(0,h.NW)([t.bottom,t.right,t.top,t.left],i);n.setExtent(r),(0,ne.bF)(n),window.ol&&window.ol.proj&&window.ol.proj.addProjection&&window.ol.proj.addProjection(n)}}},KA=ZA;window.ol&&window.ol.proj&&window.ol.proj.proj4&&(window.ol.proj.proj4.register=YA);var JA={_addUID:function(e){var t=this._uid?e+"-"+this._uid:e;return t},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPmousePosition"),e.className="GPwidget gpf-widget",e},_createShowMousePositionPictoElement:function(e){var t=this,n=document.createElement("button");return n.id=this._addUID("GPshowMousePositionPicto"),n.className="GPshowOpen GPshowAdvancedToolPicto gpf-btn fr-btn",n.title="Afficher les coordonnées du curseur",n.setAttribute("tabindex","0"),n.setAttribute("aria-pressed",!1),n.addEventListener?n.addEventListener("click",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t.onShowMousePositionClick()})):n.attachEvent&&n.attachEvent("onclick",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t.onShowMousePositionClick()})),n},_createMousePositionPanelElement:function(){var e=document.createElement("dialog");return e.id=this._addUID("GPmousePositionPanel"),e.className="GPpanel gpf-panel fr-modal",this._panelMousePositionContainer=e,e},_createMousePositionPanelDivElement:function(){var e=document.createElement("div");return e.className="gpf-panel__body fr-modal__body",e},_createMapCenter:function(){var e=document.createElement("div");return e.id="GPmapCenter",e.className="",e},_createMousePositionPanelTitleElement:function(){var e=document.createElement("div");return e.className="GPpanelTitle gpf-panel__title fr-modal__title",e.id=this._addUID("GPmousePositionHeaderTitle"),e.innerHTML="Coordonnées",e},_createMousePositionPanelHeaderElement:function(){var e=document.createElement("div");return e.className="GPpanelHeader gpf-panel__header fr-modal__header",e},_createMousePositionPanelCloseElement:function(){var e=this,t=document.createElement("button");t.id=this._addUID("GPmousePositionPanelClose"),t.className="GPpanelClose gpf-btn gpf-btn-close fr-btn--close fr-btn",t.title="Fermer le panneau",t.addEventListener?(t.addEventListener("click",(function(){document.getElementById(e._addUID("GPshowMousePositionPicto")).click()}),!1),t.addEventListener("keydown",(function(t){13===t.keyCode&&document.getElementById(e._addUID("GPshowMousePositionPicto")).click()}),!1)):t.attachEvent&&(t.attachEvent("onclick",(function(){document.getElementById(e._addUID("GPshowMousePositionPicto")).click()})),t.attachEvent("onkeydown",(function(t){13===t.keyCode&&document.getElementById(e._addUID("GPshowMousePositionPicto")).click()})));var n=document.createElement("span");return n.className="GPelementHidden gpf-visible",n.innerText="Fermer",t.appendChild(n),t},_createMousePositionPanelBasicElement:function(e,t,n,i){e="undefined"===typeof e||e,t="undefined"===typeof t||t,n="undefined"!==typeof n&&n;var r=document.createElement("div");return r.id=this._addUID("GPmousePositionBasicPanel"),r.appendChild(this._createMousePositionPanelBasicCoordinateElement(t,n,i)),r.appendChild(this._createMousePositionPanelEditToolsElement(n)),r.appendChild(this._createMousePositionPanelBasicAltitudeElement(e)),r},_createCoordinateElement:function(e,t){var n=this;if(-1===["Lon","Lat"].indexOf(e))return[];var i=[],r=document.createElement("input");r.id=this._addUID("GPmousePosition"+e),r.title=!0===t?"Cliquer pour saisir des coordonnées":"",r.readOnly=!0,t&&(r.addEventListener("click",(function(){n.onMousePositionEditModeClick(!0)})),r.addEventListener("change",(function(t){this.classList.remove("error");var i=n.validateExtentCoordinate(e,this.value,t);i?this.classList.remove("error"):this.classList.add("error")}))),i.push(r);var o=document.createElement("span");return o.className="GPmousePositionUnits",i.push(o),i},_createDMSCoordinateElement:function(e,t){if(-1===["Lon","Lat"].indexOf(e))return[];var n=this,i=[],r=document.createElement("input");r.id=this._addUID("GPmousePosition"+e+"Degrees"),r.className="GPSexagesimal",r.setAttribute("name","degrees"),r.title=!0===t?"Cliquer pour saisir des coordonnées":"",r.readOnly=!0,r.dataset.min=0,r.dataset.max="Lon"===e?180:90,t&&(r.addEventListener("click",(function(){n.onMousePositionEditModeClick(!0)})),r.addEventListener("change",(function(){this.classList.remove("error");var t=n._checkDMSDegrees(e,this);t?this.classList.remove("error"):this.classList.add("error")}))),i.push(r);var o=document.createElement("span");o.className="GPmousePositionSexagesimalLabel",o.innerHTML="°",i.push(o);var a=document.createElement("input");a.id=this._addUID("GPmousePosition"+e+"Minutes"),a.className="GPSexagesimal",a.setAttribute("name","minutes"),a.title=!0===t?"Cliquer pour saisir des coordonnées":"",a.readOnly=!0,a.dataset.min=0,a.dataset.max=59,t&&(a.addEventListener("click",(function(){n.onMousePositionEditModeClick(!0)})),a.addEventListener("change",(function(){this.classList.remove("error");var e=n._checkDMSElement(this);e?this.classList.remove("error"):this.classList.add("error")}))),i.push(a);var s=document.createElement("span");s.className="GPmousePositionSexagesimalLabel",s.innerHTML="'",i.push(s);var l=document.createElement("input");l.id=this._addUID("GPmousePosition"+e+"Seconds"),l.className="GPSexagesimalsec",l.setAttribute("name","seconds"),l.title=!0===t?"Cliquer pour saisir des coordonnées":"",l.readOnly=!0,l.dataset.min=0,l.dataset.max=59,t&&(l.addEventListener("click",(function(){n.onMousePositionEditModeClick(!0)})),l.addEventListener("change",(function(){this.classList.remove("error");var e=n._checkDMSElement(this,!0);e?this.classList.remove("error"):this.classList.add("error")}))),i.push(l);var u=document.createElement("span");u.className="GPmousePositionSexagesimalLabel",u.innerHTML="''",i.push(u);var c=document.createElement("select");c.id=this._addUID("GPmousePosition"+e+"Direction"),c.className="GPmousePositionDirection",c.setAttribute("name","direction"),c.disabled=!0;var h=document.createElement("option");h.value="Lon"===e?"E":"N",h.innerHTML="Lon"===e?"E":"N",c.appendChild(h);var d=document.createElement("option");return d.value="Lon"===e?"O":"S",d.innerHTML="Lon"===e?"O":"S",c.appendChild(d),i.push(c),i},_createMousePositionPanelBasicCoordinateElement:function(e,t,n){var i=document.createElement("div");i.id=this._addUID("GPmousePositionCoordinate"),i.style.display=e?"block":"none";var r=document.createElement("div"),o=document.createElement("span");o.className="GPmousePositionLabel",o.id=this._addUID("GPmousePositionLatLabel"),o.innerHTML="Latitude : ",r.appendChild(o);var a,s=document.createElement("span");s.id=this._addUID("GPmousePositionLatCoordinate"),a="DMS"===n?this._createDMSCoordinateElement("Lat",t):this._createCoordinateElement("Lat",t);for(var l=0;l<a.length;l++)s.appendChild(a[l]);r.appendChild(s),i.appendChild(r);var u=document.createElement("div"),c=document.createElement("span");c.className="GPmousePositionLabel",c.id=this._addUID("GPmousePositionLonLabel"),c.innerHTML="Longitude : ",u.appendChild(c);var h,d=document.createElement("span");d.id=this._addUID("GPmousePositionLonCoordinate"),h="DMS"===n?this._createDMSCoordinateElement("Lon",t):this._createCoordinateElement("Lon",t);for(var p=0;p<h.length;p++)d.appendChild(h[p]);return u.appendChild(d),i.appendChild(u),i},_createMousePositionPanelBasicAltitudeElement:function(e){var t=document.createElement("div");t.id=this._addUID("GPmousePositionAltitude"),t.style.display=e?"block":"none";var n=document.createElement("span");n.className="GPmousePositionLabel",n.innerHTML="Altitude : ",t.appendChild(n);var i=document.createElement("span");i.className="GPmousePositionCoords",i.id=this._addUID("GPmousePositionAlt"),i.innerHTML="...",t.appendChild(i);var r=document.createElement("span");return r.className="GPmousePositionAltitudeUnits",r.innerHTML="m",t.appendChild(r),t},_createMousePositionPanelEditToolsElement:function(e){var t=this,n=document.createElement("div");n.className="GPmousePositionPanelEditTools",n.id=this._addUID("GPmousePositionPanelEditTools"),e||(n.style.display="none");var i=document.createElement("span");i.className="GPmousePositionEditTool",i.id=this._addUID("GPmousePositionLocate"),i.title=!0===e?"Cliquer pour saisir des coordonnées":"",e&&i.addEventListener("click",(function(){t.onMousePositionEditModeLocateClick()})),n.appendChild(i);var r=document.createElement("span");return r.className="GPmousePositionEditTool",r.id=this._addUID("GPmousePositionCloseEdit"),r.title="Quitter la saisie des coordonnées",r.style.display="none",e&&r.addEventListener("click",(function(){t.onMousePositionEditModeClick(!1)})),n.appendChild(r),n},_createShowMousePositionSettingsElement:function(e){var t=this,n=document.createElement("button");return n.id=this._addUID("GPshowMousePositionSettings"),n.className="GPshowAdvancedToolPicto GPshowMoreOptionsImage GPshowMoreOptions GPshowMousePositionSettingsPicto gpf-btn fr-btn--sm fr-icon-arrow-down-fill",n.title="Réglages",n.setAttribute("tabindex","0"),n.setAttribute("aria-pressed",!1),n.addEventListener?n.addEventListener("click",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t.onShowMousePositionSettingsClick(e)})):n.attachEvent&&n.attachEvent("onclick",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t.onShowMousePositionSettingsClick(e)})),n},_createMousePositionSettingsElement:function(e){var t=document.createElement("div");t.id=this._addUID("GPmousePositionSettings"),t.style.display=void 0===e||e?"block":"none";var n=document.createElement("span");return n.className="GPmousePositionSettingsLabel",n.innerHTML="Système de référence",t.appendChild(n),t},_createMousePositionSettingsSystemsElement:function(e){var t=this,n=document.createElement("select");n.id=this._addUID("GPmousePositionProjectionSystem"),n.className="GPselect GPmousePositionSettingsSelect gpf-select fr-select",n.addEventListener("change",(function(e){t.onMousePositionProjectionSystemChange(e)})),n.addEventListener("mouseover",(function(e){"OPTION"!==e.target.nodeName&&t.onMousePositionProjectionSystemMouseOver(e)}));for(var i=0;i<e.length;i++){var r=e[i],o=document.createElement("option");o.value=r.code,o.text=r.label||i,n.appendChild(o)}return n},_createMousePositionSettingsUnitsElement:function(e){var t=this,n=document.createElement("select");n.id=this._addUID("GPmousePositionProjectionUnits"),n.className="GPselect GPmousePositionSettingsSelect gpf-select fr-select",n.addEventListener("change",(function(e){t.onMousePositionProjectionUnitsChange(e)}));for(var i=0;i<e.length;i++){var r=e[i],o=document.createElement("option");o.value=r.code?r.code:i,o.text=r.label||i,n.appendChild(o)}return n},_resetLabelElements:function(e){var t=document.getElementById(this._addUID("GPmousePositionLatLabel"));t.innerHTML="Geographical"===e?"Latitude :":"X :";var n=document.getElementById(this._addUID("GPmousePositionLonLabel"));n.innerHTML="Geographical"===e?"Longitude :":"Y :"},_resetUnitElements:function(e){var t="";"M"!==e&&"KM"!==e||(t=e.toLowerCase());for(var n=document.getElementsByClassName("GPmousePositionUnits"),i=0;i<n.length;i++)n[i].innerHTML=t},_resetCoordinateElements:function(e,t,n){var i,r=document.getElementById(this._addUID("GPmousePositionLatCoordinate"));while(r.firstChild)r.removeChild(r.firstChild);i="DMS"===n?this._createDMSCoordinateElement("Lat",e):this._createCoordinateElement("Lat",e);for(var o=0;o<i.length;o++)r.appendChild(i[o]);var a,s=document.getElementById(this._addUID("GPmousePositionLonCoordinate"));while(s.firstChild)s.removeChild(s.firstChild);a="DMS"===n?this._createDMSCoordinateElement("Lon",e):this._createCoordinateElement("Lon",e);for(var l=0;l<a.length;l++)s.appendChild(a[l])},_setEditMode:function(e){var t=document.getElementById(this._addUID("GPmousePositionLocate"));t.title=e?"Aller à la position ...":"Cliquer pour saisir des coordonnées";var n=document.getElementById(this._addUID("GPmousePositionCloseEdit"));n.style.display=e?"inline-block":"none";for(var i="div[id^="+this._addUID("GPmousePositionCoordinate")+"]",r=document.querySelectorAll(i+" input"),o=0;o<r.length;o++)r[o].readOnly=!e,e&&(r[o].value="",r[o].classList.remove("error"));for(var a=document.querySelectorAll(i+" select"),s=0;s<a.length;s++)a[s].disabled=!e},_checkDMSElement:function(e,t){var n=void 0!==t,i=e.value;if(n&&(i=i.replace(",",".")),isNaN(i))return!1;var r=parseFloat(i);if(!n&&(0|r)!==r)return!1;var o=Number(e.dataset.min),a=Number(e.dataset.max);return r>=o&&r<=a},_checkDMSDegrees:function(e,t){if(isNaN(t.value))return!1;var n=parseFloat(t.value);if((0|n)!==n)return!1;var i=Number(t.dataset.min),r=Number(t.dataset.max);if(n<i||n>r)return!1;var o=document.getElementById(this._addUID("GPmousePosition"+e+"Minutes")),a=document.getElementById(this._addUID("GPmousePosition"+e+"Seconds"));return n>=r?(o.dataset.max=0,a.dataset.max=0):(o.dataset.max=59,a.dataset.max=59.9999),!0},GPdisplayCoords:function(e){if(e){var t=document.getElementById(this._addUID("GPmousePositionLonLabel")),n=document.getElementById(this._addUID("GPmousePositionLatLabel"));if(e.x||e.y?(n.innerHTML="X : ",t.innerHTML="Y : "):e.e||e.n?(n.innerHTML="E : ",t.innerHTML="N : "):(n.innerHTML="Latitude : ",t.innerHTML="Longitude : "),"object"===typeof e.lat&&"object"===typeof e.lng){var i={lng:"Lon",lat:"Lat"},r=["Degrees","Minutes","Seconds"];for(var o in i)for(var a=0;a<r.length;++a){var s="GPmousePosition"+i[o]+r[a],l=document.getElementById(this._addUID(s)),u=r[a].charAt(0).toLowerCase();l.value=e[o][u]}document.getElementById(this._addUID("GPmousePositionLonDirection")).value=e.lng.direction,document.getElementById(this._addUID("GPmousePositionLatDirection")).value=e.lat.direction}else{var c=document.getElementById(this._addUID("GPmousePositionLat")),h=document.getElementById(this._addUID("GPmousePositionLon"));c.value=e.x||e.lat||e.e||"0",h.value=e.y||e.lng||e.lon||e.n||"0";for(var d=void 0===e.unit?"":e.unit,p=document.getElementsByClassName("GPmousePositionUnits"),g=0;g<p.length;++g)p[g].innerHTML=d}}},GPdisplayElevation:function(e,t,n,i){var r,o=this;t||(t=500),clearTimeout(r),document.getElementById(this._addUID("GPmousePositionAlt")).innerHTML="...",null==n&&(n=-99999),null==i&&(i=99980);var a=n+i,s=n-i;e&&document.getElementById(this._addUID("GPmousePositionAltitude"))&&(r=setTimeout((function(){o.onRequestAltitude(e,(function(e){s<e&&e<a?o.GPresetElevation():document.getElementById(o._addUID("GPmousePositionAlt")).innerHTML=e}))}),t))},GPresetElevation:function(){document.getElementById(this._addUID("GPmousePositionAltitude"))&&(document.getElementById(this._addUID("GPmousePositionAlt")).innerHTML="---")}},QA=JA,$A=Un.getLogger("GeoportalMousePosition"),e_=class e extends Qu{constructor(t){if(t=t||{},super({element:t.element,target:t.target,render:t.render}),!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(t);var n=this._initContainer(this.options);return this.element?this.element.appendChild(n):this.element=n,this}setMap(e){var t=this;if(e){var n=this._createMapCenter();if(e.getViewport().appendChild(n),this.collapsed||this._isDesktop||(n.className="GPmapCenterVisible"),this.draggable&&qd.dragElement(this._panelMousePositionContainer,this._panelHeaderMousePositionContainer,this.options.position?null:e.getTargetElement()),this.collapsed||(this._isDesktop?this.listenerKey=e.on("pointermove",(e=>{this.onMouseMove(e)})):this.listenerKey=e.on("moveend",(e=>this.onMapMove(e))),this._showMousePositionButton.setAttribute("aria-pressed",!0)),this.options.editCoordinates){var i=document.createElement("img");i.id=this._addUID("GPmousePositionMarker"),i.src=this._markerUrl,i.title="Cliquer pour supprimer",i.addEventListener("click",(function(){t._markerOverlay.setPosition(void 0)})),this._markerOverlay=new m({offset:this._markerOffset,element:i,stopEvent:!1}),e.addOverlay(this._markerOverlay)}}else(0,Cr.e)(this.listenerKey);if(super.setMap(e),null!==e&&(this.options.position&&this.setPosition(this.options.position),!this.collapsed)){var r=document.getElementById("GPshowMousePosition-"+this._uid);r.checked="checked",this._setElevationPanel(this.options.displayAltitude),this._setCoordinatesPanel(this.options.displayCoordinates),this.options.displayCoordinates||this._setSettingsPanel(!1)}}addSystem(e){if("object"===typeof e)if(e.crs)if(e.label||($A.warn("crs label not defined, use crs code by default."),e.label=e.crs),e.type||($A.warn("type srs not defined, use 'Metric' by default."),e.type="Metric"),KA.loadByName(e.crs),(0,ne.Jt)(e.crs)){for(var t=0;t<this._projectionSystems.length;t++){var n=this._projectionSystems[t];e.crs===n.crs&&$A.info("crs '{}' already configured",n.crs)}e.code=this._projectionSystems.length,this._projectionSystems.push(e);var i=document.getElementById("GPmousePositionProjectionSystem-"+this._uid);if(i){var r=document.createElement("option");r.value=e.code,r.text=e.label,i.appendChild(r)}}else $A.error("crs '{}' not available into proj4 definitions !",e.crs);else $A.error("crs not defined !");else $A.log("[ERROR] MousePosition:addSystem - system parameter should be an object")}addSystems(e){if(e)if(Array.isArray(e))for(var t=0;t<e.length;t++)this.addSystem(e[t]);else $A.log("[ERROR] MousePosition:addSystems - systems parameter should be an array")}removeSystem(e){if(e&&"string"===typeof e){for(var t=document.getElementById("GPmousePositionProjectionSystem-"+this._uid),n=null,i=0;i<this._projectionSystems.length;i++){var r=this._projectionSystems[i];if(e===r.crs){n=r.code,this._projectionSystems.splice(i,1);break}}if(null!=n){for(var o=[],a=0;a<this._projectionSystems.length;a++)o[Number(this._projectionSystems[a].code)]=a,this._projectionSystems[a].code=a;for(var s=null,l=0;l<t.childNodes.length;l++)n!==t.childNodes[a].value?t.childNodes[a].value=o[Number(t.childNodes[a].value)]:s=l;null!=s&&t.removeChild(t.childNodes[s]),this._currentProjectionSystems.code===Number(n)&&(t.childNodes[0].setAttribute("selected","selected"),this._setCurrentSystem(t.childNodes[0].value))}else $A.log("[WARN] MousePosition:removeSystem - system not found")}else $A.log("[ERROR] MousePosition:removeSystem - systemCode parameter should be a string")}setUnits(e){e&&Array.isArray(e)&&(this.options.units=e,this._projectionUnits=[],this._initProjectionUnits(),this._currentProjectionType&&this._setTypeUnitsPanel(this._currentProjectionType))}setAltitudeOptions(e){if(e&&"object"===typeof e&&(this.options.altitude.triggerDelay=e.triggerDelay,this.options.altitude.responseDelay=e.responseDelay,e.serviceOptions))for(var t in e.serviceOptions)e.serviceOptions.hasOwnProperty(t)&&(this.options.altitude.serviceOptions[t]=e.serviceOptions[t])}displayAltitude(e){void 0!==e&&(this.options.displayAltitude=e,this._setElevationPanel(e))}displayCoordinates(e){void 0!==e&&(this.options.displayCoordinates=e,this._setCoordinatesPanel(e),this._setSettingsPanel(e))}setCollapsed(e){void 0!==e?e&&this.collapsed||!e&&!this.collapsed||(this._isDesktop||(document.getElementById("GPmapCenter").className=e?"":"GPmapCenterVisible"),this.onShowMousePositionClick(),this._showMousePositionContainer.checked=!e):$A.log("[ERROR] MousePosition:setCollapsed - missing collapsed parameter")}_initialize(e){if(e=e||{},this.options=e,this.options.collapsed=void 0===e.collapsed||e.collapsed,this.collapsed=this.options.collapsed,this.options.draggable=void 0!==e.draggable&&e.draggable,this.draggable=this.options.draggable,this._markerOverlay=null,this._markerUrl=null,this._markerOffset=[0,0],this._hideMarker=!1,this._initMarker(e.positionMarker),this.options.units=e.units||[],this.options.displayAltitude=void 0===e.displayAltitude||e.displayAltitude,this.options.displayCoordinates=void 0===e.displayCoordinates||e.displayCoordinates,this.options.displayCoordinates?this.options.editCoordinates=void 0!==e.editCoordinates&&e.editCoordinates:this.options.editCoordinates=!1,this.editing=!1,this.options.systems=e.systems||[],e.altitude){var t=e.altitude;this.options.altitude={triggerDelay:void 0!==t.triggerDelay?t.triggerDelay:200,responseDelay:void 0!==t.responseDelay?t.responseDelay:500,serviceOptions:t.serviceOptions||{},noDataValue:void 0!==t.noDataValue?t.noDataValue:-99999,noDataValueTolerance:void 0!==t.noDataValueTolerance?t.noDataValueTolerance:9e4}}else this.options.altitude={triggerDelay:200,responseDelay:500,serviceOptions:{}};this._uid=nc.generate(),this._projectionSystems=[],this._initProjectionSystems(),this._projectionUnits={},this._initProjectionUnits(),this._isDesktop=qn.detectSupport(),this.options.altitude.triggerDelay<100&&(this.options.altitude.triggerDelay=100),this._timer=this.options.altitude.triggerDelay,this._currentProjectionSystems=this._projectionSystems[0],this._currentProjectionType=this._projectionSystems[0].type,this._currentProjectionUnits=this._projectionUnits[this._currentProjectionType][0].code,this._projectionUnitsContainer=null,this._showMousePositionContainer=null,this._panelMousePositionContainer=null,this._panelHeaderMousePositionContainer=null,this.options.displayAltitude||this.options.displayCoordinates||(this.options.displayCoordinates=!0),this.listenerKey=null}_initMarker(e){if(this.options.editCoordinates){if(!e)return this._markerUrl=Qn["lightOrange"],void(this._markerOffset=Qn.defaultOffset);this._hideMarker=void 0!==e.hide&&e.hide,e.offset?Array.isArray(e.offset)&&2===e.offset.length?this._markerOffset=e.offset:($A.log("positionMarker.offset should be an array. e.g. : [0,0]"),this._markerOffset=Qn.defaultOffset):this._markerOffset=Qn.defaultOffset;var t=e.url;t?t.match(/^[a-zA-Z]+$/)?this._markerUrl=void 0!==Qn[t]?Qn[t]:Qn["lightOrange"]:this._markerUrl=t:this._markerUrl=Qn["lightOrange"]}}_initProjectionSystems(){for(var e=[{label:"Géographique",crs:(0,ne.Jt)("EPSG:4326").getCode(),type:"Geographical"},{label:"Web Mercator",crs:(0,ne.Jt)("EPSG:3857").getCode(),type:"Metric"},{label:"Lambert 93",crs:(0,ne.Jt)("EPSG:2154").getCode(),type:"Metric",geoBBox:{left:-9.86,bottom:41.15,right:10.38,top:51.56}},{label:"Lambert II étendu",crs:(0,ne.Jt)("EPSG:27572").getCode(),type:"Metric",geoBBox:{left:-4.87,bottom:42.33,right:8.23,top:51.14}}],t=this.options.systems,n=0;n<t.length;n++){var i=t[n];this.addSystem(i)}if(0===this._projectionSystems.length)for(var r=0;r<e.length;r++)this.addSystem(e[r])}_initProjectionUnits(){var e={Geographical:[{code:"DEC",label:"degrés décimaux",format:this._displayDEC},{code:"DMS",label:"degrés sexagésimaux",format:this._displayDMS},{code:"RAD",label:"radians",format:this._displayRAD},{code:"GON",label:"grades",format:this._displayGON}],Metric:[{code:"M",label:"mètres",format:this._displayMeter},{code:"KM",label:"kilomètres",format:this._displayKMeter}]},t=this.options.units;for(var n in e)if(e.hasOwnProperty(n)){for(var i=!1,r=0;r<e[n].length;r++)for(var o=e[n][r],a=0;a<t.length;a++){var s=t[a];o.code===s&&(i=!0,this._projectionUnits[n]||(this._projectionUnits[n]=[]),this._projectionUnits[n].push(o))}i||(this._projectionUnits[n]=e[n])}"object"===typeof this._projectionUnits&&0===Object.keys(this._projectionUnits).length&&(this._projectionUnits=e)}_getCurrentProjectionInformation(){for(var e=[this._currentProjectionSystems.label,"en"],t=this._projectionUnits[this._currentProjectionType],n=0;n<t.length;++n)if(t[n].code===this._currentProjectionUnits){e.push(t[n].label);break}return e.join(" ")}_initContainer(){var e=this._createMainContainerElement(),t=this._showMousePositionButton=this._createShowMousePositionPictoElement();e.appendChild(t);var n=this._panelContainer=this._createMousePositionPanelElement(),i=this._createMousePositionPanelDivElement();n.appendChild(i);var r=this._panelHeaderContainer=this._createMousePositionPanelHeaderElement(),o=this._panelTitleContainer=this._createMousePositionPanelTitleElement();r.appendChild(o);var a=this._panelCloseButton=this._createMousePositionPanelCloseElement();r.appendChild(a),i.appendChild(r);var s=this._createMousePositionPanelBasicElement(this.options.displayAltitude,this.options.displayCoordinates,this.options.editCoordinates,this._currentProjectionUnits);i.appendChild(s);var l=this._createShowMousePositionSettingsElement(this.options.displayCoordinates);i.appendChild(l);var u=this._createMousePositionSettingsElement(),c=this._projectionSystemsContainer=this._createMousePositionSettingsSystemsElement(this._projectionSystems),h=this._projectionUnitsContainer=this._createMousePositionSettingsUnitsElement(this._projectionUnits[this._currentProjectionType]);return u.appendChild(c),u.appendChild(h),i.appendChild(u),e.appendChild(n),e}_setElevationPanel(e){var t=null;e?(t=document.getElementById("GPmousePositionAltitude-"+this._uid),t.style.display=""):(t=document.getElementById("GPmousePositionAltitude-"+this._uid),t.style.display="none")}_setCoordinatesPanel(e){var t=document.getElementById("GPmousePositionCoordinate-"+this._uid);t.style.display=e?"":"none"}_setSettingsPanel(e){var t=document.getElementById("GPshowMousePositionSettingsPicto-"+this._uid),n=document.getElementById("GPmousePositionSettings-"+this._uid);e?(t.style.display="",n.style.display=""):(t.style.display="none",n.style.display="none")}_setTypeUnitsPanel(e){var t=this._projectionUnitsContainer;while(t.firstChild)t.removeChild(t.firstChild);for(var n=this._projectionUnits[e],i=0;i<n.length;i++){var r=n[i],o=document.createElement("option");o.value=r.code?r.code:i,o.text=r.label||i,t.appendChild(o)}var a=this._projectionUnits[e][0].code;"DMS"!==this._currentProjectionUnits&&"DMS"!==a||(this._resetCoordinateElements(this.options.editCoordinates,e,a),this._setEditMode(this.editing)),this._currentProjectionType=e,this._resetLabelElements(e),this._resetUnitElements(a),this._currentProjectionUnits=a}_displayDEC(e){var t={};return t.lat=e[1].toFixed(6),t.lng=e[0].toFixed(6),t.unit="°",t}_displayDMS(e){return{lng:Vd.decimalToDMS(e[0],"EO",2),lat:Vd.decimalToDMS(e[1],"NS",2),unit:"DMS"}}_displayRAD(e){var t={},n=.017453292519943295;return t.lng=e[0]*n,t.lng=t.lng.toFixed(8),t.lat=e[1]*n,t.lat=t.lat.toFixed(8),t.unit="rad",t}_displayGON(e){var t={},n=1.1111111111111112;return t.lng=e[0]*n,t.lng=t.lng.toFixed(8),t.lat=e[1]*n,t.lat=t.lat.toFixed(8),t.unit="gon",t}_displayMeter(e){var t={};return t.x=e[0].toFixed(2),t.y=e[1].toFixed(2),t.unit="m",t}_displayKMeter(e){var t={};return t.x=(e[0]/1e3).toFixed(2),t.y=(e[1]/1e3).toFixed(2),t.unit="km",t}_setCoordinate(e,t){var n={},i=this._currentProjectionSystems.crs;if(i){e=(0,ne.pd)(e,t,i);for(var r=this._currentProjectionSystems.type,o=null,a=this._projectionUnits[r],s=0;s<a.length;s++)if(a[s].code===this._currentProjectionUnits){o=a[s].format;break}o&&"function"===typeof o?(n=o(e),n&&0!==Object.keys(n).length&&this.GPdisplayCoords(n)):$A.log("WARNING : coordinates format function not found")}else $A.log("ERROR : system crs not found")}_setElevation(e){var t=this.options.altitude.responseDelay,n=this.options.altitude.noDataValue,i=this.options.altitude.noDataValueTolerance;this.GPdisplayElevation(e,t,n,i)}onMoveStopped(e,t){var n=(0,ne.pd)(e,t,"EPSG:4326");this._setElevation(n)}onMouseMove(e){var t=this,n=e.coordinate;if(e.map&&e.map.getView()){var i=e.map.getView().getProjection();this._setCoordinate(n,i),clearTimeout(this._timer),this._timer=setTimeout((function(){t.onMoveStopped(n,i)}),this.options.altitude.triggerDelay)}}onMapMove(){var e=this,t=this.getMap();if(t&&t.getView()){var n=t.getView(),i=n.getCenter(),r=n.getProjection();this._setCoordinate(i,r),clearTimeout(this._timer),this._timer=setTimeout((function(){e.onMoveStopped(i,r)}),this.options.altitude.triggerDelay)}}onRequestAltitude(e,t){if(e&&0!==Object.keys(e).length&&this.options.displayAltitude){var n=this.options.altitude.serviceOptions||{},i=n.protocol||"XHR",r=n.timeOut||0;"JSONP"===i&&0===r&&(r=15e3);var o=n.outputFormat||"json",a=!0;a=!1!==n.zonly||n.zonly;var s=n.measures||!1,l=[{lon:e[0],lat:e[1]}],u=n.resource,c=this,h=n.rawResponse||!1,d=n.onSuccess||null,p=null,g=null;p=h?function(e){d&&d.call(this,e),$A.log("alti service raw response : ",e)}:function(e){e&&Object.keys(e).length&&(d&&d.call(this,e),t.call(this,e.elevations[0].z))},g=function(e){$A.log("[getAltitude] ERROR : "+e.message)};var f=n.apiKey||this.options.apiKey;"boolean"!==typeof n.ssl&&("boolean"===typeof this.options.ssl?n.ssl=this.options.ssl:n.ssl=!0);var m=n.ssl;Dn.Ay.Services.getAltitude({apiKey:f,protocol:i,ssl:m,timeOut:r,scope:c,outputFormat:o,rawResponse:h,onSuccess:p,onFailure:g,zonly:a,measures:s,resource:u,positions:l})}}onShowMousePositionClick(){var e=this.getMap();Kn.unset(e);var t=this._showMousePositionButton.ariaPressed;this.collapsed=!("true"===t),this.dispatchEvent("change:collapsed"),"false"===t?(0,Cr.e)(this.listenerKey):this.editing||(this._isDesktop?this.listenerKey=e.on("pointermove",(e=>{this.onMouseMove(e)})):(this.listenerKey=e.on("moveend",(e=>this.onMapMove(e))),this.onMapMove())),this._setElevationPanel(this.options.displayAltitude),this._setCoordinatesPanel(this.options.displayCoordinates),this.options.displayCoordinates||this._setSettingsPanel(!1)}onShowMousePositionSettingsClick(e){if(!this.draggable)e.target.ariaPressed}onMousePositionEditModeClick(e){if(this.options.editCoordinates&&this.editing!==e){this.editing=e,this._setEditMode(this.editing);var t=this.getMap();this._isDesktop?this.editing?(0,Cr.e)(this.listenerKey):(this.listenerKey=t.on("pointermove",(e=>{this.onMouseMove(e)})),this.onMapMove()):this.editing?(0,Cr.e)(this.listenerKey):(this.listenerKey=t.on("moveend",(e=>this.onMapMove(e))),this.onMapMove()),!this.editing&&this._markerOverlay&&this._markerOverlay.setPosition(void 0)}}getCoordinate(e){var t=document.getElementById(this._addUID("GPmousePosition"+e+"Degrees")),n=t.value;if(!n)return null;if(n=n.replace(",","."),!Vd.isInteger(n))return null;var i=Vd.toInteger(n);if(i<Number(t.dataset.min)||i>Number(t.dataset.max))return null;var r=document.getElementById(this._addUID("GPmousePosition"+e+"Direction")).value,o=document.getElementById(this._addUID("GPmousePosition"+e+"Minutes")),a=o.value;if(a&&(a=a.replace(",","."),Vd.isInteger(a))){var s=Vd.toInteger(a);s>=Number(o.dataset.min)&&s<=Number(o.dataset.max)&&(i+=s/60)}var l=document.getElementById(this._addUID("GPmousePosition"+e+"Seconds")),u=l.value;if(u){u=u.replace(",",".");var c=Vd.toFloat(u);c&&c>=Number(l.dataset.min)&&c<=Number(l.dataset.max)&&(i+=c/3600)}return"O"!==r&&"S"!==r||(i=-i),i}locateDMSCoordinates(){var e=[this.getCoordinate("Lon"),this.getCoordinate("Lat")];if(null!==e[0]&&null!==e[1]){var t=this._currentProjectionSystems.crs;if(t){var n=this.getMap().getView(),i=(0,ne.pd)(e,t,n.getProjection());n.setCenter(i),this._markerOverlay&&!this._hideMarker&&this._markerOverlay.setPosition(i)}else $A.log("ERROR : system crs not found")}}locateCoordinates(){var e=document.getElementById(this._addUID("GPmousePositionLon")).value;if(e=e.replace(",","."),e=Vd.toFloat(e),null!==e){var t=document.getElementById(this._addUID("GPmousePositionLat")).value;if(t=t.replace(",","."),t=Vd.toFloat(t),null!==t){var n=this._currentProjectionSystems.crs;if(n){var i;i="Geographical"===this._currentProjectionSystems.type?[this.convert(e),this.convert(t)]:[this.convert(t),this.convert(e)];var r=(0,ne.pd)(i,this._currentProjectionSystems.crs,"EPSG:4326"),o=this._currentProjectionSystems.geoBBox;if(o){var a=[o.left,o.bottom,o.right,o.top];if(r[0]<a[0]||r[0]>a[2])return;if(r[1]<a[1]||r[1]>a[3])return}var s=this.getMap().getView(),l=(0,ne.pd)(i,n,s.getProjection());s.setCenter(l),this._markerOverlay&&!this._hideMarker&&this._markerOverlay.setPosition(l)}else $A.log("ERROR : system crs not found")}}}onMousePositionEditModeLocateClick(){if(this.options.editCoordinates)if(this.editing){"DMS"===this._currentProjectionUnits?this.locateDMSCoordinates():this.locateCoordinates();var e=this.options.mapCenterCallback;if("function"===typeof e){var t=this.getMap().getView(),n=t.getCenter();e.call(this,n)}}else this.onMousePositionEditModeClick(!0)}onMousePositionProjectionSystemChange(e){var t=e.target.selectedIndex,n=e.target.options[t].value;this._setCurrentSystem(n)}_setCurrentSystem(e){for(var t=null,n=0;n<this._projectionSystems.length;++n)if(this._projectionSystems[n].code===Number(e)){t=this._projectionSystems[n].type;break}t?(this._currentProjectionSystems=this._projectionSystems[Number(e)],t!==this._currentProjectionType&&this._setTypeUnitsPanel(t),this._isDesktop||this.onMapMove()):$A.log("system not found in projection systems container")}onMousePositionProjectionSystemMouseOver(e){$A.trace(e);var t=this.getMap();if(t&&t.getView()){var n=t.getView(),i=n.getProjection(),r=n.calculateExtent(t.getSize());r=(0,ne.DI)(r,i,"EPSG:4326");var o=document.getElementById(this._addUID("GPmousePositionProjectionSystem"));o.innerHTML="";for(var a=0;a<this._projectionSystems.length;a++){var s=this._projectionSystems[a],l=null;if(s.geoBBox&&(r[0]>s.geoBBox.right||r[1]>s.geoBBox.top||r[2]<s.geoBBox.left||r[3]<s.geoBBox.bottom))s===this._currentProjectionSystems&&(l=document.createElement("option"),l.value=s.code,l.text=s.label||a,l.setAttribute("selected","selected"),l.setAttribute("disabled","disabled"),o.appendChild(l));else{var u=document.createElement("option");u.value=s.code,u.text=s.label||a,s===this._currentProjectionSystems&&u.setAttribute("selected","selected"),o.appendChild(u)}}}}onMousePositionProjectionUnitsChange(e){var t=e.target.selectedIndex,n=e.target.options[t].value,i=this._currentProjectionUnits;this._currentProjectionUnits=n,this._resetLabelElements(this._currentProjectionType),this._resetUnitElements(this._currentProjectionUnits),"DMS"!==i&&"DMS"!==this._currentProjectionUnits||(this._resetCoordinateElements(this.options.editCoordinates,this._currentProjectionType,this._currentProjectionUnits),this._setEditMode(this.editing)),this._isDesktop||this.onMapMove()}convert(e){var t;if("M"===this._currentProjectionUnits||"DEC"===this._currentProjectionUnits)t=e;else if("KM"===this._currentProjectionUnits)t=1e3*e;else if("RAD"===this._currentProjectionUnits){var n=(180/Math.PI).toFixed(20);t=(e*n).toFixed(20)}else if("GON"===this._currentProjectionUnits){var i=.9.toFixed(20);t=(e*i).toFixed(20)}return t}validateExtentCoordinate(e,t){if(-1===["Lon","Lat"].indexOf(e))return!1;var n=t.replace(",",".");if(n=Vd.toFloat(n),null===n)return!1;n=this.convert(n);var i=this._currentProjectionSystems.geoBBox;if(void 0===i)return!0;var r=[i.left,i.bottom,i.right,i.top];return r=(0,ne.DI)(r,"EPSG:4326",this._currentProjectionSystems.crs),("Lat"!==e||!(n<r[0]||n>r[2]))&&("Lon"!==e||!(n<r[1]||n>r[3]))}};Object.assign(e_.prototype,QA);var t_=e_;window.ol&&window.ol.control&&(window.ol.control.GeoportalMousePosition=e_);var n_=n(5940),i_=n(3277),r_={drawing_portail:[{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAClFBMVEUAAAD//////////////////////////////////////////////////////////fv/+fL//////////////////////////////////////////////////////////////////////////////////////v7//////fr/////+vL//////////////////Pj//////////////////////////////////////////////////////////////////////////v7//////////////////////////////////////v7//////////////////////////////////////////////////////////////////////////////v7/////////////9+v/9ej/9+z/7tT/3q3/y3//v2D/uU//+O7/5L3/xW//piH/mQH/mAD//v7/79f/yXj/oxr/lwD/mQD//fv/58T/tkr/mQL//v3/58P/sTz/79b/tUf/x3X/mQP/5Lv/oRX/ng3/s0H/w2n/u1b/4rf/8Nr/9eb/7tX/pBv/x3P/8d7/3av/79j///7/zH//mgX/2qP//vz/9+3/wGH/qyz/6Mb/vFj/sj//7NH/wGL/rTP/6sr/+fH/yXf/oBP/37H/2aH/6sz/nw//oBT/0pD/+vT/9OX/uE7/pB3/y33/7ND//Pj/26b/mwj/nAn/sT7/w2r/zYL/8+P/ulT/mwb/5Lz/qCj/+/b/1JT/nQz/nQ3/9uj/w2j/mAH/9un/6sv/skH/lwH/3Kf/pB7/pR7/3Kj/nAj/y37/+/f/8t//mQT/rDD/rDH/1JX/7tb/4LT/pR//z4j/z4n/vFn/7dP/4rn//fq31ydlAAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKnVAysoAAAMmSURBVDjLY2AAA0ZGJmYWVjZ2juRkDnY2VhZmJkZGBiTAyMnFzcPLxy+QkpqaIsDPx8vDzcWJpIJRUEhYRDQtPSMzKzs7KzMjPU1URFhIEK6CUUxcIjknNy+/oBAMCvLzcnOSJcTFGGHyklJFxSWlZYWF5WBQWFhWWlJcJCUJUcEoLSNbUVlVDZWFqqmuqqyQlZEGqZCTV6iprStDkQeqKKurrVGQlwMawMWTXN+ALg9S0VCfzMPFyCAorpjW2ASzvQwIYOymxjRFcUEGLqWa5pZCqONa27Ky2lqhji1saa5R4mJQVklpL4M6rKOzq7u7q7MD6uCy9hQVZQZVtZ5eML+woK+/KBkIivr7CiAivT1qqgzqGhPA3MKy7ImTksFg0sRssEMKCyZoqDNoak2GKJ8ydVoyFEybOgUiNllLk0F7+gwwp2zmrGQ4mDUT7KzCGdO1GZJTZkMUzJmLUDB3DkTB7JRkBp3p8yAK5i9AKFgwH6Jg3nQdBt2FiyD2LV5SBJMvWrIYIrZooS6Dnv5SCKesPQ2mIK0dEpyFS/X1GAwMly2H8FasXAWRX7VyBURk+TJDAwYj49VroAG3dt16oC1F69ethQbtmtXGRgwmphs2boKq2Lxl67ZtW7dshspv2rjB1ITBzFxn+44yeGTu3AmPzrId23XMzRg4LSwrdu2GJQdQkoQxd++qsLTgZGC0MrLes3cfZoLZv3ePtZEVMM0x2tjqHDh4CD3JHdp62M7eBpxqOR0cnY4cPYaaaI8dPeLk7MAJSfZyLq4Vx08UIqkoLDx5qsLNRQ6WMQTdPfasO42sYPOZsx6eiKzF6eXtc27HebiKwvM7zvl4e3EiZU5fv+TcC4icdTFX1M8XNXv7yyZfaoEpaLmULBuAIs/AEGivsrAd4ozCze0LVYICUeUZGIND+C63gTJQYVNbMV9oMJoBQBVh4clXroKC+uqV5PAIDHmgCsnIimv7Cgv3Xa+IlMQiDwzyqOiUG1Om3EiJjrLBpgDojBi7mxcu3LSLCcYqD1QRGzft1q1pcbE45IExH59w+3ZCvBUuBUBnJCYlJaI6AABB269xUXFElwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NDM6MjIrMDA6MDB1WI3HAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACplBMVEUAAAD//////////////////////////////////////////////////////////fz/9/P//////////////////////////////////////////////////////////////////////////////////////v7//////Pr/////////////////////+/n//////////////////////////////////////////////////////////////////////////v7//////////////////////////////////////v7//////////////////////////////////////////////////////////////////////////////v7/////////////8+3/8er/9O7/5dj/zrX/s4z/oHH/lmL/9fD/2MT/qX7/ejj/Zxz/Zhn/Zhr//v7/59z/rof/djL/ZBf/Zxv//fz/3Mr/k13/aBz/ZRn//f3/i1D/5tr/kVr/ZRj/rIP//v3/1sL/cy3/byf/jVX/pnn/aB3/mmf/077/6d7/8On/5tn/dzT/q4H/6+H/zbP/lmH/s43/ah//yK3/9O//oXL/gUP/3cz/m2n/jVT/5Nb/onP/hkn/4ND/9vL/rob/cSv/0Ln/x6r/Zxr/Yxb/pXn/8+7/4NH/cCj/ciz/vZz/+PX/7+f/lWH/eDT/sov/49X/+/n/ya//ayH/bCP/jFL/pnr/tJD/7ub/mWb/ZBb/aiD/18P/fj3/+vf/vp//bSX/bib/v5//pXj/8uv/yrD/eDX/eTb/y7H/bCL/soz/7OL/18T/g0b/hEb/v6D/cy7/wKH/9vP/5tv/jlX/59v/0rz/ejf/uJX/nGr/aR//nGv/g0X/1cD//PvyoJNrAAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAA0JJREFUOMtjYAADRkYmZhZWNnaOpCQOdjZWFmYmRkYGJMDIycXNw8vHL5CckpIswM/Hy8PNxYmkglFQSFhENDUtPSMzKyszIz0tVVREWEgQroJRTFwiKTsnNy+/oBAICvLzcnOykyTExRhh8pJSRcUlpWWFheVgUFhYVlpSXCQlCVHBKC0jW1FZVV1TjgRqqqsqK2RlpEEq5OQVaivrygrLUUBhWV1lrYK8HNAALp6k+oZGNHmgisaG+iQeLkYGQXHF1KZ8mO2NZWUwtYX5TamK4oIMXErNLa0FEKGatvbMzPa2GoiSgtaWZiUuBmWV5I5GiHxnV3dPb29Pd1cnREVjR7KKMoOqWl9/IcTICROLkoCgaOIEiJWF/X1qqgzqGpPA3MKyycVgeaCK4slgTxXmT9JQZ9AUmAJRPnVaRRIUVEybChGbIqDJoDV9BpjTOHNWEhzMmgl2VuGM6VoMScmzwQrK5sxFKJg7pwysYHZyEoP29HkQE+YvQChYMB9iwrzp2gw6CxeBFRQsXlIEky9ashgcMoWLFuow6OotBXOWLV+xEqZg5Yrly8CalurpMugbrFoNMWLN2nUQ+XVr10AMWL3KQJ/B0Gj9BkhINm7ctBkkv3nTRqjAhvVGhgzGJlu2boMG7fYdO3ft2rljOzTot23dYmLMYGqmvXvPXmgE7i3bt69sLzQ69+7ZrW1mysBpblGx/0AjLLGBAITdeGB/hYU5JwOjpaHVwUOHMRPMkaMHrQwtgWmO0dpGO+VYAXqSK+g4bmtnDU61nPYOjgvaURNdYWP7Kkcne05Ispdzdqk4cbIGSUVhzanTFa7OcrCMIejmfnDTmQKEgoIzZw+6eyCyFqenl/e5PeVwIwrL95zz9vLkRMqcPr5J5y/AHFpYcPG8qK8Pavb2k026dBkaGo2XryTJ+qPIMzAE2KlcXbEN7IyCbR1XVQIDUOUZGIOC+a61VwMtKay+foMvJAjNAKCK0LCkm7dAIX3rZlJYOIY8UIVkRMXtI4WFR25XREhikQcGeWRU8p27d+8lR0VaY1MAdEa0bdr9+2m20UFY5YEqYmJrHzyojY3BIQ+M+bj4hw/j4yxxKQA6IyExMQHVAQBpWLIaKI0lIgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NDQ6MDYrMDA6MDAh7rXQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACbVBMVEUAAAD/////////////////////////////////////////////////////////+/v/8vL//////////////////////////////////////////////////////////////////////////////////////v7/////+vr/////////////////////+Pj//////////////////////////////////////////////////////////////////////////v7//////////////////////////////////////v7//////////////////////////////////////////////////////////////////////////////v7/////////////6+v/6Oj/7Oz/1NT/ra3/f3//YGD/T0//7u7/vb3/b2//ISH/AQH/AAD//v7/19f/eHj/Ghr/+/v/xMT/Skr/AgL//f3/w8P/PDz/1tb/R0f/dXX/AwP/u7v/FRX/DQ3/QUH/aWn/Vlb/t7f/2tr/5ub/1dX/Gxv/c3P/3t7/q6v/2Nj/BQX/o6P//Pz/7e3/YWH/LCz/xsb/WFj/Pz//0dH/YmL/MzP/ysr/8fH/d3f/ExP/sbH/oaH/zMz/Dw//FBT/kJD/9PT/5eX/Tk7/HR3/fX3/0ND/+Pj/pqb/CAj/CQn/Pj7/amr/goL/4+P/VFT/Bgb/vLz/KCj/9vb/lJT/DAz/aGj/6en/y8v/p6f/Hh7/qKj/fn7/9/f/39//BAT/MDD/MTH/lZX/tLT/Hx//iIj/iYn/WVn/09P/ubn/+vpgzcAPAAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAAu1JREFUOMtjYAADRkYmZhZWNnaOpCQOdjZWFmYmRkYGJMDIycXNw8vHL5CckpIswM/Hy8PNxYmkglFQSFhENDUtPSMzKyszIz0tVVREWEgQroJRTFwiKTsnNy+/AAzy83JzspMkxMUYYfKSUoVFxSUFSKCkuKhQShKiglFaRra0rLyiAAVUlJeVyspIg1TIyStUVlUXYIDqqkoFeTmgAVw8STW1BVhAbU0SDxcjg6C4YmpdPTYF9XWpiuKCDFxKlQ2NMLGm5szM5iYYr7GhUomLQVkluQXmsNa29o6O9rZWmINbklWUGVTVOrug3u/uKUwCgsKebmiAdHWqqTKoa/RCuVl9YHmgir4sqJZeDXUGTYEMCK9/wsQkKJg4oR8iliGgyaA1aTKEM2VqEhxMnQIRmzxJiyEpeRqEM30GQsGM6RCxaclJDNqTZkI4s2YjFMyeBRGbOUmbQWfOXAhn3vxCmHzh/HkQsblzdBh09RbAfJ0KU5AKC5kFeroM+gYLF0F4i5cshcgvXbIYIrJooYE+g6HRsuVQ9StWrgLaUrhq5QqowPJlRoYMxiar16yFCqxbv2Hjxg3r10G5a9esNjFmMDXT3rQZEYVbtiDYmzdpm5kycJpblG7dhi26t20ttTDnZGC0NLTavmMnpnzTju1WhpbANMdobaOdsisfXT5/w25bO2twquW0d3Dc04ymIr95j6OTPSck2cs5u5Tu3YeqYN/+UldnOVjGEHRz375yLbL8ugMH3T0QWYvT08v70ObDCPnDmw95e3lyImVOH9+knCMIBUdzRH19ULO3n2zSMXjibjyWJOuPIs/AEGCnMqcF6ox1LXNUAgNQ5RkYg4L5aprBGai+uYgvJAjNAKCK0LCk4ydACk4cTwoLx5AHqpCMKD0JDPKdp0ojJLHIA4M8Mir5dH//6eSoSGtsCoDOiLY9c+TIGdvoIKzyQBUxsRPPnp0YG4NDHhjzcfHnzsXHWeJSAHRGQmJiAqoDAOgCnVLAYqeOAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI5OjM3KzAwOjAwSlqgvwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMjo0NDoxOSswMDowMBsMxacAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACf1BMVEUAAAD//////////////////////////////////////////////////////////P3/9Pn//////////////////////////////////////////////////////////////////////////////////////v7/////+/3/////9fr/////////////////+vz//////////////////////////////////////////////////////////////////////////v7//////////////////////////////////////v7//////////////////////////////////////////////////////////////////////////////v7/////////////7/f/7PX/8Pf/3O7/vd7/mcv/gL//c7n/8fj/yuT/jMX/Tab/NJn/MZj/Mpj//v7/3+//k8n/R6P/L5f/M5n//P3/0Of/brb//f7/z+f/Y7H/MJf/bLX/kcf/yeT/Q6H/PZ7/ZrP/h8P/d7v/xeL/4fD/6/X/3e7/SaT/j8f/5PH/u93/crn//v//mMz/N5r/tdr/gcD/Vqv/0ej/ebz/ZrL/2uz/gsD/XK3/1er/8/n/ksn/QaD/wN//tNn/1ur/P5//QqD/ptL/9vr/6vT/cbj/l8v/+vz/t9v/OJv/Opz/ZLH/iMP/m83/6fP/d7r/N5v/Uqj/Mpn/+Pv/qdT/PJ3/7fb/Z7L/uNz/SqT/S6X/udz/OZz/mMv/5fL/drr/Waz/Wqz/qtT/RKH/q9T/9Pn/3u7/Z7P/w+D/TKX/oM//PZ3/erz/Npr/3O3/x+L/+/0F2pMDAAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAAM4SURBVDjLdZNnWxNBFIVnEZGEGpBeROkSuoIUwS4KFkTFQp+wFEWzk+AmEFhEDBZQlA5ioxcRsCDYELADSvlBbnY2kACeTztz3r1znztnAOBEEAYbDDcabTKG0HiT0UbDDQYEAXRECIQmpmbmFpaS7GyJpYW5mamJUKBDECIr6802ZE5uXv6lS/l5uTmkzWZrK9EyQdja2cPLBVeuSinEipJevVJwGdrb2RJa38FRJi+8RiOk4IQQfa1QLnN0wATh5OyiLCqWUgodUdLiIqWLs5OGcN3ipiopZZBCT4gpLVG5bXFlCwhNobxsta8hyuTQVEgAkd1W8rpUezrDSvstvU5utRMB4TZV+Q18PqIqbubn36ygMELdKFdtEwJ3D4ma4X+pvHX7zp3btyr5goxa4uEOPL3uViHsV9+TQVaye9WYQFV3vTyBt899bomYGvkDyOmBvIZrBEnv+3gD3+0PMV5bp4K8VHW1eO/hdl/gR9ZzC6ahES6rsYFrC9WTfgBKmjiAbm5ZAVqaaQ5okkAgJltxhUdtK0DbI1yhlRQD/8dPOIB6+kym9WXPnnKTQU8e+4OAwOe4IVpNagFSTeO954EBICi4vQOvOru6sd/d1Yl3OtqDg0BIaE8vnjRT1dfCniJr6avCo6V6e0JDwI6d/QMv+NEOvhwaHh56OciP/sVA/84dICxcPPKK5i+Qpl+/pmn+OulXI+LwMCDYFaEsf8PH6a0mk2/5UL0pV0bsEgAiMiRq9N3Y2sCMvRuNColkM0dE7xaPq6nVkaPU4zGx0VxqBXv27mtr1g8dYt637du/R4Bj73rgoPLDR90aiPr0WXnogKv2YYgOx432Tejknhr8Mhp3ZOVpCY7GJ0xOKZZLIMXUZEL8UYHO4zx2HBZMaw9B1NcCm+PH9J/3CRf47Tt/CPX9B3Q5qecDkBjr8VON26Amhn56nErU9wGRdNr8129NfJH0t9z8TNKqAixxNhnOzGpGPTsDk8+t8VnC4bxybgyhP3PK8w7r+OzIL1yU/J2f/yu5eCF6PYBtIyVmYXp6ISYlaV2fJVLTVIuLqrTU//jszadnLC1lpEf+D2DbyMzKytRv4B+n7ayGbXJj1gAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NDQ6MjkrMDA6MDCVg8JEAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACslBMVEUAAAD////////////////////////////////////////////////////////+/fz79/T////////////////////////////////////////////////////////////////////////////////////+/v7////9/Pv////79/X////////////////9+/r////////////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////58+/48ez69PDz5dzpzr3cspnUoIDQlXP69PHt18rYqIzDeU27ZjS6ZTG6ZTL+/v7059/brpPCdUe6Yy+7ZjP+/fzv29DOkm67ZzS6ZDH+/f3v28/LiWO6YzD05t/OkGy6ZDDarJH+/v3t1snAckO+bj3MjWbUn4DXpYfRmXfr08X16eH48Ovz5t3CdknZqo/26+TozLvQlXL//v7dspi8aTfmyLXUoIHGgFbv3NHSm3m5Yy/LjGby49rVoYLIhVzx39X79vPbrZK/cEHq0MDmxrS6ZjK5Yi/58/Dx4Na+bz/AcULhvab8+Pb47+rPlHHCd0ncsZf9+/rnybe9aji9azrLi2TXpojdtJv37unt18nFfVK7ZTL8+vjivqm+bTziv6n58e3WpIfWpYfx4NXMjWfnyrjCd0rDeEvoyrm9azncsZj27OXRmHbHg1nIg1rt2Mriv6rAckTjwKv79vS8ajm9ajnXpYj05t7r0sPDeUzfuKC+bT3Sm3q8aTbIglns1cf9/Pua7OXrAAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAANISURBVDjLY2AAA0ZGJmYWVjZ2juRkDnY2VhZmJkZGBiTAyMnFzcPLxy+QkpqaIsDPx8vDzcWJpIJRUEhYRDQtPSMzKzs7KzMjPU1URFhIEK6CUUxcIjknNy+/oLAICAoL8vNyc5IlxMUYYfKSUsUlpWXlRUUVYFBUVF5WWlIsJQlRwSgtI1tZVV1TW4EEamuqqyplZaRBKuTkFerqGxqLKlBAUWNDfZ2CvBzQAC6e5KbmFjR5oIqW5qZkHi5GBkFxxbTWApjtLY2NMLVFBa1piuKCDFxKbe0dhRCh2s6u7u6uzlqIksKO9jYlLgZllZSeFoh8TW9f/4QJ/X29NRAVLT0pKsoMqmoTJxVBjJw8pTgZCIqnTIZYWTRpopoqg7rGVDC3qHFayfRkMJheMg3sqaKCqRrqDJpaMyDKZ86qS4aCulkzIWIztDQZtNNmgzktc+Ymw8HcOWBnFc1O02ZITpkHVjB/wUKEgoUL5oMVzEtJZtBJWwQxYfEShIIliyEmLErTYdBdugysoHD5imKYfPGK5eCQKVq2VJdBT38lWMGq1T1rYArW9KxeBVawUl+PwcBw7TqIk9dv2AiR37hhPURk3VpDAwYj402bITHdsmXrQqAtxQu3boEEbe3mTcZGDCam27bvgAbtzl279+zZvWsnNOh3bN9masJgZq6zt3c+NALnz585c/58aHTO792rY27GwGlhWblvPzQ5HQClyQPQRLV/X6WlBScDo5WR9cFDhzETzOEjB62NrIBpjtHGVufosUL0JFd4/KidvQ041XI6ODqd6EJNdEUtJ084OTtwQpK9nItr5anTtUgqimrPnK10c5GDZQxBd4+DW88VIhQU7jx/0MMTkbU4vbx9LlysgBtRVHHxgo+3FydS5vT1S869BHNoUeHlK6J+vqjZ2182+eo1aGjUXrueLBuAIs/AEGivcqPnJtgZhbdu31AJCkSVZ2AMDuG7cxKU3otqTpbwhQajGQBUERaefPceKKjv3U0Oj8CQB6qQjKy8f7io6MH9ykhJLPLAII+KTnn46NHDlOgoG2wKgM6IsUt//DjdLiYYqzxQRWxc3ZMndXGxOOSBMR+f8PRpQrwVLgVAZyQmJSWiOgAArqa4BP2YBKMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjQ0OjQ2KzAwOjAwpaS7KgAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAChVBMVEUAAAD//////////////////////////////////////////////////////////vv//fL//////////////////////////////////////////////////////////////////////////////////////v7//////vr//////////////////////vj//////v///////////////////////////////////////////////////////////////////v7//////////////////////////////////////v7//////////////////////////////////////////////////////////////////////////////v7//////////////Ov/++j//Oz/+dT/863/7X//6mD/50///O7/9r3/62//4SH/3QH/3AD//v7/+df/7Xj/4Br/3QD//vv/98T/5kr/3QL//v3/98P/5Tz/+db/5kf/7HX/3QP/9rv/4BX/3g3/5UH/6WD/62n/6Fb/9bf/+tr/++b/+dX/4Bv/7HP/+t7///7/86v/+dj/3QX/8qP//vz//O3/6mH/4iz/98b/6Fj/5T//+dH/6mL/4zP/+Mr//fH/7Hf/3xP/9LH/8qH/6mn/+Mz/3g//3xT/8JD//fT/++X/507/4B3/7X3/+ND//vj/86b/3Qj/3gn/5T7/62r/7oL/++P/6FT/3Qb/9rz/4ij//fb/8ZT/3gz//Oj/62j/3AH//On/+Mv/86f/4R7/86j/7n7//vf/+t//3QT/4zD/4zH/8JX/3xX/3gj/9bT/4R//74j/74n/6Fn/+dP/9bn//vrsMn7uAAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAAxZJREFUOMtjYAADRkYmZhZWNnaOpCQOdjZWFmYmRkYGJMDIycXNw8vHL5CckpIswM/Hy8PNxYmkglFQSFhENDUtPSMzKyszIz0tVVREWEgQroJRTFwiKTsnNy+/AAzy83JzspMkxMUYYfKSUoVFxSVAqVIwADJKiosKpSQhKhilZWTLyisqobJQNZUV5WWyMtIgFXLyClXVNQUo8iBTaqqrFOTlgAZw8STV1qHLg1TU1SbxcDEyCIorptY3IGxHuKShPlVRXJCBS6mqsakAKt3c0tra0gxVUtDUWKXExaCsktwGFahs7+js6ursaIc6uKAtWUWZQVWtuwfML8jv7etPAoL+vt58iEhPt5oqg7rGBDC3oCBrYmESGBROzALbUpA/QUOdQVMgA6J80uQpSVAwZfIkiFiGgCaD1tRpEM70GUlwMGM6RGzaVC2GpOSZEM6s2QgFs2dBxGYmJzFoT50D4cydh1Awby5EbM5UbQad+QsgnIWLCmHyhYsWQsQWzNdh0NVbDPX1klSYgtQlUKHFeroM+gZLl0GUL1+xEiK/csVyiMiypQb6DIZGq1ZD1a9Zuw5oS+G6tWugAqtXGRkyGJus37ARKrBp85atW7ds3gTlbtyw3sSYwdRMe9t2RGTu2IGIzu3btM1MGTjNLcp27oIlB0Rslxbs2llmYc7JwGhpaLV7z17MBNO8Z7eVoSUwzTFa22jv238APckd2HLQ1s4anGo57R0cD7Wgqig40HLI0cmeE5Ls5Zxdyg4fQVZQUHDkaJmrsxwsYwi6ue9euxFJRcGmY8fdPRBZi9PTy/vE9pNwFQUnt5/w9vLkRMqcPr5JOacQOet0jqivD2r29pNNOnMWpuDsmSRZfxR5BoYAO5X5becgcbSpbb5KYACqPANjUDBfbQsoAxU0tBTxhQShGQBUERqWdP4CKKgvnE8KC8eQB6qQjCi7uLegYO+lsghJLPLAII+MSr48adLl5KhIa2wKgM6Itr1y6tQV2+ggrPJAFTGxU65enRIbg0MeGPNx8deuxcdZ4lIAdEZCYmICqgMA6f6os3UKuXAAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjQ0OjU4KzAwOjAwOTHA6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACr1BMVEUAAAD////////////////////////////////////////////////////////7/v3y+/n////////////////////////////////////////////////////////////////////////////////////+/v7////6/f3////y+/r////////////////4/fz//////v/////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////r+ffo+PXs+ffU8+2t591/28tg0r5Pzbju+vi97ORv1sQhwKUBt5gAtpf+/v7X9O942ckavqIAtZYAt5j7/v3E7udKy7UCt5j9/v7D7uY8x7DW8+5Hy7QAtpZ118cDt5i77OQVvKANup1BybJg0b5p1cJWz7q36uLa9PDm9/XV8u4bvqNz18be9fGr59zY8+9/2ssFuJmj5dr8/v7t+fdh0r8sw6rG7+hYz7s/ybHR8uxi0r8zxazK8Onx+/l32MgTvJ+x6N+h5Nlp1MLM8OoPu54UvJ+Q39L0/Prl9/ROzbcdv6N92srQ8ez4/fym5tsIuJoJuZs+yLBq1cOC28zj9/NUz7oGuJq87OMowaf2/PuU4NQMupwNupyU4dTo+PZo1MIBtpdq1cLp+fbL8OoBtpan5tsev6Mev6So5twIuZt+2sv3/Pvf9fJUzroEt5gwxKsxxKuV4NQVvaCV4dTW8+/X8++06eEfv6T7/f2I3c6J3c9Zz7wFuJrT8u256+L6/f3ow7cxAAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAAMvSURBVDjLY2AAA0ZGJmYWVjZ2juRkDnY2VhZmJkZGBiTAyMnFzcPLxy+QkpqaIsDPx8vDzcWJpIJRUEhYRDQtPSMzKzs7KzMjPU1URFhIEK6CUUxcIjknNy+/oBAMCvLzcnOSJcTFGGHyklJFxSWlZYWF5WBQWFhWWlJcJCUJUcEoLSNbUVlVDZWFqqmuqqyQlZEGqZCTV6iprStDkQeqKKurrVGQlwMawMWTXN/QiCYPVNHYUJ/Mw8XIICiumNbUDLO9sawMprawuSlNUVyQgUuppqW1EOq4tvaOjvY2qGMLW1tqlLgYlFVSOhuhDuvq7unt7enugjq4sTNFRZlBVa2vH8wvLJgwsSgZCIomTiiAiPT3qakyqGtMAnMLG7Mng+WBKiZngx1SWDBJQ51BU2sKRPnUadOToWD6tKkQsSlamgzaM2aCOY2zZifDwexZYGcVzpyhzZCcMgesoGzuPISCeXPLwArmpCQz6MyYDzFhwUKEgoULICbMn6HDoLtoMcS+JUuLYPJFS5dAxBYv0mXQ018G4ZQtT4MpSFsOiZrCZfp6DAaGK1ZCeKtWr4HIr1m9CiKycoWhAYOR8dp10IBbv2Ej0JaijRvWQ4N23VpjIwYT002bt0BVbN22fceO7du2QuW3bN5kasJgZq6zc1cZLBGU7d5dBksaZbt26pibMXBaWFbs2QtLDqAkCWPu3VNhacHJwGhlZL1v/wHMBHPw0D5rIytgmmO0sdU5fOQoepI7euy4nb0NONVyOjg6nWg/iZpoT7afcHJ24IQkezkX14pTpwuRVBQWnjlb4eYiB8sYgu4e+zacQ1aw9fwFD09E1uL08va5eOkyXEXh5UsXfby9OJEyp69fcu4VRM66mivq54uavf1lk6+1whRcv5EsG4Aiz8AQaK+yaDnEGYVbly9SCQpElWdgDA7hu9kOykCFze23+EKD0QwAqggLT759BxTUd24nh0dgyANVSEbevXegsPDA/buRkljkgUEeFZ3y4OHDBynRUTbYFACdEWP36MqVR3YxwVjlgSpi46Y/fjw9LhaHPDDm4xOePEmIt8KlAOiMxKSkRFQHAAAsgrQ2sknLAAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NDU6MTIrMDA6MDD2yfpjAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACfFBMVEUAAAD////////////////////////////////////////////////////////8/vz0/fT////////////////////////////////////////////////////////////////////////////////////+/v7////7/vv////1/fX////////////////6/vr//////v/////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////v/O/s++zw/PDc+dy9872Z7ZmA6oBz53Px/PHK9sqM64xN4U003TQx3DEy3DL+/v7f+d+T7ZNH4Ecv3C8z3TP8/vzQ99Bu5m79/v3P989j5WMw3DBs5myR7JHJ9slD4EM93j1m5WaA6YCH64d36HfF9cXh+uHr++vd+d1J4EmP7I/k+uT+//6787ty53KY7Zg33Te18rWB6oFW4lbR99F56Hna+dqC6oJc41zV+NXz/fOS7JJB30HA9MC08rQy3TKH6ofW+NY/3j9C30Km8Kb2/fbq++px53GX7Zfa+Nr6/vq387c43Tg63jpk5WSI64ib7pvp++lS4lL4/fip8ak83jzt/O1n5We487hK4UpL4Uu587k53TmY7pj4/vjl+uV26HZZ41la41qq8KpE30Sr8Kv0/fQ53jne+d7D9cNM4Uyg76B66Ho23TbH9cf7/vts+qXUAAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAAM8SURBVDjLdZP3X9NQFMVfFIUWLJRpVcoeYlVEQEUExIUyFFFRcfJqqiyb12paDQQKpQXZorJXARcbFRC3oohb/yHTJIUW8fyU5Hxz7/3cdx4ArDBs2XK7FSvtHSB0sF+5wm75MgwDVsIEQkenVSJnF/mlS3IXZ9EqJ0ehwIrAxK5u7h644vKVnNzcnCuXFbiHu5ureJ7APL1Ww7z8gqtKAjEilFcL8vPgai9PzOJL1qjU166TCGlYIURev6ZWrZFwBLZ2nbf2xk0lobESobx5Q+u9bq2ZkPr4UoVFNNLYCNFFhZSvj5QpIHSC6uLFvpkoVkMnIQbEXn54idLSnWZkeVaW4H5eYiD0p3SlXH9ElOnLy/VlBIcQpTrKXwgCAuUGmv/FWFF561ZlhZEvSBvkgQEgKLiqGnF+TW0dZFRXW8MRqLoqOAiEhNazr4huUKsgK5W6gR0EKetDQ8D6sNsc3niHgryoO43ct9th68EG/C77Qt9rgvNquseOhe7iGwCUN7MAqW9ZAFr0JAs0yyGQ4a1chbb2BaC9javQisvAxo5OFiC6ulUWX9XdxW4GdXZsBJs297CAiezFLQDeS5pYoGfzJhC+pa+fG/n+g4ec//DBfe5Lf9+WcBCx9dFjbtN09cAg00U1OFDNrZZ4/GhrBIiMGhoe4Vc7Ojb+5Mn42Ci/+pHhoahIEL1N9tRI8gdIko2NJMkfJ2l8KtsWDQTbd2h1z/g4mcyZNPGheqbT7tguAFhMxM6Jyal/AzM1ObEzIobJHBa7S/bcQCyOHGF4Hhcfy6ZWkLA7sV1vGzpET7cn7kkQcLGX7t2nffGSMFn//+q1dv9eqeViiA8kTQy8sco9Mfr2XdLBhaslOJSc8v6DZr4J0nx4n5J8SGB1OVPTYP6MZVBEfMz3SEu1vd6HveGnWb4JMfsZeh+x8QFIjw+cM3xhCeLL+Fzg0XRbH2AZx0Rfp83xRcppteh4xqICDHEiE377bl71928w8+Q/PkNITml/TCFU9kN7SrKEz6z8dJb8569fP+VZp2OXApgxzsQpZmYUcWcylvQZ4uw56vdv6tzZ//jMyZ+/8OfPhfMx/wOYMS5mZ1+0HeAvs9msMpv5tz0AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjQ1OjQxKzAwOjAwj8HumgAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACr1BMVEUAAAD////////////////////////////////////////////////////////9/vv5+/L////////////////////////////////////////////////////////////////////////////////////+/v7////9/fr////5+/P////////////////8/fn////////////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////3+uz1+en3+u3t9Nbd6rHK34W912i20lj4+u/j7sDD23ajxyyWvw6VvguVvgz+/v7u9drH3X+gxSWUvgmWvw39/vvm8Me00VP+/v3m8MauzkXu9Nmz0FDG3HyUvgrj7r+exCCbwhqwz0rB2XGWvw+51F7h7Lrv9dz0+Oft9NehxifF3Hrx9t/c6a+201j+//7K3oaYwBHZ56j+/vy+12moyjfn8Mn2+uy61WCwzkns89P3+u6+12qryz7p8c35+/HH3X6dwx7e67XY56aVvg2UvQjq8s6cwhuexB/R45b6/PT0+Oa20leVvgqhxijJ3oT8/fna6KqYwBOZwRavzkfB2XLL34nz+OS41F2UvQmYwBKmyDGWvwz7/PfS5JmawRebwhjT5JrB2XD1+erp8s79/vzb6ayiximixir7/PbJ3oOZwRXK3oTx9+Cpyzuqyzvj7sGexCH5+/KZwBSwz0vu9dng7LijxivO4Y6awRjO4Y+61WGXwBHt89Wpyzri7bz9/frM0I39AAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAANESURBVDjLY2AAA0ZGJmYWVjZ2juRkDnY2VhZmJkZGBiTAyMnFzcPLxy+QkpqaIsDPx8vDzcWJpIJRUEhYRDQtPSMzKzs7KzMjPU1URFhIEK6CUUxcIjknNy+/oLAICAoL8vNyc5IlxMUYYfKSUsUlpWXlhUUVYFBUWF5WWlIsJQlRwSgtI1tZVV1QWIEECguqqyplZaRBKuTkFWpq68qLKlBAUXldbY2CvBzQAC6e5PoGdHmQiob6ZB4uRgZBccW0xgKY7U3l5U0wdkFjmqK4IAOXUk1zSyHUca1tWVltrVDHFrY01yhxMSirpLQ3QeQ7Oru6e3q6uzo7ICqa2lNUlBlU1Xr7iiBG9k8oTgaC4gn9ECuL+nrVVBnUNSaCuUXlk0omJ4PB5JJJYEcXFUzUUGfQ1JoCUT512vRkKJg+bSpEbIqWJoN22gwwp2nmrGQ4mDUT7KyiGWnaDMmz54AVlM+dh1Awb245WMGc2ckMOvMXQBQsXIRQsGghRMGC+ToMuouXgBUULl1WDJMvXrYUHDJFSxbrMujpLwdzVqxsT4MpSGtfuQKsabm+HoOB4arVECPWrF0HkV+3dg3EgNWrDA0YjIzXb9gICbhNm+cBbSmet3kTJGg3blhvbMRgYrpl6zZo0G7fsXPXrp07tkODftvWLaYmDGbmOrv3rIQmk5V79+3buxKadFbu2a1jbsbAaWFZ2bwfYknFAVCaPABhb9zfXGlpwcnAaGVkffDQYcwEc+ToQWsjK2CaY7Sx1Uk9Voie5Ap3HreztwGnWk4HR6cTbU0oKoqa2k44OTtwQpK9nIvryVOnNyKpKNp45tRJNxc5WMYQdPc4e+48UrovPH/hoIcnImtxenn7XNxTATeiqGLPRR9vL06kzOnrl5x7CZGzLl8R9fNFzd7+sslHr0JDY+PVo8myASjyDAyB9irX2q+DnVF4vf2aSlAgqjwDY3AIX30bKPkWFdy4yRcajGYAUEVYePKt26Cgvn0rOTwCQx6oQjKy8s7doqK79yojJbHIA4M8Knr2/QcP7s+OjrLBpgDojBi7h48ePbSLCcYqD1QRGzf98ePpcbE45IExH5/w5ElCvBUuBUBnJCYlJaI6AADXv7i4Kd/lawAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NDk6NDUrMDA6MDBhsioHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACnVBMVEUAAAD////////////////////////////////////////////////////////7/fvy+fL////////////////////////////////////////////////////////////////////////////////////+/v7////6/Pr////////////////////4/Pj////////////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////r9uvo9Ojs9uzU69St2K1/w39gtWBPrU/u9+694L1vu28hlyEBiAEAhwD+/v7X7Nd4wHgalBoAhgAAiAD7/fvE48RKqkoCiAL9/v3D48M8pDzW7NZHqUd1vnUDiAO737sVkRUNjg1BpkFgtGBpuWkCiQJWsFa33bfa7drm8+bV69UblBtzvXPe796r16vY7Nj+//4FigWj1KP8/fzt9u1htWEsnCzG5Mbr9etYsVg/pT/R6dFitmIzoDPK5srx+PF3wHcTkBOx2rGh06EAhQDM58wPjg8UkRSQy5D0+vTl8uVOrE4dlR19wn3Q6dD4/Pim1aYIiwgJjAk+pD5qumqCxYLj8uNUr1QGiga837womij2+/aUzZQMjQwNjQ1ouGgBhwFquWrp9OnL5ssBhgGn1qcelR4elh6o1qj2+vZ+w373+/ff8N8EiAQwnjAxnjGVzZUVkhUJiwm03LQflh+IyIiJyIlZsVnT6tP8/vy53rn6/Pq97PRtAAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAAzFJREFUOMtjYAADRkYmZhZWNnaOpCQOdjZWFmYmRkYGJMDIycXNw8vHL5CckpIswM/Hy8PNxYmkglFQSFhENDUtPSMzKyszIz0tVVREWEgQroJRTFwiKTsnNy+/AAzy83JzspMkxMUYYfKSUoVFxSWlBQVlYFBQUFpSXFQoJQlRwSgtI1teUVkFlYWqqaqsKJeVkQapkJNXqK6pLUWRB6oora2pVpCXAxrAxZNUV48uD1JRX5fEw8XIICiumNrQCLO9FAhg7MaGVEVxQQYupeqm5gKo41pa29paW6COLWhuqlbiYlBWSW4vhQh0dHZ19/R0d3V2QFSUtierKDOoqvX2gfkF+f0TCpOAoHBCfz5EpK9XTZVBXWMimFtQmjVpchIYTJ6UBXZIQf5EDXUGTYEMiPIpU6clQcG0qVMgYhkCmgxa02eAOaUzZyXBwayZYGcVzJiuxZA0ew5Ewdx5CAXz5kIUzJmdxKA9fT5EwYKFCAULF0AUzJ+uzaCzaDHEviVLC2HyhUuXQMQWL9Jh0NVbBuEsb0+FKUhtXw4RW6any6BvsGIlhLdq9RqI/JrVqyAiK1cY6DMYGq1dBwnJ0vUbNgJDYvLGDeuhAuvWGhkyGJts2rwFGrRbt23fsWP7tq3QoN+yeZOJMYOpmfbOXcuhEbi8dPfu0uXQ6Fy+a6e2mSkDp7lF+Z69pbBUUABLd2Wle/eUW5hzMjBaGlrt238AM8Ec3L/PytASmOYYrW20Uw4dRk9yh48ctbWzBqdaTnsHx2Otx1ET7fHWY45O9pyQZC/n7FJ+4mQBkoqCglOny12d5WAZQ9DN/cyGLcgKtp495+6ByFqcnl7e53ddgKsouLDrvLeXJydS5vTxTcq5iMhZl3JEfX1Qs7efbNLlK9DQKL1yOUnWH0WegSHATmVRO8QZBVfbF6kEBqDKMzAGBfPVtYIyUEFjaxFfSBCaAUAVoWFJ166Dgvr6taSwcAx5oArJiPIbBwoKDtwsj5DEIg8M8sio2bemTLk1OyrSGpsCoDOibW9fvHjbNjoIqzxQRUzsnbt378TG4JAHxnxc/L178XGWuBQAnZGQmJiA6gAAFLyvxAL3bxQAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjQ5OjU2KzAwOjAwnPAwBAAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAClFBMVEUAAAD////////////////////////////////////////////////////////7//3y//n////////////////////////////////////////////////////////////////////////////////////+//7////6//3////y//r////////////////4//z////////////////////////////////////////////////////////////////////////+//7////////////////////////////////////+//7////////////////////////////////////////////////////////////////////////////+//7////////////r//fo//Xs//fU/+6t/95//8tg/79P/7nu//i9/+Rv/8Uh/6YB/5kA/5j+//7X/+94/8ka/6MA/5cA/5n7//3E/+dK/7YC/5n9//7D/+c8/7HW/+9H/7V1/8cD/5m7/+QV/6EN/55B/7Np/8NW/7u3/+La//Dm//XV/+4b/6Rz/8fe//Gr/93Y/+/+//9//8wF/5qj/9r8//7t//dh/8As/6vG/+hY/7w//7LR/+xi/8Az/63K/+rx//l3/8kT/6Cx/9+h/9nM/+oP/58U/6CQ/9L0//rl//RO/7gd/6R9/8vQ/+z4//ym/9sI/5sJ/5w+/7Fq/8OC/83j//NU/7oG/5u8/+Qo/6j2//uU/9QM/50N/53o//Zo/8MB/5jp//bL/+pB/7IB/5en/9we/6Qe/6Wo/9wI/5x+/8v3//vf//IE/5kw/6wx/6yV/9TW/+60/+Af/6WI/8+J/89Z/7zT/+25/+L6//2DMMmrAAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAAMmSURBVDjLY2AAA0ZGJmYWVjZ2juRkDnY2VhZmJkZGBiTAyMnFzcPLxy+QkpqaIsDPx8vDzcWJpIJRUEhYRDQtPSMzKzs7KzMjPU1URFhIEK6CUUxcIjknNy+/oBAMCvLzcnOSJcTFGGHyklJFxSWlZYWF5WBQWFhWWlJcJCUJUcEoLSNbUVlVDZWFqqmuqqyQlZEGqZCTV6iprStDkQeqKKurrVGQlwMawMWTXN+ALg9S0VCfzMPFyCAorpjW2ASzvQwIYOymxjRFcUEGLqWa5pZCqONa27Ky2lqhji1saa5R4mJQVklpL4M6rKOzq7u7q7MD6uCy9hQVZQZVtZ5eML+woK+/KBkIivr7CiAivT1qqgzqGhPA3MKy7ImTksFg0sRssEMKCyZoqDNoak2GKJ8ydVoyFEybOgUiNllLk0F7+gwwp2zmrGQ4mDUT7KzCGdO1GZJTZkMUzJmLUDB3DkTB7JRkBp3p8yAK5i9AKFgwH6Jg3nQdBt2FiyD2LV5SBJMvWrIYIrZooS6Dnv5SCKesPQ2mIK0dEpyFS/X1GAwMly2H8FasXAWRX7VyBURk+TJDAwYj49VroAG3dt16oC1F69ethQbtmtXGRgwmphs2boKq2Lxl67ZtW7dshspv2rjB1ITBzFxn+44yeGTu3AmPzrId23XMzRg4LSwrdu2GJQdQkoQxd++qsLTgZGC0MrLes3cfZoLZv3ePtZEVMM0x2tjqHDh4CD3JHdp62M7eBpxqOR0cnY4cPYaaaI8dPeLk7MAJSfZyLq4Vx08UIqkoLDx5qsLNRQ6WMQTdPfasO42sYPOZsx6eiKzF6eXtc27HebiKwvM7zvl4e3EiZU5fv+TcC4icdTFX1M8XNXv7yyZfaoEpaLmULBuAIs/AEGivsrAd4ozCze0LVYICUeUZGIND+C63gTJQYVNbMV9oMJoBQBVh4clXroKC+uqV5PAIDHmgCsnIimv7Cgv3Xa+IlMQiDwzyqOiUG1Om3EiJjrLBpgDojBi7mxcu3LSLCcYqD1QRGzft1q1pcbE45IExH59w+3ZCvBUuBUBnJCYlJaI6AABB269xUXFElwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NTA6MDYrMDA6MDDpi8pqAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACbVBMVEUAAAD////////////////////////////////////////////////////////7///y///////////////////////////////////////////////////////////////////////////////////////+///////6///////////////////////4///////////////////////////////////////////////////////////////////////////+///////////////////////////////////////+///////////////////////////////////////////////////////////////////////////////+///////////////r///o///s///U//+t//9///9g//9P///u//+9//9v//8h//8B//8A///+///X//94//8a///7///E//9K//8C///9///D//88///W//9H//91//8D//+7//8V//8N//9B//9p//9W//+3///a///m///V//8b//9z///e//+r///Y//8F//+j///8///t//9h//8s///G//9Y//8////R//9i//8z///K///x//93//8T//+x//+h///M//8P//8U//+Q///0///l//9O//8d//99///Q///4//+m//8I//8J//8+//9q//+C///j//9U//8G//+8//8o///2//+U//8M//9o///p///L//+n//8e//+o//9+///3///f//8E//8w//8x//+V//+0//8f//+I//+J//9Z///T//+5///6//8Ngdu6AAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAAu1JREFUOMtjYAADRkYmZhZWNnaOpCQOdjZWFmYmRkYGJMDIycXNw8vHL5CckpIswM/Hy8PNxYmkglFQSFhENDUtPSMzKyszIz0tVVREWEgQroJRTFwiKTsnNy+/AAzy83JzspMkxMUYYfKSUoVFxSUFSKCkuKhQShKiglFaRra0rLyiAAVUlJeVyspIg1TIyStUVlUXYIDqqkoFeTmgAVw8STW1BVhAbU0SDxcjg6C4YmpdPTYF9XWpiuKCDFxKlQ2NMLGm5szM5iYYr7GhUomLQVkluQXmsNa29o6O9rZWmINbklWUGVTVOrug3u/uKUwCgsKebmiAdHWqqTKoa/RCuVl9YHmgir4sqJZeDXUGTYEMCK9/wsQkKJg4oR8iliGgyaA1aTKEM2VqEhxMnQIRmzxJiyEpeRqEM30GQsGM6RCxaclJDNqTZkI4s2YjFMyeBRGbOUmbQWfOXAhn3vxCmHzh/HkQsblzdBh09RbAfJ0KU5AKC5kFeroM+gYLF0F4i5cshcgvXbIYIrJooYE+g6HRsuVQ9StWrgLaUrhq5QqowPJlRoYMxiar16yFCqxbv2Hjxg3r10G5a9esNjFmMDXT3rQZEYVbtiDYmzdpm5kycJpblG7dhi26t20ttTDnZGC0NLTavmMnpnzTju1WhpbANMdobaOdsisfXT5/w25bO2twquW0d3Dc04ymIr95j6OTPSck2cs5u5Tu3YeqYN/+UldnOVjGEHRz375yLbL8ugMH3T0QWYvT08v70ObDCPnDmw95e3lyImVOH9+knCMIBUdzRH19ULO3n2zSMXjibjyWJOuPIs/AEGCnMqcF6ox1LXNUAgNQ5RkYg4L5aprBGai+uYgvJAjNAKCK0LCk4ydACk4cTwoLx5AHqpCMKD0JDPKdp0ojJLHIA4M8Mir5dH//6eSoSGtsCoDOiLY9c+TIGdvoIKzyQBUxsRPPnp0YG4NDHhjzcfHnzsXHWeJSAHRGQmJiAqoDAOgCnVLAYqeOAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI5OjM3KzAwOjAwSlqgvwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMjo1MDoyMSswMDowMG4J85kAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACu1BMVEUAAAD////////////////////////////////////////////////////////8/f3y9/r////////////////////////////////////////////////////////////////////////////////////+/v7////6/P3////z9/r////////////////5+/z//////v/////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////s8/jp8fft9PjW5vCwz+KEtdJno8hXmcLu9fnA2Oh1q80qfrIMa6cJaqYKaqb+/v7Z6PF+sdAkea8HaKULa6f8/f3G3epRlcAJaab9/f7G3OpEjrsHaaXY5/FOlL97rs8Iaab9/v6+2Ocfdq0Yc6tJkb1no8dvqMsIaaUNbKhdncS61ebb6fLn8PbX5vAle7B5rs7f7POuzuGFtdMPbainyt/8/f5oo8g1hbbI3utfnsVHkLzT5O/u9PhppMk8ibjM4Ozx9/p9sNAcda200eSlyN4La6YGaKVwqMvO4e0Zc6wddq2Vv9j0+Pvm8PZWmMIme7GDs9LS5O/+/v/5+/ypy98Rb6kTcKpGj7xxqcyIt9Pk7/VcnMQQbqj7/f0wgbQKaqf3+vyYwdkVcaoWcquZwdpvp8vq8vfN4e1JkL2rzOAnfLEofLGszOH2+vyCs9ITb6mDtNLg7PNbnMQ5h7c5h7jA2egfd66awtry9/pvqMoSb6kMbKe30+UpfbGNutaOutZgn8XV5vC81ub7/P0PF+8/AAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAANLSURBVDjLY2AAA0ZGJmYWVjZ2juRkDnY2VhZmJkZGBiTAyMnFzcPLxy+QkpqaIsDPx8vDzcWJpIJRUEhYRDQtPSMzKzs7KzMjPU1URFhIEK6CUUxcIjknNy+/oLAICAoL8vNyc5IlxMUYYfKSUsUlpWXlhUUVYFBUWF5WWlIsJQlRwSgtI1tZVV1QU4EEagqqqyplZaRBKuTkFWrr6huKKlBAUUN9Xa2CvBzQAC6e5MYmdHmQiqbGZB4uRgZBccW05gKY7S3l5S0wdkFzmqK4IAOXUmtbeyFEqKajs6urs6MGoqSwva1ViYtBWSWluwci39vXP2HixAn9fb0QFT3dKSrKDKpqkyYXQYycMrU4GQiKp06BWFk0eZKaKoO6xjQwt6ghuwQsD1RRkg12dFHBNA11Bk2t6RDlM2bOSoaCWTNnQMSma2kyaKfNBnNa5sxNhoO5c1rACmanaTMkp8wDKyifvwChYMH8crCCeSnJDDoLF4EVNCxeglCwZHEDWMGihToMukuXgRUULl9RDJMvXrEcHDJFy5bqMujprwRzVq1ekwZTkLZm9SqwppX6egwGhmvXQYxYv2EjRH7jhvUQA9atNTRgMDLetBns5IqWLVu3bU9O3r5t6xaowOZNxkYMJqY7du6CBG3L7j179+3bu2c3RL5o184dpiYMZuY6+w+shkRg4erygwfLV0OirmL1gf065mYMnBaWh9oOQ/RUHAGlySMQdsvhtkOWFpwMjFZG1kePHcdMMCdOHrU2sgKmOUYbW53UU4XoSa5wzWk7extwquV0cHQ6c7YFRUVRy9kzTs4OnJBkL+fiWnnuPLKKopYLFyvdXORgGUPQ3ePS5SuFCAWFu68e9fBEZC1OL2+fa9cr4EYUVRy45uPtxYmUOX39knNvIHLWzVuifr6o2dtfNvnkbWhotNy+kywbgCLPwBBor3L33n2wMwrvr7mrEhSIKs/AGBzC13j2AdCSogdnS/hCg9EMAKoIC09++AgU1I8eJodHYMgDVUhGHnp8oqjoxJNDkZJY5IFBHhWd8nTGjKcp0VE22BQAnRFj9+zGjWd2McFY5YEqYuNmPX8+Ky4Whzww5uMTXrxIiLfCpQDojMSkpERUBwAAPAa7YJpbYIgAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjUwOjM0KzAwOjAw8JvcoAAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACzVBMVEUAAAD////////////////////////////////////////////////////////7/Pzy9Pb////////////////////////////////////////////////////////////////////////////////////+/v7////6+/v////////////////////4+fr////////////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////r7/Ho7O/s7/LU2+GtusZ/lKdge5JPbIfu8fO9yNFvh5whRWYBK1AAKE8AKU/+/v7X3uR4j6IaP2EAJk0AKlD7/PzEztZKZ4ICK1EAKE79/f3DzdY8XHkAJ03W3eNHZYB1jKADK1EAJ067xtAVO14NNVlBYHxgepHr7vFpgpgCLFFWcou3ws3a4OXm6u3V2+IbQWMBK1Fzip7e4+iruMVPbIbY3uQFLlOjssD8/f3t8PJhe5IsT27Gz9hYc4w/X3vR2d9ifJMzVXPK09vx8/V3jqITOVyxvcmhsL4AKVAAJUzM1NwPNloUOl2QorP09vfl6e1Oa4UdQmN9k6bQ2N/4+fqmtMIIL1QJMVY+XXpqg5mCl6nj6OxUcYoAJkwGL1S8x9EoSmr2+PmUpbUMM1cNNFiUprVogZgBKE5qgpjp7PDL1NsBJ06ntcIeQmQeQ2WotsP29/l9kqUIMVV+k6b3+Pnf5OlUcIoEKlAwUnExUnG9yNKVprYVPF4IMFUJMFVBYH3X3uO0wMwfRGWInK0MNFiJnK5ZdI3T2uEwUnC5xM/6+/yAxxLtAAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAA0hJREFUOMtjYAADRkYmZhZWNnaOpCQOdjZWFmYmRkYGJMDIycXNw8vHL5CckpIswM/Hy8PNxYmkglFQSFhENDUtPSMzKyszIz0tVVREWEgQroJRTFwiKTsnNy+/oBAICvLzcnOykyTExRhh8pJSRcUlpWWFheVgUFhYVlpSXCQlCVHBKC0jW1FZVV1TjgRqqqsqK2RlpEEq5OQVauvqGwrLUUBhQ31drYK8HNAALp6kxiZ0eZCKpsYkHi5GBkFxxdTmFpjtrWVlrTB2S3OqorggA5dSbVs7xP7Cmo7Orq7OjhqIkpr2tlolLgZlle6eBoh8b1//hIkTJ/T39UJUNPR0qygzqKpNmgzmF06ZOq0oCQiKpk2dAhGZPElNlUFdY3p+IdhRM2aC5YEqZs4AO7owf7qGOoOmQAZE+azZc5KgYM7sWRCxDAFNBq2588Cc1vkLkuBgwfxWsIJ5c7UYkroXghWULVqMULB4URlYwcLuJAbtuUvAChqWLkMoWLYU7LHCJXO1GXSWrwArKFi5qggmX7RqZQFYwYrlOgy6eqvBCtas7UmFKUjtWbsGrGC1ni6DvsG69RAnb9i4CSK/aeMGiMj6dQb6DIZGm7dAQrp167btQFuKtm/b2goJ6y2bjQwZjE127NwFCdrW3Xv27tu3d89uiHzhrp07TIwZTM209x84CI3AgwcPHTp4EBqdBw/s1zYzZeA0t6g4fKQGlthAAJqojhyusDDnZGC0NLQ6euw4ZoI5cfKolaElMM0xWttop5w6jZ7kTp85a2tnDU61nPYOjuc6z6OoKDzfec7RyZ4TkuzlnF0qLlysQVJRWHPpcoWrsxwsYwi6uV+5eg0p3dfsvn7D3QORtTg9vbxv3roNN6Lw9q2b3l6enEiZ08c3KecOzJLCmrv3RH19ULO3n2zSfWjiLq95cD9J1h9FnoEhwE5lec9DcCQXPOpZrhIYgCrPwBgUzNfYCcpAhS2Pn/CFBKEZAFQRGpb09BkopJ89TQoLx5AHqpCMqHj+orDwxcuKCEks8sAgj4zqfjVr1qvuqEhrbAqAzoi2ff3mzWvb6CCs8kAVMbFz3r6dExuDQx4Y83Hx797Fx1niUgB0RkJiYgKqAwC8prs7Sn3FCAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NTA6NDMrMDA6MDA/+es3AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACfFBMVEUAAAD////////////////////////////////////////////////////////8/P709P3////////////////////////////////////////////////////////////////////////////////////+/v7////7+/7////19f3////////////////6+v7///////7////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////v7/zs7Pvw8Pzc3Pm9vfOZme2AgOpzc+fx8fzKyvaMjOtNTeE0NN0xMdwyMtz+/v7f3/mTk+1HR+AvL9wzM938/P7Q0Pdubub9/f7Pz/djY+UwMNxsbOaRkezJyfZDQ+A9Pd5mZuWAgOmHh+t3d+jFxfXh4frr6/vd3flJSeCPj+zk5Pr+/v+7u/NycueYmO03N921tfKBgepWVuLR0fd5eeja2vmCgupcXOPV1fjz8/2SkuxBQd/AwPS0tPIyMt2Hh+rW1vg/P95CQt+mpvD29v3q6vtxceeXl+3a2vj6+v63t/M4ON06Ot5kZOWIiOubm+7p6ftSUuL4+P2pqfE8PN7t7fxnZ+W4uPNKSuFLS+G5ufM5Od2YmO74+P7l5fp2duhZWeNaWuOqqvBERN+rq/D09P05Od7e3vnDw/VMTOGgoO96eug2Nt3Hx/X7+/4Nm4E+AAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAAM8SURBVDjLdZP3X9NQFMVfFIUWLJRpVcoeYlVEQEUExIUyFFFRcfJqqiyb12paDQQKpQXZorJXARcbFRC3oohb/yHTJIUW8fyU5Hxz7/3cdx4ArDBs2XK7FSvtHSB0sF+5wm75MgwDVsIEQkenVSJnF/mlS3IXZ9EqJ0ehwIrAxK5u7h644vKVnNzcnCuXFbiHu5ureJ7APL1Ww7z8gqtKAjEilFcL8vPgai9PzOJL1qjU166TCGlYIURev6ZWrZFwBLZ2nbf2xk0lobESobx5Q+u9bq2ZkPr4UoVFNNLYCNFFhZSvj5QpIHSC6uLFvpkoVkMnIQbEXn54idLSnWZkeVaW4H5eYiD0p3SlXH9ElOnLy/VlBIcQpTrKXwgCAuUGmv/FWFF561ZlhZEvSBvkgQEgKLiqGnF+TW0dZFRXW8MRqLoqOAiEhNazr4huUKsgK5W6gR0EKetDQ8D6sNsc3niHgryoO43ct9th68EG/C77Qt9rgvNquseOhe7iGwCUN7MAqW9ZAFr0JAs0yyGQ4a1chbb2BaC9javQisvAxo5OFiC6ulUWX9XdxW4GdXZsBJs297CAiezFLQDeS5pYoGfzJhC+pa+fG/n+g4ec//DBfe5Lf9+WcBCx9dFjbtN09cAg00U1OFDNrZZ4/GhrBIiMGhoe4Vc7Ojb+5Mn42Ci/+pHhoahIEL1N9tRI8gdIko2NJMkfJ2l8KtsWDQTbd2h1z/g4mcyZNPGheqbT7tguAFhMxM6Jyal/AzM1ObEzIobJHBa7S/bcQCyOHGF4Hhcfy6ZWkLA7sV1vGzpET7cn7kkQcLGX7t2nffGSMFn//+q1dv9eqeViiA8kTQy8sco9Mfr2XdLBhaslOJSc8v6DZr4J0nx4n5J8SGB1OVPTYP6MZVBEfMz3SEu1vd6HveGnWb4JMfsZeh+x8QFIjw+cM3xhCeLL+Fzg0XRbH2AZx0Rfp83xRcppteh4xqICDHEiE377bl71928w8+Q/PkNITml/TCFU9kN7SrKEz6z8dJb8569fP+VZp2OXApgxzsQpZmYUcWcylvQZ4uw56vdv6tzZ//jMyZ+/8OfPhfMx/wOYMS5mZ1+0HeAvs9msMpv5tz0AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjUwOjU2KzAwOjAwoWvEDgAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACTFBMVEUAAAD////////////////////////////////////////////////////////9/v/5+v/////////////////////////////////////////////////////////////////////////////////////+/v/////8/f/////////////////////8/P///////v/////////////////////////////////////////////////////////////////+/v/////////////////////////////////////+/v/////////////////////////////////////////////////////////////////////////////+/v/////////////2+P/09//r8P/Y5P/D1P+1yv+txP/3+f/g6f+7z/+Xtf+Iqv+Hqf/+/v/s8f/A0v+Usv+GqP/9/f/j6/+qwv+kvv+pwf++0f+Gqf/f6P+RsP+Orv+mv/+0yv+5zf+Jq/+wxv/d5//t8v/z9v+Us/+90P/v9P/X4/+Kq//U4P/9/v/2+f+cuP/k7P/1+P+xx/+lv//p7/+2yv+gu//m7f/4+v+Qr//a5P/T3/+FqP/n7f/L2v/6+//y9v+sxP+Vs//C1P/8/P/V4f+LrP+Mrf+6zf/F1f/y9f+vxv+KrP+atv/7/P/N2/+Nrf+Nrv+4zP/W4v+VtP+WtP/6/P/C0/+MrP/D0//w9P+euv+SsP+Ssf/N3P/c5v/I1//q8P/e5//8/f/tCMxjAAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAAyFJREFUOMt1k+db01AUxm+U1QKllT0KAlXUInsjoOICRREVFZGRMMrKTSFlBVoKKGgZUqZShiJDUUARFyrrHzPkJrRlnE855/09J+9z7jkAcIFhx47b2NrZO+C4g72drc3xYxgGLAITiR2dnCUuUqKkhJC6SJydHMUiCwKTnXB1cydKy8pVFRWq8rJSwt3N9YRsj8A8PL3wyqrqGhJyQdZUV1XiXp4emKB7+1Dq2jqalbiAkK6rVVM+3ojAfP3kmvoGkld5hmyo18j9fHcJ/4CTVH0jbaWzBN1YT50M8GcbiJ1wddN+fZdoUuNOYgzIPAOJZqE/ZGiaEb7JZiLQUwbEQVRLK+TNaXVtbTotbxa2tlBBYhCsIPQ0KrR3dD57/vxZZ0c7Img9oQgGp06XdkHUsvsFhbNBvehGv4RdpadPgZAzL7kU0hVqnA91BWcaki/PhICz0nKEG3p6BaC3x4Bq5dKz4FyfikuY/lf4XrzqZzhA1XcO4ANGDqAHh8zA0CDnGxoHcKDsG0bAyKgZGB1BwHCfEoSO1aL/vX5DCTr15jWq1Y6FgvNh4ygx6QkBIPQmVBsPOw/CIya0KGudnEL61CQaLdRORISDyKjpt5xlknk3w/kcmnnHF95OR0WC6Jj3s3NotMx848KHDwuN80iHc7PvY6JBbJzy46KJf0AT/ekTbeKf07T4URkXC0TxCZqWz4ywBVDYO5L53KJJiBcBLDEyaWl55eDCfFleSopMZHcOS76gLPkK968c1JekpCZzWytKu3hpVMdYLy2jG710OU2E1t4//Ypm9ZtlDwjXVjVX0/2Fw5Bdu/79x5wl8PPX0vUb5tMSZWTe/L1ovgxILv6+mZkhsjjOW1l41br5star3LNuWZ/3bTm+/IefBvP3Hy6/Y6UDkJ2qGNMjG3BOP6a4m22tAyznnkSt27UBSZ1acj9nXwOWeJCLb6ztjnptA899eEBnCe9Hms0VCFc2NY+8D9HZkT/OGzAaDMaBvMfJhwGsjScpW+vrWylPcg7VWSL/KbW9TT3NP0JnX76gcGensCDxKIC1UVRcXGRt4D+SPpTGEJHXggAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NTE6MDYrMDA6MDAGSaFUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAClFBMVEUAAAD////////////////////////////////////////////////////////9+//58v/////////////////////////////////////////////////////////////////////////////////////+/v/////9+v/////68v/////////////////8+P/////////////////////////////////////////////////////////////////////////+/v/////////////////////////////////////+/v/////////////////////////////////////////////////////////////////////////////+/v/////////////36//16P/37P/u1P/erf/Lf/+/YP+5T//47v/kvf/Fb/+mIf+ZAf+YAP/+/v/v1//JeP+jGv+XAP+ZAP/9+//nxP+2Sv+ZAv/+/f/nw/+xPP/v1v+1R//Hdf+ZA//ku/+hFf+eDf+zQf/Daf+7Vv/it//w2v/15v/u1f+kG//Hc//x3v/dq//v2P///v/Mf/+aBf/ao//+/P/37f/AYf+rLP/oxv+8WP+yP//s0f/AYv+tM//qyv/58f/Jd/+gE//fsf/Zof/qzP+fD/+gFP/SkP/69P/05f+4Tv+kHf/Lff/s0P/8+P/bpv+bCP+cCf+xPv/Dav/Ngv/z4/+6VP+bBv/kvP+oKP/79v/UlP+dDP+dDf/26P/DaP+YAf/26f/qy/+yQf+XAf/cp/+kHv+lHv/cqP+cCP/Lfv/79//y3/+ZBP+sMP+sMf/Ulf/u1v/gtP+lH//PiP/Pif+8Wf/t0//iuf/9+v/1rAt3AAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAAMmSURBVDjLY2AAA0ZGJmYWVjZ2juRkDnY2VhZmJkZGBiTAyMnFzcPLxy+QkpqaIsDPx8vDzcWJpIJRUEhYRDQtPSMzKzs7KzMjPU1URFhIEK6CUUxcIjknNy+/oBAMCvLzcnOSJcTFGGHyklJFxSWlZYWF5WBQWFhWWlJcJCUJUcEoLSNbUVlVDZWFqqmuqqyQlZEGqZCTV6iprStDkQeqKKurrVGQlwMawMWTXN+ALg9S0VCfzMPFyCAorpjW2ASzvQwIYOymxjRFcUEGLqWa5pZCqONa27Ky2lqhji1saa5R4mJQVklpL4M6rKOzq7u7q7MD6uCy9hQVZQZVtZ5eML+woK+/KBkIivr7CiAivT1qqgzqGhPA3MKy7ImTksFg0sRssEMKCyZoqDNoak2GKJ8ydVoyFEybOgUiNllLk0F7+gwwp2zmrGQ4mDUT7KzCGdO1GZJTZkMUzJmLUDB3DkTB7JRkBp3p8yAK5i9AKFgwH6Jg3nQdBt2FiyD2LV5SBJMvWrIYIrZooS6Dnv5SCKesPQ2mIK0dEpyFS/X1GAwMly2H8FasXAWRX7VyBURk+TJDAwYj49VroAG3dt16oC1F69ethQbtmtXGRgwmphs2boKq2Lxl67ZtW7dshspv2rjB1ITBzFxn+44yeGTu3AmPzrId23XMzRg4LSwrdu2GJQdQkoQxd++qsLTgZGC0MrLes3cfZoLZv3ePtZEVMM0x2tjqHDh4CD3JHdp62M7eBpxqOR0cnY4cPYaaaI8dPeLk7MAJSfZyLq4Vx08UIqkoLDx5qsLNRQ6WMQTdPfasO42sYPOZsx6eiKzF6eXtc27HebiKwvM7zvl4e3EiZU5fv+TcC4icdTFX1M8XNXv7yyZfaoEpaLmULBuAIs/AEGivsrAd4ozCze0LVYICUeUZGIND+C63gTJQYVNbMV9oMJoBQBVh4clXroKC+uqV5PAIDHmgCsnIimv7Cgv3Xa+IlMQiDwzyqOiUG1Om3EiJjrLBpgDojBi7mxcu3LSLCcYqD1QRGzft1q1pcbE45IExH59w+3ZCvBUuBUBnJCYlJaI6AABB269xUXFElwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NTE6MjArMDA6MDAnvJMTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACbVBMVEUAAAD/////////////////////////////////////////////////////////+///8v///////////////////////////////////////////////////////////////////////////////////////v//////+v//////////////////////+P///////////////////////////////////////////////////////////////////////////v///////////////////////////////////////v///////////////////////////////////////////////////////////////////////////////v//////////////6///6P//7P//1P//rf//f///YP//T///7v//vf//b///If//Af//AP///v//1///eP//Gv//+///xP//Sv//Av///f//w///PP//1v//R///df//A///u///Ff//Df//Qf//af//Vv//t///2v//5v//1f//G///c///3v//q///2P//Bf//o////P//7f//Yf//LP//xv//WP//P///0f//Yv//M///yv//8f//d///E///sf//of//zP//D///FP//kP//9P//5f//Tv//Hf//ff//0P//+P//pv//CP//Cf//Pv//av//gv//4///VP//Bv//vP//KP//9v//lP//DP//aP//6f//y///p///Hv//qP//fv//9///3///BP//MP//Mf//lf//tP//H///iP//if//Wf//0///uf//+v8BRUUXAAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAAu1JREFUOMtjYAADRkYmZhZWNnaOpCQOdjZWFmYmRkYGJMDIycXNw8vHL5CckpIswM/Hy8PNxYmkglFQSFhENDUtPSMzKyszIz0tVVREWEgQroJRTFwiKTsnNy+/AAzy83JzspMkxMUYYfKSUoVFxSUFSKCkuKhQShKiglFaRra0rLyiAAVUlJeVyspIg1TIyStUVlUXYIDqqkoFeTmgAVw8STW1BVhAbU0SDxcjg6C4YmpdPTYF9XWpiuKCDFxKlQ2NMLGm5szM5iYYr7GhUomLQVkluQXmsNa29o6O9rZWmINbklWUGVTVOrug3u/uKUwCgsKebmiAdHWqqTKoa/RCuVl9YHmgir4sqJZeDXUGTYEMCK9/wsQkKJg4oR8iliGgyaA1aTKEM2VqEhxMnQIRmzxJiyEpeRqEM30GQsGM6RCxaclJDNqTZkI4s2YjFMyeBRGbOUmbQWfOXAhn3vxCmHzh/HkQsblzdBh09RbAfJ0KU5AKC5kFeroM+gYLF0F4i5cshcgvXbIYIrJooYE+g6HRsuVQ9StWrgLaUrhq5QqowPJlRoYMxiar16yFCqxbv2Hjxg3r10G5a9esNjFmMDXT3rQZEYVbtiDYmzdpm5kycJpblG7dhi26t20ttTDnZGC0NLTavmMnpnzTju1WhpbANMdobaOdsisfXT5/w25bO2twquW0d3Dc04ymIr95j6OTPSck2cs5u5Tu3YeqYN/+UldnOVjGEHRz375yLbL8ugMH3T0QWYvT08v70ObDCPnDmw95e3lyImVOH9+knCMIBUdzRH19ULO3n2zSMXjibjyWJOuPIs/AEGCnMqcF6ox1LXNUAgNQ5RkYg4L5aprBGai+uYgvJAjNAKCK0LCk4ydACk4cTwoLx5AHqpCMKD0JDPKdp0ojJLHIA4M8Mir5dH//6eSoSGtsCoDOiLY9c+TIGdvoIKzyQBUxsRPPnp0YG4NDHhjzcfHnzsXHWeJSAHRGQmJiAqoDAOgCnVLAYqeOAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI5OjM3KzAwOjAwSlqgvwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMjo1MTo0MiswMDowMHZMi70AAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAQAAAD+fOO3AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfnBRkAISsCR/pcAAADj0lEQVRIx5WWO2xURxSGvzN7H7a0AdFRkFSQBovKqcCyBF0kmlDS0SHRpkJKEYmGEBeENImFRJMoLlLk4caJrCguEDSguMEijYMQAu+uwfZ672v+FHe93nu9fnCmO3P+f87jn7nXGDIBNPiAD5limgk+oglsssoyf/E3/7FBAcZIEzKd0CXd1yslPve+ULm897kSvdJ9XdIJmfaBhzqnu1qTL5QrUVeb2tCGNtVVolyF5LWmuzqnUCPg47qsJalQqi2tq63W0GprXVtKVUjSki5rfIfC+rWP8xlf6GNPSoLf3RruDo6YCIet8CU/s21llCDiU77S6YJtMvZtEgJCxmlgz/mceVLDAY4Jbh4OL3cytinQaW4ygQMnOM4NJv2h8GEKD5Pc4LhwhFzgiifZA9fQqlMkeLjCBUJHk2s6VpBW4EIYITExIVYhMSClQMe4RjPgDNMixVfgJdhhgCjz0yDC8KQ0sGnOBFxUU2S1XsfENAaeBg5Hb4gCMsZQ0y46pnBFZQuiCrykiIkqnRAFOKYcZ0uC4fQj3J7+OyKsEleA46zjpMzXTnMjhmm4WlYeGScd8d7Q0VoY6Y8dvu6rzv0Qv3e0rFaxx48IFb52lsOg5XiGH67N8GQjCbKKVqABnmeOR+YdrgLJSGsUIq1pxeEwzyPHApkjqOWQ0KMYeAp6JLXzAxxkLDie8NRqMzYKenTpss02Xbr0KGpSjzB4yhNHh1nzAWFtZCKj119ZTakQEmCeWTqOlAUWjZhG7draYHRWu+YNYgwWWSB1iJfcsdcBcaWMHZK6fIQjJsBec4eXyBnkLDFjPiKCfUS0C4eICCv4miVyw4HBFj8xZ4oJD6QoH9UIE3PMsWXQF6FY5RtbbhCPuIdV9cU0sH+4x2p5kitrxfOYGVsPR3RieHgxIbbODI/xxoAADHJ+Y5Zk5w0cBQ+JIWGW38ltkNNOx8UaD2zR9V+jupTLV8nJFnnA2u73dahkg2W+5XkwshPl8PiXeyxbxV+ZO3/wvXWiWhll+hHW4Tv+tBpx1Xr8wK+WjhEMKIQRMIal/MKP9DjYhD7RQylRRy211VZLHSWS9FCT4ggmdFUvvLr9f4S2uvLSC109EhyEmrqtd4U21FZbGyqkd7qt5hEJQOiU5pXnequ3yqVc8zp1ZHif4rxWvFKl8tKKzr8XHIQCXfdvvLz8G11X8J4E/U7cUkst3Tqo+v8BGqkQrMMFpyAAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjUyOjAxKzAwOjAwKNkk2QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAQAAAD+fOO3AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfnBRkAISsCR/pcAAAD/0lEQVRIx5WVP2wcRRTGf29u9/44a5/Pd2cHEagIEgoFRYSQHMtSQkVJOsoICUVKi+gokFIgghubArAipTHCBVL448ZBFiI0caQ4whGKFRoTx3aS89k+fL7b3ZtHcb7zzdkOyWyzOzPf99773jezQsdQgAS9vMIIo7zJqwTAvyyzyG/8zj9UaIBw6FBUNKfn9Kquad3GsY001FAjja2Nta5relXPaU5FO1DSEd3nDT7kAwZiiaixS0gMeCTJkMbHUzaYYpK/iMQlUMjwLp8wHFNli01C3DhJ+snSgwd/8Dk32JV9AoUM7/Opvl6nRInQTa6lDkny5EkhS3zGD00KAYUk7/GFvrbDKtvoUSKhCH28xDHkAR8zQygIqOEtvtbTO6xQ4UiN25n08jLHkNt8xIJYo5DlEqdrrP4vvLlaYZUanOYSWcXgc4bzMSW2D9S9/7gU25SI4Txn8A0BF7SvSsmpXVES9FGgQB8Jh0RQSlTRPi4QeJxktEGZyIELOfKkSAAN6pQodwQQIsr04I1y0uOsBhFbXVoPUSS5B/BJkSbJupPjFoMkAjlrGMHUiBydsxTa8JaNCmTbfgCIqIFhxHDKml2HW8iR6uqGkCLn7FF2sYZThuMqobM5cwDeosg4MyEqHDekwDoLCcyhHjAknG8LkDJYugDW6XunuLaLELCGkuA7C3WiQyiUiLoz4yNQMtwXm3ZqjdiicYCgwZbjFUgjlvuGW8am8RynldnoomiwQdmxmkcaY7llmCXyCZwcYtZYp9qeqbLOGrETP8CHiFmPBe567wywje2wasgaFTL4QMQuOx2roBgG8OAuCx5lJs3bgclSdrKwVKhgWu3qckaWAGOZpGwImWXOp0i669gKYLHt9/34aYr4MMcsoUF5xBV5HDBIoqt9sve47UwwSIA85gqPUCMQc5MxY3MMwBEm2odDnhymwZfcJBYMCOzwPdOeFuh9JkXzRszjKdNMsyMtP6IsMy6LPRRJHkmhQJIiPcifTLDc3Gb2FLbMMyab/RSOOErNzQX6kU3GmMcKbQIQiPmZSannySKHngWhnzxSZ5JfiKVN2lJceco1mUtRJHOgDAUyFEmpzHGNp/v/1458BRb5igd9FLrOJ4BPgV74mwkWOxvrFCxwg28p5+nHdOSgGPrJQ5lv+NX1RbdiNab4KREOEbSVUISAIRIhP/IdNZ5FIPCQCe6kGdxraLN5g6ThDhM87L4tD/RMYJ5xVrIU9+7ABEWysMI4tw9etoc3/TpTUimQxWDIUkAqTHGd5x2KntAZjat6T+9pVTXWGT2hz41vUgzrktVN3VSruqTDLwQHRT29aJ9YtWqf6EX1XpAAFA30spa0pJc1OBr+H/Nbm042akI7AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI5OjM3KzAwOjAwSlqgvwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMjo1MjoyOCswMDowMP9kZncAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAQAAAD+fOO3AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfnBRkAISsCR/pcAAAEJklEQVRIx5XVT2xc1RUG8N+9M2M79tgxJDLR1MHYjosQrdRFVFUKUSToqsuy6xJVqpDYVuy6qMSiKmSTdNHWQmKTqllUon+yIFRRVbohSAQRgRxRJXWwSQzGjpzYnsnMOyzsOPPGNoX7Nk9P9/vO+b7z5yVdJ6Bi2FEnnfI9j6vjrnlX/cu/3bSmQ7LnCZHikXguXo9b0SzarWIzNmIjNqNVFO1oxq14PZ6LRyJFFyp1Ra95ys/9zKPNtOmuVeta6DNoVN2A/vClc2Z97H4qEwQH/NjLTrSsWrTonnKcIQ0No/r4j99420Z6SBAc8FO/iu+u+Z8b1iVlpYEw6AkThqVrfu0vWxSJoM9P/LY49qWP3RL7mSQkRzzlUfkTv3RBK0lE9gO/j+PLPrQk7QvfNtqY7zskvecXrqQiBwe95Piaj/4vnCRZ8pE1jnvJwZDVPOP5phtu98BDKBSix87kthuaPO8ZtazuhRhZdb2kPYSaMVOmjKmVSJJw3aoY8YJ61YxTLQs25S549h2ThlTRds91CwoPa79pwaj+U2aqno36psVS9GTGMYM73+qGDbrWlWOyaFpfPT2bnYy8ZqOUfMOkoS7KZMikRknIhjWRncye7uQ7Jf0V44Z3+T9sXKXkwx2d7OnsSKT1nqv1PYqZ1Hto10VyJOsPnVLx+rsidZ+K/lJBO4L+rEg9gLZiT4JCu4cwUWTLyUAp1bs2SpEeZLbhbknagMRyNpeLsram21q7CFpua/Z4lQtz2bu5GFHbiZkkN833pNs272ZXq4eaEbnwbnYx3T9grCSiac6c1Z0vq+bMaZYEjDkg3Xex6ooP+n501C2drj5bN2fJQQPYdMeKdqlXK47q4wNXqlbMVn54ODfMl3qvbcnS9izYNacNh1UKs1aylosuDZgy0jO2WdLR2X7rho+YMsAlF7WysOjVvHTYjGpP+dL2Uy5nzYzD8pJXLYqcaHvH6UoxboI9OqAMZ8K4Ssdr3tFOMol7/ux8f0wa+1qKwJgn9IfzzruX2N4iYd6ZdHXUtKF9KQJDpo1KHzprfuta3tKqcNnpvNowsc8oQcWEhrzqtMuKLW/yA7u0/d1sbk5qSHvOQtIwKTfN+of2A2t3FmEKX3gjXdpKsldGYNS0oUiXvOGLh//Xh5tU4qrf+WTMpP5dGQyYMsZ/nXW1u7C5+1LibX+0MuGoSlcOoWLc46z4g3+W+yL3BNp0zt9qrWMO7TgRkkOOqbX81Z9s+jqCxKfOen/EkwbZ3sODnjTC+876tHdb9mYgcdkZC4+ZVgVV0x5jwRnv7V62uwjAm87ltUkNWd4q3ppz3vRNT4jxuBDt1Xgr3orViHZciPH4xvgtihNxrYjP4rMoIq7FiW8FJ0Q1Xiw+70Qnis/jxah+SwJC1OOVWI7leCXq+8O/AuFKp/3c1qOQAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI5OjM3KzAwOjAwSlqgvwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMjo1Mjo0MiswMDowMJ17ML4AAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAQAAAD+fOO3AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfnBRkAISsCR/pcAAAER0lEQVRIx5XVS2xV1xXG8d/evrbxC7CpMbVSECGg2qlRU5tXDEVNOmmHzazDqFIVKdOqsw4qZVA1RZGgg7ZWpEyoyqBS+qADgpxSOglYkIQE2aFCIuGNMcEOhsu9Z3WAgXts0yb7zI7O919nfevbeycNK6BJl2/YY69vWa8Tcy4445/+5VOz6iTLrhApuuPFeDOuxL167W4xF7fjdszF3aJei3txJd6MF6M7UjSoUkP1ZgN+4sd67qRZ110xYx5tuq3Tq0t7uOmgMWfdT2VA0Ob7fm503iUf+9iMcp1ugwb1a+PffuUd8+kxIGjzI7+ILTdMmHBLVu40UFht2LCvSVN+6c8PEImgxQ/9unjmgnFT6vLyJik02eJ71svn/Mxh1SQR2bf9rhi54B/OS0/y+KHRNvqB9fJJP3U6FTlY5VUjNxz9v3KS5LyjbjDiVatC1my3l+446ZNF8lAsPLEI8YmT7vCS3ZqzTi/HyosmRIM8FFbYbJttNltRgiRhwkWx0ss6Kzbbe8dHZhusC9mQYWu0oGrahA8VHs9+1kf6dey1ueKF6JxztlQ9222X7kfv1ui1yvES4qxd2jvTC9meIl/zecnnAdsb5A9itN2AaGjkc9cU2Z7s2Vq+Wuq/YsiaRdNI1hhSKflwVS17NltXTzMl73v1LBOlrEdvaR4z6sm6rDXUSoB2LctmoEV7CVATtGZF0lz62ar6soC6aqmxZokim846SoCbbpcqPfyz226WAB0y09lkpVhbAsyZMr8EMG/KXAmwVqUwmb3XVPRpa6iZfeCUakledcoHpai16dNUeC87ku6v9HQpqnOOedflhXfhsncdK9UPT1sp3Xek4rT323duNan26INsxjHn9enCrKs+VS3Vb7ZVO+87XTFjrLJ9Yx50WlNDG/edc25hL5BLySgM2qhSGDOTVR0x3mWHPkXJzCZZTU3WVDKv0GeHLsYdUc3CJa/naxs8r3XR+NLCUx7nCqM2yNe87pLIiZrj9jUXWw2zTALKcr5jSHPdbxxXSzKJL/zJoY4Ysam045bKwyYjOsIhh3yRWPAmXLA/nem3Q88TESH02KFf+tABFx58lh/0qnDCvnxr0PATthK0GDYo37LPCUXyCECi5m/GKveGfVNadi8kA4ZV7hnzd7XHmXnoeLjhrTTeY6evLzEz0G+nnkjj3nLj8f3akI/EGb917hnbdS4BdNpmE/9xwJnGwZaOnsQ7/mDmOUNaGhChxZDnmPF7R8u5WHx23XXQX1dUn7f+kRMh2WDUiqq/+KO7/hcg8ZkDTq31XasXRsdqe/RyygGfLb76lpyeiRP2u7jFTq2g1S5buGi/k0tvzuVv8rcdzLPbDGjSZMCIPOugt33ZFeKpOBy1y/FGvBGXI2pxOJ6KL61/gBiNqXpMxmTUI6Zi9CvJCVGJV4rrtahFcT1eicpXBBCiM16L6ZiO16LzyfL/AjzmtojnBFLlAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI5OjM3KzAwOjAwSlqgvwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMjo1Mjo1NCswMDowMDIBBRoAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAQAAAD+fOO3AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfnBRkAISsCR/pcAAAEXklEQVRIx5XVS2xdxR3H8c/MuX5g/CBGTQzkATIggQt1K7fNgzgI5YVDWmjaRdsdrRQhsa2666ISi6o0m6SLtu6CRYIS1Er0EdGYEKV1GwlbTaxGRYkCgWAiYuKH4kaxfX3PdOHg3HPttDBnNXPm9x39/vObmaCqJci0WGOzLb5orWb8xyVnnfQ3H5pWIVRpQkEe3OUrvq/Piko2G8shR1SXGvKsYtJRB/3TlBSWAhJ1HvFD39N+LUz40EVjptFipQes0a41mXBIv3eUQxGQuMNWP7Zp2rtO+YcrKov0JLPKRht0auHvfuZNN8ItQOIO3/KT9PCoYwaMiUV3EnIrbbPdauG8n/r9AiKQqNfn55UH3/GqIRXR8i2X+arvekR2wY8cNRcEUtTtV3nPv/3WiFhYubYluS/5gUfFYXudCXlMtHlRz6iD/1dOEI04aJQeL2pLojpP2HPNG4Zr5EmuoiJfyEcVYtgbrrHHE+pKmj2ft15wTF7lPUnu9LBVuOK864JbG5c7pkd3a3zeYMlDtkwbNCGrkke9drhXI2Zc9hd/lS8iogmDOrVt8VDJU6l5yqnC6tEe39CxKLjXal/wuwLilG9qbQ5PRZsr8QNXC8436KuSE3Tos6FQjas+UIk2R11z8X2panq9XvfV7EZwn171Vf3kfXNRV9QxH8YKYVnrnmWiFN1jrbxqZMx80BE1JLOFqS0al81Ao5ZCf1aiIcpDjeCG8rKAshs1wEAejWfaCm4/Nl6IzqfFHfdxoTJtMsajc/X5uoLXScOmlwCmDZss1Gad+ty56O26fJ3mqjUzJx03U5DPOO5kIWrN1qnLvR0NKN/t8SpAMOU1h723OPKew14zVWUgedzdlA2UnDHSuv5JQ8pVObviiBEPaMeEi86ZKWS13pNaGXGmZFJ/3dceixu9pVRViVmnnb55FsgK7iu2eExdrt9kNGfAiXa73F+ISZDJlJVlskL1c/fbpZ0TBsxFyWUvZ2NdntVUc/JvfdXbeafndMnGvOyyFAPzBu1ryHttY5kEFNPANr0aKn5h0HwQCVx32JG70k7d0v9AJEm3HdqSI464HrhZm+SS/eFsp11W3RaRJB2e0Sn8ywGXFqbFBbdyQ/ZlUxtt13hbQKPtNsqm7DMkDxYBBOb9SX/97E5fF5c9C9F6O9TN6vdn87cy82nNk6teCSc67Na5xEaSPGi3jhROeMXVsPi7Kh+Bs37pwpf1WbEEsMLTunnXAWert7Vw9QTe9BuTW/VqqEIkDXptZdKvHS9edrV314xD/tg096xHFyuRRF2e0zTnD16tOaa1gMCoA06v9R0rb3pnpW9bw2kHjNY+fUtuz8CQ/T7q8Ywm0GS3Hj6y3/DSl3P5l/x1h7Lpp61XUrLeTtm0Q173WVuSVqejaf5i2pv2pospzaejaXX6zPoFxKZ0vpKG0lCqpHQ+bfpccpJUSi/kn5RTOeWfpBdS6XMCSFJzeimNp/H0Umq+vfy/0JikOgfvvUIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjUzOjA1KzAwOjAwM1Rr9AAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAQAAAD+fOO3AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfnBRkAISsCR/pcAAADzElEQVRIx5WVTUxUVxiG33tnhmF0iJ0iCVF+NJpghTSUVNOoTTMrCS1qm4mJZVFSu+h048Jg2dCdSatb3TWkTaw2ISkbBY2waGBBJGmsoggkasEfyDhDsQjM33m6YGjnzgw4fmd1v++8z7nnnPecYykrkCSXylStD/WRGlQjv6RFTWtMv2tIM/pHacnK0lgOuaW31KQ2tSiQci3bcSstySUvPuNOa159+kV/6G9h5QOQPHpHX+lzvR21ZjWhO/pL85ICqtW7qlOlylFMl/WjxpXM/gtJCB+tDEOMQU6xEwtlNYudnGKQGMAwrfjIk7cxYRink20OaXbbRifjGJigLQuBKOEYU0mGacFeVy6ETQvDJGGKY5RkENg0MZpmiEMbitfaIYZIwyhN2KvjB+iG+xwuSi7EYe4DdBNAwkMrCy/owFU0wEUHL2CBVjwiQG+am1TkdSsjSDvtBCnLq1VwkzT0EhD7iUUI5y3WcfqZ5BnPmKSf43mLGyYCMfaLTpO4x/acXT/NQwxrYXjI6RxnbOceJkGnuJZI9eQUj/IgS76KeMDRnEF6SKS4Zqt+xR5Ttq88Cmm3nFa1tFsheRzmG9OKrXpblUlr2tG5TrvkUm64tEt1jsy0kpYqbXmNlh2Fcm1Wodiscsf3sozktWVsbXIUFhUvCIhr0fG9SbZkbEXdqnAUHuu5Y03W5vxcjx2ZCrmlqK0Jr9nrKER1XbE8QEzXFXVk9sprNGHrltfUa4uj1KNLeuXIvNIl9TgyW1Qvr9Et0czSU47k+KyaLm5nvGC4TRfVOT2O8BSWaLaoVG/8g9/0pVYcI/i0Tw2qlDSrMY3m7FSpuvWZvCP6VHg5SXqGUMFzV0JJwXyIGUhzEq+wqGEgyQB7ij7OexggCQPUYAnhppm5JS7gL0pexgWWYI5m3KzuMH6+JT3L1zmHqlCz+IY5SHEG///XqsUOrhgzSvA1CIsgoxjDZXZkvS4ImwPcSXKFmg0BNfxKEv7kAHbuy+ChnfkluihdV+7jO5Zhni/w5Jkdi62cNyuPCOEuKHcT4hFmhfNsxVJ+IBroh0EaCwLeYxAM/TSgdQLxCVNwscAdXcFFgCk+XlcuSZRyhtgC4ZyV8BFmAWJ0UKoNAaKKn4nfJ5j10LgIMg5xfqJqw/EziH2MwFVq/wPUchVghPdfK88g2niS5PuMtf38QBKe0FaUPGPtc7yMcAIPHk4QgZecy7JuEYgq+kjdpZFG7kKKviJmn4M4yGSKG9wgBZMcfCO5Vo0XNpEECUyEcObgviHCz1miRDm70ez/BYYI/lv2W3BZAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI5OjM3KzAwOjAwSlqgvwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMjo1MzoxNiswMDowMM4WcfcAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",anchor:[.5,1]}],drawing_api:[{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAgCAYAAACLmoEDAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH5wUZACIosGP4JQAABapJREFUWMO1mGtsFFUUgL9zZ6bdbaEP2kpRCYj4wlciRMHEHxo0MdHEqDFG/aExvmJiYmJ8G2P0B8YYYozC+oivCAl/VMRqIkTBUIygCAiNlr6oQAttd9vS7bQ7c48/pq0QdtvZFU9yM5nZOfd895xz7zmzQomibwFlgACVCCPUI1QDCcAFAsBHydBDP2ejOEAlyN2l2XRLhaUcyCDUsoQsK4DrgCuBRmAWcALoAfbQyDaUn1nGAZrRUk1KSV59DwhpRLgLuAe4JsZMPwPrsGzA0CuP/M+wugYwCMJFKM+g3IVQEU8ZgCywAeF1LH/ioPJwfPvFpUGA4LEYeBW4DSlCP3JLBXAfSgXCC7i0TS0jhpjYXk0BHjXAE8BtaMn57gK3IzxBjhpdE18xNiyKg3ADcD/glpbtExJF5AGUGwDnjMJqChBqgccRZhVYTDTCk8bks/zvzwIeBWr1vXiwcUNpgCuAqwuCgtKwtIcFtzqU19Ywls5waGPI8d8aUeS0SET3KxAuB34kRu7Gh1VuRCjPDyqWhbcMsGI1VJ1fCRPH/wX3DrHjyX46N9XlBY5O65XAT0RFZEaPxYMVlpAvvxSoXjTIsteGqTp/LvAvbNXiuSx7dZiqRZkCfnOAy9B4HHFhhagy5d9WsxcmmXN5XZ75DHOunEPVecmC8ypz0XjbtZjjJ5H3qQLGcxHJb1CkHPGcghkpFFrIaRL/6ILBAsbA7zvBWLov7+/+QB/+8ZFpfJc5s7CKRWlFCfPCDhxI0JKyaDh8ql44TMtaJd2SLAAbAn8BNg5GvDRQLEIzUdNy6iYTIMgm+H3VXMYz3Vz8UAavqoHc0HEOpMZpSc0nyJYVgM0RNTixYGMltq5BEM4DvkdYlGcxkRg3xKsAcR1sEBJkwQbONFbaEVYCnfLwzOds3JxV4CiwLq8XZGLYwGFsyMEfgPEhZwZQC3xO1PPGamZiV3hNAcqFCJ8Ay+PqTSM7EO6/86PGv347Uo6xEFqD41isiepHhe9zXU8Pk71Ocf1sCg+4HVgNzCuVUpWjA1nz3B3vn7PxSNZ4AbjGYkJrjOPY0BqxAuNJ389eMjjk7204i3meLRoWop70ZeBJwIuvHLnGKnZ7R2LbU183fHVs2PFdo65G6SiR71QRUcCiBChpA/vFaGvRjd4E8EKUtcBNeSv+NLxtfV778011m3YeSmSciYyWU94QUJ24CIAVGLXo98UUBQAmvp26UFYDHcXoDo6azPrds5t3dSfSjkElArFMDYmuIhbEiqgVQRStQLWmaNgJYCXNZuAdou+qGSUXEvzQmty1fvfsDiMgseIhgqqoyBE1prUkWACOESJ8DHzJdEePRlHd31Pe8vb2mt3jgdgYoAIYBR/YY6DJJBKHS//f4BIA0sAbqlwMXJUXQuDYsNOb2lHd3JX2sqe/ogKCTjbwgkU1CxxE5E+gO51MnqjO5YpqZE5leGTSb+zNhawOleGpJydd/RxjX+yb1bzlYLJXmAp/FF7FqAqoBsAI0KmwxXHdzxS+u7mzswU4MT+Tof3gwf/02RcxpaCzz6ltqLKvJD19zAju5KYOlfCntsTOF7+t33pkyPUdE9U6VUVExoERVdKCdomY1hCOqxCM9veHlbW14Di0tbdP2So9DU7y8M7nTAbHfFBfGSyt8PRaI5FjuwbcQx/+Uv3r34Ou7xp1VMkBaRE5BhwVkW7Xcw+j5KwNkFyouA71Cxbwx759+TLqzEjHKo8yx97RUBm+7TnMG/Rl+N3tNU1rm6v3ey5pgaOo/q3QU5FI9I6OjfkiguN5nLt8OZs//XRmx5wpWIDvnp6duLR+9KXaZPjgjs7k1mebGtals6bDiPY7IpnusrKReb5PeVkZB1pbi57/P6fByVKXDPzOtPtmwtX1f/Qm0u3pRL/b0+VXL2xEVbm+r49v+vtLnv8f2Pk64kl5WH4AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjg6NTkrMDA6MDAzyLlbAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIzOjAyOjM4KzAwOjAwnw8TLgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAgCAYAAACLmoEDAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH5wUZACIosGP4JQAABm5JREFUWMO1mFtsXFcVhr9/nzMXj8ceu4mVG1VSFwiq4iIqKClVHygFqQgkRKNAqjyk4gFC+gBPRYI8IISgIKgQjdKXiFKUi6IGVQKiirb0kjakCiJtrk0dO26cxHbsiWdsjz23sxcPdkJIxs3xpGxpdGZ0zt77m3/9a+01I5ocXd99lrJLUnfQPXGnBtr6FxuWk5QGC5HqZpRlVlgzkckfzU1b6Opks5cZ+sUPmtozbBZ2OkjRVaxotD1910Bb/33AA8CngaVAFmMKGAbePd4+84ZDhz6x+sDJ0ye+ZM3uqWYmtXx/D4H5pSbWgx41+DwyhOAqyuwbk+Y2skPALnm3N8JGZrZv+P/CZjfvJgIhrRb2hLD1JjKKsYwBMqYN9prxJI7THqyyLT70gmygyEmB/zjYzxDfAMI4oFdVERnMNkrKGPy4Cn1cE4ubjSDug61bdoKzTqQfgW2UCJtxkSSHbLVQEJodSt27rlw7vC/WXBd3E5MFJnsQbJOkpkD/q7JC4DEHD3ostmCxYLOP78HVw05MWxDZhl/GjMgb1bqnUo+o1j2RN8waR1mQRfpeaOrMPr4zFmxczzocdyPdOx+okH125W3DD/csDzoyyY7CdLWw/9iF6J1zl5eamaRGkbD7TPQArxHDu7FgzZsDvoyRuj76c8r5r9694vIvv/kZuruyrczmQuu3P7dy4onnj+T3H7+waB7glMFDwAGgfnPF4sAKZ+IudGNCeoPurrbi1q/1THZ3ZZcAV2G7u9qWbP16z+Qdi7MF31i3wGCNmWJxxHpIIM2eTDdI481Yuai1Zc3y3KIG67meFR23rVqcbfENvSvJtESmWNm6kDqbbqi6QSJw4TymRFIqESiw+R3ZEhcgZukywIqNcsAJ8lOVqcJ0dazRzPFSZWxsslJy82knCnGrYDxYw2P0AtH1twInTl4spHe8ecZ7b5PX3vPeJne81Wcnh4otQWPaCHgf8HEwYtrAebCDGI9en2SSmK5F6d/+/dSS4kxt8LH77yy0pRNdE+Xq6B/e7KvueKvv9plalHQNXGJQAzskUyzYWAFo3bxHTnaHh5cQ3Q3FNyMRuCiTDAmcgshbNF2tU4t8MI+dMazfyx4KzA2Utm24aZ2Ne9yaR0PALmyekEnUIh8UZ6rB5VKF4kw1+DBQzLyMnc4YJmYzE/uAb92yB8x/EumPGGtvoTWYU5V/Stq0+MDT77vCIM5D5B1B4PFutpfLlMs8MDzM9rk5sZuI2uHnSaxdNyGjCNyPaGue1IZctfTkon/86kiqNNbuIScjZ6YO5yxrUlaQCut1MpGP6stXaM3idi2snzVqGH8B7gH7ISixEC1nOwjzqbHe0x3v7O105YlvmVzoZnsPBc4AzM3awpdT6fqRrvS4gxNDkXoXHMzWLbuR2SqDZ0z6imJa6YopE5OX+nPH9v01mT9bwAUyrl1g7pPZ3EUAXjDjsZdi97NXRmnbBgLvPzDpKeBsnNS48oirThcy594+mLw8MI6czYF4rr40e5U8yEvmJWRYBrOOBcMCFJ/ZaJVc58uCbcim4ySzfFRPX3rvX5lzb5+92m3cfJYwk0kXzbnepmABokwucuJZgxfsQ2kNmZEoXjiV7X3liKK6jwEqwBmUgXcd7Hfp9IWm/zdYNDpIXonxjNV+LbNPgd1Dw1NKhJXiSLbvtYNhaWz6RoubQMw1OobwmE0DZ5BOA4PjLS1TuVot/m+w60f+d+tpsbrJ7Cg+egpscjaX50Q2wwBXr1XS5/99MDXy3sg14Z8Nr+HMBGZ1oAQMGLwShOGfDF58eGDgFDB1e6FA/5kzt1raZ6uDK412+lT7TwmSm00KZYZJyCxKjZ4+nDv659eDcrGMnACZGZKqQMmMcWEfSK43glET9Zl8Pmrt7IQgoK+//3+8ccujfcPPRSrXE6Wy2wmSX7jSS4dTo2dzx1/YnxrtHTO5AKgB45IuAUOSBoMwvIBR875OVIvMwoBMNsvxY8du2OcjgQVo3/Q05oJHfCr7e3PhMledmcyeeXV/tu/VE7hwHBjC7LzBcCadHpmpVMqSCBIJPrZ2LS8/99xN9/jIYAG61v0kXWlftjVKtH4nNdb3eufRfbtUK50F5QOpMJhMlpaVy6SSSU729i54/aarQaMRJbNlVxr7jW9L7E5MXBxPlvP52vmRMitXYWZ8cWyMv+XzTa//H6b399ILDmv5AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI4OjU5KzAwOjAwM8i5WwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMzowOToxMyswMDowMCfNu14AAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]}]},o_=r_,a_=Un.getLogger("DrawingDOM"),s_={_addUID:function(e){var t=this._uid?e+"-"+this._uid:e;return t},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPdrawing"),e.className="GPwidget",e},_createShowDrawingPictoElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPshowDrawingPicto"),t.className="GPshowOpen GPshowAdvancedToolPicto",t.title=this.options.labels.control,t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener?t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowDrawingClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowDrawingClick(t)})),t},_createDrawingPanelElement:function(){var e=document.createElement("dialog");return e.id=this._addUID("GPdrawingPanel"),e.className="GPpanel",e},_createDrawingPanelDivElement:function(){var e=document.createElement("div");return e.className="gpf-panel__body fr-modal__body",e},_createDrawingPanelHeaderElement:function(){var e=document.createElement("div");e.className="GPpanelHeader";var t=document.createElement("div");t.className="GPpanelTitle",t.innerHTML=this.options.controlLabel||"Annoter la carte",e.appendChild(t);var n=document.createElement("div");n.id=this._addUID("GPdrawingPanelClose"),n.className="GPpanelClose",n.title="Fermer le panneau";var i=this;return n.addEventListener?n.addEventListener("click",(function(){document.getElementById(i._addUID("GPshowDrawingPicto")).click()}),!1):n.attachEvent&&n.attachEvent("onclick",(function(){document.getElementById(i._addUID("GPshowDrawingPicto")).click()})),e.appendChild(n),e},_createDrawingToolsSections:function(){var e=[];return this.dtOptions={},this.options.tools.points&&(this.dtOptions.points={label:this.options.labels.points,active:!1,panel:"draw",id:"point"}),this.options.tools.lines&&(this.dtOptions.lines={label:this.options.labels.lines,active:!1,panel:"draw",id:"line"}),this.options.tools.polygons&&(this.dtOptions.polygons={label:this.options.labels.polygons,active:!1,panel:"draw",id:"polygon"}),this.options.tools.holes&&(this.dtOptions.holes={label:this.options.labels.holes,active:!1,panel:"draw",id:"holes"}),this.options.tools.text&&(this.dtOptions.text={label:this.options.labels.text,active:!1,panel:"draw",id:"text"}),this.options.tools.edit&&(this.dtOptions.edit={label:this.options.labels.edit,active:!1,panel:"edit",id:"edit"}),this.options.tools.display&&(this.dtOptions.display={label:this.options.labels.display,active:!1,panel:"edit",id:"display"}),this.options.tools.tooltip&&(this.dtOptions.tooltip={label:this.options.labels.tooltip,active:!1,panel:"edit",id:"tooltip"}),this.options.tools.remove&&(this.dtOptions.remove={label:this.options.labels.remove,active:!1,panel:"edit",id:"remove"}),(this.dtOptions.points||this.dtOptions.lines||this.dtOptions.polygons||this.dtOptions.text)&&e.push(this._createDrawingToolSection(this.options.labels.creatingTools,"draw")),(this.dtOptions.edit||this.dtOptions.display||this.dtOptions.tooltip||this.dtOptions.remove)&&e.push(this._createDrawingToolSection(this.options.labels.editingTools,"edit")),this.options.tools.export&&e.push(this._createSavingSection(this.options.labels.export,this.options.labels.exportTitle)),e},_createDrawingToolSection:function(e,t){var n=document.createElement("div");n.className="drawing-tool-section";var i=document.createElement("p");i.className="drawing-tool-section-title",i.innerHTML=e,n.appendChild(i);var r=document.createElement("ul");r.className="drawing-tools-flex-display";var o=this;function a(e){o._handleDOMToolClick(e,this.id,o),o._handleToolClick(e,this.id,o)}for(var s in this.dtOptions)if(this.dtOptions[s].panel===t){var l=document.createElement("li");l.className="drawing-tool",l.id=this._addUID("drawing-tool-"+this.dtOptions[s].id),l.title=this.dtOptions[s].label,l.addEventListener("click",a),r.appendChild(l)}return n.appendChild(r),n},_createSavingSection:function(e,t){var n=document.createElement("div");n.className="drawing-tool-section drawing-tools-flex-display";var i=document.createElement("button");i.title=t,i.className="tool-form-submit drawing-button",i.id=this._addUID("drawing-export"),i.type="button",i.textContent=e;var r=this;return i.onclick=function(){r.onExportFeatureClick()},n.appendChild(i),n},_createMarkersChooser:function(e){var t=document.createElement("li");t.className=e.className;for(var n=0;n<this.options.markersList.length;n++){var i=document.createElement("input");i.type="radio",i.name="marker",i.id=this._addUID("marker-"+n),i.value=this.options.markersList[n].src,i.className="marker-input-radio",e.defaultValue===i.value&&(i.checked=!0),t.appendChild(i);var r=document.createElement("label");r.className="marker-label",r.setAttribute("for",i.id);var o=document.createElement("img");o.src=i.value,r.appendChild(o),t.appendChild(r)}return t},_createStylingElement:function(e){var t=document.createElement("li");t.className=e.className;var n=document.createTextNode(e.label);t.appendChild(n);var i=document.createElement("input");try{i.type=e.type}catch(nw){i.type="text"}return i.id=e.id,i.value=e.defaultValue,e.title&&(i.title=e.title),void 0!==e.checked&&(i.checked=e.checked),void 0!==e.min&&(i.min=e.min),void 0!==e.max&&(i.max=e.max),void 0!==e.step&&(i.step=e.step),t.appendChild(i),t},_createStylingDiv:function(e){var t=document.createElement("div");t.className="gp-styling-div";var n=document.createElement("ul"),i=null,r=e.geomType.toLowerCase();switch(r){case"point&text":case"point":i=this._createMarkersChooser({className:"gp-styling-option",defaultValue:e.initValues.markerSrc}),n.appendChild(i),i=this._createStylingElement({type:"range",className:"gp-styling-option",label:this.options.labels.markerSize,title:"petit, moyen ou grand",id:this._addUID("markerSize"),min:5,max:15,step:5,defaultValue:10*e.initValues.markerSize}),n.appendChild(i),e.initValues.markerCustom,"point&text"===r&&(i=this._createStylingElement({type:"checkbox",className:"gp-styling-option",label:this.options.labels.labelDisplay,id:this._addUID("labelDisplay"),checked:e.initValues.labelDisplay,defaultValue:e.initValues.labelDisplay}),n.appendChild(i));break;case"text":i=this._createStylingElement({type:"color",className:"gp-styling-option",label:this.options.labels.fillColor,id:this._addUID("fillColor"),defaultValue:e.initValues.fillColor}),n.appendChild(i),i=this._createStylingElement({type:"color",className:"gp-styling-option",label:this.options.labels.strokeColor,id:this._addUID("strokeColor"),defaultValue:e.initValues.strokeColor}),n.appendChild(i),i=this._createStylingElement({type:"range",className:"gp-styling-option",label:this.options.labels.strokeWidth,title:"1 à 10 pixels",id:this._addUID("strokeWidth"),min:1,max:10,step:1,defaultValue:e.initValues.strokeWidth}),n.appendChild(i);break;case"line":i=this._createStylingElement({type:"color",className:"gp-styling-option",label:this.options.labels.strokeColor,id:this._addUID("strokeColor"),defaultValue:e.initValues.strokeColor}),n.appendChild(i),i=this._createStylingElement({type:"range",className:"gp-styling-option",label:this.options.labels.strokeWidth,title:"1 à 10 pixels",id:this._addUID("strokeWidth"),min:1,max:10,step:1,defaultValue:e.initValues.strokeWidth}),n.appendChild(i);break;case"polygon":i=this._createStylingElement({type:"color",className:"gp-styling-option",label:this.options.labels.strokeColor,id:this._addUID("strokeColor"),defaultValue:e.initValues.strokeColor}),n.appendChild(i),i=this._createStylingElement({type:"range",className:"gp-styling-option",label:this.options.labels.strokeWidth,title:"1 à 10 pixels",id:this._addUID("strokeWidth"),min:1,max:10,step:1,defaultValue:e.initValues.strokeWidth}),n.appendChild(i),i=this._createStylingElement({type:"color",className:"gp-styling-option",label:this.options.labels.fillColor,id:this._addUID("fillColor"),defaultValue:e.initValues.fillColor}),n.appendChild(i),i=this._createStylingElement({type:"range",className:"gp-styling-option",label:this.options.labels.fillOpacity,title:"0 (transparent) à 100% (opaque)",id:this._addUID("fillOpacity"),min:0,max:10,step:1,defaultValue:10*e.initValues.fillOpacity}),n.appendChild(i);break;default:a_.log("Unhandled geometry type for styling.")}t.appendChild(n);var o=document.createElement("input");o.type="button",o.className="gp-styling-button",o.value=this.options.labels.applyToObject,o.onclick=function(){e.applyFunc.call(this,"apply")},t.appendChild(o);var a=document.createElement("input");a.type="button",a.value=this.options.labels.setAsDefault,a.className="gp-styling-button",a.onclick=function(){e.applyFunc.call(this,"default")},t.appendChild(a);var s=document.createElement("input");return s.type="button",s.className="gp-styling-button closer",s.onclick=function(){e.applyFunc.call(this,"cancel")},t.appendChild(s),t},_createLabelDiv:function(e){var t=document.createElement("div");t.className="gp-label-div";var n=null;if("Text"===e.geomType?(n=document.createElement("input"),n.type="text",n.className="gp-input-label-style"):(n=document.createElement("textArea"),n.rows=2,n.cols=40,n.className="gp-textarea-att-label-style"),e.text&&(n.value=e.text),n.autocomplete="off",n.placeholder=e.placeholder,n.id=e.inputId,t.appendChild(n),n.onblur=function(){e.applyFunc.call(this,e.key,n.value,!0)},n.onkeyup=function(t){"Text"===e.geomType&&13===t.keyCode&&e.applyFunc.call(this,e.key,n.value,!0),27===t.keyCode&&e.applyFunc.call(this,e.key,n.value,!1)},e.measure&&"Text"!==e.geomType){var i=document.createElement("input");i.type="text",i.readonly=!0,i.className="gp-input-measure-style",i.value=e.measure,t.appendChild(i)}if("Text"!==e.geomType){var r=document.createElement("input");r.type="button",r.className="gp-styling-button",r.value=this.options.labels.saveDescription,r.onclick=function(){e.applyFunc.call(this,e.key,n.value,!0)},t.appendChild(r);var o=document.createElement("input");o.type="button",o.className="gp-styling-button closer",o.onclick=function(){e.applyFunc.call(this,e.key,n.value,!1)},t.appendChild(o)}return t},_handleDOMToolClick:function(e,t,n){for(var i in n.dtOptions){var r=n._addUID("drawing-tool-"+n.dtOptions[i].id),o=document.getElementById(r);r===t?(n.dtOptions[i].active?o.className="drawing-tool":o.className="drawing-tool drawing-tool-active",n.dtOptions[i].active=!n.dtOptions[i].active):(o.className="drawing-tool",n.dtOptions[i].active=!1)}}},l_=s_,u_=Un.getLogger("Drawing"),c_=class e extends Qu{constructor(t){if(t=t||{},super({element:t.element,target:t.target,render:t.render}),!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return this._initialize(t),this._container=this._initContainer(),this.element?this.element.appendChild(this._container):this.element=this._container,this}static DefaultTools={points:!0,lines:!0,polygons:!0,holes:!1,text:!0,remove:!0,display:!0,tooltip:!0,edit:!0,export:!0,measure:!1};static DefaultLabels={control:"Annoter la carte",creatingTools:"Outils de création",points:"Placer des points",lines:"Dessiner des lignes",polygons:"Dessiner des polygones",holes:"Créer des trous sur un polygone",text:"Ecrire sur la carte",editingTools:"Outils d'édition",edit:"Editer les tracés",display:"Modifier l'apparence des objets",tooltip:"Modifier les textes / infos-bulles",remove:"Supprimer des objets",export:"Exporter",exportTitle:"Exporter en KML",applyToObject:"Appliquer à l'objet",saveDescription:"Enregistrer",setAsDefault:"Définir par défaut",strokeColor:"Couleur du trait : ",strokeWidth:"Epaisseur du trait : ",fillColor:"Couleur de remplissage : ",fillOpacity:"Opacité du remplissage : ",markerSize:"Taille du pictogramme : ",markerColor:"Couleur du pictogramme : ",labelDisplay:"Afficher le label : "};static DefaultStyles={textFillColor:"#000000",textStrokeColor:"#FFFFFF",textStrokeWidth:6,textIcon1x1:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGNiYAAAAAkAAxkR2eQAAAAASUVORK5CYII=",anchor:[0,0]},polyFillColor:"#ffffff",polyFillOpacity:.4,polyStrokeColor:"#ffcc33",polyStrokeWidth:4,strokeColor:"#ffcc33",strokeWidth:4,markerSize:1,markerColor:"#ffcc33",labelDisplay:!0};static DefaultCursorStyle={radius:6,strokeColor:"#FFF",strokeWidth:1,fillColor:"rgba(0, 153, 255, 1)"};setMap(e){super.setMap(e),this.getMap()&&this.eventKey&&(0,Cr.e)(this.eventKey),null!=e&&(this.options.position&&this.setPosition(this.options.position),this.draggable&&qd.dragElement(this._drawingPanel,this._drawingPanelHeader,this.options.position?null:e.getTargetElement()),this.collapsed||this._showDrawingButton.setAttribute("aria-pressed",!0),this.layer&&this.setLayer(this.layer),this.eventKey=this.getMap().getLayers().on("remove",(e=>{e.element===this.layer&&(this.layer=null,this.interactionCurrent&&(this.getMap().removeInteraction(this.interactionCurrent),this.interactionCurrent=null))})))}exportFeatures(){var e=null;if(null==Qu.prototype.getMap.call(this))return u_.log("Impossible to export : control isn't attached to any map."),e;if(!this.layer)return u_.log("Impossible to export : no layer is hosting features."),e;if(!this.layer.getSource()||!this.layer.getSource().getFeatures()||!this.layer.getSource().getFeatures().length)return u_.log("Impossible to export : no features found."),e;this.featuresCollectionSelected&&this.featuresCollectionSelected.clear();var t=null;switch(this.getExportFormat()){case"KML":t=new fi({writeStyles:!0});break;case"GPX":t=new yi({});break;case"GEOJSON":t=new Ci({});break;default:break}if(!t)return u_.log("Impossible to export : format unknown !?"),e;var n=this.layer.getSource().getProjection();return n=n||this.getMap().getView().getProjection(),e=t.writeFeatures(this.layer.getSource().getFeatures(),{dataProjection:"EPSG:4326",featureProjection:n}),e}setCollapsed(e){void 0!==e?e&&this.collapsed||!e&&!this.collapsed||(this.onShowDrawingClick(),this._showDrawingButton.click()):u_.error("[ERROR] Drawing:setCollapsed - missing collapsed parameter")}setExportName(e){this._exportName=e}getExportName(){return this._exportName}setExportFormat(e){switch(this._exportFormat=e?e.toUpperCase():"KML",e.toUpperCase()){case"KML":this._exportExt=".kml",this._exportMimeType="application/vnd.google-earth.kml+xml";break;case"GPX":this._exportExt=".gpx",this._exportMimeType="application/gpx+xml";break;case"GEOJSON":this._exportExt=".geojson",this._exportMimeType="application/geo+json";break;default:this._exportFormat="KML";break}}getExportFormat(){return this._exportFormat}setLayer(e){if(e)if(e instanceof kt.A){var t=this.getMap().getLayers();if(t){var n=!1;t.forEach((t=>{t===e&&(u_.trace("layer already in map. Not adding."),n=!0)})),n||this.getMap().addLayer(e),e.getSource().getFeatures().forEach((e=>{var t=e.getStyle();if("function"===typeof t){var n=e.getStyleFunction();if(n){var i=n.call(this,e,0);i&&0!==i.length&&e.setStyle(Array.isArray(i)?i[0]:i)}}})),this.layer=e,this.getMap().getControls().forEach((e=>{if(e instanceof Pd){var t=this.layer.gpLayerId;e._layers[t].title===t&&e.addLayer(this.layer,{title:this.options.layerDescription.title,description:this.options.layerDescription.description})}}))}}else u_.log("no valid layer given for hosting drawn features.");else this.layer=null}getLayer(){return this.layer}getContainer(){return this._container}_getsMarkersOptionsFromSrc(e){for(var t=null,n=0;n<this.options.markersList.length;n++)if(e&&this.options.markersList[n].src===e)return t=this.options.markersList[n],t;return t}_getIconStyleOptions(e){var t={};return Object.keys(e).forEach((n=>{switch(n){case"src":case"size":case"scale":case"color":case"anchor":case"anchorOrigin":case"anchorXUnits":case"anchorYUnits":t[n]=e[n];break}})),t}_initialize(t){this._uid=nc.generate(),this._exportName="Croquis",this._exportFormat="KML",this._exportMimeType="application/vnd.google-earth.kml+xml",this._exportExt=".kml",t=t||{},this.options=t,this.options.layerDescription||(this.options.layerDescription={title:"Croquis",description:"Mon croquis"}),this.options.tools||(this.options.tools={}),Object.keys(e.DefaultTools).forEach((t=>{this.options.tools.hasOwnProperty(t)||(this.options.tools[t]=e.DefaultTools[t])})),this.options.cursorStyle||(this.options.cursorStyle={}),Object.keys(e.DefaultCursorStyle).forEach((t=>{this.options.cursorStyle.hasOwnProperty(t)||(this.options.cursorStyle[t]=e.DefaultCursorStyle[t])})),this.options.collapsed=void 0===t.collapsed||t.collapsed,this.collapsed=this.options.collapsed,this.options.draggable=void 0!==t.draggable&&t.draggable,this.draggable=this.options.draggable,this.options.markersList=t.markersList||o_["drawing_api"],this.options.labels||(this.options.labels={}),Object.keys(e.DefaultLabels).forEach((t=>{this.options.labels.hasOwnProperty(t)||(this.options.labels[t]=e.DefaultLabels[t])})),this.options.defaultStyles||(this.options.defaultStyles={}),Object.keys(e.DefaultStyles).forEach((n=>{if(t.defaultStyles.hasOwnProperty(n)){if("polyFillOpacity"===n&&(t.defaultStyles[n]<0||t.defaultStyles[n]>1))return u_.log("Wrong value ("+t.defaultStyles[n]+") for defaultStyles.polyFillOpactity. Must be between 0 and 1"),void(this.options.defaultStyles[n]=e.DefaultStyles[n]);if("strokeWidth"===n||"polyStrokeWidth"===n){var i=parseInt(t.defaultStyles[n],10);if(isNaN(i)||i<0)return u_.log("Wrong value ("+t.defaultStyles[n]+") for defaultStyles.strokeWidth. Must be a positive interger value."),void(this.options.defaultStyles[n]=e.DefaultStyles[n]);this.options.defaultStyles[n]=i}if("markerSize"===n){var r=parseFloat(t.defaultStyles[n]);if(isNaN(r)||r<0)return u_.log("Wrong value ("+t.defaultStyles[n]+") for defaultStyles.markerSize. Must be a positive value."),void(this.options.defaultStyles[n]=e.DefaultStyles[n]);this.options.defaultStyles[n]=r}}else this.options.defaultStyles[n]=e.DefaultStyles[n]})),this.interactionCurrent=null,this.interactionSelectEdit=null,this.featuresCollectionSelected=null,this.stylingOvl=null,this.popupOvl=null,this.layer=null,this.options.layer&&this.options.layer instanceof kt.A&&(this.layer=this.options.layer),this._isDesktop=this._detectSupport(),this.options.popup||(this.options.popup={display:!0,apply:null})}_createEmptyLayer(){var e=new xt.A,t=new kt.A({source:new Se.A({features:e})});t.gpResultLayerId="drawing",this.setLayer(t)}_detectSupport(){var e=!0,t=window.navigator.userAgent.toLowerCase();return-1===t.indexOf("iphone")&&-1===t.indexOf("ipod")&&-1===t.indexOf("ipad")&&-1===t.indexOf("android")&&-1===t.indexOf("mobile")&&-1===t.indexOf("blackberry")&&-1===t.indexOf("tablet")&&-1===t.indexOf("phone")&&-1===t.indexOf("touch")||(e=!1),-1===t.indexOf("msie")&&-1===t.indexOf("trident")||(e=!0),e}_initContainer(){var e=this._createMainContainerElement(),t=this._showDrawingButton=this._createShowDrawingPictoElement();e.appendChild(t);var n=this._drawingPanel=this._createDrawingPanelElement(),i=this._createDrawingPanelDivElement();n.appendChild(i);var r=this._drawingPanelHeader=this._createDrawingPanelHeaderElement();i.appendChild(r);for(var o=this._createDrawingToolsSections(),a=0;a<o.length;a++)i.appendChild(o[a]);return e.appendChild(n),e}_drawEndFeature(e,t){var n=null;switch(t){case"Point":n=new Tt.Ay({image:new ti.A(this._getIconStyleOptions(this.options.markersList[0]))});break;case"LineString":n=new Tt.Ay({stroke:new ni.A({color:this.options.defaultStyles.strokeColor,width:this.options.defaultStyles.strokeWidth})});break;case"Polygon":n=new Tt.Ay({fill:new ii.A({color:ai.hexToRgba(this.options.defaultStyles.polyFillColor,this.options.defaultStyles.polyFillOpacity)}),stroke:new ni.A({color:this.options.defaultStyles.polyStrokeColor,width:this.options.defaultStyles.polyStrokeWidth})});break}if(e.setStyle(n),this._updateMeasure(e,t),this.options.popup.display){var i=this,r=function(t,n,r){if(i.getMap().removeOverlay(i.popupOvl),i.popupOvl=null,r&&n&&n.trim().length>0){var o={};o[t]=n.replace(/\n/g,"<br>"),e.setProperties(o)}},o=null,a=!0,s=this.options.popup.function;s&&"function"===typeof s&&(o=s.call(i,{feature:e,geomType:t,closeFunc:function(){r(null,!1)},saveFunc:function(e){r(e,!0)}}),o&&(a=!1,o.tabIndex=-1,o.onblur=function(){i.getMap().removeOverlay(i.popupOvl),i.popupOvl=null})),a&&(o=this._createLabelDiv({applyFunc:r,inputId:this._addUID("att-input"),placeholder:"Saisir une description...",measure:this.options.tools.measure?e.getProperties().measure:null,geomType:t,key:"description"})),this.popupOvl&&(this.getMap().removeOverlay(this.popupOvl),this.popupOvl=null),this.popupOvl=new m({element:o,positioning:"top-center"}),this.getMap().addOverlay(this.popupOvl);var l=e.getGeometry().getExtent();this.popupOvl.setPosition([(l[0]+l[2])/2,(l[1]+l[3])/2]),document.getElementById(this._addUID("att-input"))&&document.getElementById(this._addUID("att-input")).focus()}}_createRemoveInteraction(){var e=new Ut({layers:[this.layer],style:!1});return e.on("select",(e=>{e&&e.selected&&0!==e.selected.length&&(this.layer.getSource().removeFeature(e.selected[0]),this.getMap().removeInteraction(this.interactionCurrent),this.interactionCurrent=this._createRemoveInteraction(),this.getMap().addInteraction(this.interactionCurrent))})),e}_createStylingInteraction(){var e=new Ut({layers:[this.layer],style:!1});return e.on("select",(e=>{if(this.stylingOvl&&this.getMap().removeOverlay(this.stylingOvl),e&&e.selected&&0!==e.selected.length){var t=null,n=null,i=null,r=null,o={},a=e.selected[0].getGeometry(),s=e.selected[0].getStyle();if(a instanceof zt.A||a instanceof vn.A){if(s&&s.getImage()&&"function"===typeof s.getImage().getSrc&&s.getImage().getSrc()!==this.options.defaultStyles.textIcon1x1.src&&(r="Point","function"===typeof s.getImage().getSrc?(o.markerSrc=s.getImage().getSrc(),o.markerSize=s.getImage().getScale()||1,o.markerAnchor=s.getImage().getAnchor(),s.getImage().getColor()?(t=s.getImage().getColor(),Array.isArray(t)?t="rgba("+t.join()+")":o.markerColor=t,n=ai.isRGB(t)?ai.rgbaToHex(t):{hex:t,opacity:1},o.markerColor=n.hex,o.markerOpacity=n.opacity):o.markerColor=this.options.markersList[0].color||"#ffffff"):(o.markerSrc=this.options.markersList[0].src,o.markerSize=this.options.markersList[0].scale||1,o.markerColor=this.options.markersList[0].color||"#ffffff",o.markerAnchor=this.options.markersList[0].anchor),o.markerCustom=!this._getsMarkersOptionsFromSrc(o.markerSrc)),s&&s.getText()){var l=e.selected[0].getProperties().name;if(l&&(r="Point"===r?"Point&Text":"Text",s.getText().getStroke()&&s.getText().getStroke().getColor()&&(t=s.getText().getStroke().getColor(),Array.isArray(t)?t="rgba("+t.join()+")":o.strokeColor=t,n=ai.isRGB(t)?ai.rgbaToHex(t):{hex:t,opacity:1},o.strokeColor=n.hex,o.strokeOpacity=n.opacity),s.getText().getStroke()&&s.getText().getStroke().getWidth()&&(o.strokeWidth=s.getText().getStroke().getWidth()),s.getText().getFill()&&s.getText().getFill().getColor()&&(t=s.getText().getFill().getColor(),Array.isArray(t)?t="rgba("+t.join()+")":o.fillColor=t,n=ai.isRGB(t)?ai.rgbaToHex(t):{hex:t,opacity:1},o.fillColor=n.hex,o.fillOpacity=n.opacity),o.strokeColor=o.hasOwnProperty("strokeColor")?o.strokeColor:this.options.defaultStyles.textStrokeColor,o.strokeWidth=o.hasOwnProperty("strokeWidth")?o.strokeWidth:this.options.defaultStyles.textStrokeWidth,o.fillColor=o.hasOwnProperty("fillColor")?o.fillColor:this.options.defaultStyles.textFillColor,"Point&Text"===r)){var u=s.getText().getText();u||s.getText().setText(l);var c=e.selected[0].get("checked");o.labelDisplay=void 0===c?this.options.defaultStyles.labelDisplay:c}}}else a instanceof gn.A||a instanceof mn.A?(r="Line",s&&s.getStroke()&&(s.getStroke().getWidth()&&(o.strokeWidth=s.getStroke().getWidth()),s.getStroke().getColor()&&(t=s.getStroke().getColor(),Array.isArray(t)?t="rgba("+t.join()+")":o.strokeColor=t,n=ai.isRGB(t)?ai.rgbaToHex(t):{hex:t,opacity:1},o.strokeColor=n.hex,o.strokeOpacity=n.opacity)),o.strokeWidth=o.hasOwnProperty("strokeWidth")?o.strokeWidth:this.options.defaultStyles.strokeWidth,o.strokeColor=o.hasOwnProperty("strokeColor")?o.strokeColor:this.options.defaultStyles.strokeColor):(a instanceof qt.Ay||a instanceof yn.A)&&(r="Polygon",s&&s.getStroke()&&(s.getStroke().getWidth()&&(o.strokeWidth=s.getStroke().getWidth()),s.getStroke().getColor()&&(t=s.getStroke().getColor(),Array.isArray(t)?t="rgba("+t.join()+")":o.strokeColor=t,n=ai.isRGB(t)?ai.rgbaToHex(t):{hex:t,opacity:1},o.strokeColor=n.hex,o.strokeOpacity=n.opacity)),s&&s.getFill()&&s.getFill().getColor()&&(t=s.getFill().getColor(),Array.isArray(t)?t="rgba("+t.join()+")":o.fillColor=t,n=ai.isRGB(t)?ai.rgbaToHex(t):{hex:t,opacity:1},o.fillColor=n.hex,o.fillOpacity=n.opacity),o.strokeWidth=o.hasOwnProperty("strokeWidth")?o.strokeWidth:this.options.defaultStyles.polyStrokeWidth,o.strokeColor=o.hasOwnProperty("strokeColor")?o.strokeColor:this.options.defaultStyles.polyStrokeColor,o.fillColor=o.hasOwnProperty("fillColor")?o.fillColor:this.options.defaultStyles.polyFillColor,o.fillOpacity=o.hasOwnProperty("fillOpacity")?o.fillOpacity:this.options.defaultStyles.polyFillOpacity);if(r){var h=this,d=function(t){if("cancel"!==t){var n="apply"!==t,a=document.getElementById(h._addUID("fillColor")),l=document.getElementById(h._addUID("fillOpacity")),u=document.getElementById(h._addUID("strokeColor")),c=document.getElementById(h._addUID("strokeWidth")),d=document.getElementById(h._addUID("markerSize"));switch(r.toLowerCase()){case"text":n?(h.options.defaultStyles.textStrokeColor=u.value,h.options.defaultStyles.textStrokeWidth=c.value,h.options.defaultStyles.textFillColor=a.value):e.selected[0].setStyle(new Tt.Ay({text:new ri.A({font:"16px sans",textAlign:"left",text:s.getText().getText(),fill:new ii.A({color:a.value}),stroke:new ni.A({color:u.value,width:parseInt(c.value,10)})})}));break;case"point&text":case"point":var p=document.querySelector("input[type='checkbox']"),g=null,f=parseInt(d.value,10)/10,m=document.querySelector("input[name='marker']:checked");if(m&&(g=h._getsMarkersOptionsFromSrc(m.value),g.scale=f),n){if(h.options.defaultStyles.markerSize=f,h.options.markersList.length>1){var v=h.options.markersList.findIndex((function(e){return e===g}));v>0&&(h.options.markersList.splice(v,1),h.options.markersList.splice(0,0,g))}"point&text"===r.toLowerCase()&&(h.options.defaultStyles.textStrokeColor=o.strokeColor,h.options.defaultStyles.textStrokeWidth=o.strokeWidth,h.options.defaultStyles.textFillColor=o.fillColor,h.options.defaultStyles.labelDisplay=o.labelDisplay)}else{var y={};"point&text"===r.toLowerCase()&&(e.selected[0].set("checked",p.checked),y={text:new ri.A({font:"16px sans",textAlign:"left",text:p.checked?e.selected[0].get("name"):"",fill:new ii.A({color:o.fillColor}),stroke:new ni.A({color:o.strokeColor,width:parseInt(o.strokeWidth,10)})})}),g?e.selected[0].setStyle(new Tt.Ay(Object.assign({image:new ti.A(h._getIconStyleOptions(g))},y))):e.selected[0].setStyle(new Tt.Ay(Object.assign({image:new ti.A({src:o.markerSrc,anchor:o.markerAnchor,anchorOrigin:"top-left",anchorXUnits:"pixels",anchorYUnits:"pixels",scale:f})},y)))}break;case"line":n?(h.options.defaultStyles.strokeColor=u.value,h.options.defaultStyles.strokeWidth=parseInt(c.value,10)):e.selected[0].setStyle(new Tt.Ay({stroke:new ni.A({width:parseInt(c.value,10),color:u.value})}));break;case"polygon":var A=parseInt(l.value,10)/10;n?(h.options.defaultStyles.polyStrokeColor=u.value,h.options.defaultStyles.polyFillColor=a.value,h.options.defaultStyles.polyFillOpacity=A,h.options.defaultStyles.polyStrokeWidth=parseInt(c.value,10)):e.selected[0].setStyle(new Tt.Ay({stroke:new ni.A({width:parseInt(c.value,10),color:u.value}),fill:new ii.A({color:ai.hexToRgba(a.value,A)})}));break}n||h.getMap().removeOverlay(i)}else h.getMap().removeOverlay(i)},p=this._createStylingDiv({geomType:r,initValues:o,applyFunc:d});i=new m({element:p,positioning:"top-center"}),this.getMap().addOverlay(i),i.setPosition(e.mapBrowserEvent.coordinate),this.stylingOvl=i,this.getMap().removeInteraction(this.interactionCurrent),this.interactionCurrent=this._createStylingInteraction(),this.getMap().addInteraction(this.interactionCurrent)}else u_.log("Unhandled geometry type for styling.")}})),e}_createLabelInteraction(){var e=new Ut({layers:[this.layer],style:!1});return e.on("select",(e=>{if(this.labelOvl&&this.getMap().removeOverlay(this.labelOvl),e&&e.selected&&0!==e.selected.length){var t=null,n=null,i=null,r=null,o=e.selected[0].getGeometry(),a=e.selected[0].getStyle();if(o instanceof zt.A||o instanceof vn.A){var s=e.selected[0].getProperties().name;a&&a.getText()&&s?n="Text":a&&a.getImage()&&(n="Point")}else if(o instanceof gn.A||o instanceof mn.A)n="Line";else{if(!(o instanceof qt.Ay||o instanceof yn.A))return void u_.log("Geometry type for styling not supported .");n="Polygon"}if(n){if("Text"===n)i=a.getText().getText();else{var l=e.selected[0].getProperties();l&&(l.hasOwnProperty("description")||l.hasOwnProperty("desc"))&&(i=l["description"]||l["desc"]),l&&l.hasOwnProperty("measure")&&(r=l["measure"])}var u=this,c=function(i,r,o){if(u.getMap().removeOverlay(t),o){var a=e.selected[0];if("Text"===n){var s=a.getStyle();return s.getText().setText(r),a.setProperties({name:r}),void a.setStyle(s)}var l={};l[i]=r.replace(/\n/g,"<br>"),a.setProperties(l)}},h=this._createLabelDiv({applyFunc:c,inputId:this._addUID("label-input"),placeholder:"Text"===n?"Saisir un label...":"Saisir une description...",text:i,key:"description",measure:this.options.tools.measure?r:null,geomType:n});t=new m({element:h,positioning:"top-center"}),this.getMap().addOverlay(t),t.setPosition(e.mapBrowserEvent.coordinate),document.getElementById(this._addUID("label-input")).focus(),this.labelOvl=t,this.getMap().removeInteraction(this.interactionCurrent),this.interactionCurrent=this._createLabelInteraction(),this.getMap().addInteraction(this.interactionCurrent)}else u_.log("Unhandled geometry type for styling.")}})),e}_updateMeasure(e,t){u_.log(e);var n=null,i=this.getMap().getView().getProjection();function r(e,t){t=t||2;var n=Math.pow(10,t);return Math.round(e*n)/n}var o=t||e.getProperties().type;switch(o){case"Point":var a=e.getGeometry().getCoordinates(),s=(0,ne.pd)(a,i,"EPSG:4326");n="lon : ",n+=r(s[0],4)+"°",n+=" / ",n+="lat : ",n+=r(s[1],4)+"°";break;case"LineString":for(var l=0,u=e.getGeometry().getCoordinates(),c=0,h=u.length-1;c<h;++c){var d=(0,ne.pd)(u[c],i,"EPSG:4326"),p=(0,ne.pd)(u[c+1],i,"EPSG:4326");l+=(0,i_.Yf)(d,p)}n=l>1e3?r(l/1e3,3)+" km":r(l,3)+" m";break;case"Polygon":var g=0,f=e.getGeometry().clone(),m=f.getLinearRing(0).getCoordinates();g=Math.abs((0,i_.UG)(new qt.Ay([m])));var v=f.getLinearRings();if(v.length>1)for(var y=1;y<v.length;y++){var A=v[y].getCoordinates();g-=Math.abs((0,i_.UG)(new qt.Ay([A])))}n=g>1e6?r(g/1e6,3)+" km^2":r(g,2)+" m^2";break}e.setProperties({measure:n,type:o})}_handleToolClick(e,t,n){var i=n.getMap();if(i){switch(Kn.unset(i,{current:"Drawing"}),n.interactionCurrent&&(i.removeInteraction(n.interactionCurrent),n.interactionCurrent=null),n.interactionSelectEdit&&(i.removeInteraction(n.interactionSelectEdit),n.interactionSelectEdit=null),n.popupOvl&&(n.getMap().removeOverlay(n.popupOvl),n.popupOvl=null),this.layer||this._createEmptyLayer(),t){case this._addUID("drawing-tool-point"):n.dtOptions["points"].active&&(n.interactionCurrent=new On({stopClick:!0,source:n.layer.getSource(),style:new Tt.Ay({image:new ti.A(this._getIconStyleOptions(this.options.markersList[0]))}),type:"Point"}),n.interactionCurrent.on("drawend",(function(e){n._drawEndFeature(e.feature,"Point")}),n));break;case this._addUID("drawing-tool-line"):n.dtOptions["lines"].active&&(n.interactionCurrent=new On({stopClick:!0,source:n.layer.getSource(),style:new Tt.Ay({image:new ei.A({radius:this.options.cursorStyle.radius,stroke:new ni.A({color:this.options.cursorStyle.strokeColor,width:this.options.cursorStyle.strokeWidth}),fill:new ii.A({color:this.options.cursorStyle.fillColor})}),stroke:new ni.A({color:this.options.defaultStyles.strokeColor,width:this.options.defaultStyles.strokeWidth})}),type:"LineString"}),n.interactionCurrent.on("drawend",(function(e){n._drawEndFeature(e.feature,"LineString")}),n));break;case this._addUID("drawing-tool-polygon"):n.dtOptions["polygons"].active&&(n.interactionCurrent=new On({stopClick:!0,source:n.layer.getSource(),style:new Tt.Ay({image:new ei.A({radius:this.options.cursorStyle.radius,stroke:new ni.A({color:this.options.cursorStyle.strokeColor,width:this.options.cursorStyle.strokeWidth}),fill:new ii.A({color:this.options.cursorStyle.fillColor})}),stroke:new ni.A({color:this.options.defaultStyles.polyStrokeColor,width:this.options.defaultStyles.polyStrokeWidth}),fill:new ii.A({color:ai.hexToRgba(this.options.defaultStyles.polyFillColor,this.options.defaultStyles.polyFillOpacity)})}),type:"Polygon"}),n.interactionCurrent.on("drawend",(function(e){n._drawEndFeature(e.feature,"Polygon")}),n));break;case this._addUID("drawing-tool-holes"):n.dtOptions["holes"].active&&(n.interactionSelectEdit=new Ut({stopClick:!0,condition:Lt.N1,layers:[this.layer]}),n.interactionSelectEdit.setProperties({name:"Drawing",source:n}),i.addInteraction(n.interactionSelectEdit),n.interactionCurrent=new On({stopClick:!0,features:this.interactionSelectEdit.getFeatures(),style:new Tt.Ay({image:new ei.A({radius:this.options.cursorStyle.radius,stroke:new ni.A({color:this.options.cursorStyle.strokeColor,width:this.options.cursorStyle.strokeWidth}),fill:new ii.A({color:this.options.cursorStyle.fillColor})}),stroke:new ni.A({color:this.options.defaultStyles.polyStrokeColor,width:this.options.defaultStyles.polyStrokeWidth}),fill:new ii.A({color:ai.hexToRgba(this.options.defaultStyles.polyFillColor,this.options.defaultStyles.polyFillOpacity)})}),type:"Polygon"}),n.interactionCurrent.on("drawstart",(function(e){}),n),n.interactionCurrent.on("drawend",(function(e){var t=n.interactionSelectEdit.getFeatures();if(t.getLength()){for(var i=t.item(0),r=e.feature.getGeometry().getCoordinates()[0],o=!0,a=0;a<r.length;a++)if(!i.getGeometry().intersectsCoordinate(r[a])){o=!1;break}if(!o)return;i.getGeometry().appendLinearRing(new n_.A(r)),e.feature=i,n._drawEndFeature(e.feature,"Polygon")}}),n));break;case this._addUID("drawing-tool-text"):n.dtOptions["text"].active&&(n.interactionCurrent=new On({stopClick:!0,source:n.layer.getSource(),style:new Tt.Ay({image:new ei.A({radius:this.options.cursorStyle.radius,stroke:new ni.A({color:this.options.cursorStyle.strokeColor,width:this.options.cursorStyle.strokeWidth}),fill:new ii.A({color:this.options.cursorStyle.fillColor})})}),type:"Point"}),n.interactionCurrent.on("drawend",(e=>{var t=null,i=function(i,r,o){if(n.getMap().removeOverlay(t),o){var a={};a[i]=r,e.feature.setProperties(a),e.feature.setStyle(new Tt.Ay({image:new ti.A(n._getIconStyleOptions(n.options.defaultStyles.textIcon1x1)),text:new ri.A({textAlign:"left",font:"16px sans",text:r,fill:new ii.A({color:n.options.defaultStyles.textFillColor}),stroke:new ni.A({color:n.options.defaultStyles.textStrokeColor,width:3})})}))}else n.layer.getSource().removeFeature(e.feature)},r=this._createLabelDiv({applyFunc:i,inputId:n._addUID("label-input"),geomType:"Text",key:"name",placeholder:"Saisir un label..."});t=new m({element:r,positioning:"top-center"}),n.getMap().addOverlay(t),t.setPosition(e.feature.getGeometry().getCoordinates()),document.getElementById(this._addUID("label-input")).focus()})));break;case this._addUID("drawing-tool-edit"):n.dtOptions["edit"].active&&(this.featuresCollectionSelected=new xt.A,n.interactionSelectEdit=new Ut({condition:Lt.t5,layers:[this.layer],features:this.featuresCollectionSelected}),n.interactionSelectEdit.on("select",(e=>{})),n.interactionSelectEdit.setProperties({name:"Drawing",source:n}),i.addInteraction(n.interactionSelectEdit),n.interactionCurrent=new an({stopClick:!0,features:this.interactionSelectEdit.getFeatures(),style:new Tt.Ay({image:new ei.A({radius:this.options.cursorStyle.radius,stroke:new ni.A({color:this.options.cursorStyle.strokeColor,width:this.options.cursorStyle.strokeWidth}),fill:new ii.A({color:this.options.cursorStyle.fillColor})})})}),n.interactionCurrent.on("modifyend",(e=>{var t=e.features.item(0);n._updateMeasure(t)})));break;case this._addUID("drawing-tool-display"):n.dtOptions["display"].active&&(n.interactionCurrent=this._createStylingInteraction());break;case this._addUID("drawing-tool-tooltip"):n.dtOptions["tooltip"].active&&(n.interactionCurrent=this._createLabelInteraction());break;case this._addUID("drawing-tool-remove"):n.dtOptions["remove"].active&&(n.interactionCurrent=n._createRemoveInteraction());break;default:u_.trace("unhandled tool type")}n.interactionCurrent&&(n.interactionCurrent.setProperties({name:"Drawing",source:this}),i.addInteraction(n.interactionCurrent)),u_.log("interactions",i.getInteractions())}else u_.trace("Drawing control not attached to any map.")}onShowDrawingClick(){var e=this.getMap();Kn.unset(e);var t=this._showDrawingButton.ariaPressed;for(var n in this.collapsed=!("true"===t),this.dispatchEvent("change:collapsed"),this.dtOptions)if(this.dtOptions.hasOwnProperty(n)&&this.dtOptions[n].active){var i=this._addUID("drawing-tool-"+this.dtOptions[n].id);document.getElementById(i).className="drawing-tool",this.dtOptions[n].active=!1}}onExportFeatureClick(){var e=this.exportFeatures();if(e){var t=document.createElement("a"),n="utf-8";if(t.setAttribute("href","data:"+this._exportMimeType+";charset="+n+","+encodeURIComponent(e)),t.setAttribute("download",this.getExportName()+this._exportExt),document.createEvent){var i=document.createEvent("MouseEvents");i.initEvent("click",!0,!0),t.dispatchEvent(i)}else t.click()}}};Object.assign(c_.prototype,l_);var h_=c_;window.ol&&window.ol.control&&(window.ol.control.Drawing=c_);var d_=Un.getLogger("LocationSelectorDOM"),p_={_addUID:function(e){var t=this._uid?e+"-"+this._uid:e;return t},_createMainContainerElement:function(){var e=document.createElement("div");return e.className=this._addUID("GPlocationPoint"),e.className+=" GPwidget gpf-widget",e},_createLocationPointElement:function(e,t){var n=document.createElement("div");return n.id=this._addUID("GPlocationPoint_"+e),n.className=t?"GPflexInput GPlocationStageFlexInput gpf-flex":"GPflexInput GPelementHidden gpf-flex gpf-hidden",n.style.cssText="",n},_createLocationPointLabelElement:function(e,t){var n=this,i=document.createElement("button");return i.id=this._addUID("GPlocationOriginLabel_"+e),i.innerHTML=t,i.className="GPlocationOriginLabel gpf-btn gpf-btn-icon-label fr-btn",i.addEventListener("click",(function(e){for(var t=nc.index(this.id),i=document.getElementsByClassName(n._addUID("GPlocationPoint")),r=0;r<i.length;r++){var o=i[r].childNodes[0].id,a=nc.index(o);document.getElementById(n._addUID("GPlocationPoint_"+a)).style.cssText=""}document.getElementById(n._addUID("GPlocationOriginCoords_"+t)).value="",document.getElementById(n._addUID("GPlocationOrigin_"+t)).value="",document.getElementById(n._addUID("GPlocationPoint_"+t)).style.cssText="",document.getElementById(n._addUID("GPlocationOriginPointer_"+t)).checked=!1,document.getElementById(n._addUID("GPlocationOrigin_"+t)).className="GPelementShow gpf-show  gpf-input fr-input",document.getElementById(n._addUID("GPlocationOriginCoords_"+t)).className="GPelementHidden gpf-hidden",document.getElementById(n._addUID("GPlocationStageRemove_"+t))&&(document.getElementById(n._addUID("GPlocationStageRemove_"+t)).className="GPlocationStageRemove gpf-btn gpf-btn-icon-remove fr-btn--sm"),document.getElementById(n._addUID("GPlocationStageAdd"))&&(document.getElementById(n._addUID("GPlocationStageAdd")).className="GPlocationStageAdd gpf-btn gpf-btn-icon-add fr-btn--sm"),n.onLocationClearPointClick(e)})),i},_createLocationAutoCompleteteInputElement:function(e){var t=this,n=document.createElement("input");return n.id=this._addUID("GPlocationOrigin_"+e),n.className="GPelementShow gpf-show gpf-input fr-input",n.type="text",n.placeholder="Saisir une adresse",n.autocomplete="off",n.addEventListener("keyup",(function(e){var n=e.which||e.keyCode;if(13!==n&&10!==n&&38!==n&&40!==n){var i=nc.index(this.id);document.getElementById(t._addUID("GPlocationOrigin_"+i)).value.length>2?(document.getElementById(t._addUID("GPlocationAutoCompleteList_"+i)).classList.replace("GPelementHidden","GPelementVisible"),document.getElementById(t._addUID("GPlocationAutoCompleteList_"+i)).classList.replace("gpf-hidden","gpf-visible")):(document.getElementById(t._addUID("GPlocationAutoCompleteList_"+i)).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(t._addUID("GPlocationAutoCompleteList_"+i)).classList.replace("gpf-visible","gpf-hidden")),t.onAutoCompleteSearchText(e)}})),n.addEventListener("keydown",(function(n){var i=n.which||n.keyCode,r=document.getElementById(t._addUID("GPlocationAutoCompleteResult_"+e));if(r){var o=r.getElementsByClassName("GPautoCompleteProposal current"),a=r.getElementsByClassName("GPautoCompleteProposal"),s=a.length;if(s){var l=null;if(!o.length)return l=a[0],l.className="GPautoCompleteProposal current",l.style.color="#000000",void(l.style["background-color"]="#CEDBEF");l=o[0];var u=parseInt(nc.index(l.id),10),c=u===s-1?a[0]:a[u+1],h=0===u?a[s-1]:a[u-1];switch(l.style["background-color"]="",l.style.color="",h.style["background-color"]="",h.style.color="",c.style["background-color"]="",c.style.color="",i){case 38:d_.log("arrow up"),l.className="GPautoCompleteProposal",h.className="GPautoCompleteProposal current",h.style.color="#000000",h.style["background-color"]="#CEDBEF";break;case 40:d_.log("arrow down"),l.className="GPautoCompleteProposal",c.className="GPautoCompleteProposal current",c.style.color="#000000",c.style["background-color"]="#CEDBEF";break;case 13:d_.log("enter"),l.click(n);break}l.focus()}}})),n},_createLocationCoordinateInputElement:function(e){var t=this,n=document.createElement("input");return n.id=this._addUID("GPlocationOriginCoords_"+e),n.className="GPelementHidden gpf-input gpf-hidden fr-input",n.type="text",n.disabled=!1,n.addEventListener("click",(function(){var e=nc.index(this.id);document.getElementById(t._addUID("GPlocationOriginLabel_"+e)).click()})),n},_createLocationPointerShowInputElement:function(e){var t=document.createElement("input");return t.id=this._addUID("GPlocationOriginPointer_"+e),t.className="GPelementHidden gpf-hidden",t.type="checkbox",t},_createLocationPointerInputElement:function(e){var t=this,n=document.createElement("button");return n.id=this._addUID("GPlocationOriginPointerImg_"+e),n.htmlFor=this._addUID("GPlocationOriginPointer_"+e),n.className="GPlocationOriginPointerImg gpf-btn gpf-btn-icon-pointer fr-btn",n.title="Pointer un lieu sur la carte",n.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation();var n,i,r,o=nc.index(this.id),a=document.getElementsByClassName(t._addUID("GPlocationPoint"));for(n=0;n<a.length;n++)i=a[n].childNodes[0].id,r=nc.index(i),o!==r&&(document.getElementById(t._addUID("GPlocationOriginPointer_"+r)).checked=!1,"Pointer un lieu sur la carte"===document.getElementById(t._addUID("GPlocationOriginCoords_"+r)).value&&(document.getElementById(t._addUID("GPlocationOriginCoords_"+r)).value="",document.getElementById(t._addUID("GPlocationOrigin_"+r)).className="GPelementShow gpf-show  gpf-input fr-input",document.getElementById(t._addUID("GPlocationOriginCoords_"+r)).className="GPelementHidden gpf-hidden"));if(document.getElementById(t._addUID("GPlocationOriginPointer_"+o)).checked){for(document.getElementById(t._addUID("GPlocationOriginCoords_"+o)).value="",n=0;n<a.length;n++)i=a[n].childNodes[0].id,r=nc.index(i),document.getElementById(t._addUID("GPlocationPoint_"+r)).style.cssText="";document.getElementById(t._addUID("GPlocationStageRemove_"+o))&&(document.getElementById(t._addUID("GPlocationStageRemove_"+o)).className="GPlocationStageRemove  gpf-btn gpf-btn-icon-remove fr-btn--sm"),document.getElementById(t._addUID("GPlocationStageAdd"))&&(document.getElementById(t._addUID("GPlocationStageAdd")).className="GPlocationStageAdd gpf-btn gpf-btn-icon-add fr-btn--sm"),document.getElementById(t._addUID("GPlocationOriginPointer_"+o)).checked=!1,document.getElementById(t._addUID("GPlocationOrigin_"+o)).className="GPelementShow gpf-show  gpf-input fr-input",document.getElementById(t._addUID("GPlocationOriginCoords_"+o)).className="GPelementHidden gpf-hidden"}else{for(document.getElementById(t._addUID("GPlocationOriginCoords_"+o)).value="Pointer un lieu sur la carte",n=0;n<a.length;n++)i=a[n].childNodes[0].id,r=nc.index(i),o===r?document.getElementById(t._addUID("GPlocationPoint_"+r)).style.cssText="":document.getElementById(t._addUID("GPlocationPoint_"+r)).style.display="none";document.getElementById(t._addUID("GPlocationStageRemove_"+o))&&(document.getElementById(t._addUID("GPlocationStageRemove_"+o)).className="GPelementHidden gpf-hidden"),document.getElementById(t._addUID("GPlocationStageAdd"))&&(document.getElementById(t._addUID("GPlocationStageAdd")).className="GPelementHidden gpf-hidden"),document.getElementById(t._addUID("GPlocationOriginPointer_"+o)).checked=!0,document.getElementById(t._addUID("GPlocationOrigin_"+o)).className="GPelementHidden gpf-hidden",document.getElementById(t._addUID("GPlocationOriginCoords_"+o)).className="GPelementShow gpf-show gpf-input fr-input",document.getElementById(t._addUID("GPlocationOriginCoords_"+o)).disabled=!0}t.onActivateMapPointClick(e)})),n},_createLocationRemovePointElement:function(e){var t=this,n=document.createElement("button");return n.id=this._addUID("GPlocationStageRemove_"+e),n.className="GPlocationOpen GPlocationStageRemove gpf-btn gpf-btn-icon-remove fr-btn--sm",n.title="Supprimer l'étape",n.setAttribute("tabindex","0"),n.setAttribute("aria-pressed",!1),n.addEventListener("click",(function(n){var i="true"===n.target.ariaPressed;n.target.setAttribute("aria-pressed",!i);var r=document.getElementsByClassName(t._addUID("GPlocationPoint")),o=r.length-1,a=r[0].childNodes[0].id,s=r[o].childNodes[0].id,l=nc.index(a),u=nc.index(s);if(e!==l&&e!==u){var c=nc.index(this.id);document.getElementById(t._addUID("GPlocationPoint_"+c)).className="GPflexInput GPelementHidden gpf-flex gpf-hidden",document.getElementById(t._addUID("GPlocationOrigin_"+c)).value="",document.getElementById(t._addUID("GPlocationOrigin_"+c)).className="GPelementShow gpf-show gpf-input fr-input",document.getElementById(t._addUID("GPlocationOriginCoords_"+c)).value="",document.getElementById(t._addUID("GPlocationOriginCoords_"+c)).className="GPelementHidden gpf-hidden",document.getElementById(t._addUID("GPlocationStageAdd")).style.display="",t.onLocationRemovePointClick(n)}})),n},_createLocationAddPointElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPlocationStageAdd"),t.className="GPlocationOpen GPlocationStageAdd gpf-btn gpf-btn-icon-add fr-btn--sm",t.title="Ajouter une étape",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener("click",(function(t){for(var n=1,i=0,r=document.getElementsByClassName(e._addUID("GPlocationPoint")),o=1;o<r.length-1;o++){var a=r[o].childNodes[0].id,s=nc.index(a);document.getElementById(e._addUID("GPlocationPoint_"+s))&&("GPflexInput GPelementHidden gpf-flex gpf-hidden"===document.getElementById(e._addUID("GPlocationPoint_"+s)).className?1===n&&(n=s):i++)}n<r.length&&(document.getElementById(e._addUID("GPlocationPoint_"+n)).className="GPflexInput GPlocationStageFlexInput gpf-flex"),4===i&&(document.getElementById(e._addUID("GPlocationStageAdd")).style.display="none");var l="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!l),e.onLocationAddPointClick(t)})),t},_createLocationAutoCompleteElement:function(e){var t=document.createElement("div");return t.id=this._addUID("GPlocationAutoCompleteList_"+e),t.className="GPlocationAutoCompleteList GPelementHidden gpf-panel gpf-hidden fr-modal",t},_createLocationAutoCompleteResultElement:function(e){var t=this,n=document.createElement("div");return n.id=this._addUID("GPlocationAutoCompleteResult_"+e),n.className="GPadvancedAutoCompleteResult gpf-panel__list",n.addEventListener?n.addEventListener("click",(function(n){t.onAutoCompletedResultsItemClick(n),document.getElementById(t._addUID("GPlocationAutoCompleteList_"+e)).classList.replace("GPelementHidden","GPelementVisible"),document.getElementById(t._addUID("GPlocationAutoCompleteList_"+e)).classList.replace("gpf-hidden","gpf-visible")}),!1):n.attachEvent&&n.attachEvent("onclick",(function(n){t.onAutoCompletedResultsItemClick(n),document.getElementById(t._addUID("GPlocationAutoCompleteList_"+e)).classList.replace("GPelementHidden","GPelementVisible"),document.getElementById(t._addUID("GPlocationAutoCompleteList_"+e)).classList.replace("gpf-hidden","gpf-visible")})),n},_createLocationAutoCompletedLocationElement:function(e,t,n){var i=document.getElementById(this._addUID("GPlocationAutoCompleteResult_"+e)),r=document.createElement("div");r.id=this._addUID("AutoCompletedLocation_"+n),r.className="GPautoCompleteProposal gpf-panel__items",r.innerHTML=Nd.getSuggestedLocationFreeform(t),i.appendChild(r)},GPdisplayCoordinate:function(e){for(var t=document.getElementsByClassName(this._addUID("GPlocationPoint")),n=0;n<t.length;n++){var i=t[n].childNodes[0].id,r=nc.index(i);if(document.getElementById(this._addUID("GPlocationOriginPointer_"+r)).checked){document.getElementById(this._addUID("GPlocationOriginCoords_"+r)).value=e,document.getElementById(this._addUID("GPlocationOriginCoords_"+r)).disabled=!1;for(var o=0;o<t.length;o++){i=t[o].childNodes[0].id;var a=nc.index(i);document.getElementById(this._addUID("GPlocationPoint_"+a)).style.cssText="",document.getElementById(this._addUID("GPlocationStageRemove_"+a))&&(document.getElementById(this._addUID("GPlocationStageRemove_"+a)).className="GPlocationStageRemove gpf-btn gpf-btn-icon-remove fr-btn--sm")}return document.getElementById(this._addUID("GPlocationOriginPointer_"+r)).checked=!1,void(document.getElementById(this._addUID("GPlocationStageAdd"))&&(document.getElementById(this._addUID("GPlocationStageAdd")).className="GPlocationStageAdd gpf-btn gpf-btn-icon-add fr-btn--sm"))}}}},g_=p_,f_=Un.getLogger("locationselector"),m_=class e extends Yn.A{constructor(t){if(t=t||{},super({element:t.element||document.createElement("div"),render:t.render,target:t.target}),!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return this.initialize(t),this._container=this._initContainer(),this.element?this.element.appendChild(this._container):this.element=this._container,this}initialize(e){this.options={tag:{id:1,groupId:null,label:">",display:!0,addOption:!1,removeOption:!1},displayInfo:!0,autocompleteOptions:{}},qn.mergeParams(this.options,e),this._uid=this.options.tag.groupId||nc.generate(),this._map=null,this._inputsContainer=null,this._buttonLabel=null,this._inputAutoComplete=null,this._inputShowPointerContainer=null,this._inputShowPointer=null,this._inputCoordinateContainer=null,this._addPointElement=null,this._removePointElement=null,this._coordinate=null,this._suggestedContainer=null,this._suggestedList=null,this._suggestedLocations=[],this._currentLocation=null,this._initMarker(),this._resources={},this.listenerKey=null}_initMarker(){if(this._marker=null,this._markerUrl="",this._markerOffset=[0,0],this.options.tag.markerOpts&&this.options.tag.markerOpts.url){this._markerUrl=this.options.tag.markerOpts.url;var e=this.options.tag.markerOpts.offset;e&&(Array.isArray(e)&&2===e.length?this._markerOffset=e:f_.log("markerOpts.offset should be an array. e.g. : [0,0]"))}else this._markerUrl=Qn["lightOrange"],this._markerOffset=Qn.defaultOffset}getCoordinate(){return this._coordinate}setCoordinate(e,t){var n=this.getMap(),i=n.getView().getProjection().getCode();t||(t=i),this._setCoordinate(e,t),e=(0,ne.pd)(e,t,i),this._setMarker([e[0],e[1]],null,!1)}clear(){this.clearResults(),this._buttonLabel.click()}clearResults(){this._currentLocation=null,this._coordinate=null,this._hideSuggestedLocation(),this._clearSuggestedLocation(),this._setMarker(),(0,Cr.e)(this.listenerKey)}_initContainer(){var e=this.options.tag.id,t=this._createMainContainerElement(),n=this._inputsContainer=this._createLocationPointElement(e,this.options.tag.display);t.appendChild(n);var i=this._buttonLabel=this._createLocationPointLabelElement(e,this.options.tag.label);n.appendChild(i);var r=this._inputAutoComplete=this._createLocationAutoCompleteteInputElement(e);r.addEventListener?r.addEventListener("click",(()=>this.onAutoCompleteInputClick())):r.attachEvent&&r.attachEvent("onclick",(()=>this.onAutoCompleteInputClick())),n.appendChild(r);var o=this._inputCoordinateContainer=this._createLocationCoordinateInputElement(e);n.appendChild(o);var a=this._inputShowPointerContainer=this._createLocationPointerShowInputElement(e);n.appendChild(a);var s=this._inputShowPointer=this._createLocationPointerInputElement(e);if(n.appendChild(s),this.options.tag.addOption){var l=this._addPointElement=this._createLocationAddPointElement();n.appendChild(l)}if(this.options.tag.removeOption){var u=this._removePointElement=this._createLocationRemovePointElement(e);n.appendChild(u)}var c=this._suggestedContainer=this._createLocationAutoCompleteElement(e),h=this._suggestedList=this._createLocationAutoCompleteResultElement(e);return c.appendChild(h),t.appendChild(c),t}onAutoCompleteInputClick(){this._inputAutoComplete&&this._inputAutoComplete.value.length>2&&this._displaySuggestedLocation()}onAutoCompleteSearchText(e){var t=e.target.value;if(t){var n=this.options.autocompleteOptions||{},i=n.onSuccess||null,r=n.onFailure||null;if(this._currentLocation=t,t.length<3)this._clearSuggestedLocation();else{var o=this;this._requestAutoComplete({text:t,maximumResponses:5,onSuccess:function(e){if(e){var t=e.suggestedLocations;o._fillAutoCompletedLocationListContainer(t),i&&i.call(this,e)}},onFailure:function(e){o._clearSuggestedLocation(),f_.log(e.message),r&&r.call(this,e)}});var a=this.getMap();a.on("click",(()=>this._hideSuggestedLocation())),a.on("pointerdrag",(()=>this._hideSuggestedLocation()))}}}onAutoCompletedResultsItemClick(e){var t=nc.index(e.target.id);if(t){var n=[this._suggestedLocations[t].position.x,this._suggestedLocations[t].position.y];this._coordinate=n;var i={type:this._suggestedLocations[t].type,fields:this._suggestedLocations[t]},r=Nd.getSuggestedLocationFreeform(this._suggestedLocations[t]);this._setLabel(r);var o=this.getMap().getView(),a=o.getProjection().getCode();"EPSG:4326"!==a&&(n=(0,ne.pd)(n,"EPSG:4326",a)),this._setPosition(n),this._setMarker(n,i,this.options.displayInfo)}}onActivateMapPointClick(){var e=this.getMap();this._inputShowPointerContainer.checked?(this.clearResults(),this.listenerKey=e.on("click",(e=>this.onMouseMapClick(e))),this._setCursor("crosshair")):((0,Cr.e)(this.listenerKey),this._setCursor())}onLocationClearPointClick(){this._setCursor(),this.clearResults()}onLocationRemovePointClick(){this._setCursor(),this.clearResults()}onLocationAddPointClick(e){f_.log("onRouteAddPointClick",e)}onMouseMapClick(e){var t=e.coordinate;if(e.map&&e.map.getView()){var n=e.map.getView().getProjection();this._setCoordinate(t,n),this._setMarker([t[0],t[1]],null,!1),this.onActivateMapPointClick(e)}}_setLabel(e){this._inputAutoComplete.value=e}_setCursor(e){var t=this.getMap(),n=t.getTargetElement();n.style.cursor=e||null}_setCoordinate(e,t){this._coordinate=(0,ne.pd)(e,t,"EPSG:4326");var n=this._coordinate[0].toFixed(4),i=this._coordinate[1].toFixed(4),r=i+" / "+n;this.GPdisplayCoordinate(r)}_setPosition(e){var t=this.getMap().getView();t.setCenter(e)}_setMarker(e,t,n){var i=this.getMap();if(null!=this._marker&&(i.removeOverlay(this._marker),this._marker=null),e){var r=document.createElement("img");r.src=this._markerUrl,this._marker=new m({position:e,offset:this._markerOffset,element:r,stopEvent:!1}),i.addOverlay(this._marker),n&&f_.log("marker information : ",t)}}_clearSuggestedLocation(){if(this._suggestedLocations=[],this._suggestedList)while(this._suggestedList.firstChild)this._suggestedList.removeChild(this._suggestedList.firstChild)}_hideSuggestedLocation(){this._suggestedContainer&&(this._suggestedContainer.classList.replace("GPelementVisible","GPelementHidden"),this._suggestedContainer.classList.replace("gpf-visible","gpf-hidden"))}_displaySuggestedLocation(){this._suggestedContainer&&(this._suggestedContainer.classList.replace("GPelementHidden","GPelementVisible"),this._suggestedContainer.classList.replace("gpf-hidden","gpf-visible"))}_requestAutoComplete(e){if(f_.log("_requestAutoComplete()",e),e&&0!==Object.keys(e).length&&e.text){f_.log(e);var t={};qn.assign(t,this.options.autocompleteOptions),qn.assign(t,e);var n=this._resources["AutoCompletion"]||null;n&&Array.isArray(n)&&(t.filterOptions||(t.filterOptions={}),t.filterOptions.type=n),t.apiKey=t.apiKey||this.options.apiKey,"boolean"!==typeof t.ssl&&("boolean"===typeof this.options.ssl?t.ssl=this.options.ssl:t.ssl=!0),f_.log(t),Dn.Ay.Services.autoComplete(t)}}_fillAutoCompletedLocationListContainer(e){if(e&&0!==e.length){var t=this._suggestedList;if(t.childElementCount)while(t.firstChild)t.removeChild(t.firstChild);for(var n=0;n<e.length;n++)this._createLocationAutoCompletedLocationElement(this.options.tag.id,e[n],n);this._suggestedLocations=e}}};Object.assign(m_.prototype,g_);var v_=m_;window.ol&&window.ol.control&&(window.ol.control.LocationSelector=m_);var y_={_addUID:function(e){var t=this.uid?e+"-"+this.uid:e;return t}},A_=y_,__=Un.getLogger("export");class C_ extends Yn.A{constructor(e){if(e=e||{control:null,target:null,format:"geojson",name:"export",title:"Exporter",menu:!1,onExport:null},__.trace("[constructor] Export",e),super({element:document.createElement("div"),render:e.render,target:e.target}),!(this instanceof C_))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this.EXPORT_ROUTE={},this.EXPORT_ISOCHRON={},this.EXPORT_PROFILE={},this.uid=e.id||nc.generate(),this.extension=null,this.mimeType=null,this.container=null,this.button=null,this.menu=null,this.icon="☰ ",this.menuClassHidden="GPexportMenuHidden",this.initOptions(e),this.initContainer()}render(){if(!this.options.target&&this.options.control){var e=this.options.control.getContainer();this.options.target=e.lastChild}this.container&&this.options.target.appendChild(this.container)}initOptions(e){this.options=e,this.options.control,this.options.target;var t=this.options.format;t?this.setFormat(t):this.setFormat(""),this.options.name||this.setName("export"),this.options.title||this.setTitle("Exporter"),void 0===this.options.menu&&this.setMenu(!1)}initContainer(){var e=this.options.title;this.options.menu&&(e=this.icon+this.options.title);var t=document.createElement("div");t.id=this._addUID("GPexportContainer"),t.className="GPexportMenuContainer";var n=this.stringToHTML(`\n            <input type="button"\n                id="${this._addUID("GPexportButton")}" \n                class="GPsubmit"\n                value="${e}">\n        `);this.button=n.firstChild,this.button&&this.button.addEventListener("click",(e=>this.onClickButtonExport(e))),t.appendChild(n.firstChild);var i=this.stringToHTML(`\n            <div class="GPexportMenuContent ${this.menuClassHidden}">\n                <label class="container">GeoJSON\n                    <input type="radio" \n                        id="GPmenuFormatGeojson-${this.uid}"\n                        name="format" \n                        value="geojson">\n                    <span class="checkmark"></span>\n                </label>\n                <label class="container">KML\n                    <input type="radio" \n                        id="GPmenuFormatKml-${this.uid}"\n                        name="format" \n                        value="kml">\n                    <span class="checkmark"></span>\n                </label>\n                <label class="container">GPX\n                    <input type="radio" \n                        id="GPmenuFormatGpx-${this.uid}"\n                        name="format" \n                        value="gpx">\n                    <span class="checkmark"></span>\n                </label>\n            </div>\n        `);if(this.menu=i.firstChild,this.menu){if(this.options.menu){var r=this.menu.className;this.menu.className=r.replace(this.menuClassHidden,"")}var o=this.menu.querySelectorAll('input[type=radio][name="format"]');o.forEach((e=>{e.id.toUpperCase().includes(this.options.format.toUpperCase())&&(e.checked=!0),e.addEventListener("change",(e=>{this.setFormat(e.target.value)}))}))}t.appendChild(i.firstChild),this.container=t}stringToHTML(e){var t=function(){if(!window.DOMParser)return!1;var e=new DOMParser;try{e.parseFromString("x","text/html")}catch(t){return!1}return!0};if(t()){var n=new DOMParser,i=n.parseFromString(e,"text/html");return i.body}var r=document.createElement("div");return r.innerHTML=e,r}isPluggableControl(){return!(!this.options.control||"function"!==typeof this.options.control.getContainer||"function"!==typeof this.options.control.getLayer)}exportFeatures(e,t,n){var i=null;if(!e)return __.warn("Impossible to export : no layer is hosting features."),i;if(!e.getSource()||!e.getSource().getFeatures()||!e.getSource().getFeatures().length)return __.warn("Impossible to export : no features found."),i;e.getSource().getFeatures().forEach((e=>{var t=e.getStyle();t||"function"!==typeof this.options.control.getStyle||e.setStyle(this.options.control.getStyle())}));var r={defaultStyle:n};t&&(r.extensions={"geoportail:compute":t});var o=null;switch(this.options.format.toUpperCase()){case"KML":r.writeStyles=!0,r.showPointNames=!0,o=new fi(r);break;case"GPX":o=new yi(r);break;case"GEOJSON":o=new Ci(r);break;default:break}if(!o)return __.warn("Impossible to export : format unknown !?"),i;var a=e.getSource().getProjection(),s=this.getMap();s&&(a=a||s.getView().getProjection());var l=e.getSource().getFeatures();return i=o.writeFeatures(l,{dataProjection:"EPSG:4326",featureProjection:a||"EPSG:3857"}),i}onClickButtonExport(e){if(this.isPluggableControl()){var t=this.options.control.getLayer(),n=void 0!==this.options.control.getData?this.options.control.getData():{},i=void 0!==this.options.control.getStyle?this.options.control.getStyle():{},r=this.exportFeatures(t,n,i);if(r&&"null"!==r)if(this.dispatchEvent({type:"export:compute",content:r}),this.options.onExport&&"function"===typeof this.options.onExport)this.options.onExport(r);else{var o=document.createElement("a"),a="utf-8";if(o.setAttribute("href","data:"+this.mimeType+";charset="+a+","+encodeURIComponent(r)),o.setAttribute("download",this.options.name+this.extension),document.createEvent){var s=document.createEvent("MouseEvents");s.initEvent("click",!0,!0),o.dispatchEvent(s)}else o.click()}}else __.warn("Componant not pluggable with the control !")}setControl(e){this.options.control=e}setTarget(e){this.options.target=e}setFormat(e){switch(this.options.format=e.toUpperCase(),this.options.format){case"KML":this.extension=".kml",this.mimeType="application/vnd.google-earth.kml+xml";break;case"GPX":this.extension=".gpx",this.mimeType="application/gpx+xml";break;case"GEOJSON":this.extension=".geojson",this.mimeType="application/geo+json";break;default:this.options.format="GEOJSON",this.extension=".geojson",this.mimeType="application/geo+json";break}}setName(e){this.options.name=e}setTitle(e){this.options.title=e,this.button&&(this.button.value=this.options.menu?this.icon+e:e)}setMenu(e){if(this.options.menu=e,this.button&&(this.button.value=this.options.menu?this.icon+this.options.title:this.options.title),this.menu&&this.options.menu){var t=this.menu.className;this.menu.className=t.replace(this.menuClassHidden,"");var n=this.menu.querySelectorAll('input[type=radio][name="format"]');n.forEach((e=>{e.id.toUpperCase().includes(this.options.format.toUpperCase())&&(e.checked=!0)}))}}}Object.assign(C_.prototype,A_);var I_=C_;window.ol&&window.ol.control&&(window.ol.control.Export=C_);var E_=Un.getLogger("RouteDOM"),w_={_addUID:function(e){var t=this._uid?e+"-"+this._uid:e;return t},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GProute"),e.className="GPwidget gpf-widget",e},_createShowRoutePictoElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPshowRoutePicto"),t.className="GPshowOpen GPshowAdvancedToolPicto GPshowRoutePicto gpf-btn gpf-btn-icon-route fr-btn",t.title="Ouvrir le calcul d'itinéraire",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener?t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowRoutePanelClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowRoutePanelClick(t)})),t},_createRoutePanelElement:function(){var e=document.createElement("dialog");return e.id=this._addUID("GProutePanel"),e.className="GPpanel gpf-panel fr-modal",e},_createRoutePanelDivElement:function(){var e=document.createElement("div");return e.className="gpf-panel__body fr-modal__body",e},_createRoutePanelHeaderElement:function(){var e=this,t=document.createElement("div");t.className="GPpanelHeader gpf-panel__header fr-modal__header";var n=document.createElement("div");n.className="GPpanelTitle gpf-panel__title fr-modal__title",n.innerHTML="Calcul d'itinéraire",t.appendChild(n);var i=document.createElement("button");i.id=this._addUID("GProutePanelClose"),i.className="GPpanelClose GProutePanelClose gpf-btn gpf-btn-icon-close fr-btn--close fr-btn",i.title="Masquer le panneau",i.addEventListener?i.addEventListener("click",(function(){document.getElementById(e._addUID("GPshowRoutePicto")).click()}),!1):i.attachEvent&&i.attachEvent("onclick",(function(){document.getElementById(e._addUID("GPshowRoutePicto")).click()}));var r=document.createElement("span");return r.className="GPelementHidden gpf-visible",r.innerText="Fermer",i.appendChild(r),t.appendChild(i),t},_createRoutePanelFooterElement:function(){var e=document.createElement("div");return e.className="GPpanelFooter gpf-panel__footer fr-modal__footer",e},_createRoutePanelFormElement:function(){var e=this,t=document.createElement("form");return t.id=this._addUID("GProuteForm"),t.className="gpf-panel__content fr-modal__content",t.setAttribute("onkeypress","return event.keyCode != 13;"),t.addEventListener("submit",(function(t){E_.log(t),t.preventDefault();var n=document.getElementsByClassName(e._addUID("GPlocationPoint")),i=n[0].childNodes[0].id,r=n[n.length-1].childNodes[0].id,o=nc.index(i),a=nc.index(r);if(""===document.getElementById(e._addUID("GPlocationOrigin_"+o)).value&&""===document.getElementById(e._addUID("GPlocationOriginCoords_"+o)).value||""===document.getElementById(e._addUID("GPlocationOrigin_"+a)).value&&""===document.getElementById(e._addUID("GPlocationOriginCoords_"+a)).value)return!1;e._addRouteResultsStagesValuesElement(n);var s=null;if(document.getElementById(e._addUID("GProuteComputationSelect"))){var l=document.getElementById(e._addUID("GProuteResultsComputationSelect"));l.selectedIndex=document.getElementById(e._addUID("GProuteComputationSelect")).selectedIndex,s=l.options[l.selectedIndex].value}var u=null;document.getElementById(e._addUID("GProuteTransportCar"))&&document.getElementById(e._addUID("GProuteTransportCar")).checked&&(u=document.getElementById(e._addUID("GProuteTransportCar")).value),document.getElementById(e._addUID("GProuteTransportPedestrian"))&&document.getElementById(e._addUID("GProuteTransportPedestrian")).checked&&(u=document.getElementById(e._addUID("GProuteTransportPedestrian")).value);for(var c=[],h=document.getElementsByClassName("GProuteExclusionsOption"),d=0;d<h.length;d++){var p=h[d].htmlFor,g=document.getElementById(p);g.checked||c.push(g.value)}return e.onRouteComputationSubmit({computation:s,transport:u,exclusions:c}),!1})),t},_createRoutePanelResultsElement:function(){var e=document.createElement("div");e.id=this._addUID("GProuteResultsPanel"),e.className="GPelementHidden gpf-hidden",e.appendChild(this._createRouteResultsStagesElement()),e.appendChild(this._createRouteResultsElement());var t=document.createElement("div");t.className="GPfakeBorder GPfakeBorderLeft",e.appendChild(t),e.appendChild(this._createRouteShowResultsDetailsElement());var n=document.createElement("label");n.htmlFor=this._addUID("GProuteResultsShowDetails"),n.innerHTML="Afficher le détail",e.appendChild(n);var i=document.createElement("label");i.htmlFor=this._addUID("GProuteResultsShowDetails"),i.innerHTML="Masquer le détail",e.appendChild(i);var r=document.createElement("div");return r.className="GPfakeBorder",e.appendChild(r),e.appendChild(this._createRouteResultsDetailsElement()),e},_createRouteWaitingElement:function(){var e=document.createElement("div");e.id=this._addUID("GProuteCalcWaitingContainer"),e.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden";var t=document.createElement("p");return t.className="GPwaitingContainerInfo gpf-waiting_info",t.innerHTML="Recherche en cours...",e.appendChild(t),e},_createRouteResultsStagesElement:function(){var e=document.createElement("div");return e.id=this._addUID("GProuteResultsStages"),e},_addRouteResultsStagesValuesElement:function(e){document.getElementById(this._addUID("GProuteResultsStages")).innerHTML="";for(var t=0;t<e.length;t++){var n=e[t].childNodes[0].id,i=nc.index(n);if("GPflexInput GPlocationStageFlexInput gpf-flex"===document.getElementById(this._addUID("GPlocationPoint_"+i)).className){var r=document.createElement("div");r.className="GProuteResultsStages";var o=document.createElement("div");o.className="GProuteResultStageLabel",o.innerHTML=document.getElementById(this._addUID("GPlocationOriginLabel_"+i)).innerHTML+" :",r.appendChild(o);var a=document.createElement("div");a.className="GProuteResultStageValue";var s=document.getElementById(this._addUID("GPlocationOriginCoords_"+i)),l=s.value,u="GPelementVisible gpf-visible"===s.className;a.innerHTML=null!==l&&""!==l&&u?l:document.getElementById(this._addUID("GPlocationOrigin_"+i)).value,r.appendChild(a),""!==a.innerHTML&&document.getElementById(this._addUID("GProuteResultsStages")).appendChild(r)}}},_createRouteResultsElement:function(){var e=this,t=document.createElement("div");t.id=this._addUID("GProuteResults");var n=document.createElement("div");n.id=this._addUID("GProuteResultsValues"),t.appendChild(n);var i=document.createElement("div");i.id=this._addUID("GProuteResultsMode");var r=document.createElement("select");r.id=this._addUID("GProuteResultsComputationSelect"),r.className="GPselect",r.addEventListener("change",(function(t){e.onRouteModeComputationChangeAndRun(t)}));for(var o=[{code:"fastest",label:"Plus rapide"},{code:"shortest",label:"Plus court"}],a=0;a<o.length;a++){var s=document.createElement("option");s.value=o[a].code,s.text=o[a].label,r.appendChild(s)}i.appendChild(r),t.appendChild(i);var l=document.createElement("div");return l.id=this._addUID("GProuteResultsNew"),l.title="Modifier le calcul",l.addEventListener("click",(function(t){document.getElementById(e._addUID("GProuteResultsPanel")).className="GPelementHidden gpf-hidden",document.getElementById(e._addUID("GProuteForm")).className="gpf-panel__content fr-modal__content",e.onShowRouteResultsNewClick(t)})),t.appendChild(l),t},_addRouteResultsValuesElement:function(e,t,n){var i=document.getElementById(this._addUID("GProuteResultsValues"));if(i.childElementCount)while(i.firstChild)i.removeChild(i.firstChild);var r=document.createElement("div");r.className="GProuteResultsValue";var o=document.createElement("label");o.className="GProuteResultsValueLabel",o.innerHTML="Distance :",r.appendChild(o);var a=0,s=parseInt(e/1e3,10);if(s){var l=Math.round(e);l/=1e3,a=l+" km"}else a=Math.round(e)+" m";var u=document.createElement("div");u.id=this._addUID("GProuteResultsValueDist"),u.innerHTML=a,r.appendChild(u),i.appendChild(r);var c=document.createElement("div");c.className="GProuteResultsValue";var h=document.createElement("label");h.className="GProuteResultsValueLabel",h.innerHTML="Durée :",c.appendChild(h);var d=document.createElement("div");return d.id=this._addUID("GProuteResultsValueDist"),d.innerHTML=n(t),c.appendChild(d),i.appendChild(c),i},_createRouteShowResultsDetailsElement:function(){var e=document.createElement("input");return e.id=this._addUID("GProuteResultsShowDetails"),e.type="checkbox",e},_createRouteResultsDetailsElement:function(){var e=document.createElement("div");return e.id=this._addUID("GProuteResultsDetails"),e},_addRouteResultsDetailsElement:function(e,t){var n=this,i=document.getElementById(this._addUID("GProuteResultsDetails"));if(i.childElementCount)while(i.firstChild)i.removeChild(i.firstChild);for(var r=0,o=0,a=0;a<e.length;a++){var s=a+1,l=e[a],u=document.createElement("div");u.className="GProuteResultsDetailsNumber",u.innerHTML=s+".",i.appendChild(u),o+=parseFloat(l.duration),r+=parseFloat(l.distance);var c=0,h=parseInt(r/1e3,10);if(h){var d=Math.round(r);d/=1e3,c=d+" km"}else c=Math.round(r)+" m";var p=document.createElement("div");p.className="GProuteResultsDetailsInstruction",p.id=this._addUID("GProuteResultsDetailsInstruction_"+s),p.title="distance : "+c+" / temps : "+t(o),p.innerHTML=l.instruction,p.addEventListener("mouseover",(function(e){n.onRouteResultsDetailsMouseOver(e)})),p.addEventListener("mouseout",(function(e){n.onRouteResultsDetailsMouseOut(e)})),p.addEventListener("click",(function(e){"function"===typeof n.onRouteResultsDetailsClick&&n.onRouteResultsDetailsClick(e)})),i.appendChild(p)}return i},_createRoutePanelFormPointElement:function(e,t,n){var i=this,r=document.createElement("div");r.id="GProutePoint"+e,r.className=n?"GPflexInput GProuteStageFlexInput":"GPflexInput GProuteStageFlexInputHidden";var o=document.createElement("label");o.id="GProuteOriginLabel"+e,o.htmlFor="GProuteOrigin"+e,o.innerHTML=t,o.addEventListener("click",(function(){var e=this.id.charAt(this.id.length-1);document.getElementById("GProuteOriginCoords"+e).value="";for(var t=1;t<8;t++)document.getElementById("GProutePoint"+t).style.display="flex";document.getElementById("GProuteForm").className="gpf-panel__content fr-modal__content",document.getElementById("GProuteOriginPointer"+e).checked=!1,document.getElementById("GProuteOrigin"+e).className="GPelementVisible gpf-visible",document.getElementById("GProuteOriginCoords"+e).className="GPelementHidden gpf-hidden"})),r.appendChild(o);var a=document.createElement("input");a.id="GProuteOrigin"+e,a.className="GPelementVisible gpf-visible",a.type="text",a.placeholder="Saisir une adresse",a.addEventListener("keyup",(function(e){var t=e.which||e.keyCode;if(13!==t&&10!==t){var n=this.id.charAt(this.id.length-1);document.getElementById("GProuteOrigin"+n).value.length>2?document.getElementById("GProuteAutoCompleteList"+n).style.display="block":document.getElementById("GProuteAutoCompleteList"+n).style.display="none",i.onAutoCompleteSearchText(e)}})),a.addEventListener("blur",(function(){var e=this.id.charAt(this.id.length-1);document.getElementById("GProuteAutoCompleteList"+e).style.display="none"})),r.appendChild(a);var s=document.createElement("input");s.id="GProuteOriginCoords"+e,s.className="GPelementHidden gpf-hidden",s.type="text",s.disabled=!0,r.appendChild(s);var l=document.createElement("input");l.id="GProuteOriginPointer"+e,l.type="checkbox",r.appendChild(l);var u=document.createElement("label");return u.id="GProuteOriginPointerImg"+e,u.htmlFor="GProuteOriginPointer"+e,u.className="GProuteOriginPointerImg",u.title="Pointer un lieu sur la carte",u.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation();var t,n=this.id.charAt(this.id.length-1);for(t=1;t<8;t++)n!==t&&(document.getElementById("GProuteOriginPointer"+t).checked=!1,"Pointer un lieu sur la carte"===document.getElementById("GProuteOriginCoords"+t).value&&(document.getElementById("GProuteOriginCoords"+t).value="",document.getElementById("GProuteOrigin"+t).className="GPelementVisible gpf-visible",document.getElementById("GProuteOriginCoords"+t).className="GPelementHidden gpf-hidden"));if(document.getElementById("GProuteOriginPointer"+n).checked){for(document.getElementById("GProuteOriginCoords"+n).value="",t=1;t<8;t++)document.getElementById("GProutePoint"+t).style.display="flex";document.getElementById("GProuteForm").className="gpf-panel__content fr-modal__content",document.getElementById("GProuteOriginPointer"+n).checked=!1,document.getElementById("GProuteOrigin"+n).className="GPelementVisible gpf-visible",document.getElementById("GProuteOriginCoords"+n).className="GPelementHidden gpf-hidden"}else{for(document.getElementById("GProuteOriginCoords"+n).value="Pointer un lieu sur la carte",t=1;t<8;t++)document.getElementById("GProutePoint"+t).style.display=n===t?"flex":"none";document.getElementById("GProuteForm").className="GProuteFormMini gpf-panel__content fr-modal__content",document.getElementById("GProuteOriginPointer"+n).checked=!0,document.getElementById("GProuteOrigin"+n).className="GPelementHidden gpf-hidden",document.getElementById("GProuteOriginCoords"+n).className="GPelementVisible gpf-visible"}i.onRouteMapPointClick(e)})),r.appendChild(u),r},_createRoutePanelFormRemoveStageElement:function(e){var t=this,n=document.createElement("div");return n.id="GProuteStageRemove"+e,n.className="GProuteStageRemove",n.title="Supprimer l'étape",1!==e&&7!==e&&n.addEventListener("click",(function(e){var n=this.id.charAt(this.id.length-1);document.getElementById("GProutePoint"+n).className="GPflexInput GProuteStageFlexInputHidden",document.getElementById("GProuteOrigin"+n).value="",document.getElementById("GProuteOrigin"+n).className="GPelementVisible gpf-visible",document.getElementById("GProuteOriginCoords"+n).value="",document.getElementById("GProuteOriginCoords"+n).className="GPelementHidden gpf-hidden",document.getElementById("GProuteStageAdd").style.display="",t.onRouteRemovePointClick(e)})),n},_createRoutePanelFormAddStageElement:function(){var e=this,t=document.createElement("div");return t.id="GProuteStageAdd",t.title="Ajouter une étape",t.addEventListener("click",(function(t){for(var n=1,i=0,r=2;r<7;r++)"GPflexInput GProuteStageFlexInputHidden"===document.getElementById("GProutePoint"+r).className?1===n&&(n=r):i++;n<7&&(document.getElementById("GProutePoint"+n).className="GPflexInput GProuteStageFlexInput"),4===i&&(document.getElementById("GProuteStageAdd").style.display="none"),e.onRouteAddPointClick(t)})),t},_createRoutePanelFormAutoCompleteListElement:function(e){var t=this,n=document.createElement("div");return n.id="GProuteAutoCompleteList"+e,n.className="GPadvancedAutoCompleteList",n.addEventListener?n.addEventListener("click",(function(n){t.onAutoCompletedResultsItemClick(n),document.getElementById("GProuteAutoCompleteList"+e).style.display="none"}),!1):n.attachEvent&&n.attachEvent("onclick",(function(n){t.onAutoCompletedResultsItemClick(n),document.getElementById("GProuteAutoCompleteList"+e).style.display="none"})),n},_createRouteAutoCompletedLocationElement:function(e,t,n){var i=document.getElementById("GProuteAutoCompleteList"+t),r=document.createElement("div");r.id="AutoCompletedLocation"+n,r.className="GPautoCompleteProposal",r.innerHTML=Nd.getSuggestedLocationFreeform(e),i.appendChild(r)},_createRoutePanelFormModeChoiceElement:function(){var e=document.createElement("div");return e.id=this._addUID("GProuteModeChoice"),e},_createRoutePanelFormModeChoiceTransportElement:function(e){var t=this,n=document.createElement("div");n.id=this._addUID("GProuteTransportChoice");var i=document.createElement("label");i.className="GProuteModeLabel gpf-label fr-label",i.innerHTML="Mode de transport",n.appendChild(i);for(var r=0;r<e.length;r++){var o=e[r],a=document.createElement("div");if(a.className="GProuteTransportChoice gpf-flex gpf-radio-group fr-radio-group","Voiture"===o){var s=document.createElement("input");s.id=this._addUID("GProuteTransportCar"),s.type="radio",s.name="GProuteTransport",s.value="Voiture",0===r&&(s.checked=!0),s.addEventListener?s.addEventListener("change",(function(e){t.onRouteModeTransportChange(e)})):s.attachEvent&&s.attachEvent("onchange",(function(e){t.onRouteModeTransportChange(e)})),a.appendChild(s);var l=document.createElement("label");l.className="GProuteTransportImg gpf-label fr-label",l.htmlFor=this._addUID("GProuteTransportCar"),l.title="Voiture",l.innerHTML="Voiture",a.appendChild(l)}if("Pieton"===o){var u=document.createElement("input");u.id=this._addUID("GProuteTransportPedestrian"),u.type="radio",u.name="GProuteTransport",u.value="Pieton",0===r&&(u.checked=!0),u.addEventListener?u.addEventListener("change",(function(e){t.onRouteModeTransportChange(e)})):u.attachEvent&&u.attachEvent("onchange",(function(e){t.onRouteModeTransportChange(e)})),a.appendChild(u);var c=document.createElement("label");c.className="GProuteTransportImg gpf-label fr-label",c.htmlFor=this._addUID("GProuteTransportPedestrian"),c.title="Piéton",c.innerHTML="Piéton",a.appendChild(c)}n.appendChild(a)}return n},_createRoutePanelFormModeChoiceComputeElement:function(){var e=this,t=document.createElement("div");t.id=this._addUID("GProuteComputationChoice");var n=document.createElement("label");n.htmlFor=this._addUID("GProuteComputationSelect"),n.innerHTML="Mode de calcul";var i=document.createElement("span");i.className="GProuteModeLabel",i.appendChild(n),t.appendChild(i);var r=document.createElement("select");r.id=this._addUID("GProuteComputationSelect"),r.className="GPselect gpf-select fr-select",r.addEventListener("change",(function(t){e.onRouteModeComputationChange(t)}));for(var o=[{code:"fastest",label:"Plus rapide"},{code:"shortest",label:"Plus court"}],a=0;a<o.length;a++){var s=document.createElement("option");s.value=o[a].code,s.text=o[a].label,r.appendChild(s)}return t.appendChild(r),t},_createShowRouteExclusionsPictoElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPshowRouteExclusionsPicto"),t.className="GPshowAdvancedToolPicto GPshowMoreOptionsImage GPshowMoreOptions GPshowRouteExclusionsPicto gpf-btn fr-btn--sm fr-icon-arrow-down-fill",t.title="Exclusions",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener?t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowRouteExclusionsClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowRouteExclusionsClick(t)})),t},_createRoutePanelFormExclusionsElement:function(){var e=document.createElement("div");e.id=this._addUID("GProuteExclusions");var t=document.createElement("span");return t.className="GProuteExclusionsLabel",t.innerHTML="Passages autorisés",e.appendChild(t),e},_createRoutePanelFormExclusionOptionsElement:function(e){var t=this,n=document.createElement("div");for(var i in n.className="GProuteExclusionsOptions gpf-flex",e)if(e.hasOwnProperty(i)){var r=e[i];switch(i){case"toll":var o=document.createElement("input");o.id=this._addUID("GProuteExclusionsToll"),o.type="checkbox",o.value="Toll",o.checked=!r,o.addEventListener?o.addEventListener("change",(function(e){t.onRouteExclusionsChange(e)})):o.attachEvent&&o.attachEvent("onchange",(function(e){t.onRouteExclusionsChange(e)})),n.appendChild(o);var a=document.createElement("label");a.className="GProuteExclusionsOption",a.htmlFor=this._addUID("GProuteExclusionsToll"),a.innerHTML="Péages",n.appendChild(a);break;case"tunnel":var s=document.createElement("input");s.id=this._addUID("GProuteExclusionsTunnel"),s.type="checkbox",s.value="Tunnel",s.checked=!r,s.addEventListener?s.addEventListener("change",(function(e){t.onRouteExclusionsChange(e)})):s.attachEvent&&s.attachEvent("onchange",(function(e){t.onRouteExclusionsChange(e)})),n.appendChild(s);var l=document.createElement("label");l.className="GProuteExclusionsOption",l.htmlFor=this._addUID("GProuteExclusionsTunnel"),l.innerHTML="Tunnels",n.appendChild(l);break;case"bridge":var u=document.createElement("input");u.id=this._addUID("GProuteExclusionsBridge"),u.type="checkbox",u.value="Bridge",u.checked=!r,u.addEventListener?u.addEventListener("change",(function(e){t.onRouteExclusionsChange(e)})):u.attachEvent&&u.attachEvent("onchange",(function(e){t.onRouteExclusionsChange(e)})),n.appendChild(u);var c=document.createElement("label");c.className="GProuteExclusionsOption",c.htmlFor=this._addUID("GProuteExclusionsBridge"),c.innerHTML="Ponts",n.appendChild(c);break}}return n},_createRouteSubmitFormElement:function(){var e=document.createElement("input");return e.id=this._addUID("GProuteSubmit"),e.className="GPsubmit gpf-btn gpf-btn-submit fr-btn",e.type="submit",e.value="Calculer",e},_createRouteFormResetElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GProuteReset"),t.title="Réinitialiser les paramètres",t.className="GPresetPicto gpf-btn gpf-icon-return fr-btn",t.title="Réinitialiser les paramètres",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onRouteResetClick(t)})),t}},b_=w_,x_=Un.getLogger("route"),S_=class e extends Qu{constructor(t){if(t=t||{},super({element:t.element,target:t.target,render:t.render}),!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return this.initialize(t),this._container=this._createMainContainerElement(),this.element?this.element.appendChild(this._container):this.element=this._container,this}setMap(e){if(e){if(this._container=this._initContainer(e),this.element=this._container,this.options.export){var t=qn.assign({control:this},this.options.export);this.export=new I_(t),this.export.render();var n=this;this.export.on("export:compute",(e=>{n.dispatchEvent({type:"export:compute",content:e.content})}))}this.draggable&&qd.dragElement(this._panelRouteContainer,this._panelHeaderRouteContainer,this.options.position?null:e.getTargetElement()),this.collapsed||this._showRouteButton.setAttribute("aria-pressed",!0)}super.setMap(e),this.options.position&&this.setPosition(this.options.position)}getCollapsed(){return this.collapsed}setCollapsed(e){void 0!==e?e&&this.collapsed||!e&&!this.collapsed||(e?document.getElementById("GProutePanelClose-"+this._uid).click():this._showRouteButton.click(),this.collapsed=e):x_.log("[ERROR] Route:setCollapsed - missing collapsed parameter")}getLayer(){return this._geojsonSections}setLayer(e){e?e instanceof kt.A?(e.setStyle(this._defaultFeatureStyle),this._geojsonSections=e):x_.log("no valid layer given for hosting drawn features."):this._geojsonSections=null}getGeoJSON(){return JSON.stringify(this._geojsonObject)}setGeoJSON(e){try{this._geojsonObject=JSON.parse(e)}catch(nw){x_.log("no valid geojson given :"+nw.message)}}getData(){var e=[];for(let n=0;n<this._currentPoints.length;n++){const t=this._currentPoints[n];e.push(t.getCoordinate())}var t={type:"route",points:e,transport:this._currentTransport,exclusions:this._currentExclusions,computation:this._currentComputation,results:{}};return qn.assign(t.results,this._currentRouteInformations),t}setData(e){this._currentTransport=e.transport,this._currentComputation=e.computation,this._currentExclusions=e.exclusions;for(var t=0;t<this._currentPoints.length;t++){var n=this._currentPoints[t];if(n.getCoordinate()){n.clearResults();var i=t+1+"-"+this._uid;document.getElementById("GPlocationOriginCoords_"+i).value="",document.getElementById("GPlocationOrigin_"+i).value="",document.getElementById("GPlocationPoint_"+i).style.cssText="",t>0&&t<6&&(document.getElementById("GPlocationPoint_"+i).className="GPflexInput GPelementHidden gpf-flex gpf-hidden "),document.getElementById("GPlocationOriginPointer_"+i).checked=!1,document.getElementById("GPlocationOrigin_"+i).className="GPelementVisible gpf-visible",document.getElementById("GPlocationOriginCoords_"+i).className="GPelementHidden gpf-hidden"}}for(var r=0;r<e.points.length;r++){const t=e.points[r];t&&this._currentPoints[r].setCoordinate(t,"EPSG:4326")}this._currentRouteInformations=e.results}getContainer(){return this._container}getStyle(){return this._defaultFeatureStyle}init(){for(let d=0;d<this._currentPoints.length;d++){const i=this._currentPoints[d];var e=d+1,t=i.getCoordinate();if(t){var n=document.getElementById("GPlocationOrigin_"+e+"-"+this._uid);n.value=t[1].toFixed(4)+" / "+t[0].toFixed(4),d>0&&d<6&&(document.getElementById("GPlocationPoint_"+e+"-"+this._uid).className="GPflexInput GPlocationStageFlexInput gpf-flex")}}var i,r=document.getElementsByClassName("GPlocationPoint-"+this._uid);this._addRouteResultsStagesValuesElement(r),"Pieton"===this._currentTransport?(i=document.getElementById("GProuteTransportPedestrian-"+this._uid),i&&(i.checked="true")):(i=document.getElementById("GProuteTransportCar-"+this._uid),i&&(i.checked="true"));var o=document.getElementById("GProuteComputationSelect-"+this._uid);o&&(o.value=this._currentComputation);var a=document.getElementById("GProuteExclusionsToll-"+this._uid);a&&(-1!==this._currentExclusions.indexOf("toll")?a.checked=!1:a.checked=!0);var s=document.getElementById("GProuteExclusionsTunnel-"+this._uid);s&&(-1!==this._currentExclusions.indexOf("tunnel")?s.checked=!1:s.checked=!0);var l=document.getElementById("GProuteExclusionsBridge-"+this._uid);l&&(-1!==this._currentExclusions.indexOf("bridge")?l.checked=!1:l.checked=!0);var u=this._currentRouteInformations.totalDistance,c=this._currentRouteInformations.totalTime,h=this._simplifiedInstructions(this._currentRouteInformations.routeInstructions);h&&this._fillRouteResultsDetailsContainer(u,c,h),this._formRouteContainer.className="GPelementHidden gpf-hidden gpf-panel__content fr-modal__content",this._hideWaitingContainer(),this._resultsRouteContainer.className=""}clean(){this._currentTransport=null,this._currentExclusions=[],this._currentComputation=null;for(var e=0;e<this._currentPoints.length;e++)this._currentPoints[e].clear();this._removeRouteStepLocations(),this._clearRouteInputOptions(),this._clearRouteResultsDetails(),this.setLayer(),this._formRouteContainer.className="gpf-panel__content fr-modal__content",this._resultsRouteContainer.className="GPelementHidden gpf-hidden"}initialize(e){this._checkInputOptions(e),this.options={collapsed:!0,draggable:!1,export:!1,graphs:["Voiture","Pieton"],exclusions:{toll:!1,tunnel:!1,bridge:!1},routeOptions:{},autocompleteOptions:{},layerDescription:{title:"Itinéraire",description:"Itinéraire basé sur un graphe"}},qn.assign(this.options,e);var t={departure:{url:Qn["red"],offset:Qn.defaultOffset},stages:{url:Qn["lightOrange"],offset:Qn.defaultOffset},arrival:{url:Qn["darkOrange"],offset:Qn.defaultOffset}};this.options.markersOpts=qn.assign(t,e.markersOpts),this.collapsed=this.options.collapsed,this.draggable=this.options.draggable,this._uid=nc.generate(),this._showRouteButton=null,this._panelRouteContainer=null,this._panelHeaderRouteContainer=null,this._waitingContainer=null,this._formRouteContainer=null,this._resultsRouteContainer=null,this._showRouteExclusionsElement=null,this._currentPoints=[],this._currentTransport=null,this._initTransport(),this._currentComputation=null,this._initComputation(),this._currentExclusions=[],this._initExclusions(),this._waiting=!1,this._timer=null,this._geojsonRoute=null,this._geojsonSections=null,this._geojsonObject=null,this.export=null,this._popupContent=null,this._popupDiv=this._initPopupDiv(),this._popupOverlay=null,this._resultsSelectInteraction=null,this._resultsHoverInteraction=null,this._defaultFeatureStyle=new Tt.Ay({stroke:new ni.A({color:"rgba(0,183,152,0.9)",width:12})}),this._selectedFeatureStyle=new Tt.Ay({stroke:new ni.A({color:"rgba(255,102,0,0.9)",width:12})}),this._currentRouteInformations=null,this._resources={},this.listenerKey=null}_checkInputOptions(e){if(e.graphs)if(Array.isArray(e.graphs)&&e.graphs.length)for(var t=0;t<e.graphs.length;t++)"string"===typeof e.graphs[t]?("pieton"===e.graphs[t].toLowerCase()&&(e.graphs[t]="Pieton"),"voiture"===e.graphs[t].toLowerCase()&&(e.graphs[t]="Voiture")):(x_.log("[ol.control.Route] ERROR : parameter 'graphs' elements should be of type 'string'"),e.graphs[t]=null);else x_.warn("'graphs' parameter should be an array"),e.graphs=null;"true"===e.collapsed&&(e.collapsed=!0),"false"===e.collapsed&&(e.collapsed=!1)}_initContainer(e){var t=this._container,n=this._showRouteButton=this._createShowRoutePictoElement();t.appendChild(n);var i=this._panelRouteContainer=this._createRoutePanelElement(),r=this._createRoutePanelDivElement();i.appendChild(r);var o=this._panelHeaderRouteContainer=this._createRoutePanelHeaderElement();r.appendChild(o);for(var a=this._formRouteContainer=this._createRoutePanelFormElement(),s=this._createRoutePanelFormPointsElement(e),l=0;l<s.length;l++)a.appendChild(s[l]);var u=this._createRoutePanelFormModeChoiceElement();u.appendChild(this._createRoutePanelFormModeChoiceTransportElement(this.options.graphs)),u.appendChild(this._createRoutePanelFormModeChoiceComputeElement()),a.appendChild(u),this._showRouteExclusionsElement=this._createShowRouteExclusionsPictoElement(),a.appendChild(this._showRouteExclusionsElement);var c=this._createRoutePanelFormExclusionsElement();c.appendChild(this._createRoutePanelFormExclusionOptionsElement(this.options.exclusions)),a.appendChild(c);var h=this._createRoutePanelFooterElement();a.appendChild(h);var d=this._createRouteFormResetElement();h.appendChild(d);var p=this._createRouteSubmitFormElement();h.appendChild(p),r.appendChild(a);var g=this._resultsRouteContainer=this._createRoutePanelResultsElement();r.appendChild(g);var f=this._waitingContainer=this._createRouteWaitingElement();return r.appendChild(f),t.appendChild(i),t.addEventListener&&t.addEventListener("click",(e=>this._hideRouteSuggestedLocations(e))),t}_initTransport(){this._currentTransport="Voiture";var e=this.options.graphs;e&&0!==e.length||(this.options.graphs=["Voiture","Pieton"]),Array.isArray(e)&&e.length&&("Voiture"!==e[0]&&"Pieton"!==e[0]||(this._currentTransport=e[0]));var t=this.options.routeOptions;t.graph&&(this._currentTransport=t.graph)}_initComputation(){this._currentComputation="fastest";var e=this.options.routeOptions;e.routePreference&&(this._currentComputation=e.routePreference)}_initExclusions(){this._currentExclusions=[];var e=this.options.exclusions;if((!e||"object"===typeof e&&0===Object.keys(e).length)&&(this.options.exclusions={toll:!1,tunnel:!1,bridge:!1}),e&&"object"===typeof e&&Object.keys(e).length)for(var t in e)e.hasOwnProperty(t)&&e[t]&&this._currentExclusions.push(t);var n=this.options.routeOptions;Array.isArray(n.exclusions)&&(this._currentExclusions=n.exclusions)}_initPopupDiv(){var e=this,t=document.createElement("div");t.className="gp-feature-info-div";var n=document.createElement("input");return n.type="button",n.className="gp-styling-button closer",n.onclick=function(){return null!=e._popupOverlay&&e._popupOverlay.setPosition(void 0),!1},this._popupContent=document.createElement("div"),this._popupContent.className="gp-features-content-div",t.appendChild(this._popupContent),t.appendChild(n),t}_createRoutePanelFormPointsElement(e){var t=[],n=1,i=new v_({apiKey:this.options.apiKey||null,tag:{id:n,groupId:this._uid,markerOpts:this.options.markersOpts["departure"],label:"Départ",display:!0},autocompleteOptions:this.options.autocompleteOptions||null});for(i.setMap(e),this._addFormPointsEventListeners(i),t.push(i._container),this._currentPoints.push(i),n=2;n<7;n++){var r=new v_({apiKey:this.options.apiKey||null,tag:{id:n,groupId:this._uid,label:"Etape",markerOpts:this.options.markersOpts["stages"],display:!1,removeOption:!0},autocompleteOptions:this.options.autocompleteOptions||null});r.setMap(e),this._addFormPointsEventListeners(r),t.push(r._container),this._currentPoints.push(r)}var o=new v_({apiKey:this.options.apiKey||null,tag:{id:n,groupId:this._uid,markerOpts:this.options.markersOpts["arrival"],label:"Arrivée",display:!0,addOption:!0},autocompleteOptions:this.options.autocompleteOptions||null});return o.setMap(e),this._addFormPointsEventListeners(o),t.push(o._container),this._currentPoints.push(o),t}_addFormPointsEventListeners(e){e&&(e._buttonLabel.addEventListener?(e._buttonLabel.addEventListener("click",(e=>this.onRouteOriginLabelClick(e))),e._inputShowPointer.addEventListener("click",(t=>this.onRouteOriginPointerClick(t,e))),e._removePointElement&&e._removePointElement.addEventListener("click",(e=>{x_.trace("click on _removePointElement",e)})),e._addPointElement&&e._addPointElement.addEventListener("click",(e=>{x_.trace("click on _addPointElement",e)}))):e._buttonLabel.attachEvent&&(e._buttonLabel.attachEvent("onclick",(e=>this.onRouteOriginLabelClick(e))),e._inputShowPointer.attachEvent("onclick",(t=>this.onRouteOriginPointerClick(t,e))),e._removePointElement&&e._removePointElement.attachEvent("onclick",(e=>{})),e._addPointElement&&e._addPointElement.attachEvent("onclick",(e=>{}))))}onRouteComputationSubmit(e){x_.log("onRouteComputationSubmit",e);var t,n,i=this._currentPoints;if(i[0]&&i[0].getCoordinate){var r=i[0].getCoordinate();t={x:r[0],y:r[1]},x_.log("start",t)}var o=i[i.length-1];if(o&&o.getCoordinate){var a=o.getCoordinate();n={x:a[0],y:a[1]},x_.log("end",n)}for(var s=[],l=1;l<i.length-1;l++)if(i[l]&&i[l].getCoordinate){var u=i[l].getCoordinate();if(u){var c={x:u[0],y:u[1]};x_.log("step",c),s.push(c)}}this._currentTransport=e.transport,this._currentComputation=e.computation,this._currentExclusions=e.exclusions;var h,d=this.options.routeOptions;d.resource?h=d.resource:"fastest"===this._currentComputation&&"Pieton"===this._currentTransport&&(h="bdtopo-valhalla");var p=d.protocol||"XHR",g=d.timeOut||0;"JSONP"===p&&0===g&&(g=15e3);var f=!(null===d.onFailure||"function"!==typeof d.onFailure),m=!(null===d.onSuccess||"function"!==typeof d.onSuccess),v=this;this._requestRouting({startPoint:t,endPoint:n,viaPoints:s,graph:d.graph||this._currentTransport,routePreference:d.routePreference||this._currentComputation,exclusions:d.exclusions||this._currentExclusions,geometryInInstructions:!0,distanceUnit:"m",timeOut:g,protocol:p,resource:h,onSuccess:function(e){x_.log(e),e&&v._fillRouteResultsDetails(e),m&&d.onSuccess.call(v,e)},onFailure:function(e){v._hideWaitingContainer(),v._clearRouteResultsDetails(),x_.log(e.message),f&&d.onFailure.call(v,e)}})}onRouteOriginLabelClick(){this._formRouteContainer.className="gpf-panel__content fr-modal__content",(0,Cr.e)(this.listenerKey),this.dispatchEvent("route:drawend")}onRouteOriginPointerClick(e,t){var n=this.getMap();t._inputShowPointerContainer.checked?(this._formRouteContainer.className="GProuteFormMini gpf-panel__content fr-modal__content",this.listenerKey=n.on("click",(()=>{"GProuteFormMini gpf-panel__content fr-modal__content"===this._formRouteContainer.className&&(this._formRouteContainer.className="gpf-panel__content fr-modal__content"),(0,Cr.e)(this.listenerKey),this.dispatchEvent("route:drawend")})),this.dispatchEvent("route:drawstart")):(this._formRouteContainer.className="",(0,Cr.e)(this.listenerKey),this.dispatchEvent("route:drawend"))}onShowRoutePanelClick(e){var t=this.getMap();Kn.unset(t),this._geojsonSections||this._waiting||this._clear();var n=this._showRouteButton.ariaPressed;this.collapsed=!("true"===n),this.dispatchEvent("change:collapsed")}onRouteModeComputationChange(e){var t=e.target.selectedIndex,n=e.target.options[t].value;n&&(x_.log(n),this._currentComputation=n)}onRouteModeComputationChangeAndRun(e){this.onRouteModeComputationChange(e),this._clearRouteResultsDetails(),this._clearRouteResultsGeometry(),this._clearRouteResultsFeatureGeometry(),this.onRouteComputationSubmit({computation:this._currentComputation,transport:this._currentTransport,exclusions:this._currentExclusions})}onRouteModeTransportChange(e){var t=e.target.value;t&&(this._currentTransport=t)}onShowRouteExclusionsClick(e){x_.log("onShowRouteExclusionsClick",e)}onRouteExclusionsChange(e){var t=e.target.value,n=e.target.checked;if(t&&"string"===typeof t){t=t.toLowerCase();for(var i=!1,r=null,o=0;o<this._currentExclusions.length;o++)this._currentExclusions[o]===t&&(r=o,i=!0);i||n||this._currentExclusions.push(t),i&&n&&this._currentExclusions.splice(r,1)}}onRouteResetClick(){for(var e=this._currentPoints,t=0;t<e.length;t++)e[t].clear();this._clear(),this._clearRouteInputOptions()}onShowRouteResultsNewClick(){this._clearRouteResultsDetails(),this._clearRouteResultsGeometry(),this._clearRouteResultsFeatureGeometry()}onRouteResultsDetailsMouseOver(e){var t=e.target.id,n=t.substring(t.indexOf("_")+1);if(e.target.classList&&e.target.classList.add("GProuteResultsDetailsInstructionHighlight"),this._geojsonSections){var i=this._geojsonSections.getSource().getFeatureById(parseInt(n,10));i.setStyle(this._selectedFeatureStyle)}}onRouteResultsDetailsMouseOut(e){var t=e.target.id,n=t.substring(t.indexOf("_")+1);if(e.target.classList&&e.target.classList.remove("GProuteResultsDetailsInstructionHighlight"),this._geojsonSections){var i=this._geojsonSections.getSource().getFeatureById(parseInt(n,10));i.setStyle(null)}}_requestRouting(e){!e||"object"===typeof e&&0===Object.keys(e).length||e.startPoint&&e.endPoint&&(e.apiKey=this.options.routeOptions.apiKey||this.options.apiKey,"boolean"!==typeof e.ssl&&("boolean"===typeof this.options.ssl?e.ssl=this.options.ssl:e.ssl=!0),x_.log(e),this._displayWaitingContainer(),Dn.Ay.Services.route(e))}_fillRouteResultsDetails(e){var t=e.totalDistance,n=e.totalTime,i=this._simplifiedInstructions(e.routeInstructions);i&&this._fillRouteResultsDetailsContainer(t,n,i);var r=e.routeGeometry;r&&this._fillRouteResultsDetailsGeometry(r,this._defaultFeatureStyle),i&&i[0].geometry&&this._fillRouteResultsDetailsFeatureGeometry(i,this._defaultFeatureStyle);var o=e.bbox;if(o){var a=this.getMap(),s=[o.left,o.bottom,o.right,o.top],l=a.getView().getProjection().getCode();"EPSG:4326"!==l&&(s=(0,ne.DI)(s,"EPSG:4326",l)),a.getView().fit(s,a.getSize())}this._currentRouteInformations=e,this.dispatchEvent({type:"route:compute"}),this._formRouteContainer.className="GPelementHidden gpf-hidden gpf-panel__content fr-modal__content",this._hideWaitingContainer(),this._resultsRouteContainer.className=""}_fillRouteResultsDetailsContainer(e,t,n){this._resultsRouteValuesContainer=this._addRouteResultsValuesElement(e,t,this._convertSecondsToTime),this._resultsRouteDetailsContainer=this._addRouteResultsDetailsElement(n,this._convertSecondsToTime)}_fillRouteResultsDetailsGeometry(e,t){this._clearRouteResultsGeometry();var n=this.getMap();if(e){var i={type:"FeatureCollection",features:[{type:"Feature",crs:{type:"name",properties:{name:"EPSG:4326"}},geometry:e}]},r=new Ci({defaultDataProjection:"EPSG:4326",defaultStyle:t}),o=r.readFeatures(i,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"});this._geojsonRoute=new kt.A({source:new Se.A({features:o}),style:t}),n.addLayer(this._geojsonRoute)}}_fillRouteResultsDetailsFeatureGeometry(e,t){this._clearRouteResultsFeatureGeometry();var n=this.getMap();this._geojsonObject={type:"FeatureCollection",crs:{type:"name",properties:{name:"EPSG:4326"}},features:[]};for(var i=0;i<e.length;i++){for(var r=e[i],o=i+1,a=r.geometry.coordinates,s=0;s<a.length;s++)"string"===typeof a[s][0]&&(a[s][0]=parseFloat(a[s][0]),a[s][1]=parseFloat(a[s][1]));this._geojsonObject.features.push({type:"Feature",geometry:r.geometry,properties:{popupContent:"("+o+") distance : "+this._convertDistance(r.distance)+" / temps : "+this._convertSecondsToTime(r.duration)},id:o})}this._geojsonObject.features.push({type:"Feature",geometry:{type:"Point",coordinates:this._currentPoints[0].getCoordinate()},properties:{description:"Point de départ","marker-symbol":this.options.markersOpts.departure.url}});for(var l=1;l<this._currentPoints.length-1;l++)if(this._currentPoints[l]&&this._currentPoints[l].getCoordinate){var u=this._currentPoints[l].getCoordinate();u&&this._geojsonObject.features.push({type:"Feature",geometry:{type:"Point",coordinates:u},properties:{description:"Point d'étape","marker-symbol":this.options.markersOpts.stages.url}})}this._geojsonObject.features.push({type:"Feature",geometry:{type:"Point",coordinates:this._currentPoints[this._currentPoints.length-1].getCoordinate()},properties:{description:"Point d'arrivée","marker-symbol":this.options.markersOpts.arrival.url}});var c,h=new Ci({defaultDataProjection:"EPSG:4326",defaultStyle:t}),d=this.getMap().getView().getProjection().getCode(),p=h.readFeatures(this._geojsonObject,{dataProjection:"EPSG:4326",featureProjection:d});this._geojsonSections=new kt.A({source:new Se.A({features:p}),style:t,opacity:.9}),"Pieton"===this._currentTransport?(c="piéton",this._geojsonSections.gpResultLayerId="Pieton$OGC:OPENLS;Itineraire"):(c="voiture",this._geojsonSections.gpResultLayerId="Voiture$OGC:OPENLS;Itineraire"),n.addLayer(this._geojsonSections),n.getControls().forEach((e=>{if(e instanceof Pd){var t=this._geojsonSections.gpLayerId;e._layers[t].title===t&&e.addLayer(this._geojsonSections,{title:this.options.layerDescription.title+" ("+c+")",description:this.options.layerDescription.description})}}),this),this._resultsHoverInteraction=new Ut({condition:Lt.N1,layers:[this._geojsonSections],style:this._selectedFeatureStyle}),this._resultsHoverInteraction.on("select",(e=>this._onResultsFeatureMouseOver(e))),n.addInteraction(this._resultsHoverInteraction),this._resultsSelectInteraction=new Ut({layers:[this._geojsonSections],style:this._selectedFeatureStyle}),this._resultsSelectInteraction.on("select",(e=>this._onResultsFeatureSelect(e))),n.addInteraction(this._resultsSelectInteraction)}_onResultsFeatureMouseOver(e){if(0!==e.selected.length){var t=e.selected[0],n=document.getElementById("GProuteResultsDetailsInstruction_"+t.getId()+"-"+this._uid);n&&n.classList&&n.classList.add("GProuteResultsDetailsInstructionHighlight")}if(0!==e.deselected.length){var i=e.deselected[0],r=document.getElementById("GProuteResultsDetailsInstruction_"+i.getId()+"-"+this._uid);r&&r.classList&&r.classList.remove("GProuteResultsDetailsInstructionHighlight")}}_onResultsFeatureSelect(e){var t=this.getMap();if(0!==e.selected.length){var n=e.selected[0];this._popupContent.innerHTML=n.getProperties().popupContent,this._popupOverlay?this._popupOverlay.setPosition(e.mapBrowserEvent.coordinate):(this._popupOverlay=new m({element:this._popupDiv,positioning:"bottom-center",position:e.mapBrowserEvent.coordinate}),t.addOverlay(this._popupOverlay))}else null!=this._popupOverlay&&this._popupOverlay.setPosition(void 0)}_clear(){this._currentTransport=null,this._currentExclusions=[],this._currentComputation=null,this._clearRouteResultsDetails(),this._clearRouteResultsGeometry(),this._clearRouteResultsFeatureGeometry();for(var e=0;e<this._currentPoints.length;e++)this._currentPoints[e].clear();this._removeRouteStepLocations()}_clearRouteInputOptions(){var e;this._initTransport(),this._initComputation(),this._initExclusions(),"Pieton"===this._currentTransport?(e=document.getElementById("GProuteTransportPedestrian-"+this._uid),e&&(e.checked="true")):(e=document.getElementById("GProuteTransportCar-"+this._uid),e&&(e.checked="true"));var t=document.getElementById("GProuteComputationSelect-"+this._uid);t&&(t.value=this._currentComputation);var n=document.getElementById("GProuteExclusionsToll-"+this._uid);n&&(-1!==this._currentExclusions.indexOf("toll")?n.checked=!1:n.checked=!0);var i=document.getElementById("GProuteExclusionsTunnel-"+this._uid);i&&(-1!==this._currentExclusions.indexOf("tunnel")?i.checked=!1:i.checked=!0);var r=document.getElementById("GProuteExclusionsBridge-"+this._uid);r&&(-1!==this._currentExclusions.indexOf("bridge")?r.checked=!1:r.checked=!0)}_removeRouteStepLocations(){var e=document.querySelectorAll('div[id^="GPlocationPoint"]');if(0!==e.length){for(var t=[],n=0;n<e.length;n++)-1!==e[n].id.indexOf(this._uid)&&t.push(e[n]);for(var i=1;i<t.length-1;i++){var r=t[i].classList;if(0!==r.length)for(var o=0;o<r.length;o++)"GPlocationStageFlexInput"===r[o]&&document.getElementById(this._addUID("GPlocationStageRemove_"+(i+1))).click()}}}_clearRouteResultsDetails(){if(this._currentRouteInformations=null,this._resultsRouteDetailsContainer){var e=this._resultsRouteDetailsContainer;if(e.childElementCount)while(e.firstChild)e.removeChild(e.firstChild)}if(this._resultsRouteValuesContainer){var t=this._resultsRouteValuesContainer;if(t.childElementCount)while(t.firstChild)t.removeChild(t.firstChild)}}_clearRouteResultsGeometry(){var e=this.getMap();null!=this._geojsonRoute&&(e.removeLayer(this._geojsonRoute),this._geojsonRoute=null)}_clearRouteResultsFeatureGeometry(){var e=this.getMap();null!=this._geojsonSections&&(e.removeLayer(this._geojsonSections),this._geojsonSections=null,this._geojsonObject=null),null!=this._popupOverlay&&(e.removeOverlay(this._popupOverlay),this._popupOverlay=null),null!=this._resultsSelectInteraction&&(e.removeInteraction(this._resultsSelectInteraction),this._resultsSelectInteraction=null),null!=this._resultsHoverInteraction&&(e.removeInteraction(this._resultsHoverInteraction),this._resultsHoverInteraction=null)}_hideRouteSuggestedLocations(e){if(e.target&&e.target.id&&-1!==e.target.id.indexOf("GPlocationOrigin_"))for(var t=parseInt(e.target.id.split("_")[1][0],10)-1,n=0;n<this._currentPoints.length;n++)n!==parseInt(t,10)&&this._currentPoints[n]._hideSuggestedLocation();else for(var i=0;i<this._currentPoints.length;i++)this._currentPoints[i]._hideSuggestedLocation()}_displayWaitingContainer(){this._waitingContainer.className="GPwaitingContainer GPwaitingContainerVisible gpf-waiting gpf-waiting--visible",this._waiting=!0;var e=this.options.routeOptions;if(e&&e.timeOut){this._timer&&(clearTimeout(this._timer),this._timer=null);var t=this;this._timer=setTimeout((function(){!0===t._waiting?t._hideWaitingContainer():t._timer&&clearTimeout(t._timer)}),16e3)}}_hideWaitingContainer(){if(this._waiting){this._waitingContainer.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden",this._waiting=!1;var e=this.options.routeOptions;e&&e.timeOut&&(clearTimeout(this._timer),this._timer=null)}}_simplifiedInstructions(e){var t=[],n=e[0];1===e.length&&t.push(n);for(var i=1;i<e.length;i++){var r=e[i];if(r.instruction===n.instruction){n.distance=(parseFloat(r.distance)+parseFloat(n.distance)).toString(),n.duration=(parseFloat(r.duration)+parseFloat(n.duration)).toString();for(var o=1;o<r.geometry.coordinates.length;o++)n.geometry.coordinates.push(r.geometry.coordinates[o])}else t.push(n),n=r,i===e.length-1&&(t.push(r),n=null)}return x_.log(t),t}_convertSecondsToTime(e){var t="";e=Math.round(e);var n=Math.floor(e/3600),i=e%3600,r=Math.floor(i/60);return n&&(t=n+"h "),t+=r+" min",t}_convertDistance(e){var t="",n=parseInt(e/1e3,10);return t=n?n+" km":parseInt(e,10)+" m",t}};Object.assign(S_.prototype,b_);var P_=S_;window.ol&&window.ol.control&&(window.ol.control.Route=S_);var M_={_addUID:function(e){var t=this._uid?e+"-"+this._uid:e;return t},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPisochron"),e.className="GPwidget gpf-widget",e},_createShowIsoPictoElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPshowIsochronPicto"),t.className="GPshowOpen GPshowAdvancedToolPicto GPshowIsochronPicto gpf-btn gpf-btn-icon-isocurve fr-btn",t.title="Calculer une isochrone",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener?t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowIsoPanelClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowIsoPanelClick(t)})),t},_createIsoPanelElement:function(){var e=document.createElement("dialog");return e.id=this._addUID("GPisochronPanel"),e.className="GPpanel gpf-panel fr-modal",e},_createIsoPanelDivElement:function(){var e=document.createElement("div");return e.className="gpf-panel__body fr-modal__body",e},_createIsoPanelHeaderElement:function(){var e=this,t=document.createElement("div");t.className="GPpanelHeader gpf-panel__header fr-modal__header";var n=document.createElement("div");n.className="GPpanelTitle gpf-panel__title fr-modal__title",n.innerHTML="Calcul d'isochrone",t.appendChild(n);var i=document.createElement("button");i.id=this._addUID("GPisochronPanelClose"),i.className="GPpanelClose GPisochronPanelClose gpf-btn gpf-btn-icon-close fr-btn--close fr-btn",i.title="Fermer le panneau",i.addEventListener?i.addEventListener("click",(function(){document.getElementById(e._addUID("GPshowIsochronPicto")).click()}),!1):i.attachEvent&&i.attachEvent("onclick",(function(){document.getElementById(e._addUID("GPshowIsochronPicto")).click()}));var r=document.createElement("span");return r.className="GPelementHidden gpf-visible",r.innerText="Fermer",i.appendChild(r),t.appendChild(i),t},_createIsoPanelFormElement:function(){var e=this,t=document.createElement("form");return t.id=this._addUID("GPisochronForm"),t.className="GPform gpf-panel__content fr-modal__content",t.addEventListener("submit",(function(t){return t.preventDefault(),e.onIsoComputationSubmit(t),!1})),t},_createIsoWaitingElement:function(){var e=document.createElement("div");e.id=this._addUID("GPisochronCalcWaitingContainer"),e.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden";var t=document.createElement("p");return t.className="GPwaitingContainerInfo gpf-waiting_info",t.innerHTML="Recherche en cours...",e.appendChild(t),e},_createIsoPanelFooterElement:function(){var e=document.createElement("div");return e.className="GPpanelFooter gpf-panel__footer fr-modal__footer",e},_createIsoPanelFormTypeChoiceElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPisochronChoice"),e},_createIsoPanelFormTypeChoiceChronElement:function(e){var t=this,n=document.createElement("div");n.className="GPisochronChoiceAlt gpf-flex gpf-flex-isocurve gpf-radio-group fr-radio-group";var i=document.createElement("input");i.id=this._addUID("GPisochronChoiceAltChron"),i.name="GPisochronChoiceMode",i.type="radio",i.checked=!!e,i.addEventListener?i.addEventListener("change",(function(e){document.getElementById(t._addUID("GPisochronValueChron")).className="GPflexInput gpf-flex",document.getElementById(t._addUID("GPisochronValueDist")).className="GPelementHidden gpf-hidden",t.onIsoTypeChoiceChange(e)}),!1):i.attachEvent&&i.attachEvent("onchange",(function(){document.getElementById(t._addUID("GPisochronValueChron")).className="GPflexInput gpf-flex",document.getElementById(t._addUID("GPisochronValueDist")).className="GPelementHidden gpf-hidden",t.onIsoTypeChoiceChange()})),i.value="isochron",n.appendChild(i);var r=document.createElement("label");r.className="GPisochronChoiceAltImg gpf-label fr-label",r.htmlFor=this._addUID("GPisochronChoiceAltChron"),r.innerHTML="isochrone",n.appendChild(r);var o=document.createElement("span");return o.id=this._addUID("GPisochronChoiceAltChronTxt"),o.className="gpf-hidden",o.innerHTML="isochrone",o.addEventListener?o.addEventListener("click",(function(){document.getElementById(t._addUID("GPisochronChoiceAltChron")).click()}),!1):o.attachEvent&&o.attachEvent("onclick",(function(){document.getElementById(t._addUID("GPisochronChoiceAltChron")).click()})),n.appendChild(o),n},_createIsoPanelFormTypeChoiceDistElement:function(e){var t=this,n=document.createElement("div");n.className="GPisochronChoiceAlt gpf-flex gpf-flex-isocurve gpf-radio-group fr-radio-group";var i=document.createElement("input");i.id=this._addUID("GPisochronChoiceAltDist"),i.name="GPisochronChoiceMode",i.type="radio",i.checked=!!e,i.addEventListener?i.addEventListener("change",(function(e){document.getElementById(t._addUID("GPisochronValueDist")).className="GPflexInput gpf-flex",document.getElementById(t._addUID("GPisochronValueChron")).className="GPelementHidden gpf-hidden",t.onIsoTypeChoiceChange(e)}),!1):i.attachEvent&&i.attachEvent("onchange",(function(){document.getElementById(t._addUID("GPisochronValueDist")).className="GPflexInput gpf-flex",document.getElementById(t._addUID("GPisochronValueChron")).className="GPelementHidden gpf-hidden",t.onIsoTypeChoiceChange()})),i.value="isodistance",n.appendChild(i);var r=document.createElement("label");r.className="GPisochronChoiceAltImg gpf-label fr-label",r.htmlFor=this._addUID("GPisochronChoiceAltDist"),r.innerHTML="isodistance",n.appendChild(r);var o=document.createElement("span");return o.id=this._addUID("GPisochronChoiceAltDistTxt"),o.className="gpf-hidden",o.innerHTML="isodistance",o.addEventListener?o.addEventListener("click",(function(){document.getElementById(t._addUID("GPisochronChoiceAltDist")).click()}),!1):o.attachEvent&&o.attachEvent("onclick",(function(){document.getElementById(t._addUID("GPisochronChoiceAltDist")).click()})),n.appendChild(o),n},_createIsoPanelFormValueIsochronElement:function(e){var t=this,n=document.createElement("div");n.id=this._addUID("GPisochronValueChron"),n.className=e?"GPflexInput gpf-flex":"GPelementHidden gpf-hidden";var i=document.createElement("label");i.id=this._addUID("GPisochronValueChronLabel"),i.className="gpf-label fr-label",i.htmlFor=this._addUID("GPisochronValueChronInput"),i.innerHTML="Temps",n.appendChild(i);var r=document.createElement("input");r.id=this._addUID("GPisochronValueChronInput1"),r.className="gpf-input fr-input",r.min="0",r.step="1",r.value="0",r.type="number",r.addEventListener?r.addEventListener("change",(function(e){"function"===typeof t.onIsoValueChronTimeMinuteChange&&t.onIsoValueChronTimeHourChange(e)})):r.attachEvent&&r.attachEvent("onchange",(function(e){"function"===typeof t.onIsoValueChronTimeMinuteChange&&t.onIsoValueChronTimeHourChange(e)})),n.appendChild(r);var o=document.createElement("label");o.innerHTML="h",o.className="gpf-label fr-label",n.appendChild(o);var a=document.createElement("input");a.id=this._addUID("GPisochronValueChronInput2"),a.className="gpf-input fr-input",a.min="0",a.max="59",a.step="1",a.value="0",a.type="number",a.addEventListener?a.addEventListener("change",(function(e){"function"===typeof t.onIsoValueChronTimeMinuteChange&&t.onIsoValueChronTimeMinuteChange(e)})):a.attachEvent&&a.attachEvent("onchange",(function(e){"function"===typeof t.onIsoValueChronTimeMinuteChange&&t.onIsoValueChronTimeMinuteChange(e)})),n.appendChild(a);var s=document.createElement("label");return s.innerHTML="min",s.className="gpf-label fr-label",n.appendChild(s),n},_createIsoPanelFormValueIsodistanceElement:function(e){var t=this,n=document.createElement("div");n.id=this._addUID("GPisochronValueDist"),n.className=e?"GPflexInput gpf-flex":"GPelementHidden gpf-hidden";var i=document.createElement("label");i.id=this._addUID("GPisochronValueDistLabel"),i.className="gpf-label fr-label",i.htmlFor=this._addUID("GPisochronValueDistInput"),i.innerHTML="Distance",n.appendChild(i);var r=document.createElement("input");r.id=this._addUID("GPisochronValueDistInput"),r.className="gpf-input fr-input",r.min="0",r.step="any",r.value="0",r.type="number",r.addEventListener?r.addEventListener("change",(function(e){"function"===typeof t.onIsoValueDistChange&&t.onIsoValueDistChange(e)})):r.attachEvent&&r.attachEvent("onchange",(function(e){"function"===typeof t.onIsoValueDistChange&&t.onIsoValueDistChange(e)})),n.appendChild(r);var o=document.createElement("label");return o.innerHTML="km",i.className="gpf-label fr-label",n.appendChild(o),n},_createIsoPanelFormModeChoiceElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPisochronModeChoice"),e},_createIsoPanelFormModeChoiceTransportElement:function(e){var t=this,n=document.createElement("div");n.id=this._addUID("GPisochronTransportChoice");var i=document.createElement("label");i.className="GPisochronModeLabel gpf-label fr-label",i.innerHTML="Mode de transport",n.appendChild(i);for(var r=0;r<e.length;r++){var o=e[r],a=document.createElement("div");if(a.className="GPisochronTransportChoice gpf-flex gpf-radio-group fr-radio-group","Voiture"===o){var s=document.createElement("input");s.id=this._addUID("GPisochronTransportCar"),s.type="radio",s.name="GPisochronTransport",0===r&&(s.checked=!0),s.addEventListener?s.addEventListener("change",(function(e){t.onIsoModeTransportChange(e)})):s.attachEvent&&s.attachEvent("onchange",(function(e){t.onIsoModeTransportChange(e)})),s.value="Voiture",a.appendChild(s);var l=document.createElement("label");l.className="GPisochronTransportImg gpf-label fr-label",l.htmlFor=this._addUID("GPisochronTransportCar"),l.title="Voiture",l.innerHTML="Voiture",a.appendChild(l)}if("Pieton"===o){var u=document.createElement("input");u.id=this._addUID("GPisochronTransportPedestrian"),u.type="radio",u.name="GPisochronTransport",0===r&&(u.checked=!0),u.addEventListener?u.addEventListener("change",(function(e){t.onIsoModeTransportChange(e)})):u.attachEvent&&u.attachEvent("onchange",(function(e){t.onIsoModeTransportChange(e)})),u.value="Pieton",a.appendChild(u);var c=document.createElement("label");c.className="GPisochronTransportImg gpf-label fr-label",c.htmlFor=this._addUID("GPisochronTransportPedestrian"),c.title="Piéton",c.innerHTML="Piéton",a.appendChild(c)}n.appendChild(a)}return n},_createIsoPanelFormModeChoiceDirectionElement:function(e){var t=this,n=document.createElement("div");n.id=this._addUID("GPisochronDirectionChoice");var i=document.createElement("label");i.className="GPisochronModeLabel gpf-label fr-label",i.innerHTML="Sens de parcours",n.appendChild(i);var r=document.createElement("select");r.id=this._addUID("GPisochronDirectionSelect"),r.className="GPselect gpf-select fr-select",r.addEventListener("change",(function(e){t.onIsoModeDirectionChange(e)}));for(var o=0;o<e.length;o++){var a=e[o];if("departure"===a.toLowerCase()){var s=document.createElement("option");0===o&&(s.selected="selected"),s.value="departure",s.text="Départ",r.appendChild(s)}if("arrival"===a.toLowerCase()){var l=document.createElement("option");0===o&&(l.selected="selected"),l.value="arrival",l.text="Arrivée",r.appendChild(l)}}return n.appendChild(r),n},_createShowIsoExclusionsPictoElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPshowIsoExclusionsPicto"),t.className="GPshowAdvancedToolPicto GPshowMoreOptionsImage GPshowMoreOptions GPshowIsoExclusionsPicto gpf-btn fr-btn--sm fr-icon-arrow-down-fill",t.title="Exclusions",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener?t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowIsoSettingsClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowIsoSettingsClick(t)})),t},_createIsoPanelFormExclusionsElement:function(){var e=document.createElement("div");e.id=this._addUID("GPisoExclusions");var t=document.createElement("label");return t.className="GPisoExclusionsLabel gpf-label fr-label",t.innerHTML="Passages autorisés",e.appendChild(t),e},_createIsoPanelFormExclusionOptionsElement:function(e){var t=this,n=document.createElement("div");for(var i in n.className="GPisoExclusionsOptions gpf-flex",e)if(e.hasOwnProperty(i)){var r=e[i];switch(i){case"toll":var o=document.createElement("input");o.id=this._addUID("GPisoExclusionsToll"),o.type="checkbox",o.checked=!r,o.addEventListener?o.addEventListener("change",(function(e){t.onIsoExclusionsChange(e)})):o.attachEvent&&o.attachEvent("onchange",(function(e){t.onIsoExclusionsChange(e)})),o.value="Toll",n.appendChild(o);var a=document.createElement("label");a.className="GPisoExclusionsOption",a.htmlFor=this._addUID("GPisoExclusionsToll"),a.innerHTML="Péages",n.appendChild(a);break;case"tunnel":var s=document.createElement("input");s.id=this._addUID("GPisoExclusionsTunnel"),s.type="checkbox",s.checked=!r,s.addEventListener?s.addEventListener("change",(function(e){t.onIsoExclusionsChange(e)})):s.attachEvent&&s.attachEvent("onchange",(function(e){t.onIsoExclusionsChange(e)})),s.value="Tunnel",n.appendChild(s);var l=document.createElement("label");l.className="GPisoExclusionsOption",l.htmlFor=this._addUID("GPisoExclusionsTunnel"),l.innerHTML="Tunnels",n.appendChild(l);break;case"bridge":var u=document.createElement("input");u.id=this._addUID("GPisoExclusionsBridge"),u.type="checkbox",u.checked=!r,u.addEventListener?u.addEventListener("change",(function(e){t.onIsoExclusionsChange(e)})):u.attachEvent&&u.attachEvent("onchange",(function(e){t.onIsoExclusionsChange(e)})),u.value="Bridge",n.appendChild(u);var c=document.createElement("label");c.className="GPisoExclusionsOption",c.htmlFor=this._addUID("GPisoExclusionsBridge"),c.innerHTML="Ponts",n.appendChild(c);break}}return n},_createIsoSubmitFormElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPisochronSubmit"),e.className="GPsubmit gpf-btn fr-btn",e.type="submit",e.value="Calculer",e},_createIsoFormResetElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPisochronReset"),t.className="GPresetPicto GPisochronReset gpf-btn gpf-btn-icon-reset fr-btn",t.title="Réinitialiser les paramètres",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onIsoResetClick(t)})),t}},k_=M_,R_=Un.getLogger("isocurve"),T_=class e extends Qu{constructor(t){if(t=t||{},super({element:t.element,target:t.target,render:t.render}),!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return this.initialize(t),this._container=this._createMainContainerElement(),this.element?this.element.appendChild(this._container):this.element=this._container,this}setMap(e){if(e){if(this._container=this._initContainer(e),this.options.export){var t=qn.assign({control:this},this.options.export);this.export=new I_(t),this.export.render();var n=this;this.export.on("export:compute",(e=>{n.dispatchEvent({type:"export:compute",content:e.content})}))}this.draggable&&qd.dragElement(this._IsoPanelContainer,this._IsoPanelHeaderContainer,this.options.position?null:e.getTargetElement()),this.collapsed||this._pictoIsoButton.setAttribute("aria-pressed",!0)}super.setMap(e),this.options.position&&this.setPosition(this.options.position)}getCollapsed(){return this.collapsed}setCollapsed(e){void 0!==e?e&&this.collapsed||!e&&!this.collapsed||(e?document.getElementById("GPisochronPanelClose-"+this._uid).click():this._pictoIsoButton.click(),this.collapsed=e):R_.log("[ERROR] Isocurve:setCollapsed - missing collapsed parameter")}getLayer(){return this._geojsonLayer}setLayer(e){e?e instanceof kt.A?(e.setStyle(this._defaultFeatureStyle),this._geojsonLayer=e):R_.log("no valid layer given for hosting drawn features."):this._geojsonLayer=null}getGeoJSON(){return JSON.stringify(this._geojsonObject)}setGeoJSON(e){try{this._geojsonObject=JSON.parse(e)}catch(nw){R_.log("no valid geojson given :"+nw.message)}}getData(){var e={type:"isocurve",transport:this._currentTransport,computation:this._currentComputation,exclusions:this._currentExclusions,direction:this._currentDirection,point:this._originPoint.getCoordinate(),results:{}};return qn.assign(e.results,this._currentIsoResults),e}setData(e){this._currentTransport=e.transport,this._currentComputation=e.computation,this._currentExclusions=e.exclusions,this._currentDirection=e.direction;var t=document.getElementById("GPlocationOriginPointer_1-"+this._uid);t.checked=!0;var n=document.getElementById("GPlocationOriginCoords_1-"+this._uid);n.value="",this._originPoint.setCoordinate(e.point,"EPSG:4326"),this._currentIsoResults=e.results}getContainer(){return this._container}getStyle(){return this._defaultFeatureStyle}compute(e,t,n){this._clear();var i=this._pictoIsoButton.ariaPressed;"true"!==i&&this._pictoIsoButton.click();var r=this.getMap();if(r){var o={direction:"departure",method:"time",transport:"Voiture",exclusions:[]};qn.assign(o,n),this._originPoint.setCoordinate(e);var a=this._originPoint.getCoordinate(),s=document.getElementById("GPlocationOrigin_1-"+this._uid);if(s.value=a[0].toFixed(4)+" / "+a[1].toFixed(4),this._currentTransport=o.transport,"Voiture"===o.transport?document.getElementById("GPisochronTransportCar-"+this._uid).checked=!0:document.getElementById("GPisochronTransportPedestrian-"+this._uid).checked=!0,this._currentExclusions=o.exclusions,this._currentComputation=o.method,"time"===o.method){var l=t.split(".");this._currentTimeHour=l[0]||0,document.getElementById("GPisochronValueChronInput1-"+this._uid).value=this._currentTimeHour,this._currentTimeMinute=l[1]||0,document.getElementById("GPisochronValueChronInput2-"+this._uid).value=this._currentTimeMinute,document.getElementById("GPisochronChoiceAltChron-"+this._uid).click()}else this._currentDistance=t,document.getElementById("GPisochronValueDistInput-"+this._uid).value=this._currentDistance,document.getElementById("GPisochronChoiceAltDist-"+this._uid).click();this._currentDirection=o.direction,"departure"===o.direction?document.getElementById("GPisochronDirectionSelect-"+this._uid).selectedIndex=0:document.getElementById("GPisochronDirectionSelect-"+this._uid).selectedIndex=1,this.onIsoComputationSubmit()}}init(){var e=this._originPoint.getCoordinate(),t=document.getElementById("GPlocationOrigin_1-"+this._uid);if(t.value=e[1].toFixed(4)+" / "+e[0].toFixed(4),"Voiture"===this._currentTransport?document.getElementById("GPisochronTransportCar-"+this._uid).checked=!0:document.getElementById("GPisochronTransportPedestrian-"+this._uid).checked=!0,"time"===this._currentComputation){var n=this._currentIsoResults.time/60;this._currentTimeHour=Math.floor(n/60),document.getElementById("GPisochronValueChronInput1-"+this._uid).value=this._currentTimeHour,this._currentTimeMinute=Math.round(60*(n/60-this._currentTimeHour)),document.getElementById("GPisochronValueChronInput2-"+this._uid).value=this._currentTimeMinute,document.getElementById("GPisochronChoiceAltChron-"+this._uid).click()}else this._currentDistance=this._currentIsoResults.distance/1e3,document.getElementById("GPisochronValueDistInput-"+this._uid).value=this._currentDistance,document.getElementById("GPisochronChoiceAltDist-"+this._uid).click();"departure"===this._currentDirection?document.getElementById("GPisochronDirectionSelect-"+this._uid).selectedIndex=0:document.getElementById("GPisochronDirectionSelect-"+this._uid).selectedIndex=1}clean(){this._clearIsoInputs(),this._originPoint.clearResults(),document.getElementById("GPlocationPoint_1-"+this._uid).style.cssText="",document.getElementById("GPlocationOriginCoords_1-"+this._uid).value="",document.getElementById("GPlocationOrigin_1-"+this._uid).value="",document.getElementById("GPlocationPoint_1-"+this._uid).style.cssText="",document.getElementById("GPlocationOriginPointer_1-"+this._uid).checked=!1,document.getElementById("GPlocationOrigin_1-"+this._uid).className="GPlocationOriginVisible gpf-visible",document.getElementById("GPlocationOriginCoords_1-"+this._uid).className="GPlocationOriginHidden gpf-hidden",this._currentIsoResults=null,this.setLayer()}initialize(e){this._checkInputOptions(e),this.options={collapsed:!0,draggable:!1,export:!1,methods:["time","distance"],graphs:["Voiture","Pieton"],exclusions:{toll:!1,tunnel:!1,bridge:!1},directions:["departure","arrival"],markerOpts:{url:Qn["lightOrange"],offset:Qn.defaultOffset},isocurveOptions:{},autocompleteOptions:{},layerDescription:{title:"Isochrone/Isodistance",description:"isochrone/isodistance basé sur un graphe"}},qn.assign(this.options,e),this.collapsed=this.options.collapsed,this.draggable=this.options.draggable,this._uid=nc.generate(),this._currentTransport=null,this._initTransport(),this._currentComputation=null,this._initComputation(),this._currentExclusions=[],this._initExclusions(),this._currentDirection=null,this._initDirection(),this._originPoint=null,this._pictoIsoButton=null,this._waitingContainer=null,this._formContainer=null,this._IsoPanelContainer=null,this._IsoPanelHeaderContainer=null,this._currentIsoResults=null,this._geojsonLayer=null,this._geojsonObject=null,this.export=null,this._waiting=!1,this._timer=null,this._defaultFeatureStyle=new Tt.Ay({fill:new ii.A({color:"rgba(0, 183, 152, 0.7)"}),stroke:new ni.A({color:"rgba(0, 183, 152, 0)",width:1})}),this._resources={},this.listenerKey=null}_checkInputOptions(e){var t;if(e.methods)if(Array.isArray(e.methods))if(0===e.methods.length)e.methods=null;else for(t=0;t<e.methods.length;t++)"string"!==typeof e.methods[t]&&R_.log("[ol.control.Isocurve] ERROR : parameter 'methods' elements should be of type 'string'");else R_.warn("'methods' parameter should be an array"),e.methods=null;if(e.graphs)if(Array.isArray(e.graphs))if(0===e.graphs.length)e.graphs=null;else for(t=0;t<e.graphs.length;t++)"string"!==typeof e.graphs[t]?R_.log("[ol.control.Isocurve] ERROR : parameter 'graphs' elements should be of type 'string'"):("pieton"===e.graphs[t].toLowerCase()&&(e.graphs[t]="Pieton"),"voiture"===e.graphs[t].toLowerCase()&&(e.graphs[t]="Voiture"));else R_.warn("'graphs' parameter should be an array"),e.graphs=null;if(e.directions)if(Array.isArray(e.directions))if(0===e.directions.length)e.directions=null;else for(t=0;t<e.directions.length;t++)"string"!==typeof e.directions[t]&&R_.log("[ol.control.Isocurve] ERROR : parameter 'directions' elements should be of type 'string'");else R_.warn("'directions' parameter should be an array"),e.directions=null;"true"===e.collapsed&&(e.collapsed=!0),"false"===e.collapsed&&(e.collapsed=!1)}_initTransport(){this._currentTransport="Voiture";var e=this.options.graphs;e&&0!==e.length||(this.options.graphs=["Voiture","Pieton"]),Array.isArray(e)&&e.length&&("Voiture"!==e[0]&&"Pieton"!==e[0]||(this._currentTransport=e[0]));var t=this.options.isocurveOptions;t.graph&&(this._currentTransport=t.graph)}_initComputation(){this._currentComputation="time";var e=this.options.methods;e&&0!==e.length||(this.options.methods=["time","distance"]),Array.isArray(e)&&e.length&&("time"!==e[0]&&"distance"!==e[0]||(this._currentComputation=e[0]));var t=this.options.isocurveOptions;t.method&&(this._currentComputation=t.method),t.time&&(this._currentComputation="time"),t.distance&&(this._currentComputation="distance")}_initDirection(){this._currentDirection="departure";var e=this.options.directions;e&&0!==e.length||(this.options.directions=["departure","arrival"]),Array.isArray(e)&&e.length&&("departure"!==e[0]&&"arrival"!==e[0]||(this._currentDirection=e[0]));var t=this.options.isocurveOptions;t.reverse||(this._currentDirection="departure"),!0===t.reverse&&(this._currentDirection="arrival",this.options.directions=["arrival","departure"])}_initExclusions(){this._currentExclusions=[];var e=this.options.exclusions;if((!e||"object"===typeof e&&0===Object.keys(e).length)&&(this.options.exclusions={toll:!1,tunnel:!1,bridge:!1}),e&&"object"===typeof e&&Object.keys(e).length)for(var t in e)e.hasOwnProperty(t)&&e.k&&this._currentExclusions.push(t);var n=this.options.isocurveOptions;Array.isArray(n.exclusions)&&(this._currentExclusions=n.exclusions)}_initContainer(e){var t=this._container,n=this._pictoIsoButton=this._createShowIsoPictoElement();t.appendChild(n);var i=this._IsoPanelContainer=this._createIsoPanelElement(),r=this._createIsoPanelDivElement();i.appendChild(r);var o=this._IsoPanelHeaderContainer=this._createIsoPanelHeaderElement();r.appendChild(o);var a=this._formContainer=this._createIsoPanelFormElement(),s=this._createIsoPanelFormPointElement(e);a.appendChild(s);for(var l=!1,u=!1,c=this._createIsoPanelFormTypeChoiceElement(),h=0;h<this.options.methods.length;h++)"time"===this.options.methods[h]&&(l=0===h,c.appendChild(this._createIsoPanelFormTypeChoiceChronElement(l))),"distance"===this.options.methods[h]&&(u=0===h,c.appendChild(this._createIsoPanelFormTypeChoiceDistElement(u)));a.appendChild(c),a.appendChild(this._createIsoPanelFormValueIsochronElement(l)),a.appendChild(this._createIsoPanelFormValueIsodistanceElement(u));var d=this._createIsoPanelFormModeChoiceElement();if(d.appendChild(this._createIsoPanelFormModeChoiceTransportElement(this.options.graphs)),d.appendChild(this._createIsoPanelFormModeChoiceDirectionElement(this.options.directions)),a.appendChild(d),this.options.exclusions&&"object"===typeof this.options.exclusions&&0!==Object.keys(this.options.exclusions).length){a.appendChild(this._createShowIsoExclusionsPictoElement());var p=this._createIsoPanelFormExclusionsElement();p.appendChild(this._createIsoPanelFormExclusionOptionsElement(this.options.exclusions)),a.appendChild(p)}var g=this._createIsoPanelFooterElement();a.appendChild(g);var f=this._createIsoFormResetElement();g.appendChild(f);var m=this._submitContainer=this._createIsoSubmitFormElement();g.appendChild(m),r.appendChild(a);var v=this._waitingContainer=this._createIsoWaitingElement();return i.appendChild(v),t.appendChild(i),t.addEventListener&&t.addEventListener("click",(e=>this._hideIsoSuggestedLocations(e))),t}_createIsoPanelFormPointElement(e){this._originPoint=new v_({apiKey:this.options.apiKey||null,tag:{id:1,groupId:this._uid,markerOpts:this.options.markerOpts,label:"Départ",display:!0},autocompleteOptions:this.options.autocompleteOptions||null}),this._originPoint.setMap(e);var t=this;return document.getElementById("GPlocationOriginPointerImg_1-"+this._uid).onclick=function(){t._clearGeojsonLayer();var e=t.getMap();t._originPoint._inputShowPointerContainer.checked?(t._formContainer.className="GPisochronFormMini gpf-panel__content fr-modal__content",this.listenerKey=e.on("click",(()=>{t._formContainer.className="gpf-panel__content fr-modal__content",t.dispatchEvent("isocurve:drawend")}))):(t._formContainer.className="gpf-panel__content fr-modal__content",(0,Cr.e)(this.listenerKey)),t.dispatchEvent("isocurve:drawstart")},document.getElementById("GPlocationOriginLabel_1-"+this._uid).onclick=function(){t._clearGeojsonLayer(),t._formContainer.className="gpf-panel__content fr-modal__content",e.un("click",(()=>{t._formContainer.className="gpf-panel__content fr-modal__content"})),t.dispatchEvent("isocurve:drawend")},document.getElementById("GPlocationOrigin_1-"+this._uid).onclick=function(){t._clearGeojsonLayer(),t.dispatchEvent("isocurve:drawend")},this._originPoint._container}onIsoComputationSubmit(){if(this._originPoint&&this._originPoint.getCoordinate&&this._originPoint.getCoordinate()){var e,t,n=this._originPoint.getCoordinate(),i={x:n[0],y:n[1]};if(R_.log("origin : ",i),"time"===this._currentComputation.toLowerCase()){var r=document.getElementById("GPisochronValueChronInput1-"+this._uid),o=parseInt(r.value,10);isNaN&&isNaN(o)&&(o=0);var a=document.getElementById("GPisochronValueChronInput2-"+this._uid),s=parseInt(a.value,10);isNaN&&isNaN(s)&&(s=0),e=3600*o+60*s,R_.log("time : "+e)}if("distance"===this._currentComputation.toLowerCase()){var l=document.getElementById("GPisochronValueDistInput-"+this._uid);t=1e3*parseFloat(l.value),R_.log("distance : "+t)}if(e||t){var u=this.options.isocurveOptions||{},c=u.protocol||"XHR",h=u.timeOut||0;"JSONP"===c&&0===h&&(h=15e3);var d=!(null===u.onFailure||"function"!==typeof u.onFailure),p=!(null===u.onSuccess||"function"!==typeof u.onSuccess),g=this,f={position:i,graph:u.graph||this._currentTransport,exclusions:u.exclusions||this._currentExclusions,method:u.method||this._currentComputation,smoothing:u.smoothing||!0,timeOut:h,protocol:c,resource:u.resource,onSuccess:function(e){R_.log(e),e&&g._drawIsoResults(e),p&&u.onSuccess.call(g,e)},onFailure:function(e){g._hideWaitingContainer(),R_.log(e.message),d&&u.onFailure.call(g,e)}};("arrival"===this._currentDirection.toLowerCase()||u.reverse)&&(f.reverse=!0),e&&(f.time=e),t&&(f.distance=t),this._requestIsoCurve(f)}else R_.log("[Isocurve] Missing time or distance parameter to submit isocurve request")}else R_.log("[Isocurve] Missing position parameter to submit isocurve request")}onShowIsoPanelClick(){var e=this.getMap();Kn.unset(e);var t=this._pictoIsoButton.ariaPressed;this.collapsed=!("true"===t),this.dispatchEvent("change:collapsed")}onIsoTypeChoiceChange(e){var t=e.target.value;t&&("isodistance"===t&&(this._currentComputation="distance"),"isochron"===t&&(this._currentComputation="time"))}onIsoModeTransportChange(e){var t=e.target.value;t&&(this._currentTransport=t)}onIsoModeDirectionChange(e){var t=e.target.value;t&&("arrival"===t.toLowerCase()?this._originPoint._buttonLabel.innerHTML="Arrivée":this._originPoint._buttonLabel.innerHTML="Départ",this._currentDirection=t)}onIsoExclusionsChange(e){var t=e.target.value,n=e.target.checked;if(t){for(var i=!1,r=null,o=0;o<this._currentExclusions.length;o++)G_(this._currentExclusions[o],t.toLowerCase())&&(r=o,i=!0);i||n||this._currentExclusions.push(t.toLowerCase()),i&&n&&(this._currentExclusions[r]=null)}}onIsoResetClick(){this._clear()}onShowIsoSettingsClick(){}_requestIsoCurve(e){!e||"object"===typeof e&&0===Object.keys(e).length||e.position&&("boolean"!==typeof e.ssl&&("boolean"===typeof this.options.ssl?e.ssl=this.options.ssl:e.ssl=!0),R_.log(e),this._clearGeojsonLayer(),this._displayWaitingContainer(),Dn.Ay.Services.isoCurve(e))}_drawIsoResults(e){if(this._currentIsoResults=e,this._hideWaitingContainer(),e.geometry){var t=this.getMap();this._geojsonObject={type:"FeatureCollection",crs:{type:"name",properties:{name:"EPSG:4326"}},features:[{type:"Feature",crs:{type:"name",properties:{name:"EPSG:4326"}},geometry:e.geometry}]},this._geojsonObject.features.push({type:"Feature",geometry:{type:"Point",coordinates:this._originPoint.getCoordinate()},properties:{description:"Point d'origine","marker-symbol":this.options.markerOpts.url}});var n,i=new Ci({defaultDataProjection:"EPSG:4326",defaultStyle:this._defaultFeatureStyle}),r=t.getView().getProjection().getCode(),o=i.readFeatures(this._geojsonObject,{dataProjection:"EPSG:4326",featureProjection:r});if(this._geojsonLayer=new kt.A({source:new Se.A({features:o}),style:this._defaultFeatureStyle,opacity:.9}),"Pieton"===this._currentTransport?(n="piéton",this._geojsonLayer.gpResultLayerId="Pieton$GEOPORTAIL:GPP:Isocurve"):(n="voiture",this._geojsonLayer.gpResultLayerId="Voiture$GEOPORTAIL:GPP:Isocurve"),t.addLayer(this._geojsonLayer),this.dispatchEvent({type:"isocurve:compute"}),o[0]&&o[0].getGeometry()&&o[0].getGeometry().getExtent()){var a=o[0].getGeometry().getExtent();t.getView().fit(a,t.getSize())}var s="time"===this._currentComputation?"Isochrone":"Isodistance";t.getControls().forEach((e=>{if(e instanceof Pd){var t=this._geojsonLayer.gpLayerId;e._layers[t].title===t&&e.addLayer(this._geojsonLayer,{title:this.options.layerDescription.title+" ("+s+"/"+n+")",description:this.options.layerDescription.description})}}))}}_clear(){this._clearIsoInputs(),this._originPoint.clear(),this._clearGeojsonLayer(),this._currentIsoResults=null}_clearIsoInputs(){var e=document.getElementById("GPisochronValueChronInput1-"+this._uid);e&&(e.value="0");var t=document.getElementById("GPisochronValueChronInput2-"+this._uid);t&&(t.value="0");var n,i,r=document.getElementById("GPisochronValueDistInput-"+this._uid);r&&(r.value="0"),this._initTransport(),this._initComputation(),this._initDirection(),this._initExclusions(),"Pieton"===this._currentTransport?(n=document.getElementById("GPisochronTransportPedestrian-"+this._uid),n&&(n.checked="true")):(n=document.getElementById("GPisochronTransportCar-"+this._uid),n&&(n.checked="true")),"distance"===this._currentComputation.toLowerCase()?(i=document.getElementById("GPisochronChoiceAltDist-"+this._uid),i&&(i.checked="true"),document.getElementById("GPisochronValueDist-"+this._uid)&&(document.getElementById("GPisochronValueDist-"+this._uid).className="GPflexInput gpf-flex"),document.getElementById("GPisochronValueChron-"+this._uid)&&(document.getElementById("GPisochronValueChron-"+this._uid).className="GPelementHidden gpf-hidden")):(i=document.getElementById("GPisochronChoiceAltChron-"+this._uid),i&&(i.checked="true"),document.getElementById("GPisochronValueChron-"+this._uid)&&(document.getElementById("GPisochronValueChron-"+this._uid).className="GPflexInput gpf-flex"),document.getElementById("GPisochronValueDist-"+this._uid)&&(document.getElementById("GPisochronValueDist-"+this._uid).className="GPelementHidden gpf-hidden"));var o=document.getElementById("GPisochronDirectionSelect-"+this._uid);o&&(o.value=this._currentDirection),"arrival"===this._currentDirection?this._originPoint._buttonLabel.innerHTML="Arrivée":this._originPoint._buttonLabel.innerHTML="Départ";var a=document.getElementById("GPisoExclusionsToll-"+this._uid);a&&(-1!==this._currentExclusions.indexOf("toll")?a.checked=!1:a.checked=!0);var s=document.getElementById("GPisoExclusionsTunnel-"+this._uid);s&&(-1!==this._currentExclusions.indexOf("tunnel")?s.checked=!1:s.checked=!0);var l=document.getElementById("GPisoExclusionsBridge-"+this._uid);l&&(-1!==this._currentExclusions.indexOf("bridge")?l.checked=!1:l.checked=!0)}_clearGeojsonLayer(){var e=this.getMap();this._geojsonLayer&&(e.removeLayer(this._geojsonLayer),this._geojsonLayer=null),this._geojsonObject=null}_hideIsoSuggestedLocations(e){e.target&&e.target.id&&-1!==e.target.id.indexOf("GPlocationOrigin_")||this._originPoint._hideSuggestedLocation()}_displayWaitingContainer(){this._waitingContainer.className="GPwaitingContainer GPwaitingContainerVisible gpf-waiting gpf-waiting--visible",this._waiting=!0;var e=this.options.isocurveOptions;if(e&&e.timeOut){this._timer&&(clearTimeout(this._timer),this._timer=null);var t=this;this._timer=setTimeout((function(){!0===t._waiting?t._hideWaitingContainer():t._timer&&clearTimeout(t._timer)}),16e3)}}_hideWaitingContainer(){if(this._waiting){this._waitingContainer.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden",this._waiting=!1;var e=this.options.isocurveOptions;e&&e.timeOut&&(clearTimeout(this._timer),this._timer=null)}}};Object.assign(T_.prototype,k_);var L_=T_;window.ol&&window.ol.control&&(window.ol.control.Isocurve=T_);const G_=function(e,t){if(e===t)return!0;if("object"===typeof e&&null!=e&&"object"===typeof t&&null!=t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e){if(!t.hasOwnProperty(n))return!1;if(!G_(e[n],t[n]))return!1}return!0}return!1};var O_={_addUID:function(e){var t=this._uid?e+"-"+this._uid:e;return t},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPreverseGeocoding"),e.className="GPwidget gpf-widget",e},_createShowReverseGeocodingPictoElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPshowReverseGeocodingPicto"),t.className="GPshowOpen GPshowAdvancedToolPicto GPshowReverseGeocodingPicto gpf-btn gpf-btn-icon-reverse fr-btn",t.title="Ouvrir la recherche inverse",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener?t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowReverseGeocodingClick()})):t.attachEvent&&t.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowReverseGeocodingClick()})),t},_createReverseGeocodingWaitingElement:function(){var e=document.createElement("div");e.id=this._addUID("GPreverseGeocodingCalcWaitingContainer"),e.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden";var t=document.createElement("p");return t.className="GPwaitingContainerInfo gpf-waiting_info",t.innerHTML="Recherche en cours...",e.appendChild(t),e},_createReverseGeocodingResultsPanelElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPreverseGeocodingResultsPanel"),e.className="GPpanel GPelementHidden gpf-panel gpf-panel-reverse gpf-panel--hidden",e},_createReverseGeocodingResultsListElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPreverseGeocodingResultsList"),e.className="gpf-panel__list",e.setAttribute("tabindex","0"),e},_createReverseGeocodingResultElement:function(e,t){var n=this,i=document.getElementById(this._addUID("GPreverseGeocodingResultsList")),r=document.createElement("div");r.id=this._addUID("GPreverseGeocodedLocation_"+t),r.setAttribute("tabindex","0"),r.className="GPautoCompleteProposal gpf-panel__items",r.innerHTML=e,r.title=e,r.addEventListener?(r.addEventListener("mouseover",(function(e){n.onReverseGeocodingResultMouseOver(e)})),r.addEventListener("focus",(function(e){n.onReverseGeocodingResultMouseOver(e)})),r.addEventListener("mouseout",(function(e){n.onReverseGeocodingResultMouseOut(e)})),r.addEventListener("blur",(function(e){n.onReverseGeocodingResultMouseOut(e)})),r.addEventListener("click",(function(e){"function"===typeof n.onReverseGeocodingResultClick&&n.onReverseGeocodingResultClick(e)}))):r.attachEvent&&(r.attachEvent("onmouseover",(function(e){n.onReverseGeocodingResultMouseOver(e)})),r.attachEvent("onmouseout",(function(e){n.onReverseGeocodingResultMouseOut(e)})),r.attachEvent("onclick",(function(e){"function"===typeof n.onReverseGeocodingResultClick&&n.onReverseGeocodingResultClick(e)}))),i.appendChild(r)},_createReverseGeocodingPanelElement:function(){var e=document.createElement("dialog");return e.id=this._addUID("GPreverseGeocodingPanel"),e.className="GPpanel gpf-panel fr-modal",e},_createReverseGeocodingPanelDivElement:function(){var e=document.createElement("div");return e.className="gpf-panel__body fr-modal__body",e},_createReverseGeocodingPanelHeaderElement:function(){var e=document.createElement("div");return e.className="GPpanelHeader gpf-panel__header fr-modal__header",e},_createReverseGeocodingPanelReturnPictoElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPreverseGeocodingReturnPicto"),t.title="Nouvelle recherche",t.className="GPreturnPicto GPreverseGeocodingReturnPicto gpf-btn gpf-btn-icon-return fr-btn",t.classList.add("GPelementHidden"),t.classList.add("gpf-hidden"),t.addEventListener?t.addEventListener("click",(function(t){document.getElementById(e._addUID("GPreverseGeocodingResultsPanel")).className="GPelementHidden gpf-panel--hidden",document.getElementById(e._addUID("GPreverseGeocodingForm")).className="GPform gpf-panel__content fr-modal__content",document.getElementById(e._addUID("GPreverseGeocodingHeaderTitle")).innerHTML="Recherche inverse",document.getElementById(e._addUID("GPreverseGeocodingReturnPicto")).classList.add("GPelementHidden"),document.getElementById(e._addUID("GPreverseGeocodingReturnPicto")).classList.add("gpf-hidden"),e.onGPreverseGeocodingReturnPictoClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){document.getElementById(e._addUID("GPreverseGeocodingResultsPanel")).className="GPelementHidden gpf-panel--hidden",document.getElementById(e._addUID("GPreverseGeocodingForm")).className="GPform gpf-panel__content fr-modal__content",document.getElementById(e._addUID("GPreverseGeocodingHeaderTitle")).innerHTML="Recherche inverse",document.getElementById(e._addUID("GPreverseGeocodingReturnPicto")).classList.add("GPelementHidden"),document.getElementById(e._addUID("GPreverseGeocodingReturnPicto")).classList.add("gpf-hidden"),e.onGPreverseGeocodingReturnPictoClick(t)})),t},_createReverseGeocodingPanelTitleElement:function(){var e=document.createElement("div");return e.className="GPpanelTitle gpf-panel__title fr-modal__title",e.id=this._addUID("GPreverseGeocodingHeaderTitle"),e.innerHTML="Recherche inverse",e},_createReverseGeocodingPanelCloseElement:function(){var e=this,t=document.createElement("button");t.id=this._addUID("GPreverseGeocodingPanelClose"),t.className="GPpanelClose GPreverseGeocodingPanelClose gpf-btn gpf-btn-icon-close fr-btn--close fr-btn",t.title="Fermer le panneau",t.addEventListener?(t.addEventListener("click",(function(){document.getElementById(e._addUID("GPshowReverseGeocodingPicto")).click()}),!1),t.addEventListener("keydown",(function(t){13===t.keyCode&&document.getElementById(e._addUID("GPshowReverseGeocodingPicto")).click()}),!1)):t.attachEvent&&(t.attachEvent("onclick",(function(){document.getElementById(e._addUID("GPshowReverseGeocodingPicto")).click()})),t.attachEvent("onkeydown",(function(t){13===t.keyCode&&document.getElementById(e._addUID("GPshowReverseGeocodingPicto")).click()})));var n=document.createElement("span");return n.className="GPelementHidden gpf-visible",n.innerText="Fermer",t.appendChild(n),t},_createReverseGeocodingPanelFormElement:function(){var e=this,t=document.createElement("form");return t.id=this._addUID("GPreverseGeocodingForm"),t.className="GPform gpf-panel__content fr-modal__content",t.addEventListener?t.addEventListener("submit",(function(t){t.preventDefault(),e.onReverseGeocodingSubmit()})):t.attachEvent&&t.attachEvent("onsubmit",(function(t){t.preventDefault(),e.onReverseGeocodingSubmit()})),t},_createReverseGeocodingFormModeChoiceGeocodingTypeElement:function(e){var t=this,n=document.createElement("div");n.className="GPflexInput gpf-flex gpf-flex-reverse";var i=document.createElement("label");i.id="label-recherche-par",i.className="GPlabel gpf-label fr-label",i.innerHTML="Recherche par",i.title="Recherche par",n.appendChild(i);var r=document.createElement("select");r.setAttribute("aria-labelledby","label-recherche-par"),r.className="GPselect gpf-select fr-select",r.addEventListener?r.addEventListener("change",(function(e){t.onReverseGeocodingTypeChange(e)})):r.attachEvent&&r.attachEvent("onchange",(function(e){t.onReverseGeocodingTypeChange(e)})),e&&Array.isArray(e)||(e=["StreetAddress","PositionOfInterest","CadastralParcel"]);for(var o=0;o<e.length;o++)switch(e[o]){case"PositionOfInterest":var a=document.createElement("option");a.value="PositionOfInterest",a.text="Lieux/toponymes",r.appendChild(a);break;case"StreetAddress":var s=document.createElement("option");s.value="StreetAddress",s.text="Adresses",r.appendChild(s);break;case"CadastralParcel":var l=document.createElement("option");l.value="CadastralParcel",l.text="Parcelles cadastrales",r.appendChild(l);break;default:break}return n.appendChild(r),n},_createReverseGeocodingFormModeChoiceGeocodingDelimitationElement:function(e){var t=this,n=document.createElement("div");n.className="GPflexInput gpf-flex gpf-flex-reverse";var i=document.createElement("label");i.id="label-delimitation",i.className="GPlabel gpf-label fr-label",i.innerHTML="Délimitation",i.title="Délimitation",n.appendChild(i);var r=document.createElement("select");r.setAttribute("aria-labelledby","label-delimitation"),r.className="GPselect gpf-select fr-select",r.addEventListener?r.addEventListener("change",(function(e){t.onReverseGeocodingDelimitationChange(e)})):r.attachEvent&&r.attachEvent("onchange",(function(e){t.onReverseGeocodingDelimitationChange(e)})),e&&Array.isArray(e)||(e=["Point","Circle","Extent"]);for(var o=0;o<e.length;o++)switch(e[o].toLowerCase()){case"point":var a=document.createElement("option");a.value="point",a.text="Pointer un lieu",r.appendChild(a);break;case"circle":var s=document.createElement("option");s.value="circle",s.text="Dessiner un cercle",r.appendChild(s);break;case"extent":var l=document.createElement("option");l.value="extent",l.text="Dessiner une emprise",r.appendChild(l);break;default:break}return n.appendChild(r),n},_createReverseGeocodingSubmitFormElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPreverseGeocodingSubmit"),e.className="GPsubmit gpf-btn fr-btn",e.type="submit",e.value="Rechercher",e}},D_=O_,N_=Un.getLogger("reversegeocoding"),F_=class e extends Qu{constructor(t){if(t=t||{},super({element:t.element,target:t.target,render:t.render}),!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return this.initialize(t),this.container=this._initContainer(),this.element?this.element.appendChild(this.container):this.element=this.container,this}getCollapsed(){return this.collapsed}setCollapsed(e){void 0!==e?e&&this.collapsed||!e&&!this.collapsed||(e?this._panelCloseButton.click():this._showReverseGeocodingButton.click(),this.collapsed=e):N_.log("[ERROR] ReverseGeocode:setCollapsed - missing collapsed parameter")}setMap(e){if(e)this._activateMapInteraction(e),this.draggable&&qd.dragElement(this._panelContainer,this._panelHeaderContainer,this.options.position?null:e.getTargetElement()),this.collapsed||this._showReverseGeocodingButton.setAttribute("aria-pressed",!0);else{var t=this.getMap();this._clearResults(),this._clearInputFeatures(),this._removeMapInteraction(t),null!=this._inputFeaturesLayer&&(t.removeLayer(this._inputFeaturesLayer),this._inputFeaturesLayer=null,this._inputFeaturesSources=null,this._inputFeatures=null)}super.setMap(e),this.options.position&&this.setPosition(this.options.position)}getData(){return this._reverseGeocodingLocations}initialize(e){this._checkInputOptions(e),this.options={collapsed:!0,draggable:!1,resources:["StreetAddress","PositionOfInterest","CadastralParcel"],delimitations:["Point","Circle","Extent"],reverseGeocodeOptions:{},layerDescription:{title:"Saisie (recherche inverse)",description:"Couche de saisie d'une zone de recherche pour la recherche inverse"}},qn.assign(this.options,e),this.collapsed=this.options.collapsed,this.draggable=this.options.draggable,this._uid=nc.generate(),this._currentGeocodingType=null,this._initGeocodingType(),this._currentGeocodingDelimitation=null,this._initGeocodingDelimitation(),this._showReverseGeocodingButton=null,this._panelContainer=null,this._panelHeaderContainer=null,this._panelTitleContainer=null,this._returnPictoContainer=null,this._panelCloseButton=null,this._formContainer=null,this._resultsContainer=null,this._resultsListContainer=null,this._waitingContainer=null,this._inputFeatures=null,this._inputFeaturesSource=null,this._inputFeaturesLayer=null,this._mapInteraction=null,this._requestOptions=null,this._requestGeom=null,this._requestPosition=null,this._waiting=!1,this._timer=null,this._reverseGeocodingLocations=[],this._reverseGeocodingLocationsMarkers=[],this._resultsDefaultStyle=new Tt.Ay({image:new ti.A({src:Qn["lightOrange"],anchor:[.5,1]})}),this._resultsSelectedStyle=new Tt.Ay({image:new ti.A({src:Qn["red"],anchor:[.5,1]})}),this._resultsHoverInteraction=null,this._resultsSelectInteraction=null,this._popupContent=null,this._popupDiv=this._initPopupDiv(),this._popupOverlay=null}_checkInputOptions(e){var t,n;if(e.resources){var i=e.resources;if(Array.isArray(i)){var r=["StreetAddress","PositionOfInterest","CadastralParcel"],o=[];for(t=0;t<i.length;t++)-1===r.indexOf(i[t])&&(o.push(t),N_.log("[ReverseGeocode] options.resources : "+i[t]+" is not a resource for reverse geocode"));if(0!==o.length)for(n=0;n<o.length;n++)i.splice(o[n],1)}else N_.log("[ReverseGeocode] 'options.resources' parameter should be an array"),i=null}if(e.delimitations){var a=e.delimitations;if(Array.isArray(a)){var s=["Circle","Point","Extent"],l=[];for(t=0;t<a.length;t++)-1===s.indexOf(a[t])&&(l.push(t),N_.log("[ReverseGeocode] options.delimitations : "+a[t]+" is not a delimitation for reverse geocode"));if(0!==l.length)for(n=0;n<l.length;n++)a.splice(l[n],1)}else N_.log("[ReverseGeocode] 'options.delimitations' parameter should be an array"),a=null}}_initGeocodingType(){this._currentGeocodingType="StreetAddress";var e=this.options.resources;e&&0!==e.length||(this.options.resources=["StreetAddress","PositionOfInterest","CadastralParcel"]),Array.isArray(e)&&e.length&&("StreetAddress"!==e[0]&&"PositionOfInterest"!==e[0]&&"CadastralParcel"!==e[0]||(this._currentGeocodingType=e[0]));var t=this.options.reverseGeocodeOptions;t.filterOptions&&Array.isArray(t.filterOptions.type)&&0!==t.filterOptions.type.length&&(this._currentGeocodingType=t.filterOptions.type[0])}_initGeocodingDelimitation(){this._currentGeocodingDelimitation="Point";var e=this.options.delimitations;if(e&&0!==e.length||(this.options.delimitations=["Point","Circle","Extent"]),Array.isArray(e)&&e.length){var t=e[0].toLowerCase();"point"!==t&&"circle"!==t&&"extent"!==t||(this._currentGeocodingDelimitation=e[0])}}_initPopupDiv(){var e=this,t=document.createElement("div");t.className="gp-feature-info-div";var n=document.createElement("input");return n.type="button",n.className="gp-styling-button closer",n.onclick=function(){return null!=e._popupOverlay&&e._popupOverlay.setPosition(void 0),!1},this._popupContent=document.createElement("div"),this._popupContent.className="gp-features-content-div",t.appendChild(this._popupContent),t.appendChild(n),t}_initContainer(){var e=this._createMainContainerElement(),t=this._showReverseGeocodingButton=this._createShowReverseGeocodingPictoElement();e.appendChild(t);var n=this._panelContainer=this._createReverseGeocodingPanelElement(),i=this._createReverseGeocodingPanelDivElement();n.appendChild(i);var r=this._panelHeaderContainer=this._createReverseGeocodingPanelHeaderElement(),o=this._returnPictoContainer=this._createReverseGeocodingPanelReturnPictoElement();r.appendChild(o);var a=this._panelTitleContainer=this._createReverseGeocodingPanelTitleElement();r.appendChild(a);var s=this._panelCloseButton=this._createReverseGeocodingPanelCloseElement();r.appendChild(s),i.appendChild(r);var l=this._formContainer=this._createReverseGeocodingPanelFormElement();l.appendChild(this._createReverseGeocodingFormModeChoiceGeocodingTypeElement(this.options.resources)),l.appendChild(this._createReverseGeocodingFormModeChoiceGeocodingDelimitationElement(this.options.delimitations));var u=this._createReverseGeocodingSubmitFormElement();l.appendChild(u),i.appendChild(l);var c=this._waitingContainer=this._createReverseGeocodingWaitingElement();i.appendChild(c);var h=this._resultsContainer=this._createReverseGeocodingResultsPanelElement(),d=this._resultsListContainer=this._createReverseGeocodingResultsListElement();return h.appendChild(d),i.appendChild(h),e.appendChild(n),N_.log(e),e}_activateMapInteraction(e){if(!this.collapsed){null==this._inputFeaturesLayer&&(this._inputFeatures=new xt.A,this._inputFeaturesSource=new Se.A({features:this._inputFeatures}),this._inputFeaturesLayer=new kt.A({source:this._inputFeaturesSource,style:new Tt.Ay({fill:new ii.A({color:"rgba(0, 183, 152, 0.3)"}),stroke:new ni.A({color:"rgba(0, 183, 152, 0.8)",width:3}),image:new ti.A({src:Qn["turquoiseBlue"],anchor:[.5,1]})})}),this._inputFeaturesLayer.gpResultLayerId="reverseGeocoding",e.addLayer(this._inputFeaturesLayer));var t=this._currentGeocodingDelimitation.toLowerCase();switch(t){case"point":this._activatePointInteraction(e);break;case"circle":this._activateCircleInteraction(e);break;case"extent":this._activateBoxInteraction(e);break;default:break}e.getControls().forEach((e=>{if(e instanceof Pd){var t=this._inputFeaturesLayer.gpLayerId;e._layers[t].title===t&&(e.addLayer(this._inputFeaturesLayer,{title:this.options.layerDescription.title,description:this.options.layerDescription.description}),e.setRemovable(this._inputFeaturesLayer,!1))}}))}}_activatePointInteraction(e){this._mapInteraction=new On({style:new Tt.Ay({image:new ei.A({radius:0,fill:new ii.A({color:"rgba(0, 183, 152, 0.8)"})})}),type:"Point",source:this._inputFeaturesSource}),this._mapInteraction.on("drawstart",(e=>{N_.log("on drawstart ",e),this._inputFeatures.clear(),this._onDrawStart(e,"point")})),this._mapInteraction.on("drawend",(e=>{N_.log("on drawend",e),e.feature&&e.feature.getGeometry&&(this._requestGeom={type:"Point",coordinates:[this._requestPosition.lon,this._requestPosition.lat]})})),e.addInteraction(this._mapInteraction),this._setCursor("crosshair",e)}_activateCircleInteraction(e){this._mapInteraction=new On({style:new Tt.Ay({fill:new ii.A({color:"rgba(0, 183, 152, 0.3)"}),stroke:new ni.A({color:"rgba(0, 183, 152, 0.8)",width:3}),image:new ei.A({radius:4,fill:new ii.A({color:"rgba(0, 183, 152, 0.8)"})})}),type:"Circle",source:this._inputFeaturesSource}),this._mapInteraction.on("drawstart",(e=>{N_.log("on drawstart ",e),this._inputFeatures.clear(),this._onDrawStart(e,"circle")})),this._mapInteraction.on("drawend",(e=>{if(N_.log("on drawend",e),e.feature&&e.feature.getGeometry){var t=e.feature.getGeometry().getRadius();this._requestGeom={},this._requestGeom.type="Circle",this._requestGeom.radius=t,this._requestPosition&&(this._requestGeom.coordinates=[this._requestPosition.lon,this._requestPosition.lat]),N_.log("circle radius : ",t)}})),e.addInteraction(this._mapInteraction)}_activateBoxInteraction(e){var t=function(e,t){t||(t=new qt.Ay([]));var n=e[0],i=e[1];return t.setCoordinates([[n,[n[0],i[1]],i,[i[0],n[1]],n]]),t};this._mapInteraction=new On({style:new Tt.Ay({fill:new ii.A({color:"rgba(0, 183, 152, 0.3)"}),stroke:new ni.A({color:"rgba(0, 183, 152, 0.8)",width:3}),image:new ei.A({radius:4,fill:new ii.A({color:"rgba(0, 183, 152, 0.8)"})})}),type:"LineString",source:this._inputFeaturesSource,maxPoints:2,geometryFunction:t}),this._mapInteraction.on("drawstart",(e=>{N_.log("on drawstart",e),this._inputFeatures.clear(),this._onDrawStart(e,"polygon")})),this._mapInteraction.on("drawend",(e=>{N_.log("on drawend",e),this._onBoxDrawEnd(e)})),e.addInteraction(this._mapInteraction)}_removeMapInteraction(e){null!=this._mapInteraction&&(e.removeInteraction(this._mapInteraction),this._mapInteraction=null),this._setCursor()}_onDrawStart(e,t){var n;if(e.feature&&e.feature.getGeometry){var i=e.feature.getGeometry();"point"===t&&(n=i.getCoordinates()),"circle"===t&&(n=i.getCenter()),"polygon"===t&&(n=i.getFirstCoordinate())}if(n){var r;if(this.options.reverseGeocodeOptions&&this.options.reverseGeocodeOptions.srs)r=this.options.reverseGeocodeOptions.srs;else{var o=this.getMap();if(!o||!o.getView())return;r=o.getView().getProjection()}var a=(0,ne.pd)(n,r,"EPSG:4326");this._requestPosition={lon:a[0],lat:a[1]},N_.log("position coordinates : ",this._requestPosition)}}_onBoxDrawEnd(e){if(e.feature&&e.feature.getGeometry){var t,n=e.feature.getGeometry().getCoordinates()[0],i=n[0],r=n[2];if(this.options.reverseGeocodeOptions&&this.options.reverseGeocodeOptions.srs)t=this.options.reverseGeocodeOptions.srs;else{var o=this.getMap();if(!o||!o.getView())return;t=o.getView().getProjection()}var a=(0,ne.pd)(i,t,"EPSG:4326"),s=(0,ne.pd)(r,t,"EPSG:4326"),l={};a[0]<s[0]?(l.left=a[0],l.right=s[0]):(l.left=s[0],l.right=a[0]),a[1]<s[1]?(l.bottom=a[1],l.top=s[1]):(l.bottom=s[1],l.top=a[1]),this._requestGeom={type:"Polygon",coordinates:[[[l.left,l.top],[l.left,l.bottom],[l.right,l.bottom],[l.right,l.top],[l.left,l.top]]]},N_.log("searchGeometry filter : ",this._requestGeom)}}_setCursor(e,t){if(t=t||this.getMap(),t){var n=t.getTargetElement();n.style.cursor=e||null}}_reverseGeocodingRequest(){var e=this.getMap();this._requestOptions=this._getReverseGeocodingRequestOptions(),this._removeMapInteraction(e),this._displayWaitingContainer(),Dn.Ay.Services.reverseGeocode(this._requestOptions)}_getReverseGeocodingRequestOptions(){var e=this.getMap(),t=this.options.reverseGeocodeOptions,n=this;"boolean"!==typeof this.options.ssl&&(this.options.ssl=!0);var i=!(null===t.onFailure||"function"!==typeof t.onFailure),r=!(null===t.onSuccess||"function"!==typeof t.onSuccess),o={apiKey:t.apiKey||this.options.apiKey,ssl:this.options.ssl,position:this._requestPosition,filterOptions:{type:[this._currentGeocodingType]},srs:"CRS:84",returnFreeForm:!1,maximumResponses:t.maximumResponses||18,timeOut:t.timeOut||3e4,onSuccess:function(e){e.locations&&(N_.log("reverseGeocode results : ",e.locations),n._displayGeocodedLocations(e.locations)),r&&t.onSuccess.call(n,e.locations)},onFailure:function(r){n._hideWaitingContainer(),n._clearResults(),n._clearInputFeatures(),n._activateMapInteraction(e),N_.log(r.message),i&&t.onFailure.call(n,r)}};return"circle"===this._requestGeom.type.toLowerCase()?(this._requestGeom.radius>500&&(N_.log("INFO : initial circle radius ("+this._requestGeom.radius+") limited to 1000m."),this._requestGeom.radius=500),o.searchGeometry=this._requestGeom):"polygon"===this._requestGeom.type.toLowerCase()?o.searchGeometry=this._requestGeom:"point"===this._requestGeom.type.toLowerCase()&&("StreetAddress"===this._currentGeocodingType?(o.searchGeometry={type:"Circle",radius:50,coordinates:this._requestGeom.coordinates},o.maximumResponses=1):o.searchGeometry=this._requestGeom),N_.log("reverseGeocode request options : ",o),o}_displayGeocodedLocations(e){this._clearResults(),this._reverseGeocodingLocations=e,this.dispatchEvent({type:"reversegeocode:compute"}),this._formContainer.className="GPelementHidden gpf-hidden",this._hideWaitingContainer(),this._panelTitleContainer.innerHTML="Résultats de la recherche",this._returnPictoContainer.classList.remove("GPelementHidden"),this._returnPictoContainer.classList.remove("gpf-hidden"),this._resultsContainer.className="GPpanel gpf-panel gpf-panel-reverse",this._fillGeocodedLocationListContainer(e),this._displayGeocodedLocationsOnMap(e)}_fillGeocodedLocationListContainer(e){for(var t=0;t<e.length;t++){var n=e[t];N_.log(n);var i=this._fillGeocodedLocationDescription(n);0!==i.length&&this._createReverseGeocodingResultElement(i,t)}}_fillGeocodedLocationDescription(e){if(e&&e.placeAttributes){var t=e.placeAttributes,n="";switch(e.type){case"StreetAddress":t.street&&(n+=t.housenumber?t.housenumber+" ":"",n+=t.street+", "),n+=t.postcode+" "+t.city;break;case"PositionOfInterest":n+=t.toponym,1===t.postcode.length&&(n+=", "+t.postcode[0]),n+=" ("+t.category.join(",")+")";break;case"CadastralParcel":n+=t.id,n+=t.city?" ("+t.city+")":"";break;default:n+=t.city?t.city:"";break}return n}}_displayGeocodedLocationsOnMap(e){if(0!==this._reverseGeocodingLocations.length){var t=this.getMap();this._createResultsLayer();for(var n=0;n<e.length;n++)this._addResultFeature(e[n],n);if(this._resultsFeatures.getLength()>1){if(this._resultsFeaturesSource&&this._resultsFeaturesSource.getExtent){var i=this._resultsFeaturesSource.getExtent();t.getView().fit(i,t.getSize())}}else{var r=this._resultsFeatures.item(0),o=r.getGeometry().getCoordinates();t.getView().setCenter(o),t.getView().setZoom(17)}this._resultsHoverInteraction=new Ut({condition:Lt.N1,layers:[this._resultsFeaturesLayer]}),this._resultsHoverInteraction.on("select",(e=>this._onResultsFeatureMouseOver(e))),t.addInteraction(this._resultsHoverInteraction),this._resultsSelectInteraction=new Ut({layers:[this._resultsFeaturesLayer]}),this._resultsSelectInteraction.on("select",(e=>this._onResultsFeatureSelect(e))),t.addInteraction(this._resultsSelectInteraction);var a="";switch(this._currentGeocodingType){case"StreetAddress":a="adresses";break;case"PositionOfInterest":a="toponymes";break;case"CadastralParcel":a="parcelles cadastrales";break;default:break}t.getControls().forEach((e=>{if(e instanceof Pd){var t=this._resultsFeaturesLayer.gpLayerId;e._layers[t].title===t&&(e.addLayer(this._resultsFeaturesLayer,{title:"Résultats de la recherche inverse",description:"Résultats de la recherche inverse sur les "+a}),e.setRemovable(this._resultsFeaturesLayer,!1))}}))}}_createResultsLayer(){var e=this.getMap();this._resultsFeatures=new xt.A,this._resultsFeaturesSource=new Se.A({features:this._resultsFeatures}),this._resultsFeaturesLayer=new kt.A({source:this._resultsFeaturesSource}),this._resultsFeaturesLayer.gpResultLayerId="reverseGeocodingResults",e.addLayer(this._resultsFeaturesLayer)}_addResultFeature(e,t){var n=this.getMap(),i=[e.position.lon,e.position.lat];if(0!==i.length){var r=n.getView(),o=r.getProjection().getCode();"EPSG:4326"!==o&&(i=(0,ne.pd)(i,"EPSG:4326",o));var a=new Pt.A({geometry:new zt.A(i)});a.setStyle(this._resultsDefaultStyle),a.setId(t),a.setProperties({location:e,popupContent:this._fillPopupContent(e)}),this._resultsFeatures.push(a)}}_fillPopupContent(e){var t="<ul>",n=e.placeAttributes;for(var i in n)n.hasOwnProperty(i)&&"trueGeometry"!==i&&"extraFields"!==i&&"houseNumberInfos"!==i&&"_count"!==i&&(t+="<li>",t+='<span class="gp-attname-others-span">'+i.toUpperCase()+" : </span>",t+=n[i],t+=" </li>");return t+=" </ul>",t}_onResultsFeatureMouseOver(e){var t;if(0!==e.selected.length){if(t=e.selected[0],t.setStyle(this._resultsSelectedStyle),null!=t.getId()){var n=document.getElementById("GPreverseGeocodedLocation_"+t.getId()+"-"+this._uid);n&&n.classList&&n.classList.add("GPlocationHighlight")}document.getElementById("GPreverseGeocodedLocation_"+t.getId()+"-"+this._uid)}if(0!==e.deselected.length){t=e.deselected[0],t.setStyle(this._resultsDefaultStyle);var i=document.getElementById("GPreverseGeocodedLocation_"+t.getId()+"-"+this._uid);i&&i.classList&&i.classList.remove("GPlocationHighlight")}}_onResultsFeatureSelect(e){var t=this.getMap();if(0!==e.selected.length){var n=e.selected[0];this._popupContent.innerHTML=n.getProperties().popupContent,this._popupOverlay?this._popupOverlay.setPosition(e.mapBrowserEvent.coordinate):(this._popupOverlay=new m({element:this._popupDiv,positioning:"bottom-center",position:e.mapBrowserEvent.coordinate}),t.addOverlay(this._popupOverlay)),this.dispatchEvent({type:"reversegeocode:onclickresult",location:n.getProperties().location})}else null!=this._popupOverlay&&this._popupOverlay.setPosition(void 0)}onShowReverseGeocodingClick(){var e=this.getMap();if(e){Kn.unset(e);var t=this._showReverseGeocodingButton.ariaPressed;this.collapsed=!("true"===t),this.dispatchEvent("change:collapsed"),this._waiting||this._reverseGeocodingLocations.length||(this.collapsed?(this._clearResults(),this._clearInputFeatures(),this._removeMapInteraction(e),null!=this._inputFeaturesLayer&&(e.removeLayer(this._inputFeaturesLayer),this._inputFeaturesLayer=null,this._inputFeaturesSources=null,this._inputFeatures=null)):this._activateMapInteraction(e))}}onReverseGeocodingTypeChange(e){var t=e.target.selectedIndex,n=e.target.options[t].value;n&&(N_.log(n),this._currentGeocodingType=n)}onReverseGeocodingDelimitationChange(e){var t=e.target.selectedIndex,n=e.target.options[t].value;if(n){N_.log(n),this._currentGeocodingDelimitation=n;var i=this.getMap();this._clearInputFeatures(),this._removeMapInteraction(i),this._activateMapInteraction(i)}}onGPreverseGeocodingReturnPictoClick(){this._clearResults(),this._clearInputFeatures(),this._activateMapInteraction(this.getMap())}onReverseGeocodingSubmit(){this._requestPosition?this._reverseGeocodingRequest():N_.log("missing position")}onReverseGeocodingResultClick(e){var t=e.target.id,n=t.substring(t.indexOf("_")+1),i=this._resultsFeaturesSource.getFeatureById(parseInt(n,10));this.dispatchEvent({type:"reversegeocode:onclickresult",location:i.getProperties().location})}onReverseGeocodingResultMouseOver(e){var t=e.target.id,n=t.substring(t.indexOf("_")+1);if(e.target.classList&&e.target.classList.add("GPlocationHighlight"),this._resultsFeaturesSource){var i=this._resultsFeaturesSource.getFeatureById(parseInt(n,10));i.setStyle(this._resultsSelectedStyle)}}onReverseGeocodingResultMouseOut(e){var t=e.target.id,n=t.substring(t.indexOf("_")+1);if(e.target.classList&&e.target.classList.remove("GPlocationHighlight"),this._resultsFeaturesSource){var i=this._resultsFeaturesSource.getFeatureById(parseInt(n,10));i.setStyle(this._resultsDefaultStyle)}}_clearResults(){var e=this.getMap();if(this._reverseGeocodingLocations=[],this._resultsListContainer)while(this._resultsListContainer.firstChild)this._resultsListContainer.removeChild(this._resultsListContainer.firstChild);this._resultsFeaturesLayer&&(e.removeLayer(this._resultsFeaturesLayer),this._resultsFeaturesLayer=null),null!=this._popupOverlay&&(e.removeOverlay(this._popupOverlay),this._popupOverlay=null),null!=this._resultsSelectInteraction&&(e.removeInteraction(this._resultsSelectInteraction),this._resultsSelectInteraction=null),null!=this._resultsHoverInteraction&&(e.removeInteraction(this._resultsHoverInteraction),this._resultsHoverInteraction=null)}_clearInputFeatures(){this._inputFeatures&&this._inputFeatures.clear(),this._requestGeom=null,this._requestPosition=null}_displayWaitingContainer(){this._waitingContainer.className="GPwaitingContainer GPwaitingContainerVisible gpf-waiting gpf-waiting--visible",this._waiting=!0,this._timer&&(clearTimeout(this._timer),this._timer=null);var e=this;this._timer=setTimeout((function(){!0===e._waiting?e._hideWaitingContainer():e._timer&&clearTimeout(e._timer)}),16e3)}_hideWaitingContainer(){this._waiting&&(this._waitingContainer.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden",this._waiting=!1,clearTimeout(this._timer),this._timer=null)}};Object.assign(F_.prototype,D_);var U_=F_;window.ol&&window.ol.control&&(window.ol.control.ReverseGeocode=F_);n(2762);var B_=n(3387),j_=function(){function e(){(0,r.A)(this,e)}return(0,o.A)(e,[{key:"read",value:function(e){if(!e)return null;if("string"===typeof e){var t=(0,B_.qg)(e);return this.readFromDocument(t)}return(0,B_.wz)(e)?this.readFromDocument(e):this.readFromNode(e)}},{key:"readFromDocument",value:function(e){for(var t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFromNode(t);return null}},{key:"readFromNode",value:function(e){(0,I.b0)()}}])}(),z_=j_,W_=n(3895),V_="http://www.w3.org/1999/xlink";function Y_(e){return e.getAttributeNS(V_,"href")}var H_=[null,"http://www.opengis.net/wms"],q_=(0,B_.Dm)(H_,{Service:(0,B_.kW)(fC),Capability:(0,B_.kW)(gC)}),X_=(0,B_.Dm)(H_,{Request:(0,B_.kW)(wC),Exception:(0,B_.kW)(AC),Layer:(0,B_.kW)(_C)}),Z_=function(e){function t(){var e;return(0,r.A)(this,t),e=(0,a.A)(this,t),e.version=void 0,e}return(0,s.A)(t,e),(0,o.A)(t,[{key:"readFromNode",value:function(e){this.version=e.getAttribute("version").trim();var t=(0,B_.eY)({version:this.version},q_,e,[]);return t||null}}])}(z_),K_=(0,B_.Dm)(H_,{Name:(0,B_.kW)(W_.E3),Title:(0,B_.kW)(W_.E3),Abstract:(0,B_.kW)(W_.E3),KeywordList:(0,B_.kW)(TC),OnlineResource:(0,B_.kW)(Y_),ContactInformation:(0,B_.kW)(mC),Fees:(0,B_.kW)(W_.E3),AccessConstraints:(0,B_.kW)(W_.E3),LayerLimit:(0,B_.kW)(W_.yg),MaxWidth:(0,B_.kW)(W_.yg),MaxHeight:(0,B_.kW)(W_.yg)}),J_=(0,B_.Dm)(H_,{ContactPersonPrimary:(0,B_.kW)(vC),ContactPosition:(0,B_.kW)(W_.E3),ContactAddress:(0,B_.kW)(yC),ContactVoiceTelephone:(0,B_.kW)(W_.E3),ContactFacsimileTelephone:(0,B_.kW)(W_.E3),ContactElectronicMailAddress:(0,B_.kW)(W_.E3)}),Q_=(0,B_.Dm)(H_,{ContactPerson:(0,B_.kW)(W_.E3),ContactOrganization:(0,B_.kW)(W_.E3)}),$_=(0,B_.Dm)(H_,{AddressType:(0,B_.kW)(W_.E3),Address:(0,B_.kW)(W_.E3),City:(0,B_.kW)(W_.E3),StateOrProvince:(0,B_.kW)(W_.E3),PostCode:(0,B_.kW)(W_.E3),Country:(0,B_.kW)(W_.E3)}),eC=(0,B_.Dm)(H_,{Format:(0,B_.VT)(W_.E3)}),tC=(0,B_.Dm)(H_,{Name:(0,B_.kW)(W_.E3),Title:(0,B_.kW)(W_.E3),Abstract:(0,B_.kW)(W_.E3),KeywordList:(0,B_.kW)(TC),CRS:(0,B_.c4)(W_.E3),EX_GeographicBoundingBox:(0,B_.kW)(pC),BoundingBox:(0,B_.c4)(dC),Dimension:(0,B_.c4)(IC),Attribution:(0,B_.kW)(hC),AuthorityURL:(0,B_.c4)(MC),Identifier:(0,B_.c4)(W_.E3),MetadataURL:(0,B_.c4)(kC),DataURL:(0,B_.c4)(EC),FeatureListURL:(0,B_.c4)(EC),Style:(0,B_.c4)(RC),MinScaleDenominator:(0,B_.kW)(W_.e4),MaxScaleDenominator:(0,B_.kW)(W_.e4),Layer:(0,B_.c4)(CC)}),nC=(0,B_.Dm)(H_,{Title:(0,B_.kW)(W_.E3),OnlineResource:(0,B_.kW)(Y_),LogoURL:(0,B_.kW)(PC)}),iC=(0,B_.Dm)(H_,{westBoundLongitude:(0,B_.kW)(W_.e4),eastBoundLongitude:(0,B_.kW)(W_.e4),southBoundLatitude:(0,B_.kW)(W_.e4),northBoundLatitude:(0,B_.kW)(W_.e4)}),rC=(0,B_.Dm)(H_,{GetCapabilities:(0,B_.kW)(SC),GetMap:(0,B_.kW)(SC),GetFeatureInfo:(0,B_.kW)(SC)}),oC=(0,B_.Dm)(H_,{Format:(0,B_.c4)(W_.E3),DCPType:(0,B_.c4)(bC)}),aC=(0,B_.Dm)(H_,{HTTP:(0,B_.kW)(xC)}),sC=(0,B_.Dm)(H_,{Get:(0,B_.kW)(EC),Post:(0,B_.kW)(EC)}),lC=(0,B_.Dm)(H_,{Name:(0,B_.kW)(W_.E3),Title:(0,B_.kW)(W_.E3),Abstract:(0,B_.kW)(W_.E3),LegendURL:(0,B_.c4)(PC),StyleSheetURL:(0,B_.kW)(EC),StyleURL:(0,B_.kW)(EC)}),uC=(0,B_.Dm)(H_,{Format:(0,B_.kW)(W_.E3),OnlineResource:(0,B_.kW)(Y_)}),cC=(0,B_.Dm)(H_,{Keyword:(0,B_.VT)(W_.E3)});function hC(e,t){return(0,B_.eY)({},nC,e,t)}function dC(e,t){var n=[(0,W_.P9)(e.getAttribute("minx")),(0,W_.P9)(e.getAttribute("miny")),(0,W_.P9)(e.getAttribute("maxx")),(0,W_.P9)(e.getAttribute("maxy"))],i=[(0,W_.P9)(e.getAttribute("resx")),(0,W_.P9)(e.getAttribute("resy"))];return{crs:e.getAttribute("CRS"),extent:n,res:i}}function pC(e,t){var n=(0,B_.eY)({},iC,e,t);if(n){var i=n["westBoundLongitude"],r=n["southBoundLatitude"],o=n["eastBoundLongitude"],a=n["northBoundLatitude"];if(void 0!==i&&void 0!==r&&void 0!==o&&void 0!==a)return[i,r,o,a]}}function gC(e,t){return(0,B_.eY)({},X_,e,t)}function fC(e,t){return(0,B_.eY)({},K_,e,t)}function mC(e,t){return(0,B_.eY)({},J_,e,t)}function vC(e,t){return(0,B_.eY)({},Q_,e,t)}function yC(e,t){return(0,B_.eY)({},$_,e,t)}function AC(e,t){return(0,B_.eY)([],eC,e,t)}function _C(e,t){var n=(0,B_.eY)({},tC,e,t);return void 0===n["Layer"]?Object.assign(n,CC(e,t)):n}function CC(e,t){var n=t[t.length-1],i=(0,B_.eY)({},tC,e,t);if(i){var r=(0,W_.gC)(e.getAttribute("queryable"));void 0===r&&(r=n["queryable"]),i["queryable"]=void 0!==r&&r;var o=(0,W_._X)(e.getAttribute("cascaded"));void 0===o&&(o=n["cascaded"]),i["cascaded"]=o;var a=(0,W_.gC)(e.getAttribute("opaque"));void 0===a&&(a=n["opaque"]),i["opaque"]=void 0!==a&&a;var s=(0,W_.gC)(e.getAttribute("noSubsets"));void 0===s&&(s=n["noSubsets"]),i["noSubsets"]=void 0!==s&&s;var l=(0,W_.P9)(e.getAttribute("fixedWidth"));l||(l=n["fixedWidth"]),i["fixedWidth"]=l;var u=(0,W_.P9)(e.getAttribute("fixedHeight"));u||(u=n["fixedHeight"]),i["fixedHeight"]=u;var c=["Style","CRS","AuthorityURL"];c.forEach((function(e){if(e in n){var t=i[e]||[];i[e]=t.concat(n[e])}}));var h=["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"];return h.forEach((function(e){if(!(e in i)){var t=n[e];i[e]=t}})),i}}function IC(e,t){var n={name:e.getAttribute("name"),units:e.getAttribute("units"),unitSymbol:e.getAttribute("unitSymbol"),default:e.getAttribute("default"),multipleValues:(0,W_.gC)(e.getAttribute("multipleValues")),nearestValue:(0,W_.gC)(e.getAttribute("nearestValue")),current:(0,W_.gC)(e.getAttribute("current")),values:(0,W_.E3)(e)};return n}function EC(e,t){return(0,B_.eY)({},uC,e,t)}function wC(e,t){return(0,B_.eY)({},rC,e,t)}function bC(e,t){return(0,B_.eY)({},aC,e,t)}function xC(e,t){return(0,B_.eY)({},sC,e,t)}function SC(e,t){return(0,B_.eY)({},oC,e,t)}function PC(e,t){var n=EC(e,t);if(n){var i=[(0,W_._X)(e.getAttribute("width")),(0,W_._X)(e.getAttribute("height"))];return n["size"]=i,n}}function MC(e,t){var n=EC(e,t);if(n)return n["name"]=e.getAttribute("name"),n}function kC(e,t){var n=EC(e,t);if(n)return n["type"]=e.getAttribute("type"),n}function RC(e,t){return(0,B_.eY)({},lC,e,t)}function TC(e,t){return(0,B_.eY)([],cC,e,t)}var LC=Z_,GC=(n(744),[null,"http://www.opengis.net/ows/1.1"]),OC=(0,B_.Dm)(GC,{ServiceIdentification:(0,B_.kW)(aI),ServiceProvider:(0,B_.kW)(lI),OperationsMetadata:(0,B_.kW)(rI)}),DC=function(e){function t(){return(0,r.A)(this,t),(0,a.A)(this,t)}return(0,s.A)(t,e),(0,o.A)(t,[{key:"readFromNode",value:function(e){var t=(0,B_.eY)({},OC,e,[]);return t||null}}])}(z_),NC=(0,B_.Dm)(GC,{DeliveryPoint:(0,B_.kW)(W_.E3),City:(0,B_.kW)(W_.E3),AdministrativeArea:(0,B_.kW)(W_.E3),PostalCode:(0,B_.kW)(W_.E3),Country:(0,B_.kW)(W_.E3),ElectronicMailAddress:(0,B_.kW)(W_.E3)}),FC=(0,B_.Dm)(GC,{Value:(0,B_.c4)(uI)}),UC=(0,B_.Dm)(GC,{AllowedValues:(0,B_.kW)(JC)}),BC=(0,B_.Dm)(GC,{Phone:(0,B_.kW)(oI),Address:(0,B_.kW)(KC)}),jC=(0,B_.Dm)(GC,{HTTP:(0,B_.kW)(nI)}),zC=(0,B_.Dm)(GC,{Get:(0,B_.c4)(tI),Post:void 0}),WC=(0,B_.Dm)(GC,{DCP:(0,B_.kW)(eI)}),VC=(0,B_.Dm)(GC,{Operation:iI}),YC=(0,B_.Dm)(GC,{Voice:(0,B_.kW)(W_.E3),Facsimile:(0,B_.kW)(W_.E3)}),HC=(0,B_.Dm)(GC,{Constraint:(0,B_.c4)(QC)}),qC=(0,B_.Dm)(GC,{IndividualName:(0,B_.kW)(W_.E3),PositionName:(0,B_.kW)(W_.E3),ContactInfo:(0,B_.kW)($C)}),XC=(0,B_.Dm)(GC,{Abstract:(0,B_.kW)(W_.E3),AccessConstraints:(0,B_.kW)(W_.E3),Fees:(0,B_.kW)(W_.E3),Title:(0,B_.kW)(W_.E3),ServiceTypeVersion:(0,B_.kW)(W_.E3),ServiceType:(0,B_.kW)(W_.E3)}),ZC=(0,B_.Dm)(GC,{ProviderName:(0,B_.kW)(W_.E3),ProviderSite:(0,B_.kW)(Y_),ServiceContact:(0,B_.kW)(sI)});function KC(e,t){return(0,B_.eY)({},NC,e,t)}function JC(e,t){return(0,B_.eY)({},FC,e,t)}function QC(e,t){var n=e.getAttribute("name");if(n)return(0,B_.eY)({name:n},UC,e,t)}function $C(e,t){return(0,B_.eY)({},BC,e,t)}function eI(e,t){return(0,B_.eY)({},jC,e,t)}function tI(e,t){var n=Y_(e);if(n)return(0,B_.eY)({href:n},HC,e,t)}function nI(e,t){return(0,B_.eY)({},zC,e,t)}function iI(e,t){var n=e.getAttribute("name"),i=(0,B_.eY)({},WC,e,t);if(i){var r=t[t.length-1];r[n]=i}}function rI(e,t){return(0,B_.eY)({},VC,e,t)}function oI(e,t){return(0,B_.eY)({},YC,e,t)}function aI(e,t){return(0,B_.eY)({},XC,e,t)}function sI(e,t){return(0,B_.eY)({},qC,e,t)}function lI(e,t){return(0,B_.eY)({},ZC,e,t)}function uI(e,t){return(0,W_.E3)(e)}var cI=DC,hI=[null,"http://www.opengis.net/wmts/1.0"],dI=[null,"http://www.opengis.net/ows/1.1"],pI=(0,B_.Dm)(hI,{Contents:(0,B_.kW)(bI)}),gI=function(e){function t(){var e;return(0,r.A)(this,t),e=(0,a.A)(this,t),e.owsParser_=new cI,e}return(0,s.A)(t,e),(0,o.A)(t,[{key:"readFromNode",value:function(e){var t=e.getAttribute("version");t&&(t=t.trim());var n=this.owsParser_.readFromNode(e);return n?(n["version"]=t,n=(0,B_.eY)(n,pI,e,[]),n||null):null}}])}(z_),fI=(0,B_.Dm)(hI,{Layer:(0,B_.c4)(xI),TileMatrixSet:(0,B_.c4)(SI)}),mI=(0,B_.Dm)(hI,{Style:(0,B_.c4)(PI),Format:(0,B_.c4)(W_.E3),TileMatrixSetLink:(0,B_.c4)(MI),Dimension:(0,B_.c4)(kI),ResourceURL:(0,B_.c4)(RI)},(0,B_.Dm)(dI,{Title:(0,B_.kW)(W_.E3),Abstract:(0,B_.kW)(W_.E3),WGS84BoundingBox:(0,B_.kW)(TI),Identifier:(0,B_.kW)(W_.E3)})),vI=(0,B_.Dm)(hI,{LegendURL:(0,B_.c4)(LI)},(0,B_.Dm)(dI,{Title:(0,B_.kW)(W_.E3),Identifier:(0,B_.kW)(W_.E3)})),yI=(0,B_.Dm)(hI,{TileMatrixSet:(0,B_.kW)(W_.E3),TileMatrixSetLimits:(0,B_.kW)(DI)}),AI=(0,B_.Dm)(hI,{TileMatrixLimits:(0,B_.VT)(NI)}),_I=(0,B_.Dm)(hI,{TileMatrix:(0,B_.kW)(W_.E3),MinTileRow:(0,B_.kW)(W_.yg),MaxTileRow:(0,B_.kW)(W_.yg),MinTileCol:(0,B_.kW)(W_.yg),MaxTileCol:(0,B_.kW)(W_.yg)}),CI=(0,B_.Dm)(hI,{Default:(0,B_.kW)(W_.E3),Value:(0,B_.c4)(W_.E3)},(0,B_.Dm)(dI,{Identifier:(0,B_.kW)(W_.E3)})),II=(0,B_.Dm)(dI,{LowerCorner:(0,B_.VT)(GI),UpperCorner:(0,B_.VT)(GI)}),EI=(0,B_.Dm)(hI,{WellKnownScaleSet:(0,B_.kW)(W_.E3),TileMatrix:(0,B_.c4)(OI)},(0,B_.Dm)(dI,{SupportedCRS:(0,B_.kW)(W_.E3),Identifier:(0,B_.kW)(W_.E3),BoundingBox:(0,B_.kW)(TI)})),wI=(0,B_.Dm)(hI,{TopLeftCorner:(0,B_.kW)(GI),ScaleDenominator:(0,B_.kW)(W_.e4),TileWidth:(0,B_.kW)(W_.yg),TileHeight:(0,B_.kW)(W_.yg),MatrixWidth:(0,B_.kW)(W_.yg),MatrixHeight:(0,B_.kW)(W_.yg)},(0,B_.Dm)(dI,{Identifier:(0,B_.kW)(W_.E3)}));function bI(e,t){return(0,B_.eY)({},fI,e,t)}function xI(e,t){return(0,B_.eY)({},mI,e,t)}function SI(e,t){return(0,B_.eY)({},EI,e,t)}function PI(e,t){var n=(0,B_.eY)({},vI,e,t);if(n){var i="true"===e.getAttribute("isDefault");return n["isDefault"]=i,n}}function MI(e,t){return(0,B_.eY)({},yI,e,t)}function kI(e,t){return(0,B_.eY)({},CI,e,t)}function RI(e,t){var n=e.getAttribute("format"),i=e.getAttribute("template"),r=e.getAttribute("resourceType"),o={};return n&&(o["format"]=n),i&&(o["template"]=i),r&&(o["resourceType"]=r),o}function TI(e,t){var n=(0,B_.eY)([],II,e,t);if(2==n.length)return(0,h.Tr)(n)}function LI(e,t){var n={};return n["format"]=e.getAttribute("format"),n["href"]=Y_(e),n}function GI(e,t){var n=(0,W_.E3)(e).split(/\s+/);if(n&&2==n.length){var i=+n[0],r=+n[1];if(!isNaN(i)&&!isNaN(r))return[i,r]}}function OI(e,t){return(0,B_.eY)({},wI,e,t)}function DI(e,t){return(0,B_.eY)([],AI,e,t)}function NI(e,t){return(0,B_.eY)({},_I,e,t)}var FI=gI,UI=n(729),BI={onloaded:"editor:onloaded",layer:{onclickvisibility:"editor:layer:onclickvisibility",onclickclone:"editor:layer:onclickclone",onclickremove:"editor:layer:onclickremove"},legend:{onclickedition:"editor:legend:onclickedition",onchangevalue:"editor:legend:onchangevalue"},group:{oncollapse:"editor:group:oncollapse"},style:{oneditjson:"editor:style:oneditjson",scale:{onchangemin:"editor:style:scale:onchangemin",onchangemax:"editor:style:scale:onchangemax"}},filter:{oneditjson:"editor:filter:oneditjson"},themes:{onclickimage:"editor:themes:onclickimage",onclicktitle:"editor:themes:onclicktitle"},search:{onsubmit:"editor:search:onsubmit",onautocomplete:"editor:search:onautocomplete"}},jI=BI,zI=Un.getLogger("editor-style");class WI{constructor(e){if(zI.trace("[constructor] Style",e),this.options=e||{target:null,position:0,tools:null,title:null,obj:null},!(this instanceof WI))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()}_initialize(){this.id=this.options.id||null,this.options.target,this.options.position||(this.options.position=0);var e={scale:!0,edition:!1};this.options.tools||(this.options.tools=e),qn.mergeParams(this.options.tools,e,!1),this.options.obj||(this.options.obj={paint:{},layout:{}}),this.options.title||(this.options.title="JSON Styles :"),this.container=null,this.name={target:"GPEditorMapBoxStyleTarget",container:"GPEditorMapBoxStyleContainer",containerjson:"GPEditorMapBoxStyleJsonContainer",jsonlabel:"GPEditorMapBoxStyleJsonTitle",jsondisplay:"GPEditorMapBoxStyleJsonDisplay",containertoolsscale:"GPEditorMapBoxStyleToolsScaleContainer",scaletitle:"GPEditorMapBoxStyleScaleTitle",containertoolsminscale:"GPEditorMapBoxStyleToolsScaleMinContainer",scalelabelmin:"GPEditorMapBoxStyleScaleLabelMin",scaleinputmin:"GPEditorMapBoxStyleScaleInputMin",containertoolsmaxscale:"GPEditorMapBoxStyleToolsScaleMaxContainer",scalelabelmax:"GPEditorMapBoxStyleScaleLabelMax",scaleinputmax:"GPEditorMapBoxStyleScaleInputMax",containertoolsedit:"GPEditorMapBoxStyleToolsEditionContainer"}}_initContainer(){var e=this,t=!1,n=JSON.parse(JSON.stringify(this.options.obj)),i={};n.paint&&(t=!0,i.paint=n.paint,0===Object.keys(n.paint).length&&zI.info("tag 'paint' is empty !")),n.layout&&(t=!0,i.layout=n.layout,n.layout.visibility&&delete i.visibility,0===Object.keys(n.layout).length&&zI.info("tag 'layout' is empty !"));var r=document.createElement("div");r.className=this.name.container;var o=null;if(t){var a=JSON.stringify(i,null,4);o=this._syntaxHighlight(a)}var s=document.createElement("div");s.className=this.name.containerjson;var l=document.createElement("label");l.className=this.name.jsonlabel,l.innerHTML=this.options.title,s.appendChild(l);var u=document.createElement("pre");u.className=this.name.jsondisplay,u.innerHTML=o,u.addEventListener?u.addEventListener("click",(function(t){e.options.tools.edition&&e.onEditJsonStyleMapBox(t)})):u.attachEvent&&u.attachEvent("onclick",(function(t){e.options.tools.edition&&e.onEditJsonStyleMapBox(t)})),s.appendChild(u),r.appendChild(s),this.options.tools.scale&&r.appendChild(this._createElementToolsScale({min:i.layout?i.layout.minzoom:0,max:i.layout?i.layout.maxzoom:21})),this.options.tools.edition&&r.appendChild(this._createElementToolsEdition()),this.container=r}_createElementToolsScale(e){zI.trace("_createElementToolsScale");var t=this,n=this.options.obj,i=document.createElement("div");i.className=this.name.containertoolsscale;var r=document.createElement("div");r.className=this.name.containertoolsminscale;var o=document.createElement("label");o.className=this.name.scalelabelmin,o.innerHTML="min :",r.appendChild(o);var a=document.createElement("input");a.className=this.name.scaleinputmin,a.type="range",a.value=e.min||0,a.title=e.min||0,a.disabled=!1,a.min=0,a.max=21,a.data=n,a.addEventListener?a.addEventListener("change",(function(e){t.onChangeStyleScaleMinMapBox(e)})):a.appendChild&&a.appendChild("onchange",(function(e){t.onChangeStyleScaleMinMapBox(e)})),r.appendChild(a),i.appendChild(r);var s=document.createElement("div");s.className=this.name.containertoolsmaxscale;var l=document.createElement("label");l.className=this.name.scalelabelmax,l.innerHTML="max :",s.appendChild(l);var u=document.createElement("input");return u.className=this.name.scaleinputmin,u.type="range",u.value=e.max||21,u.title=e.max||21,u.disabled=!1,u.min=0,u.max=21,u.data=n,u.addEventListener?u.addEventListener("change",(function(e){t.onChangeStyleScaleMaxMapBox(e)})):u.appendChild&&u.appendChild("onchange",(function(e){t.onChangeStyleScaleMaxMapBox(e)})),s.appendChild(u),i.appendChild(s),i}_createElementToolsEdition(){zI.warn("_createElementToolsEdition, it's not yet implemented !");var e=document.createElement("div");return e.className=this.name.containertoolsedit,e}_syntaxHighlight(e){return e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?)/g,(function(e){var t="gp-json-number";return/^"/.test(e)?t=/:$/.test(e)?"gp-json-key":"gp-json-string":/true|false/.test(e)?t="gp-json-boolean":/null/.test(e)&&(t="gp-json-null"),"<span class='"+t+"'>"+e+"</span>"}))}add(){if(!this.options.target){if(!document.getElementById(this.name.target)){var e=document.createElement("div");e.id=this.name.target;var t=document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0];t.appendChild(e)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this}display(e){return zI.trace("display()",e),"undefined"!==typeof e&&(this.container.style.display=e?"flex":"none"),"flex"===this.container.style.display}getContainer(){return this.container}onEditJsonStyleMapBox(e){zI.trace("onEditJsonStyleMapBox",e),e.editorID=this.id,e.data=this.options,UI.dispatch(jI.style.oneditjson,e)}onChangeStyleScaleMinMapBox(e){zI.trace("onChangeStyleScaleMinMapBox",e),e.editorID=this.id,e.data=this.options,UI.dispatch(jI.style.scale.onchangemin,e)}onChangeStyleScaleMaxMapBox(e){zI.trace("onChangeStyleScaleMaxMapBox",e),e.editorID=this.id,e.data=this.options,UI.dispatch(jI.style.scale.onchangemax,e)}}var VI=WI,YI=Un.getLogger("editor-themes");class HI{constructor(e){if(YI.trace("[constructor] Themes",e),this.options=e||{},!(this instanceof HI))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()}_initialize(){this.id=this.options.id||null,this.options.target;var e={thumbnails:!0,button:{visible:!0,type:"radio"}};this.options.tools&&0!==Object.keys(this.options.tools).length||(this.options.tools=e),qn.mergeParams(this.options.tools,e,!1),"undefined"!==typeof this.options.obj&&null!==this.options.obj&&this.options.obj||(this.options.obj={themesSummary:"",themes:[]}),this.container=null,this.name={target:"GPEditorMapBoxThemeTarget",container:"GPEditorMapBoxThemesContainer",containertheme:"GPEditorMapBoxThemeContainer",containerthemeID:"GPEditorMapBoxThemeContainer_ID_",input:"GPEditorMapBoxThemeInput",inputID:"GPEditorMapBoxThemeInput_ID_",label:"GPEditorMapBoxThemeTitle",labelID:"GPEditorMapBoxThemeTitle_ID_",image:"GPEditorMapBoxThemeImage",imageID:"GPEditorMapBoxThemeImage_ID_",message:"GPEditorMapBoxThemeMessage"}}_initContainer(){var e=this,t=this.options.obj,n=this.id||nc.generate(),i=document.createElement("div");i.className=this.name.container,i.title=t.themesSummary||"";var r=t.themes;if(r)for(var o=0;o<r.length;o++){var a=r[o],s=document.createElement("div");s.id=this.name.containerthemeID+o+"_"+n,s.className=this.name.containertheme,s.tabIndex=o;var l=a.url,u=a.selected||!1;if(l){var c=this.options.tools.button;if(c.visible){var h="checkbox"===c.type?"checkbox":"radio",d=document.createElement("input");d.type=h,d.id=this.name.inputID+o+"_"+n,d.className=this.name.input,d.name=n,d.checked=u,d.data=l,d.addEventListener?d.addEventListener("click",(function(t){e.onClickThemeTitleMapBox(t)})):d.attachEvent&&d.attachEvent("onclick",(function(t){e.onClickThemeTitleMapBox(t)})),s.appendChild(d)}if(this.options.tools.thumbnails&&a.thumbnail){var p=document.createElement("img");p.id=this.name.imageID+o+"_"+n,p.className=this.name.image,p.src=a.thumbnail,p.alt=a.thumbnail,p.title=a.description||"",p.data=l,p.addEventListener?p.addEventListener("click",(function(t){e.onClickThemeImageMapBox(t);var n=t.target.parentElement.childNodes;if(n){var i=n[0];"input"===i.tagName.toLowerCase()&&(i.checked=!i.checked)}})):p.attachEvent&&p.attachEvent("onclick",(function(t){e.onClickThemeImageMapBox(t);var n=t.target.parentElement.childNodes;if(n){var i=n[0];"input"===i.tagName.toLowerCase()&&(i.checked=!i.checked)}})),s.appendChild(p)}if(a.name){var g=document.createElement("label");g.id=this.name.labelID+o+"_"+n,this.options.tools.button.visible&&(g.htmlFor=d.id),g.className=this.name.label,g.innerHTML=a.name,g.title=a.description||"",g.data=l,this.options.tools.button.visible||(g.addEventListener?g.addEventListener("click",(function(t){e.onClickThemeTitleMapBox(t)})):g.attachEvent&&g.attachEvent("onclick",(function(t){e.onClickThemeTitleMapBox(t)}))),s.appendChild(g)}}else{var f=document.createElement("label");f.className=this.name.message,f.innerHTML="Thème non disponible...",s.appendChild(f)}i.appendChild(s)}this.container=i}add(){if(!this.options.target){if(!document.getElementById(this.name.target)){var e=document.createElement("div");e.id=this.name.target;var t=document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0];t.appendChild(e)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this}display(e){return YI.trace("display()",e),"undefined"!==typeof e&&(this.container.style.display=e?"flex":"none"),"flex"===this.container.style.display}getContainer(){return this.container}onClickThemeImageMapBox(e){if(YI.trace("onClickThemeImageMapBox",e),e.editorID=this.id,e.data=this.options,"checkbox"===this.options.tools.button.type)for(var t=e.target.previousSibling.id.substring(e.target.previousSibling.id.lastIndexOf("_")+1),n=document.getElementsByClassName(this.name.input),i=0;i<n.length;i++){var r=n[i];if(r.id!==e.target.previousSibling.id){var o=r.id.substring(r.id.lastIndexOf("_")+1);o===t&&(r.checked=!1)}}UI.dispatch(jI.themes.onclickimage,e)}onClickThemeTitleMapBox(e){if(YI.trace("onClickThemeTitleMapBox",e),e.editorID=this.id,e.data=this.options,"checkbox"===this.options.tools.button.type)for(var t=e.target.id.substring(e.target.id.lastIndexOf("_")+1),n=document.getElementsByClassName(this.name.input),i=0;i<n.length;i++){var r=n[i];if(r.id!==e.target.id){var o=r.id.substring(r.id.lastIndexOf("_")+1);o===t&&(r.checked=!1)}}UI.dispatch(jI.themes.onclicktitle,e)}}var qI=HI,XI=Un.getLogger("editor-filter");class ZI{constructor(e){if(XI.trace("[constructor] Filter",e),this.options=e||{target:null,position:0,tools:null,title:null,obj:null},!(this instanceof ZI))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()}_initialize(){this.id=this.options.id||null,this.options.target,this.options.position||(this.options.position=0);var e={edition:!1};this.options.tools||(this.options.tools=e),qn.mergeParams(this.options.tools,e,!1),this.options.obj||(this.options.obj={filter:[]}),this.options.title||(this.options.title="JSON Filtres :"),this.container=null,this.name={target:"GPEditorMapBoxFilterTarget",container:"GPEditorMapBoxFilterContainer",containerjson:"GPEditorMapBoxFilterJsonContainer",jsonlabel:"GPEditorMapBoxFilterTitleJson",jsondisplay:"GPEditorMapBoxFilterDisplayJson",containertoolsedit:"GPEditorMapBoxFilterToolsEditionContainer"}}_initContainer(){var e=this,t=!1,n=JSON.parse(JSON.stringify(this.options.obj));n.filter&&(t=!0,0===n.filter.length&&XI.info("tag 'filter' is empty !"));var i=document.createElement("div");i.className=this.name.container;var r=null;t&&(r=JSON.stringify(n.filter,null,4));var o=document.createElement("div");o.className=this.name.containerjson;var a=document.createElement("label");a.className=this.name.jsonlabel,a.innerHTML=this.options.title,o.appendChild(a);var s=document.createElement("pre");if(s.className=this.name.jsondisplay,s.innerHTML=r,s.addEventListener?s.addEventListener("click",(function(t){e.options.tools.edition&&e.onEditJsonFilterMapBox(t)})):s.attachEvent&&s.attachEvent("onclick",(function(t){e.options.tools.edition&&e.onEditJsonFilterMapBox(t)})),o.appendChild(s),i.appendChild(o),this.options.tools.edition){var l=document.createElement("div");l.className=this.name.containertoolsedit,i.appendChild(l)}this.container=i}add(){if(!this.options.target){if(!document.getElementById(this.name.target)){var e=document.createElement("div");e.id=this.name.target;var t=document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0];t.appendChild(e)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this}display(e){return XI.trace("display()",e),"undefined"!==typeof e&&(this.container.style.display=e?"flex":"none"),"flex"===this.container.style.display}getContainer(){return this.container}onEditJsonFilterMapBox(e){XI.trace("onEditJsonFilterMapBox",e),e.editorID=this.id,e.data=this.options,UI.dispatch(jI.filter.oneditjson,e)}}var KI=ZI,JI=Un.getLogger("editor-legend");class QI{constructor(e){if(JI.trace("[constructor] Legend",e),this.options=e||{target:null,position:0,sprites:null,obj:null},!(this instanceof QI))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()}_initialize(){this.id=this.options.id||null,this.options.target,this.options.position||(this.options.position=0),this.options.obj||(this.options.obj={title:"vide...",editable:!0,paint:{"fill-color":"#FFFFFF"}});var e=this.options.obj.editable;this.editable="undefined"!==typeof e&&e,this.legendRender={type:"fill",values:{width:1,stroke:"#FFFFFF",color:"#000000",opacity:1}},this.container=null,this.rendercontainer=null,this.toolscontainer=null,this.name={target:"GPEditorMapBoxLegendTarget",container:"GPEditorMapBoxLegendContainer",containerlegendrender:"GPEditorMapBoxLegendRenderContainer",legendrender:"GPEditorMapBoxLegendRender",legendeditable:"GPEditorMapBoxLegendEditable",legendtitle:"GPEditorMapBoxLegendTitle",containerlegendtools:"GPEditorMapBoxLegendToolsContainer"},this.labels={"line-color":"Couleur du trait","line-width":"Epaisseur du trait","line-opacity":"Opacité du trait","fill-color":"Couleur de remplissage","fill-opacity":"Opacité du remplissage"}}_initContainer(){var e=this.options.obj,t=document.createElement("div");t.className=this.name.container;var n=Object.assign({},e.paint,e.layout),i=Object.keys(n);if(0!==i.length){for(var r={},o=!1,a=0;a<i.length;a++){var s=i[a];if(/fill-/.test(s)||/line-/.test(s)||/circle-/.test(s)||/background-/.test(s)||/text-/.test(s)||/icon-/.test(s)){o=!0;var l=e.title||"",u=s.split("-")[0];"text"!==u&&"icon"!==u||(u="symbol"),this.legendRender=this._getProperties(u,n),r={edit:this.editable,title:l,type:this.legendRender.type,values:this.legendRender.values},t.appendChild(this._createElementIconLegend(r));break}}o||(r={edit:this.editable,title:"",type:this.legendRender.type,values:this.legendRender.values},t.appendChild(this._createElementIconLegend(r)),JI.warn("legend type unknown, default legend used...")),this.toolscontainer=this._createElementEditionLegend(r),t.appendChild(this.toolscontainer),this.container=t}else JI.info("tag 'paint' or 'layout' is empty !")}_getProperties(e,t){if("symbol"===e){var n=t["text-field"],i=t["icon-image"];if(e=n&&i?"icon":n?"text":i?"icon":"unknow","unknow"===e)return void JI.warn("type unknow !?")}var r={};for(const l in t)if(Object.hasOwnProperty.call(t,l)){const n=t[l];if(QI.PROPERTIES[e].includes(l)){var o=l.replace(e,"").slice(1),a=this._getValue(n);if(a){if(("pattern"===o||"image"===o)&&(!this.options.sprites||!this.options.sprites.json||!this.options.sprites.json[a])){var s=e+":"+o;JI.warn("sprites mandatory for key ",s);break}r[o]=a}}else JI.warn("property not supported : ",l)}return{type:e,values:r}}_renderThumbnail(e,t){var n=this.rendercontainer;if(!n)return!1;var i=null,r=3;switch(t.color||(t.color="#FFFFFF"),e){case"text":var o="font-size: 5em;font-weight: bold;";i="url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' viewBox='0 0 100 100'><text x='50' y='50' fill='%color%' fill-opacity='%opacity%'  text-anchor='middle' dominant-baseline='central' style='%style%'> T </text></svg>\")",n.style["background"]=i.replace("%color%",0===t.color.indexOf("rgb")?t.color:ai.hexToRgba(t.color,1)).replace("%opacity%",t.opacity||1).replace("%style%",o);break;case"icon":if(t.image)i="<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' width='27px' height='27px' x='0' y='0' viewBox='%x% %y% %w% %h%'><image width='%W%px' height='%H%px' href='%URL%'/></svg>".replace("%x%",this.options.sprites.json[t.image].x).replace("%y%",this.options.sprites.json[t.image].y).replace(/%w%/g,this.options.sprites.json[t.image].width).replace(/%h%/g,this.options.sprites.json[t.image].height).replace("%W%",this.options.sprites.size.w).replace("%H%",this.options.sprites.size.h).replace("%URL%",this.options.sprites.url),n.innerHTML=i;else{var a="fill: transparent;stroke-width: 10;";i="url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' viewBox='0 0 100 100'><path d='M 50,20 80,82.5 20,82.5 z' stroke='%color%' style='%style%'/></svg>\")",n.style["background"]=i.replace("%color%",0===t.color.indexOf("rgb")?t.color:ai.hexToRgba(t.color,1)).replace("%style%",a)}break;case"line":var s=Array.isArray(t["dasharray"])?t["dasharray"].join(" "):0;i="url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' viewBox='0 0 100 100'><line x1='0' y1='100' x2='100' y2='0' stroke='%color%' stroke-width='%stroke-width%' stroke-opacity='%stroke-opacity%' stroke-dasharray='%stroke-dasharray%' /></svg>\")",n.style["background"]=i.replace("%color%",0===t.color.indexOf("rgb")?t.color:ai.hexToRgba(t.color,1)).replace("%stroke-opacity%",t.opacity||1).replace("%stroke-dasharray%",s).replace("%stroke-width%",(t.width||0)*r);break;case"circle":var l=t["stroke-color"]||"#FFFFFF";i="url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' viewBox='0 0 100 100'><circle cx='50' cy='50' r='40' stroke='%stroke-color%' stroke-width='%stroke-width%' stroke-opacity='%strock-opacity%' fill='%color%' fill-opacity='%opacity%' /></svg>\")",n.style["background"]=i.replace("%color%",0===t.color.indexOf("rgb")?t.color:ai.hexToRgba(t.color,1)).replace("%opacity%",t.opacity||1).replace("%stroke-color%",0===l.indexOf("rgb")?l:ai.hexToRgba(l,1)).replace("%stroke-opacity%",t["stroke-opacity"]||1).replace("%stroke-width%",(t["stroke-width"]||0)*r);break;case"background":case"fill":if(t.pattern)i="<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' width='27px' height='27px' x='0' y='0' viewBox='%x% %y% %w% %h%'><image width='%W%px' height='%H%px' href='%URL%'/></svg>".replace("%x%",this.options.sprites.json[t.pattern].x).replace("%y%",this.options.sprites.json[t.pattern].y).replace(/%w%/g,this.options.sprites.json[t.pattern].width).replace(/%h%/g,this.options.sprites.json[t.pattern].height).replace("%W%",this.options.sprites.size.w).replace("%H%",this.options.sprites.size.h).replace("%URL%",this.options.sprites.url),n.innerHTML=i;else{var u=t["outline-color"]||"#FFFFFF";i="url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' viewBox='0 0 100 100'><rect x='0' y='0' width='100' height='100' rx='5' ry='5' stroke='%stroke-color%' stroke-width='3' fill='%color%' fill-opacity='%opacity%' /></svg>\")",n.style["background"]=i.replace("%color%",0===t.color.indexOf("rgb")?t.color:ai.hexToRgba(t.color,1)).replace("%opacity%",t.opacity||1).replace("%stroke-color%",0===u.indexOf("rgb")?u:ai.hexToRgba(u,1))}break;default:return JI.warn("type not found, no thumbnail..."),!1}return!0}_getValue(e){var t=null;if("string"===typeof e)t=e;else if("number"===typeof e)t=e;else if(Array.isArray(e)){var n=!0;e.forEach((e=>{"number"!==typeof e&&(n=!1)})),n&&(t=e)}else if("object"===typeof e){if(t=null,"stops"in e){e.stops.sort(((e,t)=>{var n=e[0],i=t[0];return n>i?-1:n<i?1:0}));var i=e.stops.slice(-1);t=i[0][1]}}else JI.warn("value not supported !");return t}_createElementIconLegend(e){var t=this,n=document.createElement("div");n.className=this.name.containerlegendrender;var i=this.rendercontainer=document.createElement("div");i.className=this.name.legendrender,e.edit&&(i.className+=" ",i.className+=this.name.legendeditable,i.addEventListener?i.addEventListener("click",(function(e){t.onEditionLegendMapBox(e)})):i.attachEvent&&i.attachEvent("onclick",(function(e){t.onEditionLegendMapBox(e)})));var r=e.type;this._renderThumbnail(r,e.values)?i.className+=e.edit?" legend-"+r:" legend-"+r+"-not-editable":i.className+=" legend-unknow",n.appendChild(i);var o=document.createElement("span");return o.className=this.name.legendtitle,o.innerHTML=e.title||"",n.appendChild(o),n}_createElementEditionLegend(e){var t=this,n=document.createElement("div");if(n.className=this.name.containerlegendtools,!e.edit)return n;switch(e.type){case"line":i.call(t),r.call(t),o.call(t);break;case"background":case"fill":a.call(t),s.call(t);break;default:break}function i(){var i=document.createElement("div");i.className="legend-styling-div";var r=document.createElement("label");r.className="legend-line",r.htmlFor=this.id?"line-color-"+this.id:"line-color",r.innerHTML=this.labels["line-color"];var o=document.createElement("input");o.className="legend-styling",o.id=this.id?"line-color-"+this.id:"line-color",o.title="Selectionner une couleur de trait",o.type="color",o.value=e.values.color,o.setAttribute("data-id","line-color"),o.addEventListener?o.addEventListener("change",(function(n){t._renderThumbnail(e.type,Object.assign(e.values,{color:n.target.value})),t.onChangeValueLegendMapBox(n)})):o.attachEvent&&o.attachEvent("onchange",(function(n){t._renderThumbnail(e.type,Object.assign(e.values,{color:n.target.value})),t.onChangeValueLegendMapBox(n)})),i.appendChild(r),i.appendChild(o),n.appendChild(i)}function r(){var i=document.createElement("div");i.className="legend-styling-div";var r=document.createElement("label");r.className="legend-line",r.htmlFor=this.id?"line-width-"+this.id:"line-width",r.innerHTML=this.labels["line-width"];var o=document.createElement("input");o.className="legend-styling",o.id=this.id?"line-width-"+this.id:"line-width",o.title=e.values.width,o.type="range",o.min="0",o.max="10",o.step="1",o.defaultValue=e.values.width,o.setAttribute("data-id","line-width"),o.addEventListener?o.addEventListener("change",(function(n){JI.trace(n),n.target.title=n.target.value,t._renderThumbnail(e.type,Object.assign(e.values,{width:n.target.value})),t.onChangeValueLegendMapBox(n)})):o.attachEvent&&o.attachEvent("onchange",(function(n){JI.trace(n),n.target.title=n.target.value,t._renderThumbnail(e.type,Object.assign(e.values,{width:n.target.value})),t.onChangeValueLegendMapBox(n)})),i.appendChild(r),i.appendChild(o),n.appendChild(i)}function o(){var i=document.createElement("div");i.className="legend-styling-div";var r=document.createElement("label");r.className="legend-line",r.htmlFor=this.id?"line-opacity-"+this.id:"line-opacity",r.innerHTML=this.labels["line-opacity"];var o=document.createElement("input");o.className="legend-styling",o.id=this.id?"line-opacity-"+this.id:"line-opacity",o.title=e.values.opacity,o.type="range",o.min="0",o.max="1",o.step="0.1",o.defaultValue=e.values.opacity,o.setAttribute("data-id","line-opacity"),o.addEventListener?o.addEventListener("change",(function(n){JI.trace(n),n.target.title=n.target.value,t._renderThumbnail(e.type,Object.assign(e.values,{opacity:n.target.value})),t.onChangeValueLegendMapBox(n)})):o.attachEvent&&o.attachEvent("onchange",(function(n){JI.trace(n),n.target.title=n.target.value,t._renderThumbnail(e.type,Object.assign(e.values,{opacity:n.target.value})),t.onChangeValueLegendMapBox(n)})),i.appendChild(r),i.appendChild(o),n.appendChild(i)}function a(){var i=document.createElement("div");i.className="legend-styling-div";var r=document.createElement("label");r.className="legend-fill",r.htmlFor=this.id?"fill-color-"+this.id:"fill-color",r.innerHTML=this.labels["fill-color"];var o=document.createElement("input");o.className="legend-styling",o.id=this.id?"fill-color-"+this.id:"fill-color",o.title="Selectionner une couleur de remplissage",o.type="color",o.value=e.values.color,o.setAttribute("data-id","fill-color"),o.addEventListener?o.addEventListener("change",(function(n){t._renderThumbnail(e.type,Object.assign(e.values,{color:n.target.value})),t.onChangeValueLegendMapBox(n)})):o.attachEvent&&o.attachEvent("onchange",(function(n){t._renderThumbnail(e.type,Object.assign(e.values,{color:n.target.value})),t.onChangeValueLegendMapBox(n)})),i.appendChild(r),i.appendChild(o),n.appendChild(i)}function s(){var i=document.createElement("div");i.className="legend-styling-div";var r=document.createElement("label");r.className="legend-fill",r.htmlFor=this.id?"fill-opacity-"+this.id:"fill-opacity",r.innerHTML=this.labels["fill-opacity"];var o=document.createElement("input");o.className="legend-styling",o.id=this.id?"fill-opacity-"+this.id:"fill-opacity",o.title=e.values.opacity,o.type="range",o.min="0",o.max="1",o.step="0.1",o.defaultValue=e.values.opacity,o.setAttribute("data-id","fill-opacity"),o.addEventListener?o.addEventListener("change",(function(n){n.target.title=n.target.value,t._renderThumbnail(e.type,Object.assign(e.values,{opacity:n.target.value})),t.onChangeValueLegendMapBox(n)})):o.attachEvent&&o.attachEvent("onchange",(function(n){n.target.title=n.target.value,t._renderThumbnail(e.type,Object.assign(e.values,{opacity:n.target.value})),t.onChangeValueLegendMapBox(n)})),i.appendChild(r),i.appendChild(o),n.appendChild(i)}return n}add(){if(!this.options.target){if(!document.getElementById(this.name.target)){var e=document.createElement("div");e.id=this.name.target;var t=document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0];t.appendChild(e)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this}display(e){return JI.trace("display()",e),"undefined"!==typeof e&&(this.container.style.display=e?"flex":"none"),"flex"===this.container.style.display}isEditable(){return this.editable}getRenderContainer(){return this.rendercontainer}getToolsContainer(){return this.toolscontainer}getContainer(){return this.container}onEditionLegendMapBox(e){JI.trace("onEditionLegendMapBox",e),e.editorID=this.id,e.data=this.options,UI.dispatch(jI.legend.onclickedition,e)}onChangeValueLegendMapBox(e){JI.trace("onChangeValueLegendMapBox",e),e.editorID=this.id,e.data=this.options,UI.dispatch(jI.legend.onchangevalue,e)}}QI.PROPERTIES={line:["line-color","line-dasharray","line-opacity","line-width"],fill:["fill-color","fill-opacity","fill-outline-color","fill-pattern"],background:["background-color","background-opacity","background-pattern"],circle:["circle-color","circle-opacity","circle-stroke-color","circle-stroke-opacity","circle-stroke-width"],icon:["icon-color","icon-image","icon-opacity","__icon-size"],text:["__text-anchor","text-color","text-field","__text-font","__text-opacity","__text-size"]};var $I=QI,eE=Un.getLogger("editor-layer");class tE{constructor(e){if(eE.trace("[constructor] Layer",e),this.options=e||{},!(this instanceof tE))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()}_initialize(){this.id=this.options.id||null,this.options.target,this.options.position||(this.options.position=0);var e={visibility:!0,icon:{image:!0,anchor:"end"},type:!0,pin:!0,remove:!1,clone:!1};this.options.tools||(this.options.tools=e),qn.mergeParams(this.options.tools,e,!1);var t={id:"",type:"",source:"","source-layer":""};this.options.obj||(this.options.obj=t),qn.mergeParams(this.options.obj,t,!1),this.bSlotLegend=!1,this.oFilter=null,this.oStyle=null,this.oLegend=null,this.container=null,this.DomVisibility=null,this.DomToggle=null,this.name={target:"GPEditorMapBoxLayerTarget",container:"GPEditorMapBoxLayerContainer",containerlegend:"GPEditorMapBoxLayerLegendContainer",containertitle:"GPEditorMapBoxLayerTitleContainer",imagelabelinput:"GPEditorMapBoxLayerImageInput",imagelabel:"GPEditorMapBoxLayerImageLabel",typeimg:"GPEditorMapBoxLayerTypeImage",titleinput:"GPEditorMapBoxLayerTitleInput",titlelabel:"GPEditorMapBoxLayerTitleLabel",containertools:"GPEditorMapBoxToolsContainer",visibilityinput:"GPEditorMapBoxToolsVisibilityInput",visibilitylabel:"GPEditorMapBoxToolsVisibilityLabel",visibilityinputdisable:"GPEditorMapBoxToolsVisibilityInputDisable",visibilitylabeldisable:"GPEditorMapBoxToolsVisibilityLabelDisable"}}_initContainer(){var e=this,t=this.options.obj,n=document.createElement("div");n.className=this.name.container;var i=document.createElement("div");if(i.id=this.name.containertitle+"-"+this.options.position,i.className=this.name.containertitle,this.options.tools.pin){var r=document.createElement("input");r.id=this.name.imagelabelinput+"-"+this.options.position,r.className=this.name.imagelabelinput,r.type="checkbox",i.appendChild(r);var o=document.createElement("label");o.className=this.name.imagelabel,o.htmlFor=r.id,o.addEventListener?o.addEventListener("click",(function(t){e.onClickLayerMapBox(t)})):o.attachEvent&&o.attachEvent("onclick",(function(t){e.onClickLayerMapBox(t)})),i.appendChild(o)}var a=function(){var t=document.createElement("div");if(t.id=this.name.containertools+"-"+this.options.position,t.className=this.name.containertools,this.options.tools.visibility){var i=document.createElement("input");i.id=this.name.visibilityinput+"-"+this.options.position,i.className=this.options.tools.icon.image?this.name.visibilityinput:this.name.visibilityinputdisable,i.type="checkbox",i.checked="checked",i.addEventListener?i.addEventListener("click",(function(t){e.onVisibilityLayerMapBox(t)})):i.attachEvent&&i.attachEvent("onclick",(function(t){e.onVisibilityLayerMapBox(t)})),t.appendChild(i),this.DomVisibility=i;var r=document.createElement("label");r.htmlFor=this.name.visibilityinput+"-"+this.options.position,r.id=this.name.visibilitylabel+"-"+this.options.position,r.className=this.options.tools.icon.image?this.name.visibilitylabel:this.name.visibilitylabeldisable,r.title="Afficher/masquer la couche",t.appendChild(r),n.appendChild(t)}this.options.tools.clone&&eE.warn("Dom for tools clone, it's not yet implemented !"),this.options.tools.remove&&eE.warn("Dom for tools remove, it's not yet implemented !")};if("start"===this.options.tools.icon.anchor&&a.apply(this),this.options.tools.type&&t.type){var s=document.createElement("img");switch(s.className=this.name.typeimg,t.type.toUpperCase()){case"SYMBOL-ICON":s.style["background-position"]="0px 0";break;case"SYMBOL-TEXT":s.style["background-position"]="-194px 0";break;case"SYMBOL":s.style["background-position"]="-84px 0";break;case"LINE":s.style["background-position"]="-28px 0";break;case"FILL":s.style["background-position"]="-56px 0";break;case"BACKGROUND":s.style["background-position"]="-140px 0";break;case"CIRCLE":s.style["background-position"]="-168px 0";break;default:s.style["background-position"]="-112px 0"}i.appendChild(s)}var l=document.createElement("div");l.id=this.name.containerlegend+"-"+this.options.position,l.className=this.name.containerlegend,i.appendChild(l);var u=document.createElement("input");u.id=this.name.titleinput+"-"+this.options.position,u.className=this.name.titleinput,u.type="checkbox",i.appendChild(u);var c=document.createElement("label");c.className=this.name.titlelabel,c.htmlFor=u.id,c.innerHTML=t["id"]||t["source-layer"]||t["source"],c.title=t["source-layer"]||t["source"]||t["id"],c.addEventListener?c.addEventListener("click",(function(t){e.onClickLayerMapBox(t)})):c.attachEvent&&c.attachEvent("onclick",(function(t){e.onClickLayerMapBox(t)})),i.appendChild(c),this.DomToggle=c,n.appendChild(i),"end"===this.options.tools.icon.anchor&&a.apply(this),this.container=n}add(){if(eE.trace("add()"),!this.options.target){if(!document.getElementById(this.name.target)){var e=document.createElement("div");e.id=this.name.target;var t=document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0];t.appendChild(e)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this}addStyle(e){eE.trace("addStyle()",e),e&&"object"===typeof e&&e instanceof VI&&(this.oStyle=e,this.oStyle.display(!1))}addFilter(e){eE.trace("addFilter()",e),e&&"object"===typeof e&&e instanceof KI&&(this.oFilter=e,this.oFilter.display(!1))}addLegend(e){eE.trace("addLegend()",e),e&&"object"===typeof e&&e instanceof $I&&(this.oLegend=e,this.oLegend.display(!1))}slotLegend(){var e=this.oLegend;if(e){var t=null,n=this.container.childNodes;if(n.length)for(var i="start"===this.options.tools.icon.anchor?1:0,r=n[i].childNodes,o=0;o<r.length;o++){var a=r[o];-1!==a.id.indexOf(this.name.containerlegend)&&(t=a)}if(t){var s=e.getRenderContainer();s&&(t.appendChild(s),this.bSlotLegend=!0)}}}visibility(e){if(eE.trace("visibility()",e),this.options.tools.visibility)return"undefined"!==typeof e&&(this.DomVisibility.checked=e?"checked":""),this.DomVisibility.checked}collapse(){eE.trace("collapse()"),this.DomToggle.click()}visible(){eE.trace("visible()"),this.options.tools.visibility&&this.DomVisibility.click()}display(e){eE.trace("display()",e);var t=document.getElementById(this.DomToggle.htmlFor).checked;return"undefined"!==typeof e&&(this.container.style.display=e?"inline-flex":"none",this.oStyle&&this.oStyle.display(e&&t),this.oFilter&&this.oFilter.display(e&&t),this.oLegend&&this.oLegend.display(e&&t)),t}active(e){return eE.trace("active()",e),"undefined"!==typeof e&&(this.container.className=e?this.name.container:this.name.container+" disabled"),this.container.className===this.name.container}getContainer(){return this.container}onClickLayerMapBox(e){eE.trace("onClickLayerMapBox",e);var t=e.target.htmlFor.substring(e.target.htmlFor.indexOf("-")),n=document.getElementById(e.target.htmlFor).checked;e.target.htmlFor===this.name.imagelabelinput+t&&(document.getElementById(this.name.titleinput+t).checked=!n),e.target.htmlFor===this.name.titleinput+t&&document.getElementById(this.name.imagelabelinput+t)&&(document.getElementById(this.name.imagelabelinput+t).checked=!n),this.oStyle&&this.oStyle.display(!n),this.oFilter&&this.oFilter.display(!n),this.oLegend&&this.oLegend.isEditable()&&this.oLegend.display(!n)}onVisibilityLayerMapBox(e){eE.trace("onVisibilityLayerMapBox",e),e.editorID=this.id,e.data=this.options,UI.dispatch(jI.layer.onclickvisibility,e)}onCloneLayerMapBox(e){eE.trace("onCloneLayerMapBox",e),e.editorID=this.id,e.data=this.options,UI.dispatch(jI.layer.onclickclone,e)}onRemoveLayerMapBox(e){eE.trace("onRemoveLayerMapBox",e),e.editorID=this.id,e.data=this.options,UI.dispatch(jI.layer.onclickremove,e)}}var nE=tE,iE=Un.getLogger("editor-group");class rE{constructor(e){if(iE.trace("[constructor] Group",e),this.options=e||{},!(this instanceof rE))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()}_initialize(){this.id=this.options.id||null,this.options.target,this.options.title||(this.options.title="Détails du groupe..."),"undefined"===typeof this.options.collapse&&(this.options.collapse=!0),this.container=null,this.name={target:"GPEditorMapBoxGroupTarget",container:"GPEditorMapBoxGroupContainer",details:"GPEditorMapBoxGroupDetails",summary:"GPEditorMapBoxGroupSummary"}}_initContainer(){var e=document.createElement("div");e.className=this.name.container;var t=document.createElement("details");t.className=this.name.details,t.open=!this.options.collapse,e.appendChild(t);var n=document.createElement("summary");n.className=this.name.summary,n.innerHTML=this.options.title,t.appendChild(n),this.container=e}add(){if(!this.options.target){if(!document.getElementById(this.name.target)){var e=document.createElement("div");e.id=this.name.target;var t=document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0];t.appendChild(e)}this.options.target=document.getElementById(this.name.target)}this.container&&this.options.target.appendChild(this.container)}display(e){this.container.style.display=e?"flex":"none"}getContainer(){var e=this.container.childNodes;return e.length?e[0]:this.container}onCollapseGroupMapBox(e){iE.trace("onCollapseGroupMapBox",e),e.editorID=this.id,e.data=this.options,UI.dispatch(jI.group.oncollapse,e)}}var oE=rE,aE=Un.getLogger("editor-search");class sE{constructor(e){if(aE.trace("[constructor] Search",e),this.options=e||{target:null,tools:null,title:null,obj:null},!(this instanceof sE))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()}_initialize(){this.id=this.options.id||null,this.options.target;var e={};this.options.tools||(this.options.tools=e),qn.mergeParams(this.options.tools,e,!1),this.options.obj||(this.options.obj={}),this.options.title||(this.options.title="Recherche de couches :"),this.container=null,this.name={target:"GPEditorMapBoxSearchTarget",container:"GPEditorMapBoxSearchContainer"}}_initContainer(){var e=JSON.parse(JSON.stringify(this.options.obj));e.layers&&0===e.layers.length&&aE.info("tag 'layers' is empty !");var t=document.createElement("div");t.className=this.name.container,this.container=t}add(){if(!this.options.target){if(!document.getElementById(this.name.target)){var e=document.createElement("div");e.id=this.name.target;var t=document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0];t.appendChild(e)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this}display(e){return aE.trace("display()",e),"undefined"!==typeof e&&(this.container.style.display=e?"flex":"none"),"flex"===this.container.style.display}getContainer(){return this.container}onSubmitSearchLayersMapBox(e){aE.trace("onSubmitSearchLayersMapBox",e),e.editorID=this.id,e.data=this.options,UI.dispatch(jI.search.onsubmit,e)}onAutocompleteSearchLayersMapBox(e){aE.trace("onAutocompleteSearchLayersMapBox",e),e.editorID=this.id,e.data=this.options,UI.dispatch(jI.search.onautocomplete,e)}}var lE=sE,uE={_addUID:function(e){var t=this._uid?e+"-"+this._uid:e;return t}},cE=uE,hE=Un.getLogger("editor");class dE{constructor(e){if(hE.trace("[constructor] Editor",e),this.options=e||{},!(this instanceof dE))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize()}_initialize(){if(this.options.target||hE.info("La 'target' n'est pas renseignée (options.target)."),this.options.style){this.options.events?this._initEvents():hE.warn("Les 'handlers' ne sont pas renseignés (options.events) !"),this.options.themes||hE.info("Les 'themes' MapBox ne sont pas renseignés (options.themes).");var e={themes:!1,layers:!0,search:!1,style:!1,filter:!1,legend:!1,group:!1,groupAuto:!1,sort:!0,sortBy:"id",sortOrder:"asc",title:!0,collapse:void 0,type:!0,pin:!0,visibility:!0,icon:{image:!0,anchor:"end"},editable:!0};this.options.tools||(hE.trace("Utilisation des outils MapBox par défaut (options.tools)."),this.options.tools=e),qn.mergeParams(this.options.tools,e,!1),this.id=this.options.id||nc.generate(),this.context={},this.layers=[],this.container=null,this.name={target:"GPEditorMapBoxTarget",container:"GPEditorMapBoxContainer",containerID:"GPEditorMapBoxContainer_ID_",containerLayers:"GPEditorMapBoxLayersContainer",titleLayers:"GPEditorMapBoxLayersTitle",titleLayersID:"GPEditorMapBoxLayersTitle_ID_",titleThemes:"GPEditorMapBoxThemesTitle",titleThemesID:"GPEditorMapBoxThemesTitle_ID_",sep:"GPEditorMapBoxSep"},this.mapbox={},this.sprites={}}else hE.error("Le 'style' MapBox n'est pas renseigné (options.style) !")}_initEvents(){var e=this.options.scope||this,t=this.options.events;if(t)for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];i&&(UI.hasEventListener(n,i,e)||UI.addEventListener(n,i,e))}}_initContainer(){hE.trace(this.mapbox);var e=document.createElement("div");e.id=this.name.containerID+this.id,e.className=this.name.container;var t=this.options.tools.themes;if(t&&this.options.themes){if(this.options.tools.title){var n=document.createElement("div");n.id=this.name.titleThemesID+this.id,n.className=this.name.titleThemes,n.innerHTML="Liste des 'thèmes'",e.appendChild(n)}var i=new qI({id:this.id,target:e,tools:"object"===typeof t?t:{},obj:this.options.themes});i.add()}if(this.options.tools.search){var r=new lE({id:this.id,target:e,tools:{},obj:this.mapbox.layers});r.add()}for(var o in this.mapbox.sources)if(this.mapbox.sources.hasOwnProperty(o)){if(this.options.tools.layers){var a=Object.keys(this.mapbox.sources).length>1?1:0;if(a){var s=document.createElement("hr");s.className=this.name.sep,e.appendChild(s)}if(this.options.tools.title){var l=document.createElement("div");l.id=this.name.titleLayersID+this.id,l.className=this.name.titleLayers,l.innerHTML=a?"Liste des 'couches' ("+o+")":"Liste des 'couches'",e.appendChild(l)}}var u=this.mapbox.layers.slice();if(u.forEach((function(e,t){var n=e["metadata"];n?n["geoportail:order"]=t:e["metadata"]={"geoportail:order":t}})),this.options.tools.sort){var c=this.options.tools.sortBy,h=this.options.tools.sortOrder,d=function(e,t){var n=0;if(e["metadata"]&&e["metadata"]["geoportail:group"]&&t["metadata"]&&t["metadata"]["geoportail:group"]){var i=null,r=null;i=e["metadata"]["geoportail:group"],r=t["metadata"]["geoportail:group"],n=i.localeCompare(r)}else switch(c){case"geom":n="asc"===h?e.type.localeCompare(t.type)||e.id.localeCompare(t.id):t.type.localeCompare(e.type)||t.id.localeCompare(e.id);break;case"class":n="asc"===h?e["source-layer"].localeCompare(t["source-layer"])||e.id.localeCompare(t.id):t["source-layer"].localeCompare(e["source-layer"])||t.id.localeCompare(e.id);break;case"id":default:n="asc"===h?e.id.localeCompare(t.id):t.id.localeCompare(e.id);break}return n};u.sort(d)}hE.trace("Layers : ",u);var p=this.options.tools.sortBy,g=this.options.tools.groupAuto,f={};u.forEach((function(e){var t=e["metadata"];if(t&&t["geoportail:group"]){var n=t["geoportail:group"];f[n]=f[n]?f[n]+1:1}else{var i=null;switch(p){case"class":i=e["source-layer"];break;case"geom":i=e.type;break;case"id":default:i=e.id;break}var r=i;if(g){var o=/_|-|:|=/,a=i.search(o);r=-1!==a?i.substring(0,a).trim():i}f[r]=f[r]?f[r]+1:1,t?t["geoportail:group"]=r:e["metadata"]={"geoportail:group":r}}})),hE.trace("Groups : ",f);var m,v=document.createElement("div");if(v.className=this.name.containerLayers,e.appendChild(v),void 0!==this.options.tools.collapse){m=document.createElement("details"),m.className="",m.open=!this.options.tools.collapse,v.appendChild(m);var y=document.createElement("summary");y.className="",y.innerHTML="",m.appendChild(y)}for(var A=void 0!==this.options.tools.collapse?m:v,_=-1,C=0;C<u.length;C++){var I=u[C];if(_++,I.source===o){if(this.options.tools.group&&this.options.tools.sort){var E=I.metadata;if(E){var w=I.metadata["geoportail:group"];if(w)if(f[w]>1){f[w]=-1;var b=new oE({id:this.id,target:void 0!==this.options.tools.collapse?m:v,title:w,collapse:!0});b.add(),A=b.getContainer()}else 1===f[w]&&(A=void 0!==this.options.tools.collapse?m:v);else A=void 0!==this.options.tools.collapse?m:v}else A=void 0!==this.options.tools.collapse?m:v}if(this.options.tools.layers){var x=new nE({id:this.id,target:A,position:_+"_"+this.id,tools:{visibility:this.options.tools.visibility,icon:this.options.tools.icon,type:this.options.tools.type,pin:this.options.tools.pin},obj:{id:I.id,type:I.type,source:I.source,"source-layer":I["source-layer"]}});x.add(),I.layout&&I.layout.visibility&&"none"===I.layout.visibility&&x.visibility(!1),this.layers.push(x)}if(this.options.tools.legend){var S=this.options.tools.editable;"undefined"===typeof S&&(S=I.editable);var P=new $I({id:this.id,target:A,sprites:this.sprites,obj:{id:I.id,source:I.source,title:I.id,editable:"undefined"!==typeof S&&S,paint:I.paint,layout:I.layout}});P.add(),P.display(!1),x&&(x.addLegend(P),x.slotLegend())}if(this.options.tools.style){var M=new VI({id:this.id,target:A,position:_+"_"+this.id,obj:{id:I.id,source:I.source,layout:I.layout,paint:I.paint}});M.add(),M.display(!1),x&&x.addStyle(M),I.layout&&I.layout.visibility&&"none"===I.layout.visibility&&x.visibility(!1)}if(this.options.tools.filter){var k=new KI({id:this.id,target:A,position:_+"_"+this.id,obj:{id:I.id,source:I.source,filter:I.Filter}});k.add(),k.display(!1),x&&x.addFilter(k)}}else _>=0&&_--}}if(this.container=e,!this.options.target){if(!document.getElementById(this.name.target)){var R=document.createElement("div");R.id=this.name.target;var T=document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]||document.documentElement;T.appendChild(R)}this.options.target=document.getElementById(this.name.target)}this.container&&this.options.target.appendChild(this.container),UI.dispatch(jI.onloaded,this)}_getSprites(e){var t=this;if(e&&e.startsWith("mapbox://"))return new Promise(((e,n)=>{hE.error("Protocole mapbox:// non géré !"),e(t)}));if(!e)return new Promise(((e,n)=>{hE.error("Auncun sprites disponibles !"),e(t)}));var n=function(){var n=e+".png";return fetch(n,{credentials:"same-origin"}).then((function(e){if(e.ok)return e.blob().then((function(e){t.sprites.url=n;var i=new Image;return i.src=n,i.decode().then((function(){t.sprites.size={},t.sprites.size.h=i.height,t.sprites.size.w=i.width}))})).catch((e=>{hE.warn("fetch image sprites exception :",e)}));var i=new Error("HTTP status code: "+e.status);throw i})).catch((e=>new Promise(((t,n)=>{hE.error("fetch image sprites exception :",e),n(e)}))))},i=function(){var n=e+".json";return fetch(n,{credentials:"same-origin"}).then((function(e){if(e.ok)return e.json().then((function(e){t.sprites.json=e})).catch((e=>{hE.warn("fetch json sprites exception :",e)}));var n=new Error("HTTP status code: "+e.status);throw n})).catch((e=>new Promise(((t,n)=>{hE.error("fetch json sprites exception :",e),n(e)}))))};return Promise.all([n(),i()])}createElement(){var e=this;return"object"===typeof this.options.style?(this.mapbox=this.options.style,this.options.tools.legend?this._getSprites(this.mapbox.sprite).then((function(){return e._initContainer(),e})).catch((e=>{hE.warn("fetch sprites exception :",e)})):new Promise(((t,n)=>{e._initContainer(),t(e)}))):"string"===typeof this.options.style?fetch(this.options.style,{credentials:"same-origin"}).then((t=>t.json().then((t=>{e.mapbox=t})).then((function(){return e.options.tools.legend?e._getSprites(e.mapbox.sprite).then((function(){return e._initContainer(),e})).catch((e=>{hE.warn("fetch sprites exception :",e)})):new Promise(((t,n)=>{e._initContainer(),t(e)}))})).catch((e=>{hE.error("json exception :",e)})))).catch((e=>{hE.error("fetch exception :",e)})):void 0}display(e){this.container.style.display=e?"block":"none"}setContext(e,t){this.context[e]=t}getContext(e){return this.context[e]}getID(){return this.id}getContainer(){return this.container}getStyle(){return this.mapbox}getStyleLayer(e){for(var t=null,n=this.getLayer(e),i=n.options.obj.id,r=0;r<this.mapbox.layers.length;r++){var o=this.mapbox.layers[r];if(o.id===i){t=o;break}}return t}getLayerFromStyle(e){for(var t=null,n=this.mapbox.layers[e],i=0;i<this.getLayers().length;i++){var r=this.getLayer(i);if(n.id===r.options.obj.id){t=r;break}}return t}getLayers(){return this.layers}getLayer(e){return this.layers[e]}}qn.assign(dE.prototype,cE);var pE=dE;window.ol&&window.ol.style&&(window.ol.style.Editor=dE);var gE={_addUID:function(e){var t=this._uid?e+"-"+this._uid:e;return t},_createLoadingElement:function(){var e=document.createElement("div");return e.id="GPmapLoading",e.className="",e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPimport"),e.className="GPwidget gpf-widget",e},_createShowImportPictoElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPshowImportPicto"),t.className="GPshowOpen GPshowAdvancedToolPicto GPshowImportPicto gpf-btn gpf-btn-icon-import fr-btn",t.title="Ouvrir l'import de couches",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener?t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e._onShowImportClick()})):t.attachEvent&&t.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e._onShowImportClick()})),t},_createImportPanelElement:function(){var e=document.createElement("dialog");return e.id=this._addUID("GPimportPanel"),e.className="GPpanel gpf-panel fr-modal",e},_createImportPanelDivElement:function(){var e=document.createElement("div");return e.className="gpf-panel__body fr-modal__body",e},_createImportPanelHeaderElement:function(){var e=document.createElement("div");return e.className="GPpanelHeader gpf-panel__header fr-modal__header",e},_createImportPanelTitleElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPimportHeaderTitle"),e.className="GPpanelTitle gpf-panel__title fr-modal__title",e.innerHTML="Import de données",e},_createImportPanelCloseElement:function(){var e=this,t=document.createElement("button");t.id=this._addUID("GPimportPanelClose"),t.className="GPpanelClose GPimportPanelClose gpf-btn gpf-btn-icon-close fr-btn--close fr-btn",t.title="Fermer le panneau",t.addEventListener?t.addEventListener("click",(function(){document.getElementById(e._addUID("GPshowImportPicto")).click()}),!1):t.attachEvent&&t.attachEvent("onclick",(function(){document.getElementById(e._addUID("GPshowImportPicto")).click()}));var n=document.createElement("span");return n.className="GPelementHidden gpf-visible",n.innerText="Fermer",t.appendChild(n),t},_createImportPanelFormElement:function(){var e=this,t=document.createElement("form");return t.id=this._addUID("GPimportForm"),t.className="GPform gpf-panel__content fr-modal__content",t.addEventListener?t.addEventListener("submit",(function(t){t.preventDefault(),e._onImportSubmit()})):t.attachEvent&&t.attachEvent("onsubmit",(function(t){t.preventDefault(),e._onImportSubmit()})),t},_createImportTypeLineElement:function(e){var t=this,n=document.createElement("div");n.id=this._addUID("GPimportTypeLine"),n.className="GPimportInputLine";var i=document.createElement("label");i.id=this._addUID("GPimportTypeLabel"),i.className="GPlabel gpf-label fr-label",i.innerHTML="Type de donnée",i.title="Type de donnée",n.appendChild(i);var r,o=document.createElement("select");o.setAttribute("aria-labelledby",this._addUID("GPimportTypeLabel")),o.className="GPselect gpf-select fr-select",o.addEventListener?o.addEventListener("change",(function(e){"KML"===this.value||"GPX"===this.value||"GeoJSON"===this.value||"MAPBOX"===this.value?(document.getElementById(t._addUID("GPimportStaticParams")).className="GPelementVisible gpf-visible",document.getElementById(t._addUID("GPimportServiceParams")).className="GPelementHidden gpf-hidden"):"WMS"!==this.value&&"WMTS"!==this.value&&"WFS"!==this.value||(document.getElementById(t._addUID("GPimportServiceParams")).className="GPelementVisible gpf-visible",document.getElementById(t._addUID("GPimportStaticParams")).className="GPelementHidden gpf-hidden"),t._onImportTypeChange(e)})):o.attachEvent&&o.attachEvent("onchange",(function(){"KML"===this.value||"GPX"===this.value||"GeoJSON"===this.value||"MAPBOX"===this.value?(document.getElementById(t._addUID("GPimportStaticParams")).className="GPelementVisible gpf-visible",document.getElementById(t._addUID("GPimportServiceParams")).className="GPelementHidden gpf-hidden"):"WMS"!==this.value&&"WMTS"!==this.value&&"WFS"!==this.value||(document.getElementById(t._addUID("GPimportServiceParams")).className="GPelementVisible gpf-visible",document.getElementById(t._addUID("GPimportStaticParams")).className="GPelementHidden gpf-hidden"),t._onImportTypeChange()})),o.id=this._addUID("GPimportTypeSelect"),e&&Array.isArray(e)||(e=["KML","GPX","GeoJSON","MAPBOX","WMS","WMTS","WFS"]);for(var a=0;a<e.length;a++)r=document.createElement("option"),r.value=e[a],r.text="MAPBOX"===e[a]?"Tuiles vectorielles":e[a],o.appendChild(r);return n.appendChild(o),n},_createImportWaitingElement:function(){var e=document.createElement("div");e.id=this._addUID("GPimportWaitingContainer"),e.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden";var t=document.createElement("p");return t.className="GPwaitingContainerInfo gpf-waiting_info",t.innerHTML="Recherche en cours...",e.appendChild(t),e},_createImportStaticParamsContainer:function(e){var t=document.createElement("div");return t.id=this._addUID("GPimportStaticParams"),t.className="KML"===e||"GPX"===e||"GeoJSON"===e||"MAPBOX"===e?"GPelementVisible gpf-visible":"GPelementHidden gpf-hidden",t},_createStaticNameLabel:function(){var e=document.createElement("div");e.className="GPimportInputLine";var t=document.createElement("label");t.className="GPlabel gpf-label fr-label",t.htmlFor=this._addUID("GPimportName"),t.innerHTML="Nom",t.title="Nom",e.appendChild(t);var n=document.createElement("input");return n.type="text",n.id=this._addUID("GPimportName"),n.className="GPinput gpf-input fr-input",e.appendChild(n),e},_createStaticModeChoiceDiv:function(){var e=document.createElement("div");return e.id=this._addUID("GPimportChoice"),e},_createStaticLocalChoiceDiv:function(){var e=this,t=document.createElement("div");t.className="GPimportChoiceAlt gpf-radio-group fr-radio-group";var n=document.createElement("input");n.type="radio",n.addEventListener?n.addEventListener("change",(function(t){document.getElementById(e._addUID("GPimportValueLocal")).className="GPimportInputLine",document.getElementById(e._addUID("GPimportValueUrl")).className="GPelementHidden gpf-hidden",e._onStaticImportTypeChange(t)})):n.appendChild&&n.appendChild("onchange",(function(){document.getElementById(e._addUID("GPimportValueLocal")).className="GPimportInputLine",document.getElementById(e._addUID("GPimportValueUrl")).className="GPelementHidden gpf-hidden",e._onStaticImportTypeChange()})),n.name="GPimportChoiceMode",n.value="local",n.checked=!0,n.id=this._addUID("GPimportChoiceAltLocal"),t.appendChild(n);var i=document.createElement("label");return i.className="GPimportChoiceAltTxt gpf-label fr-label",i.htmlFor=this._addUID("GPimportChoiceAltLocal"),i.innerHTML="par fichier local",i.title="par fichier local",t.appendChild(i),t},_createStaticUrlChoiceDiv:function(){var e=this,t=document.createElement("div");t.className="GPimportChoiceAlt gpf-radio-group fr-radio-group";var n=document.createElement("input");n.type="radio",n.addEventListener?n.addEventListener("change",(function(t){document.getElementById(e._addUID("GPimportValueUrl")).className="GPimportInputLine",document.getElementById(e._addUID("GPimportValueLocal")).className="GPelementHidden gpf-hidden",e._onStaticImportTypeChange(t)})):n.appendChild&&n.appendChild("onchange",(function(){document.getElementById(e._addUID("GPimportValueUrl")).className="GPimportInputLine",document.getElementById(e._addUID("GPimportValueLocal")).className="GPelementHidden gpf-hidden",e._onStaticImportTypeChange()})),n.id=this._addUID("GPimportChoiceAltUrl"),n.name="GPimportChoiceMode",n.value="url",n.checked=!1,t.appendChild(n);var i=document.createElement("label");return i.className="GPimportChoiceAltTxt gpf-label fr-label",i.htmlFor=this._addUID("GPimportChoiceAltUrl"),i.innerHTML="par URL",i.title="par URL",t.appendChild(i),t},_createStaticLocalInputDiv:function(){var e=document.createElement("div");return e.id=this._addUID("GPimportValueLocal"),e.className="GPimportInputLine",e},_createStaticLocalInputLabel:function(){var e=document.createElement("label");return e.className="GPlabel gpf-label fr-label",e.htmlFor=this._addUID("GPimportFile"),e.innerHTML="Fichier local",e.title="Fichier local",e},_createStaticLocalInput:function(){var e=document.createElement("input");return e.type="file",e.id=this._addUID("GPimportFile"),e.className="GPimportInputFile gpf-upload fr-upload",e},_createStaticUrlInputDiv:function(){var e=document.createElement("div");return e.id=this._addUID("GPimportValueUrl"),e.className="GPelementHidden gpf-hidden",e},_createStaticUrlInputLabel:function(){var e=document.createElement("label");return e.className="GPlabel gpf-label fr-label",e.htmlFor=this._addUID("GPimportUrl"),e.innerHTML="URL",e.title="URL",e},_createStaticUrlInput:function(){var e=document.createElement("input");return e.type="text",e.id=this._addUID("GPimportUrl"),e.className="GPinput gpf-input fr-input",e},_createServiceParamsContainer:function(e){var t=document.createElement("div");return t.id=this._addUID("GPimportServiceParams"),t.className="WMS"===e||"WMTS"===e||"WFS"===e?"GPelementVisible gpf-visible":"GPelementHidden gpf-hidden",t},_createServiceUrlDiv:function(){var e=document.createElement("div");return e.className="GPimportInputLine",e},_createServiceUrlInputLabel:function(){var e=document.createElement("label");return e.className="GPlabel gpf-label fr-label",e.htmlFor=this._addUID("GPimportServiceUrl"),e.innerHTML="URL du service",e.title="URL du service",e},_createServiceUrlInput:function(){var e=document.createElement("input");return e.type="text",e.id=this._addUID("GPimportServiceUrl"),e.className="GPinput gpf-input fr-input",e},_createImportSubmitFormElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPimportSubmit"),e.className="GPsubmit gpf-btn fr-btn",e.type="submit",e.value="Importer",e},_createImportGetCapPanelElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPimportGetCapPanel"),e.className="GPpanel gpf-panel fr-modal",e},_createImportGetCapPanelHeaderElement:function(){var e=this,t=document.createElement("div");t.className="GPpanelHeader gpf-panel__header fr-modal__header";var n=document.createElement("div");n.className="GPpanelTitle gpf-panel__title fr-modal__title",n.innerHTML="Couches accessibles",n.title="Couches accessibles",t.appendChild(n);var i=document.createElement("button");return i.className="GPpanelClose GPimportGetCapPanelClose gpf-btn gpf-btn-icon-close fr-btn--close fr-btn",i.title="Fermer le panneau",i.id=this._addUID("GPimportGetCapPanelClose"),i.addEventListener?i.addEventListener("click",(function(){document.getElementById(e._addUID("GPshowImportPicto")).click(),document.getElementById(e._addUID("GPimportGetCapPanel")).style.display="none",e._onGetCapPanelClose()})):i.attachEvent&&i.attachEvent("click",(function(){document.getElementById(e._addUID("GPshowImportPicto")).click(),document.getElementById(e._addUID("GPimportGetCapPanel")).style.display="none",e._onGetCapPanelClose()})),t.appendChild(i),t},_createImportGetCapResultsContainer:function(){var e=document.createElement("div");return e.className="GPimportGetCapRoot gpf-panel__list",e.id=this._addUID("GPimportGetCapResults"),e},_addImportGetCapResultListRubrique:function(e,t){var n=document.createElement("ul");return n.className="GPimportGetCapListRubrique",n.title=e,t.appendChild(n),t},_addImportGetCapResultRubrique:function(e,t){var n=document.createElement("li");n.className="GPimportGetCapRubrique gpf-panel__items";var i=document.createElement("input");i.id="GPimportGetCapRubrique-"+nc.generate(),i.className="GPimportGetCapRubrique",i.type="checkbox",n.appendChild(i);var r=document.createElement("label");return r.className="GPimportGetCapRubriqueTitle gpf-label fr-btn",r.htmlFor=i.id,r.innerHTML=e,r.title=e,n.appendChild(r),t.appendChild(n),t},_addImportGetCapResultListLayer:function(e){var t=document.createElement("ul");return t.className="GPimportGetCapListLayer",e.appendChild(t),e},_addImportGetCapResultLayer:function(e,t,n){var i=document.createElement("li");i.className="GPimportGetCapProposal gpf-panel__items",i.innerHTML=e.content,i.title=e.title,i.id="GPimportGetCapProposal_"+t;var r=this;return i.addEventListener?i.addEventListener("click",(function(e){r._onGetCapResponseLayerClick(e)})):i.attachEvent&&i.attachEvent("onclick",(function(){r._onGetCapResponseLayerClick()})),n.appendChild(i),n},_createImportMapBoxPanelElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPimportMapBoxPanel"),e.className="GPpanel gpf-panel fr-modal",e},_createImportMapBoxPanelHeaderElement:function(){var e=this,t=document.createElement("div");t.className="GPpanelHeader gpf-panel__header fr-modal__header";var n=document.createElement("button");n.id=this._addUID("GPimportMapBoxPanelReturnPicto"),n.title="Masquer le panneau",n.className="GPreturnPicto GPimportMapBoxPanelReturnPicto gpf-btn gpf-btn-icon-return fr-btn",n.addEventListener?n.addEventListener("click",(function(t){document.getElementById(e._addUID("GPshowImportPicto")).click(),e._onMapBoxReturnPictoClick(t)})):n.attachEvent&&n.attachEvent("onclick",(function(t){document.getElementById(e._addUID("GPshowImportPicto")).click(),e._onMapBoxReturnPictoClick(t)})),t.appendChild(n);var i=document.createElement("div");i.className="GPpanelTitle gpf-panel__title fr-modal__title",i.innerHTML="Edition des styles",i.title="Edition des styles",t.appendChild(i);var r=document.createElement("button");return r.className="GPpanelClose GPimportMapBoxPanelClose gpf-btn gpf-btn-icon-close fr-btn--close fr-btn",r.title="Fermer le panneau",r.id=this._addUID("GPimportMapBoxPanelClose"),r.addEventListener?r.addEventListener("click",(function(){document.getElementById(e._addUID("GPshowImportPicto")).click(),document.getElementById(e._addUID("GPimportMapBoxPanel")).style.display="none",e._onMapBoxPanelClose()})):r.attachEvent&&r.attachEvent("click",(function(){document.getElementById(e._addUID("GPshowImportPicto")).click(),document.getElementById(e._addUID("GPimportMapBoxPanel")).style.display="none",e._onMapBoxPanelClose()})),t.appendChild(r),t},_createImportMapBoxResultsContainer:function(){var e=document.createElement("div");return e.className="GPimportMapBoxpRoot",e.id=this._addUID("GPimportMapBoxResults"),e}},fE=gE,mE=n(7749),vE={_toolboxId:"GPtoolbox-measure-main",_buttonId:"GPtoolbox-measure-button",_widgetId:"GPtoolbox-measure-widget",getToolBoxID:function(e){return e?this._toolboxId+"-"+e:this._toolboxId},getButtonID:function(e){return e?this._buttonId+"-"+e:this._buttonId},getWidgetID:function(e){return e?this._widgetId+"-"+e:this._widgetId},_createToolBoxContainerElement:function(e){var t=document.createElement("div");t.id=this.getToolBoxID(e),t.className="GPshowAdvancedToolPicto";var n=document.createElement("button");n.id=this.getButtonID(e),n.className="GPshowOpen GPshowAdvancedToolPicto",n.setAttribute("tabindex","0"),n.setAttribute("aria-pressed",!1);var i=this;n.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),this.blur();var r=document.getElementById(i.getWidgetID(e));"block"===r.style.display?r.style.display="none":r.style.display="block"})),t.appendChild(n);var r=document.createElement("div");return r.id=this.getWidgetID(e),r.addEventListener("click",(function(){}),!1),t.appendChild(r),t}},yE=vE,AE=Un.getLogger("toolbox"),_E={_toolbox:{},add:function(e,t){if(AE.trace("ToolBox.add()",t),e){var n="undefined"!==typeof window?window:"undefined"!==typeof self?self:null;n&&(this._toolbox=n.gpShareMeasureToolBox||{});var i=e.getTargetElement(),r=i.ownerDocument,o=i.id;this._toolbox&&0!==Object.keys(this._toolbox).length?this._toolbox[o]||(this._toolbox[o]=nc.generate()):(this._toolbox={},this._toolbox[o]=nc.generate());var a=this._toolbox[o];if(!r.getElementById(this.getToolBoxID(a))){AE.trace("create toolbox !");var s=this._createToolBoxContainerElement(a);s.style.pointerEvents="auto";var l=i.getElementsByClassName("ol-overlaycontainer-stopevent");l[0].appendChild(s)}var u=r.getElementById(this.getWidgetID(a));t.setTarget(u),n&&(n.gpShareMeasureToolBox=this._toolbox),AE.trace("add control to toolbox !")}else AE.trace("map doesn't exist !?")}};qn.assign(_E,yE);var CE=_E,IE=Un.getLogger("measures"),EE={DEFAULT_POINTER_STYLE:new ei.A({radius:5,stroke:new ni.A({color:"#002A50",width:2}),fill:new ii.A({color:"rgba(255, 155, 0, 0.7)"})}),DEFAULT_DRAW_START_STYLE:new Tt.Ay({fill:new ii.A({color:"rgba(0, 183, 152, 0.2)"}),stroke:new ni.A({color:"#002A50",lineDash:[10,10],width:2})}),DEFAULT_DRAW_FINISH_STYLE:new Tt.Ay({fill:new ii.A({color:"rgba(0, 183, 152, 0.3)"}),stroke:new ni.A({color:"#002A50",width:3})}),tools:{MeasureLength:[],MeasureArea:[],MeasureAzimuth:[]},measureDraw:null,measureSource:null,measureVector:null,sketch:null,measureTooltipElement:null,measureTooltip:null,helpTooltipElement:null,helpTooltip:null,clean:function(){var e=this.CLASSNAME;IE.trace("["+e+"] deactived tool !"),this.clearMeasure(),this.clearMeasureToolTip(),this.removeMeasureEvents(),this._pictoContainer.setAttribute("aria-pressed",!1)},onPointerMoveHandler:function(e){if(!e.dragging){var t=e.coordinate;if(this.sketch){var n,i=this.sketch.getGeometry();if(n=this.format(i),"LineString"===i.getType())t=i.getLastCoordinate();else{if("Polygon"!==i.getType())return;t=i.getInteriorPoint().getCoordinates()}this.measureTooltipElement.innerHTML=n,this.measureTooltip.setPosition(t)}}},onShowMeasureClick:function(e,t){var n=this.getMap(),i=n.getTargetElement().id,r="undefined"!==typeof window?window:"undefined"!==typeof self?self:null;r&&(this.tools=r.gpShareMeasures||{});var o=this.CLASSNAME;for(var a in this.tools)if(this.tools.hasOwnProperty(a))for(var s=this.tools[a],l=0;l<s.length;l++){var u=s[l];u&&u.active&&a!==o&&u.map===i&&(u.active=!1,null!==u.instance&&u.instance.clean())}Kn.unset(n,{current:"Measures"});var c=this._pictoContainer.ariaPressed;if("true"===c){this.addMeasureEvents(),this.initMeasureInteraction(),this.addMeasureInteraction(t);for(var h=0;h<this.tools[o].length;h++)this.tools[o][h].map===i&&(this.tools[o][h].active=!0)}else{this.clearMeasure(),this.clearMeasureToolTip(),this.removeMeasureEvents();for(var d=0;d<this.tools[o].length;d++)this.tools[o][d].map===i&&(this.tools[o][d].active=!1)}},clearMeasureToolTip:function(){var e=this.getMap();if(e)for(var t=e.getTargetElement(),n=t.getElementsByClassName("ol-overlaycontainer"),i=0;i<n.length;i++){for(var r=n[i],o=r.children.length,a=[],s=0;s<o;s++){var l=r.children[s];if(0!==l.children.length){var u=l.children[0];"GPmeasureTooltip GPmeasureTooltip-static"!==u.className&&"GPmeasureTooltip GPmeasureTooltip-measure"!==u.className||a.push(l)}}for(var c=0;c<a.length;c++)r.removeChild(a[c])}},clearMeasure:function(){var e=this.getMap();this.measureVector&&(e.removeLayer(this.measureVector),this.measureVector=null),this.measureDraw&&(e.removeInteraction(this.measureDraw),this.measureDraw=null)},createMeasureTooltip:function(e){this.measureTooltipElement&&this.measureTooltipElement.parentNode.removeChild(this.measureTooltipElement),this.measureTooltipElement=document.createElement("div"),this.measureTooltipElement.className="GPmeasureTooltip GPmeasureTooltip-measure",this.measureTooltip=new m({element:this.measureTooltipElement,stopEvent:!1,offset:[0,-15],positioning:"bottom-center"}),e.addOverlay(this.measureTooltip)},createHelpTooltip:function(e){this.helpTooltipElement&&this.helpTooltipElement.parentNode.removeChild(this.helpTooltipElement),this.helpTooltipElement=document.createElement("div"),this.helpTooltipElement.className="tooltip hidden",this.helpTooltip=new m({element:this.helpTooltipElement,stopEvent:!1,offset:[15,0],positioning:"center-left"}),e.addOverlay(this.helpTooltip)},createStylingMeasureInteraction:function(e){this.options.styles=e||{},IE.trace("style start",this.options.styles.start);var t={image:EE.DEFAULT_POINTER_STYLE,fill:EE.DEFAULT_DRAW_START_STYLE.getFill(),stroke:EE.DEFAULT_DRAW_START_STYLE.getStroke()};this.options.styles.hasOwnProperty("pointer")&&this.options.styles.pointer instanceof Image&&(t.image=this.options.styles.pointer),this.options.styles.hasOwnProperty("start")&&this.options.styles.start instanceof Tt.Ay&&(null!=this.options.styles.start.getFill()&&(t.fill=this.options.styles.start.getFill()),null!=this.options.styles.start.getStroke()&&(t.stroke=this.options.styles.start.getStroke())),this.options.styles.start=new Tt.Ay(t),IE.trace("style finish",this.options.styles.finish);var n={fill:EE.DEFAULT_DRAW_FINISH_STYLE.getFill(),stroke:EE.DEFAULT_DRAW_FINISH_STYLE.getStroke()};this.options.styles.hasOwnProperty("finish")&&this.options.styles.finish instanceof Tt.Ay&&(null!=this.options.styles.finish.getFill()&&(n.fill=this.options.styles.finish.getFill()),null!=this.options.styles.finish.getStroke()&&(n.stroke=this.options.styles.finish.getStroke())),this.options.styles.finish=new Tt.Ay(n)},addMeasureInteraction:function(e){var t=this.getMap(),n=this;this.measureDraw=new On({source:this.measureSource,condition:function(e){return!e.originalEvent.ctrlKey||(n.sketch&&this.removeLastPoint(),!1)},type:e,style:this.options.styles.start||EE.DEFAULT_DRAW_START_STYLE}),this.measureDraw.setProperties({name:"Measures",source:this}),t.addInteraction(this.measureDraw),this.createMeasureTooltip(t),this.measureDraw.on("drawstart",(e=>{n.sketch=e.feature})),this.measureDraw.on("drawend",(()=>{if(n.sketch){var e,i,r=n.sketch.getGeometry();if(e=n.format(r),"LineString"===r.getType())i=r.getLastCoordinate();else{if("Polygon"!==r.getType())return;i=r.getInteriorPoint().getCoordinates()}n.measureTooltipElement.innerHTML=e,n.measureTooltip.setPosition(i)}n.measureTooltipElement.className="GPmeasureTooltip GPmeasureTooltip-static",n.measureTooltip.setOffset([0,-7]),n.sketch=null,n.measureTooltipElement=null,n.createMeasureTooltip(t)}))},initMeasureInteraction:function(){var e=this.getMap();this.measureSource=new Se.A,this.measureVector=new kt.A({source:this.measureSource,style:this.options.styles.finish||EE.DEFAULT_DRAW_FINISH_STYLE}),this.measureVector.gpResultLayerId="measure",e.addLayer(this.measureVector),e.getControls().forEach((e=>{if(e instanceof Pd){var t=this.measureVector.gpLayerId;e._layers[t].title===t&&e.addLayer(this.measureVector,{title:this.options.layerDescription.title,description:this.options.layerDescription.description})}}))}},wE=EE,bE={_addUID:function(e){var t=this._uid?e+"-"+this._uid:e;return t},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPelevationPath"),e.className="GPwidget gpf-widget",e},_createShowElevationPathPictoElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPshowElevationPathPicto"),t.className="GPshowOpen GPshowAdvancedToolPicto gpf-btn gpf-icon-elevation fr-btn",t.title="Calculer un profil",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener?t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowElevationPathClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowElevationPathClick(t)})),t},_createElevationPathPanelElement:function(){var e=document.createElement("dialog");return e.id=this._addUID("GPelevationPathPanel"),e.className="GPpanel gpf-panel fr-modal",e},_createElevationPathPanelDivElement:function(){var e=document.createElement("div");return e.className="gpf-panel__body fr-modal__body",e},_createElevationPathPanelHeaderElement:function(){var e=this,t=document.createElement("div");t.className="GPpanelHeader gpf-panel__header fr-modal__header";var n=document.createElement("button");n.id=this._addUID("GPelevationPathPanelInfo"),n.className="GPpanelInfo gpf-btn gpf-btn-icon-info fr-btn",n.title="Informations",n.addEventListener?n.addEventListener("click",(function(){e.onOpenElevationPathInfoClick()})):n.attachEvent&&n.attachEvent("onclick",(function(){e.onOpenElevationPathInfoClick()})),t.appendChild(n);var i=document.createElement("div");i.className="GPpanelTitle gpf-panel__title fr-modal__title",i.innerHTML="Profil Altimétrique",t.appendChild(i);var r=document.createElement("button");r.id=this._addUID("GPelevationPathPanelReduce"),r.className="GPpanelReduce gpf-btn gpf-btn-icon-reduce fr-btn",r.title="Masquer le panneau",r.addEventListener?r.addEventListener("click",(function(t){"function"===typeof e.onReduceElevationPathPanelClick&&e.onReduceElevationPathPanelClick()}),!1):r.attachEvent&&r.attachEvent("onclick",(function(t){"function"===typeof e.onReduceElevationPathPanelClick&&e.onReduceElevationPathPanelClick()})),t.appendChild(r);var o=document.createElement("button");o.id=this._addUID("GPelevationPathPanelClose"),o.className="GPpanelClose gpf-btn gpf-btn-icon-close fr-btn--close fr-btn",o.title="Fermer le panneau",o.addEventListener?o.addEventListener("click",(function(){document.getElementById(e._addUID("GPshowElevationPathPicto")).click()}),!1):o.attachEvent&&o.attachEvent("onclick",(function(){document.getElementById(e._addUID("GPshowElevationPathPicto")).click()}));var a=document.createElement("span");return a.className="GPelementHidden gpf-visible",a.innerText="Fermer",o.appendChild(a),t.appendChild(o),t},_createElevationPathPanelProfilElement:function(){var e=document.createElement("div");return e.id="GPelevationPathProfil",e},_createElevationPathWaitingElement:function(){var e=document.createElement("div");e.id=this._addUID("GPelevationPathCalcWaitingContainer"),e.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden";var t=document.createElement("p");return t.className="GPwaitingContainerInfo gpf-waiting_info",t.innerHTML="Recherche en cours...",e.appendChild(t),e},_createElevationPathInformationsElement:function(){var e=document.createElement("div");e.id=this._addUID("GPelevationPathInformationsContainer"),e.className="GPelementHidden gpf-hidden";var t=document.createElement("p");return t.className="GPelevationPathInformations",t.innerHTML="Aucune information...",e.appendChild(t),e},_addElevationPathInformationsItem:function(e){var t=document.getElementById(this._addUID("GPelevationPathInformationsContainer"));if(t){var n=document.createElement("p");n.className="GPelevationPathInformations",n.innerHTML=e,t.appendChild(n)}return t}},xE=bE,SE={_getCssProperty:function(e,t){return window.getComputedStyle(e,null).getPropertyValue(t)},_getTextWidth:function(e,t,n=null){var i=this.canvas||(this.canvas=document.createElement("canvas")),r=i.getContext("2d");r.font=null===n?`${this._getCssProperty(t,"font-weight")} ${this._getCssProperty(t,"font-size")} ${this._getCssProperty(t,"font-family")}`:n;var o=r.measureText(e);return o.width},_dataZToSvgY:function(e,t,n,i){return t-(e-n)*i-.5},_dataDistToSvgX:function(e,t,n,i){return t-n+e*i},_svgXToDataDist:function(e,t,n,i){return(e+n-t)/i},_arrayBisect:function(e,t){let n;if(0===e.length)return 0;for(n=0;n<e.length;n++)if(t<e[n].dist)return n;return n-1},displayProfileByDefault:function(e,t,n,i){var r=n;if(!t)return;if(!e)return;while(t.firstChild)t.removeChild(t.firstChild);const o={top:25,right:15,bottom:10,left:10};var a=r.options.displayProfileOptions,s=e.points,l=JSON.parse(JSON.stringify(s));l.sort((function(e,t){return e.z-t.z}));var u=l[0].z,c=l[l.length-1].z,h=e.distance;let d="m";const p=document.createElement("div");p.id="profileElevationByDefault",t.appendChild(p);var g=window.getComputedStyle(t).getPropertyValue("width").replace(/px/,""),f=window.getComputedStyle(t).getPropertyValue("height").replace(/px/,"");const m=f-o.top-o.bottom,v=g-o.left-o.right,y=17,A=this._getTextWidth(Math.round(c).toLocaleString()+",88",t,"400 10 Verdana"),_=17,C=15,I=15,E=this._getTextWidth(Math.round(h).toLocaleString()+",5",t),w=1,b=m-_-C,x=v-y-A,S=document.createElementNS("http://www.w3.org/2000/svg","svg");S.id="profileElevationByDefaultSvg",S.setAttribute("style","display: block; margin: auto; overflow: visible; position: absolute; left: 10px;"),S.setAttribute("viewBox",`0 0 ${g} ${f}`),S.setAttribute("width","100%"),S.setAttribute("height","100%");const P=Math.floor(b/I);let M;M=c===u?.1:Math.pow(10,Math.ceil(Math.log((c-u)/P)/Math.log(10)))/2;let k=Math.floor(u/M)*M,R=Math.ceil(c/M)*M;R===c&&(R+=M),k=Math.round(100*k)/100,R=Math.round(100*R)/100;let T=Math.round((R-k)/M);T+1>P&&(M=Math.pow(10,Math.ceil(Math.log((c-u)/P)/Math.log(10))),k=Math.floor(u/M)*M,R=Math.ceil(c/M)*M,R===c&&(R+=M),k=Math.round(100*k)/100,R=Math.round(100*R)/100,T=Math.floor((R-k)/M)),T=Math.max(Math.round(T),1);const L=document.createElementNS("http://www.w3.org/2000/svg","g");L.setAttribute("class","profile-z-vertical");const G=document.createElementNS("http://www.w3.org/2000/svg","g"),O=b/T;let D,N,F,U,B,j,z;D=c===u?b/.2:b/(R-k);for(let ke=0;ke<=T;ke++)N=document.createElementNS("http://www.w3.org/2000/svg","text"),N.setAttribute("class","profile-z-graduation"),N.setAttribute("font-family","Verdana"),N.setAttribute("font-size","10px"),N.setAttribute("fill","#5E5E5E"),N.textContent=(Math.round(100*(k+ke*M))/100).toLocaleString(),F=b-ke*O,N.setAttribute("transform",`translate(${y+A-8}, ${F+5})`),N.setAttribute("text-anchor","end"),L.appendChild(N),U=Math.round(F)-.5,B=document.createElementNS("http://www.w3.org/2000/svg","g"),j=document.createElementNS("http://www.w3.org/2000/svg","path"),j.setAttribute("cs","100,100"),j.setAttribute("stroke-width","1"),0!==ke?j.setAttribute("stroke-opacity","0.2"):j.setAttribute("stroke-opacity","1"),j.setAttribute("stroke","#000000"),j.setAttribute("fill","none"),j.setAttribute("d",`M${y+A},${U} L${x+y+A},${U}`),z=document.createElementNS("http://www.w3.org/2000/svg","path"),z.setAttribute("cs","100,100"),z.setAttribute("stroke-width","1"),z.setAttribute("stroke-opacity","1"),z.setAttribute("stroke","#000000"),z.setAttribute("fill","none"),z.setAttribute("d",`M${y+A},${U} L${y+A+5},${U}`),z.setAttribute("transform","translate(-5, 0)"),B.appendChild(z),B.appendChild(j),G.appendChild(B);var W=document.createElementNS("http://www.w3.org/2000/svg","text");W.setAttribute("class","profile-z-legend"),W.setAttribute("font-family","Verdana"),W.setAttribute("font-size","11px"),W.setAttribute("fill","#5E5E5E"),W.textContent="Altitude (m)",W.setAttribute("transform",`translate(${y-8}, ${Math.round(b/2)}) rotate(-90)`),W.setAttribute("text-anchor","middle"),L.appendChild(W),S.appendChild(L),S.appendChild(G),h>2e3&&(h/=1e3,d="km");const V=Math.floor(x/E);let Y=Math.pow(10,Math.ceil(Math.log(h/V)/Math.log(10)))/2;const H=h;let q=Math.floor(H/Y);q>V?(Y=Math.pow(10,Math.ceil(Math.log(h/V)/Math.log(10))),q=Math.floor(H/Y)):q<w&&(Y=Math.pow(10,Math.ceil(Math.log(h/V)/Math.log(10))-1),q=Math.floor(H/Y)),q=Math.max(q,1);const X=Y*q,Z=document.createElementNS("http://www.w3.org/2000/svg","g");Z.setAttribute("class","profile-x-vertical");const K=document.createElementNS("http://www.w3.org/2000/svg","g"),J=x/H,Q=(H-X)*J,$=Math.round((x-Q)/q);let ee,te,ne,ie,re,oe;for(let ke=0;ke<=q+1;ke++)ee=document.createElementNS("http://www.w3.org/2000/svg","text"),ee.setAttribute("class","profile-x-graduation"),ee.setAttribute("font-family","Verdana"),ee.setAttribute("font-size","10px"),ee.setAttribute("fill","#5E5E5E"),ke!==q+1&&(ee.textContent=(Math.round(100*ke*Y)/100).toLocaleString()),te=y+A+ke*$,ke===q+1&&(te=y+A+x),ee.setAttribute("transform",`translate(${te}, ${b+C+5})`),ee.setAttribute("text-anchor","middle"),Z.appendChild(ee),ne=te-.5,ie=document.createElementNS("http://www.w3.org/2000/svg","g"),re=document.createElementNS("http://www.w3.org/2000/svg","path"),re.setAttribute("cs","100,100"),re.setAttribute("stroke-width","1"),0!==ke?re.setAttribute("stroke-opacity","0.2"):re.setAttribute("stroke-opacity","1"),re.setAttribute("stroke","#000000"),re.setAttribute("fill","none"),re.setAttribute("d",`M${ne},${b} L${ne},0`),oe=document.createElementNS("http://www.w3.org/2000/svg","path"),oe.setAttribute("cs","100,100"),oe.setAttribute("stroke-width","1"),oe.setAttribute("stroke-opacity","1"),oe.setAttribute("stroke","#000000"),oe.setAttribute("fill","none"),oe.setAttribute("d",`M${ne},${b} L${ne},${b-5}`),oe.setAttribute("transform","translate(0, 5)"),ie.appendChild(oe),ie.appendChild(re),K.appendChild(ie);var ae=document.createElementNS("http://www.w3.org/2000/svg","text");ae.setAttribute("class","profile-x-legend"),ae.setAttribute("font-family","Verdana"),ae.setAttribute("font-size","11px"),ae.setAttribute("fill","#5E5E5E"),ae.textContent=`Distance (${d})`,ae.setAttribute("transform",`translate(${y+A+x/2}, ${b+C+_+3})`),ae.setAttribute("text-anchor","middle"),Z.appendChild(ae),S.appendChild(Z),S.appendChild(K);const se=document.createElementNS("http://www.w3.org/2000/svg","g");let le=1;"km"===d&&(le=1e3);let ue=this._dataDistToSvgX(s[0].dist/le,v,x,J),ce=this._dataZToSvgY(s[0].z,b,k,D),he=`M${ue},${ce}`;for(let ke=1;ke<s.length;ke++)ue=this._dataDistToSvgX(s[ke].dist/le,v,x,J),ce=this._dataZToSvgY(s[ke].z,b,k,D),he+=` L${ue},${ce}`;const de=document.createElementNS("http://www.w3.org/2000/svg","path");de.setAttribute("cs","100,100"),de.setAttribute("stroke-width","1"),de.setAttribute("stroke-opacity","1"),de.setAttribute("stroke","#0B6BA7"),de.setAttribute("fill","none"),de.setAttribute("d",he),he+=` L${ue},${b}`,he+=` L${v-x},${b}`;const pe=document.createElementNS("http://www.w3.org/2000/svg","path");pe.setAttribute("cs","100,100"),pe.setAttribute("stroke-width","1"),pe.setAttribute("stroke-opacity","0"),pe.setAttribute("stroke","#000000"),pe.setAttribute("fill","#00B798"),pe.setAttribute("fill-opacity","0.4"),pe.setAttribute("d",he),se.appendChild(de),se.appendChild(pe),S.appendChild(se);const ge=document.createElementNS("http://www.w3.org/2000/svg","g"),fe=document.createElementNS("http://www.w3.org/2000/svg","rect");fe.setAttribute("width",x),fe.setAttribute("height",b),fe.setAttribute("transform",`translate(${v-x},0)`),fe.setAttribute("visibility","hidden"),fe.setAttribute("pointer-events","all");const me=JSON.parse(JSON.stringify(s));me.sort((function(e,t){return e.dist-t.dist}));const ve=document.createElementNS("http://www.w3.org/2000/svg","line");ve.setAttribute("id","focusLineX"),ve.setAttribute("class","focusLine-default"),ve.setAttribute("fill","none"),ve.setAttribute("stroke","#F90"),ve.setAttribute("stroke-width","0.5px"),ve.setAttribute("visibility","hidden");const ye=document.createElementNS("http://www.w3.org/2000/svg","line");ye.setAttribute("id","focusLineY"),ye.setAttribute("class","focusLine-default"),ye.setAttribute("fill","none"),ye.setAttribute("stroke","#F90"),ye.setAttribute("stroke-width","0.5px"),ye.setAttribute("visibility","hidden");const Ae=document.createElementNS("http://www.w3.org/2000/svg","circle");Ae.setAttribute("id","focusCircle"),Ae.setAttribute("r",4),Ae.setAttribute("class","circle-default focusCircle-default"),Ae.setAttribute("fill","#F90"),Ae.setAttribute("visibility","hidden"),ge.appendChild(Ae),ge.appendChild(ve),ge.appendChild(ye);const _e=document.createElementNS("http://www.w3.org/2000/svg","text"),Ce=document.createElementNS("http://www.w3.org/2000/svg","tspan"),Ie=document.createElementNS("http://www.w3.org/2000/svg","tspan"),Ee=document.createElementNS("http://www.w3.org/2000/svg","tspan");_e.setAttribute("style","text-align:center; max-width:220px; font-size:10px; color:#000000; font-family:Verdana; z-index:50;"),_e.style.pointerEvents="none",_e.style.position="fixed",_e.setAttribute("class","tooltipInit"),_e.setAttribute("text-anchor","middle"),p.appendChild(_e),Ce.setAttribute("class","altiPathValue"),Ce.setAttribute("x","0"),Ce.setAttribute("dy","-.7em"),Ie.setAttribute("class","altiPathValue"),Ie.setAttribute("x","0"),Ie.setAttribute("dy","1em"),Ee.setAttribute("class","altiPathCoords"),Ee.setAttribute("x","0"),Ee.setAttribute("dy","1em"),_e.appendChild(Ce),a.currentSlope&&_e.appendChild(Ie),_e.appendChild(Ee);const we=document.createElementNS("http://www.w3.org/2000/svg","g");ge.appendChild(we);const be=document.createElementNS("http://www.w3.org/2000/svg","path");be.setAttribute("cs","100,100"),be.setAttribute("fill","#FFFFFF"),be.setAttribute("stroke","#CCCCCC"),be.setAttribute("fill-opacity","0.8"),be.setAttribute("stroke-width","1"),be.setAttribute("stroke-opacity","1");const xe=document.createElementNS("http://www.w3.org/2000/svg","path");function Se(){ve.setAttribute("visibility","visible"),ye.setAttribute("visibility","visible"),Ae.setAttribute("visibility","visible"),i.__createProfileMarker(r,s[0]),_e.setAttribute("class","tooltipFadeIn"),we.setAttribute("class","tooltipFadeIn")}function Pe(){ve.setAttribute("visibility","hidden"),ye.setAttribute("visibility","hidden"),Ae.setAttribute("visibility","hidden"),i.__removeProfileMarker(r),_e.setAttribute("class","tooltipFadeOut"),we.setAttribute("class","tooltipFadeOut")}function Me(e){const t=S.createSVGPoint();t.x=e.clientX,t.y=e.clientY;const n=t.matrixTransform(S.getScreenCTM().inverse()),o=this._svgXToDataDist(n.x,v,x,J)*le,a=Math.max(1,this._arrayBisect(me,o)),l=s[a-1],u=s[a];let c=l;o-l.dist>u.dist-o&&(c=u);const d=this._dataDistToSvgX(c.dist/le,v,x,J),p=this._dataZToSvgY(c.z,b,k,D);Ae.setAttribute("cx",d),Ae.setAttribute("cy",p),ve.setAttribute("x1",d),ve.setAttribute("y1",b),ve.setAttribute("x2",d),ve.setAttribute("y2",0),ye.setAttribute("x1",y+A),ye.setAttribute("y1",p),ye.setAttribute("x2",x+y+A),ye.setAttribute("y2",p),i.__updateProfileMarker(r,c);const g=`Altitude : ${c.z.toLocaleString()} m`,f=`Pente : ${c.slope} %`,m=`(lat : ${c.lat.toLocaleString()} / lon : ${c.lon.toLocaleString()})`;Ce.innerHTML=g,Ie.innerHTML=f,Ee.innerHTML=m;const _=Math.max(this._getTextWidth(m,Ee),this._getTextWidth(g,Ce));let C;c.dist>h*le/2?(C=`M -0.5 -0.5 l -6 6 l 0 16 l -${_+10} 0 l 0 -44 l ${_+10} 0 l 0 16 l 6 6`,_e.setAttribute("transform",`translate(${-(_/2+12)},0)`)):c.dist<=h*le/2&&(C=`M -0.5 -0.5 l 6 6 l 0 16 l ${_+10} 0 l 0 -44 l -${_+10} 0 l 0 16 l -6 6`,_e.setAttribute("transform",`translate(${_/2+12},0)`)),be.setAttribute("d",C),xe.setAttribute("d",C),we.setAttribute("transform",`translate(${d},${p})`),we.style.transform=`translate(${d}px,${p}px)`}return xe.setAttribute("cs","100,100"),xe.setAttribute("fill","#FFFFFF"),xe.setAttribute("stroke","#000000"),xe.setAttribute("fill-opacity","0"),xe.setAttribute("stroke-width","1"),xe.setAttribute("stroke-opacity","0.4"),xe.setAttribute("transform","translate(1,1)"),we.appendChild(xe),we.appendChild(be),we.appendChild(_e),we.setAttribute("class","tooltipInit"),we.style.pointerEvents="none",fe.addEventListener("pointerover",Se),fe.addEventListener("pointerout",Pe),fe.addEventListener("pointermove",Me.bind(this)),ge.appendChild(fe),S.appendChild(ge),p.appendChild(S),t},displayProfileRaw:function(e,t,n,i){if(t){while(t.firstChild)t.removeChild(t.firstChild);var r=e&&e.points?e.points:{},o=document.createElement("textarea");return o.id="profilElevationResults",o.rows=10,o.cols=50,o.style.width="100%",o.innerHTML=JSON.stringify(r,void 0,4),o.addEventListener("mouseover",(function(e){i.__customRawProfileMouseOverEvent(n,e)})),t.appendChild(o),t}},displayProfileLibD3:function(e,t,n,i){var r=n;if(t&&e){while(t.firstChild)t.removeChild(t.firstChild);var o=e.points;if(e.distance>2e3){e.unit="km";for(let e=0;e<o.length;e++)o[e].dist/=1e3}var a=r.options.displayProfileOptions,s={top:20,right:20,bottom:30,left:40},l=window.getComputedStyle(t).getPropertyValue("width"),u=window.getComputedStyle(t).getPropertyValue("height"),c=l.replace(/px/,"")-s.left-s.right,h=u.replace(/px/,"")-s.top-s.bottom,d=d3.scale.linear().range([0,c]),p=d3.scale.linear().range([h,0]),g=d3.svg.axis().scale(d).orient("bottom").ticks(5),f=d3.svg.axis().scale(p).orient("left").ticks(5),m=d3.svg.line().interpolate("basis").x((function(e){return d(e.dist)})).y((function(e){return p(e.z)})),v=d3.svg.area().interpolate("basis").x((function(e){return d(e.dist)})).y0(h).y1((function(e){return p(e.z)})),y=d3.select(t).append("svg").attr("width",c+s.left+s.right).attr("height",h+s.top+s.bottom).append("g").attr("transform","translate("+s.left+","+s.top+")"),A=d3.extent(o,(function(e){return e.dist}));d.domain(A);var _=[0,d3.max(o,(function(e){return e.z}))];p.domain(_),y.append("path").datum(o).attr("class","area-d3").attr("d",v),y.append("g").attr("class","x axis-d3").attr("transform","translate(0,"+h+")").call(g).append("text").attr("y",-15).attr("dy",".71em").attr("x",c).text("Distance ("+e.unit+")"),y.append("g").attr("class","y axis-d3").call(f).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").text("Altitude (m)"),y.append("g").attr("class","grid-d3 vertical").attr("transform","translate(0,"+h+")").call(g.orient("bottom").tickSize(-h,0,0).tickFormat("")),y.append("g").attr("class","grid-d3 horizontal").call(f.orient("left").tickSize(-c,0,0).tickFormat("")),y.append("path").datum(o).attr("class","line-d3").attr("d",m),y.selectAll("circle").data(o).enter().append("circle").attr("cx",(function(e){return d(e.dist)})).attr("cy",(function(e){return p(e.z)})).attr("r",0).attr("class","circle-d3");var C=y.append("g").style("display","none");C.append("line").attr("id","focusLineX").attr("class","focusLine-d3"),C.append("line").attr("id","focusLineY").attr("class","focusLine-d3"),C.append("circle").attr("id","focusCircle").attr("r",4).attr("class","circle-d3 focusCircle-d3");var I=d3.select(t).append("div").attr("class","tooltip-d3").style("opacity",0),E=d3.bisector((function(e){return e.dist})).left;return y.append("rect").attr("class","overlay-d3").attr("width",c).attr("height",h).on("mouseover",(function(){C.style("display",null),i.__createProfileMarker(r,o[0])})).on("mouseout",(function(){C.style("display","none"),i.__removeProfileMarker(r),I.transition().duration(500).style("opacity",0)})).on("mousemove",(function(){var e=d3.mouse(this),t=d.invert(e[0]),n=Math.max(1,E(o,t)),s=o[n-1],l=o[n],u=t-s[0]>l[0]-t?l:s,c=d(u.dist),h=p(u.z);C.select("#focusCircle").attr("cx",c).attr("cy",h),C.select("#focusLineX").attr("x1",c).attr("y1",p(_[0])).attr("x2",c).attr("y2",p(_[1])),C.select("#focusLineY").attr("x1",d(A[0])).attr("y1",h).attr("x2",d(A[1])).attr("y2",h),i.__updateProfileMarker(r,u),I.transition().duration(200).style("opacity",.9);var g="";g+=" Altitude : "+u.z+" m",a.currentSlope&&(g+="<br/> Pente : "+u.slope+" %"),g+="<br/> (Lat : "+u.lat+"/ Lon : "+u.lon+")",I.html(g).style("left",d3.event.pageX+"px").style("top",d3.event.pageY-28+"px")})),y}},displayProfileLibAmCharts:function(e,t,n,i){var r=n;if(t&&e){var o=e.points,a="<span class='altiPathValue'>[[title]] : [[value]]m</span><br/>",s=r.options.displayProfileOptions.currentSlope;if(s&&(a+="<span class='altiPathValue'>Pente : [[slope]] %</span><br/>"),a+="<span class='altiPathCoords'>(Lat: [[lat]] / Lon:[[lon]])</span>",AmCharts.addInitHandler((function(){})),e.distance>2e3){e.unit="km";for(let e=0;e<o.length;e++)o[e].dist/=1e3}for(let e=0;e<o.length;e++){var l=o[e].dist,u=100;l>100?u=1:l>10&&(u=10),l=Math.round(l*u)/u,o[e].dist=l}var c={type:"serial",pathToImages:"http://cdn.amcharts.com/lib/3/images/",categoryField:"dist",autoMarginOffset:0,marginRight:10,marginTop:10,startDuration:0,color:"#5E5E5E",fontSize:8,theme:"light",thousandsSeparator:"",numberFormatter:{precision:-1,decimalSeparator:",",thousandsSeparator:" "},categoryAxis:{color:"#5E5E5E",gridPosition:"start",minHorizontalGap:40,tickPosition:"start",title:"Distance ("+e.unit+")",titleColor:"#5E5E5E",labelOffset:0,startOnAxis:!0},chartCursor:{animationDuration:0,bulletsEnabled:!0,bulletSize:10,categoryBalloonEnabled:!1,cursorColor:"#F90",graphBulletAlpha:1,graphBulletSize:1,zoomable:!1},trendLines:[],graphs:[{balloonColor:"#CCCCCC",balloonText:a,bullet:"round",bulletAlpha:0,bulletBorderColor:"#FFF",bulletBorderThickness:2,bulletColor:"#F90",bulletSize:6,hidden:!1,id:"AmGraph-1",fillAlphas:.4,fillColors:"#C77A04",lineAlpha:1,lineColor:"#C77A04",lineThickness:1,title:"Altitude",valueField:"z"}],guides:[],valueAxes:[{id:"ValueAxis-1",minVerticalGap:20,title:"Altitude (m)"}],balloon:{borderColor:"#CCCCCC",borderThickness:1,fillColor:"#FFFFFF",showBullet:!0},titles:[],allLabels:[],dataProvider:o},h=AmCharts.makeChart(t,c);return h.addListener("changed",(function(e){var t=e.chart.dataProvider[e.index];i.__updateProfileMarker(r,t)})),h}}},PE=SE,ME=Un.getLogger("elevationpath"),kE=class e extends Qu{constructor(t){if(ME.trace("ElevationPath()"),t=t||{},super({element:t.element,target:t.target,render:t.render}),!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return this.CLASSNAME="ElevationPath",this._uid=nc.generate(),this._showContainer=null,this._pictoButton=null,this._panelContainer=null,this._profileContainer=null,this._waitingContainer=null,this._infoContainer=null,this._timerHdlr=null,this._drawStyleStart=null,this._drawStyleFinish=null,this._markerStyle=null,this._profile=null,this._data={},this._measureSource=null,this._measureVector=null,this._measureDraw=null,this._lastSketch=null,this._currentSketch=null,this._marker=null,this._initialize(t),this._container=this._initializeContainer(),this.element?this.element.appendChild(this._container):this.element=this._container,this}static DEFAULT_STYLES={MARKER:new ti.A({src:Qn["lightOrange"],anchor:[.5,1],snapToPixel:!0}),RESULTS:{imageRadius:5,imageFillColor:"rgba(128, 128, 128, 0.2)",imageStrokeColor:"rgba(0, 0, 0, 0.7)",imageStrokeWidth:2}};static __removeProfileMarker(e){var t=e;t._marker&&(t._measureSource.removeFeature(t._marker),t._marker=null)}static __createProfileMarker(e,t){var n=e;n._marker&&(n._measureSource.removeFeature(n._marker),n._marker=null);var i=n.getMap(),r=i.getView().getProjection(),o=(0,ne.pd)([t.lon,t.lat],"EPSG:4326",r),a=n._measureSource.getFeatures()[0].getGeometry().getClosestPoint(o),s=new zt.A(a);n._marker=new Pt.A({geometry:s}),ME.trace(s),n._marker.setStyle(n._markerStyle),n._measureSource.addFeature(n._marker)}static __updateProfileMarker(t,n){var i=t;e.__removeProfileMarker(i),e.__createProfileMarker(i,n)}static __customRawProfileOperation(t,n){ME.log("__customRawProfileOperation");for(var i=t,r=n.points,o=i.getMap().getView().getProjection(),a=0;a<r.length;a++){var s=r[a],l=(0,ne.pd)([s.lon,s.lat],"EPSG:4326",o),u=new zt.A(l);i._marker=new Pt.A({geometry:u}),ME.trace(u);var c=e.DEFAULT_STYLES.RESULTS,h=new ei.A({radius:c.imageRadius,stroke:new ni.A({color:c.imageStrokeColor,width:c.imageStrokeWidth}),fill:new ii.A({color:c.imageFillColor})});i._marker.setStyle(new Tt.Ay({image:h})),i._measureSource.addFeature(i._marker)}}static __customRawProfileMouseOverEvent(e,t){ME.log("__customRawProfileMouseOverEvent",e,t)}static DISPLAY_PROFILE_LIB_AMCHARTS(t,n,i){if(ME.trace("ElevationPath.DISPLAY_PROFILE_LIB_AMCHARTS"),"undefined"!==typeof AmCharts){var r=PE.displayProfileLibAmCharts(t,n,i,e);r&&(this._profile=r)}else ME.log("Lib. AmCharts is not loaded !")}static DISPLAY_PROFILE_LIB_D3(t,n,i){if(ME.trace("ElevationPath.DISPLAY_PROFILE_LIB_D3"),"undefined"!==typeof d3){var r=PE.displayProfileLibD3(t,n,i,e);r&&(this._profile=r)}else ME.log("Lib. D3 is not loaded !")}static DISPLAY_PROFILE_RAW(t,n,i){ME.trace("ElevationPath.DISPLAY_PROFILE_RAW");var r=PE.displayProfileRaw(t,n,i,e);r&&(this._profile=r)}static DISPLAY_PROFILE_BY_DEFAULT(t,n,i){ME.trace("ElevationPath.DISPLAY_PROFILE_BY_DEFAULT");var r=PE.displayProfileByDefault(t,n,i,e);r&&(this._profile=r)}setMap(e){if(ME.trace("ElevationPath::setMap"),e&&(this.options.active&&(null===this._profile&&(this._panelContainer.style.display="none"),this._initMeasureInteraction(e),this._addMeasureInteraction(e)),this.options.target||this.options.position||CE.add(e,this),this.options.export)){var t=qn.assign({control:this},this.options.export);this.export=new I_(t),this.export.render();var n=this;this.export.on("export:compute",(e=>{n.dispatchEvent({type:"export:compute",content:e.content})}))}super.setMap(e),this.options.position&&this.setPosition(this.options.position)}getActive(){return ME.trace("ElevationPath::getActive"),this.options.active}setActive(e){ME.trace("ElevationPath::setActive"),this.options.active=e}getData(){return qn.assign({type:"elevationpath"},this._data)}setData(e){this._data=e}getContainer(){return this._container}getLayer(){return this._measureVector}setLayer(e){e?e instanceof kt.A?(e.setStyle(this._drawStyleFinish),this._measureVector=e,this._measureSource=e.getSource()):ME.log("no valid layer given for hosting drawn features."):this._measureVector=null}getGeoJSON(){var e=this._measureVector.getSource().getFeatures(),t=new Ci({defaultStyle:this._drawStyleFinish}),n=t.writeFeatures(e,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"});return n}getStyle(){return this._drawStyleFinish}clean(e){ME.trace("ElevationPath::clean");var t=this.getMap();this._panelContainer.style.display="none",this._pictoButton.setAttribute("aria-pressed",!1),this._removeProfile(),this._removeMeasureInteraction(t,"undefined"!==typeof e&&e),this.setLayer()}init(){this._pictoButton.setAttribute("aria-pressed",!0),this._panelContainer.style.display="block",this._displayProfile(this._data),this._waitingContainer.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden"}_initialize(t){ME.trace("ElevationPath::_initialize : ",t),this.options={target:null,render:null,active:!1,apiKey:null,export:!1,elevationOptions:{outputFormat:"json"},layerDescription:{title:"Profil altimétrique",description:"Mon profil altimétrique"},displayProfileOptions:{totalDistance:!0,greaterSlope:!0,meanSlope:!0,ascendingElevation:!0,descendingElevation:!0,currentSlope:!0,apply:null,target:null},stylesOptions:{profile:null,draw:null,marker:null}},qn.mergeParams(this.options,t),this.options.target=t.target||null,this.options.apiKey=t.apiKey;var n=t.displayProfileOptions||{};this.export=null;var i=n.apply;this.options.displayProfileOptions.apply="function"===typeof i?i:e.DISPLAY_PROFILE_BY_DEFAULT;var r=n.target;this.options.displayProfileOptions.target="undefined"!==typeof r?r:null;var o=t.stylesOptions||{};this.options.stylesOptions.draw=o.draw||{},this._createStylingDraw(),this.options.stylesOptions.marker=o.marker||{},this._createStylingMarker()}_initializeContainer(){ME.trace("ElevationPath::_initializeContainer : ",this._uid);var e=this._createMainContainerElement(),t=this._pictoButton=this._createShowElevationPathPictoElement();e.appendChild(t),this.options.active&&this._pictoButton.click();var n=this._panelContainer=this._createElevationPathPanelElement(),i=this._createElevationPathPanelDivElement();n.appendChild(i);var r=this._createElevationPathPanelHeaderElement();i.appendChild(r);var o=this._profileContainer=this._createElevationPathPanelProfilElement();i.appendChild(o);var a=this._waitingContainer=this._createElevationPathWaitingElement();i.appendChild(a);var s=this._infoContainer=this._createElevationPathInformationsElement();return i.appendChild(s),null===this.options.displayProfileOptions.target&&e.appendChild(n),e}_createStylingMarker(){ME.trace("ElevationPath::_createStylingMarker ");var t=e.DEFAULT_STYLES.MARKER;ME.trace("style marker",t),this.options.stylesOptions.marker instanceof mE.A&&(t=this.options.stylesOptions.marker),this._markerStyle=new Tt.Ay({image:t})}_createStylingDraw(){ME.trace("ElevationPath::_createStylingDraw");var e=this.options.stylesOptions.draw;ME.trace("style start",e.start);var t={image:wE.DEFAULT_POINTER_STYLE,stroke:wE.DEFAULT_DRAW_START_STYLE.getStroke()};e.hasOwnProperty("pointer")&&e.pointer instanceof mE.A&&(t.image=e.pointer),e.hasOwnProperty("start")&&e.start instanceof ni.A&&(t.stroke=e.start),this._drawStyleStart=new Tt.Ay(t),ME.trace("style finish",e.finish);var n={stroke:wE.DEFAULT_DRAW_FINISH_STYLE.getStroke()};e.hasOwnProperty("finish")&&e.finish instanceof ni.A&&(n.stroke=e.finish),this._drawStyleFinish=new Tt.Ay(n)}_createStylingProfile(){ME.trace("ElevationPath::_createStylingProfile");var t=this.options.stylesOptions.profile;ME.trace("style profile",t);var n=e.DEFAULT_STYLES.PROFILE;Object.keys(n).forEach((e=>{if(t.hasOwnProperty(e)){var i=n[e];"object"===typeof i&&(qn.mergeParams(i,t[e]),t[e]=i)}else t[e]=n[e]}))}_initMeasureInteraction(e){ME.trace("ElevationPath::_initMeasureInteraction()"),e&&(this._measureSource=new Se.A,this._measureVector=new kt.A({source:this._measureSource,style:this._drawStyleFinish}),this._measureVector.gpResultLayerId="measure:profil",e.addLayer(this._measureVector),e.getControls().forEach((e=>{if(e instanceof Pd){var t=this._measureVector.gpLayerId;e._layers[t].title===t&&e.addLayer(this._measureVector,{title:this.options.layerDescription.title,description:this.options.layerDescription.description})}})))}_addMeasureInteraction(e){ME.trace("ElevationPath::_addMeasureInteraction()"),e&&(this._measureDraw=new On({source:this._measureSource,type:"LineString",style:this._drawStyleStart,stopClick:!0}),this._measureDraw.setProperties({name:"ElevationPath",source:this}),e.addInteraction(this._measureDraw),this._measureDraw.on("drawstart",(e=>{ME.trace("drawstart",e),null!==this._marker&&(this._measureSource.removeFeature(this._marker),this._marker=null),null!==this._lastSketch&&(this._measureSource.removeFeature(this._lastSketch),this._lastSketch=null),this._currentSketch=e.feature;for(var t=this._measureSource.getFeatures(),n=0;n<t.length;n++)this._measureSource.removeFeature(t[n]);this.dispatchEvent("elevationpath:drawstart")})),this._measureDraw.on("drawend",(e=>{ME.trace("drawend",e),this.dispatchEvent("elevationpath:drawend"),this._lastSketch=this._currentSketch,"undefined"===typeof this.options.elevationOptions.onSuccess&&null===this.options.displayProfileOptions.target&&(this._panelContainer.style.display="block"),this._measureDraw.setActive(!1),this._requestService()})))}_removeMeasureInteraction(e,t){ME.trace("ElevationPath::_removeMeasureInteraction()"),e&&(t&&this._measureVector&&(e.removeLayer(this._measureVector),this._measureVector=null),this._measureDraw&&(e.removeInteraction(this._measureDraw),this._measureDraw=null))}_getGeometry(){if(null!==this._currentSketch){for(var e=[],t=this.getMap(),n=t.getView().getProjection(),i="EPSG:4326",r=this._currentSketch.getGeometry().getCoordinates(),o=0;o<r.length;o++){var a=r[o],s=a;n!==i&&(s=(0,ne.pd)(a,n,i)),e.push({lon:Math.round(1e8*s[0])/1e8,lat:Math.round(1e8*s[1])/1e8})}return e}ME.warn("Current Feature undefined !?")}_getLength(){if(null!==this._currentSketch){for(var e=0,t=this.getMap(),n=t.getView().getProjection(),i="EPSG:4326",r=this._currentSketch.getGeometry().getCoordinates(),o=0,a=r.length-1;o<a;++o){var s=(0,ne.pd)(r[o],n,i),l=(0,ne.pd)(r[o+1],n,i);s[0]=Math.round(1e8*s[0])/1e8,s[1]=Math.round(1e8*s[1])/1e8,l[0]=Math.round(1e8*l[0])/1e8,l[1]=Math.round(1e8*l[1])/1e8,e+=(0,i_.Yf)(s,l)}return e}ME.warn("Current Feature undefined !?")}_getSketchCoords(){if(null!==this._currentSketch){for(var e=this.getMap(),t=e.getView().getProjection(),n="EPSG:4326",i=[],r=this._currentSketch.getGeometry().getCoordinates(),o=0;o<r.length;o++){var a=(0,ne.pd)(r[o],t,n);a[0]=Math.round(1e8*a[0])/1e8,a[1]=Math.round(1e8*a[1])/1e8,i.push(a)}return i}ME.warn("Current Feature undefined !?")}_requestService(){ME.trace("ElevationPath::_requestService");var e=this._getGeometry();if(ME.trace("geometry",e),e){var t={};qn.mergeParams(t,this.options.elevationOptions),qn.mergeParams(t,{apiKey:t.apiKey||this.options.apiKey}),"boolean"!==typeof t.ssl&&("boolean"===typeof this.options.ssl?t.ssl=this.options.ssl:t.ssl=!0),qn.mergeParams(t,{ssl:t.ssl});var n=this,i=!(null===this.options.elevationOptions.onFailure||"function"!==typeof this.options.elevationOptions.onFailure),r=!(null===this.options.elevationOptions.onSuccess||"function"!==typeof this.options.elevationOptions.onSuccess),o=function(e){ME.trace(e),e&&(n._panelContainer.style.display="block",n._data&&(n._data={}),n._data=n._computeElevationMeasure(e.elevations),n._displayProfile(n._data),n._waitingContainer.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden",n._waiting=!1,n._measureDraw.setActive(!0)),r&&n.options.elevationOptions.onSuccess.call(n,n.getData())},a=function(e){n._panelContainer.style.display="none",ME.error(e.message),n._waitingContainer.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden",n._waiting=!1,n._measureDraw.setActive(!0),i&&n.options.elevationOptions.onFailure.call(n,e)};qn.mergeParams(t,{onSuccess:o,onFailure:a});var s=t.sampling;if(!s){var l,u=this._getLength();ME.trace("length",u);var c=Math.max(50,Math.floor(u)/5);l=c>200?200:Math.floor(c);var h=this._getSketchCoords().length;h>100&&(l=0)}l>0&&qn.mergeParams(t,{sampling:l}),qn.mergeParams(t,{positions:e}),ME.trace("options du service",t),this._waitingContainer.className="GPwaitingContainer GPwaitingContainerVisible gpf-waiting gpf-waiting--visible",Dn.Ay.Services.getAltitude(t)}else ME.warn("missing geometry !?")}_computeElevationMeasure(e){ME.trace("ElevationPath::_computeElevationMeasure",e);var t=e,n="m",i=this._getSketchCoords();if(i){var r=0,o=0,a=i[1];t[0].dist=0,t[0].slope=0,t[0].lat=Math.round(1e4*t[0].lat)/1e4,t[0].lon=Math.round(1e4*t[0].lon)/1e4;for(var s=0,l=0,u=0,c=0,h=0,d=0,p=[],g=1;g<t.length;g++){var f=[t[g].lon,t[g].lat],m=o+(0,i_.Yf)(f,i[r]),v=m-h;f[0]===a[0]&&f[1]===a[1]&&(r++,o=m,g!==t.length-1&&(a=i[r+1]));var y=t[g].z,A=t[g-1].z;y<0&&(y=0),A<0&&(A=0);var _=y-A;_<0?(s+=v,c+=_):_>0&&(l+=v,u+=_),h=m,t[g].dist=m,p.push(m),d+=_?Math.abs(Math.round(_/v*100)):0,t[g].slope=_?Math.abs(Math.round(_/v*100)):0;var C=t[g].slope;t[g].color=C>15&&C<30?"#005b4c":C>30&&C<45?"#00362d":C>45?"#00120f":"#00B798",t[g].lat=Math.round(1e4*t[g].lat)/1e4,t[g].lon=Math.round(1e4*t[g].lon)/1e4}ME.trace("List Distances",p);for(var I=t[0].z,E=t[0].z,w=t[0].slope,b=0;b<t.length;b++){var x=t[b];x.z<-100&&(x.z=0),x.z>E&&(E=x.z),x.z<I&&(I=x.z),x.slope>w&&(w=x.slope)}return{greaterSlope:w,meanSlope:Math.round(d/t.length),distancePlus:l,distanceMinus:s,ascendingElevation:u,descendingElevation:c,altMin:I.toLocaleString(),altMax:E.toLocaleString(),distance:this._getLength(),unit:n,points:t}}}_displayProfile(e){ME.trace("ElevationPath::_displayProfile",e),this._updateInfoContainer();var t=this.options.displayProfileOptions.target;t&&t.appendChild(this._panelContainer),t=this._profileContainer;var n=this,i=this.options.displayProfileOptions.apply;i.call(this,e,t,n);var r=this.options.displayProfileOptions,o=document.getElementById("GPelevationPathPanelInfo-"+this._uid);o&&(r.totalDistance||r.greaterSlope||r.meanSlope||r.ascendingElevation||r.descendingElevation)&&(o.style.display="block"),this.dispatchEvent({type:"elevationpath:compute"})}_updateInfoContainer(){ME.trace("ElevationPath::_updateInfoContainer");var e=this.options.displayProfileOptions.totalDistance,t=this.options.displayProfileOptions.meanSlope,n=this.options.displayProfileOptions.greaterSlope,i=this.options.displayProfileOptions.ascendingElevation,r=this.options.displayProfileOptions.descendingElevation,o=this._infoContainer;if(o.childElementCount)while(o.firstChild)o.removeChild(o.firstChild);e&&this._addElevationPathInformationsItem("Distance totale : "+Math.round(this._data.distance).toLocaleString()+" m"),i&&this._addElevationPathInformationsItem("Dénivelé positif : "+this._data.ascendingElevation.toLocaleString()+" m"),r&&this._addElevationPathInformationsItem("Dénivelé négatif : "+this._data.descendingElevation.toLocaleString()+" m"),t&&this._addElevationPathInformationsItem("Pente moyenne : "+this._data.meanSlope.toLocaleString()+" %"),n&&this._addElevationPathInformationsItem("Plus forte pente : "+this._data.greaterSlope.toLocaleString()+" %")}_removeMeasure(){if(this._lastSketch=null,this._currentSketch=null,this._measureSource){this._marker&&(this._measureSource.removeFeature(this._marker),this._marker=null);for(var e=this._measureSource.getFeatures(),t=0;t<e.length;t++)this._measureSource.removeFeature(e[t])}}_removeProfile(){if(this._profile=null,this._profileContainer)while(this._profileContainer.firstChild)this._profileContainer.removeChild(this._profileContainer.firstChild)}onShowElevationPathClick(e){var t=this.getMap();Kn.unset(t,{current:"ElevationPath"});var n=this._pictoButton.ariaPressed;"true"===n?(null===this._profile&&(this._panelContainer.style.display="none"),this._initMeasureInteraction(t),this._addMeasureInteraction(t)):(this._panelContainer.style.display="none",e&&e.target.dataset&&e.target.dataset.removeMeasure?"true"===e.target.dataset.removeMeasure?this._removeMeasure():(this._lastSketch=null,this._currentSketch=null):this._removeMeasure(),this._removeProfile(),e&&e.target.dataset&&e.target.dataset.removeLayer?this._removeMeasureInteraction(t,"true"===e.target.dataset.removeLayer):this._removeMeasureInteraction(t,!0))}onOpenElevationPathInfoClick(){var e=this._infoContainer;"GPelementVisible gpf-visible"===e.className?(clearTimeout(this._timerHdlr),e.className="GPelementHidden gpf-hidden"):e.className="GPelevationPathInformationsContainerVisible",this._timerHdlr=setTimeout((function(){e.className="GPelementHidden gpf-hidden"}),4e3)}};Object.assign(kE.prototype,xE);var RE=kE;window.ol&&window.ol.control&&(window.ol.control.ElevationPath=kE);var TE=Un.getLogger("layerimport"),LE=class e extends Qu{constructor(t){if(t=t||{},super({element:t.element,target:t.target,render:t.render}),!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return this._initialize(t),this._container=this._initContainer(t),this.element?this.element.appendChild(this._container):this.element=this._container,this}static DefaultStyles={image:new ti.A({src:Qn["lightOrange"],anchor:[25.5,38],anchorOrigin:"top-left",anchorXUnits:"pixels",anchorYUnits:"pixels"}),stroke:new ni.A({color:"rgba(0,42,80,0.8)",width:4}),fill:new ii.A({color:"rgba(0, 183, 152, 0.5)"}),text:new ri.A({font:"16px Sans",textAlign:"left",fill:new ii.A({color:"rgba(255, 255, 255, 1)"}),stroke:new ni.A({color:"rgba(0, 0, 0, 1)",width:2})})};setMap(e){if(e){var t=this;e.getLayers().on("remove",(function(e){"layerimport:MAPBOX"===e.element.gpResultLayerId&&e.element.gpEditorId&&t._mapBoxPanel&&t._importPanel&&(t.cleanMapBoxResults(e.element.gpEditorId),t._mapBoxPanel.style.display="none",t._importPanel.style.display="")}),t),this.draggable&&(qd.dragElement(this._importPanel,this._importPanelHeader,this.options.position?null:e.getTargetElement()),qd.dragElement(this._getCapPanel,this._getCapPanelHeader,e.getTargetElement()),qd.dragElement(this._mapBoxPanel,this._mapBoxPanelHeader,e.getTargetElement())),this.collapsed||this._showImportButton.setAttribute("aria-pressed",!0)}super.setMap(e),this.options.position&&this.setPosition(this.options.position)}getCollapsed(){return this.collapsed}setCollapsed(e){void 0!==e?e&&this.collapsed||!e&&!this.collapsed||(e?this._panelCloseButton.click():this._showImportButton.click(),this.collapsed=e):TE.error("[ERROR] LayerImport:setCollapsed - missing collapsed parameter")}getStaticImportContent(){return this.contentStatic}getServiceImportContent(){return this.contentService}getName(){return this._name}_initialize(t){if(this._checkInputOptions(t),this.options={collapsed:!0,draggable:!1,layerTypes:["KML","GPX","GeoJSON","WMS","WMTS","MAPBOX"],webServicesOptions:{},vectorStyleOptions:{KML:{extractStyles:!0,showPointNames:!0,defaultStyle:{}},GPX:{defaultStyle:{}},GeoJSON:{defaultStyle:{}},MapBox:{defaultStyle:{},editor:{}}}},t.vectorStyleOptions&&t.vectorStyleOptions.KML&&t.vectorStyleOptions.KML.extractStyles&&(this.options.vectorStyleOptions.KML.extractStyles=t.vectorStyleOptions.KML.extractStyles),t.vectorStyleOptions&&t.vectorStyleOptions.KML&&t.vectorStyleOptions.KML.showPointNames&&(this.options.vectorStyleOptions.KML.showPointNames=t.vectorStyleOptions.KML.showPointNames),t.vectorStyleOptions&&t.vectorStyleOptions.KML&&t.vectorStyleOptions.KML.defaultStyle?this.options.vectorStyleOptions.KML.defaultStyle=t.vectorStyleOptions.KML.defaultStyle:this.options.vectorStyleOptions.KML.defaultStyle=new Tt.Ay({image:e.DefaultStyles.image,stroke:e.DefaultStyles.stroke,fill:e.DefaultStyles.fill,text:e.DefaultStyles.text}),t.vectorStyleOptions&&t.vectorStyleOptions.GPX&&t.vectorStyleOptions.GPX.defaultStyle?this.options.vectorStyleOptions.GPX.defaultStyle=t.vectorStyleOptions.GPX.defaultStyle:this.options.vectorStyleOptions.GPX.defaultStyle=new Tt.Ay({image:e.DefaultStyles.image,stroke:e.DefaultStyles.stroke,fill:e.DefaultStyles.fill,text:e.DefaultStyles.text}),t.vectorStyleOptions&&t.vectorStyleOptions.GeoJSON&&t.vectorStyleOptions.GeoJSON.defaultStyle?this.options.vectorStyleOptions.GeoJSON.defaultStyle=t.vectorStyleOptions.GeoJSON.defaultStyle:this.options.vectorStyleOptions.GeoJSON.defaultStyle=new Tt.Ay({image:e.DefaultStyles.image,stroke:e.DefaultStyles.stroke,fill:e.DefaultStyles.fill,text:e.DefaultStyles.text}),t.vectorStyleOptions&&t.vectorStyleOptions.MapBox&&t.vectorStyleOptions.MapBox.defaultStyle?this.options.vectorStyleOptions.MapBox.defaultStyle=t.vectorStyleOptions.MapBox.defaultStyle:this.options.vectorStyleOptions.MapBox.defaultStyle=new Tt.Ay({image:e.DefaultStyles.image,stroke:e.DefaultStyles.stroke,fill:e.DefaultStyles.fill,text:e.DefaultStyles.text}),t.vectorStyleOptions&&t.vectorStyleOptions.MapBox&&t.vectorStyleOptions.MapBox.editor?this.options.vectorStyleOptions.MapBox.editor=t.vectorStyleOptions.MapBox.editor:this.options.vectorStyleOptions.MapBox.editor={title:!0,collapse:!1,themes:!1,layers:!0,style:!0,filter:!1,legend:!0,group:!1},t.vectorStyleOptions&&t.vectorStyleOptions.MapBox&&t.vectorStyleOptions.MapBox.hasOwnProperty("display")?this.options.vectorStyleOptions.MapBox.display=t.vectorStyleOptions.MapBox.display:this.options.vectorStyleOptions.MapBox.display=!0,Array.isArray(t.layerTypes)){for(var n=[],i=0;i<t.layerTypes.length;i++)n.push(t.layerTypes[i]);this.options.layerTypes=n}qn.mergeParams(this.options,t),this.collapsed=this.options.collapsed,this.draggable=this.options.draggable,this._uid=nc.generate(),this._waiting=!1,this._timer=null,this._initImportTypes(),this._initDefaultStyles(),this._showImportButton=null,this._importPanel=null,this._panelCloseButton=null,this._importPanelHeader=null,this._formContainer=null,this._staticLocalImportInput=null,this._staticUrlImportInput=null,this._serviceUrlImportInput=null,this._getCapPanel=null,this._getCapPanelHeader=null,this._getCapResultsListContainer=null,this._mapBoxPanel=null,this._mapBoxPanelHeader=null,this._mapBoxResultsListContainer=null,this._waitingContainer=null,this._loadingContainer=null,this._getCapRequestUrl=null,this._getCapResponseWMS=null,this._getCapResponseWMSLayers=[],this._getCapResponseWMTS=null,this._getCapResponseWMTSLayers=[],this._hasMapBoxResults=!1,this.contentStatic=null,this._url=null,this._file=null,this._name=null}_checkInputOptions(e){if(e.layerTypes){var t=e.layerTypes;if(Array.isArray(t)){for(var n=["KML","GPX","GEOJSON","WMS","WMTS","WFS","MAPBOX"],i=[],r=0;r<t.length;r++)"string"!==typeof t[r]?(i.push(r),TE.warn("[ol.control.LayerImport] 'options.layerTypes' elements should be of type string ("+t[r]+")")):(t[r]=t[r].toUpperCase(),-1===n.indexOf(t[r])&&(i.push(r),TE.log("[ol.control.LayerImport] options.layerTypes : "+t[r]+" is not a supported type")),"GEOJSON"===t[r]&&(t[r]="GeoJSON"),"MAPBOX"===t[r]&&(t[r]="MAPBOX"));if(0!==i.length)for(var o=i.length-1;o>=0;o--)t.splice(i[o],1)}else TE.warn('[ol.control.LayerImport] \'options.layerTypes\' parameter should be an array. Set default values ["KML", "GPX", "GeoJSON", "WMS", "WMTS"]'),e.layerTypes=["KML","GPX","GeoJSON","WMS","WMTS","MAPBOX"]}}_initDefaultStyles(){var e=this.options.vectorStyleOptions.KML.defaultStyle;this._defaultKMLStyle=new Tt.Ay({image:e.image,stroke:e.stroke,fill:e.fill,text:e.text});var t=this.options.vectorStyleOptions.GPX.defaultStyle;this._defaultGPXStyle=new Tt.Ay({image:t.image,stroke:t.stroke,fill:t.fill,text:t.text});var n=this.options.vectorStyleOptions.GeoJSON.defaultStyle;this._defaultGeoJSONStyle=new Tt.Ay({image:n.image,stroke:n.stroke,fill:n.fill,text:n.text});var i=this.options.vectorStyleOptions.MapBox.defaultStyle;this._defaultMapBoxStyle=new Tt.Ay({image:i.image,stroke:i.stroke,fill:i.fill,text:i.text})}_initImportTypes(){this._currentImportType=this.options.layerTypes[0]||"KML","KML"===this._currentImportType||"GPX"===this._currentImportType||"GeoJSON"===this._currentImportType||"MAPBOX"===this._currentImportType?this._isCurrentImportTypeStatic=!0:"WMS"!==this._currentImportType&&"WMTS"!==this._currentImportType&&"WFS"!==this._currentImportType||(this._isCurrentImportTypeStatic=!1),this._currentStaticImportType="local"}_initContainer(){var e=this._createMainContainerElement(),t=this._showImportButton=this._createShowImportPictoElement();e.appendChild(t);var n=this._importPanel=this._createImportPanelElement(),i=this._createImportPanelDivElement();n.appendChild(i);var r=this._importPanelHeader=this._createImportPanelHeaderElement(),o=this._createImportPanelTitleElement();r.appendChild(o);var a=this._panelCloseButton=this._createImportPanelCloseElement();r.appendChild(a),i.appendChild(r);var s=this._formContainer=this._initInputFormElement();i.appendChild(s);var l=this._getCapPanel=this._createImportGetCapPanelElement(),u=this._getCapPanelHeader=this._createImportGetCapPanelHeaderElement();l.appendChild(u);var c=this._getCapResultsListContainer=this._createImportGetCapResultsContainer();l.appendChild(c),i.appendChild(l);var h=this._mapBoxPanel=this._createImportMapBoxPanelElement(),d=this._mapBoxPanelHeader=this._createImportMapBoxPanelHeaderElement();h.appendChild(d);var p=this._mapBoxResultsListContainer=this._createImportMapBoxResultsContainer();h.appendChild(p);var g=this._loadingContainer=this._createLoadingElement();h.appendChild(g),i.appendChild(h);var f=this._waitingContainer=this._createImportWaitingElement();return i.appendChild(f),e.appendChild(n),e}_initInputFormElement(){var e=this._createImportPanelFormElement(),t=this._createImportTypeLineElement(this.options.layerTypes);e.appendChild(t);var n=this._createImportStaticParamsContainer(this.options.layerTypes[0]),i=this._createStaticNameLabel();n.appendChild(i);var r=this._createStaticModeChoiceDiv(),o=this._createStaticLocalChoiceDiv();r.appendChild(o);var a=this._createStaticUrlChoiceDiv();r.appendChild(a),n.appendChild(r);var s=this._createStaticLocalInputDiv();s.appendChild(this._createStaticLocalInputLabel()),this._staticLocalImportInput=this._createStaticLocalInput(),s.appendChild(this._staticLocalImportInput),n.appendChild(s);var l=this._createStaticUrlInputDiv();l.appendChild(this._createStaticUrlInputLabel()),this._staticUrlImportInput=this._createStaticUrlInput(),l.appendChild(this._staticUrlImportInput),n.appendChild(l),e.appendChild(n);var u=this._createServiceParamsContainer(this.options.layerTypes[0]),c=this._createServiceUrlDiv();c.appendChild(this._createServiceUrlInputLabel()),this._serviceUrlImportInput=this._createServiceUrlInput(),c.appendChild(this._serviceUrlImportInput),u.appendChild(c),e.appendChild(u);var h=this._createImportSubmitFormElement();return e.appendChild(h),e}_onShowImportClick(){var e=this.getMap();Kn.unset(e);var t=this._showImportButton.ariaPressed;this.collapsed=!("true"===t),this.dispatchEvent("change:collapsed"),this._hasMapBoxResults?this._mapBoxPanel.style.display="block":(this._formContainer.style.display="block",this._importPanelHeader.style.display="")}_onImportTypeChange(e){this._currentImportType=e.target.value,"KML"===this._currentImportType||"GPX"===this._currentImportType||"GeoJSON"===this._currentImportType||"MAPBOX"===this._currentImportType?this._isCurrentImportTypeStatic=!0:"WMS"!==this._currentImportType&&"WMTS"!==this._currentImportType&&"WFS"!==this._currentImportType||(this._isCurrentImportTypeStatic=!1)}_onStaticImportTypeChange(e){this._currentStaticImportType=e.target.value}_onGetCapPanelClose(){"WMS"!==this._currentImportType&&"WMTS"!==this._currentImportType&&"WFS"!==this._currentImportType||this.cleanGetCapResultsList()}_onMapBoxPanelClose(){this.cleanMapBoxResultsList(),this._loadingContainer.className=""}_onMapBoxReturnPictoClick(e){this._mapBoxPanel.style.display="none",this._loadingContainer.className=""}_onImportSubmit(){TE.log("import d'une couche de type : "+this._currentImportType),this.contentStatic=null,this.contentService=null,this._isCurrentImportTypeStatic?this._importStaticLayer():this._importServiceLayers()}_importStaticLayer(){var e,t=document.getElementById(this._addUID("GPimportName"));t&&(e=t.value||"",TE.log("import layer name : "+e)),"local"===this._currentStaticImportType?(TE.log("import static layer from local file"),this._importStaticLayerFromLocalFile(e)):"url"===this._currentStaticImportType&&(TE.log("import static layer from url"),this._importStaticLayerFromUrl(e))}_importStaticLayerFromUrl(e){var t=this._staticUrlImportInput.value;if(TE.log("url : ",t),0!==t.length){t.trim&&(t=t.trim()),this._url=t,e||(e=this._url.substring(this._url.lastIndexOf("/")+1,this._url.lastIndexOf("."))),this._name=e,this.options.webServicesOptions&&this.options.webServicesOptions.proxyUrl&&(t=jn.proxifyUrl(t,this.options.webServicesOptions));var n=this;Dn.Ay.Protocols.XHR.call({url:t,method:"GET",timeOut:15e3,onResponse:function(t){n._hideWaitingContainer(),n._addFeaturesFromImportStaticLayer(t,e)},onFailure:function(e){n._hideWaitingContainer(),TE.error("[ol.control.LayerImport] KML/GPX/GeoJSON/MapBox request failed : ",e)}})}else TE.error("[ol.control.LayerImport] url parameter is mandatory")}_importStaticLayerFromLocalFile(e){var t=this._staticLocalImportInput.files[0];if(t){this._file=t,e||(e=this._file.name.substring(this._file.name.lastIndexOf("/")+1,this._file.name.lastIndexOf("."))),this._name=e;var n=new FileReader,i=this;n.onerror=e=>{i._hideWaitingContainer(),TE.error("error fileReader : ",e)},n.onprogress=()=>{TE.log("onprogress")},n.onloadstart=()=>{i._displayWaitingContainer(),TE.log("onloadstart")},n.onabort=()=>{i._hideWaitingContainer(),TE.log("onabort")},n.onloadend=e=>{TE.log("onloadend : ",e)},n.onload=t=>{TE.log("fileReader onload - file content : ",t.target.result),i._hideWaitingContainer(),i._addFeaturesFromImportStaticLayer(t.target.result,e)},n.readAsText(t)}else TE.warn("[ol.control.LayerImport] missing file")}_addFeaturesFromImportStaticLayer(e,t){var n=this.getMap();if(n&&e){var i=null,r=null,o=null,a=null;if(this.contentStatic=e,"MAPBOX"===this._currentImportType){this._hasMapBoxResults=!0;var s=this,l=JSON.parse(e),u=l.sources,c=Object.keys(u).length>1?1:0;for(var h in u)if(u.hasOwnProperty(h)){var d="",p="",g=null,f=null,m=null,v=null;if(l.metadata)for(var y in l.metadata)if(l.metadata.hasOwnProperty(y)){var A=y.split(":");if("geoportail"===A[0]){var _=A[1];if("title"===_){d=l.metadata[y];continue}if("description"===_){p=l.metadata[y];continue}if("quicklookUrl"===_){g=l.metadata[y];continue}if("legends"===_){f=l.metadata[y];continue}if("metadata"===_){m=l.metadata[y];continue}if("originators"===_){v=l.metadata[y];continue}}}d||(d="Couche MapBox"),p||(p="Couche MapBox"),d=c?d+"("+h+")":d;var C=u[h],I=C.type;if("vector"===I){var E=C.url,w=C.tiles,b=l.sprite;if(E&&0===E.indexOf("mapbox://")){var x=this._url;if(x){if(w=["a","b","c","d"].map((function(e){var t=E.replace("mapbox://",""),n=x.split("?")[1];return"https://"+e+".tiles.mapbox.com/v4/"+t+"/{z}/{x}/{y}.vector.pbf?"+n})),0===b.indexOf("mapbox://")){var S=x.split("?");l.sprite=S[0]+"/sprite?"+S[1]}}else TE.warn("Not yet implemented, can't use the local import scheme with a 'mapbox://' in the file.!")}if(w)o=new _r({featureClass:Pt.A}),r=new be({attributions:C.attribution,format:o,urls:w}),r._title=d,r._description=p,r._quicklookUrl=g,r._metadata=m,r._legends=f,r._originators=v,r.on("tileloadstart",(function(e){s._loadingContainer.className="GPmapLoadingVisible"})),r.on("tileloadend",(function(e){s._loadingContainer.className=""})),r.on("tileloaderror",(function(e){s._loadingContainer.className=""})),i=new or({source:r,visible:!1,declutter:!0}),i.id=h,i.gpResultLayerId="layerimport:"+this._currentImportType;else if(E){o=new _r({featureClass:Pt.A}),i=new or({visible:!1,declutter:!0}),i.id=h,i.gpResultLayerId="layerimport:"+this._currentImportType;var P=new lr({url:E}),M=P.on("change",(function(){if("ready"===P.getState()){for(var e=P.getTileJSON(),t=Array.isArray(e.tiles)?e.tiles:[e.tiles],n=0;n<t.length;n++){var a=t[n];0!==a.indexOf("http")&&(t[n]=E+a)}r=new be({attributions:P.getAttributions()||e.attribution,format:o,tileGrid:ae({extent:C.bounds,maxZoom:C.maxzoom||22,minZoom:C.minzoom||1,tileSize:C.tileSize||256}),urls:t}),r._title=d,r._description=p,r._quicklookUrl=g,r._metadata=m,r._legends=f,r._originators=v,r.on("tileloadstart",(function(e){s._loadingContainer.className="GPmapLoadingVisible"})),r.on("tileloadend",(function(e){s._loadingContainer.className=""})),i.setSource(r),i.set("mapbox-extension",e["vector_layers"]),(0,Cr.e)(M)}}))}}else{if("geojson"!==I)return void TE.warn("Type MapBox format unknown !");var k=C.data;o=new Ci,r=new be({attributions:C.attribution,format:o,url:k}),r._title=d,r._description=p,r._quicklookUrl=g,r._metadata=m,r._legends=f,r._originators=v,i=new or({source:r,visible:!1,declutter:!0}),i.id=h,i.gpResultLayerId="layerimport:"+this._currentImportType}var R=JSON.parse(JSON.stringify(l));if(c){for(var T=R.layers,L=0;L<T.length;L++){var G=T[L];G.source===h||T.splice(L,1)}for(var O in R.sources)R.sources.hasOwnProperty(O)&&O!==h&&delete R.sources[O]}var D={id:h,styles:R,layer:i,options:{title:t||d,description:p,quicklookUrl:g,metadata:m,legends:f,originators:v}};(function(e){var t=()=>{Vu(e.layer,e.styles,e.id).then((function(){var t=!0;e.layer.setVisible(t);var n=1;e.layer.setOpacity(n)})).then((function(){var t=n.getView().getProjection().getCode();n.getView()&&e.styles.center&&e.styles.center.length&&n.getView().setCenter((0,ne.pd)(e.styles.center,"EPSG:4326",t)),n.getView()&&(e.styles.zoom||0===e.styles.zoom)&&n.getView().setZoom(e.styles.zoom);var i=e.layer.getSource();if(n.getView()&&n.getSize()&&i.getExtent){var r=i.getExtent();r&&r[0]!==1/0&&n.getView().fit(i.getExtent(),n.getSize())}})).then((function(){s._formContainer.style.display="none",s._importPanelHeader.style.display="none";var t=new pE({target:s._mapBoxResultsListContainer,style:JSON.parse(JSON.stringify(e.styles)),scope:this,events:{"editor:onloaded":s._onLoadedMapBox,"editor:layer:onclickvisibility":s._onChangeVisibilitySourceMapBox,"editor:style:scale:onchangemin":s._onChangeScaleMinSourceMapBox,"editor:style:scale:onchangemax":s._onChangeScaleMaxSourceMapBox,"editor:legend:onchangevalue":s._onChangeLegendValueSourceMapBox,"editor:legend:onclickedition":s._onDisplayLayerSourceMapBox},tools:s.options.vectorStyleOptions.MapBox.editor});return t.setContext("map",n),t.setContext("layer",e.layer),t.createElement().then((function(){if(0===t.getLayers().length)throw new Error("Il n'existe pas de styles pour la source demandée !?")})).then((function(){s.options.vectorStyleOptions.MapBox.display&&(s._mapBoxPanel.style.display="block")})).then((function(){var e=s._mapBoxResultsListContainer.getElementsByClassName("GPEditorMapBoxLayerTitleLabel");for(let t=0;t<e.length;t++){const n=e[t];"bckgrd"===n.textContent&&(n.textContent="Couleur de remplissage")}})).then((function(){e.layer.set("mapbox-editor",t.getID()),setTimeout((function(){n.dispatchEvent({id:t.getID(),type:"editor:loaded",style:e.styles,layer:e.layer})}),100)})).catch((function(e){throw e}))})).then((function(){n.dispatchEvent({id:e.id,type:"render:success",style:e.styles})})).catch((function(t){TE.error(t),n.dispatchEvent({id:e.id,type:"render:failure",error:t})}))};TE.warn(e.layer);var i=n.get("mapbox-styles")||{},r=e.id;i[r]=e.styles,n.set("mapbox-styles",i),e.layer.set("mapbox-styles",e.styles),n.addLayer(e.layer),e.layer.getSource()?t():e.layer.once("change:source",t),n.getControls().forEach((t=>{t instanceof Pd&&t.addLayer(e.layer,e.options)}))})(D)}}else{"KML"===this._currentImportType?(a=this.options.vectorStyleOptions.KML.defaultStyle,o=new fi({showPointNames:this.options.vectorStyleOptions.KML.showPointNames,extractStyles:this.options.vectorStyleOptions.KML.extractStyles,defaultStyle:[a]})):"GPX"===this._currentImportType?(a=this.options.vectorStyleOptions.GPX.defaultStyle,o=new yi({defaultStyle:a})):"GeoJSON"===this._currentImportType&&(a=this.options.vectorStyleOptions.GeoJSON.defaultStyle,o=new Ci({defaultStyle:a}));var N=o.readProjection(e),F=this._getMapProjectionCode(),U=null;U=o.readFeatures(e,{dataProjection:N,featureProjection:F}),TE.log("loaded features : ",U),r=new Se.A({features:new xt.A}),r.addFeatures(U),TE.trace(r),r._title=r._description=t,i=new kt.A({source:r,style:a}),i.gpResultLayerId="layerimport:"+this._currentImportType;var B=o.readRootExtensions("geoportail:compute");if(B&&0!==Object.keys(B).length){var j={route:{class:P_,name:"itineraire"},isocurve:{class:L_,name:"isocurve"},elevationpath:{class:RE,name:"profil altimetrique"}},z=B.type,W=B.transport;if(z){var V=j[z].name,Y=W?V+" ("+W+")":V,H=j[z].class;if(H){i.gpResultLayerId="layerimport:COMPUTE",i.set("control",z),i.set("name",V),i.set("graph",W),i.set("data",B),i.set("title",Y);var q=new Ci({defaultStyle:a}),X=q.writeFeatures(U,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"});i.set("geojson",X),this.getMap().getControls().forEach((e=>{e instanceof H&&(e.setData(B),e.setLayer(i),e.init())}))}}}if(n.addLayer(i),n.getView()&&n.getSize()&&r.getExtent){var Z=r.getExtent();Z&&Z[0]!==1/0&&n.getView().fit(r.getExtent(),n.getSize())}}}}_addFeaturesFromImportStaticLayerUrl(e,t){var n,i,r,o=this.getMap();if(o&&e&&("MAPBOX"===this._currentImportType?TE.trace("Not yet implemented !"):("KML"===this._currentImportType?r=new fi({showPointNames:!0,extractStyles:this.options.vectorStyleOptions.KML.extractStyles,defaultStyle:[this.options.vectorStyleOptions.KML.defaultStyle]}):"GPX"===this._currentImportType?r=new yi({defaultStyle:this.options.vectorStyleOptions.GPX.defaultStyle}):"GeoJSON"===this._currentImportType&&(r=new Ci({defaultStyle:this.options.vectorStyleOptions.GeoJSON.defaultStyle})),n=new Se.A({url:e,format:r}),"GPX"===this._currentImportType&&n.forEachFeature((function(e){null==e.getStyle()&&(TE.log("[ol.control.LayerImport] set default style for GPX feature"),e.setStyle(this.options.vectorStyleOptions.GPX.defaultStyle))})),"GeoJSON"===this._currentImportType&&n.forEachFeature((function(e){null==e.getStyle()&&(TE.log("[ol.control.LayerImport] set default style for GeoJSON feature"),e.setStyle(this.options.vectorStyleOptions.GeoJSON.defaultStyle))})),n._title=n._description=t,i=new kt.A({source:n})),i.gpResultLayerId="layerimport:"+this._currentImportType,o.addLayer(i),o.getView()&&o.getSize()&&n.getExtent)){var a=n.getExtent();a&&a[0]!==1/0&&o.getView().fit(n.getExtent(),o.getSize())}}_onLoadedMapBox(e){var t=e.target.data.obj,n=this.getContext("layer");n.get("mapbox-source")===t.source&&(n.get("mapbox-editor"),e.target.editorID)}_onChangeVisibilitySourceMapBox(e){var t=e.target.data.obj,n=e.target.srcElement,i=this.getContext("layer");if(i.get("mapbox-source")===t.source&&i.get("mapbox-editor")===e.target.editorID){for(var r=i.get("mapbox-styles"),o=r.layers,a=0;a<o.length;a++)if(o[a].id===t.id){var s=o[a].layout;s?s.visibility=n.checked?"visible":"none":o[a].layout={visibility:n.checked?"visible":"none"};break}Vu(i,r,t.source).then((function(){})).catch((function(e){TE.error(e)}))}}_onChangeScaleMinSourceMapBox(e){var t=e.target.data.obj,n=e.target.srcElement,i=this.getContext("layer");if(i.get("mapbox-source")===t.source&&i.get("mapbox-editor")===e.target.editorID){for(var r=i.get("mapbox-styles"),o=r.layers,a=0;a<o.length;a++)if(o[a].id===t.id){o[a].minzoom=n.value,n.title=n.value;break}Vu(i,r,t.source).then((function(){})).catch((function(e){TE.error(e)}))}}_onChangeScaleMaxSourceMapBox(e){var t=e.target.data.obj,n=e.target.srcElement,i=this.getContext("layer");if(i.get("mapbox-source")===t.source&&i.get("mapbox-editor")===e.target.editorID){for(var r=i.get("mapbox-styles"),o=r.layers,a=0;a<o.length;a++)if(o[a].id===t.id){o[a].maxzoom=n.value,n.title=n.value;break}Vu(i,r,t.source).then((function(){})).catch((function(e){TE.error(e)}))}}_onChangeLegendValueSourceMapBox(e){var t=e.target.data.obj,n=e.target.srcElement,i=this.getContext("layer");if(i.get("mapbox-source")===t.source&&i.get("mapbox-editor")===e.target.editorID){for(var r=i.get("mapbox-styles"),o=r.layers,a=0;a<o.length;a++)if(o[a].id===t.id){var s=o[a].paint;s&&(s[n.dataset.id]=n.value);break}Vu(i,r,t.source).then((function(){})).catch((function(e){TE.error(e)}))}}_onDisplayLayerSourceMapBox(e){var t=e.target.data.obj,n=this.getContext("layer");if(n.get("mapbox-source")===t.source&&n.get("mapbox-editor")===e.target.editorID){var i=e.target.currentTarget.parentNode.id,r=i.substring(i.indexOf("-")+1,i.indexOf("_")),o=this.getLayer(r);o.collapse()}}_importServiceLayers(){if("WFS"!==this._currentImportType){this.cleanGetCapResultsList();var e=this._getCapRequestUrl=this._serviceUrlImportInput.value;if(e){TE.log("url : ",e),e.trim&&(e=e.trim());var t=e.indexOf("?");t<0?e+="?SERVICE="+this._currentImportType+"&REQUEST=GetCapabilities":t===e.length-1&&(e+="SERVICE="+this._currentImportType+"&REQUEST=GetCapabilities"),this.options.webServicesOptions&&this.options.webServicesOptions.proxyUrl&&(e=jn.proxifyUrl(e,this.options.webServicesOptions)),this._displayWaitingContainer();var n=this;Dn.Ay.Protocols.XHR.call({url:e,method:"GET",timeOut:15e3,onResponse:function(e){n._hideWaitingContainer(),n._displayGetCapResponseLayers(e)},onFailure:function(e){n._hideWaitingContainer(),TE.error("[ol.control.LayerImport] getCapabilities request failed : ",e)}})}else TE.error("[ol.control.LayerImport] url parameter is mandatory")}else TE.warn("[ol.control.LayerImport] WFS layer import is not implemented yet")}_displayGetCapResponseLayers(e){var t,n,i,r={content:null,title:null};if(this._getCapResponseWMSLayers=[],this.contentService=e,this._importPanel.style.display="none",this._getCapPanel.style.display="block","WMS"===this._currentImportType){t=new LC;var o=this._getCapResponseWMS=t.read(e);if(TE.log("getCapabilities response : ",o),o&&o.Capability&&o.Capability.Layer){var a=o.Capability.Layer;if(Array.isArray(a))for(var s=0;s<a.length;s++)this._displayGetCapResponseWMSLayer(a[s]);else this._displayGetCapResponseWMSLayer(a)}}else if("WMTS"===this._currentImportType){t=new FI;var l=this._getCapResponseWMTS=t.read(e);if(TE.log("getCapabilities response : ",l),l&&l.Contents&&l.Contents.Layer&&(n=l.Contents.Layer,Array.isArray(n))){this._getCapResponseWMTSLayers=n;for(var u=0;u<n.length;u++)if(i=this._getWMTSLayerProjection(n[u],l),i&&"string"===typeof i){if(!(0,ne.Jt)(i)&&!(0,ne.Jt)(i.toUpperCase())){TE.warn("[ol.control.LayerImport] wmts layer cannot be added to map : unknown projection",n[u]);continue}r={content:n[u].Title,title:n[u].Abstract||n[u].Title},this._getCapResultsListContainer&&this._addImportGetCapResultLayer(r,u,this._getCapResultsListContainer)}}}}_displayGetCapResponseWMSLayer(e,t){if(e){TE.log("[ol.control.LayerImport] _displayGetCapResponseWMSLayer - layerObj : ",e);var n,i=this._getMapProjectionCode(),r={content:null,title:null};if(t){var o,a,s=["CRS","Style"];for(a=0;a<s.length;a++)if(o=s[a],Array.isArray(t[o])&&0!==t[o].length)if(Array.isArray(e[o])&&0!==e[o].length)for(var l=0;l<t[o].length;l++)-1===e[o].indexOf(t[o][l])&&e[o].push(t[o][l]);else e[o]=t[o];var u=["BoundingBox","EX_GeographicBoundingBox","MaxScaleDenominator","MinScaleDenominator","Attribution","Dimension","queryable","cascaded","opaque","noSubsets","fixedWidth","fixedHeight"];for(a=0;a<u.length;a++)o=u[a],t[o]&&!e[o]&&(e[o]=t[o])}else e._isRootLayer=!0,e._container=this._getCapResultsListContainer,e.Title||(e.Title="Liste des couches");if(e.Layer){if(Array.isArray(e.Layer)){var c=e?e._container:t._container,h=e?e.Title:t.Title;e._container=this._addImportGetCapResultListRubrique(h,c).lastChild;for(var d=0;d<e.Layer.length;d++){for(var p=!1,g=e._container.getElementsByClassName("GPimportGetCapRubriqueTitle"),f=0;f<g.length;f++)g[f].title===e.Title&&(p=!0,e.Layer[d]._container=g[f].parentElement);p||(e.Layer[d]._container=this._addImportGetCapResultRubrique(e.Title,e._container).lastChild),this._displayGetCapResponseWMSLayer(e.Layer[d],e)}}}else{var m=this._getCapResponseWMSLayers.length;if(n=this._getWMSLayerProjection(e,i),n){e._projection=n,r={content:e.Title,title:e.Abstract||e.Title};var v=e._container;"ul"===v.localName&&(v=v.lastChild),this._addImportGetCapResultLayer(r,m,v),this._getCapResponseWMSLayers[m]=e}else TE.warn("[ol.control.LayerImport] wms layer cannot be added to map : unknown projection",e)}}else TE.warn("[ol.control.LayerImport] _displayGetCapResponseWMSLayer : getCapabilities layer object not found")}_onGetCapResponseLayerClick(e){if(e.target&&e.target.id){var t,n=parseInt(e.target.id.substr(23),10);if(isNaN(n))return;"WMS"===this._currentImportType?(t=this._getCapResponseWMSLayers[n],this._addGetCapWMSLayer(t)):"WMTS"===this._currentImportType&&(t=this._getCapResponseWMTSLayers[n],this._addGetCapWMTSLayer(t))}}_addGetCapWMSLayer(e){var t=this.getMap();if(t)if(e){var n=this._getMapProjectionCode(),i={},r=this._getWMSLayerGetMapUrl();if(r)i.url=r;else{var o=this._getCapRequestUrl.indexOf("?");i.url=-1!==o?this._getCapRequestUrl.substring(0,o):this._getCapRequestUrl}if(i.params={},e.Name){i.params["LAYERS"]=e.Name,i.params["SERVICE"]="WMS",this._getCapResponseWMS.version&&(i.params["VERSION"]=this._getCapResponseWMS.version);var a=e._projection;if(a){var s;if(a!==n&&(i.projection=a),e.Style&&Array.isArray(e.Style)){var l=e.Style[0];i.params["STYLES"]=l.Name,l.LegendURL&&Array.isArray(l.LegendURL)&&0!==l.LegendURL.length&&(s=l.LegendURL[0].OnlineResource)}var u=new _t(i);this._getWMSLayerInfoForLayerSwitcher(e,s,u);var c={};c["source"]=u,this._getWMSLayerMinMaxResolution(e,n,c),this._getWMSLayerExtent(e,n,c);var h=new Wi(c);h.gpResultLayerId="layerimport:WMS",e.queryable&&(h.gpGFIparams={queryable:!0},this._getCapResponseWMS&&this._getCapResponseWMS.Capability&&this._getCapResponseWMS.Capability.Request&&this._getCapResponseWMS.Capability.Request.GetFeatureInfo&&this._getCapResponseWMS.Capability.Request.GetFeatureInfo.Format&&Array.isArray(this._getCapResponseWMS.Capability.Request.GetFeatureInfo.Format)&&(h.gpGFIparams.formats=this._getCapResponseWMS.Capability.Request.GetFeatureInfo.Format)),t.addLayer(h)}else TE.warn("[ol.control.LayerImport] wms layer cannot be added to map : unknown projection")}else TE.warn("[ol.control.LayerImport] unable to add wms layer : mandatory layer 'name' parameter cannot be found",e)}else TE.warn("[ol.control.LayerImport] _addGetCapWMSLayer error : layerInfo is not defined");else TE.warn("[ol.control.LayerImport] _addGetCapWMSLayer error : map is not defined")}_getWMSLayerGetMapUrl(){var e;if(this._getCapResponseWMS&&this._getCapResponseWMS.Capability&&this._getCapResponseWMS.Capability.Request&&this._getCapResponseWMS.Capability.Request.GetMap){var t=this._getCapResponseWMS.Capability.Request.GetMap;if(t.DCPType&&Array.isArray(t.DCPType)&&0!==t.DCPType.length){var n=t.DCPType[0];n&&n.HTTP&&n.HTTP.Get&&(e=n.HTTP.Get.OnlineResource)}}return e}_getWMSLayerProjection(e,t){var n;if(e&&"object"===typeof e){var i=e.CRS;if(Array.isArray(i)){if(i.includes(t))return n=t,n;var r,o;for(o=0;o<i.length;o++)if(r=i[o],r&&"string"===typeof r&&((0,ne.Jt)(r)||(0,ne.Jt)(r.toUpperCase())))return n=r,n}return n}TE.warn("missing layer information (from getCapabilities)")}_getWMSLayerMinMaxResolution(e,t,n){var i=(0,ne.Jt)(t).getUnits();if("m"===i)e.MinScaleDenominator&&(n.minResolution=28e-5*e.MinScaleDenominator),e.MaxScaleDenominator&&(n.maxResolution=28e-5*e.MaxScaleDenominator);else if("degrees"===i){var r=28e-5*180/(6378137*Math.PI);e.MinScaleDenominator&&(n.minResolution=e.MinScaleDenominator*r),e.MaxScaleDenominator&&(n.maxResolution=e.MaxScaleDenominator*r)}}_getWMSLayerExtent(e,t,n){if(e){var i=e["EX_GeographicBoundingBox"],r=e.BoundingBox;if(i&&Array.isArray(i))n.extent="EPSG:4326"===t?i:(0,ne.DI)(i,"EPSG:4326",t);else if(r&&Array.isArray(r))for(var o,a,s=0;s<r.length;s++)if(o=r[s].crs,a=r[s].extent,o){if(o===t){n.extent=a;break}if("string"===typeof o){var l=(0,ne.Jt)(o)?(0,ne.Jt)(o):(0,ne.Jt)(o.toUpperCase());if(l){if("degrees"===l.getUnits()&&0===o.toUpperCase().indexOf("EPSG")){var u=[a[1],a[0],a[3],a[2]];n.extent=(0,ne.DI)(u,l,t)}else n.extent=(0,ne.DI)(a,l,t);break}}}}else TE.warn("[ol.control.LayerImport] _getWMSLayerExtent error : layerInfo is not defined")}_getWMSLayerInfoForLayerSwitcher(e,t,n){if(e.Title?(n._title=e.Title,n._description=e.Abstract?e.Abstract:e.Title):(n._title=e.Name,n._description=e.Abstract?e.Abstract:e.Name),t&&(n._legends=[{url:t}]),e.MetadataURL&&Array.isArray(e.MetadataURL)){n._metadata=[];for(var i=0;i<e.MetadataURL.length;i++){var r=e.MetadataURL[i].OnlineResource;r&&n._metadata.push({url:r})}}if(e.Attribution){var o=e.Attribution;n._originators={},o.OnlineResource&&(n._originators.url=o.OnlineResource),o.Title&&(n._originators.name=n._originators.attribution=o.Title),o.LogoURL&&o.LogoURL.OnlineResource&&(n._originators.logo=o.LogoURL.OnlineResource)}}_addGetCapWMTSLayer(e){if(e&&e.Identifier){var t=this.getMap();if(t){var n={};n.layer=e.Identifier,this._getCapResponseWMTS.version&&(n.version=this._getCapResponseWMTS.version);var i=this._getWMTSLayerGetTileUrl();if(i)n.url=i;else{var r=this._getCapRequestUrl.indexOf("?");n.url=-1!==r?this._getCapRequestUrl.substring(0,r):this._getCapRequestUrl}var o,a,s,l=this._getTMSParams(e);if(n.matrixSet=l.tms,n.projection=l.projCode,n.tileGrid=new bi({resolutions:l.resolutions,matrixIds:l.matrixIds,origin:l.origin}),e.Style&&Array.isArray(e.Style))for(var u,c=0;c<e.Style.length;c++){if(u=e.Style[c],o=u.Identifier,u.isDefault)break;u.LegendURL&&Array.isArray(u.LegendURL)&&0!==u.LegendURL.length&&(a=u.LegendURL[0].href)}null==o&&TE.warn("[ol.control.LayerImport] style information not found in getCapabilities response for layer "+e.Identifier),n.style=o,e.Format&&Array.isArray(e.Format)&&(s=e.Format[0]),null==s&&TE.warn("[ol.control.LayerImport] format information not found in getCapabilities response for layer "+e.Identifier),n.format=s;var h=new It(n);e.Title?(h._title=e.Title,h._description=e.Abstract?e.Abstract:e.Title):(h._title=e.Identifier,h._description=e.Abstract?e.Abstract:e.Identifier),a&&(h._legends=[{url:a}]);var d,p={};p.source=h,p.extent=this._getWMTSLayerExtent(e);try{d=new Wi(p)}catch(nw){return void TE.warn("[ol.control.LayerImport] an error occured while trying to create ol.layer.Tile from getCapabilities information. error : ",nw)}d.gpResultLayerId="layerimport:WMTS",t.addLayer(d)}}else TE.warn("[ol.control.LayerImport] layer information not found in getCapabilities response for layer ")}_getWMTSLayerGetTileUrl(){var e;if(this._getCapResponseWMTS&&this._getCapResponseWMTS.OperationsMetadata&&this._getCapResponseWMTS.OperationsMetadata.GetTile){var t=this._getCapResponseWMTS.OperationsMetadata.GetTile;t.DCP&&t.DCP.HTTP&&t.DCP.HTTP.Get&&Array.isArray(t.DCP.HTTP.Get)&&0!==t.DCP.HTTP.Get.length&&(e=t.DCP.HTTP.Get[0].href)}return e}_getWMTSLayerProjection(e,t){var n;if(e&&"object"===typeof e){if(t&&"object"===typeof t){if(e.TileMatrixSetLink&&Array.isArray(e.TileMatrixSetLink)){var i,r=e.TileMatrixSetLink[0].TileMatrixSet;if(t.Contents&&Array.isArray(t.Contents.TileMatrixSet))for(var o=t.Contents.TileMatrixSet,a=0;a<o.length;a++)if(o[a].Identifier===r&&o[a].TileMatrix){var s=o[a];i=s.SupportedCRS,i&&"string"===typeof i&&((0,ne.Jt)(i)||(0,ne.Jt)(i.toUpperCase()))&&(n=i);break}}return n}TE.warn("missing getCapabilities response")}else TE.warn("missing layer information (from getCapabilities)")}_getTMSParams(e){var t,n,i,r={},o=[],a=[],s=[],l=this.getMap();if(l&&e.TileMatrixSetLink&&Array.isArray(e.TileMatrixSetLink)){if(t=e.TileMatrixSetLink[0].TileMatrixSet,this._getCapResponseWMTS.Contents&&Array.isArray(this._getCapResponseWMTS.Contents.TileMatrixSet)){for(var u=this._getCapResponseWMTS.Contents.TileMatrixSet,c=0;c<u.length;c++)if(u[c].Identifier===t&&u[c].TileMatrix){var h,d,p,g,f,m=u[c];if(m.SupportedCRS&&(n=m.SupportedCRS,i=(0,ne.Jt)(n)),i&&i.getUnits&&(f=i.getUnits()),Array.isArray(m.TileMatrix))for(var v=0;v<m.TileMatrix.length;v++)h=m.TileMatrix[v],null!=h.Identifier&&(d=parseInt(h.Identifier,10),o.push(d)),p=h.ScaleDenominator,g="degrees"===f?28e-5*p*180/(6378137*Math.PI):28e-5*p,a.push(g),s=h.TopLeftCorner;void 0!==a.sort&&a.sort((function(e,t){return t-e})),void 0!==o.sort&&o.sort((function(e,t){return e-t}))}}else TE.warn("[ol.control.LayerImport] TileMatrixSet data not found in getCapabilities response for layer "+e.Identifier);return r.tms=t,r.projCode=n,r.matrixIds=o,r.resolutions=a,r.origin=s,r}}_getWMTSLayerExtent(e){var t,n=this._getMapProjectionCode();return e.WGS84BoundingBox&&Array.isArray(e.WGS84BoundingBox)&&(t=(0,ne.DI)(e.WGS84BoundingBox,"EPSG:4326",n)),t}_getMapProjectionCode(){var e=this.getMap();if(e&&e.getView&&e.getView().getProjection){var t=e.getView().getProjection().getCode();return t}TE.warn("unable to get layerimport's map")}_displayWaitingContainer(){this._waitingContainer.className="GPwaitingContainer GPwaitingContainerVisible gpf-waiting gpf-waiting--visible",this._waiting=!0,this._timer&&(clearTimeout(this._timer),this._timer=null);var e=this;this._timer=setTimeout((function(){!0===e._waiting?e._hideWaitingContainer():e._timer&&clearTimeout(e._timer)}),16e3)}_hideWaitingContainer(){this._waiting&&(this._waitingContainer.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden",this._waiting=!1,clearTimeout(this._timer),this._timer=null)}cleanGetCapResultsList(){if(this._getCapRequestUrl=null,this._getCapResponseWMS=null,this._getCapResponseWMTS=null,this._getCapResponseWMSLayers=null,this._getCapResponseWMTSLayers=null,this._getCapResultsListContainer)while(this._getCapResultsListContainer.firstChild)this._getCapResultsListContainer.removeChild(this._getCapResultsListContainer.firstChild)}cleanMapBoxResultsList(){if(this._hasMapBoxResults=!1,this._mapBoxResultsListContainer)while(this._mapBoxResultsListContainer.firstChild)this._mapBoxResultsListContainer.removeChild(this._mapBoxResultsListContainer.firstChild)}cleanMapBoxResults(e){if(this._hasMapBoxResults=!1,this._mapBoxResultsListContainer){var t=this._mapBoxResultsListContainer.childNodes;for(let n=0;n<t.length;n++){const i=t[n];i.id==="GPEditorMapBoxContainer_ID_"+e&&i.remove()}}}};Object.assign(LE.prototype,fE);var GE=LE;window.ol&&window.ol.control&&(window.ol.control.LayerImport=LE);var OE=n(8641),DE=Un.getLogger("geoportalattribution"),NE=class e extends OE.A{constructor(t){if(t=t||{},t.collapsible=!0,t.collapsed=!0,super(t),!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return this}setMap(t){if(null!=t){var n=t.getControls();n.forEach((t=>{if(!(t instanceof e)&&t)for(var i=t.element.classList,r=0;r<i.length;r++)if("ol-attribution"===i[r]){n.remove(t);break}})),this._updateAttributions(t),t.on("moveend",(()=>{this._updateAttributions(t)})),t.getLayers().on("add",(()=>{this._updateAttributions(t)})),t.getLayers().on("remove",(()=>{this._updateAttributions(t)}))}super.setMap(t)}_updateAttributions(e){for(var t={},n=e.getView(),i=n.calculateExtent(e.getSize()),r=n.getProjection().getCode(),o=(0,ne.DI)(i,r,"EPSG:4326"),a=[o[3],o[0],o[1],o[2]],s=n.getZoom(),l=e.getLayers().getArray(),u=0;u<l.length;u++)if(l[u].getSource)this._updateLayerAttributions(l[u],t,a,r,s);else if(l[u].getLayers){var c=l[u].getLayers();c.forEach((e=>{e.getSource?this._updateLayerAttributions(e,t,a,r,s):DE.log("cannot find layer source in layergroup ",l[u])}))}}_updateLayerAttributions(e,t,n,i,r){if(e){var o=e.getSource();if(o){t||(t={});var a=[],s=e.getVisible(),l=o._originators;if("undefined"!==typeof l&&o.setAttributions(),l&&s){for(var u=Si.getAttributions({extent:n,crs:i,zoom:r,visibility:s,originators:l}),c=0;c<u.length;c++){var h=u[c];t.hasOwnProperty(h)||(a.push(h),t[h]=!0)}0!==a.length&&(o.setAttributions(a),this.dispatchEvent({type:"attributions:update",attributions:a}))}}else DE.trace("source is not yet loaded !")}else DE.trace("layer is null !?")}},FE=NE;window.ol&&window.ol.control&&(window.ol.control.GeoportalAttribution=NE);var UE={_addUID:function(e){var t=this._uid?e+"-"+this._uid:e;return t},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPmeasureLength"),e.className="GPwidget gpf-widget",e},_createShowMeasureLengthPictoElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPshowMeasureLengthPicto"),t.className="GPshowOpen GPshowAdvancedToolPicto gpf-btn fr-btn",t.title="Mesurer une distance",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener?t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowMeasureLengthClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowMeasureLengthClick(t)})),t}},BE=UE,jE=Un.getLogger("measurelength"),zE=class e extends Qu{constructor(t){if(t=t||{},super({element:t.element,target:t.target,render:t.render}),!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return this.CLASSNAME="MeasureLength",this._uid=nc.generate(),this._pictoContainer=null,this._initialize(t),this._container=this._initializeContainer(),this.element?this.element.appendChild(this._container):this.element=this._container,this}setMap(e){jE.trace("setMap()");var t=this.CLASSNAME;e?this.options.target||this.options.position||CE.add(e,this):this.clean(),this.tools[t].push({instance:e?this:null,active:!1,map:e?e.getTargetElement().id:null});var n="undefined"!==typeof window?window:"undefined"!==typeof self?self:null;n&&(n.gpShareMeasures||(n.gpShareMeasures={}),n.gpShareMeasures[t]=this.tools[t]),super.setMap(e),this.options.position&&this.setPosition(this.options.position)}_initialize(e){jE.trace("call MeasureLength::_initialize() : ",e),this.options={},this.options.geodesic="undefined"===typeof e.geodesic||e.geodesic,this.options.position="undefined"!==typeof e.position?e.position:null,this.options.target="undefined"!==typeof e.target?e.target:null,this.options.render="undefined"!==typeof e.render?e.render:null,this.options.layerDescription="undefined"!==typeof e.layerDescription?e.layerDescription:{title:"Mesures de distance",description:"Mes mesures"},this.createStylingMeasureInteraction(e.styles)}_initializeContainer(){jE.trace("call MeasureLength::_initializeContainer() : ",this._uid);var e=this._createMainContainerElement(),t=this._pictoContainer=this._createShowMeasureLengthPictoElement();return e.appendChild(t),e}addMeasureEvents(){jE.trace("call MeasureLength::addMeasureEvents()");var e=this.getMap();e.on("singleclick",(e=>this.onPointerMoveHandler(e))),e.on("pointermove",(e=>this.onPointerMoveHandler(e)))}removeMeasureEvents(){jE.trace("call MeasureLength::removeMeasureEvents()");var e=this.getMap();e.un("singleclick",(e=>this.onPointerMoveHandle(e))),e.un("pointermove",(e=>this.onPointerMoveHandler(e)))}format(e){jE.trace("call MeasureLength::format()");var t,n,i=this.getMap();if(this.options.geodesic){var r=e.getCoordinates();t=0;for(var o=i.getView().getProjection(),a=0,s=r.length-1;a<s;++a){var l=(0,ne.pd)(r[a],o,"EPSG:4326"),u=(0,ne.pd)(r[a+1],o,"EPSG:4326");t+=(0,i_.Yf)(l,u)}}else t=Math.round(100*e.getLength())/100;return n=t>1e3?Math.round(t/1e3*100)/100+" km":Math.round(100*t)/100+" m",n}onShowMeasureLengthClick(e){jE.trace("call MeasureLength::onShowMeasureLengthClick()",e),this.onShowMeasureClick(e,"LineString")}};Object.assign(zE.prototype,wE),Object.assign(zE.prototype,BE);var WE=zE;window.ol&&window.ol.control&&(window.ol.control.MeasureLength=zE);var VE={_addUID:function(e){var t=this._uid?e+"-"+this._uid:e;return t},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPmeasureArea"),e.className="GPwidget gpf-widget",e},_createShowMeasureAreaPictoElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPshowMeasureAreaPicto"),t.className="GPshowOpen GPshowAdvancedToolPicto gpf-btn fr-btn",t.title="Mesurer une surface",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener?t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowMeasureAreaClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowMeasureAreaClick(t)})),t}},YE=VE,HE=Un.getLogger("measurearea"),qE=class e extends Qu{constructor(t){if(t=t||{},super({element:t.element,target:t.target,render:t.render}),!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return this.CLASSNAME="MeasureArea",this._uid=nc.generate(),this._pictoContainer=null,this._initialize(t),this._container=this._initializeContainer(),this.element?this.element.appendChild(this._container):this.element=this._container,this}setMap(e){HE.trace("setMap()");var t=this.CLASSNAME;e?this.options.target||this.options.position||CE.add(e,this):this.clean(),this.tools[t].push({instance:e?this:null,active:!1,map:e?e.getTargetElement().id:null});var n="undefined"!==typeof window?window:"undefined"!==typeof self?self:null;n&&(n.gpShareMeasures||(n.gpShareMeasures={}),n.gpShareMeasures[t]=this.tools[t]),super.setMap(e),this.options.position&&this.setPosition(this.options.position)}_initialize(e){HE.trace("call MeasureArea::_initialize() : ",e),this.options={},this.options.geodesic="undefined"===typeof e.geodesic||e.geodesic,this.options.position="undefined"!==typeof e.position?e.position:null,this.options.target="undefined"!==typeof e.target?e.target:null,this.options.render="undefined"!==typeof e.render?e.render:null,this.options.layerDescription="undefined"!==typeof e.layerDescription?e.layerDescription:{title:"Mesures de surface",description:"Mes mesures"},this.createStylingMeasureInteraction(e.styles)}_initializeContainer(){HE.trace("call MeasureArea::_initializeContainer() : ",this._uid);var e=this._createMainContainerElement(),t=this._pictoContainer=this._createShowMeasureAreaPictoElement();return e.appendChild(t),e}addMeasureEvents(){HE.trace("call MeasureArea::addMeasureEvents()");var e=this.getMap();e.on("singleclick",(e=>this.onPointerMoveHandler(e))),e.on("pointermove",(e=>this.onPointerMoveHandler(e)))}removeMeasureEvents(){HE.trace("call MeasureArea::removeMeasureEvents()");var e=this.getMap();e.un("singleclick",(e=>this.onPointerMoveHandler(e))),e.un("pointermove",(e=>this.onPointerMoveHandler(e)))}format(e){var t,n;if(HE.trace("call MeasureArea::format()"),this.options.geodesic){var i=e.clone(),r=i.getLinearRing(0).getCoordinates();t=Math.abs((0,i_.UG)(new qt.Ay([r])))}else t=e.getArea();return n=t>1e6?Math.round(t/1e6*100)/100+" km<sup>2</sup>":t>1e5?Math.round(t/1e6*1e3)/1e3+" km<sup>2</sup>":t>1e3?10*Math.round(t/10)+" m<sup>2</sup>":Math.round(100*t)/100+" m<sup>2</sup>",n}onShowMeasureAreaClick(e){HE.trace("call MeasureArea::onShowMeasureAreaClick()",e),this.onShowMeasureClick(e,"Polygon")}};Object.assign(qE.prototype,wE),Object.assign(qE.prototype,YE);var XE=qE;window.ol&&window.ol.control&&(window.ol.control.MeasureArea=qE);var ZE={_addUID:function(e){var t=this._uid?e+"-"+this._uid:e;return t},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPmeasureAzimuth"),e.className="GPwidget gpf-widget",e},_createShowMeasureAzimuthPictoElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPshowMeasureAzimuthPicto"),t.className="GPshowOpen GPshowAdvancedToolPicto gpf-btn fr-btn",t.title="Mesurer un azimut",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener?t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowMeasureAzimuthClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowMeasureAzimuthClick(t)})),t}},KE=ZE,JE=Un.getLogger("measureazimut"),QE=class e extends Qu{constructor(t){if(t=t||{},super({element:t.element,target:t.target,render:t.render}),!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return this.CLASSNAME="MeasureAzimuth",this._uid=nc.generate(),this._pictoContainer=null,this._initialize(t),this._container=this._initializeContainer(),this.element?this.element.appendChild(this._container):this.element=this._container,this}setMap(e){JE.trace("setMap()");var t=this.CLASSNAME;e?this.options.target||this.options.position||CE.add(e,this):this.clean(),this.tools[t].push({instance:e?this:null,active:!1,map:e?e.getTargetElement().id:null});var n="undefined"!==typeof window?window:"undefined"!==typeof self?self:null;n&&(n.gpShareMeasures||(n.gpShareMeasures={}),n.gpShareMeasures[t]=this.tools[t]),super.setMap(e),this.options.position&&this.setPosition(this.options.position)}setGeodesic(e){this.options.geodesic="undefined"!==typeof e&&e}isGeodesic(){return this.options.geodesic}_initialize(e){JE.trace("call MeasureAzimuth::_initialize() : ",e),this.options={},this.options.geodesic="undefined"!==typeof e.geodesic&&e.geodesic,this.options.position="undefined"!==typeof e.position?e.position:null,this.options.target="undefined"!==typeof e.target?e.target:null,this.options.render="undefined"!==typeof e.render?e.render:null,this.options.layerDescription="undefined"!==typeof e.layerDescription?e.layerDescription:{title:"Mesures d'azimuth",description:"Mes mesures"},this.createStylingMeasureInteraction(e.styles)}_initializeContainer(){JE.trace("call MeasureAzimuth::_initializeContainer() : ",this._uid);var e=this._createMainContainerElement(),t=this._pictoContainer=this._createShowMeasureAzimuthPictoElement();return e.appendChild(t),e}addMeasureEvents(){JE.trace("call MeasureAzimuth::addMeasureEvents()");var e=this.getMap();e.on("singleclick",(e=>this.onPointerMoveAzimutHandler(e))),e.on("pointermove",(e=>this.onPointerMoveAzimutHandler(e)))}removeMeasureEvents(){JE.trace("call MeasureAzimuth::removeMeasureEvents()");var e=this.getMap();e.un("singleclick",(e=>this.onPointerMoveAzimutHandler(e))),e.un("pointermove",(e=>this.onPointerMoveAzimutHandler(e)))}format(e){JE.trace("call MeasureAzimuth::format()");var t=this.getMap(),n=t.getView().getProjection(),i=(0,ne.pd)(e.getFirstCoordinate(),n,"EPSG:4326"),r=(0,ne.pd)(e.getLastCoordinate(),n,"EPSG:4326");if(!this.options.geodesic){var o=(0,i_.Yf)(i,r);if(JE.trace("measure between 2 points with geodesic method",o),o>500){var a=500/o;JE.trace("%",a),r=(0,ne.pd)(e.getCoordinateAt(a),n,"EPSG:4326")}}var s=Math.PI/180,l=180/Math.PI,u=s*i[0],c=s*r[0],h=s*i[1],d=s*r[1],p=Math.sin(c-u)*Math.cos(d),g=Math.cos(h)*Math.sin(d)-Math.sin(h)*Math.cos(d)*Math.cos(c-u),f=Math.atan2(p,g),m=l*f;JE.trace("azimut",m),m<0&&(m+=360);var v=Math.round(100*m)/100+" °";return v}onShowMeasureAzimuthClick(e){JE.trace("call MeasureAzimuth::onShowMeasureAzimuthClick()",e),this.onShowMeasureClick(e,"LineString")}onPointerMoveAzimutHandler(e){if(this.onPointerMoveHandler(e),this.sketch){var t=this.sketch.getGeometry();t.getCoordinates().length>2&&this.measureDraw.finishDrawing()}}};Object.assign(QE.prototype,wE),Object.assign(QE.prototype,KE);var $E=QE;window.ol&&window.ol.control&&(window.ol.control.MeasureAzimuth=QE);const ew=i.rE,tw=i.p6},11:function(e,t,n){"use strict";var i=n(8416);t.A=i},5603:function(e,t,n){"use strict";n.d(t,{A:function(){return h}});const i="[A-Za-z$_][0-9A-Za-z$_]*",r=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],o=["true","false","null","undefined","NaN","Infinity"],a=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],s=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],l=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],u=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],c=[].concat(l,a,s);function h(e){const t=e.regex,n=(e,{after:t})=>{const n="</"+e[0].slice(1),i=e.input.indexOf(n,t);return-1!==i},h=i,d={begin:"<>",end:"</>"},p=/<[A-Za-z0-9\\._:-]+\s*\/>/,g={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(e,t)=>{const i=e[0].length+e.index,r=e.input[i];if("<"===r||","===r)return void t.ignoreMatch();let o;">"===r&&(n(e,{after:i})||t.ignoreMatch());const a=e.input.substring(i);((o=a.match(/^\s*=/))||(o=a.match(/^\s+extends\s+/))&&0===o.index)&&t.ignoreMatch()}},f={$pattern:i,keyword:r,literal:o,built_in:c,"variable.language":u},m="[0-9](_?[0-9])*",v=`\\.(${m})`,y="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",A={className:"number",variants:[{begin:`(\\b(${y})((${v})|\\.)?|(${v}))[eE][+-]?(${m})\\b`},{begin:`\\b(${y})\\b((${v})\\b|\\.)?|(${v})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},_={className:"subst",begin:"\\$\\{",end:"\\}",keywords:f,contains:[]},C={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,_],subLanguage:"xml"}},I={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,_],subLanguage:"css"}},E={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,_],subLanguage:"graphql"}},w={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,_]},b=e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:h+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),x={className:"comment",variants:[b,e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},S=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,C,I,E,w,{match:/\$\d+/},A];_.contains=S.concat({begin:/\{/,end:/\}/,keywords:f,contains:["self"].concat(S)});const P=[].concat(x,_.contains),M=P.concat([{begin:/\(/,end:/\)/,keywords:f,contains:["self"].concat(P)}]),k={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:f,contains:M},R={variants:[{match:[/class/,/\s+/,h,/\s+/,/extends/,/\s+/,t.concat(h,"(",t.concat(/\./,h),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,h],scope:{1:"keyword",3:"title.class"}}]},T={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...a,...s]}},L={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},G={variants:[{match:[/function/,/\s+/,h,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[k],illegal:/%/},O={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function D(e){return t.concat("(?!",e.join("|"),")")}const N={match:t.concat(/\b/,D([...l,"super","import"]),h,t.lookahead(/\(/)),className:"title.function",relevance:0},F={begin:t.concat(/\./,t.lookahead(t.concat(h,/(?![0-9A-Za-z$_(])/))),end:h,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},U={match:[/get|set/,/\s+/,h,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},k]},B="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",j={match:[/const|var|let/,/\s+/,h,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(B)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[k]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:f,exports:{PARAMS_CONTAINS:M,CLASS_REFERENCE:T},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),L,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,C,I,E,w,x,{match:/\$\d+/},A,T,{className:"attr",begin:h+t.lookahead(":"),relevance:0},j,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[x,e.REGEXP_MODE,{className:"function",begin:B,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:f,contains:M}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:d.begin,end:d.end},{match:p},{begin:g.begin,"on:begin":g.isTrulyOpeningTag,end:g.end}],subLanguage:"xml",contains:[{begin:g.begin,end:g.end,skip:!0,contains:["self"]}]}]},G,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[k,e.inherit(e.TITLE_MODE,{begin:h,className:"title.function"})]},{match:/\.\.\./,relevance:0},F,{match:"\\$"+h,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[k]},N,O,R,U,{match:/\$[(.]/}]}}},6562:function(e,t,n){"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n.d(t,{A:function(){return i}})},5647:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});n(825);var i=n(4497),r=n(6287),o=n(8129);function a(e,t,n){return t=(0,i.A)(t),(0,o.A)(e,(0,r.A)()?Reflect.construct(t,n||[],(0,i.A)(e).constructor):t.apply(e,n))}},5026:function(e,t,n){"use strict";n.d(t,{A:function(){return i}});n(6280);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},2285:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});n(4114),n(825);var i=n(3677),r=n(6287);function o(e,t,n){if((0,r.A)())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,t);var a=new(e.bind.apply(e,o));return n&&(0,i.A)(a,n.prototype),a}},9492:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});var i=n(3051);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(0,i.A)(r.key),r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},3604:function(e,t,n){"use strict";n.d(t,{A:function(){return r}});n(2675),n(9463),n(2259),n(6280),n(6099),n(7764),n(2953);var i=n(2635);function r(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,i.A)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(l)throw a}}}}},3772:function(e,t,n){"use strict";n.d(t,{A:function(){return r}});var i=n(3051);function r(e,t,n){return t=(0,i.A)(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},7645:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});n(3851),n(6099),n(888),n(5472);var i=n(4497);function r(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=(0,i.A)(e),null===e)break;return e}function o(){return o="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=r(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},o.apply(this,arguments)}},4497:function(e,t,n){"use strict";n.d(t,{A:function(){return i}});n(875),n(3548),n(287);function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}},8578:function(e,t,n){"use strict";n.d(t,{A:function(){return r}});n(6280);var i=n(3677);function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,i.A)(e,t)}},6287:function(e,t,n){"use strict";n.d(t,{A:function(){return i}});n(825);function i(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(i=function(){return!!e})()}},8653:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});n(2675),n(2008),n(4114),n(3851),n(1278),n(9432),n(6099),n(3500);var i=n(3772);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},8129:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});n(6280);var i=n(4119);function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t){if(t&&("object"===(0,i.A)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return r(e)}},3677:function(e,t,n){"use strict";n.d(t,{A:function(){return i}});n(3548),n(287);function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}},8676:function(e,t,n){"use strict";function i(e){if(Array.isArray(e))return e}n.d(t,{A:function(){return s}});n(2675),n(9463),n(2259),n(4114),n(6099),n(7764),n(2953);function r(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n["return"]&&(a=n["return"](),Object(a)!==a))return}finally{if(u)throw r}}return s}}var o=n(2635);n(6280);function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){return i(e)||r(e,t)||(0,o.A)(e,t)||a()}},6701:function(e,t,n){"use strict";n.d(t,{A:function(){return i}});n(4782),n(2811);function i(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}},9258:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var i=n(6562);function r(e){if(Array.isArray(e))return(0,i.A)(e)}n(2675),n(9463),n(2259),n(3418),n(6099),n(7764),n(2953);function o(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var a=n(2635);n(6280);function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e){return r(e)||o(e)||(0,a.A)(e)||s()}},3051:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});var i=n(4119);n(5700),n(6280),n(9572),n(2892);function r(e,t){if("object"!=(0,i.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=(0,i.A)(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function o(e){var t=r(e,"string");return"symbol"==(0,i.A)(t)?t:t+""}},4119:function(e,t,n){"use strict";n.d(t,{A:function(){return i}});n(2675),n(9463),n(2259),n(6099),n(7764),n(2953);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}},2635:function(e,t,n){"use strict";n.d(t,{A:function(){return r}});n(3418),n(4782),n(2010),n(6099),n(7495),n(906),n(8781),n(7764);var i=n(6562);function r(e,t){if(e){if("string"===typeof e)return(0,i.A)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,i.A)(e,t):void 0}}},3844:function(e,t,n){"use strict";var i=n(9492),r=n(5026),o=n(5647),a=n(8578),s=(n(6280),n(4114),n(4554),n(1611)),l=n(2686),u=n(9078),c={LENGTH:"length"},h=function(e){function t(e,n,i){var a;return(0,r.A)(this,t),a=(0,o.A)(this,t,[e]),a.element=n,a.index=i,a}return(0,a.A)(t,e),(0,i.A)(t)}(u.Ay),d=function(e){function t(e,n){var i;if((0,r.A)(this,t),i=(0,o.A)(this,t),i.on,i.once,i.un,n=n||{},i.unique_=!!n.unique,i.array_=e||[],i.unique_)for(var a=0,s=i.array_.length;a<s;++a)i.assertUnique_(i.array_[a],a);return i.updateLength_(),i}return(0,a.A)(t,e),(0,i.A)(t,[{key:"clear",value:function(){while(this.getLength()>0)this.pop()}},{key:"extend",value:function(e){for(var t=0,n=e.length;t<n;++t)this.push(e[t]);return this}},{key:"forEach",value:function(e){for(var t=this.array_,n=0,i=t.length;n<i;++n)e(t[n],n,t)}},{key:"getArray",value:function(){return this.array_}},{key:"item",value:function(e){return this.array_[e]}},{key:"getLength",value:function(){return this.get(c.LENGTH)}},{key:"insertAt",value:function(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new h(l.A.ADD,t,e))}},{key:"pop",value:function(){return this.removeAt(this.getLength()-1)}},{key:"push",value:function(e){this.unique_&&this.assertUnique_(e);var t=this.getLength();return this.insertAt(t,e),this.getLength()}},{key:"remove",value:function(e){for(var t=this.array_,n=0,i=t.length;n<i;++n)if(t[n]===e)return this.removeAt(n)}},{key:"removeAt",value:function(e){if(!(e<0||e>=this.getLength())){var t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new h(l.A.REMOVE,t,e)),t}}},{key:"setAt",value:function(e,t){var n=this.getLength();if(e>=n)this.insertAt(e,t);else{if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);var i=this.array_[e];this.array_[e]=t,this.dispatchEvent(new h(l.A.REMOVE,i,e)),this.dispatchEvent(new h(l.A.ADD,t,e))}}},{key:"updateLength_",value:function(){this.set(c.LENGTH,this.array_.length)}},{key:"assertUnique_",value:function(e,t){for(var n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===e&&n!==t)throw new Error("Duplicate item added to a unique collection")}}])}(s.A);t.A=d},2686:function(e,t){"use strict";t.A={ADD:"add",REMOVE:"remove"}},8646:function(e,t,n){"use strict";var i=n(5026),r=n(9492),o=function(){function e(){(0,i.A)(this,e),this.disposed=!1}return(0,r.A)(e,[{key:"dispose",value:function(){this.disposed||(this.disposed=!0,this.disposeInternal())}},{key:"disposeInternal",value:function(){}}])}();t.A=o},856:function(e,t,n){"use strict";var i=n(5026),r=n(9492),o=n(5647),a=n(8578),s=n(1611),l=n(7582),u=n(1097),c=n(8965),h=function(e){function t(e){var n;if((0,i.A)(this,t),n=(0,o.A)(this,t),n.on,n.once,n.un,n.id_=void 0,n.geometryName_="geometry",n.style_=null,n.styleFunction_=void 0,n.geometryChangeKey_=null,n.addChangeListener(n.geometryName_,n.handleGeometryChanged_),e)if("function"===typeof e.getSimplifiedGeometry){var r=e;n.setGeometry(r)}else{var a=e;n.setProperties(a)}return n}return(0,a.A)(t,e),(0,r.A)(t,[{key:"clone",value:function(){var e=new t(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&e.setGeometry(n.clone());var i=this.getStyle();return i&&e.setStyle(i),e}},{key:"getGeometry",value:function(){return this.get(this.geometryName_)}},{key:"getId",value:function(){return this.id_}},{key:"getGeometryName",value:function(){return this.geometryName_}},{key:"getStyle",value:function(){return this.style_}},{key:"getStyleFunction",value:function(){return this.styleFunction_}},{key:"handleGeometryChange_",value:function(){this.changed()}},{key:"handleGeometryChanged_",value:function(){this.geometryChangeKey_&&((0,c.JH)(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();e&&(this.geometryChangeKey_=(0,c.KT)(e,l.A.CHANGE,this.handleGeometryChange_,this)),this.changed()}},{key:"setGeometry",value:function(e){this.set(this.geometryName_,e)}},{key:"setStyle",value:function(e){this.style_=e,this.styleFunction_=e?d(e):void 0,this.changed()}},{key:"setId",value:function(e){this.id_=e,this.changed()}},{key:"setGeometryName",value:function(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}])}(s.A);function d(e){if("function"===typeof e)return e;var t;if(Array.isArray(e))t=e;else{(0,u.v)("function"===typeof e.getZIndex,"Expected an `ol/style/Style` or an array of `ol/style/Style.js`");var n=e;t=[n]}return function(){return t}}t.A=h},2299:function(e,t,n){"use strict";n.d(t,{D4:function(){return v},RA:function(){return m},f6:function(){return g}});var i=n(5026),r=n(9492),o=n(5647),a=n(8578),s=(n(6280),n(4114),n(6099),n(3500),n(9357)),l=n(7582),u=n(1410),c=n(502),h=n(8965),d=n(9331),p=function(e){function t(e,n,r,a){var s;return(0,i.A)(this,t),s=(0,o.A)(this,t),s.extent=e,s.pixelRatio_=r,s.resolution=n,s.state="function"===typeof a?u.A.IDLE:a,s.image_=null,s.loader="function"===typeof a?a:null,s}return(0,a.A)(t,e),(0,r.A)(t,[{key:"changed",value:function(){this.dispatchEvent(l.A.CHANGE)}},{key:"getExtent",value:function(){return this.extent}},{key:"getImage",value:function(){return this.image_}},{key:"getPixelRatio",value:function(){return this.pixelRatio_}},{key:"getResolution",value:function(){return this.resolution}},{key:"getState",value:function(){return this.state}},{key:"load",value:function(){var e=this;if(this.state==u.A.IDLE&&this.loader){this.state=u.A.LOADING,this.changed();var t=this.getResolution(),n=Array.isArray(t)?t[0]:t;(0,d.hq)((function(){return e.loader(e.getExtent(),n,e.getPixelRatio())})).then((function(t){"image"in t&&(e.image_=t.image),"extent"in t&&(e.extent=t.extent),"resolution"in t&&(e.resolution=t.resolution),"pixelRatio"in t&&(e.pixelRatio_=t.pixelRatio),(t instanceof HTMLImageElement||t instanceof ImageBitmap||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement)&&(e.image_=t),e.state=u.A.LOADED})).catch((function(t){e.state=u.A.ERROR,console.error(t)})).finally((function(){return e.changed()}))}}},{key:"setImage",value:function(e){this.image_=e}},{key:"setResolution",value:function(e){this.resolution=e}}])}(s.A);function g(e,t,n){var i=e,r=!0,o=!1,a=!1,s=[(0,h.Jz)(i,l.A.LOAD,(function(){a=!0,o||t()}))];return i.src&&c.DT?(o=!0,i.decode().then((function(){r&&t()})).catch((function(e){r&&(a?t():n())}))):s.push((0,h.Jz)(i,l.A.ERROR,n)),function(){r=!1,s.forEach(h.JH)}}function f(e,t){return new Promise((function(n,i){function r(){a(),n(e)}function o(){a(),i(new Error("Image load error"))}function a(){e.removeEventListener("load",r),e.removeEventListener("error",o)}e.addEventListener("load",r),e.addEventListener("error",o),t&&(e.src=t)}))}function m(e,t){return t&&(e.src=t),e.src&&c.DT?new Promise((function(t,n){return e.decode().then((function(){return t(e)})).catch((function(i){return e.complete&&e.width?t(e):n(i)}))})):f(e)}function v(e,t){return t&&(e.src=t),e.src&&c.DT&&c.XM?e.decode().then((function(){return createImageBitmap(e)})).catch((function(t){if(e.complete&&e.width)return e;throw t})):m(e)}t.Ay=p},1410:function(e,t){"use strict";t.A={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},4705:function(e,t,n){"use strict";n.d(t,{A:function(){return Qe}});var i=n(5026),r=n(9492),o=n(5647),a=n(7645),s=n(4497),l=n(8578),u=(n(4114),n(4782),n(6099),n(8781),n(3500),n(2953),n(1611)),c=n(3844),h=n(2686),d=(n(6910),n(8646)),p=n(9331),g=n(5752),f=n(1194),m=n(7444),v=n(1382),y=n(2425),A=n(8474),_=function(e){function t(e){var n;return(0,i.A)(this,t),n=(0,o.A)(this,t),n.map_=e,n}return(0,l.A)(t,e),(0,r.A)(t,[{key:"dispatchRenderEvent",value:function(e,t){(0,g.b0)()}},{key:"calculateMatrices2D",value:function(e){var t=e.viewState,n=e.coordinateToPixelTransform,i=e.pixelToCoordinateTransform;(0,f.Zz)(n,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),(0,f.T9)(i,n)}},{key:"forEachFeatureAtCoordinate",value:function(e,t,n,i,r,o,a,s){var l,u=t.viewState;function c(e,t,n,i){return r.call(o,t,e?n:null,i)}var h=u.projection,d=(0,A.Li)(e.slice(),h),p=[[0,0]];if(h.canWrapX()&&i){var g=h.getExtent(),f=(0,m.RG)(g);p.push([-f,0],[f,0])}for(var v=t.layerStatesArray,_=v.length,C=[],I=[],E=0;E<p.length;E++)for(var w=_-1;w>=0;--w){var b=v[w],x=b.layer;if(x.hasRenderer()&&(0,y.l)(b,u)&&a.call(s,x)){var S=x.getRenderer(),P=x.getSource();if(S&&P){var M=P.getWrapX()?d:e,k=c.bind(null,b.managed);I[0]=M[0]+p[E][0],I[1]=M[1]+p[E][1],l=S.forEachFeatureAtCoordinate(I,t,n,k,C)}if(l)return l}}if(0!==C.length){var R=1/C.length;return C.forEach((function(e,t){return e.distanceSq+=t*R})),C.sort((function(e,t){return e.distanceSq-t.distanceSq})),C.some((function(e){return l=e.callback(e.feature,e.layer,e.geometry)})),l}}},{key:"hasFeatureAtCoordinate",value:function(e,t,n,i,r,o){var a=this.forEachFeatureAtCoordinate(e,t,n,i,p.rT,this,r,o);return void 0!==a}},{key:"getMap",value:function(){return this.map_}},{key:"renderFrame",value:function(e){(0,g.b0)()}},{key:"flushDeclutterItems",value:function(e){}},{key:"scheduleExpireIconCache",value:function(e){v.u.canExpireCache()&&e.postRenderFunctions.push(C)}}])}(d.A);function C(e,t){v.u.expire()}var I=_,E=n(6555),w=n(6355),b=n(3707),x=n(4109),S=n(8911),P=n(8965),M=n(7334),k=function(e){function t(e){var n;(0,i.A)(this,t),n=(0,o.A)(this,t,[e]),n.fontChangeListenerKey_=(0,P.KT)(S.yY,E.A.PROPERTYCHANGE,e.redrawText.bind(e)),n.element_=document.createElement("div");var r=n.element_.style;r.position="absolute",r.width="100%",r.height="100%",r.zIndex="0",n.element_.className=x.XI+" ol-layers";var a=e.getViewport();return a.insertBefore(n.element_,a.firstChild||null),n.children_=[],n.renderedVisible_=!0,n.declutterLayers_=[],n}return(0,l.A)(t,e),(0,r.A)(t,[{key:"dispatchRenderEvent",value:function(e,t){var n=this.getMap();if(n.hasListener(e)){var i=new w.A(e,void 0,t);n.dispatchEvent(i)}}},{key:"disposeInternal",value:function(){(0,P.JH)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),(0,a.A)((0,s.A)(t.prototype),"disposeInternal",this).call(this)}},{key:"renderFrame",value:function(e){if(e){this.calculateMatrices2D(e),this.dispatchRenderEvent(b.A.PRECOMPOSE,e);var t=e.layerStatesArray.sort((function(e,t){return e.zIndex-t.zIndex})),n=e.viewState;this.children_.length=0;var i=this.declutterLayers_;i.length=0;for(var r=null,o=0,a=t.length;o<a;++o){var s=t[o];e.layerIndex=o;var l=s.layer,u=l.getSourceState();if(!(0,y.l)(s,n)||"ready"!=u&&"undefined"!=u)l.unrender();else{var c=l.render(e,r);c&&(c!==r&&(this.children_.push(c),r=c),"getDeclutter"in l&&i.push(l))}}this.flushDeclutterItems(e),(0,M.WM)(this.element_,this.children_),this.dispatchRenderEvent(b.A.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)}},{key:"flushDeclutterItems",value:function(e){for(var t=this.declutterLayers_,n=t.length-1;n>=0;--n)t[n].renderDeclutter(e);t.length=0}}])}(I),R=k,T=n(7582),L=n(3139),G=n(9020),O=(n(6034),n(3156)),D={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},N=n(9357),F=n(502),U=function(e){function t(e,n){var r;(0,i.A)(this,t),r=(0,o.A)(this,t,[e]),r.map_=e,r.clickTimeoutId_,r.emulateClicks_=!1,r.dragging_=!1,r.dragListenerKeys_=[],r.moveTolerance_=void 0===n?1:n,r.down_=null;var a=r.map_.getViewport();return r.activePointers_=[],r.trackedTouches_={},r.element_=a,r.pointerdownListenerKey_=(0,P.KT)(a,D.POINTERDOWN,r.handlePointerDown_,r),r.originalPointerMoveEvent_,r.relayedListenerKey_=(0,P.KT)(a,D.POINTERMOVE,r.relayMoveEvent_,r),r.boundHandleTouchMove_=r.handleTouchMove_.bind(r),r.element_.addEventListener(T.A.TOUCHMOVE,r.boundHandleTouchMove_,!!F.FT&&{passive:!1}),r}return(0,l.A)(t,e),(0,r.A)(t,[{key:"emulateClick_",value:function(e){var t=this,n=new G.A(O.A.CLICK,this.map_,e);this.dispatchEvent(n),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new G.A(O.A.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout((function(){t.clickTimeoutId_=void 0;var n=new G.A(O.A.SINGLECLICK,t.map_,e);t.dispatchEvent(n)}),250)}},{key:"updateActivePointers_",value:function(e){var t=e,n=t.pointerId;if(t.type==O.A.POINTERUP||t.type==O.A.POINTERCANCEL){for(var i in delete this.trackedTouches_[n],this.trackedTouches_)if(this.trackedTouches_[i].target!==t.target){delete this.trackedTouches_[i];break}}else t.type!=O.A.POINTERDOWN&&t.type!=O.A.POINTERMOVE||(this.trackedTouches_[n]=t);this.activePointers_=Object.values(this.trackedTouches_)}},{key:"handlePointerUp_",value:function(e){this.updateActivePointers_(e);var t=new G.A(O.A.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(P.JH),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}},{key:"isMouseActionButton_",value:function(e){return 0===e.button}},{key:"handlePointerDown_",value:function(e){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(e);var t=new G.A(O.A.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),0===this.dragListenerKeys_.length){var n=this.map_.getOwnerDocument();this.dragListenerKeys_.push((0,P.KT)(n,O.A.POINTERMOVE,this.handlePointerMove_,this),(0,P.KT)(n,O.A.POINTERUP,this.handlePointerUp_,this),(0,P.KT)(this.element_,O.A.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==n&&this.dragListenerKeys_.push((0,P.KT)(this.element_.getRootNode(),O.A.POINTERUP,this.handlePointerUp_,this))}}},{key:"handlePointerMove_",value:function(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;var t=new G.A(O.A.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}},{key:"relayMoveEvent_",value:function(e){this.originalPointerMoveEvent_=e;var t=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new G.A(O.A.POINTERMOVE,this.map_,e,t))}},{key:"handleTouchMove_",value:function(e){var t=this.originalPointerMoveEvent_;t&&!t.defaultPrevented||"boolean"===typeof e.cancelable&&!0!==e.cancelable||e.preventDefault()}},{key:"isMoving_",value:function(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}},{key:"disposeInternal",value:function(){this.relayedListenerKey_&&((0,P.JH)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(T.A.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&((0,P.JH)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(P.JH),this.dragListenerKeys_.length=0,this.element_=null,(0,a.A)((0,s.A)(t.prototype),"disposeInternal",this).call(this)}}])}(N.A),B=U,j=n(14),z=n(2742),W={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},V=n(1097),Y=n(6811),H=1/0,q=function(){function e(t,n){(0,i.A)(this,e),this.priorityFunction_=t,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return(0,r.A)(e,[{key:"clear",value:function(){this.elements_.length=0,this.priorities_.length=0,(0,Y.I)(this.queuedElements_)}},{key:"dequeue",value:function(){var e=this.elements_,t=this.priorities_,n=e[0];1==e.length?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n}},{key:"enqueue",value:function(e){(0,V.v)(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");var t=this.priorityFunction_(e);return t!=H&&(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}},{key:"getCount",value:function(){return this.elements_.length}},{key:"getLeftChildIndex_",value:function(e){return 2*e+1}},{key:"getRightChildIndex_",value:function(e){return 2*e+2}},{key:"getParentIndex_",value:function(e){return e-1>>1}},{key:"heapify_",value:function(){var e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}},{key:"isEmpty",value:function(){return 0===this.elements_.length}},{key:"isKeyQueued",value:function(e){return e in this.queuedElements_}},{key:"isQueued",value:function(e){return this.isKeyQueued(this.keyFunction_(e))}},{key:"siftUp_",value:function(e){var t=this.elements_,n=this.priorities_,i=t.length,r=t[e],o=n[e],a=e;while(e<i>>1){var s=this.getLeftChildIndex_(e),l=this.getRightChildIndex_(e),u=l<i&&n[l]<n[s]?l:s;t[e]=t[u],n[e]=n[u],e=u}t[e]=r,n[e]=o,this.siftDown_(a,e)}},{key:"siftDown_",value:function(e,t){var n=this.elements_,i=this.priorities_,r=n[t],o=i[t];while(t>e){var a=this.getParentIndex_(t);if(!(i[a]>o))break;n[t]=n[a],i[t]=i[a],t=a}n[t]=r,i[t]=o}},{key:"reprioritize",value:function(){var e,t,n,i=this.priorityFunction_,r=this.elements_,o=this.priorities_,a=0,s=r.length;for(t=0;t<s;++t)e=r[t],n=i(e),n==H?delete this.queuedElements_[this.keyFunction_(e)]:(o[a]=n,r[a++]=e);r.length=a,o.length=a,this.heapify_()}}])}(),X=q,Z=n(9611),K=function(e){function t(e,n){var r;return(0,i.A)(this,t),r=(0,o.A)(this,t,[function(t){return e.apply(null,t)},function(e){return e[0].getKey()}]),r.boundHandleTileChange_=r.handleTileChange.bind(r),r.tileChangeCallback_=n,r.tilesLoading_=0,r.tilesLoadingKeys_={},r}return(0,l.A)(t,e),(0,r.A)(t,[{key:"enqueue",value:function(e){var n=(0,a.A)((0,s.A)(t.prototype),"enqueue",this).call(this,e);if(n){var i=e[0];i.addEventListener(T.A.CHANGE,this.boundHandleTileChange_)}return n}},{key:"getTilesLoading",value:function(){return this.tilesLoading_}},{key:"handleTileChange",value:function(e){var t=e.target,n=t.getState();if(n===Z.A.LOADED||n===Z.A.ERROR||n===Z.A.EMPTY){n!==Z.A.ERROR&&t.removeEventListener(T.A.CHANGE,this.boundHandleTileChange_);var i=t.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}}},{key:"loadMoreTiles",value:function(e,t){var n,i,r,o=0;while(this.tilesLoading_<e&&o<t&&this.getCount()>0)i=this.dequeue()[0],r=i.getKey(),n=i.getState(),n!==Z.A.IDLE||r in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++o,i.load())}}])}(X),J=K;function Q(e,t,n,i,r){if(!e||!(n in e.wantedTiles))return H;if(!e.wantedTiles[n][t.getKey()])return H;var o=e.viewState.center,a=i[0]-o[0],s=i[1]-o[1];return 65536*Math.log(r)+Math.sqrt(a*a+s*s)/r}var $=n(8699),ee=n(6940),te=n(8641),ne=n(6993),ie=n(8409),re=function(e){function t(e){var n;(0,i.A)(this,t),e=e||{},n=(0,o.A)(this,t,[{element:document.createElement("div"),render:e.render,target:e.target}]);var r=void 0!==e.className?e.className:"ol-rotate",a=void 0!==e.label?e.label:"⇧",s=void 0!==e.compassClassName?e.compassClassName:"ol-compass";n.label_=null,"string"===typeof a?(n.label_=document.createElement("span"),n.label_.className=s,n.label_.textContent=a):(n.label_=a,n.label_.classList.add(s));var l=e.tipLabel?e.tipLabel:"Reset rotation",u=document.createElement("button");u.className=r+"-reset",u.setAttribute("type","button"),u.title=l,u.appendChild(n.label_),u.addEventListener(T.A.CLICK,n.handleClick_.bind(n),!1);var c=r+" "+x.XI+" "+x.$N,h=n.element;return h.className=c,h.appendChild(u),n.callResetNorth_=e.resetNorth?e.resetNorth:void 0,n.duration_=void 0!==e.duration?e.duration:250,n.autoHide_=void 0===e.autoHide||e.autoHide,n.rotation_=void 0,n.autoHide_&&n.element.classList.add(x.Si),n}return(0,l.A)(t,e),(0,r.A)(t,[{key:"handleClick_",value:function(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}},{key:"resetNorth_",value:function(){var e=this.getMap(),t=e.getView();if(t){var n=t.getRotation();void 0!==n&&(this.duration_>0&&n%(2*Math.PI)!==0?t.animate({rotation:0,duration:this.duration_,easing:ie.vT}):t.setRotation(0))}}},{key:"render",value:function(e){var t=e.frameState;if(t){var n=t.viewState.rotation;if(n!=this.rotation_){var i="rotate("+n+"rad)";if(this.autoHide_){var r=this.element.classList.contains(x.Si);r||0!==n?r&&0!==n&&this.element.classList.remove(x.Si):this.element.classList.add(x.Si)}this.label_.style.transform=i}this.rotation_=n}}}])}(ne.A),oe=re,ae=function(e){function t(e){var n;(0,i.A)(this,t),e=e||{},n=(0,o.A)(this,t,[{element:document.createElement("div"),target:e.target}]);var r=void 0!==e.className?e.className:"ol-zoom",a=void 0!==e.delta?e.delta:1,s=void 0!==e.zoomInClassName?e.zoomInClassName:r+"-in",l=void 0!==e.zoomOutClassName?e.zoomOutClassName:r+"-out",u=void 0!==e.zoomInLabel?e.zoomInLabel:"+",c=void 0!==e.zoomOutLabel?e.zoomOutLabel:"–",h=void 0!==e.zoomInTipLabel?e.zoomInTipLabel:"Zoom in",d=void 0!==e.zoomOutTipLabel?e.zoomOutTipLabel:"Zoom out",p=document.createElement("button");p.className=s,p.setAttribute("type","button"),p.title=h,p.appendChild("string"===typeof u?document.createTextNode(u):u),p.addEventListener(T.A.CLICK,n.handleClick_.bind(n,a),!1);var g=document.createElement("button");g.className=l,g.setAttribute("type","button"),g.title=d,g.appendChild("string"===typeof c?document.createTextNode(c):c),g.addEventListener(T.A.CLICK,n.handleClick_.bind(n,-a),!1);var f=r+" "+x.XI+" "+x.$N,m=n.element;return m.className=f,m.appendChild(p),m.appendChild(g),n.duration_=void 0!==e.duration?e.duration:250,n}return(0,l.A)(t,e),(0,r.A)(t,[{key:"handleClick_",value:function(e,t){t.preventDefault(),this.zoomByDelta_(e)}},{key:"zoomByDelta_",value:function(e){var t=this.getMap(),n=t.getView();if(n){var i=n.getZoom();if(void 0!==i){var r=n.getConstrainedZoom(i+e);this.duration_>0?(n.getAnimating()&&n.cancelAnimations(),n.animate({zoom:r,duration:this.duration_,easing:ie.vT})):n.setZoom(r)}}}}])}(ne.A),se=ae;function le(e){e=e||{};var t=new c.A,n=void 0===e.zoom||e.zoom;n&&t.push(new se(e.zoomOptions));var i=void 0===e.rotate||e.rotate;i&&t.push(new oe(e.rotateOptions));var r=void 0===e.attribution||e.attribution;return r&&t.push(new te.A(e.attributionOptions)),t}n(2062);var ue=n(6425),ce=function(e){function t(e){var n;return(0,i.A)(this,t),n=(0,o.A)(this,t),e=e||{},n.delta_=e.delta?e.delta:1,n.duration_=void 0!==e.duration?e.duration:250,n}return(0,l.A)(t,e),(0,r.A)(t,[{key:"handleEvent",value:function(e){var t=!1;if(e.type==O.A.DBLCLICK){var n=e.originalEvent,i=e.map,r=e.coordinate,o=n.shiftKey?-this.delta_:this.delta_,a=i.getView();(0,ue.D2)(a,o,r,this.duration_),n.preventDefault(),t=!0}return!t}}])}(ue.Ay),he=ce,de=n(5596),pe=n(2535),ge=function(e){function t(e){var n;(0,i.A)(this,t),n=(0,o.A)(this,t,[{stopDown:p.W8}]),e=e||{},n.kinetic_=e.kinetic,n.lastCentroid=null,n.lastPointersCount_,n.panning_=!1;var r=e.condition?e.condition:(0,pe.Q7)(pe.TS,pe.fs);return n.condition_=e.onFocusOnly?(0,pe.Q7)(pe.eL,r):r,n.noKinetic_=!1,n}return(0,l.A)(t,e),(0,r.A)(t,[{key:"handleDragEvent",value:function(e){var t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());var n=this.targetPointers,i=t.getEventPixel((0,de.v)(n));if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var r=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],o=e.map,a=o.getView();(0,A.hs)(r,a.getResolution()),(0,A.e$)(r,a.getRotation()),a.adjustCenterInternal(r)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=n.length,e.originalEvent.preventDefault()}},{key:"handleUpEvent",value:function(e){var t=e.map,n=t.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),o=n.getCenterInternal(),a=t.getPixelFromCoordinateInternal(o),s=t.getCoordinateFromPixelInternal([a[0]-i*Math.cos(r),a[1]-i*Math.sin(r)]);n.animateInternal({center:n.getConstrainedCenter(s),duration:500,easing:ie.vT})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}},{key:"handleDownEvent",value:function(e){if(this.targetPointers.length>0&&this.condition_(e)){var t=e.map,n=t.getView();return this.lastCentroid=null,n.getAnimating()&&n.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}])}(de.A),fe=ge,me=n(5289),ve=function(e){function t(e){var n;return(0,i.A)(this,t),e=e||{},n=(0,o.A)(this,t,[{stopDown:p.W8}]),n.condition_=e.condition?e.condition:pe.IO,n.lastAngle_=void 0,n.duration_=void 0!==e.duration?e.duration:250,n}return(0,l.A)(t,e),(0,r.A)(t,[{key:"handleDragEvent",value:function(e){if((0,pe.A4)(e)){var t=e.map,n=t.getView();if(n.getConstraints().rotation!==me.b8){var i=t.getSize(),r=e.pixel,o=Math.atan2(i[1]/2-r[1],r[0]-i[0]/2);if(void 0!==this.lastAngle_){var a=o-this.lastAngle_;n.adjustRotationInternal(-a)}this.lastAngle_=o}}}},{key:"handleUpEvent",value:function(e){if(!(0,pe.A4)(e))return!0;var t=e.map,n=t.getView();return n.endInteraction(this.duration_),!1}},{key:"handleDownEvent",value:function(e){if(!(0,pe.A4)(e))return!1;if((0,pe.at)(e)&&this.condition_(e)){var t=e.map;return t.getView().beginInteraction(),this.lastAngle_=void 0,!0}return!1}}])}(de.A),ye=ve,Ae=n(9078),_e=n(3313),Ce=function(e){function t(e){var n;return(0,i.A)(this,t),n=(0,o.A)(this,t),n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.style.pointerEvents="auto",n.element_.className="ol-box "+e,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return(0,l.A)(t,e),(0,r.A)(t,[{key:"disposeInternal",value:function(){this.setMap(null)}},{key:"render_",value:function(){var e=this.startPixel_,t=this.endPixel_,n="px",i=this.element_.style;i.left=Math.min(e[0],t[0])+n,i.top=Math.min(e[1],t[1])+n,i.width=Math.abs(t[0]-e[0])+n,i.height=Math.abs(t[1]-e[1])+n}},{key:"setMap",value:function(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}},{key:"setPixels",value:function(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}},{key:"createOrUpdateGeometry",value:function(){var e=this.startPixel_,t=this.endPixel_,n=[e,[e[0],t[1]],t,[t[0],e[1]]],i=n.map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new _e.Ay([i])}},{key:"getGeometry",value:function(){return this.geometry_}}])}(d.A),Ie=Ce,Ee={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},we=function(e){function t(e,n,r){var a;return(0,i.A)(this,t),a=(0,o.A)(this,t,[e]),a.coordinate=n,a.mapBrowserEvent=r,a}return(0,l.A)(t,e),(0,r.A)(t)}(Ae.Ay),be=function(e){function t(e){var n;return(0,i.A)(this,t),n=(0,o.A)(this,t),n.on,n.once,n.un,e=e||{},n.box_=new Ie(e.className||"ol-dragbox"),n.minArea_=void 0!==e.minArea?e.minArea:64,e.onBoxEnd&&(n.onBoxEnd=e.onBoxEnd),n.startPixel_=null,n.condition_=e.condition?e.condition:pe.at,n.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:n.defaultBoxEndCondition,n}return(0,l.A)(t,e),(0,r.A)(t,[{key:"defaultBoxEndCondition",value:function(e,t,n){var i=n[0]-t[0],r=n[1]-t[1];return i*i+r*r>=this.minArea_}},{key:"getGeometry",value:function(){return this.box_.getGeometry()}},{key:"handleDragEvent",value:function(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new we(Ee.BOXDRAG,e.coordinate,e))}},{key:"handleUpEvent",value:function(e){this.box_.setMap(null);var t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new we(t?Ee.BOXEND:Ee.BOXCANCEL,e.coordinate,e)),!1}},{key:"handleDownEvent",value:function(e){return!!this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new we(Ee.BOXSTART,e.coordinate,e)),!0)}},{key:"onBoxEnd",value:function(e){}}])}(de.A),xe=be,Se=function(e){function t(e){var n;(0,i.A)(this,t),e=e||{};var r=e.condition?e.condition:pe.Kg;return n=(0,o.A)(this,t,[{condition:r,className:e.className||"ol-dragzoom",minArea:e.minArea}]),n.duration_=void 0!==e.duration?e.duration:200,n.out_=void 0!==e.out&&e.out,n}return(0,l.A)(t,e),(0,r.A)(t,[{key:"onBoxEnd",value:function(e){var t=this.getMap(),n=t.getView(),i=this.getGeometry();if(this.out_){var r=n.rotatedExtentForGeometry(i),o=n.getResolutionForExtentInternal(r),a=n.getResolution()/o;i=i.clone(),i.scale(a*a)}n.fitInternal(i,{duration:this.duration_,easing:ie.vT})}}])}(xe),Pe=Se,Me={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"},ke=function(e){function t(e){var n;return(0,i.A)(this,t),n=(0,o.A)(this,t),e=e||{},n.defaultCondition_=function(e){return(0,pe.TS)(e)&&(0,pe.tE)(e)},n.condition_=void 0!==e.condition?e.condition:n.defaultCondition_,n.duration_=void 0!==e.duration?e.duration:100,n.pixelDelta_=void 0!==e.pixelDelta?e.pixelDelta:128,n}return(0,l.A)(t,e),(0,r.A)(t,[{key:"handleEvent",value:function(e){var t=!1;if(e.type==T.A.KEYDOWN){var n=e.originalEvent,i=n.key;if(this.condition_(e)&&(i==Me.DOWN||i==Me.LEFT||i==Me.RIGHT||i==Me.UP)){var r=e.map,o=r.getView(),a=o.getResolution()*this.pixelDelta_,s=0,l=0;i==Me.DOWN?l=-a:i==Me.LEFT?s=-a:i==Me.RIGHT?s=a:l=a;var u=[s,l];(0,A.e$)(u,o.getRotation()),(0,ue.e4)(o,u,this.duration_),n.preventDefault(),t=!0}}return!t}}])}(ue.Ay),Re=ke,Te=function(e){function t(e){var n;return(0,i.A)(this,t),n=(0,o.A)(this,t),e=e||{},n.condition_=e.condition?e.condition:function(e){return!(0,pe.GB)(e)&&(0,pe.tE)(e)},n.delta_=e.delta?e.delta:1,n.duration_=void 0!==e.duration?e.duration:100,n}return(0,l.A)(t,e),(0,r.A)(t,[{key:"handleEvent",value:function(e){var t=!1;if(e.type==T.A.KEYDOWN||e.type==T.A.KEYPRESS){var n=e.originalEvent,i=n.key;if(this.condition_(e)&&("+"===i||"-"===i)){var r=e.map,o="+"===i?this.delta_:-this.delta_,a=r.getView();(0,ue.D2)(a,o,void 0,this.duration_),n.preventDefault(),t=!0}}return!t}}])}(ue.Ay),Le=Te,Ge=function(){function e(t,n,r){(0,i.A)(this,e),this.decay_=t,this.minVelocity_=n,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}return(0,r.A)(e,[{key:"begin",value:function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}},{key:"update",value:function(e,t){this.points_.push(e,t,Date.now())}},{key:"end",value:function(){if(this.points_.length<6)return!1;var e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;var n=t-3;while(n>0&&this.points_[n+2]>e)n-=3;var i=this.points_[t+2]-this.points_[n+2];if(i<1e3/60)return!1;var r=this.points_[t]-this.points_[n],o=this.points_[t+1]-this.points_[n+1];return this.angle_=Math.atan2(o,r),this.initialVelocity_=Math.sqrt(r*r+o*o)/i,this.initialVelocity_>this.minVelocity_}},{key:"getDistance",value:function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}},{key:"getAngle",value:function(){return this.angle_}}])}(),Oe=Ge,De=n(5674),Ne=function(e){function t(e){var n;(0,i.A)(this,t),e=e||{},n=(0,o.A)(this,t,[e]),n.totalDelta_=0,n.lastDelta_=0,n.maxDelta_=void 0!==e.maxDelta?e.maxDelta:1,n.duration_=void 0!==e.duration?e.duration:250,n.timeout_=void 0!==e.timeout?e.timeout:80,n.useAnchor_=void 0===e.useAnchor||e.useAnchor,n.constrainResolution_=void 0!==e.constrainResolution&&e.constrainResolution;var r=e.condition?e.condition:pe.Gk;return n.condition_=e.onFocusOnly?(0,pe.Q7)(pe.eL,r):r,n.lastAnchor_=null,n.startTime_=void 0,n.timeoutId_,n.mode_=void 0,n.trackpadEventGap_=400,n.trackpadTimeoutId_,n.deltaPerZoom_=300,n}return(0,l.A)(t,e),(0,r.A)(t,[{key:"endInteraction_",value:function(){this.trackpadTimeoutId_=void 0;var e=this.getMap();if(e){var t=e.getView();t.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}}},{key:"handleEvent",value:function(e){if(!this.condition_(e))return!0;var t=e.type;if(t!==T.A.WHEEL)return!0;var n,i=e.map,r=e.originalEvent;if(r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate),e.type==T.A.WHEEL&&(n=r.deltaY,F._p&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=F.cr),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)),0===n)return!1;this.lastDelta_=n;var o=Date.now();void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(n)<4?"trackpad":"wheel");var a=i.getView();if("trackpad"===this.mode_&&!a.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-n/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=o,!1;this.totalDelta_+=n;var s=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),s),!1}},{key:"handleWheelZoom_",value:function(e){var t=e.getView();t.getAnimating()&&t.cancelAnimations();var n=-(0,De.qE)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),(0,ue.D2)(t,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}},{key:"setMouseAnchor",value:function(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}])}(ue.Ay),Fe=Ne,Ue=function(e){function t(e){var n;(0,i.A)(this,t),e=e||{};var r=e;return r.stopDown||(r.stopDown=p.W8),n=(0,o.A)(this,t,[r]),n.anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==e.threshold?e.threshold:.3,n.duration_=void 0!==e.duration?e.duration:250,n}return(0,l.A)(t,e),(0,r.A)(t,[{key:"handleDragEvent",value:function(e){var t=0,n=this.targetPointers[0],i=this.targetPointers[1],r=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){var o=r-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=o}this.lastAngle_=r;var a=e.map,s=a.getView();s.getConstraints().rotation!==me.b8&&(this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel((0,de.v)(this.targetPointers))),this.rotating_&&(a.render(),s.adjustRotationInternal(t,this.anchor_)))}},{key:"handleUpEvent",value:function(e){if(this.targetPointers.length<2){var t=e.map,n=t.getView();return n.endInteraction(this.duration_),!1}return!0}},{key:"handleDownEvent",value:function(e){if(this.targetPointers.length>=2){var t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}])}(de.A),Be=Ue,je=function(e){function t(e){var n;(0,i.A)(this,t),e=e||{};var r=e;return r.stopDown||(r.stopDown=p.W8),n=(0,o.A)(this,t,[r]),n.anchor_=null,n.duration_=void 0!==e.duration?e.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return(0,l.A)(t,e),(0,r.A)(t,[{key:"handleDragEvent",value:function(e){var t=1,n=this.targetPointers[0],i=this.targetPointers[1],r=n.clientX-i.clientX,o=n.clientY-i.clientY,a=Math.sqrt(r*r+o*o);void 0!==this.lastDistance_&&(t=this.lastDistance_/a),this.lastDistance_=a;var s=e.map,l=s.getView();1!=t&&(this.lastScaleDelta_=t),this.anchor_=s.getCoordinateFromPixelInternal(s.getEventPixel((0,de.v)(this.targetPointers))),s.render(),l.adjustResolutionInternal(t,this.anchor_)}},{key:"handleUpEvent",value:function(e){if(this.targetPointers.length<2){var t=e.map,n=t.getView(),i=this.lastScaleDelta_>1?1:-1;return n.endInteraction(this.duration_,i),!1}return!0}},{key:"handleDownEvent",value:function(e){if(this.targetPointers.length>=2){var t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}])}(de.A),ze=je;function We(e){e=e||{};var t=new c.A,n=new Oe(-.005,.05,100),i=void 0===e.altShiftDragRotate||e.altShiftDragRotate;i&&t.push(new ye);var r=void 0===e.doubleClickZoom||e.doubleClickZoom;r&&t.push(new he({delta:e.zoomDelta,duration:e.zoomDuration}));var o=void 0===e.dragPan||e.dragPan;o&&t.push(new fe({onFocusOnly:e.onFocusOnly,kinetic:n}));var a=void 0===e.pinchRotate||e.pinchRotate;a&&t.push(new Be);var s=void 0===e.pinchZoom||e.pinchZoom;s&&t.push(new ze({duration:e.zoomDuration}));var l=void 0===e.keyboard||e.keyboard;l&&(t.push(new Re),t.push(new Le({delta:e.zoomDelta,duration:e.zoomDuration})));var u=void 0===e.mouseWheelZoom||e.mouseWheelZoom;u&&t.push(new Fe({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration}));var h=void 0===e.shiftDragZoom||e.shiftDragZoom;return h&&t.push(new Pe({duration:e.zoomDuration})),t}var Ve=n(6232),Ye=n(5857),He=n(5689),qe=n(2155);function Xe(e){e instanceof y.A?e.setMapInternal(null):e instanceof L.A&&e.getLayers().forEach(Xe)}function Ze(e,t){if(e instanceof y.A)e.setMapInternal(t);else if(e instanceof L.A)for(var n=e.getLayers().getArray(),i=0,r=n.length;i<r;++i)Ze(n[i],t)}var Ke=function(e){function t(e){var n;(0,i.A)(this,t),n=(0,o.A)(this,t),e=e||{},n.on,n.once,n.un;var r=Je(e);n.renderComplete_,n.loaded_=!0,n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,n.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:F.cr,n.postRenderTimeoutHandle_,n.animationDelayKey_,n.animationDelay_=n.animationDelay_.bind(n),n.coordinateToPixelTransform_=(0,f.vt)(),n.pixelToCoordinateTransform_=(0,f.vt)(),n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.style.pointerEvents="none",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.style.pointerEvents="none",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=null,n.moveTolerance_=e.moveTolerance,n.keyboardEventTarget_=r.keyboardEventTarget,n.targetChangeHandlerKeys_=null,n.targetElement_=null,n.resizeObserver_=new ResizeObserver((function(){return n.updateSize()})),n.controls=r.controls||le(),n.interactions=r.interactions||We({onFocusOnly:!0}),n.overlays_=r.overlays,n.overlayIdIndex_={},n.renderer_=null,n.postRenderFunctions_=[],n.tileQueue_=new J(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addChangeListener(W.LAYERGROUP,n.handleLayerGroupChanged_),n.addChangeListener(W.VIEW,n.handleViewChanged_),n.addChangeListener(W.SIZE,n.handleSizeChanged_),n.addChangeListener(W.TARGET,n.handleTargetChanged_),n.setProperties(r.values);var a=n;return!e.view||e.view instanceof $.Ay||e.view.then((function(e){a.setView(new $.Ay(e))})),n.controls.addEventListener(h.A.ADD,(function(e){e.element.setMap(n)})),n.controls.addEventListener(h.A.REMOVE,(function(e){e.element.setMap(null)})),n.interactions.addEventListener(h.A.ADD,(function(e){e.element.setMap(n)})),n.interactions.addEventListener(h.A.REMOVE,(function(e){e.element.setMap(null)})),n.overlays_.addEventListener(h.A.ADD,(function(e){n.addOverlayInternal_(e.element)})),n.overlays_.addEventListener(h.A.REMOVE,(function(e){var t=e.element.getId();void 0!==t&&delete n.overlayIdIndex_[t.toString()],e.element.setMap(null)})),n.controls.forEach((function(e){e.setMap(n)})),n.interactions.forEach((function(e){e.setMap(n)})),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n}return(0,l.A)(t,e),(0,r.A)(t,[{key:"addControl",value:function(e){this.getControls().push(e)}},{key:"addInteraction",value:function(e){this.getInteractions().push(e)}},{key:"addLayer",value:function(e){var t=this.getLayerGroup().getLayers();t.push(e)}},{key:"handleLayerAdd_",value:function(e){Ze(e.layer,this)}},{key:"addOverlay",value:function(e){this.getOverlays().push(e)}},{key:"addOverlayInternal_",value:function(e){var t=e.getId();void 0!==t&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}},{key:"disposeInternal",value:function(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),(0,a.A)((0,s.A)(t.prototype),"disposeInternal",this).call(this)}},{key:"forEachFeatureAtPixel",value:function(e,t,n){if(this.frameState_&&this.renderer_){var i=this.getCoordinateFromPixelInternal(e);n=void 0!==n?n:{};var r=void 0!==n.hitTolerance?n.hitTolerance:0,o=void 0!==n.layerFilter?n.layerFilter:p.rT,a=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,r,a,t,null,o,null)}}},{key:"getFeaturesAtPixel",value:function(e,t){var n=[];return this.forEachFeatureAtPixel(e,(function(e){n.push(e)}),t),n}},{key:"getAllLayers",value:function(){var e=[];function t(n){n.forEach((function(n){n instanceof L.A?t(n.getLayers()):e.push(n)}))}return t(this.getLayers()),e}},{key:"hasFeatureAtPixel",value:function(e,t){if(!this.frameState_||!this.renderer_)return!1;var n=this.getCoordinateFromPixelInternal(e);t=void 0!==t?t:{};var i=void 0!==t.layerFilter?t.layerFilter:p.rT,r=void 0!==t.hitTolerance?t.hitTolerance:0,o=!1!==t.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,r,o,i,null)}},{key:"getEventCoordinate",value:function(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}},{key:"getEventCoordinateInternal",value:function(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}},{key:"getEventPixel",value:function(e){var t=this.viewport_,n=t.getBoundingClientRect(),i=this.getSize(),r=n.width/i[0],o=n.height/i[1],a="changedTouches"in e?e.changedTouches[0]:e;return[(a.clientX-n.left)/r,(a.clientY-n.top)/o]}},{key:"getTarget",value:function(){return this.get(W.TARGET)}},{key:"getTargetElement",value:function(){return this.targetElement_}},{key:"getCoordinateFromPixel",value:function(e){return(0,Ye.te)(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}},{key:"getCoordinateFromPixelInternal",value:function(e){var t=this.frameState_;return t?(0,f.Bb)(t.pixelToCoordinateTransform,e.slice()):null}},{key:"getControls",value:function(){return this.controls}},{key:"getOverlays",value:function(){return this.overlays_}},{key:"getOverlayById",value:function(e){var t=this.overlayIdIndex_[e.toString()];return void 0!==t?t:null}},{key:"getInteractions",value:function(){return this.interactions}},{key:"getLayerGroup",value:function(){return this.get(W.LAYERGROUP)}},{key:"setLayers",value:function(e){var t=this.getLayerGroup();if(e instanceof c.A)t.setLayers(e);else{var n=t.getLayers();n.clear(),n.extend(e)}}},{key:"getLayers",value:function(){var e=this.getLayerGroup().getLayers();return e}},{key:"getLoadingOrNotReady",value:function(){for(var e=this.getLayerGroup().getLayerStatesArray(),t=0,n=e.length;t<n;++t){var i=e[t];if(i.visible){var r=i.layer.getRenderer();if(r&&!r.ready)return!0;var o=i.layer.getSource();if(o&&o.loading)return!0}}return!1}},{key:"getPixelFromCoordinate",value:function(e){var t=(0,Ye.Ad)(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}},{key:"getPixelFromCoordinateInternal",value:function(e){var t=this.frameState_;return t?(0,f.Bb)(t.coordinateToPixelTransform,e.slice(0,2)):null}},{key:"getRenderer",value:function(){return this.renderer_}},{key:"getSize",value:function(){return this.get(W.SIZE)}},{key:"getView",value:function(){return this.get(W.VIEW)}},{key:"getViewport",value:function(){return this.viewport_}},{key:"getOverlayContainer",value:function(){return this.overlayContainer_}},{key:"getOverlayContainerStopEvent",value:function(){return this.overlayContainerStopEvent_}},{key:"getOwnerDocument",value:function(){var e=this.getTargetElement();return e?e.ownerDocument:document}},{key:"getTilePriority",value:function(e,t,n,i){return Q(this.frameState_,e,t,n,i)}},{key:"handleBrowserEvent",value:function(e,t){t=t||e.type;var n=new G.A(t,this,e);this.handleMapBrowserEvent(n)}},{key:"handleMapBrowserEvent",value:function(e){if(this.frameState_){var t=e.originalEvent,n=t.type;if(n===D.POINTERDOWN||n===T.A.WHEEL||n===T.A.KEYDOWN){var i=this.getOwnerDocument(),r=this.viewport_.getRootNode?this.viewport_.getRootNode():i,o=t.target;if(this.overlayContainerStopEvent_.contains(o)||!(r===i?i.documentElement:r).contains(o))return}if(e.frameState=this.frameState_,!1!==this.dispatchEvent(e))for(var a=this.getInteractions().getArray().slice(),s=a.length-1;s>=0;s--){var l=a[s];if(l.getMap()===this&&l.getActive()&&this.getTargetElement()){var u=l.handleEvent(e);if(!u||e.propagationStopped)break}}}}},{key:"handlePostRender",value:function(){var e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){var n=this.maxTilesLoading_,i=n;if(e){var r=e.viewHints;if(r[ee.A.ANIMATING]||r[ee.A.INTERACTING]){var o=Date.now()-e.time>8;n=o?0:8,i=o?0:2}}t.getTilesLoading()<n&&(t.reprioritize(),t.loadMoreTiles(n,i))}e&&this.renderer_&&!e.animate&&(!0===this.renderComplete_?(this.hasListener(b.A.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(b.A.RENDERCOMPLETE,e),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new j.A(z.A.LOADEND,this,e)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new j.A(z.A.LOADSTART,this,e))));for(var a=this.postRenderFunctions_,s=0,l=a.length;s<l;++s)a[s](this,e);a.length=0}},{key:"handleSizeChanged_",value:function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}},{key:"handleTargetChanged_",value:function(){if(this.mapBrowserEventHandler_){for(var e=0,t=this.targetChangeHandlerKeys_.length;e<t;++e)(0,P.JH)(this.targetChangeHandlerKeys_[e]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(T.A.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(T.A.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,(0,M.bf)(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);var n=this.targetElement_.getRootNode();n instanceof ShadowRoot&&this.resizeObserver_.unobserve(n.host),this.setSize(void 0)}var i=this.getTarget(),r="string"===typeof i?document.getElementById(i):i;if(this.targetElement_=r,r){for(var o in r.appendChild(this.viewport_),this.renderer_||(this.renderer_=new R(this)),this.mapBrowserEventHandler_=new B(this,this.moveTolerance_),O.A)this.mapBrowserEventHandler_.addEventListener(O.A[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(T.A.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(T.A.WHEEL,this.boundHandleBrowserEvent_,!!F.FT&&{passive:!1});var a=this.keyboardEventTarget_?this.keyboardEventTarget_:r;this.targetChangeHandlerKeys_=[(0,P.KT)(a,T.A.KEYDOWN,this.handleBrowserEvent,this),(0,P.KT)(a,T.A.KEYPRESS,this.handleBrowserEvent,this)];var s=r.getRootNode();s instanceof ShadowRoot&&this.resizeObserver_.observe(s.host),this.resizeObserver_.observe(r)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}},{key:"handleTileChange_",value:function(){this.render()}},{key:"handleViewPropertyChanged_",value:function(){this.render()}},{key:"handleViewChanged_",value:function(){this.viewPropertyListenerKey_&&((0,P.JH)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,P.JH)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=(0,P.KT)(e,E.A.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,P.KT)(e,T.A.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}},{key:"handleLayerGroupChanged_",value:function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(P.JH),this.layerGroupPropertyListenerKeys_=null);var e=this.getLayerGroup();e&&(this.handleLayerAdd_(new L.i("addlayer",e)),this.layerGroupPropertyListenerKeys_=[(0,P.KT)(e,E.A.PROPERTYCHANGE,this.render,this),(0,P.KT)(e,T.A.CHANGE,this.render,this),(0,P.KT)(e,"addlayer",this.handleLayerAdd_,this),(0,P.KT)(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}},{key:"isRendered",value:function(){return!!this.frameState_}},{key:"animationDelay_",value:function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}},{key:"renderSync",value:function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}},{key:"redrawText",value:function(){for(var e=this.getLayerGroup().getLayerStatesArray(),t=0,n=e.length;t<n;++t){var i=e[t].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}}},{key:"render",value:function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}},{key:"flushDeclutterItems",value:function(){var e=this.frameState_;e&&this.renderer_.flushDeclutterItems(e)}},{key:"removeControl",value:function(e){return this.getControls().remove(e)}},{key:"removeInteraction",value:function(e){return this.getInteractions().remove(e)}},{key:"removeLayer",value:function(e){var t=this.getLayerGroup().getLayers();return t.remove(e)}},{key:"handleLayerRemove_",value:function(e){Xe(e.layer)}},{key:"removeOverlay",value:function(e){return this.getOverlays().remove(e)}},{key:"renderFrame_",value:function(e){var t=this,n=this.getSize(),i=this.getView(),r=this.frameState_,o=null;if(void 0!==n&&(0,He.Ie)(n)&&i&&i.isDef()){var a=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),s=i.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:(0,m.Bg)(s.center,s.resolution,s.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:s,viewHints:a,wantedTiles:{},mapId:(0,g.v6)(this),renderTargets:{}},s.nextCenter&&s.nextResolution){var l=isNaN(s.nextRotation)?s.rotation:s.nextRotation;o.nextExtent=(0,m.Bg)(s.nextCenter,s.nextResolution,l,n)}}if(this.frameState_=o,this.renderer_.renderFrame(o),o){if(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),r){var u=!this.previousExtent_||!(0,m.Im)(this.previousExtent_)&&!(0,m.aI)(o.extent,this.previousExtent_);u&&(this.dispatchEvent(new j.A(z.A.MOVESTART,this,r)),this.previousExtent_=(0,m.aZ)(this.previousExtent_))}var c=this.previousExtent_&&!o.viewHints[ee.A.ANIMATING]&&!o.viewHints[ee.A.INTERACTING]&&!(0,m.aI)(o.extent,this.previousExtent_);c&&(this.dispatchEvent(new j.A(z.A.MOVEEND,this,o)),(0,m.o8)(o.extent,this.previousExtent_))}this.dispatchEvent(new j.A(z.A.POSTRENDER,this,o)),this.renderComplete_=this.hasListener(z.A.LOADSTART)||this.hasListener(z.A.LOADEND)||this.hasListener(b.A.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((function(){t.postRenderTimeoutHandle_=void 0,t.handlePostRender()}),0))}},{key:"setLayerGroup",value:function(e){var t=this.getLayerGroup();t&&this.handleLayerRemove_(new L.i("removelayer",t)),this.set(W.LAYERGROUP,e)}},{key:"setSize",value:function(e){this.set(W.SIZE,e)}},{key:"setTarget",value:function(e){this.set(W.TARGET,e)}},{key:"setView",value:function(e){if(!e||e instanceof $.Ay)this.set(W.VIEW,e);else{this.set(W.VIEW,new $.Ay);var t=this;e.then((function(e){t.setView(new $.Ay(e))}))}}},{key:"updateSize",value:function(){var e=this.getTargetElement(),t=void 0;if(e){var n=getComputedStyle(e),i=e.offsetWidth-parseFloat(n["borderLeftWidth"])-parseFloat(n["paddingLeft"])-parseFloat(n["paddingRight"])-parseFloat(n["borderRightWidth"]),r=e.offsetHeight-parseFloat(n["borderTopWidth"])-parseFloat(n["paddingTop"])-parseFloat(n["paddingBottom"])-parseFloat(n["borderBottomWidth"]);isNaN(i)||isNaN(r)||(t=[i,r],!(0,He.Ie)(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&(0,qe.R8)("No map visible because the map container's width or height are 0."))}var o=this.getSize();!t||o&&(0,Ve.aI)(t,o)||(this.setSize(t),this.updateViewportSize_(t))}},{key:"updateViewportSize_",value:function(e){var t=this.getView();t&&t.setViewportSize(e)}}])}(u.A);function Je(e){var t=null;void 0!==e.keyboardEventTarget&&(t="string"===typeof e.keyboardEventTarget?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);var n,i,r,o={},a=e.layers&&"function"===typeof e.layers.getLayers?e.layers:new L.A({layers:e.layers});return o[W.LAYERGROUP]=a,o[W.TARGET]=e.target,o[W.VIEW]=e.view instanceof $.Ay?e.view:new $.Ay,void 0!==e.controls&&(Array.isArray(e.controls)?n=new c.A(e.controls.slice()):((0,V.v)("function"===typeof e.controls.getArray,"Expected `controls` to be an array or an `ol/Collection.js`"),n=e.controls)),void 0!==e.interactions&&(Array.isArray(e.interactions)?i=new c.A(e.interactions.slice()):((0,V.v)("function"===typeof e.interactions.getArray,"Expected `interactions` to be an array or an `ol/Collection.js`"),i=e.interactions)),void 0!==e.overlays?Array.isArray(e.overlays)?r=new c.A(e.overlays.slice()):((0,V.v)("function"===typeof e.overlays.getArray,"Expected `overlays` to be an array or an `ol/Collection.js`"),r=e.overlays):r=new c.A,{controls:n,interactions:i,keyboardEventTarget:t,overlays:r,values:o}}var Qe=Ke},9020:function(e,t,n){"use strict";var i=n(5026),r=n(9492),o=n(5647),a=n(7645),s=n(4497),l=n(8578),u=(n(2062),n(14)),c=function(e){function t(e,n,r,a,s,l){var u;return(0,i.A)(this,t),u=(0,o.A)(this,t,[e,n,s]),u.originalEvent=r,u.pixel_=null,u.coordinate_=null,u.dragging=void 0!==a&&a,u.activePointers=l,u}return(0,l.A)(t,e),(0,r.A)(t,[{key:"pixel",get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(e){this.pixel_=e}},{key:"coordinate",get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(e){this.coordinate_=e}},{key:"preventDefault",value:function(){(0,a.A)((0,s.A)(t.prototype),"preventDefault",this).call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){(0,a.A)((0,s.A)(t.prototype),"stopPropagation",this).call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}])}(u.A);t.A=c},3156:function(e,t,n){"use strict";var i=n(7582);t.A={SINGLECLICK:"singleclick",CLICK:i.A.CLICK,DBLCLICK:i.A.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},14:function(e,t,n){"use strict";var i=n(9492),r=n(5026),o=n(5647),a=n(8578),s=(n(2062),n(9078)),l=function(e){function t(e,n,i){var a;return(0,r.A)(this,t),a=(0,o.A)(this,t,[e]),a.map=n,a.frameState=void 0!==i?i:null,a}return(0,a.A)(t,e),(0,i.A)(t)}(s.Ay);t.A=l},2742:function(e,t){"use strict";t.A={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"}},1611:function(e,t,n){"use strict";var i=n(9492),r=n(5026),o=n(5647),a=n(8578),s=(n(9432),n(9078)),l=n(6555),u=n(4549),c=n(5752),h=n(6811),d=function(e){function t(e,n,i){var a;return(0,r.A)(this,t),a=(0,o.A)(this,t,[e]),a.key=n,a.oldValue=i,a}return(0,a.A)(t,e),(0,i.A)(t)}(s.Ay),p=function(e){function t(e){var n;return(0,r.A)(this,t),n=(0,o.A)(this,t),n.on,n.once,n.un,(0,c.v6)(n),n.values_=null,void 0!==e&&n.setProperties(e),n}return(0,a.A)(t,e),(0,i.A)(t,[{key:"get",value:function(e){var t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}},{key:"getKeys",value:function(){return this.values_&&Object.keys(this.values_)||[]}},{key:"getProperties",value:function(){return this.values_&&Object.assign({},this.values_)||{}}},{key:"getPropertiesInternal",value:function(){return this.values_}},{key:"hasProperties",value:function(){return!!this.values_}},{key:"notify",value:function(e,t){var n;n="change:".concat(e),this.hasListener(n)&&this.dispatchEvent(new d(n,e,t)),n=l.A.PROPERTYCHANGE,this.hasListener(n)&&this.dispatchEvent(new d(n,e,t))}},{key:"addChangeListener",value:function(e,t){this.addEventListener("change:".concat(e),t)}},{key:"removeChangeListener",value:function(e,t){this.removeEventListener("change:".concat(e),t)}},{key:"set",value:function(e,t,n){var i=this.values_||(this.values_={});if(n)i[e]=t;else{var r=i[e];i[e]=t,r!==t&&this.notify(e,r)}}},{key:"setProperties",value:function(e,t){for(var n in e)this.set(n,e[n],t)}},{key:"applyProperties",value:function(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}},{key:"unset",value:function(e,t){if(this.values_&&e in this.values_){var n=this.values_[e];delete this.values_[e],(0,h.p)(this.values_)&&(this.values_=null),t||this.notify(e,n)}}}])}(u.A);t.A=p},6555:function(e,t){"use strict";t.A={PROPERTYCHANGE:"propertychange"}},4549:function(e,t,n){"use strict";n.d(t,{e:function(){return h}});var i=n(5026),r=n(9492),o=n(5647),a=n(8578),s=n(9357),l=n(7582),u=n(8965),c=function(e){function t(){var e;return(0,i.A)(this,t),e=(0,o.A)(this,t),e.on=e.onInternal,e.once=e.onceInternal,e.un=e.unInternal,e.revision_=0,e}return(0,a.A)(t,e),(0,r.A)(t,[{key:"changed",value:function(){++this.revision_,this.dispatchEvent(l.A.CHANGE)}},{key:"getRevision",value:function(){return this.revision_}},{key:"onInternal",value:function(e,t){if(Array.isArray(e)){for(var n=e.length,i=new Array(n),r=0;r<n;++r)i[r]=(0,u.KT)(this,e[r],t);return i}return(0,u.KT)(this,e,t)}},{key:"onceInternal",value:function(e,t){var n;if(Array.isArray(e)){var i=e.length;n=new Array(i);for(var r=0;r<i;++r)n[r]=(0,u.Jz)(this,e[r],t)}else n=(0,u.Jz)(this,e,t);return t.ol_key=n,n}},{key:"unInternal",value:function(e,t){var n=t.ol_key;if(n)h(n);else if(Array.isArray(e))for(var i=0,r=e.length;i<r;++i)this.removeEventListener(e[i],t);else this.removeEventListener(e,t)}}])}(s.A);function h(e){if(Array.isArray(e))for(var t=0,n=e.length;t<n;++t)(0,u.JH)(e[t]);else(0,u.JH)(e)}c.prototype.on,c.prototype.once,c.prototype.un,t.A=c},9611:function(e,t){"use strict";t.A={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},8699:function(e,t,n){"use strict";n.d(t,{Ay:function(){return D}});var i=n(5026),r=n(9492),o=n(5647),a=n(8578),s=(n(2008),n(4114),n(4782),n(6099),n(9907),n(1611)),l=n(6940),u={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},c=n(8994),h=n(5857),d=n(9331),p=n(8474),g=n(1097),f=n(5674);function m(e,t,n){return function(i,r,o,a,s){if(i){if(!r&&!t)return i;var l=t?0:o[0]*r,u=t?0:o[1]*r,c=s?s[0]:0,h=s?s[1]:0,d=e[0]+l/2+c,p=e[2]-l/2+c,g=e[1]+u/2+h,m=e[3]-u/2+h;d>p&&(d=(p+d)/2,p=d),g>m&&(g=(m+g)/2,m=g);var v=(0,f.qE)(i[0],d,p),y=(0,f.qE)(i[1],g,m);if(a&&n&&r){var A=30*r;v+=-A*Math.log(1+Math.max(0,d-i[0])/A)+A*Math.log(1+Math.max(0,i[0]-p)/A),y+=-A*Math.log(1+Math.max(0,g-i[1])/A)+A*Math.log(1+Math.max(0,i[1]-m)/A)}return[v,y]}}}function v(e){return e}var y=n(7444),A=n(6232);function _(e,t,n,i){var r=(0,y.RG)(t)/n[0],o=(0,y.Oq)(t)/n[1];return i?Math.min(e,Math.max(r,o)):Math.min(e,Math.min(r,o))}function C(e,t,n){var i=Math.min(e,t),r=50;return i*=Math.log(1+r*Math.max(0,e/t-1))/r+1,n&&(i=Math.max(i,n),i/=Math.log(1+r*Math.max(0,n/e-1))/r+1),(0,f.qE)(i,n/2,2*t)}function I(e,t,n,i){return t=void 0===t||t,function(r,o,a,s){if(void 0!==r){var l=e[0],u=e[e.length-1],c=n?_(l,n,a,i):l;if(s)return t?C(r,c,u):(0,f.qE)(r,u,c);var h=Math.min(c,r),d=Math.floor((0,A.FT)(e,h,o));return e[d]>c&&d<e.length-1?e[d+1]:e[d]}}}function E(e,t,n,i,r,o){return i=void 0===i||i,n=void 0!==n?n:0,function(a,s,l,u){if(void 0!==a){var c=r?_(t,r,l,o):t;if(u)return i?C(a,c,n):(0,f.qE)(a,n,c);var h=1e-9,d=Math.ceil(Math.log(t/c)/Math.log(e)-h),p=-s*(.5-h)+.5,g=Math.min(c,a),m=Math.floor(Math.log(t/g)/Math.log(e)+p),v=Math.max(d,m),y=t/Math.pow(e,v);return(0,f.qE)(y,n,c)}}}function w(e,t,n,i,r){return n=void 0===n||n,function(o,a,s,l){if(void 0!==o){var u=i?_(e,i,s,r):e;return n&&l?C(o,u,t):(0,f.qE)(o,t,u)}}}var b=n(5289),x=n(8409),S=n(3313),P=0,M=function(e){function t(e){var n;return(0,i.A)(this,t),n=(0,o.A)(this,t),n.on,n.once,n.un,e=Object.assign({},e),n.hints_=[0,0],n.animations_=[],n.updateAnimationKey_,n.projection_=(0,h.Av)(e.projection,"EPSG:3857"),n.viewportSize_=[100,100],n.targetCenter_=null,n.targetResolution_,n.targetRotation_,n.nextCenter_=null,n.nextResolution_,n.nextRotation_,n.cancelAnchor_=void 0,e.projection&&(0,h.RJ)(),e.center&&(e.center=(0,h.Ad)(e.center,n.projection_)),e.extent&&(e.extent=(0,h.SD)(e.extent,n.projection_)),n.applyOptions_(e),n}return(0,a.A)(t,e),(0,r.A)(t,[{key:"applyOptions_",value:function(e){var t=Object.assign({},e);for(var n in u)delete t[n];this.setProperties(t,!0);var i=T(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;var r=R(e),o=i.constraint,a=L(e);this.constraints_={center:r,resolution:o,rotation:a},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom)}},{key:"padding",get:function(){return this.padding_},set:function(e){var t=this.padding_;this.padding_=e;var n=this.getCenterInternal();if(n){var i=e||[0,0,0,0];t=t||[0,0,0,0];var r=this.getResolution(),o=r/2*(i[3]-t[3]+t[1]-i[1]),a=r/2*(i[0]-t[0]+t[2]-i[2]);this.setCenterInternal([n[0]+o,n[1]-a])}}},{key:"getUpdatedOptions_",value:function(e){var t=this.getProperties();return void 0!==t.resolution?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}},{key:"animate",value:function(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var t=new Array(arguments.length),n=0;n<t.length;++n){var i=arguments[n];i.center&&(i=Object.assign({},i),i.center=(0,h.Ad)(i.center,this.getProjection())),i.anchor&&(i=Object.assign({},i),i.anchor=(0,h.Ad)(i.anchor,this.getProjection())),t[n]=i}this.animateInternal.apply(this,t)}},{key:"animateInternal",value:function(e){var t,n=arguments.length;n>1&&"function"===typeof arguments[n-1]&&(t=arguments[n-1],--n);for(var i=0;i<n&&!this.isDef();++i){var r=arguments[i];r.center&&this.setCenterInternal(r.center),void 0!==r.zoom?this.setZoom(r.zoom):r.resolution&&this.setResolution(r.resolution),void 0!==r.rotation&&this.setRotation(r.rotation)}if(i!==n){for(var o=Date.now(),a=this.targetCenter_.slice(),s=this.targetResolution_,u=this.targetRotation_,c=[];i<n;++i){var h=arguments[i],d={start:o,complete:!1,anchor:h.anchor,duration:void 0!==h.duration?h.duration:1e3,easing:h.easing||x.T9,callback:t};if(h.center&&(d.sourceCenter=a,d.targetCenter=h.center.slice(),a=d.targetCenter),void 0!==h.zoom?(d.sourceResolution=s,d.targetResolution=this.getResolutionForZoom(h.zoom),s=d.targetResolution):h.resolution&&(d.sourceResolution=s,d.targetResolution=h.resolution,s=d.targetResolution),void 0!==h.rotation){d.sourceRotation=u;var p=(0,f.xP)(h.rotation-u+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=u+p,u=d.targetRotation}G(d)?d.complete=!0:o+=d.duration,c.push(d)}this.animations_.push(c),this.setHint(l.A.ANIMATING,1),this.updateAnimations_()}else t&&k(t,!0)}},{key:"getAnimating",value:function(){return this.hints_[l.A.ANIMATING]>0}},{key:"getInteracting",value:function(){return this.hints_[l.A.INTERACTING]>0}},{key:"cancelAnimations",value:function(){var e;this.setHint(l.A.ANIMATING,-this.hints_[l.A.ANIMATING]);for(var t=0,n=this.animations_.length;t<n;++t){var i=this.animations_[t];if(i[0].callback&&k(i[0].callback,!1),!e)for(var r=0,o=i.length;r<o;++r){var a=i[r];if(!a.complete){e=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}},{key:"updateAnimations_",value:function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var e=Date.now(),t=!1,n=this.animations_.length-1;n>=0;--n){for(var i=this.animations_[n],r=!0,o=0,a=i.length;o<a;++o){var s=i[o];if(!s.complete){var u=e-s.start,c=s.duration>0?u/s.duration:1;c>=1?(s.complete=!0,c=1):r=!1;var h=s.easing(c);if(s.sourceCenter){var d=s.sourceCenter[0],p=s.sourceCenter[1],g=s.targetCenter[0],m=s.targetCenter[1];this.nextCenter_=s.targetCenter;var v=d+h*(g-d),y=p+h*(m-p);this.targetCenter_=[v,y]}if(s.sourceResolution&&s.targetResolution){var A=1===h?s.targetResolution:s.sourceResolution+h*(s.targetResolution-s.sourceResolution);if(s.anchor){var _=this.getViewportSize_(this.getRotation()),C=this.constraints_.resolution(A,0,_,!0);this.targetCenter_=this.calculateCenterZoom(C,s.anchor)}this.nextResolution_=s.targetResolution,this.targetResolution_=A,this.applyTargetState_(!0)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){var I=1===h?(0,f.xP)(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+h*(s.targetRotation-s.sourceRotation);if(s.anchor){var E=this.constraints_.rotation(I,!0);this.targetCenter_=this.calculateCenterRotate(E,s.anchor)}this.nextRotation_=s.targetRotation,this.targetRotation_=I}if(this.applyTargetState_(!0),t=!0,!s.complete)break}}if(r){this.animations_[n]=null,this.setHint(l.A.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var w=i[0].callback;w&&k(w,!0)}}this.animations_=this.animations_.filter(Boolean),t&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}}},{key:"calculateCenterRotate",value:function(e,t){var n,i=this.getCenterInternal();return void 0!==i&&(n=[i[0]-t[0],i[1]-t[1]],(0,p.e$)(n,e-this.getRotation()),(0,p.WQ)(n,t)),n}},{key:"calculateCenterZoom",value:function(e,t){var n,i=this.getCenterInternal(),r=this.getResolution();if(void 0!==i&&void 0!==r){var o=t[0]-e*(t[0]-i[0])/r,a=t[1]-e*(t[1]-i[1])/r;n=[o,a]}return n}},{key:"getViewportSize_",value:function(e){var t=this.viewportSize_;if(e){var n=t[0],i=t[1];return[Math.abs(n*Math.cos(e))+Math.abs(i*Math.sin(e)),Math.abs(n*Math.sin(e))+Math.abs(i*Math.cos(e))]}return t}},{key:"setViewportSize",value:function(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}},{key:"getCenter",value:function(){var e=this.getCenterInternal();return e?(0,h.te)(e,this.getProjection()):e}},{key:"getCenterInternal",value:function(){return this.get(u.CENTER)}},{key:"getConstraints",value:function(){return this.constraints_}},{key:"getConstrainResolution",value:function(){return this.get("constrainResolution")}},{key:"getHints",value:function(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}},{key:"calculateExtent",value:function(e){var t=this.calculateExtentInternal(e);return(0,h.JR)(t,this.getProjection())}},{key:"calculateExtentInternal",value:function(e){e=e||this.getViewportSizeMinusPadding_();var t=this.getCenterInternal();(0,g.v)(t,"The view center is not defined");var n=this.getResolution();(0,g.v)(void 0!==n,"The view resolution is not defined");var i=this.getRotation();return(0,g.v)(void 0!==i,"The view rotation is not defined"),(0,y.Bg)(t,n,i,e)}},{key:"getMaxResolution",value:function(){return this.maxResolution_}},{key:"getMinResolution",value:function(){return this.minResolution_}},{key:"getMaxZoom",value:function(){return this.getZoomForResolution(this.minResolution_)}},{key:"setMaxZoom",value:function(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}},{key:"getMinZoom",value:function(){return this.getZoomForResolution(this.maxResolution_)}},{key:"setMinZoom",value:function(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}},{key:"setConstrainResolution",value:function(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}},{key:"getProjection",value:function(){return this.projection_}},{key:"getResolution",value:function(){return this.get(u.RESOLUTION)}},{key:"getResolutions",value:function(){return this.resolutions_}},{key:"getResolutionForExtent",value:function(e,t){return this.getResolutionForExtentInternal((0,h.SD)(e,this.getProjection()),t)}},{key:"getResolutionForExtentInternal",value:function(e,t){t=t||this.getViewportSizeMinusPadding_();var n=(0,y.RG)(e)/t[0],i=(0,y.Oq)(e)/t[1];return Math.max(n,i)}},{key:"getResolutionForValueFunction",value:function(e){e=e||2;var t=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,i=Math.log(t/n)/Math.log(e);return function(n){var r=t/Math.pow(e,n*i);return r}}},{key:"getRotation",value:function(){return this.get(u.ROTATION)}},{key:"getValueForResolutionFunction",value:function(e){var t=Math.log(e||2),n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(n/i)/t;return function(e){var i=Math.log(n/e)/t/r;return i}}},{key:"getViewportSizeMinusPadding_",value:function(e){var t=this.getViewportSize_(e),n=this.padding_;return n&&(t=[t[0]-n[1]-n[3],t[1]-n[0]-n[2]]),t}},{key:"getState",value:function(){var e=this.getProjection(),t=this.getResolution(),n=this.getRotation(),i=this.getCenterInternal(),r=this.padding_;if(r){var o=this.getViewportSizeMinusPadding_();i=O(i,this.getViewportSize_(),[o[0]/2+r[3],o[1]/2+r[0]],t,n)}return{center:i.slice(0),projection:void 0!==e?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}}},{key:"getViewStateAndExtent",value:function(){return{viewState:this.getState(),extent:this.calculateExtent()}}},{key:"getZoom",value:function(){var e,t=this.getResolution();return void 0!==t&&(e=this.getZoomForResolution(t)),e}},{key:"getZoomForResolution",value:function(e){var t,n,i=this.minZoom_||0;if(this.resolutions_){var r=(0,A.FT)(this.resolutions_,e,1);i=r,t=this.resolutions_[r],n=r==this.resolutions_.length-1?2:t/this.resolutions_[r+1]}else t=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(t/e)/Math.log(n)}},{key:"getResolutionForZoom",value:function(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var t=(0,f.qE)(Math.floor(e),0,this.resolutions_.length-2),n=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(n,(0,f.qE)(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}},{key:"fit",value:function(e,t){var n;if((0,g.v)(Array.isArray(e)||"function"===typeof e.getSimplifiedGeometry,"Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){(0,g.v)(!(0,y.Im)(e),"Cannot fit empty extent provided as `geometry`");var i=(0,h.SD)(e,this.getProjection());n=(0,S.VY)(i)}else if("Circle"===e.getType()){var r=(0,h.SD)(e.getExtent(),this.getProjection());n=(0,S.VY)(r),n.rotate(this.getRotation(),(0,y.q1)(r))}else{var o=(0,h.Tf)();n=o?e.clone().transform(o,this.getProjection()):e}this.fitInternal(n,t)}},{key:"rotatedExtentForGeometry",value:function(e){for(var t=this.getRotation(),n=Math.cos(t),i=Math.sin(-t),r=e.getFlatCoordinates(),o=e.getStride(),a=1/0,s=1/0,l=-1/0,u=-1/0,c=0,h=r.length;c<h;c+=o){var d=r[c]*n-r[c+1]*i,p=r[c]*i+r[c+1]*n;a=Math.min(a,d),s=Math.min(s,p),l=Math.max(l,d),u=Math.max(u,p)}return[a,s,l,u]}},{key:"fitInternal",value:function(e,t){t=t||{};var n=t.size;n||(n=this.getViewportSizeMinusPadding_());var i,r=void 0!==t.padding?t.padding:[0,0,0,0],o=void 0!==t.nearest&&t.nearest;i=void 0!==t.minResolution?t.minResolution:void 0!==t.maxZoom?this.getResolutionForZoom(t.maxZoom):0;var a=this.rotatedExtentForGeometry(e),s=this.getResolutionForExtentInternal(a,[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]);s=isNaN(s)?i:Math.max(s,i),s=this.getConstrainedResolution(s,o?0:1);var l=this.getRotation(),u=Math.sin(l),c=Math.cos(l),h=(0,y.q1)(a);h[0]+=(r[1]-r[3])/2*s,h[1]+=(r[0]-r[2])/2*s;var p=h[0]*c-h[1]*u,g=h[1]*c+h[0]*u,f=this.getConstrainedCenter([p,g],s),m=t.callback?t.callback:d.tV;void 0!==t.duration?this.animateInternal({resolution:s,center:f,duration:t.duration,easing:t.easing},m):(this.targetResolution_=s,this.targetCenter_=f,this.applyTargetState_(!1,!0),k(m,!0))}},{key:"centerOn",value:function(e,t,n){this.centerOnInternal((0,h.Ad)(e,this.getProjection()),t,n)}},{key:"centerOnInternal",value:function(e,t,n){this.setCenterInternal(O(e,t,n,this.getResolution(),this.getRotation()))}},{key:"calculateCenterShift",value:function(e,t,n,i){var r,o=this.padding_;if(o&&e){var a=this.getViewportSizeMinusPadding_(-n),s=O(e,i,[a[0]/2+o[3],a[1]/2+o[0]],t,n);r=[e[0]-s[0],e[1]-s[1]]}return r}},{key:"isDef",value:function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}},{key:"adjustCenter",value:function(e){var t=(0,h.te)(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}},{key:"adjustCenterInternal",value:function(e){var t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}},{key:"adjustResolution",value:function(e,t){t=t&&(0,h.Ad)(t,this.getProjection()),this.adjustResolutionInternal(e,t)}},{key:"adjustResolutionInternal",value:function(e,t){var n=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),r=this.constraints_.resolution(this.targetResolution_*e,0,i,n);t&&(this.targetCenter_=this.calculateCenterZoom(r,t)),this.targetResolution_*=e,this.applyTargetState_()}},{key:"adjustZoom",value:function(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}},{key:"adjustRotation",value:function(e,t){t&&(t=(0,h.Ad)(t,this.getProjection())),this.adjustRotationInternal(e,t)}},{key:"adjustRotationInternal",value:function(e,t){var n=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+e,n);t&&(this.targetCenter_=this.calculateCenterRotate(i,t)),this.targetRotation_+=e,this.applyTargetState_()}},{key:"setCenter",value:function(e){this.setCenterInternal(e?(0,h.Ad)(e,this.getProjection()):e)}},{key:"setCenterInternal",value:function(e){this.targetCenter_=e,this.applyTargetState_()}},{key:"setHint",value:function(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}},{key:"setResolution",value:function(e){this.targetResolution_=e,this.applyTargetState_()}},{key:"setRotation",value:function(e){this.targetRotation_=e,this.applyTargetState_()}},{key:"setZoom",value:function(e){this.setResolution(this.getResolutionForZoom(e))}},{key:"applyTargetState_",value:function(e,t){var n=this.getAnimating()||this.getInteracting()||t,i=this.constraints_.rotation(this.targetRotation_,n),r=this.getViewportSize_(i),o=this.constraints_.resolution(this.targetResolution_,0,r,n),a=this.constraints_.center(this.targetCenter_,o,r,n,this.calculateCenterShift(this.targetCenter_,o,i,r));this.get(u.ROTATION)!==i&&this.set(u.ROTATION,i),this.get(u.RESOLUTION)!==o&&(this.set(u.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),a&&this.get(u.CENTER)&&(0,p.aI)(this.get(u.CENTER),a)||this.set(u.CENTER,a),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}},{key:"resolveConstraints",value:function(e,t,n){e=void 0!==e?e:200;var i=t||0,r=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(r),a=this.constraints_.resolution(this.targetResolution_,i,o),s=this.constraints_.center(this.targetCenter_,a,o,!1,this.calculateCenterShift(this.targetCenter_,a,r,o));if(0===e&&!this.cancelAnchor_)return this.targetResolution_=a,this.targetRotation_=r,this.targetCenter_=s,void this.applyTargetState_();n=n||(0===e?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===a&&this.getRotation()===r&&this.getCenterInternal()&&(0,p.aI)(this.getCenterInternal(),s)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:s,resolution:a,duration:e,easing:x.vT,anchor:n}))}},{key:"beginInteraction",value:function(){this.resolveConstraints(0),this.setHint(l.A.INTERACTING,1)}},{key:"endInteraction",value:function(e,t,n){n=n&&(0,h.Ad)(n,this.getProjection()),this.endInteractionInternal(e,t,n)}},{key:"endInteractionInternal",value:function(e,t,n){this.getInteracting()&&(this.setHint(l.A.INTERACTING,-1),this.resolveConstraints(e,t,n))}},{key:"getConstrainedCenter",value:function(e,t){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),n)}},{key:"getConstrainedZoom",value:function(e,t){var n=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(n,t))}},{key:"getConstrainedResolution",value:function(e,t){t=t||0;var n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,n)}}])}(s.A);function k(e,t){setTimeout((function(){e(t)}),0)}function R(e){if(void 0!==e.extent){var t=void 0===e.smoothExtentConstraint||e.smoothExtentConstraint;return m(e.extent,e.constrainOnlyCenter,t)}var n=(0,h.Av)(e.projection,"EPSG:3857");if(!0!==e.multiWorld&&n.isGlobal()){var i=n.getExtent().slice();return i[0]=-1/0,i[2]=1/0,m(i,!1,!1)}return v}function T(e){var t,n,i,r=28,o=2,a=void 0!==e.minZoom?e.minZoom:P,s=void 0!==e.maxZoom?e.maxZoom:r,l=void 0!==e.zoomFactor?e.zoomFactor:o,u=void 0!==e.multiWorld&&e.multiWorld,d=void 0===e.smoothResolutionConstraint||e.smoothResolutionConstraint,p=void 0!==e.showFullExtent&&e.showFullExtent,g=(0,h.Av)(e.projection,"EPSG:3857"),f=g.getExtent(),m=e.constrainOnlyCenter,v=e.extent;if(u||v||!g.isGlobal()||(m=!1,v=f),void 0!==e.resolutions){var A=e.resolutions;n=A[a],i=void 0!==A[s]?A[s]:A[A.length-1],t=e.constrainResolution?I(A,d,!m&&v,p):w(n,i,d,!m&&v,p)}else{var _=f?Math.max((0,y.RG)(f),(0,y.Oq)(f)):360*h.Ig.degrees/g.getMetersPerUnit(),C=_/c.R/Math.pow(o,P),b=C/Math.pow(o,r-P);n=e.maxResolution,void 0!==n?a=0:n=C/Math.pow(l,a),i=e.minResolution,void 0===i&&(i=void 0!==e.maxZoom?void 0!==e.maxResolution?n/Math.pow(l,s):C/Math.pow(l,s):b),s=a+Math.floor(Math.log(n/i)/Math.log(l)),i=n/Math.pow(l,s-a),t=e.constrainResolution?E(l,n,i,d,!m&&v,p):w(n,i,d,!m&&v,p)}return{constraint:t,maxResolution:n,minResolution:i,minZoom:a,zoomFactor:l}}function L(e){var t=void 0===e.enableRotation||e.enableRotation;if(t){var n=e.constrainRotation;return void 0===n||!0===n?(0,b.cq)():!1===n?b.dv:"number"===typeof n?(0,b.a$)(n):b.dv}return b.b8}function G(e){return!(e.sourceCenter&&e.targetCenter&&!(0,p.aI)(e.sourceCenter,e.targetCenter))&&(e.sourceResolution===e.targetResolution&&e.sourceRotation===e.targetRotation)}function O(e,t,n,i,r){var o=Math.cos(-r),a=Math.sin(-r),s=e[0]*o-e[1]*a,l=e[1]*o+e[0]*a;s+=(t[0]/2-n[0])*i,l+=(n[1]-t[1]/2)*i,a=-a;var u=s*o-l*a,c=l*o+s*a;return[u,c]}var D=M},6940:function(e,t){"use strict";t.A={ANIMATING:0,INTERACTING:1}},6232:function(e,t,n){"use strict";n.d(t,{El:function(){return i},FT:function(){return o},V_:function(){return r},WC:function(){return u},X$:function(){return s},aI:function(){return l},gI:function(){return a}});n(6910),n(4554),n(6099);function i(e,t,n){var i,o;n=n||r;var a=0,s=e.length,l=!1;while(a<s)i=a+(s-a>>1),o=+n(e[i],t),o<0?a=i+1:(s=i,l=!o);return l?a:~a}function r(e,t){return e>t?1:e<t?-1:0}function o(e,t,n){if(e[0]<=t)return 0;var i=e.length;if(t<=e[i-1])return i-1;if("function"===typeof n){for(var r=1;r<i;++r){var o=e[r];if(o===t)return r;if(o<t)return n(t,e[r-1],o)>0?r-1:r}return i-1}if(n>0){for(var a=1;a<i;++a)if(e[a]<t)return a-1;return i-1}if(n<0){for(var s=1;s<i;++s)if(e[s]<=t)return s;return i-1}for(var l=1;l<i;++l){if(e[l]==t)return l;if(e[l]<t)return e[l-1]-t<t-e[l]?l-1:l}return i-1}function a(e,t,n){while(t<n){var i=e[t];e[t]=e[n],e[n]=i,++t,--n}}function s(e,t){for(var n=Array.isArray(t)?t:[t],i=n.length,r=0;r<i;r++)e[e.length]=n[r]}function l(e,t){var n=e.length;if(n!==t.length)return!1;for(var i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function u(e,t,n){var i=t||r;return e.every((function(t,r){if(0===r)return!0;var o=i(e[r-1],t);return!(o>0||n&&0===o)}))}},1097:function(e,t,n){"use strict";n.d(t,{v:function(){return i}});n(6280);function i(e,t){if(!e)throw new Error(t)}},5007:function(e,t,n){"use strict";n.d(t,{_j:function(){return b},oJ:function(){return v},sH:function(){return w},$C:function(){return P},cD:function(){return E},S8:function(){return x},eE:function(){return I},dI:function(){return S},fu:function(){return C}});var i=n(3604),r=(n(6280),n(4782),{name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}),o={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"],whitepoint:{2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}}};o.max=o.whitepoint[2].D65,o.rgb=function(e,t){t=t||o.whitepoint[2].E;var n,i,r,a=e[0]/t[0],s=e[1]/t[1],l=e[2]/t[2];return n=3.240969941904521*a+-1.537383177570093*s+-.498610760293*l,i=-.96924363628087*a+1.87596750150772*s+.041555057407175*l,r=.055630079696993*a+-.20397695888897*s+1.056971514242878*l,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r*=12.92,n=Math.min(Math.max(0,n),1),i=Math.min(Math.max(0,i),1),r=Math.min(Math.max(0,r),1),[255*n,255*i,255*r]},r.xyz=function(e,t){var n=e[0]/255,i=e[1]/255,r=e[2]/255;n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var a=.41239079926595*n+.35758433938387*i+.18048078840183*r,s=.21263900587151*n+.71516867876775*i+.072192315360733*r,l=.019330818715591*n+.11919477979462*i+.95053215224966*r;return t=t||o.whitepoint[2].E,[a*t[0],s*t[1],l*t[2]]};var a=o,s={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(e,t,n){var i,r,o,s,l,u,c,h,d,p,g,f,m;if(o=e[0],s=e[1],l=e[2],0===o)return[0,0,0];var v=.0011070564598794539;return t=t||"D65",n=n||2,d=a.whitepoint[n][t][0],p=a.whitepoint[n][t][1],g=a.whitepoint[n][t][2],f=4*d/(d+15*p+3*g),m=9*p/(d+15*p+3*g),i=s/(13*o)+f||0,r=l/(13*o)+m||0,c=o>8?p*Math.pow((o+16)/116,3):p*o*v,u=9*c*i/(4*r)||0,h=c*(12-3*i-20*r)/(4*r)||0,[u,c,h]}};a.luv=function(e,t,n){var i,r,o,s,l,u,c,h,d,p,g,f,m,v=.008856451679035631,y=903.2962962962961;t=t||"D65",n=n||2,d=a.whitepoint[n][t][0],p=a.whitepoint[n][t][1],g=a.whitepoint[n][t][2],f=4*d/(d+15*p+3*g),m=9*p/(d+15*p+3*g),u=e[0],c=e[1],h=e[2],i=4*u/(u+15*c+3*h)||0,r=9*c/(u+15*c+3*h)||0;var A=c/p;return o=A<=v?y*A:116*Math.pow(A,1/3)-16,s=13*o*(i-f),l=13*o*(r-m),[o,s,l]};var l={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(e){var t,n,i,r=e[0],o=e[1],a=e[2];return i=a/360*2*Math.PI,t=o*Math.cos(i),n=o*Math.sin(i),[r,t,n]},xyz:function(e){return s.xyz(l.luv(e))}},u=l;s.lchuv=function(e){var t=e[0],n=e[1],i=e[2],r=Math.sqrt(n*n+i*i),o=Math.atan2(i,n),a=360*o/2/Math.PI;return a<0&&(a+=360),[t,r,a]},a.lchuv=function(e){return s.lchuv(a.luv(e))};var c={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},h=p,d={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function p(e){var t,n,i=[],r=1;if("number"===typeof e)return{space:"rgb",values:[e>>>16,(65280&e)>>>8,255&e],alpha:1};if("number"===typeof e)return{space:"rgb",values:[e>>>16,(65280&e)>>>8,255&e],alpha:1};if(e=String(e).toLowerCase(),c[e])i=c[e].slice(),n="rgb";else if("transparent"===e)r=0,n="rgb",i=[0,0,0];else if("#"===e[0]){var o=e.slice(1),a=o.length,s=a<=4;r=1,s?(i=[parseInt(o[0]+o[0],16),parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16)],4===a&&(r=parseInt(o[3]+o[3],16)/255)):(i=[parseInt(o[0]+o[1],16),parseInt(o[2]+o[3],16),parseInt(o[4]+o[5],16)],8===a&&(r=parseInt(o[6]+o[7],16)/255)),i[0]||(i[0]=0),i[1]||(i[1]=0),i[2]||(i[2]=0),n="rgb"}else if(t=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(e)){var l=t[1];n=l.replace(/a$/,"");var u="cmyk"===n?4:"gray"===n?1:3;i=t[2].trim().split(/\s*[,\/]\s*|\s+/),"color"===n&&(n=i.shift()),i=i.map((function(e,t){if("%"===e[e.length-1])return e=parseFloat(e)/100,3===t?e:"rgb"===n?255*e:"h"===n[0]?100*e:"l"!==n[0]||t?"lab"===n?125*e:"lch"===n?t<2?150*e:360*e:"o"!==n[0]||t?"oklab"===n?.4*e:"oklch"===n?t<2?.4*e:360*e:e:e:100*e;if("h"===n[t]||2===t&&"h"===n[n.length-1]){if(void 0!==d[e])return d[e];if(e.endsWith("deg"))return parseFloat(e);if(e.endsWith("turn"))return 360*parseFloat(e);if(e.endsWith("grad"))return 360*parseFloat(e)/400;if(e.endsWith("rad"))return 180*parseFloat(e)/Math.PI}return"none"===e?0:parseFloat(e)})),r=i.length>u?i.pop():1}else/[0-9](?:\s|\/|,)/.test(e)&&(i=e.match(/([0-9]+)/g).map((function(e){return parseFloat(e)})),n=e.match(/([a-z])/gi)?.join("")?.toLowerCase()||"rgb");return{space:n,values:i,alpha:r}}var g={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(e){var t,n,i,r,o,a=e[0]/360,s=e[1]/100,l=e[2]/100,u=0;if(0===s)return o=255*l,[o,o,o];for(n=l<.5?l*(1+s):l+s-l*s,t=2*l-n,r=[0,0,0];u<3;)i=a+1/3*-(u-1),i<0?i++:i>1&&i--,o=6*i<1?t+6*(n-t)*i:2*i<1?n:3*i<2?t+(n-t)*(2/3-i)*6:t,r[u++]=255*o;return r}};function f(e){var t;Array.isArray(e)&&e.raw&&(e=String.raw(...arguments)),e instanceof Number&&(e=+e);var n=h(e);if(!n.space)return[];const i="h"===n.space[0]?g.min:r.min,o="h"===n.space[0]?g.max:r.max;return t=Array(3),t[0]=Math.min(Math.max(n.values[0],i[0]),o[0]),t[1]=Math.min(Math.max(n.values[1],i[1]),o[1]),t[2]=Math.min(Math.max(n.values[2],i[2]),o[2]),"h"===n.space[0]&&(t=g.rgb(t)),t.push(Math.min(Math.max(n.alpha,0),1)),t}r.hsl=function(e){var t,n,i,r=e[0]/255,o=e[1]/255,a=e[2]/255,s=Math.min(r,o,a),l=Math.max(r,o,a),u=l-s;return l===s?t=0:r===l?t=(o-a)/u:o===l?t=2+(a-r)/u:a===l&&(t=4+(r-o)/u),t=Math.min(60*t,360),t<0&&(t+=360),i=(s+l)/2,n=l===s?0:i<=.5?u/(l+s):u/(2-l-s),[t,100*n,100*i]};var m=n(5674);function v(e){return"string"===typeof e?e:S(e)}var y=1024,A={},_=0;function C(e){if(4===e.length)return e;var t=e.slice();return t[3]=1,t}function I(e){var t=a.lchuv(r.xyz(e));return t[3]=e[3],t}function E(e){var t=a.rgb(u.xyz(e));return t[3]=e[3],t}function w(e){if(A.hasOwnProperty(e))return A[e];if(_>=y){var t=0;for(var n in A)0===(3&t++)&&(delete A[n],--_)}var r=f(e);if(4!==r.length)throw new Error('Failed to parse "'+e+'" as color');var o,a=(0,i.A)(r);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(isNaN(s))throw new Error('Failed to parse "'+e+'" as color')}}catch(l){a.e(l)}finally{a.f()}return x(r),A[e]=r,++_,r}function b(e){return Array.isArray(e)?e:w(e)}function x(e){return e[0]=(0,m.qE)(e[0]+.5|0,0,255),e[1]=(0,m.qE)(e[1]+.5|0,0,255),e[2]=(0,m.qE)(e[2]+.5|0,0,255),e[3]=(0,m.qE)(e[3],0,1),e}function S(e){var t=e[0];t!=(0|t)&&(t=t+.5|0);var n=e[1];n!=(0|n)&&(n=n+.5|0);var i=e[2];i!=(0|i)&&(i=i+.5|0);var r=void 0===e[3]?1:Math.round(100*e[3])/100;return"rgba("+t+","+n+","+i+","+r+")"}function P(e){try{return w(e),!0}catch(t){return!1}}},6294:function(e,t,n){"use strict";n.d(t,{F:function(){return r}});var i=n(5007);function r(e){return Array.isArray(e)?(0,i.dI)(e):e}},2155:function(e,t,n){"use strict";n.d(t,{R8:function(){return o}});var i={info:1,warn:2,error:3,none:4},r=i.info;function o(){var e;r>i.warn||(e=console).warn.apply(e,arguments)}},8641:function(e,t,n){"use strict";var i=n(5026),r=n(9492),o=n(5647),a=n(8578),s=(n(8350),n(3418),n(237),n(6099),n(1415),n(7764),n(2953),n(6993)),l=n(7582),u=n(4109),c=n(6232),h=n(7334),d=function(e){function t(e){var n;(0,i.A)(this,t),e=e||{},n=(0,o.A)(this,t,[{element:document.createElement("div"),render:e.render,target:e.target}]),n.ulElement_=document.createElement("ul"),n.collapsed_=void 0===e.collapsed||e.collapsed,n.userCollapsed_=n.collapsed_,n.overrideCollapsible_=void 0!==e.collapsible,n.collapsible_=void 0===e.collapsible||e.collapsible,n.collapsible_||(n.collapsed_=!1);var r=void 0!==e.className?e.className:"ol-attribution",a=void 0!==e.tipLabel?e.tipLabel:"Attributions",s=void 0!==e.expandClassName?e.expandClassName:r+"-expand",c=void 0!==e.collapseLabel?e.collapseLabel:"›",h=void 0!==e.collapseClassName?e.collapseClassName:r+"-collapse";"string"===typeof c?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=c,n.collapseLabel_.className=h):n.collapseLabel_=c;var d=void 0!==e.label?e.label:"i";"string"===typeof d?(n.label_=document.createElement("span"),n.label_.textContent=d,n.label_.className=s):n.label_=d;var p=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_;n.toggleButton_=document.createElement("button"),n.toggleButton_.setAttribute("type","button"),n.toggleButton_.setAttribute("aria-expanded",String(!n.collapsed_)),n.toggleButton_.title=a,n.toggleButton_.appendChild(p),n.toggleButton_.addEventListener(l.A.CLICK,n.handleClick_.bind(n),!1);var g=r+" "+u.XI+" "+u.$N+(n.collapsed_&&n.collapsible_?" "+u.nT:"")+(n.collapsible_?"":" ol-uncollapsible"),f=n.element;return f.className=g,f.appendChild(n.toggleButton_),f.appendChild(n.ulElement_),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return(0,a.A)(t,e),(0,r.A)(t,[{key:"collectSourceAttributions_",value:function(e){var t=Array.from(new Set(this.getMap().getAllLayers().flatMap((function(t){return t.getAttributions(e)})))),n=!this.getMap().getAllLayers().some((function(e){return e.getSource()&&!1===e.getSource().getAttributionsCollapsible()}));return this.overrideCollapsible_||this.setCollapsible(n),t}},{key:"updateElement_",value:function(e){if(e){var t=this.collectSourceAttributions_(e),n=t.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!(0,c.aI)(t,this.renderedAttributions_)){(0,h.gS)(this.ulElement_);for(var i=0,r=t.length;i<r;++i){var o=document.createElement("li");o.innerHTML=t[i],this.ulElement_.appendChild(o)}this.renderedAttributions_=t}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)}},{key:"handleClick_",value:function(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}},{key:"handleToggle_",value:function(){this.element.classList.toggle(u.nT),this.collapsed_?(0,h.fo)(this.collapseLabel_,this.label_):(0,h.fo)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}},{key:"getCollapsible",value:function(){return this.collapsible_}},{key:"setCollapsible",value:function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}},{key:"setCollapsed",value:function(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()}},{key:"getCollapsed",value:function(){return this.collapsed_}},{key:"render",value:function(e){this.updateElement_(e.frameState)}}])}(s.A);t.A=d},6993:function(e,t,n){"use strict";var i=n(5026),r=n(9492),o=n(5647),a=n(7645),s=n(4497),l=n(8578),u=(n(4114),n(1611)),c=n(2742),h=n(9331),d=n(8965),p=n(7334),g=function(e){function t(e){var n;(0,i.A)(this,t),n=(0,o.A)(this,t);var r=e.element;return!r||e.target||r.style.pointerEvents||(r.style.pointerEvents="auto"),n.element=r||null,n.target_=null,n.map_=null,n.listenerKeys=[],e.render&&(n.render=e.render),e.target&&n.setTarget(e.target),n}return(0,l.A)(t,e),(0,r.A)(t,[{key:"disposeInternal",value:function(){(0,p.bf)(this.element),(0,a.A)((0,s.A)(t.prototype),"disposeInternal",this).call(this)}},{key:"getMap",value:function(){return this.map_}},{key:"setMap",value:function(e){this.map_&&(0,p.bf)(this.element);for(var t=0,n=this.listenerKeys.length;t<n;++t)(0,d.JH)(this.listenerKeys[t]);if(this.listenerKeys.length=0,this.map_=e,e){var i=this.target_?this.target_:e.getOverlayContainerStopEvent();i.appendChild(this.element),this.render!==h.tV&&this.listenerKeys.push((0,d.KT)(e,c.A.POSTRENDER,this.render,this)),e.render()}}},{key:"render",value:function(e){}},{key:"setTarget",value:function(e){this.target_="string"===typeof e?document.getElementById(e):e}}])}(u.A);t.A=g},8474:function(e,t,n){"use strict";n.d(t,{$x:function(){return h},Io:function(){return c},Li:function(){return d},WQ:function(){return r},aI:function(){return a},e$:function(){return s},hG:function(){return u},hs:function(){return l},sG:function(){return o}});n(9868),n(7495),n(5440);var i=n(7444);function r(e,t){return e[0]+=+t[0],e[1]+=+t[1],e}function o(e,t){var n,i,r=e[0],o=e[1],a=t[0],s=t[1],l=a[0],u=a[1],c=s[0],h=s[1],d=c-l,p=h-u,g=0===d&&0===p?0:(d*(r-l)+p*(o-u))/(d*d+p*p||0);return g<=0?(n=l,i=u):g>=1?(n=c,i=h):(n=l+g*d,i=u+g*p),[n,i]}function a(e,t){for(var n=!0,i=e.length-1;i>=0;--i)if(e[i]!=t[i]){n=!1;break}return n}function s(e,t){var n=Math.cos(t),i=Math.sin(t),r=e[0]*n-e[1]*i,o=e[1]*n+e[0]*i;return e[0]=r,e[1]=o,e}function l(e,t){return e[0]*=t,e[1]*=t,e}function u(e,t){var n=e[0]-t[0],i=e[1]-t[1];return n*n+i*i}function c(e,t){return Math.sqrt(u(e,t))}function h(e,t){return u(e,o(e,t))}function d(e,t){if(t.canWrapX()){var n=(0,i.RG)(t.getExtent()),r=p(e,t,n);r&&(e[0]-=r*n)}return e}function p(e,t,n){var r=t.getExtent(),o=0;return t.canWrapX()&&(e[0]<r[0]||e[0]>r[2])&&(n=n||(0,i.RG)(r),o=Math.floor((e[0]-r[0])/n)),o}},4109:function(e,t,n){"use strict";n.d(t,{$N:function(){return a},K5:function(){return c},Q5:function(){return r},Si:function(){return i},XI:function(){return o},nT:function(){return s}});n(8598),n(4864),n(7465),n(7495),n(7745),n(8781),n(1761),n(744);var i="ol-hidden",r="ol-selectable",o="ol-unselectable",a="ol-control",s="ol-collapsed",l=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),u=["style","variant","weight","size","lineHeight","family"],c=function(e){var t=e.match(l);if(!t)return null;for(var n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},i=0,r=u.length;i<r;++i){var o=t[i+1];void 0!==o&&(n[u[i]]=o)}return n.families=n.family.split(/,\s?/),n}},7334:function(e,t,n){"use strict";n.d(t,{DK:function(){return s},Gq:function(){return a},WM:function(){return h},Y:function(){return r},Yg:function(){return o},bf:function(){return u},fo:function(){return l},gS:function(){return c}});var i=n(502);function r(e,t,n,r){var o;return o=n&&n.length?n.shift():i.Wl?new OffscreenCanvas(e||300,t||300):document.createElement("canvas"),e&&(o.width=e),t&&(o.height=t),o.getContext("2d",r)}function o(e){var t=e.canvas;t.width=1,t.height=1,e.clearRect(0,0,1,1)}function a(e){var t=e.offsetWidth,n=getComputedStyle(e);return t+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),t}function s(e){var t=e.offsetHeight,n=getComputedStyle(e);return t+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),t}function l(e,t){var n=t.parentNode;n&&n.replaceChild(e,t)}function u(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function c(e){while(e.lastChild)e.removeChild(e.lastChild)}function h(e,t){for(var n=e.childNodes,i=0;1;++i){var r=n[i],o=t[i];if(!r&&!o)break;r!==o&&(r?o?e.insertBefore(o,r):(e.removeChild(r),--i):e.appendChild(o))}}},8409:function(e,t,n){"use strict";function i(e){return Math.pow(e,3)}function r(e){return 1-i(1-e)}function o(e){return 3*e*e-2*e*e*e}function a(e){return e}n.d(t,{T9:function(){return o},a6:function(){return i},sn:function(){return a},vT:function(){return r}})},8965:function(e,t,n){"use strict";n.d(t,{JH:function(){return a},Jz:function(){return o},KT:function(){return r}});var i=n(6811);function r(e,t,n,i,r){if(i&&i!==e&&(n=n.bind(i)),r){var o=n;n=function(){e.removeEventListener(t,n),o.apply(this,arguments)}}var a={target:e,type:t,listener:n};return e.addEventListener(t,n),a}function o(e,t,n,i){return r(e,t,n,i,!0)}function a(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),(0,i.I)(e))}},9078:function(e,t,n){"use strict";var i=n(5026),r=n(9492),o=function(){function e(t){(0,i.A)(this,e),this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}return(0,r.A)(e,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])}();t.Ay=o},7582:function(e,t){"use strict";t.A={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},9357:function(e,t,n){"use strict";var i=n(5026),r=n(9492),o=n(5647),a=n(8578),s=(n(4423),n(4114),n(4554),n(9432),n(1699),n(8646)),l=n(9078),u=n(9331),c=n(6811),h=function(e){function t(e){var n;return(0,i.A)(this,t),n=(0,o.A)(this,t),n.eventTarget_=e,n.pendingRemovals_=null,n.dispatching_=null,n.listeners_=null,n}return(0,a.A)(t,e),(0,r.A)(t,[{key:"addEventListener",value:function(e,t){if(e&&t){var n=this.listeners_||(this.listeners_={}),i=n[e]||(n[e]=[]);i.includes(t)||i.push(t)}}},{key:"dispatchEvent",value:function(e){var t="string"===typeof e,n=t?e:e.type,i=this.listeners_&&this.listeners_[n];if(i){var r=t?new l.Ay(e):e;r.target||(r.target=this.eventTarget_||this);var o,a=this.dispatching_||(this.dispatching_={}),s=this.pendingRemovals_||(this.pendingRemovals_={});n in a||(a[n]=0,s[n]=0),++a[n];for(var c=0,h=i.length;c<h;++c)if(o="handleEvent"in i[c]?i[c].handleEvent(r):i[c].call(this,r),!1===o||r.propagationStopped){o=!1;break}if(0===--a[n]){var d=s[n];delete s[n];while(d--)this.removeEventListener(n,u.tV);delete a[n]}return o}}},{key:"disposeInternal",value:function(){this.listeners_&&(0,c.I)(this.listeners_)}},{key:"getListeners",value:function(e){return this.listeners_&&this.listeners_[e]||void 0}},{key:"hasListener",value:function(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)}},{key:"removeEventListener",value:function(e,t){if(this.listeners_){var n=this.listeners_[e];if(n){var i=n.indexOf(t);-1!==i&&(this.pendingRemovals_&&e in this.pendingRemovals_?(n[i]=u.tV,++this.pendingRemovals_[e]):(n.splice(i,1),0===n.length&&delete this.listeners_[e]))}}}}])}(s.A);t.A=h},2535:function(e,t,n){"use strict";n.d(t,{A4:function(){return C},GB:function(){return y},Gk:function(){return d},IO:function(){return u},Js:function(){return l},Kg:function(){return A},N1:function(){return f},Q7:function(){return s},TS:function(){return v},Zm:function(){return g},at:function(){return p},eL:function(){return h},fs:function(){return I},t5:function(){return m},tE:function(){return _}});n(2062);var i=n(3156),r=n(9331),o=n(502),a=n(1097);function s(e){var t=arguments;return function(e){for(var n=!0,i=0,r=t.length;i<r;++i)if(n=n&&t[i](e),!n)break;return n}}var l=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},u=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},c=function(e){var t=e.map.getTargetElement(),n=e.map.getOwnerDocument().activeElement;return t.contains(n)},h=function(e){return!e.map.getTargetElement().hasAttribute("tabindex")||c(e)},d=r.rT,p=function(e){var t=e.originalEvent;return 0==t.button&&!(o.j&&o.ew&&t.ctrlKey)},g=r.W8,f=function(e){return"pointermove"==e.type},m=function(e){return e.type==i.A.SINGLECLICK},v=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},y=function(e){var t=e.originalEvent;return o.ew?t.metaKey:t.ctrlKey},A=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},_=function(e){var t=e.originalEvent,n=t.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&!t.target.isContentEditable},C=function(e){var t=e.originalEvent;return(0,a.v)(void 0!==t,"mapBrowserEvent must originate from a pointer event"),"mouse"==t.pointerType},I=function(e){var t=e.originalEvent;return(0,a.v)(void 0!==t,"mapBrowserEvent must originate from a pointer event"),t.isPrimary&&0===t.button}},7444:function(e,t,n){"use strict";n.d(t,{$C:function(){return C},$u:function(){return U},Bg:function(){return k},HY:function(){return N},Im:function(){return F},Ld:function(){return u},Li:function(){return z},Mx:function(){return B},N:function(){return f},NW:function(){return j},Oq:function(){return T},Py:function(){return G},QJ:function(){return W},R:function(){return x},R8:function(){return I},RG:function(){return D},Rj:function(){return d},S5:function(){return g},Tr:function(){return o},UG:function(){return b},Vy:function(){return y},WU:function(){return O},X$:function(){return _},Ym:function(){return c},Yw:function(){return R},_N:function(){return L},aI:function(){return A},aZ:function(){return m},dP:function(){return v},k_:function(){return S},ms:function(){return h},o8:function(){return l},q1:function(){return P},qF:function(){return M},r:function(){return s},sB:function(){return w},vz:function(){return p}});var i=n(8676),r=(n(6280),n(4114),n(4782),n(1945));function o(e){for(var t=g(),n=0,i=e.length;n<i;++n)C(t,e[n]);return t}function a(e,t,n){var i=Math.min.apply(null,e),r=Math.min.apply(null,t),o=Math.max.apply(null,e),a=Math.max.apply(null,t);return f(i,r,o,a,n)}function s(e,t,n){return n?(n[0]=e[0]-t,n[1]=e[1]-t,n[2]=e[2]+t,n[3]=e[3]+t,n):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}function l(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function u(e,t,n){var i,r;return i=t<e[0]?e[0]-t:e[2]<t?t-e[2]:0,r=n<e[1]?e[1]-n:e[3]<n?n-e[3]:0,i*i+r*r}function c(e,t){return d(e,t[0],t[1])}function h(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function d(e,t,n){return e[0]<=t&&t<=e[2]&&e[1]<=n&&n<=e[3]}function p(e,t){var n=e[0],i=e[1],o=e[2],a=e[3],s=t[0],l=t[1],u=r.A.UNKNOWN;return s<n?u|=r.A.LEFT:s>o&&(u|=r.A.RIGHT),l<i?u|=r.A.BELOW:l>a&&(u|=r.A.ABOVE),u===r.A.UNKNOWN&&(u=r.A.INTERSECTING),u}function g(){return[1/0,1/0,-1/0,-1/0]}function f(e,t,n,i,r){return r?(r[0]=e,r[1]=t,r[2]=n,r[3]=i,r):[e,t,n,i]}function m(e){return f(1/0,1/0,-1/0,-1/0,e)}function v(e,t){var n=e[0],i=e[1];return f(n,i,n,i,t)}function y(e,t,n,i,r){var o=m(r);return I(o,e,t,n,i)}function A(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function _(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function C(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function I(e,t,n,i,r){for(;n<i;n+=r)E(e,t[n],t[n+1]);return e}function E(e,t,n){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],n),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],n)}function w(e,t){var n;return n=t(x(e)),n||(n=t(S(e)),n||(n=t(O(e)),n||(n=t(G(e)),n||!1)))}function b(e){var t=0;return F(e)||(t=D(e)*T(e)),t}function x(e){return[e[0],e[1]]}function S(e){return[e[2],e[1]]}function P(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function M(e,t){var n;if("bottom-left"===t)n=x(e);else if("bottom-right"===t)n=S(e);else if("top-left"===t)n=G(e);else{if("top-right"!==t)throw new Error("Invalid corner");n=O(e)}return n}function k(e,t,n,r,o){var a=R(e,t,n,r),s=(0,i.A)(a,8),l=s[0],u=s[1],c=s[2],h=s[3],d=s[4],p=s[5],g=s[6],m=s[7];return f(Math.min(l,c,d,g),Math.min(u,h,p,m),Math.max(l,c,d,g),Math.max(u,h,p,m),o)}function R(e,t,n,i){var r=t*i[0]/2,o=t*i[1]/2,a=Math.cos(n),s=Math.sin(n),l=r*a,u=r*s,c=o*a,h=o*s,d=e[0],p=e[1];return[d-l+h,p-u-c,d-l-h,p-u+c,d+l-h,p+u+c,d+l+h,p+u-c,d-l+h,p-u-c]}function T(e){return e[3]-e[1]}function L(e,t,n){var i=n||g();return N(e,t)?(e[0]>t[0]?i[0]=e[0]:i[0]=t[0],e[1]>t[1]?i[1]=e[1]:i[1]=t[1],e[2]<t[2]?i[2]=e[2]:i[2]=t[2],e[3]<t[3]?i[3]=e[3]:i[3]=t[3]):m(i),i}function G(e){return[e[0],e[3]]}function O(e){return[e[2],e[3]]}function D(e){return e[2]-e[0]}function N(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function F(e){return e[2]<e[0]||e[3]<e[1]}function U(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}function B(e,t,n){var i=!1,o=p(e,t),a=p(e,n);if(o===r.A.INTERSECTING||a===r.A.INTERSECTING)i=!0;else{var s,l,u=e[0],c=e[1],h=e[2],d=e[3],g=t[0],f=t[1],m=n[0],v=n[1],y=(v-f)/(m-g);a&r.A.ABOVE&&!(o&r.A.ABOVE)&&(s=m-(v-d)/y,i=s>=u&&s<=h),i||!(a&r.A.RIGHT)||o&r.A.RIGHT||(l=v-(m-h)*y,i=l>=c&&l<=d),i||!(a&r.A.BELOW)||o&r.A.BELOW||(s=m-(v-c)/y,i=s>=u&&s<=h),i||!(a&r.A.LEFT)||o&r.A.LEFT||(l=v-(m-u)*y,i=l>=c&&l<=d)}return i}function j(e,t,n,i){if(F(e))return m(n);var r=[];if(i>1)for(var o=e[2]-e[0],s=e[3]-e[1],l=0;l<i;++l)r.push(e[0]+o*l/i,e[1],e[2],e[1]+s*l/i,e[2]-o*l/i,e[3],e[0],e[3]-s*l/i);else r=[e[0],e[1],e[2],e[1],e[2],e[3],e[0],e[3]];t(r,r,2);for(var u=[],c=[],h=0,d=r.length;h<d;h+=2)u.push(r[h]),c.push(r[h+1]);return a(u,c,n)}function z(e,t){var n=t.getExtent(),i=P(e);if(t.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){var r=D(n),o=Math.floor((i[0]-n[0])/r),a=o*r;e[0]-=a,e[2]-=a}return e}function W(e,t){if(t.canWrapX()){var n=t.getExtent();if(!isFinite(e[0])||!isFinite(e[2]))return[[n[0],e[1],n[2],e[3]]];z(e,t);var i=D(n);if(D(e)>i)return[[n[0],e[1],n[2],e[3]]];if(e[0]<n[0])return[[e[0]+i,e[1],n[2],e[3]],[n[0],e[1],e[2],e[3]]];if(e[2]>n[2])return[[e[0],e[1],n[2],e[3]],[n[0],e[1],e[2]-i,e[3]]]}return[e]}},1945:function(e,t){"use strict";t.A={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},5519:function(e,t,n){"use strict";n.d(t,{m8:function(){return o},nF:function(){return a}});n(9432);var i=n(9331),r=!1;function o(e,t,n,i,o,a,s){var l=new XMLHttpRequest;l.open("GET","function"===typeof e?e(n,i,o):e,!0),"arraybuffer"==t.getType()&&(l.responseType="arraybuffer"),l.withCredentials=r,l.onload=function(e){if(!l.status||l.status>=200&&l.status<300){var i,r=t.getType();"json"==r?i=JSON.parse(l.responseText):"text"==r?i=l.responseText:"xml"==r?(i=l.responseXML,i||(i=(new DOMParser).parseFromString(l.responseText,"application/xml"))):"arraybuffer"==r&&(i=l.response),i?a(t.readFeatures(i,{extent:n,featureProjection:o}),t.readProjection(i)):s()}else s()},l.onerror=s,l.send()}function a(e,t){return function(n,r,a,s,l){var u=this;o(e,t,n,r,a,(function(e,t){u.addFeatures(e),void 0!==s&&s(e)}),l||i.tV)}}},2910:function(e,t,n){"use strict";n.d(t,{Bs:function(){return I},hX:function(){return A},te:function(){return E}});var i=n(8653),r=n(5026),o=n(9492),a=(n(6280),n(6449),n(2062),n(4782),n(3514),n(856)),s=n(3077),l=n(8225),u=n(3496),c=n(3313),h=n(5522),d=n(8957),p=n(5258),g=n(7739),f=n(5752),m=n(5857),v=n(1853),y=function(){function e(){(0,r.A)(this,e),this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=a.A,this.supportedMediaTypes=null}return(0,o.A)(e,[{key:"getReadOptions",value:function(e,t){if(t){var n=t.dataProjection?(0,m.Jt)(t.dataProjection):this.readProjection(e);t.extent&&n&&"tile-pixels"===n.getUnits()&&(n=(0,m.Jt)(n),n.setWorldExtent(t.extent)),t={dataProjection:n,featureProjection:t.featureProjection}}return this.adaptOptions(t)}},{key:"adaptOptions",value:function(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},e)}},{key:"getType",value:function(){return(0,f.b0)()}},{key:"readFeature",value:function(e,t){return(0,f.b0)()}},{key:"readFeatures",value:function(e,t){return(0,f.b0)()}},{key:"readGeometry",value:function(e,t){return(0,f.b0)()}},{key:"readProjection",value:function(e){return(0,f.b0)()}},{key:"writeFeature",value:function(e,t){return(0,f.b0)()}},{key:"writeFeatures",value:function(e,t){return(0,f.b0)()}},{key:"writeGeometry",value:function(e,t){return(0,f.b0)()}}])}();function A(e,t,n){var i=n?(0,m.Jt)(n.featureProjection):null,r=n?(0,m.Jt)(n.dataProjection):null,o=e;if(i&&r&&!(0,m.tI)(i,r)){t&&(o=e.clone());var a=t?i:r,s=t?r:i;"tile-pixels"===a.getUnits()?o.transform(a,s):o.applyTransform((0,m.RG)(a,s))}if(t&&n&&void 0!==n.decimals){var l=Math.pow(10,n.decimals),u=function(e){for(var t=0,n=e.length;t<n;++t)e[t]=Math.round(e[t]*l)/l;return e};o===e&&(o=e.clone()),o.applyTransform(u)}return o}t.Ay=y;var _={Point:l.A,LineString:u.A,Polygon:c.Ay,MultiPoint:h.A,MultiLineString:d.A,MultiPolygon:p.A};function C(e,t,n){return Array.isArray(t[0])?((0,v.mb)(e,0,t,n)||(e=e.slice(),(0,v.NK)(e,0,t,n)),e):((0,v.PA)(e,0,t,n)||(e=e.slice(),(0,v.ug)(e,0,t,n)),e)}function I(e,t){var n,r=e.geometry;if(!r)return[];if(Array.isArray(r))return r.map((function(t){return I((0,i.A)((0,i.A)({},e),{},{geometry:t}))})).flat();var o="MultiPolygon"===r.type?"Polygon":r.type;if("GeometryCollection"===o||"Circle"===o)throw new Error("Unsupported geometry type: "+o);var a=r.layout.length;return A(new s.Ay(o,"Polygon"===o?C(r.flatCoordinates,r.ends,a):r.flatCoordinates,null===(n=r.ends)||void 0===n?void 0:n.flat(),a,e.properties||{},e.id).enableSimplifyTransformed(),!1,t)}function E(e,t){if(!e)return null;if(Array.isArray(e)){var n=e.map((function(e){return E(e,t)}));return new g.A(n)}var i=_[e.type];return A(new i(e.flatCoordinates,e.layout,e.ends),!1,t)}},7881:function(e,t,n){"use strict";var i=n(5026),r=n(9492),o=n(5647),a=n(8578),s=(n(4423),n(4114),n(778),n(856)),l=n(3496),u=n(8957),c=n(8225),h=n(8700),d=n(3387),p=n(5857),g=n(3895),f=n(2910),m=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],v="http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd",y={rte:Z,trk:K,wpt:J},A=(0,d.Dm)(m,{rte:(0,d.VT)(Z),trk:(0,d.VT)(K),wpt:(0,d.VT)(J)}),_=(0,d.Dm)(m,{text:(0,d.kW)(g.E3,"linkText"),type:(0,d.kW)(g.E3,"linkType")}),C=(0,d.Dm)(m,{rte:(0,d.mm)(ee),trk:(0,d.mm)(te),wpt:(0,d.mm)(ie)}),I=function(e){function t(e){var n;return(0,i.A)(this,t),n=(0,o.A)(this,t),e=e||{},n.dataProjection=(0,p.Jt)("EPSG:4326"),n.readExtensions_=e.readExtensions,n}return(0,a.A)(t,e),(0,r.A)(t,[{key:"handleReadExtensions_",value:function(e){e||(e=[]);for(var t=0,n=e.length;t<n;++t){var i=e[t];if(this.readExtensions_){var r=i.get("extensionsNode_")||null;this.readExtensions_(i,r)}i.set("extensionsNode_",void 0)}}},{key:"readFeatureFromNode",value:function(e,t){if(!m.includes(e.namespaceURI))return null;var n=y[e.localName];if(!n)return null;var i=n(e,[this.getReadOptions(e,t)]);return i?(this.handleReadExtensions_([i]),i):null}},{key:"readFeaturesFromNode",value:function(e,t){if(!m.includes(e.namespaceURI))return[];if("gpx"==e.localName){var n=(0,d.eY)([],A,e,[this.getReadOptions(e,t)]);return n?(this.handleReadExtensions_(n),n):[]}return[]}},{key:"writeFeaturesNode",value:function(e,t){t=this.adaptOptions(t);var n=(0,d.qq)("http://www.topografix.com/GPX/1/1","gpx"),i="http://www.w3.org/2000/xmlns/";return n.setAttributeNS(i,"xmlns:xsi",d.pF),n.setAttributeNS(d.pF,"xsi:schemaLocation",v),n.setAttribute("version","1.1"),n.setAttribute("creator","OpenLayers"),(0,d.NQ)({node:n},C,j,e,[t]),n}}])}(h.A),E=(0,d.Dm)(m,{name:(0,d.kW)(g.E3),cmt:(0,d.kW)(g.E3),desc:(0,d.kW)(g.E3),src:(0,d.kW)(g.E3),link:V,number:(0,d.kW)(g.yg),extensions:Y,type:(0,d.kW)(g.E3),rtept:H}),w=(0,d.Dm)(m,{ele:(0,d.kW)(g.e4),time:(0,d.kW)(g._I)}),b=(0,d.Dm)(m,{name:(0,d.kW)(g.E3),cmt:(0,d.kW)(g.E3),desc:(0,d.kW)(g.E3),src:(0,d.kW)(g.E3),link:V,number:(0,d.kW)(g.yg),type:(0,d.kW)(g.E3),extensions:Y,trkseg:X}),x=(0,d.Dm)(m,{trkpt:q}),S=(0,d.Dm)(m,{ele:(0,d.kW)(g.e4),time:(0,d.kW)(g._I)}),P=(0,d.Dm)(m,{ele:(0,d.kW)(g.e4),time:(0,d.kW)(g._I),magvar:(0,d.kW)(g.e4),geoidheight:(0,d.kW)(g.e4),name:(0,d.kW)(g.E3),cmt:(0,d.kW)(g.E3),desc:(0,d.kW)(g.E3),src:(0,d.kW)(g.E3),link:V,sym:(0,d.kW)(g.E3),type:(0,d.kW)(g.E3),fix:(0,d.kW)(g.E3),sat:(0,d.kW)(g.yg),hdop:(0,d.kW)(g.e4),vdop:(0,d.kW)(g.e4),pdop:(0,d.kW)(g.e4),ageofdgpsdata:(0,d.kW)(g.e4),dgpsid:(0,d.kW)(g.yg),extensions:Y}),M=["text","type"],k=(0,d.Dm)(m,{text:(0,d.mm)(g.uB),type:(0,d.mm)(g.uB)}),R=(0,d.Dm)(m,["name","cmt","desc","src","link","number","type","rtept"]),T=(0,d.Dm)(m,{name:(0,d.mm)(g.uB),cmt:(0,d.mm)(g.uB),desc:(0,d.mm)(g.uB),src:(0,d.mm)(g.uB),link:(0,d.mm)(Q),number:(0,d.mm)(g.pE),type:(0,d.mm)(g.uB),rtept:(0,d.gN)((0,d.mm)($))}),L=(0,d.Dm)(m,["ele","time"]),G=(0,d.Dm)(m,["name","cmt","desc","src","link","number","type","trkseg"]),O=(0,d.Dm)(m,{name:(0,d.mm)(g.uB),cmt:(0,d.mm)(g.uB),desc:(0,d.mm)(g.uB),src:(0,d.mm)(g.uB),link:(0,d.mm)(Q),number:(0,d.mm)(g.pE),type:(0,d.mm)(g.uB),trkseg:(0,d.gN)((0,d.mm)(ne))}),D=(0,d.X1)("trkpt"),N=(0,d.Dm)(m,{trkpt:(0,d.mm)($)}),F=(0,d.Dm)(m,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),U=(0,d.Dm)(m,{ele:(0,d.mm)(g.Ko),time:(0,d.mm)(g.cS),magvar:(0,d.mm)(g.Ko),geoidheight:(0,d.mm)(g.Ko),name:(0,d.mm)(g.uB),cmt:(0,d.mm)(g.uB),desc:(0,d.mm)(g.uB),src:(0,d.mm)(g.uB),link:(0,d.mm)(Q),sym:(0,d.mm)(g.uB),type:(0,d.mm)(g.uB),fix:(0,d.mm)(g.uB),sat:(0,d.mm)(g.pE),hdop:(0,d.mm)(g.Ko),vdop:(0,d.mm)(g.Ko),pdop:(0,d.mm)(g.Ko),ageofdgpsdata:(0,d.mm)(g.Ko),dgpsid:(0,d.mm)(g.pE)}),B={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function j(e,t,n){var i=e.getGeometry();if(i){var r=B[i.getType()];if(r){var o=t[t.length-1].node;return(0,d.qq)(o.namespaceURI,r)}}}function z(e,t,n,i){return e.push(parseFloat(n.getAttribute("lon")),parseFloat(n.getAttribute("lat"))),"ele"in i?(e.push(i["ele"]),delete i["ele"],t.hasZ=!0):e.push(0),"time"in i?(e.push(i["time"]),delete i["time"],t.hasM=!0):e.push(0),e}function W(e,t,n){var i="XY",r=2;if(e.hasZ&&e.hasM?(i="XYZM",r=4):e.hasZ?(i="XYZ",r=3):e.hasM&&(i="XYM",r=3),4!==r){for(var o=0,a=t.length/4;o<a;o++)t[o*r]=t[4*o],t[o*r+1]=t[4*o+1],e.hasZ&&(t[o*r+2]=t[4*o+2]),e.hasM&&(t[o*r+2]=t[4*o+3]);if(t.length=t.length/4*r,n)for(var s=0,l=n.length;s<l;s++)n[s]=n[s]/4*r}return i}function V(e,t){var n=t[t.length-1],i=e.getAttribute("href");null!==i&&(n["link"]=i),(0,d.UN)(_,e,t)}function Y(e,t){var n=t[t.length-1];n["extensionsNode_"]=e}function H(e,t){var n=(0,d.eY)({},w,e,t);if(n){var i=t[t.length-1],r=i["flatCoordinates"],o=i["layoutOptions"];z(r,o,e,n)}}function q(e,t){var n=(0,d.eY)({},S,e,t);if(n){var i=t[t.length-1],r=i["flatCoordinates"],o=i["layoutOptions"];z(r,o,e,n)}}function X(e,t){var n=t[t.length-1];(0,d.UN)(x,e,t);var i=n["flatCoordinates"],r=n["ends"];r.push(i.length)}function Z(e,t){var n=t[0],i=(0,d.eY)({flatCoordinates:[],layoutOptions:{}},E,e,t);if(i){var r=i["flatCoordinates"];delete i["flatCoordinates"];var o=i["layoutOptions"];delete i["layoutOptions"];var a=W(o,r),u=new l.A(r,a);(0,f.hX)(u,!1,n);var c=new s.A(u);return c.setProperties(i,!0),c}}function K(e,t){var n=t[0],i=(0,d.eY)({flatCoordinates:[],ends:[],layoutOptions:{}},b,e,t);if(i){var r=i["flatCoordinates"];delete i["flatCoordinates"];var o=i["ends"];delete i["ends"];var a=i["layoutOptions"];delete i["layoutOptions"];var l=W(a,r,o),c=new u.A(r,l,o);(0,f.hX)(c,!1,n);var h=new s.A(c);return h.setProperties(i,!0),h}}function J(e,t){var n=t[0],i=(0,d.eY)({},P,e,t);if(i){var r={},o=z([],r,e,i),a=W(r,o),l=new c.A(o,a);(0,f.hX)(l,!1,n);var u=new s.A(l);return u.setProperties(i,!0),u}}function Q(e,t,n){e.setAttribute("href",t);var i=n[n.length-1],r=i["properties"],o=[r["linkText"],r["linkType"]];(0,d.NQ)({node:e},k,d.OL,o,n,M)}function $(e,t,n){var i=n[n.length-1],r=i.node,o=r.namespaceURI,a=i["properties"];e.setAttributeNS(null,"lat",String(t[1])),e.setAttributeNS(null,"lon",String(t[0]));var s=i["geometryLayout"];switch(s){case"XYZM":0!==t[3]&&(a["time"]=t[3]);case"XYZ":0!==t[2]&&(a["ele"]=t[2]);break;case"XYM":0!==t[2]&&(a["time"]=t[2]);break;default:}var l="rtept"==e.nodeName?L[o]:F[o],u=(0,d.Gl)(a,l);(0,d.NQ)({node:e,properties:a},U,d.OL,u,n,l)}function ee(e,t,n){var i=n[0],r=t.getProperties(),o={node:e};o["properties"]=r;var a=t.getGeometry();if("LineString"==a.getType()){var s=(0,f.hX)(a,!0,i);o["geometryLayout"]=s.getLayout(),r["rtept"]=s.getCoordinates()}var l=n[n.length-1].node,u=R[l.namespaceURI],c=(0,d.Gl)(r,u);(0,d.NQ)(o,T,d.OL,c,n,u)}function te(e,t,n){var i=n[0],r=t.getProperties(),o={node:e};o["properties"]=r;var a=t.getGeometry();if("MultiLineString"==a.getType()){var s=(0,f.hX)(a,!0,i);r["trkseg"]=s.getLineStrings()}var l=n[n.length-1].node,u=G[l.namespaceURI],c=(0,d.Gl)(r,u);(0,d.NQ)(o,O,d.OL,c,n,u)}function ne(e,t,n){var i={node:e};i["geometryLayout"]=t.getLayout(),i["properties"]={},(0,d.NQ)(i,N,D,t.getCoordinates(),n)}function ie(e,t,n){var i=n[0],r=n[n.length-1];r["properties"]=t.getProperties();var o=t.getGeometry();if("Point"==o.getType()){var a=(0,f.hX)(o,!0,i);r["geometryLayout"]=a.getLayout(),$(e,a.getCoordinates(),n)}}t.A=I},8131:function(e,t,n){"use strict";n.d(t,{A:function(){return D}});var i=n(5026),r=n(9492),o=n(5647),a=n(8578),s=(n(6280),n(6449),n(2062),n(4114),n(3514),n(2010),n(856)),l=(n(3110),n(9432),n(2910)),u=n(5752),c=function(e){function t(){return(0,i.A)(this,t),(0,o.A)(this,t)}return(0,a.A)(t,e),(0,r.A)(t,[{key:"getType",value:function(){return"json"}},{key:"readFeature",value:function(e,t){return this.readFeatureFromObject(h(e),this.getReadOptions(e,t))}},{key:"readFeatures",value:function(e,t){return this.readFeaturesFromObject(h(e),this.getReadOptions(e,t))}},{key:"readFeatureFromObject",value:function(e,t){return(0,u.b0)()}},{key:"readFeaturesFromObject",value:function(e,t){return(0,u.b0)()}},{key:"readGeometry",value:function(e,t){return this.readGeometryFromObject(h(e),this.getReadOptions(e,t))}},{key:"readGeometryFromObject",value:function(e,t){return(0,u.b0)()}},{key:"readProjection",value:function(e){return this.readProjectionFromObject(h(e))}},{key:"readProjectionFromObject",value:function(e){return(0,u.b0)()}},{key:"writeFeature",value:function(e,t){return JSON.stringify(this.writeFeatureObject(e,t))}},{key:"writeFeatureObject",value:function(e,t){return(0,u.b0)()}},{key:"writeFeatures",value:function(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))}},{key:"writeFeaturesObject",value:function(e,t){return(0,u.b0)()}},{key:"writeGeometry",value:function(e,t){return JSON.stringify(this.writeGeometryObject(e,t))}},{key:"writeGeometryObject",value:function(e,t){return(0,u.b0)()}}])}(l.Ay);function h(e){if("string"===typeof e){var t=JSON.parse(e);return t||null}return null!==e?e:null}var d=c,p=n(3077),g=n(6320),f=n(3665),m=n(5857),v=n(6811),y=function(e){function t(e){var n;return(0,i.A)(this,t),e=e||{},n=(0,o.A)(this,t),n.dataProjection=(0,m.Jt)(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(n.defaultFeatureProjection=(0,m.Jt)(e.featureProjection)),e.featureClass&&(n.featureClass=e.featureClass),n.geometryName_=e.geometryName,n.extractGeometryName_=e.extractGeometryName,n.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"],n}return(0,a.A)(t,e),(0,r.A)(t,[{key:"readFeatureFromObject",value:function(e,t){var n=null;n="Feature"===e["type"]?e:{type:"Feature",geometry:e,properties:null};var i=A(n["geometry"],t);if(this.featureClass===p.Ay)return(0,l.Bs)({geometry:i,id:n["id"],properties:n["properties"]},t);var r=new s.A;return this.geometryName_?r.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in n!==void 0&&r.setGeometryName(n["geometry_name"]),r.setGeometry((0,l.te)(i,t)),"id"in n&&r.setId(n["id"]),n["properties"]&&r.setProperties(n["properties"],!0),r}},{key:"readFeaturesFromObject",value:function(e,t){var n=e,i=null;if("FeatureCollection"===n["type"]){var r=e;i=[];for(var o=r["features"],a=0,s=o.length;a<s;++a){var l=this.readFeatureFromObject(o[a],t);l&&i.push(l)}}else i=[this.readFeatureFromObject(e,t)];return i.flat()}},{key:"readGeometryFromObject",value:function(e,t){return _(e,t)}},{key:"readProjectionFromObject",value:function(e){var t,n=e["crs"];if(n)if("name"==n["type"])t=(0,m.Jt)(n["properties"]["name"]);else{if("EPSG"!==n["type"])throw new Error("Unknown SRS type");t=(0,m.Jt)("EPSG:"+n["properties"]["code"])}else t=this.dataProjection;return t}},{key:"writeFeatureObject",value:function(e,t){t=this.adaptOptions(t);var n={type:"Feature",geometry:null,properties:null},i=e.getId();if(void 0!==i&&(n.id=i),!e.hasProperties())return n;var r=e.getProperties(),o=e.getGeometry();return o&&(n.geometry=P(o,t),delete r[e.getGeometryName()]),(0,v.p)(r)||(n.properties=r),n}},{key:"writeFeaturesObject",value:function(e,t){t=this.adaptOptions(t);for(var n=[],i=0,r=e.length;i<r;++i)n.push(this.writeFeatureObject(e[i],t));return{type:"FeatureCollection",features:n}}},{key:"writeGeometryObject",value:function(e,t){return P(e,this.adaptOptions(t))}}])}(d);function A(e,t){if(!e)return null;var n;switch(e["type"]){case"Point":n=I(e);break;case"LineString":n=E(e);break;case"Polygon":n=S(e);break;case"MultiPoint":n=b(e);break;case"MultiLineString":n=w(e);break;case"MultiPolygon":n=x(e);break;case"GeometryCollection":n=C(e);break;default:throw new Error("Unsupported GeoJSON type: "+e["type"])}return n}function _(e,t){var n=A(e,t);return(0,l.te)(n,t)}function C(e,t){var n=e["geometries"].map((function(e){return A(e,t)}));return n}function I(e){var t=e["coordinates"];return{type:"Point",flatCoordinates:t,layout:(0,f.p0)(t.length)}}function E(e){var t=e["coordinates"],n=t.flat();return{type:"LineString",flatCoordinates:n,ends:[n.length],layout:(0,f.p0)(t[0].length)}}function w(e){var t=e["coordinates"],n=t[0][0].length,i=[],r=(0,g.KG)(i,0,t,n);return{type:"MultiLineString",flatCoordinates:i,ends:r,layout:(0,f.p0)(n)}}function b(e){var t=e["coordinates"];return{type:"MultiPoint",flatCoordinates:t.flat(),layout:(0,f.p0)(t[0].length)}}function x(e){var t=e["coordinates"],n=[],i=t[0][0][0].length,r=(0,g.d6)(n,0,t,i);return{type:"MultiPolygon",flatCoordinates:n,ends:r,layout:(0,f.p0)(i)}}function S(e){var t=e["coordinates"],n=[],i=t[0][0].length,r=(0,g.KG)(n,0,t,i);return{type:"Polygon",flatCoordinates:n,ends:r,layout:(0,f.p0)(i)}}function P(e,t){e=(0,l.hX)(e,!0,t);var n,i=e.getType();switch(i){case"Point":n=G(e,t);break;case"LineString":n=k(e,t);break;case"Polygon":n=O(e,t);break;case"MultiPoint":n=T(e,t);break;case"MultiLineString":n=R(e,t);break;case"MultiPolygon":n=L(e,t);break;case"GeometryCollection":n=M(e,t);break;case"Circle":n={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+i)}return n}function M(e,t){t=Object.assign({},t),delete t.featureProjection;var n=e.getGeometriesArray().map((function(e){return P(e,t)}));return{type:"GeometryCollection",geometries:n}}function k(e,t){return{type:"LineString",coordinates:e.getCoordinates()}}function R(e,t){return{type:"MultiLineString",coordinates:e.getCoordinates()}}function T(e,t){return{type:"MultiPoint",coordinates:e.getCoordinates()}}function L(e,t){var n;return t&&(n=t.rightHanded),{type:"MultiPolygon",coordinates:e.getCoordinates(n)}}function G(e,t){return{type:"Point",coordinates:e.getCoordinates()}}function O(e,t){var n;return t&&(n=t.rightHanded),{type:"Polygon",coordinates:e.getCoordinates(n)}}var D=y},8616:function(e,t,n){"use strict";var i,r,o,a,s,l,u=n(4119),c=n(9258),h=n(5026),d=n(9492),p=n(5647),g=n(8578),f=(n(6280),n(8706),n(3771),n(2008),n(4423),n(8598),n(4114),n(4782),n(6910),n(2010),n(2892),n(9432),n(6099),n(7495),n(906),n(8781),n(1699),n(7764),n(5440),n(2762),n(3500),n(2953),n(3296),n(7208),n(8408),n(4603),n(7566),n(8721),n(856)),m=n(8343),v=n(7739),y=n(7379),A=n(1410),_=n(3496),C=n(8957),I=n(5522),E=n(5258),w=n(8225),b=n(3313),x=n(5782),S=n(6505),P=n(6121),M=n(8700),k=n(3387),R=n(5007),T=n(6232),L=n(5857),G=n(3895),O=n(5674),D=n(2910),N=["http://www.google.com/kml/ext/2.2"],F=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],U="http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd",B={fraction:"fraction",pixels:"pixels",insetPixels:"pixels"},j=(0,k.Dm)(F,{ExtendedData:Je,Region:Qe,MultiGeometry:(0,k.kW)(je,"geometry"),LineString:(0,k.kW)(Fe,"geometry"),LinearRing:(0,k.kW)(Ue,"geometry"),Point:(0,k.kW)(ze,"geometry"),Polygon:(0,k.kW)(Ve,"geometry"),Style:(0,k.kW)(He),StyleMap:tt,address:(0,k.kW)(G.E3),description:(0,k.kW)(G.E3),name:(0,k.kW)(G.E3),open:(0,k.kW)(G.Vf),phoneNumber:(0,k.kW)(G.E3),styleUrl:(0,k.kW)(pe),visibility:(0,k.kW)(G.Vf)},(0,k.Dm)(N,{MultiTrack:(0,k.kW)(ke,"geometry"),Track:(0,k.kW)(Te,"geometry")})),z=(0,k.Dm)(F,{ExtendedData:Je,Region:Qe,Link:pt,address:(0,k.kW)(G.E3),description:(0,k.kW)(G.E3),name:(0,k.kW)(G.E3),open:(0,k.kW)(G.Vf),phoneNumber:(0,k.kW)(G.E3),visibility:(0,k.kW)(G.Vf)}),W=(0,k.Dm)(F,{href:(0,k.kW)(de)}),V=(0,k.Dm)(F,{Altitude:(0,k.kW)(G.e4),Longitude:(0,k.kW)(G.e4),Latitude:(0,k.kW)(G.e4),Tilt:(0,k.kW)(G.e4),AltitudeMode:(0,k.kW)(G.E3),Heading:(0,k.kW)(G.e4),Roll:(0,k.kW)(G.e4)}),Y=(0,k.Dm)(F,{LatLonAltBox:at,Lod:lt}),H=(0,k.Dm)(F,["Document","Placemark"]),q=(0,k.Dm)(F,{Document:(0,k.mm)(Et),Placemark:(0,k.mm)(Qt)}),X=null;var Z,K=null;var J,Q=null;var $=null;var ee=null;var te,ne=null;function ie(e){return 32/Math.min(e[0],e[1])}function re(){i=[255,255,255,1],X=new m.A({color:i}),r=[20,2],o="pixels",a="pixels",s=[64,64],l="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",K=new y.A({anchor:r,anchorOrigin:"bottom-left",anchorXUnits:o,anchorYUnits:a,crossOrigin:"anonymous",rotation:0,scale:ie(s),size:s,src:l}),Z="NO_IMAGE",Q=new x.A({color:i,width:1}),J=new x.A({color:[51,51,51,1],width:2}),$=new P.A({font:"bold 16px Helvetica",fill:X,stroke:J,scale:.8}),ee=new S.Ay({fill:X,image:K,text:$,stroke:Q,zIndex:0}),ne=[ee]}function oe(e){return e}var ae=function(e){function t(e){var n;return(0,h.A)(this,t),n=(0,p.A)(this,t),e=e||{},ne||re(),n.dataProjection=(0,L.Jt)("EPSG:4326"),n.defaultStyle_=e.defaultStyle?e.defaultStyle:ne,n.extractStyles_=void 0===e.extractStyles||e.extractStyles,n.writeStyles_=void 0===e.writeStyles||e.writeStyles,n.sharedStyles_={},n.showPointNames_=void 0===e.showPointNames||e.showPointNames,n.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:"anonymous",n.iconUrlFunction_=e.iconUrlFunction?e.iconUrlFunction:oe,n.supportedMediaTypes=["application/vnd.google-earth.kml+xml"],n}return(0,g.A)(t,e),(0,d.A)(t,[{key:"readDocumentOrFolder_",value:function(e,t){var n=(0,k.Dm)(F,{Document:(0,k.Vh)(this.readDocumentOrFolder_,this),Folder:(0,k.Vh)(this.readDocumentOrFolder_,this),Placemark:(0,k.VT)(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),i=(0,k.eY)([],n,e,t,this);if(i)return i}},{key:"readPlacemark_",value:function(e,t){var n=(0,k.eY)({geometry:null},j,e,t,this);if(n){var i=new f.A,r=e.getAttribute("id");null!==r&&i.setId(r);var o=t[0],a=n["geometry"];if(a&&(0,D.hX)(a,!1,o),i.setGeometry(a),delete n["geometry"],this.extractStyles_){var s=n["Style"],l=n["styleUrl"],u=le(s,l,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);i.setStyle(u)}return delete n["Style"],i.setProperties(n,!0),i}}},{key:"readSharedStyle_",value:function(e,t){var n=e.getAttribute("id");if(null!==n){var i=He.call(this,e,t);if(i){var r,o=e.baseURI;if(o&&"about:blank"!=o||(o=window.location.href),o){var a=new URL("#"+n,o);r=a.href}else r="#"+n;this.sharedStyles_[r]=i}}}},{key:"readSharedStyleMap_",value:function(e,t){var n=e.getAttribute("id");if(null!==n){var i=ve.call(this,e,t);if(i){var r,o=e.baseURI;if(o&&"about:blank"!=o||(o=window.location.href),o){var a=new URL("#"+n,o);r=a.href}else r="#"+n;this.sharedStyles_[r]=i}}}},{key:"readFeatureFromNode",value:function(e,t){if(!F.includes(e.namespaceURI))return null;var n=this.readPlacemark_(e,[this.getReadOptions(e,t)]);return n||null}},{key:"readFeaturesFromNode",value:function(e,t){if(!F.includes(e.namespaceURI))return[];var n,i=e.localName;if("Document"==i||"Folder"==i)return n=this.readDocumentOrFolder_(e,[this.getReadOptions(e,t)]),n||[];if("Placemark"==i){var r=this.readPlacemark_(e,[this.getReadOptions(e,t)]);return r?[r]:[]}if("kml"==i){n=[];for(var o=e.firstElementChild;o;o=o.nextElementSibling){var a=this.readFeaturesFromNode(o,t);a&&(0,T.X$)(n,a)}return n}return[]}},{key:"readName",value:function(e){if(e){if("string"===typeof e){var t=(0,k.qg)(e);return this.readNameFromDocument(t)}return(0,k.wz)(e)?this.readNameFromDocument(e):this.readNameFromNode(e)}}},{key:"readNameFromDocument",value:function(e){for(var t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE){var n=this.readNameFromNode(t);if(n)return n}}},{key:"readNameFromNode",value:function(e){for(var t=e.firstElementChild;t;t=t.nextElementSibling)if(F.includes(t.namespaceURI)&&"name"==t.localName)return(0,G.E3)(t);for(var n=e.firstElementChild;n;n=n.nextElementSibling){var i=n.localName;if(F.includes(n.namespaceURI)&&("Document"==i||"Folder"==i||"Placemark"==i||"kml"==i)){var r=this.readNameFromNode(n);if(r)return r}}}},{key:"readNetworkLinks",value:function(e){var t=[];if("string"===typeof e){var n=(0,k.qg)(e);(0,T.X$)(t,this.readNetworkLinksFromDocument(n))}else(0,k.wz)(e)?(0,T.X$)(t,this.readNetworkLinksFromDocument(e)):(0,T.X$)(t,this.readNetworkLinksFromNode(e));return t}},{key:"readNetworkLinksFromDocument",value:function(e){for(var t=[],n=e.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&(0,T.X$)(t,this.readNetworkLinksFromNode(n));return t}},{key:"readNetworkLinksFromNode",value:function(e){for(var t=[],n=e.firstElementChild;n;n=n.nextElementSibling)if(F.includes(n.namespaceURI)&&"NetworkLink"==n.localName){var i=(0,k.eY)({},z,n,[]);t.push(i)}for(var r=e.firstElementChild;r;r=r.nextElementSibling){var o=r.localName;!F.includes(r.namespaceURI)||"Document"!=o&&"Folder"!=o&&"kml"!=o||(0,T.X$)(t,this.readNetworkLinksFromNode(r))}return t}},{key:"readRegion",value:function(e){var t=[];if("string"===typeof e){var n=(0,k.qg)(e);(0,T.X$)(t,this.readRegionFromDocument(n))}else(0,k.wz)(e)?(0,T.X$)(t,this.readRegionFromDocument(e)):(0,T.X$)(t,this.readRegionFromNode(e));return t}},{key:"readRegionFromDocument",value:function(e){for(var t=[],n=e.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&(0,T.X$)(t,this.readRegionFromNode(n));return t}},{key:"readRegionFromNode",value:function(e){for(var t=[],n=e.firstElementChild;n;n=n.nextElementSibling)if(F.includes(n.namespaceURI)&&"Region"==n.localName){var i=(0,k.eY)({},Y,n,[]);t.push(i)}for(var r=e.firstElementChild;r;r=r.nextElementSibling){var o=r.localName;!F.includes(r.namespaceURI)||"Document"!=o&&"Folder"!=o&&"kml"!=o||(0,T.X$)(t,this.readRegionFromNode(r))}return t}},{key:"readCamera",value:function(e){var t=[];if("string"===typeof e){var n=(0,k.qg)(e);(0,T.X$)(t,this.readCameraFromDocument(n))}else(0,k.wz)(e)?(0,T.X$)(t,this.readCameraFromDocument(e)):(0,T.X$)(t,this.readCameraFromNode(e));return t}},{key:"readCameraFromDocument",value:function(e){for(var t=[],n=e.firstChild;n;n=n.nextSibling)n.nodeType===Node.ELEMENT_NODE&&(0,T.X$)(t,this.readCameraFromNode(n));return t}},{key:"readCameraFromNode",value:function(e){for(var t=[],n=e.firstElementChild;n;n=n.nextElementSibling)if(F.includes(n.namespaceURI)&&"Camera"===n.localName){var i=(0,k.eY)({},V,n,[]);t.push(i)}for(var r=e.firstElementChild;r;r=r.nextElementSibling){var o=r.localName;!F.includes(r.namespaceURI)||"Document"!==o&&"Folder"!==o&&"Placemark"!==o&&"kml"!==o||(0,T.X$)(t,this.readCameraFromNode(r))}return t}},{key:"writeFeaturesNode",value:function(e,t){t=this.adaptOptions(t);var n=(0,k.qq)(F[4],"kml"),i="http://www.w3.org/2000/xmlns/";n.setAttributeNS(i,"xmlns:gx",N[0]),n.setAttributeNS(i,"xmlns:xsi",k.pF),n.setAttributeNS(k.pF,"xsi:schemaLocation",U);var r={node:n},o={};e.length>1?o["Document"]=e:1==e.length&&(o["Placemark"]=e[0]);var a=H[n.namespaceURI],s=(0,k.Gl)(o,a);return(0,k.NQ)(r,q,k.OL,s,[t],a,this),n}}])}(M.A);function se(e,t){var n=[0,0],i="start",r=e.getImage();if(r){var o=r.getSize();if(o&&2==o.length){var a=r.getScaleArray(),s=r.getAnchor();n[0]=a[0]*(o[0]-s[0]),n[1]=a[1]*(o[1]/2-s[1]),i="left"}}var l=e.getText();l?(l=l.clone(),l.setFont(l.getFont()||$.getFont()),l.setScale(l.getScale()||$.getScale()),l.setFill(l.getFill()||$.getFill()),l.setStroke(l.getStroke()||J)):l=$.clone(),l.setText(t),l.setOffsetX(n[0]),l.setOffsetY(n[1]),l.setTextAlign(i);var u=new S.Ay({image:r,text:l});return u}function le(e,t,n,i,r){return function(o,a){var s=r,l="",u=[];if(s){var c=o.getGeometry();if(c)if(c instanceof v.A)u=c.getGeometriesArrayRecursive().filter((function(e){var t=e.getType();return"Point"===t||"MultiPoint"===t})),s=u.length>0;else{var h=c.getType();s="Point"===h||"MultiPoint"===h}}s&&(l=o.get("name"),s=s&&!!l,s&&/&[^&]+;/.test(l)&&(te||(te=document.createElement("textarea")),te.innerHTML=l,l=te.value));var d=n;if(e?d=e:t&&(d=ue(t,n,i)),s){var p=se(d[0],l);if(u.length>0){p.setGeometry(new v.A(u));var g=new S.Ay({geometry:d[0].getGeometry(),image:null,fill:d[0].getFill(),stroke:d[0].getStroke(),text:null});return[p,g].concat(d.slice(1))}return p}return d}}function ue(e,t,n){return Array.isArray(e)?e:"string"===typeof e?ue(n[e],t,n):t}function ce(e){var t=(0,k.mT)(e,!1),n=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t);if(n){var i=n[1];return[parseInt(i.substr(6,2),16),parseInt(i.substr(4,2),16),parseInt(i.substr(2,2),16),parseInt(i.substr(0,2),16)/255]}}function he(e){var t=(0,k.mT)(e,!1),n=[];t=t.replace(/\s*,\s*/g,",");var i,r=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?),([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|,|$)(?:([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|$))?\s*/i;while(i=r.exec(t)){var o=parseFloat(i[1]),a=parseFloat(i[2]),s=i[3]?parseFloat(i[3]):0;n.push(o,a,s),t=t.substr(i[0].length)}if(""===t)return n}function de(e){var t=(0,k.mT)(e,!1).trim(),n=e.baseURI;if(n&&"about:blank"!=n||(n=window.location.href),n){var i=new URL(t,n);return i.href}return t}function pe(e){var t=(0,k.mT)(e,!1).trim().replace(/^(?!.*#)/,"#"),n=e.baseURI;if(n&&"about:blank"!=n||(n=window.location.href),n){var i=new URL(t,n);return i.href}return t}function ge(e){var t,n=e.getAttribute("xunits"),i=e.getAttribute("yunits");return t="insetPixels"!==n?"insetPixels"!==i?"bottom-left":"top-left":"insetPixels"!==i?"bottom-right":"top-right",{x:parseFloat(e.getAttribute("x")),xunits:B[n],y:parseFloat(e.getAttribute("y")),yunits:B[i],origin:t}}function fe(e){return(0,G.e4)(e)}var me=(0,k.Dm)(F,{Pair:et});function ve(e,t){return(0,k.eY)(void 0,me,e,t,this)}var ye=(0,k.Dm)(F,{Icon:(0,k.kW)(Ge),color:(0,k.kW)(ce),heading:(0,k.kW)(G.e4),hotSpot:(0,k.kW)(ge),scale:(0,k.kW)(fe)});function Ae(e,t){var n=(0,k.eY)({},ye,e,t);if(n){var i,u,c,h,d=t[t.length-1],p="Icon"in n?n["Icon"]:{},g=!("Icon"in n)||Object.keys(p).length>0,f=p["href"];f?i=f:g&&(i=l);var m,v="bottom-left",_=n["hotSpot"];_?(u=[_.x,_.y],c=_.xunits,h=_.yunits,v=_.origin):/^https?:\/\/maps\.(?:google|gstatic)\.com\//.test(i)&&(i.includes("pushpin")?(u=r,c=o,h=a):i.includes("arrow-reverse")?(u=[54,42],c=o,h=a):i.includes("paddle")&&(u=[32,1],c=o,h=a));var C,I=p["x"],E=p["y"];void 0!==I&&void 0!==E&&(m=[I,E]);var w,b=p["w"],x=p["h"];void 0!==b&&void 0!==x&&(C=[b,x]);var S=n["heading"];void 0!==S&&(w=(0,O.eh)(S));var P=n["scale"],M=n["color"];if(g){i==l&&(C=s);var R=new y.A({anchor:u,anchorOrigin:v,anchorXUnits:c,anchorYUnits:h,crossOrigin:this.crossOrigin_,offset:m,offsetOrigin:"bottom-left",rotation:w,scale:P,size:C,src:this.iconUrlFunction_(i),color:M}),T=R.getScaleArray()[0],L=R.getSize();if(null===L){var G=R.getImageState();if(G===A.A.IDLE||G===A.A.LOADING){var D=function e(){var t=R.getImageState();if(t!==A.A.IDLE&&t!==A.A.LOADING){var n=R.getSize();if(n&&2==n.length){var i=ie(n);R.setScale(T*i)}R.unlistenImageChange(e)}};R.listenImageChange(D),G===A.A.IDLE&&R.load()}}else if(2==L.length){var N=ie(L);R.setScale(T*N)}d["imageStyle"]=R}else d["imageStyle"]=Z}}var _e=(0,k.Dm)(F,{color:(0,k.kW)(ce),scale:(0,k.kW)(fe)});function Ce(e,t){var n=(0,k.eY)({},_e,e,t);if(n){var r=t[t.length-1],o=new P.A({fill:new m.A({color:"color"in n?n["color"]:i}),scale:n["scale"]});r["textStyle"]=o}}var Ie=(0,k.Dm)(F,{color:(0,k.kW)(ce),width:(0,k.kW)(G.e4)});function Ee(e,t){var n=(0,k.eY)({},Ie,e,t);if(n){var r=t[t.length-1],o=new x.A({color:"color"in n?n["color"]:i,width:"width"in n?n["width"]:1});r["strokeStyle"]=o}}var we=(0,k.Dm)(F,{color:(0,k.kW)(ce),fill:(0,k.kW)(G.Vf),outline:(0,k.kW)(G.Vf)});function be(e,t){var n=(0,k.eY)({},we,e,t);if(n){var r=t[t.length-1],o=new m.A({color:"color"in n?n["color"]:i});r["fillStyle"]=o;var a=n["fill"];void 0!==a&&(r["fill"]=a);var s=n["outline"];void 0!==s&&(r["outline"]=s)}}var xe=(0,k.Dm)(F,{coordinates:(0,k.Tb)(he)});function Se(e,t){return(0,k.eY)(null,xe,e,t)}function Pe(e,t){var n=t[t.length-1],i=n.coordinates,r=(0,k.mT)(e,!1),o=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i,a=o.exec(r);if(a){var s=parseFloat(a[1]),l=parseFloat(a[2]),u=parseFloat(a[3]);i.push([s,l,u])}else i.push([])}var Me=(0,k.Dm)(N,{Track:(0,k.VT)(Te)});function ke(e,t){var n=(0,k.eY)([],Me,e,t);if(n)return new C.A(n)}var Re=(0,k.Dm)(F,{when:gt},(0,k.Dm)(N,{coord:Pe}));function Te(e,t){var n=(0,k.eY)({coordinates:[],whens:[]},Re,e,t);if(n){for(var i=[],r=n.coordinates,o=n.whens,a=0,s=Math.min(r.length,o.length);a<s;++a)3==r[a].length&&i.push(r[a][0],r[a][1],r[a][2],o[a]);return new _.A(i,"XYZM")}}var Le=(0,k.Dm)(F,{href:(0,k.kW)(de)},(0,k.Dm)(N,{x:(0,k.kW)(G.e4),y:(0,k.kW)(G.e4),w:(0,k.kW)(G.e4),h:(0,k.kW)(G.e4)}));function Ge(e,t){var n=(0,k.eY)({},Le,e,t);return n||null}var Oe=(0,k.Dm)(F,{coordinates:(0,k.Tb)(he)});function De(e,t){return(0,k.eY)(null,Oe,e,t)}var Ne=(0,k.Dm)(F,{extrude:(0,k.kW)(G.Vf),tessellate:(0,k.kW)(G.Vf),altitudeMode:(0,k.kW)(G.E3)});function Fe(e,t){var n=(0,k.eY)({},Ne,e,t),i=De(e,t);if(i){var r=new _.A(i,"XYZ");return r.setProperties(n,!0),r}}function Ue(e,t){var n=(0,k.eY)({},Ne,e,t),i=De(e,t);if(i){var r=new b.Ay(i,"XYZ",[i.length]);return r.setProperties(n,!0),r}}var Be=(0,k.Dm)(F,{LineString:(0,k.VT)(Fe),LinearRing:(0,k.VT)(Ue),MultiGeometry:(0,k.VT)(je),Point:(0,k.VT)(ze),Polygon:(0,k.VT)(Ve)});function je(e,t){var n,i=(0,k.eY)([],Be,e,t);if(!i)return null;if(0===i.length)return new v.A(i);for(var r,o,a,s=!0,l=i[0].getType(),u=1,c=i.length;u<c;++u)if(r=i[u],r.getType()!=l){s=!1;break}if(s)if("Point"==l){var h=i[0];o=h.getLayout(),a=h.getFlatCoordinates();for(var d=1,p=i.length;d<p;++d)r=i[d],(0,T.X$)(a,r.getFlatCoordinates());n=new I.A(a,o),qe(n,i)}else if("LineString"==l)n=new C.A(i),qe(n,i);else if("Polygon"==l)n=new E.A(i),qe(n,i);else{if("GeometryCollection"!=l)throw new Error("Unknown geometry type found");n=new v.A(i)}else n=new v.A(i);return n}function ze(e,t){var n=(0,k.eY)({},Ne,e,t),i=De(e,t);if(i){var r=new w.A(i,"XYZ");return r.setProperties(n,!0),r}}var We=(0,k.Dm)(F,{innerBoundaryIs:ct,outerBoundaryIs:dt});function Ve(e,t){var n=(0,k.eY)({},Ne,e,t),i=(0,k.eY)([null],We,e,t);if(i&&i[0]){for(var r=i[0],o=[r.length],a=1,s=i.length;a<s;++a)(0,T.X$)(r,i[a]),o.push(r.length);var l=new b.Ay(r,"XYZ",o);return l.setProperties(n,!0),l}}var Ye=(0,k.Dm)(F,{IconStyle:Ae,LabelStyle:Ce,LineStyle:Ee,PolyStyle:be});function He(e,t){var n=(0,k.eY)({},Ye,e,t,this);if(!n)return null;var i,r="fillStyle"in n?n["fillStyle"]:X,o=n["fill"];void 0===o||o||(r=null),"imageStyle"in n?n["imageStyle"]!=Z&&(i=n["imageStyle"]):i=K;var a="textStyle"in n?n["textStyle"]:$,s="strokeStyle"in n?n["strokeStyle"]:Q,l=n["outline"];return void 0===l||l?[new S.Ay({fill:r,image:i,stroke:s,text:a,zIndex:void 0})]:[new S.Ay({geometry:function(e){var t=e.getGeometry(),n=t.getType();if("GeometryCollection"===n){var i=t;return new v.A(i.getGeometriesArrayRecursive().filter((function(e){var t=e.getType();return"Polygon"!==t&&"MultiPolygon"!==t})))}if("Polygon"!==n&&"MultiPolygon"!==n)return t},fill:r,image:i,stroke:s,text:a,zIndex:void 0}),new S.Ay({geometry:function(e){var t=e.getGeometry(),n=t.getType();if("GeometryCollection"===n){var i=t;return new v.A(i.getGeometriesArrayRecursive().filter((function(e){var t=e.getType();return"Polygon"===t||"MultiPolygon"===t})))}if("Polygon"===n||"MultiPolygon"===n)return t},fill:r,stroke:null,zIndex:void 0})]}function qe(e,t){var n,i,r,o=t.length,a=new Array(t.length),s=new Array(t.length),l=new Array(t.length);n=!1,i=!1,r=!1;for(var u=0;u<o;++u){var c=t[u];a[u]=c.get("extrude"),s[u]=c.get("tessellate"),l[u]=c.get("altitudeMode"),n=n||void 0!==a[u],i=i||void 0!==s[u],r=r||l[u]}n&&e.set("extrude",a),i&&e.set("tessellate",s),r&&e.set("altitudeMode",l)}var Xe=(0,k.Dm)(F,{displayName:(0,k.kW)(G.E3),value:(0,k.kW)(G.E3)});function Ze(e,t){var n=e.getAttribute("name");(0,k.UN)(Xe,e,t);var i=t[t.length-1];n&&i.displayName?i[n]={value:i.value,displayName:i.displayName,toString:function(){return i.value}}:null!==n?i[n]=i.value:null!==i.displayName&&(i[i.displayName]=i.value),delete i["value"]}var Ke=(0,k.Dm)(F,{Data:Ze,SchemaData:it});function Je(e,t){(0,k.UN)(Ke,e,t)}function Qe(e,t){(0,k.UN)(Y,e,t)}var $e=(0,k.Dm)(F,{Style:(0,k.kW)(He),key:(0,k.kW)(G.E3),styleUrl:(0,k.kW)(pe)});function et(e,t){var n=(0,k.eY)({},$e,e,t,this);if(n){var i=n["key"];if(i&&"normal"==i){var r=n["styleUrl"];r&&(t[t.length-1]=r);var o=n["Style"];o&&(t[t.length-1]=o)}}}function tt(e,t){var n=ve.call(this,e,t);if(n){var i=t[t.length-1];if(Array.isArray(n))i["Style"]=n;else{if("string"!==typeof n)throw new Error("`styleMapValue` has an unknown type");i["styleUrl"]=n}}}var nt=(0,k.Dm)(F,{SimpleData:rt});function it(e,t){(0,k.UN)(nt,e,t)}function rt(e,t){var n=e.getAttribute("name");if(null!==n){var i=(0,G.E3)(e),r=t[t.length-1];r[n]=i}}var ot=(0,k.Dm)(F,{altitudeMode:(0,k.kW)(G.E3),minAltitude:(0,k.kW)(G.e4),maxAltitude:(0,k.kW)(G.e4),north:(0,k.kW)(G.e4),south:(0,k.kW)(G.e4),east:(0,k.kW)(G.e4),west:(0,k.kW)(G.e4)});function at(e,t){var n=(0,k.eY)({},ot,e,t);if(n){var i=t[t.length-1],r=[parseFloat(n["west"]),parseFloat(n["south"]),parseFloat(n["east"]),parseFloat(n["north"])];i["extent"]=r,i["altitudeMode"]=n["altitudeMode"],i["minAltitude"]=parseFloat(n["minAltitude"]),i["maxAltitude"]=parseFloat(n["maxAltitude"])}}var st=(0,k.Dm)(F,{minLodPixels:(0,k.kW)(G.e4),maxLodPixels:(0,k.kW)(G.e4),minFadeExtent:(0,k.kW)(G.e4),maxFadeExtent:(0,k.kW)(G.e4)});function lt(e,t){var n=(0,k.eY)({},st,e,t);if(n){var i=t[t.length-1];i["minLodPixels"]=parseFloat(n["minLodPixels"]),i["maxLodPixels"]=parseFloat(n["maxLodPixels"]),i["minFadeExtent"]=parseFloat(n["minFadeExtent"]),i["maxFadeExtent"]=parseFloat(n["maxFadeExtent"])}}var ut=(0,k.Dm)(F,{LinearRing:(0,k.VT)(Se)});function ct(e,t){var n=(0,k.eY)([],ut,e,t);if(n.length>0){var i=t[t.length-1];i.push.apply(i,(0,c.A)(n))}}var ht=(0,k.Dm)(F,{LinearRing:(0,k.Tb)(Se)});function dt(e,t){var n=(0,k.eY)(void 0,ht,e,t);if(n){var i=t[t.length-1];i[0]=n}}function pt(e,t){(0,k.UN)(W,e,t)}function gt(e,t){var n=t[t.length-1],i=n.whens,r=(0,k.mT)(e,!1),o=Date.parse(r);i.push(isNaN(o)?0:o)}function ft(e,t){for(var n=(0,R._j)(t),i=4==n.length?n[3]:1,r=[255*i,n[2],n[1],n[0]],o=0;o<4;++o){var a=Math.floor(r[o]).toString(16);r[o]=1==a.length?"0"+a:a}(0,G.uB)(e,r.join(""))}function mt(e,t,n){var i,r=n[n.length-1],o=r["layout"],a=r["stride"];if("XY"==o||"XYM"==o)i=2;else{if("XYZ"!=o&&"XYZM"!=o)throw new Error("Invalid geometry layout");i=3}var s=t.length,l="";if(s>0){l+=t[0];for(var u=1;u<i;++u)l+=","+t[u];for(var c=a;c<s;c+=a){l+=" "+t[c];for(var h=1;h<i;++h)l+=","+t[c+h]}}(0,G.uB)(e,l)}var vt=(0,k.Dm)(F,{Data:(0,k.mm)(yt),value:(0,k.mm)(_t),displayName:(0,k.mm)(At)});function yt(e,t,n){e.setAttribute("name",t.name);var i={node:e},r=t.value;"object"==(0,u.A)(r)?(null!==r&&r.displayName&&(0,k.NQ)(i,vt,k.OL,[r.displayName],n,["displayName"]),null!==r&&r.value&&(0,k.NQ)(i,vt,k.OL,[r.value],n,["value"])):(0,k.NQ)(i,vt,k.OL,[r],n,["value"])}function At(e,t){(0,G.Gc)(e,t)}function _t(e,t){(0,G.uB)(e,t)}var Ct=(0,k.Dm)(F,{Placemark:(0,k.mm)(Qt)}),It=function(e,t,n){var i=t[t.length-1].node;return(0,k.qq)(i.namespaceURI,"Placemark")};function Et(e,t,n){var i={node:e};(0,k.NQ)(i,Ct,It,t,n,void 0,this)}var wt=(0,k.X1)("Data");function bt(e,t,n){for(var i={node:e},r=t.names,o=t.values,a=r.length,s=0;s<a;s++)(0,k.NQ)(i,vt,wt,[{name:r[s],value:o[s]}],n)}var xt=(0,k.Dm)(F,["href"],(0,k.Dm)(N,["x","y","w","h"])),St=(0,k.Dm)(F,{href:(0,k.mm)(G.uB)},(0,k.Dm)(N,{x:(0,k.mm)(G.Ko),y:(0,k.mm)(G.Ko),w:(0,k.mm)(G.Ko),h:(0,k.mm)(G.Ko)})),Pt=function(e,t,n){return(0,k.qq)(N[0],"gx:"+n)};function Mt(e,t,n){var i={node:e},r=n[n.length-1].node,o=xt[r.namespaceURI],a=(0,k.Gl)(t,o);(0,k.NQ)(i,St,k.OL,a,n,o),o=xt[N[0]],a=(0,k.Gl)(t,o),(0,k.NQ)(i,St,Pt,a,n,o)}var kt=(0,k.Dm)(F,["scale","heading","Icon","color","hotSpot"]),Rt=(0,k.Dm)(F,{Icon:(0,k.mm)(Mt),color:(0,k.mm)(ft),heading:(0,k.mm)(G.Ko),hotSpot:(0,k.mm)(gn),scale:(0,k.mm)(cn)});function Tt(e,t,n){var i={node:e},r={},o=t.getSrc(),a=t.getSize(),l=t.getImageSize(),u={href:o};if(a){u["w"]=a[0],u["h"]=a[1];var c=t.getAnchor(),h=t.getOrigin();if(h&&l&&0!==h[0]&&h[1]!==a[1]&&(u["x"]=h[0],u["y"]=l[1]-(h[1]+a[1])),c&&(c[0]!==a[0]/2||c[1]!==a[1]/2)){var d={x:c[0],xunits:"pixels",y:a[1]-c[1],yunits:"pixels"};r["hotSpot"]=d}}r["Icon"]=u;var p=t.getScaleArray()[0],g=a;if(null===g&&(g=s),2==g.length){var f=ie(g);p/=f}1!==p&&(r["scale"]=p);var m=t.getRotation();0!==m&&(r["heading"]=m);var v=t.getColor();v&&(r["color"]=v);var y=n[n.length-1].node,A=kt[y.namespaceURI],_=(0,k.Gl)(r,A);(0,k.NQ)(i,Rt,k.OL,_,n,A)}var Lt=(0,k.Dm)(F,["color","scale"]),Gt=(0,k.Dm)(F,{color:(0,k.mm)(ft),scale:(0,k.mm)(cn)});function Ot(e,t,n){var i={node:e},r={},o=t.getFill();o&&(r["color"]=o.getColor());var a=t.getScale();a&&1!==a&&(r["scale"]=a);var s=n[n.length-1].node,l=Lt[s.namespaceURI],u=(0,k.Gl)(r,l);(0,k.NQ)(i,Gt,k.OL,u,n,l)}var Dt=(0,k.Dm)(F,["color","width"]),Nt=(0,k.Dm)(F,{color:(0,k.mm)(ft),width:(0,k.mm)(G.Ko)});function Ft(e,t,n){var i={node:e},r={color:t.getColor(),width:Number(t.getWidth())||1},o=n[n.length-1].node,a=Dt[o.namespaceURI],s=(0,k.Gl)(r,a);(0,k.NQ)(i,Nt,k.OL,s,n,a)}var Ut={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},Bt=function(e,t,n){if(e){var i=t[t.length-1].node;return(0,k.qq)(i.namespaceURI,Ut[e.getType()])}},jt=(0,k.X1)("Point"),zt=(0,k.X1)("LineString"),Wt=(0,k.X1)("LinearRing"),Vt=(0,k.X1)("Polygon"),Yt=(0,k.Dm)(F,{LineString:(0,k.mm)(tn),Point:(0,k.mm)(tn),Polygon:(0,k.mm)(sn),GeometryCollection:(0,k.mm)(Ht)});function Ht(e,t,n){var i,r={node:e},o=t.getType(),a=[];if("GeometryCollection"===o)t.getGeometriesArrayRecursive().forEach((function(e){var t=e.getType();if("MultiPoint"===t)a=a.concat(e.getPoints());else if("MultiLineString"===t)a=a.concat(e.getLineStrings());else if("MultiPolygon"===t)a=a.concat(e.getPolygons());else{if("Point"!==t&&"LineString"!==t&&"Polygon"!==t)throw new Error("Unknown geometry type");a.push(e)}})),i=Bt;else if("MultiPoint"===o)a=t.getPoints(),i=jt;else if("MultiLineString"===o)a=t.getLineStrings(),i=zt;else{if("MultiPolygon"!==o)throw new Error("Unknown geometry type");a=t.getPolygons(),i=Vt}(0,k.NQ)(r,Yt,i,a,n)}var qt=(0,k.Dm)(F,{LinearRing:(0,k.mm)(tn)});function Xt(e,t,n){var i={node:e};(0,k.NQ)(i,qt,Wt,[t],n)}var Zt=(0,k.Dm)(F,{ExtendedData:(0,k.mm)(bt),MultiGeometry:(0,k.mm)(Ht),LineString:(0,k.mm)(tn),LinearRing:(0,k.mm)(tn),Point:(0,k.mm)(tn),Polygon:(0,k.mm)(sn),Style:(0,k.mm)(pn),address:(0,k.mm)(G.uB),description:(0,k.mm)(G.uB),name:(0,k.mm)(G.uB),open:(0,k.mm)(G.Z3),phoneNumber:(0,k.mm)(G.uB),styleUrl:(0,k.mm)(G.uB),visibility:(0,k.mm)(G.Z3)}),Kt=(0,k.Dm)(F,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),Jt=(0,k.X1)("ExtendedData");function Qt(e,t,n){var i={node:e};t.getId()&&e.setAttribute("id",t.getId());var r=t.getProperties(),o={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};o[t.getGeometryName()]=1;var a=Object.keys(r||{}).sort().filter((function(e){return!o[e]})),s=t.getStyleFunction();if(s){var l=s(t,0);if(l){var u=Array.isArray(l)?l:[l],c=u;if(t.getGeometry()&&(c=u.filter((function(e){var n=e.getGeometryFunction()(t);if(n){var i=n.getType();return"GeometryCollection"===i?n.getGeometriesArrayRecursive().filter((function(e){var t=e.getType();return"Point"===t||"MultiPoint"===t})).length:"Point"===i||"MultiPoint"===i}}))),this.writeStyles_){var h=u,d=u;t.getGeometry()&&(h=u.filter((function(e){var n=e.getGeometryFunction()(t);if(n){var i=n.getType();return"GeometryCollection"===i?n.getGeometriesArrayRecursive().filter((function(e){var t=e.getType();return"LineString"===t||"MultiLineString"===t})).length:"LineString"===i||"MultiLineString"===i}})),d=u.filter((function(e){var n=e.getGeometryFunction()(t);if(n){var i=n.getType();return"GeometryCollection"===i?n.getGeometriesArrayRecursive().filter((function(e){var t=e.getType();return"Polygon"===t||"MultiPolygon"===t})).length:"Polygon"===i||"MultiPolygon"===i}}))),r["Style"]={pointStyles:c,lineStyles:h,polyStyles:d}}if(c.length&&void 0===r["name"]){var p=c[0].getText();p&&(r["name"]=p.getText())}}}var g=n[n.length-1].node,f=Kt[g.namespaceURI],m=(0,k.Gl)(r,f);if((0,k.NQ)(i,Zt,k.OL,m,n,f),a.length>0){var v=(0,k.Gl)(r,a),y={names:a,values:v};(0,k.NQ)(i,Zt,Jt,[y],n)}var A=n[0],_=t.getGeometry();_&&(_=(0,D.hX)(_,!0,A)),(0,k.NQ)(i,Zt,Bt,[_],n)}var $t=(0,k.Dm)(F,["extrude","tessellate","altitudeMode","coordinates"]),en=(0,k.Dm)(F,{extrude:(0,k.mm)(G.Z3),tessellate:(0,k.mm)(G.Z3),altitudeMode:(0,k.mm)(G.uB),coordinates:(0,k.mm)(mt)});function tn(e,t,n){var i=t.getFlatCoordinates(),r={node:e};r["layout"]=t.getLayout(),r["stride"]=t.getStride();var o=t.getProperties();o.coordinates=i;var a=n[n.length-1].node,s=$t[a.namespaceURI],l=(0,k.Gl)(o,s);(0,k.NQ)(r,en,k.OL,l,n,s)}var nn=(0,k.Dm)(F,["color","fill","outline"]),rn=(0,k.Dm)(F,{outerBoundaryIs:(0,k.mm)(Xt),innerBoundaryIs:(0,k.mm)(Xt)}),on=(0,k.X1)("innerBoundaryIs"),an=(0,k.X1)("outerBoundaryIs");function sn(e,t,n){var i=t.getLinearRings(),r=i.shift(),o={node:e};(0,k.NQ)(o,rn,on,i,n),(0,k.NQ)(o,rn,an,[r],n)}var ln=(0,k.Dm)(F,{color:(0,k.mm)(ft),fill:(0,k.mm)(G.Z3),outline:(0,k.mm)(G.Z3)});function un(e,t,n){var i={node:e},r=t.getFill(),o=t.getStroke(),a={color:r?r.getColor():void 0,fill:!!r&&void 0,outline:!!o&&void 0},s=n[n.length-1].node,l=nn[s.namespaceURI],u=(0,k.Gl)(a,l);(0,k.NQ)(i,ln,k.OL,u,n,l)}function cn(e,t){(0,G.Ko)(e,Math.round(1e6*t)/1e6)}var hn=(0,k.Dm)(F,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),dn=(0,k.Dm)(F,{IconStyle:(0,k.mm)(Tt),LabelStyle:(0,k.mm)(Ot),LineStyle:(0,k.mm)(Ft),PolyStyle:(0,k.mm)(un)});function pn(e,t,n){var i={node:e},r={};if(t.pointStyles.length){var o=t.pointStyles[0].getText();o&&(r["LabelStyle"]=o);var a=t.pointStyles[0].getImage();a&&"function"===typeof a.getSrc&&(r["IconStyle"]=a)}if(t.lineStyles.length){var s=t.lineStyles[0].getStroke();s&&(r["LineStyle"]=s)}if(t.polyStyles.length){var l=t.polyStyles[0].getStroke();l&&!r["LineStyle"]&&(r["LineStyle"]=l),r["PolyStyle"]=t.polyStyles[0]}var u=n[n.length-1].node,c=hn[u.namespaceURI],h=(0,k.Gl)(r,c);(0,k.NQ)(i,dn,k.OL,h,n,c)}function gn(e,t){e.setAttribute("x",String(t.x)),e.setAttribute("y",String(t.y)),e.setAttribute("xunits",t.xunits),e.setAttribute("yunits",t.yunits)}t.Ay=ae},8700:function(e,t,n){"use strict";var i=n(5026),r=n(9492),o=n(5647),a=n(8578),s=n(2910),l=n(5752),u=n(6232),c=n(3387),h=function(e){function t(){var e;return(0,i.A)(this,t),e=(0,o.A)(this,t),e.xmlSerializer_=(0,c.mc)(),e}return(0,a.A)(t,e),(0,r.A)(t,[{key:"getType",value:function(){return"xml"}},{key:"readFeature",value:function(e,t){if(!e)return null;if("string"===typeof e){var n=(0,c.qg)(e);return this.readFeatureFromDocument(n,t)}return(0,c.wz)(e)?this.readFeatureFromDocument(e,t):this.readFeatureFromNode(e,t)}},{key:"readFeatureFromDocument",value:function(e,t){var n=this.readFeaturesFromDocument(e,t);return n.length>0?n[0]:null}},{key:"readFeatureFromNode",value:function(e,t){return null}},{key:"readFeatures",value:function(e,t){if(!e)return[];if("string"===typeof e){var n=(0,c.qg)(e);return this.readFeaturesFromDocument(n,t)}return(0,c.wz)(e)?this.readFeaturesFromDocument(e,t):this.readFeaturesFromNode(e,t)}},{key:"readFeaturesFromDocument",value:function(e,t){for(var n=[],i=e.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&(0,u.X$)(n,this.readFeaturesFromNode(i,t));return n}},{key:"readFeaturesFromNode",value:function(e,t){return(0,l.b0)()}},{key:"readGeometry",value:function(e,t){if(!e)return null;if("string"===typeof e){var n=(0,c.qg)(e);return this.readGeometryFromDocument(n,t)}return(0,c.wz)(e)?this.readGeometryFromDocument(e,t):this.readGeometryFromNode(e,t)}},{key:"readGeometryFromDocument",value:function(e,t){return null}},{key:"readGeometryFromNode",value:function(e,t){return null}},{key:"readProjection",value:function(e){if(!e)return null;if("string"===typeof e){var t=(0,c.qg)(e);return this.readProjectionFromDocument(t)}return(0,c.wz)(e)?this.readProjectionFromDocument(e):this.readProjectionFromNode(e)}},{key:"readProjectionFromDocument",value:function(e){return this.dataProjection}},{key:"readProjectionFromNode",value:function(e){return this.dataProjection}},{key:"writeFeature",value:function(e,t){var n=this.writeFeatureNode(e,t);return this.xmlSerializer_.serializeToString(n)}},{key:"writeFeatureNode",value:function(e,t){return null}},{key:"writeFeatures",value:function(e,t){var n=this.writeFeaturesNode(e,t);return this.xmlSerializer_.serializeToString(n)}},{key:"writeFeaturesNode",value:function(e,t){return null}},{key:"writeGeometry",value:function(e,t){var n=this.writeGeometryNode(e,t);return this.xmlSerializer_.serializeToString(n)}},{key:"writeGeometryNode",value:function(e,t){return null}}])}(s.Ay);t.A=h},3895:function(e,t,n){"use strict";n.d(t,{E3:function(){return d},Gc:function(){return g},Ko:function(){return m},P9:function(){return u},Vf:function(){return o},Z3:function(){return p},_I:function(){return s},_X:function(){return h},cS:function(){return f},e4:function(){return l},gC:function(){return a},pE:function(){return v},uB:function(){return y},yg:function(){return c}});n(6099),n(7495),n(8781),n(2762);var i=n(3387),r=n(5109);function o(e){var t=(0,i.mT)(e,!1);return a(t)}function a(e){var t=/^\s*(true|1)|(false|0)\s*$/.exec(e);if(t)return void 0!==t[1]||!1}function s(e){var t=(0,i.mT)(e,!1),n=Date.parse(t);return isNaN(n)?void 0:n/1e3}function l(e){var t=(0,i.mT)(e,!1);return u(t)}function u(e){var t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(e);if(t)return parseFloat(t[1])}function c(e){var t=(0,i.mT)(e,!1);return h(t)}function h(e){var t=/^\s*(\d+)\s*$/.exec(e);if(t)return parseInt(t[1],10)}function d(e){return(0,i.mT)(e,!1).trim()}function p(e,t){y(e,t?"1":"0")}function g(e,t){e.appendChild((0,i.YE)().createCDATASection(t))}function f(e,t){var n=new Date(1e3*t),o=n.getUTCFullYear()+"-"+(0,r.H)(n.getUTCMonth()+1,2)+"-"+(0,r.H)(n.getUTCDate(),2)+"T"+(0,r.H)(n.getUTCHours(),2)+":"+(0,r.H)(n.getUTCMinutes(),2)+":"+(0,r.H)(n.getUTCSeconds(),2)+"Z";e.appendChild((0,i.YE)().createTextNode(o))}function m(e,t){var n=t.toPrecision();e.appendChild((0,i.YE)().createTextNode(n))}function v(e,t){var n=t.toString();e.appendChild((0,i.YE)().createTextNode(n))}function y(e,t){e.appendChild((0,i.YE)().createTextNode(t))}},9331:function(e,t,n){"use strict";n.d(t,{B4:function(){return s},W8:function(){return o},hq:function(){return l},rT:function(){return r},tV:function(){return a}});n(4782),n(6099);var i=n(6232);function r(){return!0}function o(){return!1}function a(){}function s(e){var t,n,r,o=!1;return function(){var a=Array.prototype.slice.call(arguments);return o&&this===r&&(0,i.aI)(a,n)||(o=!0,r=this,n=a,t=e.apply(this,arguments)),t}}function l(e){function t(){var t;try{t=e()}catch(n){return Promise.reject(n)}return t instanceof Promise?t:Promise.resolve(t)}return t()}},3471:function(e,t,n){"use strict";var i=n(5026),r=n(9492),o=n(5647),a=n(8578),s=n(1611),l=n(5752),u=n(1194),c=n(7444),h=n(5857),d=n(9331),p=n(3371),g=(0,u.vt)(),f=function(e){function t(){var e;return(0,i.A)(this,t),e=(0,o.A)(this,t),e.extent_=(0,c.S5)(),e.extentRevision_=-1,e.simplifiedGeometryMaxMinSquaredTolerance=0,e.simplifiedGeometryRevision=0,e.simplifyTransformedInternal=(0,d.B4)((function(t,n,i){if(!i)return e.getSimplifiedGeometry(n);var r=e.clone();return r.applyTransform(i),r.getSimplifiedGeometry(n)})),e}return(0,a.A)(t,e),(0,r.A)(t,[{key:"simplifyTransformed",value:function(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}},{key:"clone",value:function(){return(0,l.b0)()}},{key:"closestPointXY",value:function(e,t,n,i){return(0,l.b0)()}},{key:"containsXY",value:function(e,t){var n=this.getClosestPoint([e,t]);return n[0]===e&&n[1]===t}},{key:"getClosestPoint",value:function(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}},{key:"intersectsCoordinate",value:function(e){return this.containsXY(e[0],e[1])}},{key:"computeExtent",value:function(e){return(0,l.b0)()}},{key:"getExtent",value:function(e){if(this.extentRevision_!=this.getRevision()){var t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&(0,c.aZ)(t),this.extentRevision_=this.getRevision()}return(0,c.$u)(this.extent_,e)}},{key:"rotate",value:function(e,t){(0,l.b0)()}},{key:"scale",value:function(e,t,n){(0,l.b0)()}},{key:"simplify",value:function(e){return this.getSimplifiedGeometry(e*e)}},{key:"getSimplifiedGeometry",value:function(e){return(0,l.b0)()}},{key:"getType",value:function(){return(0,l.b0)()}},{key:"applyTransform",value:function(e){(0,l.b0)()}},{key:"intersectsExtent",value:function(e){return(0,l.b0)()}},{key:"translate",value:function(e,t){(0,l.b0)()}},{key:"transform",value:function(e,t){var n=(0,h.Jt)(e),i="tile-pixels"==n.getUnits()?function(e,i,r){var o=n.getExtent(),a=n.getWorldExtent(),s=(0,c.Oq)(a)/(0,c.Oq)(o);return(0,u.Zz)(g,a[0],a[3],s,-s,0,0,0),(0,p.Rc)(e,0,e.length,r,g,i),(0,h.RG)(n,t)(e,i,r)}:(0,h.RG)(n,t);return this.applyTransform(i),this}}])}(s.A);t.A=f},7739:function(e,t,n){"use strict";var i=n(5026),r=n(9492),o=n(5647),a=n(7645),s=n(4497),l=n(8578),u=(n(8706),n(4114),n(6099),n(3500),n(7582)),c=n(3471),h=n(7444),d=n(8965),p=function(e){function t(e){var n;return(0,i.A)(this,t),n=(0,o.A)(this,t),n.geometries_=e||null,n.changeEventsKeys_=[],n.listenGeometriesChange_(),n}return(0,l.A)(t,e),(0,r.A)(t,[{key:"unlistenGeometriesChange_",value:function(){this.changeEventsKeys_.forEach(d.JH),this.changeEventsKeys_.length=0}},{key:"listenGeometriesChange_",value:function(){if(this.geometries_)for(var e=0,t=this.geometries_.length;e<t;++e)this.changeEventsKeys_.push((0,d.KT)(this.geometries_[e],u.A.CHANGE,this.changed,this))}},{key:"clone",value:function(){var e=new t(null);return e.setGeometries(this.geometries_),e.applyProperties(this),e}},{key:"closestPointXY",value:function(e,t,n,i){if(i<(0,h.Ld)(this.getExtent(),e,t))return i;for(var r=this.geometries_,o=0,a=r.length;o<a;++o)i=r[o].closestPointXY(e,t,n,i);return i}},{key:"containsXY",value:function(e,t){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)if(n[i].containsXY(e,t))return!0;return!1}},{key:"computeExtent",value:function(e){(0,h.aZ)(e);for(var t=this.geometries_,n=0,i=t.length;n<i;++n)(0,h.X$)(e,t[n].getExtent());return e}},{key:"getGeometries",value:function(){return g(this.geometries_)}},{key:"getGeometriesArray",value:function(){return this.geometries_}},{key:"getGeometriesArrayRecursive",value:function(){for(var e=[],t=this.geometries_,n=0,i=t.length;n<i;++n)t[n].getType()===this.getType()?e=e.concat(t[n].getGeometriesArrayRecursive()):e.push(t[n]);return e}},{key:"getSimplifiedGeometry",value:function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var n=[],i=this.geometries_,r=!1,o=0,a=i.length;o<a;++o){var s=i[o],l=s.getSimplifiedGeometry(e);n.push(l),l!==s&&(r=!0)}if(r){var u=new t(null);return u.setGeometriesArray(n),u}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this}},{key:"getType",value:function(){return"GeometryCollection"}},{key:"intersectsExtent",value:function(e){for(var t=this.geometries_,n=0,i=t.length;n<i;++n)if(t[n].intersectsExtent(e))return!0;return!1}},{key:"isEmpty",value:function(){return 0===this.geometries_.length}},{key:"rotate",value:function(e,t){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)n[i].rotate(e,t);this.changed()}},{key:"scale",value:function(e,t,n){n||(n=(0,h.q1)(this.getExtent()));for(var i=this.geometries_,r=0,o=i.length;r<o;++r)i[r].scale(e,t,n);this.changed()}},{key:"setGeometries",value:function(e){this.setGeometriesArray(g(e))}},{key:"setGeometriesArray",value:function(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}},{key:"applyTransform",value:function(e){for(var t=this.geometries_,n=0,i=t.length;n<i;++n)t[n].applyTransform(e);this.changed()}},{key:"translate",value:function(e,t){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)n[i].translate(e,t);this.changed()}},{key:"disposeInternal",value:function(){this.unlistenGeometriesChange_(),(0,a.A)((0,s.A)(t.prototype),"disposeInternal",this).call(this)}}])}(c.A);function g(e){for(var t=[],n=0,i=e.length;n<i;++n)t.push(e[n].clone());return t}t.A=p},3496:function(e,t,n){"use strict";var i=n(5026),r=n(9492),o=n(5647),a=n(8578),s=(n(4782),n(3665)),l=n(6072),u=n(7444),c=n(6320),h=n(3344),d=n(6232),p=n(8601),g=n(4476),f=n(5572),m=n(1814),v=n(5907),y=function(e){function t(e,n){var r;return(0,i.A)(this,t),r=(0,o.A)(this,t),r.flatMidpoint_=null,r.flatMidpointRevision_=-1,r.maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?r.setCoordinates(e,n):r.setFlatCoordinates(n,e),r}return(0,a.A)(t,e),(0,r.A)(t,[{key:"appendCoordinate",value:function(e){(0,d.X$)(this.flatCoordinates,e),this.changed()}},{key:"clone",value:function(){var e=new t(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}},{key:"closestPointXY",value:function(e,t,n,i){return i<(0,u.Ld)(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,l.MD)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,l.n)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,n,i))}},{key:"forEachSegment",value:function(e){return(0,p.j)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}},{key:"getCoordinateAtM",value:function(e,t){return"XYM"!=this.layout&&"XYZM"!=this.layout?null:(t=void 0!==t&&t,(0,f.gr)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t))}},{key:"getCoordinates",value:function(){return(0,g.n2)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}},{key:"getCoordinateAt",value:function(e,t){return(0,f.SH)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)}},{key:"getLength",value:function(){return(0,v.k)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}},{key:"getFlatMidpoint",value:function(){var e;this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,null!==(e=this.flatMidpoint_)&&void 0!==e?e:void 0),this.flatMidpointRevision_=this.getRevision());return this.flatMidpoint_}},{key:"getSimplifiedGeometryInternal",value:function(e){var n=[];return n.length=(0,h.P4)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new t(n,"XY")}},{key:"getType",value:function(){return"LineString"}},{key:"intersectsExtent",value:function(e){return(0,m.gp)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}},{key:"setCoordinates",value:function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,c.z2)(this.flatCoordinates,0,e,this.stride),this.changed()}}])}(s.Ay);t.A=y},5940:function(e,t,n){"use strict";var i=n(5026),r=n(9492),o=n(5647),a=n(8578),s=(n(4782),n(3665)),l=n(6072),u=n(7444),c=n(6320),h=n(3344),d=n(4476),p=n(1522),g=function(e){function t(e,n){var r;return(0,i.A)(this,t),r=(0,o.A)(this,t),r.maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?r.setCoordinates(e,n):r.setFlatCoordinates(n,e),r}return(0,a.A)(t,e),(0,r.A)(t,[{key:"clone",value:function(){return new t(this.flatCoordinates.slice(),this.layout)}},{key:"closestPointXY",value:function(e,t,n,i){return i<(0,u.Ld)(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,l.MD)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,l.n)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,n,i))}},{key:"getArea",value:function(){return(0,p.eN)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}},{key:"getCoordinates",value:function(){return(0,d.n2)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}},{key:"getSimplifiedGeometryInternal",value:function(e){var n=[];return n.length=(0,h.P4)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new t(n,"XY")}},{key:"getType",value:function(){return"LinearRing"}},{key:"intersectsExtent",value:function(e){return!1}},{key:"setCoordinates",value:function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,c.z2)(this.flatCoordinates,0,e,this.stride),this.changed()}}])}(s.Ay);t.A=g},8957:function(e,t,n){"use strict";var i=n(5026),r=n(9492),o=n(5647),a=n(8578),s=(n(4114),n(4782),n(3496)),l=n(3665),u=n(6072),c=n(7444),h=n(6320),d=n(3344),p=n(6232),g=n(4476),f=n(5572),m=n(1814),v=function(e){function t(e,n,r){var a;if((0,i.A)(this,t),a=(0,o.A)(this,t),a.ends_=[],a.maxDelta_=-1,a.maxDeltaRevision_=-1,Array.isArray(e[0]))a.setCoordinates(e,n);else if(void 0!==n&&r)a.setFlatCoordinates(n,e),a.ends_=r;else{for(var s=e,l=[],u=[],c=0,h=s.length;c<h;++c){var d=s[c];(0,p.X$)(l,d.getFlatCoordinates()),u.push(l.length)}var g=0===s.length?a.getLayout():s[0].getLayout();a.setFlatCoordinates(g,l),a.ends_=u}return a}return(0,a.A)(t,e),(0,r.A)(t,[{key:"appendLineString",value:function(e){(0,p.X$)(this.flatCoordinates,e.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}},{key:"clone",value:function(){var e=new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}},{key:"closestPointXY",value:function(e,t,n,i){return i<(0,c.Ld)(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,u.HX)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,u.oW)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,n,i))}},{key:"getCoordinateAtM",value:function(e,t,n){return"XYM"!=this.layout&&"XYZM"!=this.layout||0===this.flatCoordinates.length?null:(t=void 0!==t&&t,n=void 0!==n&&n,(0,f.L8)(this.flatCoordinates,0,this.ends_,this.stride,e,t,n))}},{key:"getCoordinates",value:function(){return(0,g.cD)(this.flatCoordinates,0,this.ends_,this.stride)}},{key:"getEnds",value:function(){return this.ends_}},{key:"getLineString",value:function(e){return e<0||this.ends_.length<=e?null:new s.A(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}},{key:"getLineStrings",value:function(){for(var e=this.flatCoordinates,t=this.ends_,n=this.layout,i=[],r=0,o=0,a=t.length;o<a;++o){var l=t[o],u=new s.A(e.slice(r,l),n);i.push(u),r=l}return i}},{key:"getFlatMidpoints",value:function(){for(var e=[],t=this.flatCoordinates,n=0,i=this.ends_,r=this.stride,o=0,a=i.length;o<a;++o){var s=i[o],l=(0,f.SH)(t,n,s,r,.5);(0,p.X$)(e,l),n=s}return e}},{key:"getSimplifiedGeometryInternal",value:function(e){var n=[],i=[];return n.length=(0,d.AL)(this.flatCoordinates,0,this.ends_,this.stride,e,n,0,i),new t(n,"XY",i)}},{key:"getType",value:function(){return"MultiLineString"}},{key:"intersectsExtent",value:function(e){return(0,m.fB)(this.flatCoordinates,0,this.ends_,this.stride,e)}},{key:"setCoordinates",value:function(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=(0,h.KG)(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}])}(l.Ay);t.A=v},5522:function(e,t,n){"use strict";var i=n(5026),r=n(9492),o=n(5647),a=n(8578),s=(n(4114),n(4782),n(8225)),l=n(3665),u=n(7444),c=n(6320),h=n(6232),d=n(4476),p=n(5674),g=function(e){function t(e,n){var r;return(0,i.A)(this,t),r=(0,o.A)(this,t),n&&!Array.isArray(e[0])?r.setFlatCoordinates(n,e):r.setCoordinates(e,n),r}return(0,a.A)(t,e),(0,r.A)(t,[{key:"appendPoint",value:function(e){(0,h.X$)(this.flatCoordinates,e.getFlatCoordinates()),this.changed()}},{key:"clone",value:function(){var e=new t(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}},{key:"closestPointXY",value:function(e,t,n,i){if(i<(0,u.Ld)(this.getExtent(),e,t))return i;for(var r=this.flatCoordinates,o=this.stride,a=0,s=r.length;a<s;a+=o){var l=(0,p.hG)(e,t,r[a],r[a+1]);if(l<i){i=l;for(var c=0;c<o;++c)n[c]=r[a+c];n.length=o}}return i}},{key:"getCoordinates",value:function(){return(0,d.n2)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}},{key:"getPoint",value:function(e){var t=this.flatCoordinates.length/this.stride;return e<0||t<=e?null:new s.A(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}},{key:"getPoints",value:function(){for(var e=this.flatCoordinates,t=this.layout,n=this.stride,i=[],r=0,o=e.length;r<o;r+=n){var a=new s.A(e.slice(r,r+n),t);i.push(a)}return i}},{key:"getType",value:function(){return"MultiPoint"}},{key:"intersectsExtent",value:function(e){for(var t=this.flatCoordinates,n=this.stride,i=0,r=t.length;i<r;i+=n){var o=t[i],a=t[i+1];if((0,u.Rj)(e,o,a))return!0}return!1}},{key:"setCoordinates",value:function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,c.z2)(this.flatCoordinates,0,e,this.stride),this.changed()}}])}(l.Ay);t.A=g},5258:function(e,t,n){"use strict";var i=n(5026),r=n(9492),o=n(5647),a=n(8578),s=(n(4114),n(4782),n(5522)),l=n(3313),u=n(3665),c=n(6072),h=n(7444),d=n(6320),p=n(6232),g=n(7689),f=n(4476),m=n(1814),v=n(1853),y=n(1522),A=n(8298),_=n(8330),C=n(3344),I=function(e){function t(e,n,r){var a;if((0,i.A)(this,t),a=(0,o.A)(this,t),a.endss_=[],a.flatInteriorPointsRevision_=-1,a.flatInteriorPoints_=null,a.maxDelta_=-1,a.maxDeltaRevision_=-1,a.orientedRevision_=-1,a.orientedFlatCoordinates_=null,!r&&!Array.isArray(e[0])){for(var s=e,l=[],u=[],c=0,h=s.length;c<h;++c){for(var d=s[c],g=l.length,f=d.getEnds(),m=0,v=f.length;m<v;++m)f[m]+=g;(0,p.X$)(l,d.getFlatCoordinates()),u.push(f)}n=0===s.length?a.getLayout():s[0].getLayout(),e=l,r=u}return void 0!==n&&r?(a.setFlatCoordinates(n,e),a.endss_=r):a.setCoordinates(e,n),a}return(0,a.A)(t,e),(0,r.A)(t,[{key:"appendPolygon",value:function(e){var t;if(this.flatCoordinates){var n=this.flatCoordinates.length;(0,p.X$)(this.flatCoordinates,e.getFlatCoordinates()),t=e.getEnds().slice();for(var i=0,r=t.length;i<r;++i)t[i]+=n}else this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();this.endss_.push(t),this.changed()}},{key:"clone",value:function(){for(var e=this.endss_.length,n=new Array(e),i=0;i<e;++i)n[i]=this.endss_[i].slice();var r=new t(this.flatCoordinates.slice(),this.layout,n);return r.applyProperties(this),r}},{key:"closestPointXY",value:function(e,t,n,i){return i<(0,h.Ld)(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,c.c)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,c.te)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,n,i))}},{key:"containsXY",value:function(e,t){return(0,_.Gd)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)}},{key:"getArea",value:function(){return(0,y.Cs)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}},{key:"getCoordinates",value:function(e){var t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),(0,v.NK)(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,(0,f.Dz)(t,0,this.endss_,this.stride)}},{key:"getEndss",value:function(){return this.endss_}},{key:"getFlatInteriorPoints",value:function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var e=(0,A.C)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=(0,g.p)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}},{key:"getInteriorPoints",value:function(){return new s.A(this.getFlatInteriorPoints().slice(),"XYM")}},{key:"getOrientedFlatCoordinates",value:function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;(0,v.mb)(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=(0,v.NK)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}},{key:"getSimplifiedGeometryInternal",value:function(e){var n=[],i=[];return n.length=(0,C.sx)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),n,0,i),new t(n,"XY",i)}},{key:"getPolygon",value:function(e){if(e<0||this.endss_.length<=e)return null;var t;if(0===e)t=0;else{var n=this.endss_[e-1];t=n[n.length-1]}var i=this.endss_[e].slice(),r=i[i.length-1];if(0!==t)for(var o=0,a=i.length;o<a;++o)i[o]-=t;return new l.Ay(this.flatCoordinates.slice(t,r),this.layout,i)}},{key:"getPolygons",value:function(){for(var e=this.layout,t=this.flatCoordinates,n=this.endss_,i=[],r=0,o=0,a=n.length;o<a;++o){var s=n[o].slice(),u=s[s.length-1];if(0!==r)for(var c=0,h=s.length;c<h;++c)s[c]-=r;var d=new l.Ay(t.slice(r,u),e,s);i.push(d),r=u}return i}},{key:"getType",value:function(){return"MultiPolygon"}},{key:"intersectsExtent",value:function(e){return(0,m.Wp)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}},{key:"setCoordinates",value:function(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=(0,d.d6)(this.flatCoordinates,0,e,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{var i=n[n.length-1];this.flatCoordinates.length=0===i.length?0:i[i.length-1]}this.changed()}}])}(u.Ay);t.A=I},8225:function(e,t,n){"use strict";var i=n(5026),r=n(9492),o=n(5647),a=n(8578),s=(n(4782),n(3665)),l=n(7444),u=n(6320),c=n(5674),h=function(e){function t(e,n){var r;return(0,i.A)(this,t),r=(0,o.A)(this,t),r.setCoordinates(e,n),r}return(0,a.A)(t,e),(0,r.A)(t,[{key:"clone",value:function(){var e=new t(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}},{key:"closestPointXY",value:function(e,t,n,i){var r=this.flatCoordinates,o=(0,c.hG)(e,t,r[0],r[1]);if(o<i){for(var a=this.stride,s=0;s<a;++s)n[s]=r[s];return n.length=a,o}return i}},{key:"getCoordinates",value:function(){return this.flatCoordinates.slice()}},{key:"computeExtent",value:function(e){return(0,l.dP)(this.flatCoordinates,e)}},{key:"getType",value:function(){return"Point"}},{key:"intersectsExtent",value:function(e){return(0,l.Rj)(e,this.flatCoordinates[0],this.flatCoordinates[1])}},{key:"setCoordinates",value:function(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,u._n)(this.flatCoordinates,0,e,this.stride),this.changed()}}])}(s.Ay);t.A=h},3313:function(e,t,n){"use strict";n.d(t,{VY:function(){return E},nD:function(){return w}});var i=n(5026),r=n(9492),o=n(5647),a=n(8578),s=(n(6280),n(4114),n(4782),n(5940)),l=n(8225),u=n(3665),c=n(6072),h=n(7444),d=n(6320),p=n(6232),g=n(7689),f=n(4476),m=n(1814),v=n(1853),y=n(1522),A=n(8330),_=n(5674),C=n(3344),I=function(e){function t(e,n,r){var a;return(0,i.A)(this,t),a=(0,o.A)(this,t),a.ends_=[],a.flatInteriorPointRevision_=-1,a.flatInteriorPoint_=null,a.maxDelta_=-1,a.maxDeltaRevision_=-1,a.orientedRevision_=-1,a.orientedFlatCoordinates_=null,void 0!==n&&r?(a.setFlatCoordinates(n,e),a.ends_=r):a.setCoordinates(e,n),a}return(0,a.A)(t,e),(0,r.A)(t,[{key:"appendLinearRing",value:function(e){this.flatCoordinates?(0,p.X$)(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}},{key:"clone",value:function(){var e=new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}},{key:"closestPointXY",value:function(e,t,n,i){return i<(0,h.Ld)(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,c.HX)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,c.oW)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,n,i))}},{key:"containsXY",value:function(e,t){return(0,A.zb)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}},{key:"getArea",value:function(){return(0,y.PK)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}},{key:"getCoordinates",value:function(e){var t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),(0,v.ug)(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,(0,f.cD)(t,0,this.ends_,this.stride)}},{key:"getEnds",value:function(){return this.ends_}},{key:"getFlatInteriorPoint",value:function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var e=(0,h.q1)(this.getExtent());this.flatInteriorPoint_=(0,g.J)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}},{key:"getInteriorPoint",value:function(){return new l.A(this.getFlatInteriorPoint(),"XYM")}},{key:"getLinearRingCount",value:function(){return this.ends_.length}},{key:"getLinearRing",value:function(e){return e<0||this.ends_.length<=e?null:new s.A(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}},{key:"getLinearRings",value:function(){for(var e=this.layout,t=this.flatCoordinates,n=this.ends_,i=[],r=0,o=0,a=n.length;o<a;++o){var l=n[o],u=new s.A(t.slice(r,l),e);i.push(u),r=l}return i}},{key:"getOrientedFlatCoordinates",value:function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;(0,v.PA)(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=(0,v.ug)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}},{key:"getSimplifiedGeometryInternal",value:function(e){var n=[],i=[];return n.length=(0,C.Hg)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,i),new t(n,"XY",i)}},{key:"getType",value:function(){return"Polygon"}},{key:"intersectsExtent",value:function(e){return(0,m.HT)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}},{key:"setCoordinates",value:function(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=(0,d.KG)(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}])}(u.Ay);function E(e){if((0,h.Im)(e))throw new Error("Cannot create polygon from empty extent");var t=e[0],n=e[1],i=e[2],r=e[3],o=[t,n,t,r,i,r,i,n,t,n];return new I(o,"XY",[o.length])}function w(e,t,n){t=t||32;for(var i=e.getStride(),r=e.getLayout(),o=e.getCenter(),a=i*(t+1),s=new Array(a),l=0;l<a;l+=i){s[l]=0,s[l+1]=0;for(var u=2;u<i;u++)s[l+u]=o[u]}var c=[s.length],h=new I(s,r,c);return b(h,o,e.getRadius(),n),h}function b(e,t,n,i){for(var r=e.getFlatCoordinates(),o=e.getStride(),a=r.length/o-1,s=i||0,l=0;l<=a;++l){var u=l*o,c=s+2*(0,_.xP)(l,a)*Math.PI/a;r[u]=t[0]+n*Math.cos(c),r[u+1]=t[1]+n*Math.sin(c)}e.changed()}t.Ay=I},3665:function(e,t,n){"use strict";n.d(t,{dn:function(){return p},p0:function(){return d},v7:function(){return g}});var i=n(5026),r=n(9492),o=n(5647),a=n(8578),s=(n(4782),n(3471)),l=n(5752),u=n(7444),c=n(3371),h=function(e){function t(){var e;return(0,i.A)(this,t),e=(0,o.A)(this,t),e.layout="XY",e.stride=2,e.flatCoordinates,e}return(0,a.A)(t,e),(0,r.A)(t,[{key:"computeExtent",value:function(e){return(0,u.Vy)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}},{key:"getCoordinates",value:function(){return(0,l.b0)()}},{key:"getFirstCoordinate",value:function(){return this.flatCoordinates.slice(0,this.stride)}},{key:"getFlatCoordinates",value:function(){return this.flatCoordinates}},{key:"getLastCoordinate",value:function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}},{key:"getLayout",value:function(){return this.layout}},{key:"getSimplifiedGeometry",value:function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var t=this.getSimplifiedGeometryInternal(e),n=t.getFlatCoordinates();return n.length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}},{key:"getSimplifiedGeometryInternal",value:function(e){return this}},{key:"getStride",value:function(){return this.stride}},{key:"setFlatCoordinates",value:function(e,t){this.stride=p(e),this.layout=e,this.flatCoordinates=t}},{key:"setCoordinates",value:function(e,t){(0,l.b0)()}},{key:"setLayout",value:function(e,t,n){var i;if(e)i=p(e);else{for(var r=0;r<n;++r){if(0===t.length)return this.layout="XY",void(this.stride=2);t=t[0]}i=t.length,e=d(i)}this.layout=e,this.stride=i}},{key:"applyTransform",value:function(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}},{key:"rotate",value:function(e,t){var n=this.getFlatCoordinates();if(n){var i=this.getStride();(0,c.e$)(n,0,n.length,i,e,t,n),this.changed()}}},{key:"scale",value:function(e,t,n){void 0===t&&(t=e),n||(n=(0,u.q1)(this.getExtent()));var i=this.getFlatCoordinates();if(i){var r=this.getStride();(0,c.hs)(i,0,i.length,r,e,t,n,i),this.changed()}}},{key:"translate",value:function(e,t){var n=this.getFlatCoordinates();if(n){var i=this.getStride();(0,c.Tl)(n,0,n.length,i,e,t,n),this.changed()}}}])}(s.A);function d(e){var t;return 2==e?t="XY":3==e?t="XYZ":4==e&&(t="XYZM"),t}function p(e){var t;return"XY"==e?t=2:"XYZ"==e||"XYM"==e?t=3:"XYZM"==e&&(t=4),t}function g(e,t,n){var i=e.getFlatCoordinates();if(!i)return null;var r=e.getStride();return(0,c.Rc)(i,0,i.length,r,t,n)}t.Ay=h},1522:function(e,t,n){"use strict";function i(e,t,n,i){for(var r=0,o=e[n-i],a=e[n-i+1];t<n;t+=i){var s=e[t],l=e[t+1];r+=a*s-o*l,o=s,a=l}return r/2}function r(e,t,n,r){for(var o=0,a=0,s=n.length;a<s;++a){var l=n[a];o+=i(e,t,l,r),t=l}return o}function o(e,t,n,i){for(var o=0,a=0,s=n.length;a<s;++a){var l=n[a];o+=r(e,t,l,i),t=l[l.length-1]}return o}n.d(t,{Cs:function(){return o},PK:function(){return r},eN:function(){return i}})},8298:function(e,t,n){"use strict";n.d(t,{C:function(){return r}});n(4114);var i=n(7444);function r(e,t,n,r){for(var o=[],a=(0,i.S5)(),s=0,l=n.length;s<l;++s){var u=n[s];a=(0,i.Vy)(e,t,u[0],r),o.push((a[0]+a[2])/2,(a[1]+a[3])/2),t=u[u.length-1]}return o}},6072:function(e,t,n){"use strict";n.d(t,{HX:function(){return a},MD:function(){return o},c:function(){return s},n:function(){return l},oW:function(){return u},te:function(){return c}});var i=n(5674);function r(e,t,n,r,o,a,s){var l,u=e[t],c=e[t+1],h=e[n]-u,d=e[n+1]-c;if(0===h&&0===d)l=t;else{var p=((o-u)*h+(a-c)*d)/(h*h+d*d);if(p>1)l=n;else{if(p>0){for(var g=0;g<r;++g)s[g]=(0,i.Cc)(e[t+g],e[n+g],p);return void(s.length=r)}l=t}}for(var f=0;f<r;++f)s[f]=e[l+f];s.length=r}function o(e,t,n,r,o){var a=e[t],s=e[t+1];for(t+=r;t<n;t+=r){var l=e[t],u=e[t+1],c=(0,i.hG)(a,s,l,u);c>o&&(o=c),a=l,s=u}return o}function a(e,t,n,i,r){for(var a=0,s=n.length;a<s;++a){var l=n[a];r=o(e,t,l,i,r),t=l}return r}function s(e,t,n,i,r){for(var o=0,s=n.length;o<s;++o){var l=n[o];r=a(e,t,l,i,r),t=l[l.length-1]}return r}function l(e,t,n,o,a,s,l,u,c,h,d){if(t==n)return h;var p,g;if(0===a){if(g=(0,i.hG)(l,u,e[t],e[t+1]),g<h){for(p=0;p<o;++p)c[p]=e[t+p];return c.length=o,g}return h}d=d||[NaN,NaN];var f=t+o;while(f<n)if(r(e,f-o,f,o,l,u,d),g=(0,i.hG)(l,u,d[0],d[1]),g<h){for(h=g,p=0;p<o;++p)c[p]=d[p];c.length=o,f+=o}else f+=o*Math.max((Math.sqrt(g)-Math.sqrt(h))/a|0,1);if(s&&(r(e,n-o,t,o,l,u,d),g=(0,i.hG)(l,u,d[0],d[1]),g<h)){for(h=g,p=0;p<o;++p)c[p]=d[p];c.length=o}return h}function u(e,t,n,i,r,o,a,s,u,c,h){h=h||[NaN,NaN];for(var d=0,p=n.length;d<p;++d){var g=n[d];c=l(e,t,g,i,r,o,a,s,u,c,h),t=g}return c}function c(e,t,n,i,r,o,a,s,l,c,h){h=h||[NaN,NaN];for(var d=0,p=n.length;d<p;++d){var g=n[d];c=u(e,t,g,i,r,o,a,s,l,c,h),t=g[g.length-1]}return c}},8330:function(e,t,n){"use strict";n.d(t,{Gd:function(){return s},a_:function(){return o},t7:function(){return r},zb:function(){return a}});var i=n(7444);function r(e,t,n,r,a){var s=(0,i.sB)(a,(function(i){return!o(e,t,n,r,i[0],i[1])}));return!s}function o(e,t,n,i,r,o){for(var a=0,s=e[n-i],l=e[n-i+1];t<n;t+=i){var u=e[t],c=e[t+1];l<=o?c>o&&(u-s)*(o-l)-(r-s)*(c-l)>0&&a++:c<=o&&(u-s)*(o-l)-(r-s)*(c-l)<0&&a--,s=u,l=c}return 0!==a}function a(e,t,n,i,r,a){if(0===n.length)return!1;if(!o(e,t,n[0],i,r,a))return!1;for(var s=1,l=n.length;s<l;++s)if(o(e,n[s-1],n[s],i,r,a))return!1;return!0}function s(e,t,n,i,r,o){if(0===n.length)return!1;for(var s=0,l=n.length;s<l;++s){var u=n[s];if(a(e,t,u,i,r,o))return!0;t=u[u.length-1]}return!1}},6320:function(e,t,n){"use strict";function i(e,t,n,i){for(var r=0,o=n.length;r<o;++r)e[t++]=n[r];return t}function r(e,t,n,i){for(var r=0,o=n.length;r<o;++r)for(var a=n[r],s=0;s<i;++s)e[t++]=a[s];return t}function o(e,t,n,i,o){o=o||[];for(var a=0,s=0,l=n.length;s<l;++s){var u=r(e,t,n[s],i);o[a++]=u,t=u}return o.length=a,o}function a(e,t,n,i,r){r=r||[];for(var a=0,s=0,l=n.length;s<l;++s){var u=o(e,t,n[s],i,r[a]);0===u.length&&(u[0]=t),r[a++]=u,t=u[u.length-1]}return r.length=a,r}n.d(t,{KG:function(){return o},_n:function(){return i},d6:function(){return a},z2:function(){return r}})},4476:function(e,t,n){"use strict";n.d(t,{Dz:function(){return o},cD:function(){return r},n2:function(){return i}});n(4782);function i(e,t,n,i,r){r=void 0!==r?r:[];for(var o=0,a=t;a<n;a+=i)r[o++]=e.slice(a,a+i);return r.length=o,r}function r(e,t,n,r,o){o=void 0!==o?o:[];for(var a=0,s=0,l=n.length;s<l;++s){var u=n[s];o[a++]=i(e,t,u,r,o[a]),t=u}return o.length=a,o}function o(e,t,n,i,o){o=void 0!==o?o:[];for(var a=0,s=0,l=n.length;s<l;++s){var u=n[s];o[a++]=1===u.length&&u[0]===t?[]:r(e,t,u,i,o[a]),t=u[u.length-1]}return o.length=a,o}},7689:function(e,t,n){"use strict";n.d(t,{J:function(){return o},p:function(){return a}});n(4114),n(6910);var i=n(6232),r=n(8330);function o(e,t,n,o,a,s,l){for(var u,c,h,d,p,g,f,m=a[s+1],v=[],y=0,A=n.length;y<A;++y){var _=n[y];for(d=e[_-o],g=e[_-o+1],u=t;u<_;u+=o)p=e[u],f=e[u+1],(m<=g&&f<=m||g<=m&&m<=f)&&(h=(m-g)/(f-g)*(p-d)+d,v.push(h)),d=p,g=f}var C=NaN,I=-1/0;for(v.sort(i.V_),d=v[0],u=1,c=v.length;u<c;++u){p=v[u];var E=Math.abs(p-d);E>I&&(h=(d+p)/2,(0,r.zb)(e,t,n,o,h,m)&&(C=h,I=E)),d=p}return isNaN(C)&&(C=a[s]),l?(l.push(C,m,I),l):[C,m,I]}function a(e,t,n,i,r){for(var a=[],s=0,l=n.length;s<l;++s){var u=n[s];a=o(e,t,u,i,r,2*s,a),t=u[u.length-1]}return a}},5572:function(e,t,n){"use strict";n.d(t,{L8:function(){return s},SH:function(){return o},gr:function(){return a}});n(4114),n(4782);var i=n(6232),r=n(5674);function o(e,t,n,o,a,s,l){var u,c,h=(n-t)/o;if(1===h)u=t;else if(2===h)u=t,c=a;else if(0!==h){for(var d=e[t],p=e[t+1],g=0,f=[0],m=t+o;m<n;m+=o){var v=e[m],y=e[m+1];g+=Math.sqrt((v-d)*(v-d)+(y-p)*(y-p)),f.push(g),d=v,p=y}var A=a*g,_=(0,i.El)(f,A);_<0?(c=(A-f[-_-2])/(f[-_-1]-f[-_-2]),u=t+(-_-2)*o):u=t+_*o}l=l>1?l:2,s=s||new Array(l);for(var C=0;C<l;++C)s[C]=void 0===u?NaN:void 0===c?e[u+C]:(0,r.Cc)(e[u+C],e[u+o+C],c);return s}function a(e,t,n,i,o,a){if(n==t)return null;var s;if(o<e[t+i-1])return a?(s=e.slice(t,t+i),s[i-1]=o,s):null;if(e[n-1]<o)return a?(s=e.slice(n-i,n),s[i-1]=o,s):null;if(o==e[t+i-1])return e.slice(t,t+i);var l=t/i,u=n/i;while(l<u){var c=l+u>>1;o<e[(c+1)*i-1]?u=c:l=c+1}var h=e[l*i-1];if(o==h)return e.slice((l-1)*i,(l-1)*i+i);var d=e[(l+1)*i-1],p=(o-h)/(d-h);s=[];for(var g=0;g<i-1;++g)s.push((0,r.Cc)(e[(l-1)*i+g],e[l*i+g],p));return s.push(o),s}function s(e,t,n,i,r,o,s){if(s)return a(e,t,n[n.length-1],i,r,o);var l;if(r<e[i-1])return o?(l=e.slice(0,i),l[i-1]=r,l):null;if(e[e.length-1]<r)return o?(l=e.slice(e.length-i),l[i-1]=r,l):null;for(var u=0,c=n.length;u<c;++u){var h=n[u];if(t!=h){if(r<e[t+i-1])return null;if(r<=e[h-1])return a(e,t,h,i,r,!1);t=h}}return null}},1814:function(e,t,n){"use strict";n.d(t,{HT:function(){return u},Wp:function(){return c},fB:function(){return s},gp:function(){return a},sj:function(){return l}});var i=n(7444),r=n(8601),o=n(8330);function a(e,t,n,o,a){var s=(0,i.R8)((0,i.S5)(),e,t,n,o);return!!(0,i.HY)(a,s)&&(!!(0,i.ms)(a,s)||(s[0]>=a[0]&&s[2]<=a[2]||(s[1]>=a[1]&&s[3]<=a[3]||(0,r.j)(e,t,n,o,(function(e,t){return(0,i.Mx)(a,e,t)})))))}function s(e,t,n,i,r){for(var o=0,s=n.length;o<s;++o){if(a(e,t,n[o],i,r))return!0;t=n[o]}return!1}function l(e,t,n,i,r){return!!a(e,t,n,i,r)||(!!(0,o.a_)(e,t,n,i,r[0],r[1])||(!!(0,o.a_)(e,t,n,i,r[0],r[3])||(!!(0,o.a_)(e,t,n,i,r[2],r[1])||!!(0,o.a_)(e,t,n,i,r[2],r[3]))))}function u(e,t,n,i,r){if(!l(e,t,n[0],i,r))return!1;if(1===n.length)return!0;for(var s=1,u=n.length;s<u;++s)if((0,o.t7)(e,n[s-1],n[s],i,r)&&!a(e,n[s-1],n[s],i,r))return!1;return!0}function c(e,t,n,i,r){for(var o=0,a=n.length;o<a;++o){var s=n[o];if(u(e,t,s,i,r))return!0;t=s[s.length-1]}return!1}},5907:function(e,t,n){"use strict";function i(e,t,n,i){for(var r=e[t],o=e[t+1],a=0,s=t+i;s<n;s+=i){var l=e[s],u=e[s+1];a+=Math.sqrt((l-r)*(l-r)+(u-o)*(u-o)),r=l,o=u}return a}n.d(t,{k:function(){return i}})},1853:function(e,t,n){"use strict";n.d(t,{yJ:function(){return u},PA:function(){return o},mb:function(){return a},ug:function(){return s},NK:function(){return l}});n(4114),n(4782);function i(e,t,n,i){while(t<n-i){for(var r=0;r<i;++r){var o=e[t+r];e[t+r]=e[n-i+r],e[n-i+r]=o}t+=i,n-=i}}function r(e,t,n,i){for(var r=0,o=e[n-i],a=e[n-i+1];t<n;t+=i){var s=e[t],l=e[t+1];r+=(s-o)*(l+a),o=s,a=l}return 0===r?void 0:r>0}function o(e,t,n,i,o){o=void 0!==o&&o;for(var a=0,s=n.length;a<s;++a){var l=n[a],u=r(e,t,l,i);if(0===a){if(o&&u||!o&&!u)return!1}else if(o&&!u||!o&&u)return!1;t=l}return!0}function a(e,t,n,i,r){for(var a=0,s=n.length;a<s;++a){var l=n[a];if(!o(e,t,l,i,r))return!1;l.length&&(t=l[l.length-1])}return!0}function s(e,t,n,o,a){a=void 0!==a&&a;for(var s=0,l=n.length;s<l;++s){var u=n[s],c=r(e,t,u,o),h=0===s?a&&c||!a&&!c:a&&!c||!a&&c;h&&i(e,t,u,o),t=u}return t}function l(e,t,n,i,r){for(var o=0,a=n.length;o<a;++o)t=s(e,t,n[o],i,r);return t}function u(e,t){for(var n,i=[],o=0,a=0,s=0,l=t.length;s<l;++s){var u=t[s],c=r(e,o,u,2);if(void 0===n&&(n=c),c===n)i.push(t.slice(a,s+1));else{if(0===i.length)continue;i[i.length-1].push(t[a])}a=s+1,o=u}return i}},8601:function(e,t,n){"use strict";n.d(t,{j:function(){return i}});n(4782);function i(e,t,n,i,r){var o;for(t+=i;t<n;t+=i)if(o=r(e.slice(t-i,t),e.slice(t,t+i)),o)return o;return!1}},3344:function(e,t,n){"use strict";n.d(t,{AL:function(){return o},Hg:function(){return l},P4:function(){return r},n$:function(){return a},sx:function(){return u}});n(4114);var i=n(5674);function r(e,t,n,r,o,a,s){var l=(n-t)/r;if(l<3){for(;t<n;t+=r)a[s++]=e[t],a[s++]=e[t+1];return s}var u=new Array(l);u[0]=1,u[l-1]=1;var c=[t,n-r],h=0;while(c.length>0){for(var d=c.pop(),p=c.pop(),g=0,f=e[p],m=e[p+1],v=e[d],y=e[d+1],A=p+r;A<d;A+=r){var _=e[A],C=e[A+1],I=(0,i.Q1)(_,C,f,m,v,y);I>g&&(h=A,g=I)}g>o&&(u[(h-t)/r]=1,p+r<h&&c.push(p,h),h+r<d&&c.push(h,d))}for(var E=0;E<l;++E)u[E]&&(a[s++]=e[t+E*r],a[s++]=e[t+E*r+1]);return s}function o(e,t,n,i,o,a,s,l){for(var u=0,c=n.length;u<c;++u){var h=n[u];s=r(e,t,h,i,o,a,s),l.push(s),t=h}return s}function a(e,t){return t*Math.round(e/t)}function s(e,t,n,i,r,o,s){if(t==n)return s;var l,u,c=a(e[t],r),h=a(e[t+1],r);t+=i,o[s++]=c,o[s++]=h;do{if(l=a(e[t],r),u=a(e[t+1],r),t+=i,t==n)return o[s++]=l,o[s++]=u,s}while(l==c&&u==h);while(t<n){var d=a(e[t],r),p=a(e[t+1],r);if(t+=i,d!=l||p!=u){var g=l-c,f=u-h,m=d-c,v=p-h;g*v==f*m&&(g<0&&m<g||g==m||g>0&&m>g)&&(f<0&&v<f||f==v||f>0&&v>f)?(l=d,u=p):(o[s++]=l,o[s++]=u,c=l,h=u,l=d,u=p)}}return o[s++]=l,o[s++]=u,s}function l(e,t,n,i,r,o,a,l){for(var u=0,c=n.length;u<c;++u){var h=n[u];a=s(e,t,h,i,r,o,a),l.push(a),t=h}return a}function u(e,t,n,i,r,o,a,s){for(var u=0,c=n.length;u<c;++u){var h=n[u],d=[];a=l(e,t,h,i,r,o,a,d),s.push(d),t=h[h.length-1]}return a}},3371:function(e,t,n){"use strict";function i(e,t,n,i,r,o){o=o||[];for(var a=0,s=t;s<n;s+=i){var l=e[s],u=e[s+1];o[a++]=r[0]*l+r[2]*u+r[4],o[a++]=r[1]*l+r[3]*u+r[5]}return o&&o.length!=a&&(o.length=a),o}function r(e,t,n,i,r,o,a){a=a||[];for(var s=Math.cos(r),l=Math.sin(r),u=o[0],c=o[1],h=0,d=t;d<n;d+=i){var p=e[d]-u,g=e[d+1]-c;a[h++]=u+p*s-g*l,a[h++]=c+p*l+g*s;for(var f=d+2;f<d+i;++f)a[h++]=e[f]}return a&&a.length!=h&&(a.length=h),a}function o(e,t,n,i,r,o,a,s){s=s||[];for(var l=a[0],u=a[1],c=0,h=t;h<n;h+=i){var d=e[h]-l,p=e[h+1]-u;s[c++]=l+r*d,s[c++]=u+o*p;for(var g=h+2;g<h+i;++g)s[c++]=e[g]}return s&&s.length!=c&&(s.length=c),s}function a(e,t,n,i,r,o,a){a=a||[];for(var s=0,l=t;l<n;l+=i){a[s++]=e[l]+r,a[s++]=e[l+1]+o;for(var u=l+2;u<l+i;++u)a[s++]=e[u]}return a&&a.length!=s&&(a.length=s),a}n.d(t,{Rc:function(){return i},Tl:function(){return a},e$:function(){return r},hs:function(){return o}})},502:function(e,t,n){"use strict";n.d(t,{DT:function(){return c},FT:function(){return d},Wl:function(){return u},XM:function(){return h},_p:function(){return r},cr:function(){return l},ew:function(){return s},j:function(){return a}});n(4423),n(7495),n(906),n(1699),n(3611);var i="undefined"!==typeof navigator&&"undefined"!==typeof navigator.userAgent?navigator.userAgent.toLowerCase():"",r=i.includes("firefox"),o=i.includes("safari")&&!i.includes("chrom"),a=(o&&(i.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(i)),i.includes("webkit")&&!i.includes("edge")),s=i.includes("macintosh"),l="undefined"!==typeof devicePixelRatio?devicePixelRatio:1,u="undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,c="undefined"!==typeof Image&&Image.prototype.decode,h="function"===typeof createImageBitmap,d=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch(n){}return e}()},6425:function(e,t,n){"use strict";n.d(t,{D2:function(){return d},e4:function(){return h}});var i=n(5026),r=n(9492),o=n(5647),a=n(8578),s=n(1611),l=n(776),u=n(8409),c=function(e){function t(e){var n;return(0,i.A)(this,t),n=(0,o.A)(this,t),n.on,n.once,n.un,e&&e.handleEvent&&(n.handleEvent=e.handleEvent),n.map_=null,n.setActive(!0),n}return(0,a.A)(t,e),(0,r.A)(t,[{key:"getActive",value:function(){return this.get(l.A.ACTIVE)}},{key:"getMap",value:function(){return this.map_}},{key:"handleEvent",value:function(e){return!0}},{key:"setActive",value:function(e){this.set(l.A.ACTIVE,e)}},{key:"setMap",value:function(e){this.map_=e}}])}(s.A);function h(e,t,n){var i=e.getCenterInternal();if(i){var r=[i[0]+t[0],i[1]+t[1]];e.animateInternal({duration:void 0!==n?n:250,easing:u.sn,center:e.getConstrainedCenter(r)})}}function d(e,t,n,i){var r=e.getZoom();if(void 0!==r){var o=e.getConstrainedZoom(r+t),a=e.getResolutionForZoom(o);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:a,anchor:n,duration:void 0!==i?i:250,easing:u.vT})}}t.Ay=c},5596:function(e,t,n){"use strict";n.d(t,{v:function(){return c}});var i=n(5026),r=n(9492),o=n(5647),a=n(8578),s=n(6425),l=n(3156),u=function(e){function t(e){var n;return(0,i.A)(this,t),e=e||{},n=(0,o.A)(this,t,[e]),e.handleDownEvent&&(n.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(n.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(n.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(n.handleUpEvent=e.handleUpEvent),e.stopDown&&(n.stopDown=e.stopDown),n.handlingDownUpSequence=!1,n.targetPointers=[],n}return(0,a.A)(t,e),(0,r.A)(t,[{key:"getPointerCount",value:function(){return this.targetPointers.length}},{key:"handleDownEvent",value:function(e){return!1}},{key:"handleDragEvent",value:function(e){}},{key:"handleEvent",value:function(e){if(!e.originalEvent)return!0;var t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==l.A.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==l.A.POINTERUP){var n=this.handleUpEvent(e);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(e.type==l.A.POINTERDOWN){var i=this.handleDownEvent(e);this.handlingDownUpSequence=i,t=this.stopDown(i)}else e.type==l.A.POINTERMOVE&&this.handleMoveEvent(e);return!t}},{key:"handleMoveEvent",value:function(e){}},{key:"handleUpEvent",value:function(e){return!1}},{key:"stopDown",value:function(e){return e}},{key:"updateTrackedPointers_",value:function(e){e.activePointers&&(this.targetPointers=e.activePointers)}}])}(s.Ay);function c(e){for(var t=e.length,n=0,i=0,r=0;r<t;r++)n+=e[r].clientX,i+=e[r].clientY;return{clientX:n/t,clientY:i/t}}t.A=u},776:function(e,t){"use strict";t.A={ACTIVE:"active"}},9855:function(e,t,n){"use strict";var i=n(4119),r=n(5026),o=n(9492),a=n(5647),s=n(7645),l=n(4497),u=n(8578),c=n(1611),h=n(4543),d=n(5752),p=n(1097),g=n(5674),f=function(e){function t(e){var n;(0,r.A)(this,t),n=(0,a.A)(this,t),n.on,n.once,n.un,n.background_=e.background;var o=Object.assign({},e);return"object"===(0,i.A)(e.properties)&&(delete o.properties,Object.assign(o,e.properties)),o[h.A.OPACITY]=void 0!==e.opacity?e.opacity:1,(0,p.v)("number"===typeof o[h.A.OPACITY],"Layer opacity must be a number"),o[h.A.VISIBLE]=void 0===e.visible||e.visible,o[h.A.Z_INDEX]=e.zIndex,o[h.A.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,o[h.A.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,o[h.A.MIN_ZOOM]=void 0!==e.minZoom?e.minZoom:-1/0,o[h.A.MAX_ZOOM]=void 0!==e.maxZoom?e.maxZoom:1/0,n.className_=void 0!==o.className?o.className:"ol-layer",delete o.className,n.setProperties(o),n.state_=null,n}return(0,u.A)(t,e),(0,o.A)(t,[{key:"getBackground",value:function(){return this.background_}},{key:"getClassName",value:function(){return this.className_}},{key:"getLayerState",value:function(e){var t=this.state_||{layer:this,managed:void 0===e||e},n=this.getZIndex();return t.opacity=(0,g.qE)(Math.round(100*this.getOpacity())/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=void 0!==n||t.managed?n:1/0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}},{key:"getLayersArray",value:function(e){return(0,d.b0)()}},{key:"getLayerStatesArray",value:function(e){return(0,d.b0)()}},{key:"getExtent",value:function(){return this.get(h.A.EXTENT)}},{key:"getMaxResolution",value:function(){return this.get(h.A.MAX_RESOLUTION)}},{key:"getMinResolution",value:function(){return this.get(h.A.MIN_RESOLUTION)}},{key:"getMinZoom",value:function(){return this.get(h.A.MIN_ZOOM)}},{key:"getMaxZoom",value:function(){return this.get(h.A.MAX_ZOOM)}},{key:"getOpacity",value:function(){return this.get(h.A.OPACITY)}},{key:"getSourceState",value:function(){return(0,d.b0)()}},{key:"getVisible",value:function(){return this.get(h.A.VISIBLE)}},{key:"getZIndex",value:function(){return this.get(h.A.Z_INDEX)}},{key:"setBackground",value:function(e){this.background_=e,this.changed()}},{key:"setExtent",value:function(e){this.set(h.A.EXTENT,e)}},{key:"setMaxResolution",value:function(e){this.set(h.A.MAX_RESOLUTION,e)}},{key:"setMinResolution",value:function(e){this.set(h.A.MIN_RESOLUTION,e)}},{key:"setMaxZoom",value:function(e){this.set(h.A.MAX_ZOOM,e)}},{key:"setMinZoom",value:function(e){this.set(h.A.MIN_ZOOM,e)}},{key:"setOpacity",value:function(e){(0,p.v)("number"===typeof e,"Layer opacity must be a number"),this.set(h.A.OPACITY,e)}},{key:"setVisible",value:function(e){this.set(h.A.VISIBLE,e)}},{key:"setZIndex",value:function(e){this.set(h.A.Z_INDEX,e)}},{key:"disposeInternal",value:function(){this.state_&&(this.state_.layer=null,this.state_=null),(0,s.A)((0,l.A)(t.prototype),"disposeInternal",this).call(this)}}])}(c.A);t.A=f},6420:function(e,t,n){"use strict";n.d(t,{A:function(){return ot}});var i,r=n(5026),o=n(9492),a=n(5647),s=n(7645),l=n(4497),u=n(8578),c=(n(6280),n(2425)),h=n(5341),d=n(6505),p=n(3604),g=(n(2008),n(4114),n(3110),n(6099),n(5274)),f=n(8343),m=n(7379),v=n(5023),y=n(5782),A=n(6121),_=n(2285),C=n(9258),I=n(8676),E=n(4119),w=n(3772),b=(n(8706),n(8598),n(2062),n(4782),n(6910),n(2892),n(9432),n(1415),n(7764),n(2953),n(6232)),x=n(5007),S=0,P=0,M=1<<S++,k=1<<S++,R=1<<S++,T=1<<S++,L=1<<S++,G=Math.pow(2,S)-1,O=(0,w.A)((0,w.A)((0,w.A)((0,w.A)((0,w.A)({},M,"boolean"),k,"number"),R,"string"),T,"color"),L,"number[]"),D=Object.keys(O).map(Number).sort(b.V_);function N(e){var t,n=[],i=(0,p.A)(D);try{for(i.s();!(t=i.n()).done;){var r=t.value;F(e,r)&&n.push(O[r])}}catch(o){i.e(o)}finally{i.f()}return 0===n.length?"untyped":n.length<3?n.join(" or "):n.slice(0,-1).join(", ")+", or "+n[n.length-1]}function F(e,t){return(e&t)===t}function U(e,t){return!!(e&t)}function B(e,t){return e===t}var j=(0,o.A)((function e(t,n){(0,r.A)(this,e),this.type=t,this.value=n})),z=(0,o.A)((function e(t,n){(0,r.A)(this,e),this.type=t,this.operator=n;for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];this.args=o}));function W(){return{variables:new Set,properties:new Set,featureId:!1,style:{}}}function V(e){switch(e){case"string":return R;case"color":return T;case"number":return k;case"boolean":return M;case"number[]":return L;default:throw new Error("Unrecognized type hint: ".concat(e))}}function Y(e,t,n){switch((0,E.A)(e)){case"boolean":return new j(M,e);case"number":return new j(k,e);case"string":var i=R;return(0,x.$C)(e)&&(i|=T),B(i&n,P)||(i&=n),new j(i,e);default:}if(!Array.isArray(e))throw new Error("Expression must be an array or a primitive value");if(0===e.length)throw new Error("Empty expression");if("string"===typeof e[0])return ue(e,t,n);var r,o=(0,p.A)(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;if("number"!==typeof a)throw new Error("Expected an array of numbers")}}catch(l){o.e(l)}finally{o.f()}var s=L;return 3!==e.length&&4!==e.length||(s|=T),n&&(s&=n),new j(s,e)}var H={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette"},q=(i={},(0,w.A)((0,w.A)((0,w.A)((0,w.A)((0,w.A)((0,w.A)((0,w.A)((0,w.A)((0,w.A)((0,w.A)(i,H.Get,le((function(e){var t=(0,I.A)(e,2),n=(t[0],t[1]);return void 0!==n?V(n.value):G}),Q(1,2),X)),H.Var,le((function(e){var t=(0,I.A)(e,1),n=t[0];return n.type}),Q(1,1),Z)),H.Id,le(k|R,J,K)),H.Concat,le(R,Q(2,1/0),$(G))),H.GeometryType,le(R,J)),H.Resolution,le(k,J)),H.Zoom,le(k,J)),H.Time,le(k,J)),H.Any,le(M,Q(2,1/0),$(M))),H.All,le(M,Q(2,1/0),$(M))),(0,w.A)((0,w.A)((0,w.A)((0,w.A)((0,w.A)((0,w.A)((0,w.A)((0,w.A)((0,w.A)((0,w.A)(i,H.Not,le(M,Q(1,1),$(M))),H.Equal,le(M,Q(2,2),$(G),ee)),H.NotEqual,le(M,Q(2,2),$(G),ee)),H.GreaterThan,le(M,Q(2,2),$(G),ee)),H.GreaterThanOrEqualTo,le(M,Q(2,2),$(G),ee)),H.LessThan,le(M,Q(2,2),$(G),ee)),H.LessThanOrEqualTo,le(M,Q(2,2),$(G),ee)),H.Multiply,le((function(e){for(var t=k|T,n=0;n<e.length;n++)t&=e[n].type;return t}),Q(2,1/0),$(k|T),ee)),H.Divide,le(k,Q(2,2),$(k))),H.Add,le(k,Q(2,1/0),$(k))),(0,w.A)((0,w.A)((0,w.A)((0,w.A)((0,w.A)((0,w.A)((0,w.A)((0,w.A)((0,w.A)((0,w.A)(i,H.Subtract,le(k,Q(2,2),$(k))),H.Clamp,le(k,Q(3,3),$(k))),H.Mod,le(k,Q(2,2),$(k))),H.Pow,le(k,Q(2,2),$(k))),H.Abs,le(k,Q(1,1),$(k))),H.Floor,le(k,Q(1,1),$(k))),H.Ceil,le(k,Q(1,1),$(k))),H.Round,le(k,Q(1,1),$(k))),H.Sin,le(k,Q(1,1),$(k))),H.Cos,le(k,Q(1,1),$(k))),(0,w.A)((0,w.A)((0,w.A)((0,w.A)((0,w.A)((0,w.A)((0,w.A)((0,w.A)((0,w.A)((0,w.A)(i,H.Atan,le(k,Q(1,2),$(k))),H.Sqrt,le(k,Q(1,1),$(k))),H.Match,le((function(e){for(var t=G,n=2;n<e.length;n+=2)t&=e[n].type;return t&=e[e.length-1].type,t}),Q(4,1/0),ne,ie)),H.Between,le(M,Q(3,3),$(k))),H.Interpolate,le((function(e){for(var t=T|k,n=3;n<e.length;n+=2)t&=e[n].type;return t}),Q(6,1/0),ne,re)),H.Case,le((function(e){for(var t=G,n=1;n<e.length;n+=2)t&=e[n].type;return t&=e[e.length-1].type,t}),Q(3,1/0),te,oe)),H.In,le(M,Q(2,2),ae)),H.Number,le(k,Q(1,1/0),$(G))),H.String,le(R,Q(1,1/0),$(G))),H.Array,le((function(e){return 3===e.length||4===e.length?L|T:L}),Q(1,1/0),$(k))),(0,w.A)((0,w.A)((0,w.A)(i,H.Color,le(T,Q(3,4),$(k))),H.Band,le(k,Q(1,3),$(k))),H.Palette,le(T,Q(2,2),se)));function X(e,t){var n=Y(e[1],t);if(!(n instanceof j))throw new Error("Expected a literal argument for get operation");if("string"!==typeof n.value)throw new Error("Expected a string argument for get operation");if(t.properties.add(n.value),3===e.length){var i=Y(e[2],t);return[n,i]}return[n]}function Z(e,t,n,i){var r=e[1];if("string"!==typeof r)throw new Error("Expected a string argument for var operation");if(t.variables.add(r),!("variables"in t.style)||void 0===t.style.variables[r])return[new j(G,r)];var o=t.style.variables[r],a=Y(o,t);if(a.value=r,i&&!U(i,a.type))throw new Error("The variable ".concat(r," has type ").concat(N(a.type)," but the following type was expected: ").concat(N(i)));return[a]}function K(e,t){t.featureId=!0}function J(e,t){var n=e[0];if(1!==e.length)throw new Error("Expected no arguments for ".concat(n," operation"));return[]}function Q(e,t){return function(n,i){var r=n[0],o=n.length-1;if(e===t){if(o!==e){var a=1===e?"":"s";throw new Error("Expected ".concat(e," argument").concat(a," for ").concat(r,", got ").concat(o))}}else if(o<e||o>t){var s=t===1/0?"".concat(e," or more"):"".concat(e," to ").concat(t);throw new Error("Expected ".concat(s," arguments for ").concat(r,", got ").concat(o))}}}function $(e){return function(t,n){for(var i=t[0],r=t.length-1,o=new Array(r),a=0;a<r;++a){var s=Y(t[a+1],n);if(!U(e,s.type)){var l=N(e),u=N(s.type);throw new Error("Unexpected type for argument ".concat(a," of ").concat(i," operation")+", got ".concat(l," but expected ").concat(u))}s.type&=e,o[a]=s}return o}}function ee(e,t,n){for(var i=e[0],r=e.length-1,o=G,a=0;a<n.length;++a)o&=n[a].type;if(o===P)throw new Error("No common type could be found for arguments of ".concat(i," operation"));for(var s=new Array(r),l=0;l<r;++l)s[l]=Y(e[l+1],t,o);return s}function te(e,t){var n=e[0],i=e.length-1;if(i%2===0)throw new Error("An odd amount of arguments was expected for operation ".concat(n,", got ").concat(JSON.stringify(i)," instead"))}function ne(e,t){var n=e[0],i=e.length-1;if(i%2===1)throw new Error("An even amount of arguments was expected for operation ".concat(n,", got ").concat(JSON.stringify(i)," instead"))}function ie(e,t,n,i){for(var r=e.length-1,o=Y(e[1],t),a=o.type,s=Y(e[e.length-1],t),l=void 0!==i?i&s.type:s.type,u=new Array(r-2),c=0;c<r-2;c+=2){var h=Y(e[c+2],t),d=Y(e[c+3],t);a&=h.type,l&=d.type,u[c]=h,u[c+1]=d}var p=R|k|M;if(!U(p,a))throw new Error("Expected an input of type ".concat(N(p)," for the interpolate operation")+", got ".concat(N(a)," instead"));if(B(l,P))throw new Error("Could not find a common output type for the following match operation: "+JSON.stringify(e));for(var g=0;g<r-2;g+=2){var f=Y(e[g+2],t,a),m=Y(e[g+3],t,l);u[g]=f,u[g+1]=m}return[Y(e[1],t,a)].concat(u,[Y(e[e.length-1],t,l)])}function re(e,t,n,i){var r,o=e[1];switch(o[0]){case"linear":r=1;break;case"exponential":if(r=o[1],"number"!==typeof r)throw new Error("Expected a number base for exponential interpolation"+", got ".concat(JSON.stringify(r)," instead"));break;default:r=null}if(!r)throw new Error("Invalid interpolation type: ".concat(JSON.stringify(o)));r=Y(r,t);var a=Y(e[2],t);if(!U(k,a.type))throw new Error("Expected an input of type number for the interpolate operation"+", got ".concat(N(a.type)," instead"));a=Y(e[2],t,k);for(var s=new Array(e.length-3),l=0;l<s.length;l+=2){var u=Y(e[l+3],t);if(!U(k,u.type))throw new Error("Expected all stop input values in the interpolate operation to be of type number"+", got ".concat(N(u.type)," at position ").concat(l+2," instead"));var c=Y(e[l+4],t);if(!U(k|T,c.type))throw new Error("Expected all stop output values in the interpolate operation to be a number or color"+", got ".concat(N(c.type)," at position ").concat(l+3," instead"));u=Y(e[l+3],t,k),c=Y(e[l+4],t,k|T),s[l]=u,s[l+1]=c}return[r,a].concat(s)}function oe(e,t,n,i){for(var r=Y(e[e.length-1],t),o=void 0!==i?i&r.type:r.type,a=new Array(e.length-1),s=0;s<a.length-1;s+=2){var l=Y(e[s+1],t),u=Y(e[s+2],t);if(!U(M,l.type))throw new Error("Expected all conditions in the case operation to be of type boolean"+", got ".concat(N(l.type)," at position ").concat(s," instead"));o&=u.type,a[s]=l,a[s+1]=u}if(B(o,P))throw new Error("Could not find a common output type for the following case operation: "+JSON.stringify(e));for(var c=0;c<a.length-1;c+=2)a[c+1]=Y(e[c+2],t,o);return a[a.length-1]=Y(e[e.length-1],t,o),a}function ae(e,t){var n=e[2];if(!Array.isArray(n))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');if("string"===typeof n[0]){if("literal"!==n[0])throw new Error('For the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions.');if(!Array.isArray(n[1]))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');n=n[1]}for(var i=R|k,r=new Array(n.length),o=0;o<r.length;o++){var a=Y(n[o],t);i&=a.type,r[o]=a}if(B(i,P))throw new Error("Could not find a common type for the following in operation: "+JSON.stringify(e));var s=Y(e[1],t,i);return[s].concat(r)}function se(e,t){var n=Y(e[1],t,k);if(n.type!==k)throw new Error("The first argument of palette must be an number, got ".concat(N(n.type)," instead"));var i=e[2];if(!Array.isArray(i))throw new Error("The second argument of palette must be an array");for(var r=new Array(i.length),o=0;o<r.length;o++){var a=Y(i[o],t,T);if(!(a instanceof j))throw new Error("The palette color at index ".concat(o," must be a literal value"));if(!U(a.type,T))throw new Error("The palette color at index ".concat(o," should be of type color, got ").concat(N(a.type)," instead"));r[o]=a}return[n].concat(r)}function le(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return function(t,i,r){for(var o=t[0],a=[],s=0;s<n.length;s++)a=n[s](t,i,a,r)||a;var l="function"===typeof e?e(a):e;if(void 0!==r){if(!U(l,r))throw new Error("The following expression was expected to return ".concat(N(r),", but returns ").concat(N(l)," instead: ").concat(JSON.stringify(t)));l&=r}if(l===P)throw new Error("No matching type was found for the following expression: ".concat(JSON.stringify(t)));return(0,_.A)(z,[l,o].concat((0,C.A)(a)))}}function ue(e,t,n){var i=e[0],r=q[i];if(!r)throw new Error("Unknown operator: ".concat(i));return r(e,t,n)}n(8781);function ce(){return{variables:{},properties:{},resolution:NaN,featureId:null}}function he(e,t,n){var i=Y(e,n);if(!U(t,i.type)){var r=N(t),o=N(i.type);throw new Error("Expected expression to be of type ".concat(r,", got ").concat(o))}return de(i,n)}function de(e,t){if(e instanceof j){if(e.type===T&&"string"===typeof e.value){var n=(0,x.sH)(e.value);return function(){return n}}return function(){return e.value}}var i=e.operator;switch(i){case H.Number:case H.String:return pe(e,t);case H.Get:case H.Var:return ge(e,t);case H.Id:return function(e){return e.featureId};case H.Concat:var r=e.args.map((function(e){return de(e,t)}));return function(e){var t;return(t="").concat.apply(t,(0,C.A)(r.map((function(t){return t(e).toString()}))))};case H.Resolution:return function(e){return e.resolution};case H.Any:case H.All:case H.Not:return me(e,t);case H.Equal:case H.NotEqual:case H.LessThan:case H.LessThanOrEqualTo:case H.GreaterThan:case H.GreaterThanOrEqualTo:return fe(e,t);case H.Multiply:case H.Divide:case H.Add:case H.Subtract:case H.Clamp:case H.Mod:case H.Pow:case H.Abs:case H.Floor:case H.Ceil:case H.Round:case H.Sin:case H.Cos:case H.Atan:case H.Sqrt:return ve(e,t);case H.Match:return ye(e,t);case H.Interpolate:return Ae(e,t);default:throw new Error("Unsupported operator ".concat(i))}}function pe(e,t){for(var n=e.operator,i=e.args.length,r=new Array(i),o=0;o<i;++o)r[o]=de(e.args[o],t);switch(n){case H.Number:case H.String:return function(e){for(var t=0;t<i;++t){var o=r[t](e);if((0,E.A)(o)===n)return o}throw new Error("Expected one of the values to be a ".concat(n))};default:throw new Error("Unsupported assertion operator ".concat(n))}}function ge(e,t){var n=e.args[0],i=n.value;switch(e.operator){case H.Get:return function(e){return e.properties[i]};case H.Var:return function(e){return e.variables[i]};default:throw new Error("Unsupported accessor operator ".concat(e.operator))}}function fe(e,t){var n=e.operator,i=de(e.args[0],t),r=de(e.args[1],t);switch(n){case H.Equal:return function(e){return i(e)===r(e)};case H.NotEqual:return function(e){return i(e)!==r(e)};case H.LessThan:return function(e){return i(e)<r(e)};case H.LessThanOrEqualTo:return function(e){return i(e)<=r(e)};case H.GreaterThan:return function(e){return i(e)>r(e)};case H.GreaterThanOrEqualTo:return function(e){return i(e)>=r(e)};default:throw new Error("Unsupported comparison operator ".concat(n))}}function me(e,t){for(var n=e.operator,i=e.args.length,r=new Array(i),o=0;o<i;++o)r[o]=de(e.args[o],t);switch(n){case H.Any:return function(e){for(var t=0;t<i;++t)if(r[t](e))return!0;return!1};case H.All:return function(e){for(var t=0;t<i;++t)if(!r[t](e))return!1;return!0};case H.Not:return function(e){return!r[0](e)};default:throw new Error("Unsupported logical operator ".concat(n))}}function ve(e,t){for(var n=e.operator,i=e.args.length,r=new Array(i),o=0;o<i;++o)r[o]=de(e.args[o],t);switch(n){case H.Multiply:return function(e){for(var t=1,n=0;n<i;++n)t*=r[n](e);return t};case H.Divide:return function(e){return r[0](e)/r[1](e)};case H.Add:return function(e){for(var t=0,n=0;n<i;++n)t+=r[n](e);return t};case H.Subtract:return function(e){return r[0](e)-r[1](e)};case H.Clamp:return function(e){var t=r[0](e),n=r[1](e);if(t<n)return n;var i=r[2](e);return t>i?i:t};case H.Mod:return function(e){return r[0](e)%r[1](e)};case H.Pow:return function(e){return Math.pow(r[0](e),r[1](e))};case H.Abs:return function(e){return Math.abs(r[0](e))};case H.Floor:return function(e){return Math.floor(r[0](e))};case H.Ceil:return function(e){return Math.ceil(r[0](e))};case H.Round:return function(e){return Math.round(r[0](e))};case H.Sin:return function(e){return Math.sin(r[0](e))};case H.Cos:return function(e){return Math.cos(r[0](e))};case H.Atan:return 2===i?function(e){return Math.atan2(r[0](e),r[1](e))}:function(e){return Math.atan(r[0](e))};case H.Sqrt:return function(e){return Math.sqrt(r[0](e))};default:throw new Error("Unsupported numeric operator ".concat(n))}}function ye(e,t){for(var n=e.args.length,i=new Array(n),r=0;r<n;++r)i[r]=de(e.args[r],t);return function(e){for(var t=i[0](e),r=1;r<n;r+=2)if(t===i[r](e))return i[r+1](e);return i[n-1](e)}}function Ae(e,t){for(var n=e.args.length,i=new Array(n),r=0;r<n;++r)i[r]=de(e.args[r],t);return function(e){for(var t,r,o=i[0](e),a=i[1](e),s=2;s<n;s+=2){var l=i[s](e),u=i[s+1](e),c=Array.isArray(u);if(c&&(u=(0,x.fu)(u)),l>=a)return 2===s?u:c?Ce(o,a,t,r,l,u):_e(o,a,t,r,l,u);t=l,r=u}return r}}function _e(e,t,n,i,r,o){var a=r-n;if(0===a)return i;var s=t-n,l=1===e?s/a:(Math.pow(e,s)-1)/(Math.pow(e,a)-1);return i+l*(o-i)}function Ce(e,t,n,i,r,o){var a=r-n;if(0===a)return i;var s=(0,x.eE)(i),l=(0,x.eE)(o),u=l[2]-s[2];u>180?u-=360:u<-180&&(u+=360);var c=[_e(e,t,n,s[0],r,l[0]),_e(e,t,n,s[1],r,l[1]),s[2]+_e(e,t,n,0,r,u),_e(e,t,n,i[3],r,o[3])];return(0,x.S8)((0,x.cD)(c))}var Ie=n(6811),Ee=n(5689);function we(e){return!0}function be(e){var t=W(),n=Se(e,t),i=ce();return function(e,r){if(i.properties=e.getPropertiesInternal(),i.resolution=r,t.featureId){var o=e.getId();i.featureId=void 0!==o?o:null}return n(i)}}function xe(e){for(var t=W(),n=e.length,i=new Array(n),r=0;r<n;++r)i[r]=Pe(e[r],t);var o=ce(),a=new Array(n);return function(e,r){if(o.properties=e.getPropertiesInternal(),o.resolution=r,t.featureId){var s=e.getId();o.featureId=void 0!==s?s:null}for(var l=0,u=0;u<n;++u){var c=i[u](o);c&&(a[l]=c,l+=1)}return a.length=l,a}}function Se(e,t){for(var n=e.length,i=new Array(n),r=0;r<n;++r){var o=e[r],a="filter"in o?he(o.filter,M,t):we,s=void 0;if(Array.isArray(o.style)){var l=o.style.length;s=new Array(l);for(var u=0;u<l;++u)s[u]=Pe(o.style[u],t)}else s=[Pe(o.style,t)];i[r]={filter:a,styles:s}}return function(t){for(var r=[],o=!1,a=0;a<n;++a){var s=i[a].filter;if(s(t)&&(!e[a].else||!o)){o=!0;var l,u=(0,p.A)(i[a].styles);try{for(u.s();!(l=u.n()).done;){var c=l.value,h=c(t);h&&r.push(h)}}catch(d){u.e(d)}finally{u.f()}}}return r}}function Pe(e,t){var n=Me(e,"",t),i=ke(e,"",t),r=Re(e,t),o=Te(e,t),a=De(e,"z-index",t);if(!n&&!i&&!r&&!o&&!(0,Ie.p)(e))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(e));var s=new d.Ay;return function(e){var t=!0;if(n){var l=n(e);l&&(t=!1),s.setFill(l)}if(i){var u=i(e);u&&(t=!1),s.setStroke(u)}if(r){var c=r(e);c&&(t=!1),s.setText(c)}if(o){var h=o(e);h&&(t=!1),s.setImage(h)}return a&&s.setZIndex(a(e)),t?null:s}}function Me(e,t,n){var i=Ue(e,t+"fill-color",n);if(!i)return null;var r=new f.A;return function(e){var t=i(e);return"none"===t?null:(r.setColor(t),r)}}function ke(e,t,n){var i=De(e,t+"stroke-width",n),r=Ue(e,t+"stroke-color",n);if(!i&&!r)return null;var o=Ne(e,t+"stroke-line-cap",n),a=Ne(e,t+"stroke-line-join",n),s=Be(e,t+"stroke-line-dash",n),l=De(e,t+"stroke-line-dash-offset",n),u=De(e,t+"stroke-miter-limit",n),c=new y.A;return function(e){if(r){var t=r(e);if("none"===t)return null;c.setColor(t)}if(i&&c.setWidth(i(e)),o){var n=o(e);if("butt"!==n&&"round"!==n&&"square"!==n)throw new Error("Expected butt, round, or square line cap");c.setLineCap(n)}if(a){var h=a(e);if("bevel"!==h&&"round"!==h&&"miter"!==h)throw new Error("Expected bevel, round, or miter line join");c.setLineJoin(h)}return s&&c.setLineDash(s(e)),l&&c.setLineDashOffset(l(e)),u&&c.setMiterLimit(u(e)),c}}function Re(e,t){var n="text-",i=Ne(e,n+"value",t);if(!i)return null;var r=Me(e,n,t),o=Me(e,n+"background-",t),a=ke(e,n,t),s=ke(e,n+"background-",t),l=Ne(e,n+"font",t),u=De(e,n+"max-angle",t),c=De(e,n+"offset-x",t),h=De(e,n+"offset-y",t),d=Fe(e,n+"overflow",t),p=Ne(e,n+"placement",t),g=De(e,n+"repeat",t),f=ze(e,n+"scale",t),m=Fe(e,n+"rotate-with-view",t),v=De(e,n+"rotation",t),y=Ne(e,n+"align",t),_=Ne(e,n+"justify",t),C=Ne(e,n+"baseline",t),I=Be(e,n+"padding",t),E=new A.A({});return function(e){if(E.setText(i(e)),r&&E.setFill(r(e)),o&&E.setBackgroundFill(o(e)),a&&E.setStroke(a(e)),s&&E.setBackgroundStroke(s(e)),l&&E.setFont(l(e)),u&&E.setMaxAngle(u(e)),c&&E.setOffsetX(c(e)),h&&E.setOffsetY(h(e)),d&&E.setOverflow(d(e)),p){var t=p(e);if("point"!==t&&"line"!==t)throw new Error("Expected point or line for text-placement");E.setPlacement(t)}if(g&&E.setRepeat(g(e)),f&&E.setScale(f(e)),m&&E.setRotateWithView(m(e)),v&&E.setRotation(v(e)),y){var n=y(e);if("left"!==n&&"center"!==n&&"right"!==n&&"end"!==n&&"start"!==n)throw new Error("Expected left, right, center, start, or end for text-align");E.setTextAlign(n)}if(_){var A=_(e);if("left"!==A&&"right"!==A&&"center"!==A)throw new Error("Expected left, right, or center for text-justify");E.setJustify(A)}if(C){var w=C(e);if("bottom"!==w&&"top"!==w&&"middle"!==w&&"alphabetic"!==w&&"hanging"!==w)throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");E.setTextBaseline(w)}return I&&E.setPadding(I(e)),E}}function Te(e,t){return"icon-src"in e?Le(e,t):"shape-points"in e?Ge(e,t):"circle-radius"in e?Oe(e,t):null}function Le(e,t){var n="icon-",i=n+"src",r=Qe(e[i],i),o=je(e,n+"anchor",t),a=ze(e,n+"scale",t),s=De(e,n+"opacity",t),l=je(e,n+"displacement",t),u=De(e,n+"rotation",t),c=Fe(e,n+"rotate-with-view",t),h=He(e,n+"anchor-origin"),d=qe(e,n+"anchor-x-units"),p=qe(e,n+"anchor-y-units"),g=Ke(e,n+"color"),f=Ye(e,n+"cross-origin"),v=Xe(e,n+"offset"),y=He(e,n+"offset-origin"),A=We(e,n+"width"),_=We(e,n+"height"),C=Ve(e,n+"size"),I=Ze(e,n+"declutter"),E=new m.A({src:r,anchorOrigin:h,anchorXUnits:d,anchorYUnits:p,color:g,crossOrigin:f,offset:v,offsetOrigin:y,height:_,width:A,size:C,declutterMode:I});return function(e){return s&&E.setOpacity(s(e)),l&&E.setDisplacement(l(e)),u&&E.setRotation(u(e)),c&&E.setRotateWithView(c(e)),a&&E.setScale(a(e)),o&&E.setAnchor(o(e)),E}}function Ge(e,t){var n="shape-",i=n+"points",r=$e(e[i],i),o=Me(e,n,t),a=ke(e,n,t),s=ze(e,n+"scale",t),l=je(e,n+"displacement",t),u=De(e,n+"rotation",t),c=Fe(e,n+"rotate-with-view",t),h=We(e,n+"radius"),d=We(e,n+"radius1"),p=We(e,n+"radius2"),g=We(e,n+"angle"),f=Ze(e,n+"declutter-mode"),m=new v.A({points:r,radius:h,radius1:d,radius2:p,angle:g,declutterMode:f});return function(e){return o&&m.setFill(o(e)),a&&m.setStroke(a(e)),l&&m.setDisplacement(l(e)),u&&m.setRotation(u(e)),c&&m.setRotateWithView(c(e)),s&&m.setScale(s(e)),m}}function Oe(e,t){var n="circle-",i=Me(e,n,t),r=ke(e,n,t),o=De(e,n+"radius",t),a=ze(e,n+"scale",t),s=je(e,n+"displacement",t),l=De(e,n+"rotation",t),u=Fe(e,n+"rotate-with-view",t),c=Ze(e,n+"declutter-mode"),h=new g.A({radius:5,declutterMode:c});return function(e){return o&&h.setRadius(o(e)),i&&h.setFill(i(e)),r&&h.setStroke(r(e)),s&&h.setDisplacement(s(e)),l&&h.setRotation(l(e)),u&&h.setRotateWithView(u(e)),a&&h.setScale(a(e)),h}}function De(e,t,n){if(t in e){var i=he(e[t],k,n);return function(e){return $e(i(e),t)}}}function Ne(e,t,n){if(!(t in e))return null;var i=he(e[t],R,n);return function(e){return Qe(i(e),t)}}function Fe(e,t,n){if(!(t in e))return null;var i=he(e[t],M,n);return function(e){var n=i(e);if("boolean"!==typeof n)throw new Error("Expected a boolean for ".concat(t));return n}}function Ue(e,t,n){if(!(t in e))return null;var i=he(e[t],T|R,n);return function(e){return et(i(e),t)}}function Be(e,t,n){if(!(t in e))return null;var i=he(e[t],L,n);return function(e){return Je(i(e),t)}}function je(e,t,n){if(!(t in e))return null;var i=he(e[t],L,n);return function(e){var n=Je(i(e),t);if(2!==n.length)throw new Error("Expected two numbers for ".concat(t));return n}}function ze(e,t,n){if(!(t in e))return null;var i=he(e[t],L|k,n);return function(e){return tt(i(e),t)}}function We(e,t){var n=e[t];if(void 0!==n){if("number"!==typeof n)throw new Error("Expected a number for ".concat(t));return n}}function Ve(e,t){var n=e[t];if(void 0!==n){if("number"===typeof n)return(0,Ee.xq)(n);if(!Array.isArray(n))throw new Error("Expected a number or size array for ".concat(t));if(2!==n.length||"number"!==typeof n[0]||"number"!==typeof n[1])throw new Error("Expected a number or size array for ".concat(t));return n}}function Ye(e,t){var n=e[t];if(void 0!==n){if("string"!==typeof n)throw new Error("Expected a string for ".concat(t));return n}}function He(e,t){var n=e[t];if(void 0!==n){if("bottom-left"!==n&&"bottom-right"!==n&&"top-left"!==n&&"top-right"!==n)throw new Error("Expected bottom-left, bottom-right, top-left, or top-right for ".concat(t));return n}}function qe(e,t){var n=e[t];if(void 0!==n){if("pixels"!==n&&"fraction"!==n)throw new Error("Expected pixels or fraction for ".concat(t));return n}}function Xe(e,t){var n=e[t];if(void 0!==n)return Je(n,t)}function Ze(e,t){var n=e[t];if(void 0!==n){if("string"!==typeof n)throw new Error("Expected a string for ".concat(t));if("declutter"!==n&&"obstacle"!==n&&"none"!==n)throw new Error("Expected declutter, obstacle, or none for ".concat(t));return n}}function Ke(e,t){var n=e[t];if(void 0!==n)return et(n,t)}function Je(e,t){if(!Array.isArray(e))throw new Error("Expected an array for ".concat(t));for(var n=e.length,i=0;i<n;++i)if("number"!==typeof e[i])throw new Error("Expected an array of numbers for ".concat(t));return e}function Qe(e,t){if("string"!==typeof e)throw new Error("Expected a string for ".concat(t));return e}function $e(e,t){if("number"!==typeof e)throw new Error("Expected a number for ".concat(t));return e}function et(e,t){if("string"===typeof e)return e;var n=Je(e,t),i=n.length;if(i<3||i>4)throw new Error("Expected a color with 3 or 4 values for ".concat(t));return n}function tt(e,t){if("number"===typeof e)return e;var n=Je(e,t);if(2!==n.length)throw new Error("Expected an array of two numbers for ".concat(t));return n}var nt={RENDER_ORDER:"renderOrder"},it=function(e){function t(e){var n;(0,r.A)(this,t),e=e||{};var i=Object.assign({},e);return delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,n=(0,a.A)(this,t,[i]),n.declutter_=void 0!==e.declutter&&e.declutter,n.renderBuffer_=void 0!==e.renderBuffer?e.renderBuffer:100,n.style_=null,n.styleFunction_=void 0,n.setStyle(e.style),n.updateWhileAnimating_=void 0!==e.updateWhileAnimating&&e.updateWhileAnimating,n.updateWhileInteracting_=void 0!==e.updateWhileInteracting&&e.updateWhileInteracting,n}return(0,u.A)(t,e),(0,o.A)(t,[{key:"getDeclutter",value:function(){return this.declutter_}},{key:"getFeatures",value:function(e){return(0,s.A)((0,l.A)(t.prototype),"getFeatures",this).call(this,e)}},{key:"getRenderBuffer",value:function(){return this.renderBuffer_}},{key:"getRenderOrder",value:function(){return this.get(nt.RENDER_ORDER)}},{key:"getStyle",value:function(){return this.style_}},{key:"getStyleFunction",value:function(){return this.styleFunction_}},{key:"getUpdateWhileAnimating",value:function(){return this.updateWhileAnimating_}},{key:"getUpdateWhileInteracting",value:function(){return this.updateWhileInteracting_}},{key:"renderDeclutter",value:function(e){e.declutterTree||(e.declutterTree=new h(9)),this.getRenderer().renderDeclutter(e)}},{key:"setRenderOrder",value:function(e){this.set(nt.RENDER_ORDER,e)}},{key:"setStyle",value:function(e){this.style_=rt(e),this.styleFunction_=null===e?void 0:(0,d.mC)(this.style_),this.changed()}}])}(c.A);function rt(e){if(void 0===e)return d.d1;if(!e)return null;if("function"===typeof e)return e;if(e instanceof d.Ay)return e;if(!Array.isArray(e))return xe([e]);if(0===e.length)return[];var t=e.length,n=e[0];if(n instanceof d.Ay){for(var i=new Array(t),r=0;r<t;++r){var o=e[r];if(!(o instanceof d.Ay))throw new Error("Expected a list of style instances");i[r]=o}return i}if("style"in n){for(var a=new Array(t),s=0;s<t;++s){var l=e[s];if(!("style"in l))throw new Error("Expected a list of rules with a style property");a[s]=l}return be(a)}var u=e;return xe(u)}var ot=it},3139:function(e,t,n){"use strict";n.d(t,{i:function(){return y}});var i=n(9492),r=n(5026),o=n(5647),a=n(8578),s=(n(4114),n(4782),n(6099),n(3500),n(9855)),l=n(3844),u=n(2686),c=n(9078),h=n(7582),d=n(6555),p=n(1097),g=n(6811),f=n(7444),m=n(5752),v=n(8965),y=function(e){function t(e,n){var i;return(0,r.A)(this,t),i=(0,o.A)(this,t,[e]),i.layer=n,i}return(0,a.A)(t,e),(0,i.A)(t)}(c.Ay),A={LAYERS:"layers"},_=function(e){function t(e){var n;(0,r.A)(this,t),e=e||{};var i=Object.assign({},e);delete i.layers;var a=e.layers;return n=(0,o.A)(this,t,[i]),n.on,n.once,n.un,n.layersListenerKeys_=[],n.listenerKeys_={},n.addChangeListener(A.LAYERS,n.handleLayersChanged_),a?Array.isArray(a)?a=new l.A(a.slice(),{unique:!0}):(0,p.v)("function"===typeof a.getArray,"Expected `layers` to be an array or a `Collection`"):a=new l.A(void 0,{unique:!0}),n.setLayers(a),n}return(0,a.A)(t,e),(0,i.A)(t,[{key:"handleLayerChange_",value:function(){this.changed()}},{key:"handleLayersChanged_",value:function(){this.layersListenerKeys_.forEach(v.JH),this.layersListenerKeys_.length=0;var e=this.getLayers();for(var t in this.layersListenerKeys_.push((0,v.KT)(e,u.A.ADD,this.handleLayersAdd_,this),(0,v.KT)(e,u.A.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[t].forEach(v.JH);(0,g.I)(this.listenerKeys_);for(var n=e.getArray(),i=0,r=n.length;i<r;i++){var o=n[i];this.registerLayerListeners_(o),this.dispatchEvent(new y("addlayer",o))}this.changed()}},{key:"registerLayerListeners_",value:function(e){var n=[(0,v.KT)(e,d.A.PROPERTYCHANGE,this.handleLayerChange_,this),(0,v.KT)(e,h.A.CHANGE,this.handleLayerChange_,this)];e instanceof t&&n.push((0,v.KT)(e,"addlayer",this.handleLayerGroupAdd_,this),(0,v.KT)(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[(0,m.v6)(e)]=n}},{key:"handleLayerGroupAdd_",value:function(e){this.dispatchEvent(new y("addlayer",e.layer))}},{key:"handleLayerGroupRemove_",value:function(e){this.dispatchEvent(new y("removelayer",e.layer))}},{key:"handleLayersAdd_",value:function(e){var t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new y("addlayer",t)),this.changed()}},{key:"handleLayersRemove_",value:function(e){var t=e.element,n=(0,m.v6)(t);this.listenerKeys_[n].forEach(v.JH),delete this.listenerKeys_[n],this.dispatchEvent(new y("removelayer",t)),this.changed()}},{key:"getLayers",value:function(){return this.get(A.LAYERS)}},{key:"setLayers",value:function(e){var t=this.getLayers();if(t)for(var n=t.getArray(),i=0,r=n.length;i<r;++i)this.dispatchEvent(new y("removelayer",n[i]));this.set(A.LAYERS,e)}},{key:"getLayersArray",value:function(e){return e=void 0!==e?e:[],this.getLayers().forEach((function(t){t.getLayersArray(e)})),e}},{key:"getLayerStatesArray",value:function(e){var t=void 0!==e?e:[],n=t.length;this.getLayers().forEach((function(e){e.getLayerStatesArray(t)}));var i=this.getLayerState(),r=i.zIndex;e||void 0!==i.zIndex||(r=0);for(var o=n,a=t.length;o<a;o++){var s=t[o];s.opacity*=i.opacity,s.visible=s.visible&&i.visible,s.maxResolution=Math.min(s.maxResolution,i.maxResolution),s.minResolution=Math.max(s.minResolution,i.minResolution),s.minZoom=Math.max(s.minZoom,i.minZoom),s.maxZoom=Math.min(s.maxZoom,i.maxZoom),void 0!==i.extent&&(void 0!==s.extent?s.extent=(0,f._N)(s.extent,i.extent):s.extent=i.extent),void 0===s.zIndex&&(s.zIndex=r)}return t}},{key:"getSourceState",value:function(){return"ready"}}])}(s.A);t.A=_},2425:function(e,t,n){"use strict";n.d(t,{l:function(){return y}});var i=n(5026),r=n(9492),o=n(5647),a=n(7645),s=n(4497),l=n(8578),u=(n(113),n(2062),n(4114),n(6099),n(9855)),c=n(7582),h=n(4543),d=n(3707),p=n(8699),g=n(1097),f=n(7444),m=n(8965),v=function(e){function t(e){var n;(0,i.A)(this,t);var r=Object.assign({},e);delete r.source,n=(0,o.A)(this,t,[r]),n.on,n.once,n.un,n.mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,n.sourceReady_=!1,n.rendered=!1,e.render&&(n.render=e.render),e.map&&n.setMap(e.map),n.addChangeListener(h.A.SOURCE,n.handleSourcePropertyChange_);var a=e.source?e.source:null;return n.setSource(a),n}return(0,l.A)(t,e),(0,r.A)(t,[{key:"getLayersArray",value:function(e){return e=e||[],e.push(this),e}},{key:"getLayerStatesArray",value:function(e){return e=e||[],e.push(this.getLayerState()),e}},{key:"getSource",value:function(){return this.get(h.A.SOURCE)||null}},{key:"getRenderSource",value:function(){return this.getSource()}},{key:"getSourceState",value:function(){var e=this.getSource();return e?e.getState():"undefined"}},{key:"handleSourceChange_",value:function(){this.changed(),this.sourceReady_||"ready"!==this.getSource().getState()||(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}},{key:"handleSourcePropertyChange_",value:function(){var e=this;this.sourceChangeKey_&&((0,m.JH)(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;var t=this.getSource();t&&(this.sourceChangeKey_=(0,m.KT)(t,c.A.CHANGE,this.handleSourceChange_,this),"ready"===t.getState()&&(this.sourceReady_=!0,setTimeout((function(){e.dispatchEvent("sourceready")}),0))),this.changed()}},{key:"getFeatures",value:function(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}},{key:"getData",value:function(e){return this.renderer_&&this.rendered?this.renderer_.getData(e):null}},{key:"isVisible",value:function(e){var t,n,i=this,r=this.getMapInternal();!e&&r&&(e=r.getView()),t=e instanceof p.Ay?{viewState:e.getState(),extent:e.calculateExtent()}:e,!t.layerStatesArray&&r&&(t.layerStatesArray=r.getLayerGroup().getLayerStatesArray()),n=t.layerStatesArray?t.layerStatesArray.find((function(e){return e.layer===i})):this.getLayerState();var o=this.getExtent();return y(n,t.viewState)&&(!o||(0,f.HY)(o,t.extent))}},{key:"getAttributions",value:function(e){if(!this.isVisible(e))return[];var t,n=this.getSource();if(n&&(t=n.getAttributions()),!t)return[];var i=e instanceof p.Ay?e.getViewStateAndExtent():e,r=t(i);return Array.isArray(r)||(r=[r]),r}},{key:"render",value:function(e,t){var n=this.getRenderer();return n.prepareFrame(e)?(this.rendered=!0,n.renderFrame(e,t)):null}},{key:"unrender",value:function(){this.rendered=!1}},{key:"setMapInternal",value:function(e){e||this.unrender(),this.set(h.A.MAP,e)}},{key:"getMapInternal",value:function(){return this.get(h.A.MAP)}},{key:"setMap",value:function(e){this.mapPrecomposeKey_&&((0,m.JH)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&((0,m.JH)(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=(0,m.KT)(e,d.A.PRECOMPOSE,(function(e){var t=e,n=t.frameState.layerStatesArray,i=this.getLayerState(!1);(0,g.v)(!n.some((function(e){return e.layer===i.layer})),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),n.push(i)}),this),this.mapRenderKey_=(0,m.KT)(this,c.A.CHANGE,e.render,e),this.changed())}},{key:"setSource",value:function(e){this.set(h.A.SOURCE,e)}},{key:"getRenderer",value:function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}},{key:"hasRenderer",value:function(){return!!this.renderer_}},{key:"createRenderer",value:function(){return null}},{key:"disposeInternal",value:function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),(0,a.A)((0,s.A)(t.prototype),"disposeInternal",this).call(this)}}])}(u.A);function y(e,t){if(!e.visible)return!1;var n=t.resolution;if(n<e.minResolution||n>=e.maxResolution)return!1;var i=t.zoom;return i>e.minZoom&&i<=e.maxZoom}t.A=v},4543:function(e,t){"use strict";t.A={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"}},6273:function(e,t,n){"use strict";n.d(t,{A:function(){return b}});var i=n(5026),r=n(9492),o=n(5647),a=n(8578),s=n(6420),l=(n(2062),n(4114),n(4782),n(6910),n(4554),n(6099),n(5073)),u=n(3525),c=n(6264),h=n(3707),d=n(6940),p=n(923),g=n(1194),f=n(7444),m=n(7334),v=n(4405),y=n(6232),A=n(5857),_=n(5752),C=n(8474),I=function(e){function t(e){var n;return(0,i.A)(this,t),n=(0,o.A)(this,t,[e]),n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.animatingOrInteracting_,n.hitDetectionImageData_=null,n.renderedFeatures_=null,n.renderedRevision_=-1,n.renderedResolution_=NaN,n.renderedExtent_=(0,f.S5)(),n.wrappedRenderedExtent_=(0,f.S5)(),n.renderedRotation_,n.renderedCenter_=null,n.renderedProjection_=null,n.renderedRenderOrder_=null,n.replayGroup_=null,n.replayGroupChanged=!0,n.declutterExecutorGroup=null,n.clipping=!0,n.compositionContext_=null,n.opacity_=1,n}return(0,a.A)(t,e),(0,r.A)(t,[{key:"renderWorlds",value:function(e,t,n){var i=t.extent,r=t.viewState,o=r.center,a=r.resolution,s=r.projection,l=r.rotation,u=s.getExtent(),c=this.getLayer().getSource(),h=t.pixelRatio,p=t.viewHints,g=!(p[d.A.ANIMATING]||p[d.A.INTERACTING]),m=this.compositionContext_,v=Math.round(t.size[0]*h),y=Math.round(t.size[1]*h),A=c.getWrapX()&&s.canWrapX(),_=A?(0,f.RG)(u):null,C=A?Math.ceil((i[2]-u[2])/_)+1:1,I=A?Math.floor((i[0]-u[0])/_):0;do{var E=this.getRenderTransform(o,a,l,h,v,y,I*_);e.execute(m,1,E,l,g,void 0,n)}while(++I<C)}},{key:"setupCompositionContext_",value:function(){if(1!==this.opacity_){var e=(0,m.Y)(this.context.canvas.width,this.context.canvas.height,u.B);this.compositionContext_=e}else this.compositionContext_=this.context}},{key:"releaseCompositionContext_",value:function(){if(1!==this.opacity_){var e=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=e,(0,m.Yg)(this.compositionContext_),u.B.push(this.compositionContext_.canvas),this.compositionContext_=null}}},{key:"renderDeclutter",value:function(e){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree),this.releaseCompositionContext_())}},{key:"renderFrame",value:function(e,t){var n=e.pixelRatio,i=e.layerStatesArray[e.layerIndex];(0,g.rQ)(this.pixelTransform,1/n,1/n),(0,g.T9)(this.inversePixelTransform,this.pixelTransform);var r=(0,g.dI)(this.pixelTransform);this.useContainer(t,r,this.getBackground(e));var o=this.context,a=o.canvas,s=this.replayGroup_,l=this.declutterExecutorGroup,u=s&&!s.isEmpty()||l&&!l.isEmpty();if(!u){var c=this.getLayer().hasListener(h.A.PRERENDER)||this.getLayer().hasListener(h.A.POSTRENDER);if(!c)return null}var d=Math.round(e.size[0]*n),p=Math.round(e.size[1]*n);a.width!=d||a.height!=p?(a.width=d,a.height=p,a.style.transform!==r&&(a.style.transform=r)):this.containerReused||o.clearRect(0,0,d,p),this.preRender(o,e);var m=e.viewState,v=m.projection;this.opacity_=i.opacity,this.setupCompositionContext_();var y=!1;if(u&&i.extent&&this.clipping){var _=(0,A.SD)(i.extent,v);u=(0,f.HY)(_,e.extent),y=u&&!(0,f.ms)(_,e.extent),y&&this.clipUnrotated(this.compositionContext_,e,_)}return u&&this.renderWorlds(s,e),y&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(o,e),this.renderedRotation_!==m.rotation&&(this.renderedRotation_=m.rotation,this.hitDetectionImageData_=null),this.container}},{key:"getFeatures",value:function(e){var t=this;return new Promise((function(n){if(!t.hitDetectionImageData_&&!t.animatingOrInteracting_){var i=[t.context.canvas.width,t.context.canvas.height];(0,g.Bb)(t.pixelTransform,i);var r=t.renderedCenter_,o=t.renderedResolution_,a=t.renderedRotation_,s=t.renderedProjection_,l=t.wrappedRenderedExtent_,u=t.getLayer(),c=[],h=i[0]*p.tF,d=i[1]*p.tF;c.push(t.getRenderTransform(r,o,a,p.tF,h,d,0).slice());var m=u.getSource(),v=s.getExtent();if(m.getWrapX()&&s.canWrapX()&&!(0,f.ms)(v,l)){var y,A=l[0],_=(0,f.RG)(v),C=0;while(A<v[0])--C,y=_*C,c.push(t.getRenderTransform(r,o,a,p.tF,h,d,y).slice()),A+=_;C=0,A=l[2];while(A>v[2])++C,y=_*C,c.push(t.getRenderTransform(r,o,a,p.tF,h,d,y).slice()),A-=_}t.hitDetectionImageData_=(0,p._7)(i,c,t.renderedFeatures_,u.getStyleFunction(),l,o,a)}n((0,p.F8)(e,t.renderedFeatures_,t.hitDetectionImageData_))}))}},{key:"forEachFeatureAtCoordinate",value:function(e,t,n,i,r){var o=this;if(this.replayGroup_){var a,s=t.viewState.resolution,l=t.viewState.rotation,u=this.getLayer(),c={},h=function(e,t,n){var o=(0,_.v6)(e),a=c[o];if(a){if(!0!==a&&n<a.distanceSq){if(0===n)return c[o]=!0,r.splice(r.lastIndexOf(a),1),i(e,u,t);a.geometry=t,a.distanceSq=n}}else{if(0===n)return c[o]=!0,i(e,u,t);r.push(c[o]={feature:e,layer:u,geometry:t,distanceSq:n,callback:i})}},d=[this.replayGroup_];return this.declutterExecutorGroup&&d.push(this.declutterExecutorGroup),d.some((function(i){return a=i.forEachFeatureAtCoordinate(e,s,l,n,h,i===o.declutterExecutorGroup&&t.declutterTree?t.declutterTree.all().map((function(e){return e.value})):null)})),a}}},{key:"handleFontsChanged",value:function(){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}},{key:"handleStyleImageChange_",value:function(e){this.renderIfReadyAndVisible()}},{key:"prepareFrame",value:function(e){var t=this,n=this.getLayer(),i=n.getSource();if(!i)return!1;var r=e.viewHints[d.A.ANIMATING],o=e.viewHints[d.A.INTERACTING],a=n.getUpdateWhileAnimating(),s=n.getUpdateWhileInteracting();if(this.ready&&!a&&r||!s&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var u=e.extent,h=e.viewState,p=h.projection,g=h.resolution,m=e.pixelRatio,_=n.getRevision(),I=n.getRenderBuffer(),E=n.getRenderOrder();void 0===E&&(E=v.Eo);var w=h.center.slice(),b=(0,f.r)(u,I*g),x=b.slice(),S=[b.slice()],P=p.getExtent();if(i.getWrapX()&&p.canWrapX()&&!(0,f.ms)(P,e.extent)){var M=(0,f.RG)(P),k=Math.max((0,f.RG)(b)/2,M);b[0]=P[0]-k,b[2]=P[2]+k,(0,C.Li)(w,p);var R=(0,f.Li)(S[0],p);R[0]<P[0]&&R[2]<P[2]?S.push([R[0]+M,R[1],R[2]+M,R[3]]):R[0]>P[0]&&R[2]>P[2]&&S.push([R[0]-M,R[1],R[2]-M,R[3]])}if(this.ready&&this.renderedResolution_==g&&this.renderedRevision_==_&&this.renderedRenderOrder_==E&&(0,f.ms)(this.wrappedRenderedExtent_,b))return(0,y.aI)(this.renderedExtent_,x)||(this.hitDetectionImageData_=null,this.renderedExtent_=x),this.renderedCenter_=w,this.replayGroupChanged=!1,!0;this.replayGroup_=null;var T,L=new l.A((0,v.gY)(g,m),b,g,m);this.getLayer().getDeclutter()&&(T=new l.A((0,v.gY)(g,m),b,g,m));var G,O=(0,A.Tf)();if(O){for(var D=0,N=S.length;D<N;++D){var F=S[D],U=(0,A.JR)(F,p);i.loadFeatures(U,(0,A.vN)(g,p),O)}G=(0,A.FO)(O,p)}else for(var B=0,j=S.length;B<j;++B)i.loadFeatures(S[B],g,p);var z=(0,v.j)(g,m),W=!0,V=function(e){var i,r=e.getStyleFunction()||n.getStyleFunction();if(r&&(i=r(e,g)),i){var o=t.renderFeature(e,z,i,L,G,T);W=W&&!o}},Y=(0,A.JR)(b,p),H=i.getFeaturesInExtent(Y);E&&H.sort(E);for(var q=0,X=H.length;q<X;++q)V(H[q]);this.renderedFeatures_=H,this.ready=W;var Z=L.finish(),K=new c.A(b,g,m,i.getOverlaps(),Z,n.getRenderBuffer());return T&&(this.declutterExecutorGroup=new c.A(b,g,m,i.getOverlaps(),T.finish(),n.getRenderBuffer())),this.renderedResolution_=g,this.renderedRevision_=_,this.renderedRenderOrder_=E,this.renderedExtent_=x,this.wrappedRenderedExtent_=b,this.renderedCenter_=w,this.renderedProjection_=p,this.replayGroup_=K,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}},{key:"renderFeature",value:function(e,t,n,i,r,o){if(!n)return!1;var a=!1;if(Array.isArray(n))for(var s=0,l=n.length;s<l;++s)a=(0,v.nl)(i,e,n[s],t,this.boundHandleStyleImageChange_,r,o)||a;else a=(0,v.nl)(i,e,n,t,this.boundHandleStyleImageChange_,r,o);return a}}])}(u.A),E=I,w=function(e){function t(e){return(0,i.A)(this,t),(0,o.A)(this,t,[e])}return(0,a.A)(t,e),(0,r.A)(t,[{key:"createRenderer",value:function(){return new E(this)}}])}(s.A),b=w},8655:function(e,t,n){"use strict";n.d(t,{Q7:function(){return i},Qk:function(){return r}});n(4114),n(5857);function i(e,t){return[[-1/0,-1/0,1/0,1/0]]}function r(e,t){return[e]}},5674:function(e,t,n){"use strict";function i(e,t,n){return Math.min(Math.max(e,t),n)}function r(e,t,n,i,r,a){var s=r-n,l=a-i;if(0!==s||0!==l){var u=((e-n)*s+(t-i)*l)/(s*s+l*l);u>1?(n=r,i=a):u>0&&(n+=s*u,i+=l*u)}return o(e,t,n,i)}function o(e,t,n,i){var r=n-e,o=i-t;return r*r+o*o}function a(e){for(var t=e.length,n=0;n<t;n++){for(var i=n,r=Math.abs(e[n][n]),o=n+1;o<t;o++){var a=Math.abs(e[o][n]);a>r&&(r=a,i=o)}if(0===r)return null;var s=e[i];e[i]=e[n],e[n]=s;for(var l=n+1;l<t;l++)for(var u=-e[l][n]/e[n][n],c=n;c<t+1;c++)n==c?e[l][c]=0:e[l][c]+=u*e[n][c]}for(var h=new Array(t),d=t-1;d>=0;d--){h[d]=e[d][t]/e[d][d];for(var p=d-1;p>=0;p--)e[p][t]-=e[p][d]*h[d]}return h}function s(e){return e*Math.PI/180}function l(e,t){var n=e%t;return n*t<0?n+t:n}function u(e,t,n){return e+n*(t-e)}function c(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}function h(e,t){return Math.round(c(e,t))}function d(e,t){return Math.floor(c(e,t))}function p(e,t){return Math.ceil(c(e,t))}n.d(t,{Cc:function(){return u},KU:function(){return a},LI:function(){return h},Mg:function(){return c},Q1:function(){return r},RI:function(){return d},eh:function(){return s},hG:function(){return o},mk:function(){return p},qE:function(){return i},xP:function(){return l}})},6811:function(e,t,n){"use strict";function i(e){for(var t in e)delete e[t]}function r(e){var t;for(t in e)return!1;return!t}n.d(t,{I:function(){return i},p:function(){return r}})},5857:function(e,t,n){"use strict";n.d(t,{Ig:function(){return I.I},hB:function(){return W},O3:function(){return U},bF:function(){return O},Av:function(){return j},RJ:function(){return T},tI:function(){return Y},Rb:function(){return V},Ad:function(){return $},SD:function(){return te},Jt:function(){return N},hO:function(){return F},RG:function(){return q},FO:function(){return H},Tf:function(){return J},te:function(){return Q},JR:function(){return ee},vN:function(){return ne},pd:function(){return X},DI:function(){return Z}});n(4782),n(6099),n(3500);var i=n(9492),r=n(5026),o=n(5647),a=n(8578),s=(n(7762),n(7083)),l=6378137,u=Math.PI*l,c=[-u,-u,u,u],h=[-180,-85,180,85],d=l*Math.log(Math.tan(Math.PI/2)),p=function(e){function t(e){return(0,r.A)(this,t),(0,o.A)(this,t,[{code:e,units:"m",extent:c,global:!0,worldExtent:h,getPointResolution:function(e,t){return e/Math.cosh(t[1]/l)}}])}return(0,a.A)(t,e),(0,i.A)(t)}(s.A),g=[new p("EPSG:3857"),new p("EPSG:102100"),new p("EPSG:102113"),new p("EPSG:900913"),new p("http://www.opengis.net/def/crs/EPSG/0/3857"),new p("http://www.opengis.net/gml/srs/epsg.xml#3857")];function f(e,t,n){var i=e.length;n=n>1?n:2,void 0===t&&(t=n>2?e.slice():new Array(i));for(var r=0;r<i;r+=n){t[r]=u*e[r]/180;var o=l*Math.log(Math.tan(Math.PI*(+e[r+1]+90)/360));o>d?o=d:o<-d&&(o=-d),t[r+1]=o}return t}function m(e,t,n){var i=e.length;n=n>1?n:2,void 0===t&&(t=n>2?e.slice():new Array(i));for(var r=0;r<i;r+=n)t[r]=180*e[r]/u,t[r+1]=360*Math.atan(Math.exp(e[r+1]/l))/Math.PI-90;return t}var v=6378137,y=[-180,-90,180,90],A=Math.PI*v/180,_=function(e){function t(e,n){return(0,r.A)(this,t),(0,o.A)(this,t,[{code:e,units:"degrees",extent:y,axisOrientation:n,global:!0,metersPerUnit:A,worldExtent:y}])}return(0,a.A)(t,e),(0,i.A)(t)}(s.A),C=[new _("CRS:84"),new _("EPSG:4326","neu"),new _("urn:ogc:def:crs:OGC:1.3:CRS84"),new _("urn:ogc:def:crs:OGC:2:84"),new _("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new _("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new _("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],I=n(3311),E=(n(7495),n(5440),{});function w(e){return E[e]||E[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function b(e,t){E[e]=t}var x=n(2899),S=n(7444),P=n(8474),M=n(3277),k=n(2155),R=!0;function T(e){var t=void 0===e||e;R=!t}function L(e,t){if(void 0!==t)for(var n=0,i=e.length;n<i;++n)t[n]=e[n];else t=e.slice();return t}function G(e,t){if(void 0!==t&&e!==t){for(var n=0,i=e.length;n<i;++n)t[n]=e[n];e=t}return e}function O(e){b(e.getCode(),e),(0,x.WQ)(e,e,L)}function D(e){e.forEach(O)}function N(e){return"string"===typeof e?w(e):e||null}function F(e,t,n,i){var r;e=N(e);var o=e.getPointResolutionFunc();if(o){if(r=o(t,n),i&&i!==e.getUnits()){var a=e.getMetersPerUnit();a&&(r=r*a/I.I[i])}}else{var s=e.getUnits();if("degrees"==s&&!i||"degrees"==i)r=t;else{var l=H(e,N("EPSG:4326"));if(l===G&&"degrees"!==s)r=t*e.getMetersPerUnit();else{var u=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];u=l(u,u,2);var c=(0,M.Yf)(u.slice(0,2),u.slice(2,4)),h=(0,M.Yf)(u.slice(4,6),u.slice(6,8));r=(c+h)/2}var d=i?I.I[i]:e.getMetersPerUnit();void 0!==d&&(r/=d)}}return r}function U(e){D(e),e.forEach((function(t){e.forEach((function(e){t!==e&&(0,x.WQ)(t,e,L)}))}))}function B(e,t,n,i){e.forEach((function(e){t.forEach((function(t){(0,x.WQ)(e,t,n),(0,x.WQ)(t,e,i)}))}))}function j(e,t){return e?"string"===typeof e?N(e):e:N(t)}function z(e){return function(t,n,i){var r=t.length;i=void 0!==i?i:2,n=void 0!==n?n:new Array(r);for(var o=0;o<r;o+=i)for(var a=e(t.slice(o,o+i)),s=a.length,l=0,u=i;l<u;++l)n[o+l]=l>=s?t[o+l]:a[l];return n}}function W(e,t,n,i){var r=N(e),o=N(t);(0,x.WQ)(r,o,z(n)),(0,x.WQ)(o,r,z(i))}function V(e,t){return T(),X(e,"EPSG:4326",void 0!==t?t:"EPSG:3857")}function Y(e,t){if(e===t)return!0;var n=e.getUnits()===t.getUnits();if(e.getCode()===t.getCode())return n;var i=H(e,t);return i===L&&n}function H(e,t){var n=e.getCode(),i=t.getCode(),r=(0,x.Jt)(n,i);return r||(r=G),r}function q(e,t){var n=N(e),i=N(t);return H(n,i)}function X(e,t,n){var i=q(t,n);return i(e,void 0,e.length)}function Z(e,t,n,i){var r=q(t,n);return(0,S.NW)(e,r,void 0,i)}var K=null;function J(){return K}function Q(e,t){return K?X(e,t,K):e}function $(e,t){return K?X(e,K,t):(R&&!(0,P.aI)(e,[0,0])&&e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90&&(R=!1,(0,k.R8)("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),e)}function ee(e,t){return K?Z(e,t,K):e}function te(e,t){return K?Z(e,K,t):e}function ne(e,t){if(!K)return e;var n=N(t).getMetersPerUnit(),i=K.getMetersPerUnit();return n&&i?e*n/i:e}function ie(){U(g),U(C),B(C,g,f,m)}ie()},7083:function(e,t,n){"use strict";var i=n(5026),r=n(9492),o=n(3311),a=function(){function e(t){(0,i.A)(this,e),this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return(0,r.A)(e,[{key:"canWrapX",value:function(){return this.canWrapX_}},{key:"getCode",value:function(){return this.code_}},{key:"getExtent",value:function(){return this.extent_}},{key:"getUnits",value:function(){return this.units_}},{key:"getMetersPerUnit",value:function(){return this.metersPerUnit_||o.I[this.units_]}},{key:"getWorldExtent",value:function(){return this.worldExtent_}},{key:"getAxisOrientation",value:function(){return this.axisOrientation_}},{key:"isGlobal",value:function(){return this.global_}},{key:"setGlobal",value:function(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)}},{key:"getDefaultTileGrid",value:function(){return this.defaultTileGrid_}},{key:"setDefaultTileGrid",value:function(e){this.defaultTileGrid_=e}},{key:"setExtent",value:function(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)}},{key:"setWorldExtent",value:function(e){this.worldExtent_=e}},{key:"setGetPointResolution",value:function(e){this.getPointResolutionFunc_=e}},{key:"getPointResolutionFunc",value:function(){return this.getPointResolutionFunc_}}])}();t.A=a},3311:function(e,t,n){"use strict";n.d(t,{I:function(){return i}});var i={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937}},2899:function(e,t,n){"use strict";n.d(t,{Jt:function(){return o},WQ:function(){return r}});var i={};function r(e,t,n){var r=e.getCode(),o=t.getCode();r in i||(i[r]={}),i[r][o]=n}function o(e,t){var n;return e in i&&t in i[e]&&(n=i[e][t]),n}},6355:function(e,t,n){"use strict";var i=n(9492),r=n(5026),o=n(5647),a=n(8578),s=n(9078),l=function(e){function t(e,n,i,a){var s;return(0,r.A)(this,t),s=(0,o.A)(this,t,[e]),s.inversePixelTransform=n,s.frameState=i,s.context=a,s}return(0,a.A)(t,e),(0,i.A)(t)}(s.Ay);t.A=l},3707:function(e,t){"use strict";t.A={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}},3077:function(e,t,n){"use strict";var i=n(5026),r=n(9492),o=(n(6280),n(4782),n(1194)),a=n(7444),s=n(3344),l=n(6232),u=n(7689),c=n(5857),h=n(1853),d=n(5572),p=n(8298),g=n(9331),f=n(3371),m=(0,o.vt)(),v=function(){function e(t,n,r,o,a,s){(0,i.A)(this,e),this.styleFunction,this.extent_,this.id_=s,this.type_=t,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=r,this.properties_=a,this.squaredTolerance_,this.stride_=o,this.simplifiedGeometry_}return(0,r.A)(e,[{key:"get",value:function(e){return this.properties_[e]}},{key:"getExtent",value:function(){return this.extent_||(this.extent_="Point"===this.type_?(0,a.dP)(this.flatCoordinates_):(0,a.Vy)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}},{key:"getFlatInteriorPoint",value:function(){if(!this.flatInteriorPoints_){var e=(0,a.q1)(this.getExtent());this.flatInteriorPoints_=(0,u.J)(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}},{key:"getFlatInteriorPoints",value:function(){if(!this.flatInteriorPoints_){var e=(0,h.yJ)(this.flatCoordinates_,this.ends_),t=(0,p.C)(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=(0,u.p)(this.flatCoordinates_,0,e,2,t)}return this.flatInteriorPoints_}},{key:"getFlatMidpoint",value:function(){return this.flatMidpoints_||(this.flatMidpoints_=(0,d.SH)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}},{key:"getFlatMidpoints",value:function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var e=this.flatCoordinates_,t=0,n=this.ends_,i=0,r=n.length;i<r;++i){var o=n[i],a=(0,d.SH)(e,t,o,2,.5);(0,l.X$)(this.flatMidpoints_,a),t=o}}return this.flatMidpoints_}},{key:"getId",value:function(){return this.id_}},{key:"getOrientedFlatCoordinates",value:function(){return this.flatCoordinates_}},{key:"getGeometry",value:function(){return this}},{key:"getSimplifiedGeometry",value:function(e){return this}},{key:"simplifyTransformed",value:function(e,t){return this}},{key:"getProperties",value:function(){return this.properties_}},{key:"getPropertiesInternal",value:function(){return this.properties_}},{key:"getStride",value:function(){return this.stride_}},{key:"getStyleFunction",value:function(){return this.styleFunction}},{key:"getType",value:function(){return this.type_}},{key:"transform",value:function(e){e=(0,c.Jt)(e);var t=e.getExtent(),n=e.getWorldExtent();if(t&&n){var i=(0,a.Oq)(n)/(0,a.Oq)(t);(0,o.Zz)(m,n[0],n[3],i,-i,0,0,0),(0,f.Rc)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,m,this.flatCoordinates_)}}},{key:"applyTransform",value:function(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}},{key:"clone",value:function(){return new e(this.type_,this.flatCoordinates_.slice(),this.ends_.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}},{key:"getEnds",value:function(){return this.ends_}},{key:"enableSimplifyTransformed",value:function(){var t=this;return this.simplifyTransformed=(0,g.B4)((function(n,i){if(n===t.squaredTolerance_)return t.simplifiedGeometry_;t.simplifiedGeometry_=t.clone(),i&&t.simplifiedGeometry_.applyTransform(i);var r,o=t.simplifiedGeometry_.getFlatCoordinates();switch(t.type_){case"LineString":o.length=(0,s.P4)(o,0,t.simplifiedGeometry_.flatCoordinates_.length,t.simplifiedGeometry_.stride_,n,o,0),r=[o.length];break;case"MultiLineString":r=[],o.length=(0,s.AL)(o,0,t.simplifiedGeometry_.ends_,t.simplifiedGeometry_.stride_,n,o,0,r);break;case"Polygon":r=[],o.length=(0,s.Hg)(o,0,t.simplifiedGeometry_.ends_,t.simplifiedGeometry_.stride_,Math.sqrt(n),o,0,r);break;default:}return r&&(t.simplifiedGeometry_=new e(t.type_,o,r,2,t.properties_,t.id_)),t.squaredTolerance_=n,t.simplifiedGeometry_})),this}}])}();v.prototype.getFlatCoordinates=v.prototype.getOrientedFlatCoordinates,t.Ay=v},9021:function(e,t,n){"use strict";var i=n(5026),r=n(9492),o=function(){function e(){(0,i.A)(this,e)}return(0,r.A)(e,[{key:"drawCustom",value:function(e,t,n,i){}},{key:"drawGeometry",value:function(e){}},{key:"setStyle",value:function(e){}},{key:"drawCircle",value:function(e,t){}},{key:"drawFeature",value:function(e,t){}},{key:"drawGeometryCollection",value:function(e,t){}},{key:"drawLineString",value:function(e,t){}},{key:"drawMultiLineString",value:function(e,t){}},{key:"drawMultiPoint",value:function(e,t){}},{key:"drawMultiPolygon",value:function(e,t){}},{key:"drawPoint",value:function(e,t){}},{key:"drawPolygon",value:function(e,t){}},{key:"drawText",value:function(e,t){}},{key:"setFillStrokeStyle",value:function(e,t){}},{key:"setImageStyle",value:function(e,t){}},{key:"setTextStyle",value:function(e,t){}}])}();t.A=o},8911:function(e,t,n){"use strict";n.d(t,{Jw:function(){return k},M8:function(){return y},MY:function(){return v},NT:function(){return m},Oq:function(){return d},TA:function(){return P},Tq:function(){return A},ZV:function(){return u},_K:function(){return g},_m:function(){return h},aq:function(){return _},eL:function(){return f},fZ:function(){return w},jT:function(){return M},qY:function(){return c},vk:function(){return p},yY:function(){return C}});n(4114),n(2892),n(6099);var i,r=n(1611),o=n(502),a=n(6811),s=n(7334),l=n(4109),u="10px sans-serif",c="#000",h="round",d=[],p=0,g="round",f=10,m="#000",v="center",y="middle",A=[0,0,0,0],_=1,C=new r.A,I=null,E={},w=function(){var e,t,n=100,r="32px ",o=["monospace","serif"],s=o.length,u="wmytzilWMYTZIL@#/&?$%10";function c(e,n,i){for(var a=!0,l=0;l<s;++l){var c=o[l];if(t=S(e+" "+n+" "+r+c,u),i!=c){var h=S(e+" "+n+" "+r+i+","+c,u);a=a&&h!=t}}return!!a}function h(){for(var t=!0,r=C.getKeys(),o=0,s=r.length;o<s;++o){var l=r[o];C.get(l)<n&&(c.apply(this,l.split("\n"))?((0,a.I)(E),I=null,i=void 0,C.set(l,n)):(C.set(l,C.get(l)+1,!0),t=!1))}t&&(clearInterval(e),e=void 0)}return function(t){var i=(0,l.K5)(t);if(i)for(var r=i.families,o=0,a=r.length;o<a;++o){var s=r[o],u=i.style+"\n"+i.weight+"\n"+s;void 0===C.get(u)&&(C.set(u,n,!0),c(i.style,i.weight,s)||(C.set(u,0,!0),void 0===e&&(e=setInterval(h,32))))}}}(),b=function(){var e;return function(t){var n=E[t];if(void 0==n){if(o.Wl){var i=(0,l.K5)(t),r=x(t,"Žg"),a=isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight);n=a*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else e||(e=document.createElement("div"),e.innerHTML="M",e.style.minHeight="0",e.style.maxHeight="none",e.style.height="auto",e.style.padding="0",e.style.border="none",e.style.position="absolute",e.style.display="block",e.style.left="-99999px"),e.style.font=t,document.body.appendChild(e),n=e.offsetHeight,document.body.removeChild(e);E[t]=n}return n}}();function x(e,t){return I||(I=(0,s.Y)(1,1)),e!=i&&(I.font=e,i=I.font),I.measureText(t)}function S(e,t){return x(e,t).width}function P(e,t,n){if(t in n)return n[t];var i=t.split("\n").reduce((function(t,n){return Math.max(t,S(e,n))}),0);return n[t]=i,i}function M(e,t){for(var n=[],i=[],r=[],o=0,a=0,s=0,l=0,u=0,c=t.length;u<=c;u+=2){var h=t[u];if("\n"!==h&&u!==c){var d=t[u+1]||e.font,p=S(d,h);n.push(p),a+=p;var g=b(d);i.push(g),l=Math.max(l,g)}else o=Math.max(o,a),r.push(a),a=0,s+=l}return{width:o,height:s,widths:n,heights:i,lineWidths:r}}function k(e,t,n,i,r,o,a,s,l,u,c){e.save(),1!==n&&(e.globalAlpha*=n),t&&e.transform.apply(e,t),i.contextInstructions?(e.translate(l,u),e.scale(c[0],c[1]),R(i,e)):c[0]<0||c[1]<0?(e.translate(l,u),e.scale(c[0],c[1]),e.drawImage(i,r,o,a,s,0,0,a,s)):e.drawImage(i,r,o,a,s,l,u,a*c[0],s*c[1]),e.restore()}function R(e,t){for(var n=e.contextInstructions,i=0,r=n.length;i<r;i+=2)Array.isArray(n[i+1])?t[n[i]].apply(t,n[i+1]):t[n[i]]=n[i+1]}},3615:function(e,t,n){"use strict";var i=n(5026),r=n(9492),o=n(5647),a=n(8578),s=(n(2062),n(4114),n(4782),n(1116)),l=n(1945),u=n(9021),c=n(6294),h=n(7444),d=n(8911),p=n(6232),g=n(4476),f=function(e){function t(e,n,r,a){var s;return(0,i.A)(this,t),s=(0,o.A)(this,t),s.tolerance=e,s.maxExtent=n,s.pixelRatio=a,s.maxLineWidth=0,s.resolution=r,s.beginGeometryInstruction1_=null,s.beginGeometryInstruction2_=null,s.bufferedMaxExtent_=null,s.instructions=[],s.coordinates=[],s.tmpCoordinate_=[],s.hitDetectionInstructions=[],s.state={},s}return(0,a.A)(t,e),(0,r.A)(t,[{key:"applyPixelRatio",value:function(e){var t=this.pixelRatio;return 1==t?e:e.map((function(e){return e*t}))}},{key:"appendFlatPointCoordinates",value:function(e,t){for(var n=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,r=this.coordinates,o=r.length,a=0,s=e.length;a<s;a+=t)i[0]=e[a],i[1]=e[a+1],(0,h.Ym)(n,i)&&(r[o++]=i[0],r[o++]=i[1]);return o}},{key:"appendFlatLineCoordinates",value:function(e,t,n,i,r,o){var a=this.coordinates,s=a.length,u=this.getBufferedMaxExtent();o&&(t+=i);var c,d,p,g=e[t],f=e[t+1],m=this.tmpCoordinate_,v=!0;for(c=t+i;c<n;c+=i)m[0]=e[c],m[1]=e[c+1],p=(0,h.vz)(u,m),p!==d?(v&&(a[s++]=g,a[s++]=f,v=!1),a[s++]=m[0],a[s++]=m[1]):p===l.A.INTERSECTING?(a[s++]=m[0],a[s++]=m[1],v=!1):v=!0,g=m[0],f=m[1],d=p;return(r&&v||c===t+i)&&(a[s++]=g,a[s++]=f),s}},{key:"drawCustomCoordinates_",value:function(e,t,n,i,r){for(var o=0,a=n.length;o<a;++o){var s=n[o],l=this.appendFlatLineCoordinates(e,t,s,i,!1,!1);r.push(l),t=s}return t}},{key:"drawCustom",value:function(e,t,n,i){this.beginGeometry(e,t);var r,o,a,l,u,c=e.getType(),h=e.getStride(),d=this.coordinates.length;switch(c){case"MultiPolygon":r=e.getOrientedFlatCoordinates(),l=[];var p=e.getEndss();u=0;for(var f=0,m=p.length;f<m;++f){var v=[];u=this.drawCustomCoordinates_(r,u,p[f],h,v),l.push(v)}this.instructions.push([s.Ay.CUSTOM,d,l,e,n,g.Dz]),this.hitDetectionInstructions.push([s.Ay.CUSTOM,d,l,e,i||n,g.Dz]);break;case"Polygon":case"MultiLineString":a=[],r="Polygon"==c?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),u=this.drawCustomCoordinates_(r,0,e.getEnds(),h,a),this.instructions.push([s.Ay.CUSTOM,d,a,e,n,g.cD]),this.hitDetectionInstructions.push([s.Ay.CUSTOM,d,a,e,i||n,g.cD]);break;case"LineString":case"Circle":r=e.getFlatCoordinates(),o=this.appendFlatLineCoordinates(r,0,r.length,h,!1,!1),this.instructions.push([s.Ay.CUSTOM,d,o,e,n,g.n2]),this.hitDetectionInstructions.push([s.Ay.CUSTOM,d,o,e,i||n,g.n2]);break;case"MultiPoint":r=e.getFlatCoordinates(),o=this.appendFlatPointCoordinates(r,h),o>d&&(this.instructions.push([s.Ay.CUSTOM,d,o,e,n,g.n2]),this.hitDetectionInstructions.push([s.Ay.CUSTOM,d,o,e,i||n,g.n2]));break;case"Point":r=e.getFlatCoordinates(),this.coordinates.push(r[0],r[1]),o=this.coordinates.length,this.instructions.push([s.Ay.CUSTOM,d,o,e,n]),this.hitDetectionInstructions.push([s.Ay.CUSTOM,d,o,e,i||n]);break;default:}this.endGeometry(t)}},{key:"beginGeometry",value:function(e,t){this.beginGeometryInstruction1_=[s.Ay.BEGIN_GEOMETRY,t,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[s.Ay.BEGIN_GEOMETRY,t,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}},{key:"finish",value:function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}},{key:"reverseHitDetectionInstructions",value:function(){var e,t=this.hitDetectionInstructions;t.reverse();var n,i,r=t.length,o=-1;for(e=0;e<r;++e)n=t[e],i=n[0],i==s.Ay.END_GEOMETRY?o=e:i==s.Ay.BEGIN_GEOMETRY&&(n[2]=e,(0,p.gI)(this.hitDetectionInstructions,o,e),o=-1)}},{key:"setFillStrokeStyle",value:function(e,t){var n=this.state;if(e){var i=e.getColor();n.fillStyle=(0,c.F)(i||d.qY)}else n.fillStyle=void 0;if(t){var r=t.getColor();n.strokeStyle=(0,c.F)(r||d.NT);var o=t.getLineCap();n.lineCap=void 0!==o?o:d._m;var a=t.getLineDash();n.lineDash=a?a.slice():d.Oq;var s=t.getLineDashOffset();n.lineDashOffset=s||d.vk;var l=t.getLineJoin();n.lineJoin=void 0!==l?l:d._K;var u=t.getWidth();n.lineWidth=void 0!==u?u:d.aq;var h=t.getMiterLimit();n.miterLimit=void 0!==h?h:d.eL,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0}},{key:"createFill",value:function(e){var t=e.fillStyle,n=[s.Ay.SET_FILL_STYLE,t];return"string"!==typeof t&&n.push(!0),n}},{key:"applyStroke",value:function(e){this.instructions.push(this.createStroke(e))}},{key:"createStroke",value:function(e){return[s.Ay.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}},{key:"updateFillStyle",value:function(e,t){var n=e.fillStyle;"string"===typeof n&&e.currentFillStyle==n||(void 0!==n&&this.instructions.push(t.call(this,e)),e.currentFillStyle=n)}},{key:"updateStrokeStyle",value:function(e,t){var n=e.strokeStyle,i=e.lineCap,r=e.lineDash,o=e.lineDashOffset,a=e.lineJoin,s=e.lineWidth,l=e.miterLimit;(e.currentStrokeStyle!=n||e.currentLineCap!=i||r!=e.currentLineDash&&!(0,p.aI)(e.currentLineDash,r)||e.currentLineDashOffset!=o||e.currentLineJoin!=a||e.currentLineWidth!=s||e.currentMiterLimit!=l)&&(void 0!==n&&t.call(this,e),e.currentStrokeStyle=n,e.currentLineCap=i,e.currentLineDash=r,e.currentLineDashOffset=o,e.currentLineJoin=a,e.currentLineWidth=s,e.currentMiterLimit=l)}},{key:"endGeometry",value:function(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var t=[s.Ay.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}},{key:"getBufferedMaxExtent",value:function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,h.o8)(this.maxExtent),this.maxLineWidth>0)){var e=this.resolution*(this.maxLineWidth+1)/2;(0,h.r)(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}])}(u.A);t.A=f},5073:function(e,t,n){"use strict";n.d(t,{A:function(){return I}});var i=n(5026),r=n(9492),o=(n(6099),n(8781),n(3615)),a=n(5647),s=n(7645),l=n(4497),u=n(8578),c=(n(4114),n(1116)),h=function(e){function t(e,n,r,o){var s;return(0,i.A)(this,t),s=(0,a.A)(this,t,[e,n,r,o]),s.hitDetectionImage_=null,s.image_=null,s.imagePixelRatio_=void 0,s.anchorX_=void 0,s.anchorY_=void 0,s.height_=void 0,s.opacity_=void 0,s.originX_=void 0,s.originY_=void 0,s.rotateWithView_=void 0,s.rotation_=void 0,s.scale_=void 0,s.width_=void 0,s.declutterMode_=void 0,s.declutterImageWithText_=void 0,s}return(0,u.A)(t,e),(0,r.A)(t,[{key:"drawPoint",value:function(e,t){if(this.image_){this.beginGeometry(e,t);var n=e.getFlatCoordinates(),i=e.getStride(),r=this.coordinates.length,o=this.appendFlatPointCoordinates(n,i);this.instructions.push([c.Ay.DRAW_IMAGE,r,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([c.Ay.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}}},{key:"drawMultiPoint",value:function(e,t){if(this.image_){this.beginGeometry(e,t);var n=e.getFlatCoordinates(),i=e.getStride(),r=this.coordinates.length,o=this.appendFlatPointCoordinates(n,i);this.instructions.push([c.Ay.DRAW_IMAGE,r,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([c.Ay.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}}},{key:"finish",value:function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,(0,s.A)((0,l.A)(t.prototype),"finish",this).call(this)}},{key:"setImageStyle",value:function(e,t){var n=e.getAnchor(),i=e.getSize(),r=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=i[1],this.opacity_=e.getOpacity(),this.originX_=r[0],this.originY_=r[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=i[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}}])}(o.A),d=h,p=n(8911),g=function(e){function t(e,n,r,o){return(0,i.A)(this,t),(0,a.A)(this,t,[e,n,r,o])}return(0,u.A)(t,e),(0,r.A)(t,[{key:"drawFlatCoordinates_",value:function(e,t,n,i){var r=this.coordinates.length,o=this.appendFlatLineCoordinates(e,t,n,i,!1,!1),a=[c.Ay.MOVE_TO_LINE_TO,r,o];return this.instructions.push(a),this.hitDetectionInstructions.push(a),n}},{key:"drawLineString",value:function(e,t){var n=this.state,i=n.strokeStyle,r=n.lineWidth;if(void 0!==i&&void 0!==r){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([c.Ay.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,p.Oq,p.vk],c.th);var o=e.getFlatCoordinates(),a=e.getStride();this.drawFlatCoordinates_(o,0,o.length,a),this.hitDetectionInstructions.push(c.VD),this.endGeometry(t)}}},{key:"drawMultiLineString",value:function(e,t){var n=this.state,i=n.strokeStyle,r=n.lineWidth;if(void 0!==i&&void 0!==r){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([c.Ay.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,p.Oq,p.vk],c.th);for(var o=e.getEnds(),a=e.getFlatCoordinates(),s=e.getStride(),l=0,u=0,h=o.length;u<h;++u)l=this.drawFlatCoordinates_(a,l,o[u],s);this.hitDetectionInstructions.push(c.VD),this.endGeometry(t)}}},{key:"finish",value:function(){var e=this.state;return void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(c.VD),this.reverseHitDetectionInstructions(),this.state=null,(0,s.A)((0,l.A)(t.prototype),"finish",this).call(this)}},{key:"applyStroke",value:function(e){void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(c.VD),e.lastStroke=this.coordinates.length),e.lastStroke=0,(0,s.A)((0,l.A)(t.prototype),"applyStroke",this).call(this,e),this.instructions.push(c.th)}}])}(o.A),f=g,m=n(3344),v=function(e){function t(e,n,r,o){return(0,i.A)(this,t),(0,a.A)(this,t,[e,n,r,o])}return(0,u.A)(t,e),(0,r.A)(t,[{key:"drawFlatCoordinatess_",value:function(e,t,n,i){var r=this.state,o=void 0!==r.fillStyle,a=void 0!==r.strokeStyle,s=n.length;this.instructions.push(c.th),this.hitDetectionInstructions.push(c.th);for(var l=0;l<s;++l){var u=n[l],h=this.coordinates.length,d=this.appendFlatLineCoordinates(e,t,u,i,!0,!a),p=[c.Ay.MOVE_TO_LINE_TO,h,d];this.instructions.push(p),this.hitDetectionInstructions.push(p),a&&(this.instructions.push(c.kx),this.hitDetectionInstructions.push(c.kx)),t=u}return o&&(this.instructions.push(c.I5),this.hitDetectionInstructions.push(c.I5)),a&&(this.instructions.push(c.VD),this.hitDetectionInstructions.push(c.VD)),t}},{key:"drawCircle",value:function(e,t){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([c.Ay.SET_FILL_STYLE,p.qY]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([c.Ay.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,p.Oq,p.vk]);var o=e.getFlatCoordinates(),a=e.getStride(),s=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,a,!1,!1);var l=[c.Ay.CIRCLE,s];this.instructions.push(c.th,l),this.hitDetectionInstructions.push(c.th,l),void 0!==n.fillStyle&&(this.instructions.push(c.I5),this.hitDetectionInstructions.push(c.I5)),void 0!==n.strokeStyle&&(this.instructions.push(c.VD),this.hitDetectionInstructions.push(c.VD)),this.endGeometry(t)}}},{key:"drawPolygon",value:function(e,t){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([c.Ay.SET_FILL_STYLE,p.qY]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([c.Ay.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,p.Oq,p.vk]);var o=e.getEnds(),a=e.getOrientedFlatCoordinates(),s=e.getStride();this.drawFlatCoordinatess_(a,0,o,s),this.endGeometry(t)}}},{key:"drawMultiPolygon",value:function(e,t){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([c.Ay.SET_FILL_STYLE,p.qY]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([c.Ay.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,p.Oq,p.vk]);for(var o=e.getEndss(),a=e.getOrientedFlatCoordinates(),s=e.getStride(),l=0,u=0,h=o.length;u<h;++u)l=this.drawFlatCoordinatess_(a,l,o[u],s);this.endGeometry(t)}}},{key:"finish",value:function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var n=this.coordinates,i=0,r=n.length;i<r;++i)n[i]=(0,m.n$)(n[i],e);return(0,s.A)((0,l.A)(t.prototype),"finish",this).call(this)}},{key:"setFillStrokeStyles_",value:function(){var e=this.state,t=e.fillStyle;void 0!==t&&this.updateFillStyle(e,this.createFill),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)}}])}(o.A),y=v,A=n(4369),_={Circle:y,Default:o.A,Image:d,LineString:f,Polygon:y,Text:A.A},C=function(){function e(t,n,r,o){(0,i.A)(this,e),this.tolerance_=t,this.maxExtent_=n,this.pixelRatio_=o,this.resolution_=r,this.buildersByZIndex_={}}return(0,r.A)(e,[{key:"finish",value:function(){var e={};for(var t in this.buildersByZIndex_){e[t]=e[t]||{};var n=this.buildersByZIndex_[t];for(var i in n){var r=n[i].finish();e[t][i]=r}}return e}},{key:"getBuilder",value:function(e,t){var n=void 0!==e?e.toString():"0",i=this.buildersByZIndex_[n];void 0===i&&(i={},this.buildersByZIndex_[n]=i);var r=i[t];if(void 0===r){var o=_[t];r=new o(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[t]=r}return r}}])}(),I=C},6264:function(e,t,n){"use strict";n.d(t,{A:function(){return L}});var i=n(9258),r=n(5026),o=n(9492),a=(n(4423),n(2062),n(4114),n(6910),n(2892),n(9432),n(6099),n(8781),n(1699),n(3771),n(4864),n(7465),n(7495),n(7745),n(906),n(1116)),s=n(4369),l=n(1194),u=n(7444),c=n(8911),h=(n(5440),n(5674)),d=n(3371);function p(e,t,n,i,r,o,a,s,l,u,c,p){var g=e[t],f=e[t+1],m=0,v=0,y=0,A=0;function _(){m=g,v=f,t+=i,g=e[t],f=e[t+1],A+=y,y=Math.sqrt((g-m)*(g-m)+(f-v)*(f-v))}do{_()}while(t<n-i&&A+y<o);var C=0===y?0:(o-A)/y,I=(0,h.Cc)(m,g,C),E=(0,h.Cc)(v,f,C),w=t-i,b=A,x=o+s*l(u,r,c);while(t<n-i&&A+y<x)_();C=0===y?0:(x-A)/y;var S,P=(0,h.Cc)(m,g,C),M=(0,h.Cc)(v,f,C);if(p){var k=[I,E,P,M];(0,d.e$)(k,0,4,2,p,k,k),S=k[0]>k[2]}else S=I>P;var R,T=Math.PI,L=[],G=w+i===t;if(t=w,y=0,A=b,g=e[t],f=e[t+1],G){_(),R=Math.atan2(f-v,g-m),S&&(R+=R>0?-T:T);var O=(P+I)/2,D=(M+E)/2;return L[0]=[O,D,(x-o)/2,R,r],L}r=r.replace(/\n/g," ");for(var N=0,F=r.length;N<F;){_();var U=Math.atan2(f-v,g-m);if(S&&(U+=U>0?-T:T),void 0!==R){var B=U-R;if(B+=B>T?-2*T:B<-T?2*T:0,Math.abs(B)>a)return null}R=U;for(var j=N,z=0;N<F;++N){var W=S?F-N-1:N,V=s*l(u,r[W],c);if(t+i<n&&A+y<o+z+V/2)break;z+=V}if(N!==j){var Y=S?r.substring(F-j,F-N):r.substring(j,N);C=0===y?0:(o+z/2-A)/y;var H=(0,h.Cc)(m,g,C),q=(0,h.Cc)(v,f,C);L.push([H,q,z/2,U,Y]),o+=z}}return L}var g=n(6232),f=n(5907),m=(0,u.S5)(),v=[],y=[],A=[],_=[];function C(e){return e[3].declutterBox}var I=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function E(e,t){return"start"===t?t=I.test(e)?"right":"left":"end"===t&&(t=I.test(e)?"left":"right"),s.E[t]}function w(e,t,n){return n>0&&e.push("\n",""),e.push(t,""),e}var b=function(){function e(t,n,i,o){(0,r.A)(this,e),this.overlaps=i,this.pixelRatio=n,this.resolution=t,this.alignFill_,this.instructions=o.instructions,this.coordinates=o.coordinates,this.coordinateCache_={},this.renderedTransform_=(0,l.vt)(),this.hitDetectionInstructions=o.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=o.fillStates||{},this.strokeStates=o.strokeStates||{},this.textStates=o.textStates||{},this.widths_={},this.labels_={}}return(0,o.A)(e,[{key:"createLabel",value:function(e,t,n,i){var r=e+t+n+i;if(this.labels_[r])return this.labels_[r];var o=i?this.strokeStates[i]:null,a=n?this.fillStates[n]:null,l=this.textStates[t],u=this.pixelRatio,h=[l.scale[0]*u,l.scale[1]*u],d=Array.isArray(e),p=l.justify?s.E[l.justify]:E(Array.isArray(e)?e[0]:e,l.textAlign||c.MY),g=i&&o.lineWidth?o.lineWidth:0,f=d?e:e.split("\n").reduce(w,[]),m=(0,c.jT)(l,f),v=m.width,y=m.height,A=m.widths,_=m.heights,C=m.lineWidths,I=v+g,b=[],x=(I+2)*h[0],S=(y+g)*h[1],P={width:x<0?Math.floor(x):Math.ceil(x),height:S<0?Math.floor(S):Math.ceil(S),contextInstructions:b};1==h[0]&&1==h[1]||b.push("scale",h),i&&(b.push("strokeStyle",o.strokeStyle),b.push("lineWidth",g),b.push("lineCap",o.lineCap),b.push("lineJoin",o.lineJoin),b.push("miterLimit",o.miterLimit),b.push("setLineDash",[o.lineDash]),b.push("lineDashOffset",o.lineDashOffset)),n&&b.push("fillStyle",a.fillStyle),b.push("textBaseline","middle"),b.push("textAlign","center");for(var M,k=.5-p,R=p*I+k*g,T=[],L=[],G=0,O=0,D=0,N=0,F=0,U=f.length;F<U;F+=2){var B=f[F];if("\n"!==B){var j=f[F+1]||l.font;j!==M&&(i&&T.push("font",j),n&&L.push("font",j),M=j),G=Math.max(G,_[D]);var z=[B,R+k*A[D]+p*(A[D]-C[N]),.5*(g+G)+O];R+=A[D],i&&T.push("strokeText",z),n&&L.push("fillText",z),++D}else O+=G,G=0,R=p*I+k*g,++N}return Array.prototype.push.apply(b,T),Array.prototype.push.apply(b,L),this.labels_[r]=P,P}},{key:"replayTextBackground_",value:function(e,t,n,i,r,o,a){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,n),e.lineTo.apply(e,i),e.lineTo.apply(e,r),e.lineTo.apply(e,t),o&&(this.alignFill_=o[2],this.fill_(e)),a&&(this.setStrokeStyle_(e,a),e.stroke())}},{key:"calculateImageOrLabelDimensions_",value:function(e,t,n,i,r,o,a,s,c,h,d,p,g,f,C,I){a*=p[0],s*=p[1];var E,w=n-a,b=i-s,x=r+c>e?e-c:r,S=o+h>t?t-h:o,P=f[3]+x*p[0]+f[1],M=f[0]+S*p[1]+f[2],k=w-f[3],R=b-f[0];return(C||0!==d)&&(v[0]=k,_[0]=k,v[1]=R,y[1]=R,y[0]=k+P,A[0]=y[0],A[1]=R+M,_[1]=A[1]),0!==d?(E=(0,l.Zz)((0,l.vt)(),n,i,1,1,d,-n,-i),(0,l.Bb)(E,v),(0,l.Bb)(E,y),(0,l.Bb)(E,A),(0,l.Bb)(E,_),(0,u.N)(Math.min(v[0],y[0],A[0],_[0]),Math.min(v[1],y[1],A[1],_[1]),Math.max(v[0],y[0],A[0],_[0]),Math.max(v[1],y[1],A[1],_[1]),m)):(0,u.N)(Math.min(k,k+P),Math.min(R,R+M),Math.max(k,k+P),Math.max(R,R+M),m),g&&(w=Math.round(w),b=Math.round(b)),{drawImageX:w,drawImageY:b,drawImageW:x,drawImageH:S,originX:c,originY:h,declutterBox:{minX:m[0],minY:m[1],maxX:m[2],maxY:m[3],value:I},canvasTransform:E,scale:p}}},{key:"replayImageOrLabel_",value:function(e,t,n,i,r,o,a){var s=!(!o&&!a),l=i.declutterBox,u=e.canvas,h=a?a[2]*i.scale[0]/2:0,d=l.minX-h<=u.width/t&&l.maxX+h>=0&&l.minY-h<=u.height/t&&l.maxY+h>=0;return d&&(s&&this.replayTextBackground_(e,v,y,A,_,o,a),(0,c.Jw)(e,i.canvasTransform,r,n,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0}},{key:"fill_",value:function(e){if(this.alignFill_){var t=(0,l.Bb)(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;e.save(),e.translate(t[0]%n,t[1]%n),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()}},{key:"setStrokeStyle_",value:function(e,t){e["strokeStyle"]=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6])}},{key:"drawLabelWithPointPlacement_",value:function(e,t,n,i){var r=this.textStates[t],o=this.createLabel(e,t,i,n),a=this.strokeStates[n],l=this.pixelRatio,u=E(Array.isArray(e)?e[0]:e,r.textAlign||c.MY),h=s.E[r.textBaseline||c.M8],d=a&&a.lineWidth?a.lineWidth:0,p=o.width/l-2*r.scale[0],g=u*p+2*(.5-u)*d,f=h*o.height/l+2*(.5-h)*d;return{label:o,anchorX:g,anchorY:f}}},{key:"execute_",value:function(e,t,n,i,r,o,s,h){var m;this.pixelCoordinates_&&(0,g.aI)(n,this.renderedTransform_)?m=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),m=(0,d.Rc)(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),(0,l.k3)(this.renderedTransform_,n));var v,y,A,_,I,w,b,x,S,P,M,k,R,T,L,G,O=0,D=i.length,N=0,F=0,U=0,B=null,j=null,z=this.coordinateCache_,W=this.viewRotation_,V=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,Y={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:W},H=this.instructions!=i||this.overlaps?0:200;while(O<D){var q=i[O],X=q[0];switch(X){case a.Ay.BEGIN_GEOMETRY:R=q[1],G=q[3],R.getGeometry()?void 0===s||(0,u.HY)(s,G.getExtent())?++O:O=q[2]+1:O=q[2];break;case a.Ay.BEGIN_PATH:F>H&&(this.fill_(e),F=0),U>H&&(e.stroke(),U=0),F||U||(e.beginPath(),_=NaN,I=NaN),++O;break;case a.Ay.CIRCLE:N=q[1];var Z=m[N],K=m[N+1],J=m[N+2],Q=m[N+3],$=J-Z,ee=Q-K,te=Math.sqrt($*$+ee*ee);e.moveTo(Z+te,K),e.arc(Z,K,te,0,2*Math.PI,!0),++O;break;case a.Ay.CLOSE_PATH:e.closePath(),++O;break;case a.Ay.CUSTOM:N=q[1],v=q[2];var ne=q[3],ie=q[4],re=6==q.length?q[5]:void 0;Y.geometry=ne,Y.feature=R,O in z||(z[O]=[]);var oe=z[O];re?re(m,N,v,2,oe):(oe[0]=m[N],oe[1]=m[N+1],oe.length=2),ie(oe,Y),++O;break;case a.Ay.DRAW_IMAGE:N=q[1],v=q[2],x=q[3],y=q[4],A=q[5];var ae=q[6],se=q[7],le=q[8],ue=q[9],ce=q[10],he=q[11],de=q[12],pe=q[13],ge=q[14],fe=q[15];if(!x&&q.length>=20){S=q[19],P=q[20],M=q[21],k=q[22];var me=this.drawLabelWithPointPlacement_(S,P,M,k);x=me.label,q[3]=x;var ve=q[23];y=(me.anchorX-ve)*this.pixelRatio,q[4]=y;var ye=q[24];A=(me.anchorY-ye)*this.pixelRatio,q[5]=A,ae=x.height,q[6]=ae,pe=x.width,q[13]=pe}var Ae=void 0;q.length>25&&(Ae=q[25]);var _e=void 0,Ce=void 0,Ie=void 0;q.length>17?(_e=q[16],Ce=q[17],Ie=q[18]):(_e=c.Tq,Ce=!1,Ie=!1),ce&&V?he+=W:ce||V||(he-=W);for(var Ee=0;N<v;N+=2)if(!(Ae&&Ae[Ee++]<pe/this.pixelRatio)){var we=this.calculateImageOrLabelDimensions_(x.width,x.height,m[N],m[N+1],pe,ae,y,A,le,ue,he,de,r,_e,Ce||Ie,R),be=[e,t,x,we,se,Ce?B:null,Ie?j:null];if(h){if("none"===ge)continue;if("obstacle"===ge){h.insert(we.declutterBox);continue}var xe=void 0,Se=void 0;if(fe){var Pe=v-N;if(!fe[Pe]){fe[Pe]=be;continue}if(xe=fe[Pe],delete fe[Pe],Se=C(xe),h.collides(Se))continue}if(h.collides(we.declutterBox))continue;xe&&(h.insert(Se),this.replayImageOrLabel_.apply(this,xe)),h.insert(we.declutterBox)}this.replayImageOrLabel_.apply(this,be)}++O;break;case a.Ay.DRAW_CHARS:var Me=q[1],ke=q[2],Re=q[3],Te=q[4];k=q[5];var Le=q[6],Ge=q[7],Oe=q[8];M=q[9];var De=q[10];S=q[11],P=q[12];var Ne=[q[13],q[13]],Fe=this.textStates[P],Ue=Fe.font,Be=[Fe.scale[0]*Ge,Fe.scale[1]*Ge],je=void 0;Ue in this.widths_?je=this.widths_[Ue]:(je={},this.widths_[Ue]=je);var ze=(0,f.k)(m,Me,ke,2),We=Math.abs(Be[0])*(0,c.TA)(Ue,S,je);if(Te||We<=ze){var Ve=this.textStates[P].textAlign,Ye=(ze-We)*E(S,Ve),He=p(m,Me,ke,2,S,Ye,Le,Math.abs(Be[0]),c.TA,Ue,je,V?0:this.viewRotation_);e:if(He){var qe=[],Xe=void 0,Ze=void 0,Ke=void 0,Je=void 0,Qe=void 0;if(M)for(Xe=0,Ze=He.length;Xe<Ze;++Xe){Qe=He[Xe],Ke=Qe[4],Je=this.createLabel(Ke,P,"",M),y=Qe[2]+(Be[0]<0?-De:De),A=Re*Je.height+2*(.5-Re)*De*Be[1]/Be[0]-Oe;var $e=this.calculateImageOrLabelDimensions_(Je.width,Je.height,Qe[0],Qe[1],Je.width,Je.height,y,A,0,0,Qe[3],Ne,!1,c.Tq,!1,R);if(h&&h.collides($e.declutterBox))break e;qe.push([e,t,Je,$e,1,null,null])}if(k)for(Xe=0,Ze=He.length;Xe<Ze;++Xe){Qe=He[Xe],Ke=Qe[4],Je=this.createLabel(Ke,P,k,""),y=Qe[2],A=Re*Je.height-Oe;var et=this.calculateImageOrLabelDimensions_(Je.width,Je.height,Qe[0],Qe[1],Je.width,Je.height,y,A,0,0,Qe[3],Ne,!1,c.Tq,!1,R);if(h&&h.collides(et.declutterBox))break e;qe.push([e,t,Je,et,1,null,null])}h&&h.load(qe.map(C));for(var tt=0,nt=qe.length;tt<nt;++tt)this.replayImageOrLabel_.apply(this,qe[tt])}}++O;break;case a.Ay.END_GEOMETRY:if(void 0!==o){R=q[1];var it=o(R,G);if(it)return it}++O;break;case a.Ay.FILL:H?F++:this.fill_(e),++O;break;case a.Ay.MOVE_TO_LINE_TO:for(N=q[1],v=q[2],T=m[N],L=m[N+1],w=T+.5|0,b=L+.5|0,w===_&&b===I||(e.moveTo(T,L),_=w,I=b),N+=2;N<v;N+=2)T=m[N],L=m[N+1],w=T+.5|0,b=L+.5|0,N!=v-2&&w===_&&b===I||(e.lineTo(T,L),_=w,I=b);++O;break;case a.Ay.SET_FILL_STYLE:B=q,this.alignFill_=q[2],F&&(this.fill_(e),F=0,U&&(e.stroke(),U=0)),e.fillStyle=q[1],++O;break;case a.Ay.SET_STROKE_STYLE:j=q,U&&(e.stroke(),U=0),this.setStrokeStyle_(e,q),++O;break;case a.Ay.STROKE:H?U++:e.stroke(),++O;break;default:++O;break}}F&&this.fill_(e),U&&e.stroke()}},{key:"execute",value:function(e,t,n,i,r,o){this.viewRotation_=i,this.execute_(e,t,n,this.instructions,r,void 0,void 0,o)}},{key:"executeHitDetection",value:function(e,t,n,i,r){return this.viewRotation_=n,this.execute_(e,1,t,this.hitDetectionInstructions,!0,i,r)}}])}(),x=b,S=n(7334),P=n(6811),M=["Polygon","Circle","LineString","Image","Text","Default"],k=function(){function e(t,n,i,o,a,s){(0,r.A)(this,e),this.maxExtent_=t,this.overlaps_=o,this.pixelRatio_=i,this.resolution_=n,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=(0,l.vt)(),this.createExecutors_(a)}return(0,o.A)(e,[{key:"clip",value:function(e,t){var n=this.getClipCoords(t);e.beginPath(),e.moveTo(n[0],n[1]),e.lineTo(n[2],n[3]),e.lineTo(n[4],n[5]),e.lineTo(n[6],n[7]),e.clip()}},{key:"createExecutors_",value:function(e){for(var t in e){var n=this.executorsByZIndex_[t];void 0===n&&(n={},this.executorsByZIndex_[t]=n);var i=e[t];for(var r in i){var o=i[r];n[r]=new x(this.resolution_,this.pixelRatio_,this.overlaps_,o)}}}},{key:"hasExecutors",value:function(e){for(var t in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[t],i=0,r=e.length;i<r;++i)if(e[i]in n)return!0;return!1}},{key:"forEachFeatureAtCoordinate",value:function(e,t,n,i,r,o){i=Math.round(i);var a=2*i+1,s=(0,l.Zz)(this.hitDetectionTransform_,i+.5,i+.5,1/t,-1/t,-n,-e[0],-e[1]),c=!this.hitDetectionContext_;c&&(this.hitDetectionContext_=(0,S.Y)(a,a,void 0,{willReadFrequently:!0}));var h,d=this.hitDetectionContext_;d.canvas.width!==a||d.canvas.height!==a?(d.canvas.width=a,d.canvas.height=a):c||d.clearRect(0,0,a,a),void 0!==this.renderBuffer_&&(h=(0,u.S5)(),(0,u.$C)(h,e),(0,u.r)(h,t*(this.renderBuffer_+i),h));var p,f=T(i);function m(e,t){for(var n=d.getImageData(0,0,a,a).data,s=0,l=f.length;s<l;s++)if(n[f[s]]>0){if(!o||"Image"!==p&&"Text"!==p||o.includes(e)){var u=(f[s]-3)/4,c=i-u%a,h=i-(u/a|0),g=r(e,t,c*c+h*h);if(g)return g}d.clearRect(0,0,a,a);break}}var v,y,A,_,C,I=Object.keys(this.executorsByZIndex_).map(Number);for(I.sort(g.V_),v=I.length-1;v>=0;--v){var E=I[v].toString();for(A=this.executorsByZIndex_[E],y=M.length-1;y>=0;--y)if(p=M[y],_=A[p],void 0!==_&&(C=_.executeHitDetection(d,s,n,m,h),C))return C}}},{key:"getClipCoords",value:function(e){var t=this.maxExtent_;if(!t)return null;var n=t[0],i=t[1],r=t[2],o=t[3],a=[n,i,n,o,r,o,r,i];return(0,d.Rc)(a,0,8,2,e,a),a}},{key:"isEmpty",value:function(){return(0,P.p)(this.executorsByZIndex_)}},{key:"execute",value:function(e,t,n,i,r,o,a){var s,l,u,c,h,d,p=Object.keys(this.executorsByZIndex_).map(Number);for(p.sort(g.V_),this.maxExtent_&&(e.save(),this.clip(e,n)),o=o||M,a&&p.reverse(),s=0,l=p.length;s<l;++s){var f=p[s].toString();for(h=this.executorsByZIndex_[f],u=0,c=o.length;u<c;++u){var m=o[u];d=h[m],void 0!==d&&d.execute(e,t,n,i,r,a)}}this.maxExtent_&&e.restore()}}])}(),R={};function T(e){if(void 0!==R[e])return R[e];for(var t=2*e+1,n=e*e,r=new Array(n+1),o=0;o<=e;++o)for(var a=0;a<=e;++a){var s=o*o+a*a;if(s>n)break;var l=r[s];l||(l=[],r[s]=l),l.push(4*((e+o)*t+(e+a))+3),o>0&&l.push(4*((e-o)*t+(e+a))+3),a>0&&(l.push(4*((e+o)*t+(e-a))+3),o>0&&l.push(4*((e-o)*t+(e-a))+3))}for(var u=[],c=0,h=r.length;c<h;++c)r[c]&&u.push.apply(u,(0,i.A)(r[c]));return R[e]=u,u}var L=k},1116:function(e,t,n){"use strict";n.d(t,{I5:function(){return r},VD:function(){return o},kx:function(){return s},th:function(){return a}});var i={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},r=[i.FILL],o=[i.STROKE],a=[i.BEGIN_PATH],s=[i.CLOSE_PATH];t.Ay=i},4369:function(e,t,n){"use strict";n.d(t,{E:function(){return A},A:function(){return C}});var i=n(5026),r=n(9492),o=n(5647),a=n(7645),s=n(4497),l=n(8578),u=(n(2008),n(8598),n(2062),n(4114),n(4782),n(6099),n(2781),n(3615)),c=n(1116),h=n(6294),d=n(8911),p=n(5752),g=n(7444),f=n(8676),m=n(5674);function v(e,t,n,i,r){var o=[],a=n,s=0,l=t.slice(n,2);while(s<e&&a+r<i){var u=l.slice(-2),c=(0,f.A)(u,2),h=c[0],d=c[1],p=t[a+r],g=t[a+r+1],v=Math.sqrt((p-h)*(p-h)+(g-d)*(g-d));if(s+=v,s>=e){var y=(e-s+v)/v,A=(0,m.Cc)(h,p,y),_=(0,m.Cc)(d,g,y);l.push(A,_),o.push(l),l=[A,_],s==e&&(a+=r),s=0}else if(s<e)l.push(t[a+r],t[a+r+1]),a+=r;else{var C=v-s,I=(0,m.Cc)(h,p,C/v),E=(0,m.Cc)(d,g,C/v);l.push(I,E),o.push(l),l=[I,E],s=0,a+=r}}return s>0&&o.push(l),o}function y(e,t,n,i,r){var o,a,s,l,u,c,h,d,p,g,f=n,m=n,v=0,y=0,A=n;for(a=n;a<i;a+=r){var _=t[a],C=t[a+1];void 0!==u&&(p=_-u,g=C-c,l=Math.sqrt(p*p+g*g),void 0!==h&&(y+=s,o=Math.acos((h*p+d*g)/(s*l)),o>e&&(y>v&&(v=y,f=A,m=a),y=0,A=a-r)),s=l,h=p,d=g),u=_,c=C}return y+=l,y>v?[A,a]:[f,m]}var A={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},_=function(e){function t(e,n,r,a){var s;return(0,i.A)(this,t),s=(0,o.A)(this,t,[e,n,r,a]),s.labels_=null,s.text_="",s.textOffsetX_=0,s.textOffsetY_=0,s.textRotateWithView_=void 0,s.textRotation_=0,s.textFillState_=null,s.fillStates={},s.fillStates[d.qY]={fillStyle:d.qY},s.textStrokeState_=null,s.strokeStates={},s.textState_={},s.textStates={},s.textKey_="",s.fillKey_="",s.strokeKey_="",s.declutterImageWithText_=void 0,s}return(0,l.A)(t,e),(0,r.A)(t,[{key:"finish",value:function(){var e=(0,a.A)((0,s.A)(t.prototype),"finish",this).call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}},{key:"drawText",value:function(e,t){var n=this.textFillState_,i=this.textStrokeState_,r=this.textState_;if(""!==this.text_&&r&&(n||i)){var o=this.coordinates,a=o.length,s=e.getType(),l=null,u=e.getStride();if("line"!==r.placement||"LineString"!=s&&"MultiLineString"!=s&&"Polygon"!=s&&"MultiPolygon"!=s){var h=r.overflow?null:[];switch(s){case"Point":case"MultiPoint":l=e.getFlatCoordinates();break;case"LineString":l=e.getFlatMidpoint();break;case"Circle":l=e.getCenter();break;case"MultiLineString":l=e.getFlatMidpoints(),u=2;break;case"Polygon":l=e.getFlatInteriorPoint(),r.overflow||h.push(l[2]/this.resolution),u=3;break;case"MultiPolygon":var p=e.getFlatInteriorPoints();l=[];for(var f=0,m=p.length;f<m;f+=3)r.overflow||h.push(p[f+2]/this.resolution),l.push(p[f],p[f+1]);if(0===l.length)return;u=2;break;default:}var A=this.appendFlatPointCoordinates(l,u);if(A===a)return;if(h&&(A-a)/2!==l.length/u){var _=a/2;h=h.filter((function(e,t){var n=o[2*(_+t)]===l[t*u]&&o[2*(_+t)+1]===l[t*u+1];return n||--_,n}))}this.saveTextStates_(),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&this.updateFillStyle(this.state,this.createFill),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,t);var C=r.padding;if(C!=d.Tq&&(r.scale[0]<0||r.scale[1]<0)){var I=r.padding[0],E=r.padding[1],w=r.padding[2],b=r.padding[3];r.scale[0]<0&&(E=-E,b=-b),r.scale[1]<0&&(I=-I,w=-w),C=[I,E,w,b]}var x=this.pixelRatio;this.instructions.push([c.Ay.DRAW_IMAGE,a,A,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,C==d.Tq?d.Tq:C.map((function(e){return e*x})),!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,h]);var S=1/x,P=this.state.fillStyle;r.backgroundFill&&(this.state.fillStyle=d.qY,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([c.Ay.DRAW_IMAGE,a,A,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[S,S],NaN,void 0,this.declutterImageWithText_,C,!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?d.qY:this.fillKey_,this.textOffsetX_,this.textOffsetY_,h]),r.backgroundFill&&(this.state.fillStyle=P,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(t)}else{if(!(0,g.HY)(this.getBufferedMaxExtent(),e.getExtent()))return;var M;if(l=e.getFlatCoordinates(),"LineString"==s)M=[l.length];else if("MultiLineString"==s)M=e.getEnds();else if("Polygon"==s)M=e.getEnds().slice(0,1);else if("MultiPolygon"==s){var k=e.getEndss();M=[];for(var R=0,T=k.length;R<T;++R)M.push(k[R][0])}this.beginGeometry(e,t);for(var L=r.repeat,G=L?void 0:r.textAlign,O=0,D=0,N=M.length;D<N;++D){var F=void 0;F=L?v(L*this.resolution,l,O,M[D],u):[l.slice(O,M[D])];for(var U=0,B=F.length;U<B;++U){var j=F[U],z=0,W=j.length;if(void 0==G){var V=y(r.maxAngle,j,0,j.length,2);z=V[0],W=V[1]}for(var Y=z;Y<W;Y+=u)o.push(j[Y],j[Y+1]);var H=o.length;O=M[D],this.drawChars_(a,H),a=H}}this.endGeometry(t)}}}},{key:"saveTextStates_",value:function(){var e=this.textStrokeState_,t=this.textState_,n=this.textFillState_,i=this.strokeKey_;e&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));var r=this.textKey_;r in this.textStates||(this.textStates[r]={font:t.font,textAlign:t.textAlign||d.MY,justify:t.justify,textBaseline:t.textBaseline||d.M8,scale:t.scale});var o=this.fillKey_;n&&(o in this.fillStates||(this.fillStates[o]={fillStyle:n.fillStyle}))}},{key:"drawChars_",value:function(e,t){var n=this.textStrokeState_,i=this.textState_,r=this.strokeKey_,o=this.textKey_,a=this.fillKey_;this.saveTextStates_();var s=this.pixelRatio,l=A[i.textBaseline],u=this.textOffsetY_*s,h=this.text_,p=n?n.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([c.Ay.DRAW_CHARS,e,t,l,i.overflow,a,i.maxAngle,s,u,r,p*s,h,o,1]),this.hitDetectionInstructions.push([c.Ay.DRAW_CHARS,e,t,l,i.overflow,a?d.qY:a,i.maxAngle,s,u,r,p*s,h,o,1/s])}},{key:"setTextStyle",value:function(e,t){var n,i,r;if(e){var o=e.getFill();o?(i=this.textFillState_,i||(i={},this.textFillState_=i),i.fillStyle=(0,h.F)(o.getColor()||d.qY)):(i=null,this.textFillState_=i);var a=e.getStroke();if(a){r=this.textStrokeState_,r||(r={},this.textStrokeState_=r);var s=a.getLineDash(),l=a.getLineDashOffset(),u=a.getWidth(),c=a.getMiterLimit();r.lineCap=a.getLineCap()||d._m,r.lineDash=s?s.slice():d.Oq,r.lineDashOffset=void 0===l?d.vk:l,r.lineJoin=a.getLineJoin()||d._K,r.lineWidth=void 0===u?d.aq:u,r.miterLimit=void 0===c?d.eL:c,r.strokeStyle=(0,h.F)(a.getColor()||d.NT)}else r=null,this.textStrokeState_=r;n=this.textState_;var g=e.getFont()||d.ZV;(0,d.fZ)(g);var f=e.getScaleArray();n.overflow=e.getOverflow(),n.font=g,n.maxAngle=e.getMaxAngle(),n.placement=e.getPlacement(),n.textAlign=e.getTextAlign(),n.repeat=e.getRepeat(),n.justify=e.getJustify(),n.textBaseline=e.getTextBaseline()||d.M8,n.backgroundFill=e.getBackgroundFill(),n.backgroundStroke=e.getBackgroundStroke(),n.padding=e.getPadding()||d.Tq,n.scale=void 0===f?[1,1]:f;var m=e.getOffsetX(),v=e.getOffsetY(),y=e.getRotateWithView(),A=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=void 0===m?0:m,this.textOffsetY_=void 0===v?0:v,this.textRotateWithView_=void 0!==y&&y,this.textRotation_=void 0===A?0:A,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:(0,p.v6)(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.repeat||"?")+(n.justify||"?")+(n.textBaseline||"?"),this.fillKey_=i?"string"==typeof i.fillStyle?i.fillStyle:"|"+(0,p.v6)(i.fillStyle):""}else this.text_="";this.declutterImageWithText_=t}}])}(u.A),C=_},923:function(e,t,n){"use strict";n.d(t,{tF:function(){return _},_7:function(){return C},F8:function(){return I}});n(2062),n(4114),n(6910),n(2892),n(9432),n(6099),n(7495),n(8781),n(8156),n(5440);var i=n(5026),r=n(9492),o=n(5647),a=n(8578),s=(n(3771),n(9021)),l=n(6294),u=n(1194),c=n(8911),h=n(6232),d=n(7444),p=n(5674),g=n(3371),f=n(3665),m=function(e){function t(e,n,r,a,s,l,c){var h;return(0,i.A)(this,t),h=(0,o.A)(this,t),h.context_=e,h.pixelRatio_=n,h.extent_=r,h.transform_=a,h.transformRotation_=a?(0,p.Mg)(Math.atan2(a[1],a[0]),10):0,h.viewRotation_=s,h.squaredTolerance_=l,h.userTransform_=c,h.contextFillState_=null,h.contextStrokeState_=null,h.contextTextState_=null,h.fillState_=null,h.strokeState_=null,h.image_=null,h.imageAnchorX_=0,h.imageAnchorY_=0,h.imageHeight_=0,h.imageOpacity_=0,h.imageOriginX_=0,h.imageOriginY_=0,h.imageRotateWithView_=!1,h.imageRotation_=0,h.imageScale_=[0,0],h.imageWidth_=0,h.text_="",h.textOffsetX_=0,h.textOffsetY_=0,h.textRotateWithView_=!1,h.textRotation_=0,h.textScale_=[0,0],h.textFillState_=null,h.textStrokeState_=null,h.textState_=null,h.pixelCoordinates_=[],h.tmpLocalTransform_=(0,u.vt)(),h}return(0,a.A)(t,e),(0,r.A)(t,[{key:"drawImages_",value:function(e,t,n,i){if(this.image_){var r=(0,g.Rc)(e,t,n,i,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,s=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=s*this.imageOpacity_);var l=this.imageRotation_;0===this.transformRotation_&&(l-=this.viewRotation_),this.imageRotateWithView_&&(l+=this.viewRotation_);for(var c=0,h=r.length;c<h;c+=2){var d=r[c]-this.imageAnchorX_,p=r[c+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var f=d+this.imageAnchorX_,m=p+this.imageAnchorY_;(0,u.Zz)(a,f,m,1,1,l,-f,-m),o.save(),o.transform.apply(o,a),o.translate(f,m),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.restore()}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,d,p,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(o.globalAlpha=s)}}},{key:"drawText_",value:function(e,t,n,i){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=(0,g.Rc)(e,t,n,i,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.textRotation_;for(0===this.transformRotation_&&(a-=this.viewRotation_),this.textRotateWithView_&&(a+=this.viewRotation_);t<n;t+=i){var s=r[t]+this.textOffsetX_,l=r[t+1]+this.textOffsetY_;0!==a||1!=this.textScale_[0]||1!=this.textScale_[1]?(o.save(),o.translate(s-this.textOffsetX_,l-this.textOffsetY_),o.rotate(a),o.translate(this.textOffsetX_,this.textOffsetY_),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.restore()):(this.textStrokeState_&&o.strokeText(this.text_,s,l),this.textFillState_&&o.fillText(this.text_,s,l))}}}},{key:"moveToLineTo_",value:function(e,t,n,i,r){var o=this.context_,a=(0,g.Rc)(e,t,n,i,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);var s=a.length;r&&(s-=2);for(var l=2;l<s;l+=2)o.lineTo(a[l],a[l+1]);return r&&o.closePath(),n}},{key:"drawRings_",value:function(e,t,n,i){for(var r=0,o=n.length;r<o;++r)t=this.moveToLineTo_(e,t,n[r],i,!0);return t}},{key:"drawCircle",value:function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,d.HY)(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=(0,f.v7)(e,this.transform_,this.pixelCoordinates_),n=t[2]-t[0],i=t[3]-t[1],r=Math.sqrt(n*n+i*i),o=this.context_;o.beginPath(),o.arc(t[0],t[1],r,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(e.getCenter(),0,2,2)}}},{key:"setStyle",value:function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}},{key:"setTransform",value:function(e){this.transform_=e}},{key:"drawGeometry",value:function(e){var t=e.getType();switch(t){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break;default:}}},{key:"drawFeature",value:function(e,t){var n=t.getGeometryFunction()(e);n&&(this.setStyle(t),this.drawGeometry(n))}},{key:"drawGeometryCollection",value:function(e){for(var t=e.getGeometriesArray(),n=0,i=t.length;n<i;++n)this.drawGeometry(t[n])}},{key:"drawPoint",value:function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var t=e.getFlatCoordinates(),n=e.getStride();this.image_&&this.drawImages_(t,0,t.length,n),""!==this.text_&&this.drawText_(t,0,t.length,n)}},{key:"drawMultiPoint",value:function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var t=e.getFlatCoordinates(),n=e.getStride();this.image_&&this.drawImages_(t,0,t.length,n),""!==this.text_&&this.drawText_(t,0,t.length,n)}},{key:"drawLineString",value:function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,d.HY)(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var t=this.context_,n=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(n,0,n.length,e.getStride(),!1),t.stroke()}if(""!==this.text_){var i=e.getFlatMidpoint();this.drawText_(i,0,2,2)}}}},{key:"drawMultiLineString",value:function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var t=e.getExtent();if((0,d.HY)(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=e.getFlatCoordinates(),r=0,o=e.getEnds(),a=e.getStride();n.beginPath();for(var s=0,l=o.length;s<l;++s)r=this.moveToLineTo_(i,r,o[s],a,!1);n.stroke()}if(""!==this.text_){var u=e.getFlatMidpoints();this.drawText_(u,0,u.length,2)}}}},{key:"drawPolygon",value:function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,d.HY)(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){var n=e.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}},{key:"drawMultiPolygon",value:function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,d.HY)(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=this.context_,n=e.getOrientedFlatCoordinates(),i=0,r=e.getEndss(),o=e.getStride();t.beginPath();for(var a=0,s=r.length;a<s;++a){var l=r[a];i=this.drawRings_(n,i,l,o)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){var u=e.getFlatInteriorPoints();this.drawText_(u,0,u.length,2)}}}},{key:"setContextFillState_",value:function(e){var t=this.context_,n=this.contextFillState_;n?n.fillStyle!=e.fillStyle&&(n.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}},{key:"setContextStrokeState_",value:function(e){var t=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=e.lineCap&&(n.lineCap=e.lineCap,t.lineCap=e.lineCap),(0,h.aI)(n.lineDash,e.lineDash)||t.setLineDash(n.lineDash=e.lineDash),n.lineDashOffset!=e.lineDashOffset&&(n.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),n.lineJoin!=e.lineJoin&&(n.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),n.lineWidth!=e.lineWidth&&(n.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),n.miterLimit!=e.miterLimit&&(n.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),n.strokeStyle!=e.strokeStyle&&(n.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}},{key:"setContextTextState_",value:function(e){var t=this.context_,n=this.contextTextState_,i=e.textAlign?e.textAlign:c.MY;n?(n.font!=e.font&&(n.font=e.font,t.font=e.font),n.textAlign!=i&&(n.textAlign=i,t.textAlign=i),n.textBaseline!=e.textBaseline&&(n.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=i,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:i,textBaseline:e.textBaseline})}},{key:"setFillStrokeStyle",value:function(e,t){var n=this;if(e){var i=e.getColor();this.fillState_={fillStyle:(0,l.F)(i||c.qY)}}else this.fillState_=null;if(t){var r=t.getColor(),o=t.getLineCap(),a=t.getLineDash(),s=t.getLineDashOffset(),u=t.getLineJoin(),h=t.getWidth(),d=t.getMiterLimit(),p=a||c.Oq;this.strokeState_={lineCap:void 0!==o?o:c._m,lineDash:1===this.pixelRatio_?p:p.map((function(e){return e*n.pixelRatio_})),lineDashOffset:(s||c.vk)*this.pixelRatio_,lineJoin:void 0!==u?u:c._K,lineWidth:(void 0!==h?h:c.aq)*this.pixelRatio_,miterLimit:void 0!==d?d:c.eL,strokeStyle:(0,l.F)(r||c.NT)}}else this.strokeState_=null}},{key:"setImageStyle",value:function(e){var t;if(e&&(t=e.getSize())){var n=e.getPixelRatio(this.pixelRatio_),i=e.getAnchor(),r=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*n,this.imageAnchorY_=i[1]*n,this.imageHeight_=t[1]*n,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();var o=e.getScaleArray();this.imageScale_=[o[0]*this.pixelRatio_/n,o[1]*this.pixelRatio_/n],this.imageWidth_=t[0]*n}else this.image_=null}},{key:"setTextStyle",value:function(e){if(e){var t=e.getFill();if(t){var n=t.getColor();this.textFillState_={fillStyle:(0,l.F)(n||c.qY)}}else this.textFillState_=null;var i=e.getStroke();if(i){var r=i.getColor(),o=i.getLineCap(),a=i.getLineDash(),s=i.getLineDashOffset(),u=i.getLineJoin(),h=i.getWidth(),d=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==o?o:c._m,lineDash:a||c.Oq,lineDashOffset:s||c.vk,lineJoin:void 0!==u?u:c._K,lineWidth:void 0!==h?h:c.aq,miterLimit:void 0!==d?d:c.eL,strokeStyle:(0,l.F)(r||c.NT)}}else this.textStrokeState_=null;var p=e.getFont(),g=e.getOffsetX(),f=e.getOffsetY(),m=e.getRotateWithView(),v=e.getRotation(),y=e.getScaleArray(),A=e.getText(),_=e.getTextAlign(),C=e.getTextBaseline();this.textState_={font:void 0!==p?p:c.ZV,textAlign:void 0!==_?_:c.MY,textBaseline:void 0!==C?C:c.M8},this.text_=void 0!==A?Array.isArray(A)?A.reduce((function(e,t,n){return e+(n%2?" ":t)}),""):A:"",this.textOffsetX_=void 0!==g?this.pixelRatio_*g:0,this.textOffsetY_=void 0!==f?this.pixelRatio_*f:0,this.textRotateWithView_=void 0!==m&&m,this.textRotation_=void 0!==v?v:0,this.textScale_=[this.pixelRatio_*y[0],this.pixelRatio_*y[1]]}else this.text_=""}}])}(s.A),v=m,y=n(7379),A=n(7334),_=.5;function C(e,t,n,i,r,o,a){var s=e[0]*_,l=e[1]*_,u=(0,A.Y)(s,l);u.imageSmoothingEnabled=!1;for(var c=u.canvas,p=new v(u,_,r,null,a),g=n.length,f=Math.floor(16777215/g),m={},C=1;C<=g;++C){var I=n[C-1],E=I.getStyleFunction()||i;if(E){var w=E(I,o);if(w){Array.isArray(w)||(w=[w]);for(var b=C*f,x=b.toString(16).padStart(7,"#00000"),S=0,P=w.length;S<P;++S){var M=w[S],k=M.getGeometryFunction()(I);if(k&&(0,d.HY)(r,k.getExtent())){var R=M.clone(),T=R.getFill();T&&T.setColor(x);var L=R.getStroke();L&&(L.setColor(x),L.setLineDash(null)),R.setText(void 0);var G=M.getImage();if(G){var O=G.getImageSize();if(!O)continue;var D=(0,A.Y)(O[0],O[1],void 0,{alpha:!1}),N=D.canvas;D.fillStyle=x,D.fillRect(0,0,N.width,N.height),R.setImage(new y.A({img:N,anchor:G.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:G.getOrigin(),opacity:1,size:G.getSize(),scale:G.getScale(),rotation:G.getRotation(),rotateWithView:G.getRotateWithView()}))}var F=R.getZIndex()||0,U=m[F];U||(U={},m[F]=U,U["Polygon"]=[],U["Circle"]=[],U["LineString"]=[],U["Point"]=[]);var B=k.getType();if("GeometryCollection"===B)for(var j=k.getGeometriesArrayRecursive(),z=0,W=j.length;z<W;++z){var V=j[z];U[V.getType().replace("Multi","")].push(V,R)}else U[B.replace("Multi","")].push(k,R)}}}}}for(var Y=Object.keys(m).map(Number).sort(h.V_),H=0,q=Y.length;H<q;++H){var X=m[Y[H]];for(var Z in X)for(var K=X[Z],J=0,Q=K.length;J<Q;J+=2){p.setStyle(K[J+1]);for(var $=0,ee=t.length;$<ee;++$)p.setTransform(t[$]),p.drawGeometry(K[J])}}return u.getImageData(0,0,c.width,c.height)}function I(e,t,n){var i=[];if(n){var r=Math.floor(Math.round(e[0])*_),o=Math.floor(Math.round(e[1])*_),a=4*((0,p.qE)(r,0,n.width-1)+(0,p.qE)(o,0,n.height-1)*n.width),s=n.data[a],l=n.data[a+1],u=n.data[a+2],c=u+256*(l+256*s),h=Math.floor(16777215/t.length);c&&c%h===0&&i.push(t[c/h-1])}return i}},3525:function(e,t,n){"use strict";n.d(t,{B:function(){return I},A:function(){return x}});var i=n(5026),r=n(9492),o=n(5647),a=n(7645),s=n(4497),l=n(8578),u=(n(6099),n(8781),n(7582)),c=n(1410),h=n(4549),d=n(5752),p=function(e){function t(e){var n;return(0,i.A)(this,t),n=(0,o.A)(this,t),n.ready=!0,n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=e,n.declutterExecutorGroup=null,n}return(0,l.A)(t,e),(0,r.A)(t,[{key:"getFeatures",value:function(e){return(0,d.b0)()}},{key:"getData",value:function(e){return null}},{key:"prepareFrame",value:function(e){return(0,d.b0)()}},{key:"renderFrame",value:function(e,t){return(0,d.b0)()}},{key:"loadedTileCallback",value:function(e,t,n){e[t]||(e[t]={}),e[t][n.tileCoord.toString()]=n}},{key:"createLoadedTileFinder",value:function(e,t,n){var i=this;return function(r,o){var a=i.loadedTileCallback.bind(i,n,r);return e.forEachLoadedTile(t,r,o,a)}}},{key:"forEachFeatureAtCoordinate",value:function(e,t,n,i,r){}},{key:"getLayer",value:function(){return this.layer_}},{key:"handleFontsChanged",value:function(){}},{key:"handleImageChange_",value:function(e){var t=e.target;t.getState()!==c.A.LOADED&&t.getState()!==c.A.ERROR||this.renderIfReadyAndVisible()}},{key:"loadImage",value:function(e){var t=e.getState();return t!=c.A.LOADED&&t!=c.A.ERROR&&e.addEventListener(u.A.CHANGE,this.boundHandleImageChange_),t==c.A.IDLE&&(e.load(),t=e.getState()),t==c.A.LOADED}},{key:"renderIfReadyAndVisible",value:function(){var e=this.getLayer();e&&e.getVisible()&&"ready"===e.getSourceState()&&e.changed()}},{key:"disposeInternal",value:function(){delete this.layer_,(0,a.A)((0,s.A)(t.prototype),"disposeInternal",this).call(this)}}])}(h.A),g=p,f=n(6355),m=n(3707),v=n(1194),y=n(5007),A=n(7334),_=n(6232),C=n(7444),I=[],E=null;function w(){E=(0,A.Y)(1,1,void 0,{willReadFrequently:!0})}var b=function(e){function t(e){var n;return(0,i.A)(this,t),n=(0,o.A)(this,t,[e]),n.container=null,n.renderedResolution,n.tempTransform=(0,v.vt)(),n.pixelTransform=(0,v.vt)(),n.inversePixelTransform=(0,v.vt)(),n.context=null,n.containerReused=!1,n.pixelContext_=null,n.frameState=null,n}return(0,l.A)(t,e),(0,r.A)(t,[{key:"getImageData",value:function(e,t,n){var i;E||w(),E.clearRect(0,0,1,1);try{E.drawImage(e,t,n,1,1,0,0,1,1),i=E.getImageData(0,0,1,1).data}catch(r){return E=null,null}return i}},{key:"getBackground",value:function(e){var t=this.getLayer(),n=t.getBackground();return"function"===typeof n&&(n=n(e.viewState.resolution)),n||void 0}},{key:"useContainer",value:function(e,t,n){var i,r,o=this.getLayer().getClassName();if(e&&e.className===o&&(!n||e&&e.style.backgroundColor&&(0,_.aI)((0,y._j)(e.style.backgroundColor),(0,y._j)(n)))){var a=e.firstElementChild;a instanceof HTMLCanvasElement&&(r=a.getContext("2d"))}if(r&&r.canvas.style.transform===t?(this.container=e,this.context=r,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){i=document.createElement("div"),i.className=o;var s=i.style;s.position="absolute",s.width="100%",s.height="100%",r=(0,A.Y)();var l=r.canvas;i.appendChild(l),s=l.style,s.position="absolute",s.left="0",s.transformOrigin="top left",this.container=i,this.context=r}this.containerReused||!n||this.container.style.backgroundColor||(this.container.style.backgroundColor=n)}},{key:"clipUnrotated",value:function(e,t,n){var i=(0,C.Py)(n),r=(0,C.WU)(n),o=(0,C.k_)(n),a=(0,C.R)(n);(0,v.Bb)(t.coordinateToPixelTransform,i),(0,v.Bb)(t.coordinateToPixelTransform,r),(0,v.Bb)(t.coordinateToPixelTransform,o),(0,v.Bb)(t.coordinateToPixelTransform,a);var s=this.inversePixelTransform;(0,v.Bb)(s,i),(0,v.Bb)(s,r),(0,v.Bb)(s,o),(0,v.Bb)(s,a),e.save(),e.beginPath(),e.moveTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.clip()}},{key:"dispatchRenderEvent_",value:function(e,t,n){var i=this.getLayer();if(i.hasListener(e)){var r=new f.A(e,this.inversePixelTransform,n,t);i.dispatchEvent(r)}}},{key:"preRender",value:function(e,t){this.frameState=t,this.dispatchRenderEvent_(m.A.PRERENDER,e,t)}},{key:"postRender",value:function(e,t){this.dispatchRenderEvent_(m.A.POSTRENDER,e,t)}},{key:"getRenderTransform",value:function(e,t,n,i,r,o,a){var s=r/2,l=o/2,u=i/t,c=-u,h=-e[0]+a,d=-e[1];return(0,v.Zz)(this.tempTransform,s,l,u,c,-n,h,d)}},{key:"disposeInternal",value:function(){delete this.frameState,(0,a.A)((0,s.A)(t.prototype),"disposeInternal",this).call(this)}}])}(g),x=b},4405:function(e,t,n){"use strict";n.d(t,{Eo:function(){return s},gY:function(){return u},j:function(){return l},nl:function(){return h}});var i=n(1410),r=n(5752),o=.5,a={Point:y,LineString:f,Polygon:_,MultiPoint:A,MultiLineString:m,MultiPolygon:v,GeometryCollection:g,Circle:c};function s(e,t){return parseInt((0,r.v6)(e),10)-parseInt((0,r.v6)(t),10)}function l(e,t){var n=u(e,t);return n*n}function u(e,t){return o*e/t}function c(e,t,n,i,r){var o=n.getFill(),a=n.getStroke();if(o||a){var s=e.getBuilder(n.getZIndex(),"Circle");s.setFillStrokeStyle(o,a),s.drawCircle(t,i)}var l=n.getText();if(l&&l.getText()){var u=(r||e).getBuilder(n.getZIndex(),"Text");u.setTextStyle(l),u.drawText(t,i)}}function h(e,t,n,r,o,a,s){var l=!1,u=n.getImage();if(u){var c=u.getImageState();c==i.A.LOADED||c==i.A.ERROR?u.unlistenImageChange(o):(c==i.A.IDLE&&u.load(),u.listenImageChange(o),l=!0)}return d(e,t,n,r,a,s),l}function d(e,t,n,i,r,o){var s=n.getGeometryFunction()(t);if(s){var l=s.simplifyTransformed(i,r),u=n.getRenderer();if(u)p(e,l,n,t);else{var c=a[l.getType()];c(e,l,n,t,o)}}}function p(e,t,n,i){if("GeometryCollection"!=t.getType()){var r=e.getBuilder(n.getZIndex(),"Default");r.drawCustom(t,i,n.getRenderer(),n.getHitDetectionRenderer())}else for(var o=t.getGeometries(),a=0,s=o.length;a<s;++a)p(e,o[a],n,i)}function g(e,t,n,i,r){var o,s,l=t.getGeometriesArray();for(o=0,s=l.length;o<s;++o){var u=a[l[o].getType()];u(e,l[o],n,i,r)}}function f(e,t,n,i,r){var o=n.getStroke();if(o){var a=e.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawLineString(t,i)}var s=n.getText();if(s&&s.getText()){var l=(r||e).getBuilder(n.getZIndex(),"Text");l.setTextStyle(s),l.drawText(t,i)}}function m(e,t,n,i,r){var o=n.getStroke();if(o){var a=e.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawMultiLineString(t,i)}var s=n.getText();if(s&&s.getText()){var l=(r||e).getBuilder(n.getZIndex(),"Text");l.setTextStyle(s),l.drawText(t,i)}}function v(e,t,n,i,r){var o=n.getFill(),a=n.getStroke();if(a||o){var s=e.getBuilder(n.getZIndex(),"Polygon");s.setFillStrokeStyle(o,a),s.drawMultiPolygon(t,i)}var l=n.getText();if(l&&l.getText()){var u=(r||e).getBuilder(n.getZIndex(),"Text");u.setTextStyle(l),u.drawText(t,i)}}function y(e,t,n,r,o){var a,s=n.getImage(),l=n.getText();if(s){if(s.getImageState()!=i.A.LOADED)return;var u=e;if(o){var c=s.getDeclutterMode();if("none"!==c)if(u=o,"obstacle"===c){var h=e.getBuilder(n.getZIndex(),"Image");h.setImageStyle(s,a),h.drawPoint(t,r)}else l&&l.getText()&&(a={})}var d=u.getBuilder(n.getZIndex(),"Image");d.setImageStyle(s,a),d.drawPoint(t,r)}if(l&&l.getText()){var p=e;o&&(p=o);var g=p.getBuilder(n.getZIndex(),"Text");g.setTextStyle(l,a),g.drawText(t,r)}}function A(e,t,n,r,o){var a,s=n.getImage(),l=n.getText();if(s){if(s.getImageState()!=i.A.LOADED)return;var u=e;if(o){var c=s.getDeclutterMode();if("none"!==c)if(u=o,"obstacle"===c){var h=e.getBuilder(n.getZIndex(),"Image");h.setImageStyle(s,a),h.drawMultiPoint(t,r)}else l&&l.getText()&&(a={})}var d=u.getBuilder(n.getZIndex(),"Image");d.setImageStyle(s,a),d.drawMultiPoint(t,r)}if(l&&l.getText()){var p=e;o&&(p=o);var g=p.getBuilder(n.getZIndex(),"Text");g.setTextStyle(l,a),g.drawText(t,r)}}function _(e,t,n,i,r){var o=n.getFill(),a=n.getStroke();if(o||a){var s=e.getBuilder(n.getZIndex(),"Polygon");s.setFillStrokeStyle(o,a),s.drawPolygon(t,i)}var l=n.getText();if(l&&l.getText()){var u=(r||e).getBuilder(n.getZIndex(),"Text");u.setTextStyle(l),u.drawText(t,i)}}},5289:function(e,t,n){"use strict";n.d(t,{a$:function(){return a},b8:function(){return r},cq:function(){return s},dv:function(){return o}});var i=n(5674);function r(e){if(void 0!==e)return 0}function o(e){if(void 0!==e)return e}function a(e){var t=2*Math.PI/e;return function(e,n){return n?e:void 0!==e?(e=Math.floor(e/t+.5)*t,e):void 0}}function s(e){var t=void 0===e?(0,i.eh)(5):e;return function(e,n){return n||void 0===e?e:Math.abs(e)<=t?0:e}}},5689:function(e,t,n){"use strict";function i(e){return e[0]>0&&e[1]>0}function r(e,t,n){return void 0===n&&(n=[0,0]),n[0]=e[0]*t+.5|0,n[1]=e[1]*t+.5|0,n}function o(e,t){return Array.isArray(e)?e:(void 0===t?t=[e,e]:(t[0]=e,t[1]=e),t)}n.d(t,{Ie:function(){return i},hs:function(){return r},xq:function(){return o}})},3437:function(e,t,n){"use strict";var i=n(5026),r=n(9492),o=n(5647),a=n(8578),s=(n(6099),n(1611)),l=n(5857),u=function(e){function t(e){var n;(0,i.A)(this,t),n=(0,o.A)(this,t),n.projection=(0,l.Jt)(e.projection),n.attributions_=c(e.attributions),n.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,n.loading=!1,n.state_=void 0!==e.state?e.state:"ready",n.wrapX_=void 0!==e.wrapX&&e.wrapX,n.interpolate_=!!e.interpolate,n.viewResolver=null,n.viewRejector=null;var r=n;return n.viewPromise_=new Promise((function(e,t){r.viewResolver=e,r.viewRejector=t})),n}return(0,a.A)(t,e),(0,r.A)(t,[{key:"getAttributions",value:function(){return this.attributions_}},{key:"getAttributionsCollapsible",value:function(){return this.attributionsCollapsible_}},{key:"getProjection",value:function(){return this.projection}},{key:"getResolutions",value:function(e){return null}},{key:"getView",value:function(){return this.viewPromise_}},{key:"getState",value:function(){return this.state_}},{key:"getWrapX",value:function(){return this.wrapX_}},{key:"getInterpolate",value:function(){return this.interpolate_}},{key:"refresh",value:function(){this.changed()}},{key:"setAttributions",value:function(e){this.attributions_=c(e),this.changed()}},{key:"setState",value:function(e){this.state_=e,this.changed()}}])}(s.A);function c(e){return e?Array.isArray(e)?function(t){return e}:"function"===typeof e?e:function(t){return[e]}:null}t.A=u},8347:function(e,t,n){"use strict";var i=n(9258),r=n(7645),o=n(4497),a=n(9492),s=n(5026),l=n(5647),u=n(8578),c=(n(8706),n(4423),n(2062),n(4114),n(4782),n(4554),n(6099),n(6034),n(8781),n(1699),n(3500),n(3844)),h=n(2686),d=n(9078),p=n(7582),g=n(6555),f=n(1127),m=n(3077),v=n(3437),y=n(299),A=n(9331),_=n(8655),C=n(1097),I=n(7444),E=n(6232),w=n(5752),b=n(6811),x=n(8965),S=n(5519),P=function(e){function t(e,n,i){var r;return(0,s.A)(this,t),r=(0,l.A)(this,t,[e]),r.feature=n,r.features=i,r}return(0,u.A)(t,e),(0,a.A)(t)}(d.Ay),M=function(e){function t(e){var n;(0,s.A)(this,t),e=e||{},n=(0,l.A)(this,t,[{attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===e.wrapX||e.wrapX}]),n.on,n.once,n.un,n.loader_=A.tV,n.format_=e.format,n.overlaps_=void 0===e.overlaps||e.overlaps,n.url_=e.url,void 0!==e.loader?n.loader_=e.loader:void 0!==n.url_&&((0,C.v)(n.format_,"`format` must be set when `url` is set"),n.loader_=(0,S.nF)(n.url_,n.format_)),n.strategy_=void 0!==e.strategy?e.strategy:_.Q7;var i,r,o=void 0===e.useSpatialIndex||e.useSpatialIndex;return n.featuresRtree_=o?new f.A:null,n.loadedExtentsRtree_=new f.A,n.loadingExtentsCount_=0,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null,Array.isArray(e.features)?r=e.features:e.features&&(i=e.features,r=i.getArray()),o||void 0!==i||(i=new c.A(r)),void 0!==r&&n.addFeaturesInternal(r),void 0!==i&&n.bindFeaturesCollection_(i),n}return(0,u.A)(t,e),(0,a.A)(t,[{key:"addFeature",value:function(e){this.addFeatureInternal(e),this.changed()}},{key:"addFeatureInternal",value:function(e){var t=(0,w.v6)(e);if(this.addToIndex_(t,e)){this.setupChangeEvents_(t,e);var n=e.getGeometry();if(n){var i=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new P(y.A.ADDFEATURE,e))}else this.featuresCollection_&&this.featuresCollection_.remove(e)}},{key:"setupChangeEvents_",value:function(e,t){t instanceof m.Ay||(this.featureChangeKeys_[e]=[(0,x.KT)(t,p.A.CHANGE,this.handleFeatureChange_,this),(0,x.KT)(t,g.A.PROPERTYCHANGE,this.handleFeatureChange_,this)])}},{key:"addToIndex_",value:function(e,t){var n=!0;if(void 0!==t.getId()){var i=String(t.getId());if(i in this.idIndex_)if(t instanceof m.Ay){var r=this.idIndex_[i];r instanceof m.Ay?Array.isArray(r)?r.push(t):this.idIndex_[i]=[r,t]:n=!1}else n=!1;else this.idIndex_[i]=t}return n&&((0,C.v)(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=t),n}},{key:"addFeatures",value:function(e){this.addFeaturesInternal(e),this.changed()}},{key:"addFeaturesInternal",value:function(e){for(var t=[],n=[],i=[],r=0,o=e.length;r<o;r++){var a=e[r],s=(0,w.v6)(a);this.addToIndex_(s,a)&&n.push(a)}for(var l=0,u=n.length;l<u;l++){var c=n[l],h=(0,w.v6)(c);this.setupChangeEvents_(h,c);var d=c.getGeometry();if(d){var p=d.getExtent();t.push(p),i.push(c)}else this.nullGeometryFeatures_[h]=c}if(this.featuresRtree_&&this.featuresRtree_.load(t,i),this.hasListener(y.A.ADDFEATURE))for(var g=0,f=n.length;g<f;g++)this.dispatchEvent(new P(y.A.ADDFEATURE,n[g]))}},{key:"bindFeaturesCollection_",value:function(e){var t=this,n=!1;this.addEventListener(y.A.ADDFEATURE,(function(t){n||(n=!0,e.push(t.feature),n=!1)})),this.addEventListener(y.A.REMOVEFEATURE,(function(t){n||(n=!0,e.remove(t.feature),n=!1)})),e.addEventListener(h.A.ADD,(function(e){n||(n=!0,t.addFeature(e.element),n=!1)})),e.addEventListener(h.A.REMOVE,(function(e){n||(n=!0,t.removeFeature(e.element),n=!1)})),this.featuresCollection_=e}},{key:"clear",value:function(e){var t=this;if(e){for(var n in this.featureChangeKeys_){var i=this.featureChangeKeys_[n];i.forEach(x.JH)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var r=function(e){t.removeFeatureInternal(e)};for(var o in this.featuresRtree_.forEach(r),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[o])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var a=new P(y.A.CLEAR);this.dispatchEvent(a),this.changed()}},{key:"forEachFeature",value:function(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}},{key:"forEachFeatureAtCoordinateDirect",value:function(e,t){var n=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(n,(function(n){var i=n.getGeometry();if(i instanceof m.Ay||i.intersectsCoordinate(e))return t(n)}))}},{key:"forEachFeatureInExtent",value:function(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}},{key:"forEachFeatureIntersectingExtent",value:function(e,t){return this.forEachFeatureInExtent(e,(function(n){var i=n.getGeometry();if(i instanceof m.Ay||i.intersectsExtent(e)){var r=t(n);if(r)return r}}))}},{key:"getFeaturesCollection",value:function(){return this.featuresCollection_}},{key:"getFeatures",value:function(){var e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),(0,b.p)(this.nullGeometryFeatures_)||(0,E.X$)(e,Object.values(this.nullGeometryFeatures_))),e}},{key:"getFeaturesAtCoordinate",value:function(e){var t=[];return this.forEachFeatureAtCoordinateDirect(e,(function(e){t.push(e)})),t}},{key:"getFeaturesInExtent",value:function(e,t){var n=this;if(this.featuresRtree_){var r,o=t&&t.canWrapX()&&this.getWrapX();if(!o)return this.featuresRtree_.getInExtent(e);var a=(0,I.QJ)(e,t);return(r=[]).concat.apply(r,(0,i.A)(a.map((function(e){return n.featuresRtree_.getInExtent(e)}))))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}},{key:"getClosestFeatureToCoordinate",value:function(e,t){var n=e[0],i=e[1],r=null,o=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0];return t=t||A.rT,this.featuresRtree_.forEachInExtent(s,(function(e){if(t(e)){var l=e.getGeometry(),u=a;if(a=l instanceof m.Ay?0:l.closestPointXY(n,i,o,a),a<u){r=e;var c=Math.sqrt(a);s[0]=n-c,s[1]=i-c,s[2]=n+c,s[3]=i+c}}})),r}},{key:"getExtent",value:function(e){return this.featuresRtree_.getExtent(e)}},{key:"getFeatureById",value:function(e){var t=this.idIndex_[e.toString()];return void 0!==t?t:null}},{key:"getFeatureByUid",value:function(e){var t=this.uidIndex_[e];return void 0!==t?t:null}},{key:"getFormat",value:function(){return this.format_}},{key:"getOverlaps",value:function(){return this.overlaps_}},{key:"getUrl",value:function(){return this.url_}},{key:"handleFeatureChange_",value:function(e){var t=e.target,n=(0,w.v6)(t),i=t.getGeometry();if(i){var r=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(r,t)):this.featuresRtree_&&this.featuresRtree_.update(r,t)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[n]=t);var o=t.getId();if(void 0!==o){var a=o.toString();this.idIndex_[a]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[a]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[n]=t;this.changed(),this.dispatchEvent(new P(y.A.CHANGEFEATURE,t))}},{key:"hasFeature",value:function(e){var t=e.getId();return void 0!==t?t in this.idIndex_:(0,w.v6)(e)in this.uidIndex_}},{key:"isEmpty",value:function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&(0,b.p)(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()}},{key:"loadFeatures",value:function(e,t,n){for(var i=this,r=this.loadedExtentsRtree_,o=this.strategy_(e,t,n),a=function(){var e=o[s],a=r.forEachInExtent(e,(function(t){return(0,I.ms)(t.extent,e)}));a||(++i.loadingExtentsCount_,i.dispatchEvent(new P(y.A.FEATURESLOADSTART)),i.loader_.call(i,e,t,n,(function(e){--i.loadingExtentsCount_,i.dispatchEvent(new P(y.A.FEATURESLOADEND,void 0,e))}),(function(){--i.loadingExtentsCount_,i.dispatchEvent(new P(y.A.FEATURESLOADERROR))})),r.insert(e,{extent:e.slice()}))},s=0,l=o.length;s<l;++s)a();this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0}},{key:"refresh",value:function(){this.clear(!0),this.loadedExtentsRtree_.clear(),(0,r.A)((0,o.A)(t.prototype),"refresh",this).call(this)}},{key:"removeLoadedExtent",value:function(e){var t,n=this.loadedExtentsRtree_;n.forEachInExtent(e,(function(n){if((0,I.aI)(n.extent,e))return t=n,!0})),t&&n.remove(t)}},{key:"removeFeature",value:function(e){if(e){var t=(0,w.v6)(e);t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e);var n=this.removeFeatureInternal(e);n&&this.changed()}}},{key:"removeFeatureInternal",value:function(e){var t=(0,w.v6)(e),n=this.featureChangeKeys_[t];if(n){n.forEach(x.JH),delete this.featureChangeKeys_[t];var i=e.getId();return void 0!==i&&delete this.idIndex_[i.toString()],delete this.uidIndex_[t],this.dispatchEvent(new P(y.A.REMOVEFEATURE,e)),e}}},{key:"removeFromIdIndex_",value:function(e){var t=!1;for(var n in this.idIndex_){var i=this.idIndex_[n];if(e instanceof m.Ay&&Array.isArray(i)&&i.includes(e))i.splice(i.indexOf(e),1);else if(this.idIndex_[n]===e){delete this.idIndex_[n],t=!0;break}}return t}},{key:"setLoader",value:function(e){this.loader_=e}},{key:"setUrl",value:function(e){(0,C.v)(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader((0,S.nF)(e,this.format_))}}])}(v.A);t.A=M},299:function(e,t){"use strict";t.A={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"}},3277:function(e,t,n){"use strict";n.d(t,{UG:function(){return s},Yf:function(){return o}});n(6280);var i=n(5674),r=6371008.8;function o(e,t,n){n=n||r;var o=(0,i.eh)(e[1]),a=(0,i.eh)(t[1]),s=(a-o)/2,l=(0,i.eh)(t[0]-e[0])/2,u=Math.sin(s)*Math.sin(s)+Math.sin(l)*Math.sin(l)*Math.cos(o)*Math.cos(a);return 2*n*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}function a(e,t){for(var n=0,r=e.length,o=e[r-1][0],a=e[r-1][1],s=0;s<r;s++){var l=e[s][0],u=e[s][1];n+=(0,i.eh)(l-o)*(2+Math.sin((0,i.eh)(a))+Math.sin((0,i.eh)(u))),o=l,a=u}return n*t*t/2}function s(e,t){t=t||{};var n=t.radius||r,i=t.projection||"EPSG:3857",o=e.getType();"GeometryCollection"!==o&&(e=e.clone().transform(i,"EPSG:4326"));var l,u,c,h,d,p,g=0;switch(o){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"LinearRing":break;case"Polygon":for(l=e.getCoordinates(),g=Math.abs(a(l[0],n)),c=1,h=l.length;c<h;++c)g-=Math.abs(a(l[c],n));break;case"MultiPolygon":for(l=e.getCoordinates(),c=0,h=l.length;c<h;++c)for(u=l[c],g+=Math.abs(a(u[0],n)),d=1,p=u.length;d<p;++d)g-=Math.abs(a(u[d],n));break;case"GeometryCollection":var f=e.getGeometries();for(c=0,h=f.length;c<h;++c)g+=s(f[c],t);break;default:throw new Error("Unsupported geometry type: "+o)}return g}},5109:function(e,t,n){"use strict";n.d(t,{H:function(){return i},Z:function(){return r}});n(8598),n(9868);function i(e,t,n){var i=void 0!==n?e.toFixed(n):""+e,r=i.indexOf(".");return r=-1===r?i.length:r,r>t?i:new Array(1+t-r).join("0")+i}function r(e,t){for(var n=(""+e).split("."),i=(""+t).split("."),r=0;r<Math.max(n.length,i.length);r++){var o=parseInt(n[r]||"0",10),a=parseInt(i[r]||"0",10);if(o>a)return 1;if(a>o)return-1}return 0}},1127:function(e,t,n){"use strict";var i=n(5026),r=n(9492),o=(n(2062),n(7495),n(5746),n(5341)),a=n(7444),s=n(5752),l=n(6811),u=function(){function e(t){(0,i.A)(this,e),this.rbush_=new o(t),this.items_={}}return(0,r.A)(e,[{key:"insert",value:function(e,t){var n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(n),this.items_[(0,s.v6)(t)]=n}},{key:"load",value:function(e,t){for(var n=new Array(t.length),i=0,r=t.length;i<r;i++){var o=e[i],a=t[i],l={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:a};n[i]=l,this.items_[(0,s.v6)(a)]=l}this.rbush_.load(n)}},{key:"remove",value:function(e){var t=(0,s.v6)(e),n=this.items_[t];return delete this.items_[t],null!==this.rbush_.remove(n)}},{key:"update",value:function(e,t){var n=this.items_[(0,s.v6)(t)],i=[n.minX,n.minY,n.maxX,n.maxY];(0,a.aI)(i,e)||(this.remove(t),this.insert(e,t))}},{key:"getAll",value:function(){var e=this.rbush_.all();return e.map((function(e){return e.value}))}},{key:"getInExtent",value:function(e){var t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]},n=this.rbush_.search(t);return n.map((function(e){return e.value}))}},{key:"forEach",value:function(e){return this.forEach_(this.getAll(),e)}},{key:"forEachInExtent",value:function(e,t){return this.forEach_(this.getInExtent(e),t)}},{key:"forEach_",value:function(e,t){for(var n,i=0,r=e.length;i<r;i++)if(n=t(e[i]),n)return n;return n}},{key:"isEmpty",value:function(){return(0,l.p)(this.items_)}},{key:"clear",value:function(){this.rbush_.clear(),this.items_={}}},{key:"getExtent",value:function(e){var t=this.rbush_.toJSON();return(0,a.N)(t.minX,t.minY,t.maxX,t.maxY,e)}},{key:"concat",value:function(e){for(var t in this.rbush_.load(e.rbush_.all()),e.items_)this.items_[t]=e.items_[t]}}])}();t.A=u},5274:function(e,t,n){"use strict";var i=n(5026),r=n(9492),o=n(5647),a=n(8578),s=(n(3771),n(4782),n(5023)),l=function(e){function t(e){return(0,i.A)(this,t),e=e||{radius:5},(0,o.A)(this,t,[{points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:void 0!==e.scale?e.scale:1,rotation:void 0!==e.rotation?e.rotation:0,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode}])}return(0,a.A)(t,e),(0,r.A)(t,[{key:"clone",value:function(){var e=this.getScale(),n=new t({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}},{key:"setRadius",value:function(e){this.radius_=e,this.render()}}])}(s.A);t.A=l},8343:function(e,t,n){"use strict";var i=n(5026),r=n(9492),o=(n(4782),function(){function e(t){(0,i.A)(this,e),t=t||{},this.color_=void 0!==t.color?t.color:null}return(0,r.A)(e,[{key:"clone",value:function(){var t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0})}},{key:"getColor",value:function(){return this.color_}},{key:"setColor",value:function(e){this.color_=e}}])}());t.A=o},7379:function(e,t,n){"use strict";n.d(t,{A:function(){return x}});var i=n(8676),r=n(5026),o=n(9492),a=n(8129),s=n(5647),l=n(7645),u=n(4497),c=n(8578),h=(n(4782),n(9907),n(7582)),d=n(1410),p=n(7749),g=n(5007),f=n(1097),m=n(9357),v=n(7334),y=n(2299),A=n(1382),_=null,C=function(e){function t(e,n,i,o,a){var l;return(0,r.A)(this,t),l=(0,s.A)(this,t),l.hitDetectionImage_=null,l.image_=e,l.crossOrigin_=i,l.canvas_={},l.color_=a,l.imageState_=void 0===o?d.A.IDLE:o,l.size_=e&&e.width&&e.height?[e.width,e.height]:null,l.src_=n,l.tainted_,l}return(0,c.A)(t,e),(0,o.A)(t,[{key:"initializeImage_",value:function(){this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}},{key:"isTainted_",value:function(){if(void 0===this.tainted_&&this.imageState_===d.A.LOADED){_||(_=(0,v.Y)(1,1,void 0,{willReadFrequently:!0})),_.drawImage(this.image_,0,0);try{_.getImageData(0,0,1,1),this.tainted_=!1}catch(e){_=null,this.tainted_=!0}}return!0===this.tainted_}},{key:"dispatchChangeEvent_",value:function(){this.dispatchEvent(h.A.CHANGE)}},{key:"handleImageError_",value:function(){this.imageState_=d.A.ERROR,this.dispatchChangeEvent_()}},{key:"handleImageLoad_",value:function(){this.imageState_=d.A.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}},{key:"getImage",value:function(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}},{key:"getPixelRatio",value:function(e){return this.replaceColor_(e),this.canvas_[e]?e:1}},{key:"getImageState",value:function(){return this.imageState_}},{key:"getHitDetectionImage",value:function(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],t=this.size_[1],n=(0,v.Y)(e,t);n.fillRect(0,0,e,t),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}},{key:"getSize",value:function(){return this.size_}},{key:"getSrc",value:function(){return this.src_}},{key:"load",value:function(){var e=this;if(this.imageState_===d.A.IDLE){this.image_||this.initializeImage_(),this.imageState_=d.A.LOADING;try{void 0!==this.src_&&(this.image_.src=this.src_)}catch(t){this.handleImageError_()}this.image_ instanceof HTMLImageElement&&(0,y.RA)(this.image_,this.src_).then((function(t){e.image_=t,e.handleImageLoad_()})).catch(this.handleImageError_.bind(this))}}},{key:"replaceColor_",value:function(e){if(this.color_&&!this.canvas_[e]&&this.imageState_===d.A.LOADED){var t=this.image_,n=document.createElement("canvas");n.width=Math.ceil(t.width*e),n.height=Math.ceil(t.height*e);var i=n.getContext("2d");i.scale(e,e),i.drawImage(t,0,0),i.globalCompositeOperation="multiply",i.fillStyle=(0,g.oJ)(this.color_),i.fillRect(0,0,n.width/e,n.height/e),i.globalCompositeOperation="destination-in",i.drawImage(t,0,0),this.canvas_[e]=n}}}])}(m.A);function I(e,t,n,i,r){var o=void 0===t?void 0:A.u.get(t,n,r);return o||(o=new C(e,e instanceof HTMLImageElement?e.src||void 0:t,n,i,r),A.u.set(t,n,r,o)),o}var E=n(5752);function w(e,t,n,i){return void 0!==n&&void 0!==i?[n/e,i/t]:void 0!==n?n/e:void 0!==i?i/t:1}var b=function(e){function t(e){var n;(0,r.A)(this,t),e=e||{};var o=void 0!==e.opacity?e.opacity:1,l=void 0!==e.rotation?e.rotation:0,u=void 0!==e.scale?e.scale:1,c=void 0!==e.rotateWithView&&e.rotateWithView;n=(0,s.A)(this,t,[{opacity:o,rotation:l,scale:u,displacement:void 0!==e.displacement?e.displacement:[0,0],rotateWithView:c,declutterMode:e.declutterMode}]),n.anchor_=void 0!==e.anchor?e.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=void 0!==e.anchorOrigin?e.anchorOrigin:"top-left",n.anchorXUnits_=void 0!==e.anchorXUnits?e.anchorXUnits:"fraction",n.anchorYUnits_=void 0!==e.anchorYUnits?e.anchorYUnits:"fraction",n.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null;var h,p=void 0!==e.img?e.img:null,m=e.src;if((0,f.v)(!(void 0!==m&&p),"`image` and `src` cannot be provided at the same time"),void 0!==m&&0!==m.length||!p||(m=p.src||(0,E.v6)(p)),(0,f.v)(void 0!==m&&m.length>0,"A defined and non-empty `src` or `image` must be provided"),(0,f.v)(!((void 0!==e.width||void 0!==e.height)&&void 0!==e.scale),"`width` or `height` cannot be provided together with `scale`"),void 0!==e.src?h=d.A.IDLE:void 0!==p&&(h=p instanceof HTMLImageElement?p.complete?p.src?d.A.LOADED:d.A.IDLE:d.A.LOADING:d.A.LOADED),n.color_=void 0!==e.color?(0,g._j)(e.color):null,n.iconImage_=I(p,m,n.crossOrigin_,h,n.color_),n.offset_=void 0!==e.offset?e.offset:[0,0],n.offsetOrigin_=void 0!==e.offsetOrigin?e.offsetOrigin:"top-left",n.origin_=null,n.size_=void 0!==e.size?e.size:null,void 0!==e.width||void 0!==e.height){var v,y;if(e.size){var A=(0,i.A)(e.size,2);v=A[0],y=A[1]}else{var _=n.getImage(1);if(_.width&&_.height)v=_.width,y=_.height;else if(_ instanceof HTMLImageElement){n.initialOptions_=e;var C=function t(){if(n.unlistenImageChange(t),n.initialOptions_){var i=n.iconImage_.getSize();n.setScale(w(i[0],i[1],e.width,e.height))}};return n.listenImageChange(C),(0,a.A)(n)}}void 0!==v&&n.setScale(w(v,y,e.width,e.height))}return n}return(0,c.A)(t,e),(0,o.A)(t,[{key:"clone",value:function(){var e,n,i;return this.initialOptions_?(n=this.initialOptions_.width,i=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new t({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:n,height:i,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}},{key:"getAnchor",value:function(){var e=this.normalizedAnchor_;if(!e){e=this.anchor_;var t=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!t)return null;e=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(e[0]*=t[0]),"fraction"==this.anchorYUnits_&&(e[1]*=t[1])}if("top-left"!=this.anchorOrigin_){if(!t)return null;e===this.anchor_&&(e=this.anchor_.slice()),"top-right"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(e[0]=-e[0]+t[0]),"bottom-left"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(e[1]=-e[1]+t[1])}this.normalizedAnchor_=e}var n=this.getDisplacement(),i=this.getScaleArray();return[e[0]-n[0]/i[0],e[1]+n[1]/i[1]]}},{key:"setAnchor",value:function(e){this.anchor_=e,this.normalizedAnchor_=null}},{key:"getColor",value:function(){return this.color_}},{key:"getImage",value:function(e){return this.iconImage_.getImage(e)}},{key:"getPixelRatio",value:function(e){return this.iconImage_.getPixelRatio(e)}},{key:"getImageSize",value:function(){return this.iconImage_.getSize()}},{key:"getImageState",value:function(){return this.iconImage_.getImageState()}},{key:"getHitDetectionImage",value:function(){return this.iconImage_.getHitDetectionImage()}},{key:"getOrigin",value:function(){if(this.origin_)return this.origin_;var e=this.offset_;if("top-left"!=this.offsetOrigin_){var t=this.getSize(),n=this.iconImage_.getSize();if(!t||!n)return null;e=e.slice(),"top-right"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(e[0]=n[0]-t[0]-e[0]),"bottom-left"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(e[1]=n[1]-t[1]-e[1])}return this.origin_=e,this.origin_}},{key:"getSrc",value:function(){return this.iconImage_.getSrc()}},{key:"getSize",value:function(){return this.size_?this.size_:this.iconImage_.getSize()}},{key:"getWidth",value:function(){var e=this.getScaleArray();return this.size_?this.size_[0]*e[0]:this.iconImage_.getImageState()==d.A.LOADED?this.iconImage_.getSize()[0]*e[0]:void 0}},{key:"getHeight",value:function(){var e=this.getScaleArray();return this.size_?this.size_[1]*e[1]:this.iconImage_.getImageState()==d.A.LOADED?this.iconImage_.getSize()[1]*e[1]:void 0}},{key:"setScale",value:function(e){delete this.initialOptions_,(0,l.A)((0,u.A)(t.prototype),"setScale",this).call(this,e)}},{key:"listenImageChange",value:function(e){this.iconImage_.addEventListener(h.A.CHANGE,e)}},{key:"load",value:function(){this.iconImage_.load()}},{key:"unlistenImageChange",value:function(e){this.iconImage_.removeEventListener(h.A.CHANGE,e)}}])}(p.A),x=b},1382:function(e,t,n){"use strict";n.d(t,{u:function(){return l}});var i=n(5026),r=n(9492),o=n(5007),a=function(){function e(){(0,i.A)(this,e),this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return(0,r.A)(e,[{key:"clear",value:function(){this.cache_={},this.cacheSize_=0}},{key:"canExpireCache",value:function(){return this.cacheSize_>this.maxCacheSize_}},{key:"expire",value:function(){if(this.canExpireCache()){var e=0;for(var t in this.cache_){var n=this.cache_[t];0!==(3&e++)||n.hasListener()||(delete this.cache_[t],--this.cacheSize_)}}}},{key:"get",value:function(e,t,n){var i=s(e,t,n);return i in this.cache_?this.cache_[i]:null}},{key:"set",value:function(e,t,n,i){var r=s(e,t,n);this.cache_[r]=i,++this.cacheSize_}},{key:"setSize",value:function(e){this.maxCacheSize_=e,this.expire()}}])}();function s(e,t,n){var i=n?(0,o.oJ)(n):"null";return t+":"+e+":"+i}var l=new a},7749:function(e,t,n){"use strict";var i=n(5026),r=n(9492),o=(n(4782),n(5752)),a=n(5689),s=function(){function e(t){(0,i.A)(this,e),this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=(0,a.xq)(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}return(0,r.A)(e,[{key:"clone",value:function(){var t=this.getScale();return new e({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}},{key:"getOpacity",value:function(){return this.opacity_}},{key:"getRotateWithView",value:function(){return this.rotateWithView_}},{key:"getRotation",value:function(){return this.rotation_}},{key:"getScale",value:function(){return this.scale_}},{key:"getScaleArray",value:function(){return this.scaleArray_}},{key:"getDisplacement",value:function(){return this.displacement_}},{key:"getDeclutterMode",value:function(){return this.declutterMode_}},{key:"getAnchor",value:function(){return(0,o.b0)()}},{key:"getImage",value:function(e){return(0,o.b0)()}},{key:"getHitDetectionImage",value:function(){return(0,o.b0)()}},{key:"getPixelRatio",value:function(e){return 1}},{key:"getImageState",value:function(){return(0,o.b0)()}},{key:"getImageSize",value:function(){return(0,o.b0)()}},{key:"getOrigin",value:function(){return(0,o.b0)()}},{key:"getSize",value:function(){return(0,o.b0)()}},{key:"setDisplacement",value:function(e){this.displacement_=e}},{key:"setOpacity",value:function(e){this.opacity_=e}},{key:"setRotateWithView",value:function(e){this.rotateWithView_=e}},{key:"setRotation",value:function(e){this.rotation_=e}},{key:"setScale",value:function(e){this.scale_=e,this.scaleArray_=(0,a.xq)(e)}},{key:"listenImageChange",value:function(e){(0,o.b0)()}},{key:"load",value:function(){(0,o.b0)()}},{key:"unlistenImageChange",value:function(e){(0,o.b0)()}}])}();t.A=s},5023:function(e,t,n){"use strict";var i=n(5026),r=n(9492),o=n(5647),a=n(8578),s=(n(3771),n(4782),n(1410)),l=n(7749),u=n(5007),c=n(6294),h=n(7334),d=n(8911),p=function(e){function t(e){var n;(0,i.A)(this,t);var r=void 0!==e.rotateWithView&&e.rotateWithView;return n=(0,o.A)(this,t,[{opacity:1,rotateWithView:r,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode}]),n.canvases_,n.hitDetectionCanvas_=null,n.fill_=void 0!==e.fill?e.fill:null,n.origin_=[0,0],n.points_=e.points,n.radius_=void 0!==e.radius?e.radius:e.radius1,n.radius2_=e.radius2,n.angle_=void 0!==e.angle?e.angle:0,n.stroke_=void 0!==e.stroke?e.stroke:null,n.size_,n.renderOptions_,n.render(),n}return(0,a.A)(t,e),(0,r.A)(t,[{key:"clone",value:function(){var e=this.getScale(),n=new t({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}},{key:"getAnchor",value:function(){var e=this.size_,t=this.getDisplacement(),n=this.getScaleArray();return[e[0]/2-t[0]/n[0],e[1]/2+t[1]/n[1]]}},{key:"getAngle",value:function(){return this.angle_}},{key:"getFill",value:function(){return this.fill_}},{key:"setFill",value:function(e){this.fill_=e,this.render()}},{key:"getHitDetectionImage",value:function(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}},{key:"getImage",value:function(e){var t=this.canvases_[e];if(!t){var n=this.renderOptions_,i=(0,h.Y)(n.size*e,n.size*e);this.draw_(n,i,e),t=i.canvas,this.canvases_[e]=t}return t}},{key:"getPixelRatio",value:function(e){return e}},{key:"getImageSize",value:function(){return this.size_}},{key:"getImageState",value:function(){return s.A.LOADED}},{key:"getOrigin",value:function(){return this.origin_}},{key:"getPoints",value:function(){return this.points_}},{key:"getRadius",value:function(){return this.radius_}},{key:"getRadius2",value:function(){return this.radius2_}},{key:"getSize",value:function(){return this.size_}},{key:"getStroke",value:function(){return this.stroke_}},{key:"setStroke",value:function(e){this.stroke_=e,this.render()}},{key:"listenImageChange",value:function(e){}},{key:"load",value:function(){}},{key:"unlistenImageChange",value:function(e){}},{key:"calculateLineJoinSize_",value:function(e,t,n){if(0===t||this.points_===1/0||"bevel"!==e&&"miter"!==e)return t;var i=this.radius_,r=void 0===this.radius2_?i:this.radius2_;if(i<r){var o=i;i=r,r=o}var a=void 0===this.radius2_?this.points_:2*this.points_,s=2*Math.PI/a,l=r*Math.sin(s),u=Math.sqrt(r*r-l*l),c=i-u,h=Math.sqrt(l*l+c*c),d=h/l;if("miter"===e&&d<=n)return d*t;var p=t/2/d,g=t/2*(c/h),f=Math.sqrt((i+p)*(i+p)+g*g),m=f-i;if(void 0===this.radius2_||"bevel"===e)return 2*m;var v=i*Math.sin(s),y=Math.sqrt(i*i-v*v),A=r-y,_=Math.sqrt(v*v+A*A),C=_/v;if(C<=n){var I=C*t/2-r-i;return 2*Math.max(m,I)}return 2*m}},{key:"createRenderOptions",value:function(){var e,t,n,i,r,o,a,s=d._m,l=d._K,u=0,h=null,p=0,g=0;this.stroke_&&(e=(0,c.F)(null!==(t=this.stroke_.getColor())&&void 0!==t?t:d.NT),g=null!==(n=this.stroke_.getWidth())&&void 0!==n?n:d.aq,h=this.stroke_.getLineDash(),p=null!==(i=this.stroke_.getLineDashOffset())&&void 0!==i?i:0,l=null!==(r=this.stroke_.getLineJoin())&&void 0!==r?r:d._K,s=null!==(o=this.stroke_.getLineCap())&&void 0!==o?o:d._m,u=null!==(a=this.stroke_.getMiterLimit())&&void 0!==a?a:d.eL);var f=this.calculateLineJoinSize_(l,g,u),m=Math.max(this.radius_,this.radius2_||0),v=Math.ceil(2*m+f);return{strokeStyle:e,strokeWidth:g,size:v,lineCap:s,lineDash:h,lineDashOffset:p,lineJoin:l,miterLimit:u}}},{key:"render",value:function(){this.renderOptions_=this.createRenderOptions();var e=this.renderOptions_.size;this.canvases_={},this.hitDetectionCanvas_=null,this.size_=[e,e]}},{key:"draw_",value:function(e,t,n){if(t.scale(n,n),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){var i=this.fill_.getColor();null===i&&(i=d.qY),t.fillStyle=(0,c.F)(i),t.fill()}e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}},{key:"createHitDetectionCanvas_",value:function(e){var t;if(this.fill_){var n=this.fill_.getColor(),i=0;"string"===typeof n&&(n=(0,u._j)(n)),null===n?i=1:Array.isArray(n)&&(i=4===n.length?n[3]:1),0===i&&(t=(0,h.Y)(e.size,e.size),this.drawHitDetectionCanvas_(e,t))}return t?t.canvas:this.getImage(1)}},{key:"createPath_",value:function(e){var t=this.points_,n=this.radius_;if(t===1/0)e.arc(0,0,n,0,2*Math.PI);else{var i=void 0===this.radius2_?n:this.radius2_;void 0!==this.radius2_&&(t*=2);for(var r=this.angle_-Math.PI/2,o=2*Math.PI/t,a=0;a<t;a++){var s=r+a*o,l=a%2===0?n:i;e.lineTo(l*Math.cos(s),l*Math.sin(s))}e.closePath()}}},{key:"drawHitDetectionCanvas_",value:function(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=d.qY,t.fill(),e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}}])}(l.A);t.A=p},5782:function(e,t,n){"use strict";var i=n(5026),r=n(9492),o=(n(4782),function(){function e(t){(0,i.A)(this,e),t=t||{},this.color_=void 0!==t.color?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=void 0!==t.lineDash?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}return(0,r.A)(e,[{key:"clone",value:function(){var t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}},{key:"getColor",value:function(){return this.color_}},{key:"getLineCap",value:function(){return this.lineCap_}},{key:"getLineDash",value:function(){return this.lineDash_}},{key:"getLineDashOffset",value:function(){return this.lineDashOffset_}},{key:"getLineJoin",value:function(){return this.lineJoin_}},{key:"getMiterLimit",value:function(){return this.miterLimit_}},{key:"getWidth",value:function(){return this.width_}},{key:"setColor",value:function(e){this.color_=e}},{key:"setLineCap",value:function(e){this.lineCap_=e}},{key:"setLineDash",value:function(e){this.lineDash_=e}},{key:"setLineDashOffset",value:function(e){this.lineDashOffset_=e}},{key:"setLineJoin",value:function(e){this.lineJoin_=e}},{key:"setMiterLimit",value:function(e){this.miterLimit_=e}},{key:"setWidth",value:function(e){this.width_=e}}])}());t.A=o},6505:function(e,t,n){"use strict";n.d(t,{d1:function(){return p},mC:function(){return h},mY:function(){return g}});var i=n(4119),r=n(5026),o=n(9492),a=(n(8706),n(3771),n(5274)),s=n(8343),l=n(5782),u=n(1097),c=function(){function e(t){(0,r.A)(this,e),t=t||{},this.geometry_=null,this.geometryFunction_=f,void 0!==t.geometry&&this.setGeometry(t.geometry),this.fill_=void 0!==t.fill?t.fill:null,this.image_=void 0!==t.image?t.image:null,this.renderer_=void 0!==t.renderer?t.renderer:null,this.hitDetectionRenderer_=void 0!==t.hitDetectionRenderer?t.hitDetectionRenderer:null,this.stroke_=void 0!==t.stroke?t.stroke:null,this.text_=void 0!==t.text?t.text:null,this.zIndex_=t.zIndex}return(0,o.A)(e,[{key:"clone",value:function(){var t,n,r=this.getGeometry();return r&&"object"===(0,i.A)(r)&&(r=r.clone()),new e({geometry:null!==(t=r)&&void 0!==t?t:void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:null!==(n=this.getRenderer())&&void 0!==n?n:void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}},{key:"getRenderer",value:function(){return this.renderer_}},{key:"setRenderer",value:function(e){this.renderer_=e}},{key:"setHitDetectionRenderer",value:function(e){this.hitDetectionRenderer_=e}},{key:"getHitDetectionRenderer",value:function(){return this.hitDetectionRenderer_}},{key:"getGeometry",value:function(){return this.geometry_}},{key:"getGeometryFunction",value:function(){return this.geometryFunction_}},{key:"getFill",value:function(){return this.fill_}},{key:"setFill",value:function(e){this.fill_=e}},{key:"getImage",value:function(){return this.image_}},{key:"setImage",value:function(e){this.image_=e}},{key:"getStroke",value:function(){return this.stroke_}},{key:"setStroke",value:function(e){this.stroke_=e}},{key:"getText",value:function(){return this.text_}},{key:"setText",value:function(e){this.text_=e}},{key:"getZIndex",value:function(){return this.zIndex_}},{key:"setGeometry",value:function(e){"function"===typeof e?this.geometryFunction_=e:"string"===typeof e?this.geometryFunction_=function(t){return t.get(e)}:e?void 0!==e&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=f,this.geometry_=e}},{key:"setZIndex",value:function(e){this.zIndex_=e}}])}();function h(e){var t;if("function"===typeof e)t=e;else{var n;if(Array.isArray(e))n=e;else{(0,u.v)("function"===typeof e.getZIndex,"Expected an `Style` or an array of `Style`");var i=e;n=[i]}t=function(){return n}}return t}var d=null;function p(e,t){if(!d){var n=new s.A({color:"rgba(255,255,255,0.4)"}),i=new l.A({color:"#3399CC",width:1.25});d=[new c({image:new a.A({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return d}function g(){var e={},t=[255,255,255,1],n=[0,153,255,1],i=3;return e["Polygon"]=[new c({fill:new s.A({color:[255,255,255,.5]})})],e["MultiPolygon"]=e["Polygon"],e["LineString"]=[new c({stroke:new l.A({color:t,width:i+2})}),new c({stroke:new l.A({color:n,width:i})})],e["MultiLineString"]=e["LineString"],e["Circle"]=e["Polygon"].concat(e["LineString"]),e["Point"]=[new c({image:new a.A({radius:2*i,fill:new s.A({color:n}),stroke:new l.A({color:t,width:i/2})}),zIndex:1/0})],e["MultiPoint"]=e["Point"],e["GeometryCollection"]=e["Polygon"].concat(e["LineString"],e["Point"]),e}function f(e){return e.getGeometry()}t.Ay=c},6121:function(e,t,n){"use strict";var i=n(5026),r=n(9492),o=(n(3771),n(4782),n(2781),n(8343)),a=n(5689),s="#333",l=function(){function e(t){(0,i.A)(this,e),t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=(0,a.xq)(void 0!==t.scale?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=void 0!==t.fill?t.fill:new o.A({color:s}),this.maxAngle_=void 0!==t.maxAngle?t.maxAngle:Math.PI/4,this.placement_=void 0!==t.placement?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=void 0!==t.stroke?t.stroke:null,this.offsetX_=void 0!==t.offsetX?t.offsetX:0,this.offsetY_=void 0!==t.offsetY?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=void 0===t.padding?null:t.padding}return(0,r.A)(e,[{key:"clone",value:function(){var t=this.getScale();return new e({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}},{key:"getOverflow",value:function(){return this.overflow_}},{key:"getFont",value:function(){return this.font_}},{key:"getMaxAngle",value:function(){return this.maxAngle_}},{key:"getPlacement",value:function(){return this.placement_}},{key:"getRepeat",value:function(){return this.repeat_}},{key:"getOffsetX",value:function(){return this.offsetX_}},{key:"getOffsetY",value:function(){return this.offsetY_}},{key:"getFill",value:function(){return this.fill_}},{key:"getRotateWithView",value:function(){return this.rotateWithView_}},{key:"getRotation",value:function(){return this.rotation_}},{key:"getScale",value:function(){return this.scale_}},{key:"getScaleArray",value:function(){return this.scaleArray_}},{key:"getStroke",value:function(){return this.stroke_}},{key:"getText",value:function(){return this.text_}},{key:"getTextAlign",value:function(){return this.textAlign_}},{key:"getJustify",value:function(){return this.justify_}},{key:"getTextBaseline",value:function(){return this.textBaseline_}},{key:"getBackgroundFill",value:function(){return this.backgroundFill_}},{key:"getBackgroundStroke",value:function(){return this.backgroundStroke_}},{key:"getPadding",value:function(){return this.padding_}},{key:"setOverflow",value:function(e){this.overflow_=e}},{key:"setFont",value:function(e){this.font_=e}},{key:"setMaxAngle",value:function(e){this.maxAngle_=e}},{key:"setOffsetX",value:function(e){this.offsetX_=e}},{key:"setOffsetY",value:function(e){this.offsetY_=e}},{key:"setPlacement",value:function(e){this.placement_=e}},{key:"setRepeat",value:function(e){this.repeat_=e}},{key:"setRotateWithView",value:function(e){this.rotateWithView_=e}},{key:"setFill",value:function(e){this.fill_=e}},{key:"setRotation",value:function(e){this.rotation_=e}},{key:"setScale",value:function(e){this.scale_=e,this.scaleArray_=(0,a.xq)(void 0!==e?e:1)}},{key:"setStroke",value:function(e){this.stroke_=e}},{key:"setText",value:function(e){this.text_=e}},{key:"setTextAlign",value:function(e){this.textAlign_=e}},{key:"setJustify",value:function(e){this.justify_=e}},{key:"setTextBaseline",value:function(e){this.textBaseline_=e}},{key:"setBackgroundFill",value:function(e){this.backgroundFill_=e}},{key:"setBackgroundStroke",value:function(e){this.backgroundStroke_=e}},{key:"setPadding",value:function(e){this.padding_=e}}])}();t.A=l},8994:function(e,t,n){"use strict";n.d(t,{L:function(){return i},R:function(){return r}});var i=42,r=256},1194:function(e,t,n){"use strict";n.d(t,{Bb:function(){return d},T9:function(){return v},Tl:function(){return f},Zz:function(){return m},cL:function(){return l},dI:function(){return A},hs:function(){return p},k3:function(){return h},lw:function(){return u},rQ:function(){return g},vt:function(){return s}});n(8598);var i,r=n(502),o=n(1097),a=new Array(6);function s(){return[1,0,0,1,0,0]}function l(e){return c(e,1,0,0,1,0,0)}function u(e,t){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=t[0],u=t[1],c=t[2],h=t[3],d=t[4],p=t[5];return e[0]=n*l+r*u,e[1]=i*l+o*u,e[2]=n*c+r*h,e[3]=i*c+o*h,e[4]=n*d+r*p+a,e[5]=i*d+o*p+s,e}function c(e,t,n,i,r,o,a){return e[0]=t,e[1]=n,e[2]=i,e[3]=r,e[4]=o,e[5]=a,e}function h(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function d(e,t){var n=t[0],i=t[1];return t[0]=e[0]*n+e[2]*i+e[4],t[1]=e[1]*n+e[3]*i+e[5],t}function p(e,t,n){return u(e,c(a,t,0,0,n,0,0))}function g(e,t,n){return c(e,t,0,0,n,0,0)}function f(e,t,n){return u(e,c(a,1,0,0,1,t,n))}function m(e,t,n,i,r,o,a,s){var l=Math.sin(o),u=Math.cos(o);return e[0]=i*u,e[1]=r*l,e[2]=-i*l,e[3]=r*u,e[4]=a*i*u-s*i*l+t,e[5]=a*r*l+s*r*u+n,e}function v(e,t){var n=y(t);(0,o.v)(0!==n,"Transformation matrix cannot be inverted");var i=t[0],r=t[1],a=t[2],s=t[3],l=t[4],u=t[5];return e[0]=s/n,e[1]=-r/n,e[2]=-a/n,e[3]=i/n,e[4]=(a*u-s*l)/n,e[5]=-(i*u-r*l)/n,e}function y(e){return e[0]*e[3]-e[1]*e[2]}function A(e){var t="matrix("+e.join(", ")+")";if(r.Wl)return t;var n=i||(i=document.createElement("div"));return n.style.transform=t,n.style.transform}},5752:function(e,t,n){"use strict";n.d(t,{b0:function(){return i},v6:function(){return o}});n(6280);function i(){throw new Error("Unimplemented abstract method.")}var r=0;function o(e){return e.ol_uid||(e.ol_uid=String(++r))}},3387:function(e,t,n){"use strict";n.d(t,{Dm:function(){return _},Gl:function(){return A},NQ:function(){return w},OL:function(){return y},Tb:function(){return d},UN:function(){return C},VT:function(){return h},Vh:function(){return c},X1:function(){return v},YE:function(){return P},c4:function(){return p},eY:function(){return I},gN:function(){return m},kW:function(){return g},mT:function(){return a},mc:function(){return x},mm:function(){return f},pF:function(){return r},qg:function(){return u},qq:function(){return o},wz:function(){return l}});n(8598),n(4114),n(7495),n(5440);var i=n(6232),r="http://www.w3.org/2001/XMLSchema-instance";function o(e,t){return P().createElementNS(e,t)}function a(e,t){return s(e,t,[]).join("")}function s(e,t,n){var i;if(e.nodeType==Node.CDATA_SECTION_NODE||e.nodeType==Node.TEXT_NODE)t?n.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):n.push(e.nodeValue);else for(i=e.firstChild;i;i=i.nextSibling)s(i,t,n);return n}function l(e){return"documentElement"in e}function u(e){return(new DOMParser).parseFromString(e,"application/xml")}function c(e,t){return function(n,r){var o=e.call(void 0!==t?t:this,n,r);if(void 0!==o){var a=r[r.length-1];(0,i.X$)(a,o)}}}function h(e,t){return function(n,i){var r=e.call(void 0!==t?t:this,n,i);if(void 0!==r){var o=i[i.length-1];o.push(r)}}}function d(e,t){return function(n,i){var r=e.call(void 0!==t?t:this,n,i);void 0!==r&&(i[i.length-1]=r)}}function p(e,t,n){return function(i,r){var o=e.call(void 0!==n?n:this,i,r);if(void 0!==o){var a,s=r[r.length-1],l=void 0!==t?t:i.localName;l in s?a=s[l]:(a=[],s[l]=a),a.push(o)}}}function g(e,t,n){return function(i,r){var o=e.call(void 0!==n?n:this,i,r);if(void 0!==o){var a=r[r.length-1],s=void 0!==t?t:i.localName;a[s]=o}}}function f(e,t){return function(n,i,r){e.call(void 0!==t?t:this,n,i,r);var o=r[r.length-1],a=o.node;a.appendChild(n)}}function m(e,t){var n,i;return function(t,r,o){if(void 0===n){n={};var a={};a[t.localName]=e,n[t.namespaceURI]=a,i=v(t.localName)}E(n,i,r,o)}}function v(e,t){return function(n,i,r){var a=i[i.length-1],s=a.node,l=e;void 0===l&&(l=r);var u=void 0!==t?t:s.namespaceURI;return o(u,l)}}var y=v();function A(e,t){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=e[t[r]];return i}function _(e,t,n){var i,r;for(n=void 0!==n?n:{},i=0,r=e.length;i<r;++i)n[e[i]]=t;return n}function C(e,t,n,i){var r;for(r=t.firstElementChild;r;r=r.nextElementSibling){var o=e[r.namespaceURI];if(void 0!==o){var a=o[r.localName];void 0!==a&&a.call(i,r,n)}}}function I(e,t,n,i,r){return i.push(e),C(t,n,i,r),i.pop()}function E(e,t,n,i,r,o){for(var a,s,l=(void 0!==r?r:n).length,u=0;u<l;++u)a=n[u],void 0!==a&&(s=t.call(void 0!==o?o:this,a,i,void 0!==r?r[u]:void 0),void 0!==s&&e[s.namespaceURI][s.localName].call(o,s,a,i))}function w(e,t,n,i,r,o,a){return r.push(e),E(t,n,i,r,o,a),r.pop()}var b=void 0;function x(){return void 0===b&&"undefined"!==typeof XMLSerializer&&(b=new XMLSerializer),b}var S=void 0;function P(){return void 0===S&&"undefined"!==typeof document&&(S=document.implementation.createDocument("","",null)),S}},5220:function(e,t,n){"use strict";n.d(t,{aE:function(){return Ke},sC:function(){return te}});var i=n(641),r=n(953);
/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */
const o="undefined"!==typeof document;function a(e){return e.__esModule||"Module"===e[Symbol.toStringTag]}const s=Object.assign;function l(e,t){const n={};for(const i in t){const r=t[i];n[i]=c(r)?r.map(e):e(r)}return n}const u=()=>{},c=Array.isArray;const h=/#/g,d=/&/g,p=/\//g,g=/=/g,f=/\?/g,m=/\+/g,v=/%5B/g,y=/%5D/g,A=/%5E/g,_=/%60/g,C=/%7B/g,I=/%7C/g,E=/%7D/g,w=/%20/g;function b(e){return encodeURI(""+e).replace(I,"|").replace(v,"[").replace(y,"]")}function x(e){return b(e).replace(C,"{").replace(E,"}").replace(A,"^")}function S(e){return b(e).replace(m,"%2B").replace(w,"+").replace(h,"%23").replace(d,"%26").replace(_,"`").replace(C,"{").replace(E,"}").replace(A,"^")}function P(e){return S(e).replace(g,"%3D")}function M(e){return b(e).replace(h,"%23").replace(f,"%3F")}function k(e){return null==e?"":M(e).replace(p,"%2F")}function R(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}const T=/\/$/,L=e=>e.replace(T,"");function G(e,t,n="/"){let i,r={},o="",a="";const s=t.indexOf("#");let l=t.indexOf("?");return s<l&&s>=0&&(l=-1),l>-1&&(i=t.slice(0,l),o=t.slice(l+1,s>-1?s:t.length),r=e(o)),s>-1&&(i=i||t.slice(0,s),a=t.slice(s,t.length)),i=j(null!=i?i:t,n),{fullPath:i+(o&&"?")+o+a,path:i,query:r,hash:R(a)}}function O(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function D(e,t,n){const i=t.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&N(t.matched[i],n.matched[r])&&F(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function N(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function F(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!U(e[n],t[n]))return!1;return!0}function U(e,t){return c(e)?B(e,t):c(t)?B(t,e):e===t}function B(e,t){return c(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}function j(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),r=i[i.length-1];".."!==r&&"."!==r||i.push("");let o,a,s=n.length-1;for(o=0;o<i.length;o++)if(a=i[o],"."!==a){if(".."!==a)break;s>1&&s--}return n.slice(0,s).join("/")+"/"+i.slice(o).join("/")}var z,W;(function(e){e["pop"]="pop",e["push"]="push"})(z||(z={})),function(e){e["back"]="back",e["forward"]="forward",e["unknown"]=""}(W||(W={}));const V="";function Y(e){if(!e)if(o){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),L(e)}const H=/^[^#]+#/;function q(e,t){return e.replace(H,"#")+t}function X(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const Z=()=>({left:window.scrollX,top:window.scrollY});function K(e){let t;if("el"in e){const n=e.el,i="string"===typeof n&&n.startsWith("#");0;const r="string"===typeof n?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=X(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.scrollX,null!=t.top?t.top:window.scrollY)}function J(e,t){const n=history.state?history.state.position-t:-1;return n+e}const Q=new Map;function $(e,t){Q.set(e,t)}function ee(e){const t=Q.get(e);return Q.delete(e),t}function te(e=""){let t=[],n=[V],i=0;function r(e){i++,i!==n.length&&n.splice(i),n.push(e)}function o(e,n,{direction:i,delta:r}){const o={direction:i,delta:r,type:z.pop};for(const a of t)a(e,n,o)}e=Y(e);const a={location:V,state:{},base:e,createHref:q.bind(null,e),replace(e){n.splice(i--,1),r(e)},push(e,t){r(e)},listen(e){return t.push(e),()=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)}},destroy(){t=[],n=[V],i=0},go(e,t=!0){const r=this.location,a=e<0?W.back:W.forward;i=Math.max(0,Math.min(i+e,n.length-1)),t&&o(this.location,r,{direction:a,delta:e})}};return Object.defineProperty(a,"location",{enumerable:!0,get:()=>n[i]}),a}function ne(e){return"string"===typeof e||e&&"object"===typeof e}function ie(e){return"string"===typeof e||"symbol"===typeof e}const re={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},oe=Symbol("");var ae;(function(e){e[e["aborted"]=4]="aborted",e[e["cancelled"]=8]="cancelled",e[e["duplicated"]=16]="duplicated"})(ae||(ae={}));function se(e,t){return s(new Error,{type:e,[oe]:!0},t)}function le(e,t){return e instanceof Error&&oe in e&&(null==t||!!(e.type&t))}const ue="[^/]+?",ce={sensitive:!1,strict:!1,start:!0,end:!0},he=/[.+*?^${}()[\]/\\]/g;function de(e,t){const n=s({},ce,t),i=[];let r=n.start?"^":"";const o=[];for(const s of e){const e=s.length?[]:[90];n.strict&&!s.length&&(r+="/");for(let t=0;t<s.length;t++){const i=s[t];let a=40+(n.sensitive?.25:0);if(0===i.type)t||(r+="/"),r+=i.value.replace(he,"\\$&"),a+=40;else if(1===i.type){const{value:e,repeatable:n,optional:l,regexp:u}=i;o.push({name:e,repeatable:n,optional:l});const c=u||ue;if(c!==ue){a+=10;try{new RegExp(`(${c})`)}catch(h){throw new Error(`Invalid custom RegExp for param "${e}" (${c}): `+h.message)}}let d=n?`((?:${c})(?:/(?:${c}))*)`:`(${c})`;t||(d=l&&s.length<2?`(?:/${d})`:"/"+d),l&&(d+="?"),r+=d,a+=20,l&&(a+=-8),n&&(a+=-20),".*"===c&&(a+=-50)}e.push(a)}i.push(e)}if(n.strict&&n.end){const e=i.length-1;i[e][i[e].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const a=new RegExp(r,n.sensitive?"":"i");function l(e){const t=e.match(a),n={};if(!t)return null;for(let i=1;i<t.length;i++){const e=t[i]||"",r=o[i-1];n[r.name]=e&&r.repeatable?e.split("/"):e}return n}function u(t){let n="",i=!1;for(const r of e){i&&n.endsWith("/")||(n+="/"),i=!1;for(const e of r)if(0===e.type)n+=e.value;else if(1===e.type){const{value:o,repeatable:a,optional:s}=e,l=o in t?t[o]:"";if(c(l)&&!a)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const u=c(l)?l.join("/"):l;if(!u){if(!s)throw new Error(`Missing required param "${o}"`);r.length<2&&(n.endsWith("/")?n=n.slice(0,-1):i=!0)}n+=u}}return n||"/"}return{re:a,score:i,keys:o,parse:l,stringify:u}}function pe(e,t){let n=0;while(n<e.length&&n<t.length){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function ge(e,t){let n=0;const i=e.score,r=t.score;while(n<i.length&&n<r.length){const e=pe(i[n],r[n]);if(e)return e;n++}if(1===Math.abs(r.length-i.length)){if(fe(i))return 1;if(fe(r))return-1}return r.length-i.length}function fe(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const me={type:0,value:""},ve=/[a-zA-Z0-9_]/;function ye(e){if(!e)return[[]];if("/"===e)return[[me]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${u}": ${e}`)}let n=0,i=n;const r=[];let o;function a(){o&&r.push(o),o=[]}let s,l=0,u="",c="";function h(){u&&(0===n?o.push({type:0,value:u}):1===n||2===n||3===n?(o.length>1&&("*"===s||"+"===s)&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:c,repeatable:"*"===s||"+"===s,optional:"*"===s||"?"===s})):t("Invalid state to consume buffer"),u="")}function d(){u+=s}while(l<e.length)if(s=e[l++],"\\"!==s||2===n)switch(n){case 0:"/"===s?(u&&h(),a()):":"===s?(h(),n=1):d();break;case 4:d(),n=i;break;case 1:"("===s?n=2:ve.test(s)?d():(h(),n=0,"*"!==s&&"?"!==s&&"+"!==s&&l--);break;case 2:")"===s?"\\"==c[c.length-1]?c=c.slice(0,-1)+s:n=3:c+=s;break;case 3:h(),n=0,"*"!==s&&"?"!==s&&"+"!==s&&l--,c="";break;default:t("Unknown state");break}else i=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${u}"`),h(),a(),r}function Ae(e,t,n){const i=de(ye(e.path),n);const r=s(i,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf===!t.record.aliasOf&&t.children.push(r),r}function _e(e,t){const n=[],i=new Map;function r(e){return i.get(e)}function o(e,n,i){const r=!i,l=Ie(e);l.aliasOf=i&&i.record;const h=xe(t,e),d=[l];if("alias"in e){const t="string"===typeof e.alias?[e.alias]:e.alias;for(const e of t)d.push(s({},l,{components:i?i.record.components:l.components,path:e,aliasOf:i?i.record:l}))}let p,g;for(const t of d){const{path:s}=t;if(n&&"/"!==s[0]){const e=n.record.path,i="/"===e[e.length-1]?"":"/";t.path=n.record.path+(s&&i+s)}if(p=Ae(t,n,h),i?i.alias.push(p):(g=g||p,g!==p&&g.alias.push(p),r&&e.name&&!we(p)&&a(e.name)),l.children){const e=l.children;for(let t=0;t<e.length;t++)o(e[t],p,i&&i.children[t])}i=i||p,(p.record.components&&Object.keys(p.record.components).length||p.record.name||p.record.redirect)&&c(p)}return g?()=>{a(g)}:u}function a(e){if(ie(e)){const t=i.get(e);t&&(i.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(a),t.alias.forEach(a))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&i.delete(e.record.name),e.children.forEach(a),e.alias.forEach(a))}}function l(){return n}function c(e){let t=0;while(t<n.length&&ge(e,n[t])>=0&&(e.record.path!==n[t].record.path||!Se(e,n[t])))t++;n.splice(t,0,e),e.record.name&&!we(e)&&i.set(e.record.name,e)}function h(e,t){let r,o,a,l={};if("name"in e&&e.name){if(r=i.get(e.name),!r)throw se(1,{location:e});0,a=r.record.name,l=s(Ce(t.params,r.keys.filter((e=>!e.optional)).concat(r.parent?r.parent.keys.filter((e=>e.optional)):[]).map((e=>e.name))),e.params&&Ce(e.params,r.keys.map((e=>e.name)))),o=r.stringify(l)}else if(null!=e.path)o=e.path,r=n.find((e=>e.re.test(o))),r&&(l=r.parse(o),a=r.record.name);else{if(r=t.name?i.get(t.name):n.find((e=>e.re.test(t.path))),!r)throw se(1,{location:e,currentLocation:t});a=r.record.name,l=s({},t.params,e.params),o=r.stringify(l)}const u=[];let c=r;while(c)u.unshift(c.record),c=c.parent;return{name:a,path:o,params:l,matched:u,meta:be(u)}}return t=xe({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>o(e))),{addRoute:o,resolve:h,removeRoute:a,getRoutes:l,getRecordMatcher:r}}function Ce(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function Ie(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Ee(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Ee(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]="object"===typeof n?n[i]:n;return t}function we(e){while(e){if(e.record.aliasOf)return!0;e=e.parent}return!1}function be(e){return e.reduce(((e,t)=>s(e,t.meta)),{})}function xe(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function Se(e,t){return t.children.some((t=>t===e||Se(e,t)))}function Pe(e){const t={};if(""===e||"?"===e)return t;const n="?"===e[0],i=(n?e.slice(1):e).split("&");for(let r=0;r<i.length;++r){const e=i[r].replace(m," "),n=e.indexOf("="),o=R(n<0?e:e.slice(0,n)),a=n<0?null:R(e.slice(n+1));if(o in t){let e=t[o];c(e)||(e=t[o]=[e]),e.push(a)}else t[o]=a}return t}function Me(e){let t="";for(let n in e){const i=e[n];if(n=P(n),null==i){void 0!==i&&(t+=(t.length?"&":"")+n);continue}const r=c(i)?i.map((e=>e&&S(e))):[i&&S(i)];r.forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))}))}return t}function ke(e){const t={};for(const n in e){const i=e[n];void 0!==i&&(t[n]=c(i)?i.map((e=>null==e?null:""+e)):null==i?i:""+i)}return t}const Re=Symbol(""),Te=Symbol(""),Le=Symbol(""),Ge=Symbol(""),Oe=Symbol("");function De(){let e=[];function t(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Ne(e,t,n,i,r,o=(e=>e())){const a=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise(((s,l)=>{const u=e=>{!1===e?l(se(4,{from:n,to:t})):e instanceof Error?l(e):ne(e)?l(se(2,{from:t,to:e})):(a&&i.enterCallbacks[r]===a&&"function"===typeof e&&a.push(e),s())},c=o((()=>e.call(i&&i.instances[r],t,n,u)));let h=Promise.resolve(c);e.length<3&&(h=h.then(u)),h.catch((e=>l(e)))}))}function Fe(e,t,n,i,r=(e=>e())){const o=[];for(const s of e){0;for(const e in s.components){let l=s.components[e];if("beforeRouteEnter"===t||s.instances[e])if(Ue(l)){const a=l.__vccOpts||l,u=a[t];u&&o.push(Ne(u,n,i,s,e,r))}else{let u=l();0,o.push((()=>u.then((o=>{if(!o)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${s.path}"`));const l=a(o)?o.default:o;s.components[e]=l;const u=l.__vccOpts||l,c=u[t];return c&&Ne(c,n,i,s,e,r)()}))))}}}return o}function Ue(e){return"object"===typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}function Be(e){const t=(0,i.WQ)(Le),n=(0,i.WQ)(Ge),o=(0,i.EW)((()=>t.resolve((0,r.R1)(e.to)))),a=(0,i.EW)((()=>{const{matched:e}=o.value,{length:t}=e,i=e[t-1],r=n.matched;if(!i||!r.length)return-1;const a=r.findIndex(N.bind(null,i));if(a>-1)return a;const s=Ye(e[t-2]);return t>1&&Ye(i)===s&&r[r.length-1].path!==s?r.findIndex(N.bind(null,e[t-2])):a})),s=(0,i.EW)((()=>a.value>-1&&Ve(n.params,o.value.params))),l=(0,i.EW)((()=>a.value>-1&&a.value===n.matched.length-1&&F(n.params,o.value.params)));function c(n={}){return We(n)?t[(0,r.R1)(e.replace)?"replace":"push"]((0,r.R1)(e.to)).catch(u):Promise.resolve()}return{route:o,href:(0,i.EW)((()=>o.value.href)),isActive:s,isExactActive:l,navigate:c}}const je=(0,i.pM)({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Be,setup(e,{slots:t}){const n=(0,r.Kh)(Be(e)),{options:o}=(0,i.WQ)(Le),a=(0,i.EW)((()=>({[He(e.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[He(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const r=t.default&&t.default(n);return e.custom?r:(0,i.h)("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},r)}}}),ze=je;function We(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Ve(e,t){for(const n in t){const i=t[n],r=e[n];if("string"===typeof i){if(i!==r)return!1}else if(!c(r)||r.length!==i.length||i.some(((e,t)=>e!==r[t])))return!1}return!0}function Ye(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const He=(e,t,n)=>null!=e?e:null!=t?t:n,qe=(0,i.pM)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const o=(0,i.WQ)(Oe),a=(0,i.EW)((()=>e.route||o.value)),l=(0,i.WQ)(Te,0),u=(0,i.EW)((()=>{let e=(0,r.R1)(l);const{matched:t}=a.value;let n;while((n=t[e])&&!n.components)e++;return e})),c=(0,i.EW)((()=>a.value.matched[u.value]));(0,i.Gt)(Te,(0,i.EW)((()=>u.value+1))),(0,i.Gt)(Re,c),(0,i.Gt)(Oe,a);const h=(0,r.KR)();return(0,i.wB)((()=>[h.value,c.value,e.name]),(([e,t,n],[i,r,o])=>{t&&(t.instances[n]=e,r&&r!==t&&e&&e===i&&(t.leaveGuards.size||(t.leaveGuards=r.leaveGuards),t.updateGuards.size||(t.updateGuards=r.updateGuards))),!e||!t||r&&N(t,r)&&i||(t.enterCallbacks[n]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const r=a.value,o=e.name,l=c.value,u=l&&l.components[o];if(!u)return Xe(n.default,{Component:u,route:r});const d=l.props[o],p=d?!0===d?r.params:"function"===typeof d?d(r):d:null,g=e=>{e.component.isUnmounted&&(l.instances[o]=null)},f=(0,i.h)(u,s({},p,t,{onVnodeUnmounted:g,ref:h}));return Xe(n.default,{Component:f,route:r})||f}}});function Xe(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const Ze=qe;function Ke(e){const t=_e(e.routes,e),n=e.parseQuery||Pe,a=e.stringifyQuery||Me,h=e.history;const d=De(),p=De(),g=De(),f=(0,r.IJ)(re);let m=re;o&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const v=l.bind(null,(e=>""+e)),y=l.bind(null,k),A=l.bind(null,R);function _(e,n){let i,r;return ie(e)?(i=t.getRecordMatcher(e),r=n):r=e,t.addRoute(r,i)}function C(e){const n=t.getRecordMatcher(e);n&&t.removeRoute(n)}function I(){return t.getRoutes().map((e=>e.record))}function E(e){return!!t.getRecordMatcher(e)}function w(e,i){if(i=s({},i||f.value),"string"===typeof e){const r=G(n,e,i.path),o=t.resolve({path:r.path},i),a=h.createHref(r.fullPath);return s(r,o,{params:A(o.params),hash:R(r.hash),redirectedFrom:void 0,href:a})}let r;if(null!=e.path)r=s({},e,{path:G(n,e.path,i.path).path});else{const t=s({},e.params);for(const e in t)null==t[e]&&delete t[e];r=s({},e,{params:y(t)}),i.params=y(i.params)}const o=t.resolve(r,i),l=e.hash||"";o.params=v(A(o.params));const u=O(a,s({},e,{hash:x(l),path:o.path})),c=h.createHref(u);return s({fullPath:u,hash:l,query:a===Me?ke(e.query):e.query||{}},o,{redirectedFrom:void 0,href:c})}function b(e){return"string"===typeof e?G(n,e,f.value.path):s({},e)}function S(e,t){if(m!==e)return se(8,{from:t,to:e})}function P(e){return L(e)}function M(e){return P(s(b(e),{replace:!0}))}function T(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let i="function"===typeof n?n(e):n;return"string"===typeof i&&(i=i.includes("?")||i.includes("#")?i=b(i):{path:i},i.params={}),s({query:e.query,hash:e.hash,params:null!=i.path?{}:e.params},i)}}function L(e,t){const n=m=w(e),i=f.value,r=e.state,o=e.force,l=!0===e.replace,u=T(n);if(u)return L(s(b(u),{state:"object"===typeof u?s({},r,u.state):r,force:o,replace:l}),t||n);const c=n;let h;return c.redirectedFrom=t,!o&&D(a,i,n)&&(h=se(16,{to:c,from:i}),ne(i,i,!0,!1)),(h?Promise.resolve(h):U(c,i)).catch((e=>le(e)?le(e,2)?e:te(e):X(e,c,i))).then((e=>{if(e){if(le(e,2))return L(s({replace:l},b(e.to),{state:"object"===typeof e.to?s({},r,e.to.state):r,force:o}),t||c)}else e=j(c,i,!0,l,r);return B(c,i,e),e}))}function N(e,t){const n=S(e,t);return n?Promise.reject(n):Promise.resolve()}function F(e){const t=ue.values().next().value;return t&&"function"===typeof t.runWithContext?t.runWithContext(e):e()}function U(e,t){let n;const[i,r,o]=Je(e,t);n=Fe(i.reverse(),"beforeRouteLeave",e,t);for(const s of i)s.leaveGuards.forEach((i=>{n.push(Ne(i,e,t))}));const a=N.bind(null,e,t);return n.push(a),he(n).then((()=>{n=[];for(const i of d.list())n.push(Ne(i,e,t));return n.push(a),he(n)})).then((()=>{n=Fe(r,"beforeRouteUpdate",e,t);for(const i of r)i.updateGuards.forEach((i=>{n.push(Ne(i,e,t))}));return n.push(a),he(n)})).then((()=>{n=[];for(const i of o)if(i.beforeEnter)if(c(i.beforeEnter))for(const r of i.beforeEnter)n.push(Ne(r,e,t));else n.push(Ne(i.beforeEnter,e,t));return n.push(a),he(n)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),n=Fe(o,"beforeRouteEnter",e,t,F),n.push(a),he(n)))).then((()=>{n=[];for(const i of p.list())n.push(Ne(i,e,t));return n.push(a),he(n)})).catch((e=>le(e,8)?e:Promise.reject(e)))}function B(e,t,n){g.list().forEach((i=>F((()=>i(e,t,n)))))}function j(e,t,n,i,r){const a=S(e,t);if(a)return a;const l=t===re,u=o?history.state:{};n&&(i||l?h.replace(e.fullPath,s({scroll:l&&u&&u.scroll},r)):h.push(e.fullPath,r)),f.value=e,ne(e,t,n,l),te()}let W;function V(){W||(W=h.listen(((e,t,n)=>{if(!ce.listening)return;const i=w(e),r=T(i);if(r)return void L(s(r,{replace:!0}),i).catch(u);m=i;const a=f.value;o&&$(J(a.fullPath,n.delta),Z()),U(i,a).catch((e=>le(e,12)?e:le(e,2)?(L(e.to,i).then((e=>{le(e,20)&&!n.delta&&n.type===z.pop&&h.go(-1,!1)})).catch(u),Promise.reject()):(n.delta&&h.go(-n.delta,!1),X(e,i,a)))).then((e=>{e=e||j(i,a,!1),e&&(n.delta&&!le(e,8)?h.go(-n.delta,!1):n.type===z.pop&&le(e,20)&&h.go(-1,!1)),B(i,a,e)})).catch(u)})))}let Y,H=De(),q=De();function X(e,t,n){te(e);const i=q.list();return i.length?i.forEach((i=>i(e,t,n))):console.error(e),Promise.reject(e)}function Q(){return Y&&f.value!==re?Promise.resolve():new Promise(((e,t)=>{H.add([e,t])}))}function te(e){return Y||(Y=!e,V(),H.list().forEach((([t,n])=>e?n(e):t())),H.reset()),e}function ne(t,n,r,a){const{scrollBehavior:s}=e;if(!o||!s)return Promise.resolve();const l=!r&&ee(J(t.fullPath,0))||(a||!r)&&history.state&&history.state.scroll||null;return(0,i.dY)().then((()=>s(t,n,l))).then((e=>e&&K(e))).catch((e=>X(e,t,n)))}const oe=e=>h.go(e);let ae;const ue=new Set,ce={currentRoute:f,listening:!0,addRoute:_,removeRoute:C,hasRoute:E,getRoutes:I,resolve:w,options:e,push:P,replace:M,go:oe,back:()=>oe(-1),forward:()=>oe(1),beforeEach:d.add,beforeResolve:p.add,afterEach:g.add,onError:q.add,isReady:Q,install(e){const t=this;e.component("RouterLink",ze),e.component("RouterView",Ze),e.config.globalProperties.$router=t,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,r.R1)(f)}),o&&!ae&&f.value===re&&(ae=!0,P(h.location).catch((e=>{0})));const n={};for(const r in re)Object.defineProperty(n,r,{get:()=>f.value[r],enumerable:!0});e.provide(Le,t),e.provide(Ge,(0,r.Gc)(n)),e.provide(Oe,f);const i=e.unmount;ue.add(e),e.unmount=function(){ue.delete(e),ue.size<1&&(m=re,W&&W(),W=null,f.value=re,ae=!1,Y=!1),i()}}};function he(e){return e.reduce(((e,t)=>e.then((()=>F(t)))),Promise.resolve())}return ce}function Je(e,t){const n=[],i=[],r=[],o=Math.max(t.matched.length,e.matched.length);for(let a=0;a<o;a++){const o=t.matched[a];o&&(e.matched.find((e=>N(e,o)))?i.push(o):n.push(o));const s=e.matched[a];s&&(t.matched.find((e=>N(e,s)))||r.push(s))}return[n,i,r]}}}]);
//# sourceMappingURL=chunk-vendors-legacy.ad3c4bc9.js.map